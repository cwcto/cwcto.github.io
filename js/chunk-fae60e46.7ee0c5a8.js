(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fae60e46"],{"1be4":function(e,t,c){var n=c("d066");e.exports=n("document","documentElement")},"33d1":function(e,t,c){"use strict";var n=c("23e7"),i=c("7b0b"),o=c("07fa"),a=c("5926"),l=c("44d2");n({target:"Array",proto:!0},{at:function(e){var t=i(this),c=o(t),n=a(e),l=n>=0?n:c+n;return l<0||l>=c?void 0:t[l]}}),l("at")},"37e8":function(e,t,c){var n=c("83ab"),i=c("aed9"),o=c("9bf2"),a=c("825a"),l=c("fc6a"),r=c("df75");t.f=n&&!i?Object.defineProperties:function(e,t){a(e);var c,n=l(t),i=r(t),s=i.length,d=0;while(s>d)o.f(e,c=i[d++],n[c]);return e}},"3cfa":function(e,t,c){},"44d2":function(e,t,c){var n=c("b622"),i=c("7c73"),o=c("9bf2").f,a=n("unscopables"),l=Array.prototype;void 0==l[a]&&o(l,a,{configurable:!0,value:i(null)}),e.exports=function(e){l[a][e]=!0}},"7c73":function(e,t,c){var n,i=c("825a"),o=c("37e8"),a=c("7839"),l=c("d012"),r=c("1be4"),s=c("cc12"),d=c("f772"),u=">",b="<",m="prototype",p="script",O=d("IE_PROTO"),h=function(){},j=function(e){return b+p+u+e+b+"/"+p+u},v=function(e){e.write(j("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){var e,t=s("iframe"),c="java"+p+":";return t.style.display="none",r.appendChild(t),t.src=String(c),e=t.contentWindow.document,e.open(),e.write(j("document.F=Object")),e.close(),e.F},k=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}k="undefined"!=typeof document?document.domain&&n?v(n):g():v(n);var e=a.length;while(e--)delete k[m][a[e]];return k()};l[O]=!0,e.exports=Object.create||function(e,t){var c;return null!==e?(h[m]=i(e),c=new h,h[m]=null,c[O]=e):c=k(),void 0===t?c:o.f(c,t)}},"8ded":function(e,t,c){"use strict";c("3cfa")},a4d3:function(e,t,c){"use strict";c("b1dc")},b1dc:function(e,t,c){},df75:function(e,t,c){var n=c("ca84"),i=c("7839");e.exports=Object.keys||function(e){return n(e,i)}},ea98:function(e,t,c){"use strict";var n=c("23e7"),i=c("e330"),o=c("1d80"),a=c("5926"),l=c("577e"),r=c("d039"),s=i("".charAt),d=r((function(){return"\ud842"!=="ð ®·".at(-2)}));n({target:"String",proto:!0,forced:d},{at:function(e){var t=l(o(this)),c=t.length,n=a(e),i=n>=0?n:c+n;return i<0||i>=c?void 0:s(t,i)}})},ee10:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),i=c("5902"),o=c.n(i);const a=e=>(Object(n["pushScopeId"])("data-v-728e7f8a"),e=e(),Object(n["popScopeId"])(),e),l={class:"closed-auction"},r={class:"title"},s={key:0,class:"coins-tabs-block"},d=["onClick"],u=["src"],b={class:"coin-tab-coin-ticker"},m={key:1,class:"window light"},p={key:0,class:"highlight-block"},O={key:1,class:"window-text"},h={key:2,class:"window-text"},j={key:3,class:"window-text"},v={class:"coin-timer-block"},g=["src"],k={key:4,class:"content-table"},y={class:"content-line"},f={class:"content-cell-1"},C={class:"bold-text"},w={class:"content-cell-2"},E={class:"bold-text blue-text"},_={key:5,class:"content-table"},N={class:"content-line"},V={class:"content-cell-1"},x={class:"bold-text"},$={class:"content-cell-2"},D={class:"bold-text"},P={key:6,class:"bold-text"},B={class:"blue-text"},S=a(()=>Object(n["createElementVNode"])("img",{class:"whale-circle",src:o.a},null,-1));function T(e,t,i,o,a,T){var M,I;const F=Object(n["resolveComponent"])("IncreaseLimitModal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("h1",r,Object(n["toDisplayString"])(e.$localizeFilter("closed_auction")),1),e.coins?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.coins,(t,i)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["coin-tab",t.selected?"selected":""]),key:i,onClick:t=>e.selectCoin(i)},[Object(n["createElementVNode"])("img",{class:"coin-tab-coin-icon",src:c("3619")(`./${e.$filters.lowercase(t.coinTicker)}_icon.png`)},null,8,u),Object(n["createElementVNode"])("p",b,Object(n["toDisplayString"])(t.coinTicker),1)],10,d))),128))])):Object(n["createCommentVNode"])("",!0),e.selectedCoin?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,[e.showHighlight?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",p)):Object(n["createCommentVNode"])("",!0),e.auctionRunning?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",O,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_running_text"))+" ",1),Object(n["createElementVNode"])("span",{class:"coin-link",onClick:t[0]||(t[0]=t=>e.openCoinPage())},Object(n["toDisplayString"])(e.currentCoinName),1),Object(n["createTextVNode"])(Object(n["toDisplayString"])(":"))])):e.auctionFinished?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",h,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_finished_text_1"))+" ",1),Object(n["createElementVNode"])("span",{class:"coin-link",onClick:t[1]||(t[1]=t=>e.openCoinPage())},Object(n["toDisplayString"])(e.currentCoinName),1),Object(n["createTextVNode"])(Object(n["toDisplayString"])(" "+e.$localizeFilter("closed_auction_finished_text_2")),1)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",j,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_waiting_text_1"))+" ",1),Object(n["createElementVNode"])("span",{class:"coin-link",onClick:t[2]||(t[2]=t=>e.openCoinPage())},Object(n["toDisplayString"])(e.currentCoinName),1),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_waiting_text_2")),1)])),Object(n["createElementVNode"])("div",v,[e.auctionFinished?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",{key:0,class:Object(n["normalizeClass"])(["timer",e.auctionRunning?"auction-running":""])},Object(n["toDisplayString"])(e.timeLeft),3)),Object(n["createElementVNode"])("img",{src:c("441f")("./"+e.currentCoinName+".png"),class:"image"},null,8,g)]),e.auctionRunning?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",k,[Object(n["createElementVNode"])("li",y,[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("p",C,Object(n["toDisplayString"])(e.startPriceText),1)]),Object(n["createElementVNode"])("div",w,[Object(n["createElementVNode"])("p",E,Object(n["toDisplayString"])("$"+e.startPrice),1)])])])):e.auctionFinished?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",_,[Object(n["createElementVNode"])("li",N,[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("p",x,Object(n["toDisplayString"])(e.$localizeFilter("coin_rate")),1)]),Object(n["createElementVNode"])("div",$,[Object(n["createElementVNode"])("p",D,Object(n["toDisplayString"])("$"+(null===(M=e.selectedCoin)||void 0===M?void 0:M.rateAfterClosedPresale)),1)])])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",P,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.startPriceText+" "),1),Object(n["createElementVNode"])("span",B,Object(n["toDisplayString"])("$"+(null!==(I=e.startPrice)&&void 0!==I?I:"")),1)])),e.auctionRunning||e.auctionFinished?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:7,class:"basic-button",onClick:t[3]||(t[3]=t=>{var c;return e.buyCoin(null===(c=e.selectedCoin)||void 0===c?void 0:c.coinTicker,e.youCanBuy)})},Object(n["toDisplayString"])(e.$localizeFilter("buy_now")),1)):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0),S,e.showIncreaseLimitModal?(Object(n["openBlock"])(),Object(n["createBlock"])(F,{key:2,coin:e.selectedCoin,rate:e.startPrice,clientId:e.clientId,onCloseModal:e.closeModals},null,8,["coin","rate","clientId","onCloseModal"])):Object(n["createCommentVNode"])("",!0)])}var M=c("ed09"),I=c("e977");const F={class:"modal-layout"},A={class:"new-modal-back-button-container"},W={class:"modal-content"},z={class:"top-block"},H={class:"window-title"},R={class:"text-amount-block"},L={class:"amount-block"},q={class:"window-text"},J={class:"input-field"},U=["placeholder"],G={class:"burn-cwpt-block"},Q={class:"window-text burn-cwpt-text"},X={class:"burn-cwpt-amount"},K={class:"button-block"};function Y(e,t,c,i,o,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",F,[Object(n["createElementVNode"])("div",{class:"darken",onClick:t[4]||(t[4]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(n["createElementVNode"])("div",{class:"new-modal increase-limit-modal",onClick:t[3]||(t[3]=Object(n["withModifiers"])(()=>{},["stop"]))},[Object(n["createElementVNode"])("div",A,[Object(n["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(n["createElementVNode"])("div",W,[Object(n["createElementVNode"])("div",z,[Object(n["createElementVNode"])("p",H,Object(n["toDisplayString"])(e.$localizeFilter("increase_limit_modal_title",[e.coin.coinTicker])),1)]),Object(n["createElementVNode"])("div",R,[Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("p",q,Object(n["toDisplayString"])(e.$localizeFilter("increase_limit_modal_text_1",[e.coin.coin])),1),Object(n["createElementVNode"])("div",J,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"amount",class:Object(n["normalizeClass"])(["custom-input-2",{invalid:e.v$.amount.$error}]),placeholder:e.$localizeFilter("amount_of",[e.coin.coinTicker]),type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t)},null,10,U),[[n["vModelText"],e.amount,void 0,{trim:!0}]]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.v$.amount.$errors,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("small",{class:"error",key:t},Object(n["toDisplayString"])(e.$message),1))),128))])])]),Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("p",Q,Object(n["toDisplayString"])(e.$localizeFilter("increase_limit_modal_text_2"))+":",1),Object(n["createElementVNode"])("p",X,Object(n["toDisplayString"])(e.amountCWPT+" CWPT"),1)]),Object(n["createElementVNode"])("div",K,[Object(n["createElementVNode"])("button",{class:"continue-button",onClick:t[2]||(t[2]=(...t)=>e.submitHandler&&e.submitHandler(...t))},Object(n["toDisplayString"])(e.$localizeFilter("continue")),1)])])])])])}c("33d1"),c("ea98");var Z=c("25a0"),ee=c("e3e1"),te=(c("da29"),Object(M["a"])({props:{coin:{type:Object,required:!0},rate:{type:Number,required:!0},clientId:{type:Number,required:!0}},validations(){return{amount:{required:ee["b"].withMessage(Object(I["a"])("field_must_not_be_empty"),ee["h"]),numeric:ee["b"].withMessage(Object(I["a"])("field_must_be_numeric"),ee["g"]),minValue:ee["b"].withMessage(Object(I["a"])("min_value",[this.minAmount]),Object(ee["f"])(this.minAmount))}}},setup(){return{v$:Object(Z["a"])()}},data:()=>({amount:null,minAmount:0}),computed:{amountCWPT(){return+((this.amount||0)*this.rate/10).toFixed(6)}},methods:{closeModal(e){this.$emit("closeModal",e)},async burnCWPT(){let e=!1;if(window.tronWeb){await tronWeb.trx.getAccount();let r=this.amountCWPT;r=1e6*r+"000000000000";let s=this.clientId,d=await tronWeb.contract().at("TLwGQimcVEuAdcfMRcjVxDCVy4h8wgEnBz"),u=this.coin.coinId,b=tronWeb.defaultAddress.base58;try{let l=await d.burn(r).send({feeLimit:1e8,callValue:0}),m=`CapitalWhale User Id: ${s}; Transaction Id: ${l}; Wallet Address: ${b}; Coin Id: ${u}`;var t=tronWeb.toHex(m).replace(/^0x/,""),c=tronWeb.utils.code.hexStr2byteArray(t),n=tronWeb.sha3(c).replace(/^0x/,""),i=await tronWeb.trx.sign(n),o=i.substring(128,130);"01"==o?i=i.substring(0,128)+"1c":"00"==o&&(i=i.substring(0,128)+"1b");await tronWeb.trx.verifyMessage(n,i,b);try{const t={address:b,signature:i,transactionId:l,coinId:u};await this.$store.dispatch("burnCWPT",t),e=!0}catch(a){this.$error(a)}}catch(l){}}else this.$error("TRON wallet not connected");return e},async submitHandler(){if(this.v$.$touch(),this.v$.$error)return;let e=await this.burnCWPT();this.closeModal(e)}}})),ce=(c("a4d3"),c("d959")),ne=c.n(ce);const ie=ne()(te,[["render",Y],["__scopeId","data-v-7851773d"]]);var oe=ie,ae=Object(M["a"])({data:()=>({selectedCoin:null,currTimestamp:+Date.now(),timerEndTimestamp:+Date.now(),showHighlight:!1,coins:null,showIncreaseLimitModal:!1}),setup(){},computed:{clientId(){return this.$store.getters.profile.id},auctionRunning(){var e;return"live"===(null===(e=this.selectedCoin)||void 0===e?void 0:e.type)},auctionFinished(){var e;return"finished"===(null===(e=this.selectedCoin)||void 0===e?void 0:e.type)},currentCoinName(){var e;return null===(e=this.selectedCoin)||void 0===e?void 0:e.coin},youCanBuy(){return this.selectedCoin?Math.min((this.selectedCoin.youCanBuy||0)+this.selectedCoin.limit,(this.selectedCoin.maxUSDBuyAmount||1/0)/this.startPrice):0},timeLeft(){let e=Math.floor((this.timerEndTimestamp-this.currTimestamp)/1e3);var t;if(e<=0)return"announce"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.type)&&this.startAuction(),"00:00";let c=Math.floor(e/3600),n=e%3600,i=Math.floor(n/60),o=Math.floor(n%60);return`${c}:${i>=10?i:"0"+i}:${o>=10?o:"0"+o}`},startPriceText(){var e,t;return"startPriceDOMHolder"==(null===(e=this.selectedCoin)||void 0===e?void 0:e.yourStartPrice)?Object(I["a"])("starting_price_for_DOM_coin_holders"):"startPriceDOMHolderReferral"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.yourStartPrice)?Object(I["a"])("starting_price_for_DOM_coin_holders_referral"):Object(I["a"])("starting_price")},startPrice(){var e,t,c,n,i;return"startPriceDOMHolder"==(null===(e=this.selectedCoin)||void 0===e?void 0:e.yourStartPrice)?null===(c=this.selectedCoin)||void 0===c?void 0:c.startPriceDOMHolder:"startPriceDOMHolderReferral"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.yourStartPrice)?null===(n=this.selectedCoin)||void 0===n?void 0:n.startPriceDOMHolderReferral:null===(i=this.selectedCoin)||void 0===i?void 0:i.startPriceOther}},methods:{increaseLimit(){this.showIncreaseLimitModal=!0},closeModals(e){this.showIncreaseLimitModal=!1,e&&this.loadData()},selectCoin(e){for(let t=0;t<this.coins.length;t++)t===e?(this.coins[t].selected=!0,this.selectedCoin=this.coins[t],this.setupTimers()):this.coins[t].selected=!1},setupTimers(){var e,t;clearInterval(this.timerInterval),this.timerEndTimestamp=this.auctionRunning||this.auctionFinished?null===(e=this.selectedCoin)||void 0===e?void 0:e.presaleEndTimestamp:null===(t=this.selectedCoin)||void 0===t?void 0:t.presaleStartTimestamp,this.timerInterval=setInterval(()=>{this.currTimestamp=Date.now()},1e3)},startAuction(){this.auctionRunning||(this.auctionRunning=!0,clearInterval(this.timerInterval),this.loadData())},async buyCoin(e,t){e&&(await this.$store.dispatch("setPaymentCoinTicker",{coinTicker:e}),await this.$store.dispatch("setPaymentCoinMaxAmount",{maxAmount:t}),this.$nextTick(()=>{this.$store.dispatch("setShowPaymentCoinModule",{value:!0})}))},openCoinPage(){},async loadData(){try{const e=(await this.$store.dispatch("getClosedPresaleParameters")).coins;this.coins=e,e.length>0&&this.selectCoin(0)}catch(e){this.$error(e)}}},created:function(){this.timerInterval=null},async mounted(){var e;await this.loadData();const t=JSON.parse(null!==(e=localStorage.exchangeClosedAuctionPageOpened)&&void 0!==e?e:null);this.showHighlight=!0,1!=t&&(localStorage.exchangeClosedAuctionPageOpened=!0,window.dispatchEvent(new CustomEvent("exchangeClosedAuctionPageOpened",{detail:{value:localStorage.getItem("exchangeClosedAuctionPageOpened")}}))),setTimeout(()=>{this.showHighlight=!1},2e3)},unmounted(){clearInterval(this.timerInterval)},components:{IncreaseLimitModal:oe}});c("8ded");const le=ne()(ae,[["render",T],["__scopeId","data-v-728e7f8a"]]);t["default"]=le}}]);
//# sourceMappingURL=chunk-fae60e46.7ee0c5a8.js.map