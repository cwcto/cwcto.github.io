{"version":3,"sources":["webpack:///./src/views/auth/Register.vue?a7ec","webpack:///./src/views/auth/Register.vue","webpack:///./src/views/auth/Register.vue?3014"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","_ctx","submitForm","id","email","$event","type","name","placeholder","$localizeFilter","onChange","v$","$touch","_normalizeClass","$error","_Fragment","_renderList","$errors","error","key","$uid","$message","password","lastName","firstName","sponsorEmail","onClick","submitHandler","_hoisted_9","_hoisted_10","_toDisplayString","_createVNode","_component_router_link","to","toUpperCase","_hoisted_11","openHomePage","defineComponent","props","token","String","default","buyCoinTicker","setup","useVuelidate","data","buttonKey","terms","validations","required","helpers","withMessage","localizeFilter","methods","location","href","origin","openBot","this","setTimeout","el","document","getElementById","classList","add","formData","$store","dispatch","scope","remove","$router","push","e","computed","localStorage","referralToken","focus","__exports__","render"],"mappings":"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","file":"js/chunk-10230d96.76858f16.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Register.vue?vue&type=style&index=0&id=898f7c20&scoped=true&lang=css\"","<template>\n  <div class=\"auth component-wrapper\">\n    <div class=\"window-wrapper\">\n      <div class=\"logo\">\n       <img  class=\"logo-image\" src=\"@/assets/newImages/logo.svg\" alt=\"logo\" />\n      </div>\n      <form @submit.prevent=\"submitForm\" class=\"login-form\" id=\"login-form\">\n        <input v-model=\"email\" type=\"text\" id=\"email\" name=\"email\" :placeholder=\"$localizeFilter('email')\"\n          @change=\"v$.email.$touch\" :class=\"{\n            'error': v$.email.$error,\n          }\" />\n        <span v-for=\"error in v$.email.$errors\" :key=\"error.$uid\" class=\"label-error\">\n          {{ error.$message }}\n        </span>\n        <input v-model=\"password\" type=\"password\" id=\"password\" name=\"password\"\n          :placeholder=\"$localizeFilter('password')\" :class=\"{\n            'error': v$.email.$error,\n          }\" />\n        <span v-for=\"error in v$.password.$errors\" :key=\"error.$uid\" class=\"label-error\">\n          {{ error.$message }}\n        </span>\n        <input v-model=\"lastName\" type=\"text\" id=\"lastName\" name=\"lastName\"\n          :placeholder=\"$localizeFilter('last_name')\" @change=\"v$.lastName.$touch\" :class=\"{\n            'error': v$.lastName.$error,\n          }\" />\n        <span v-for=\"error in v$.lastName.$errors\" :key=\"error.$uid\" class=\"label-error\">\n          {{ error.$message }}\n        </span>\n        <input v-model=\"firstName\" type=\"text\" id=\"firstName\" name=\"firstName\"\n          :placeholder=\"$localizeFilter('first_name')\" @change=\"v$.firstName.$touch\" :class=\"{\n            'error': v$.firstName.$error,\n          }\" />\n        <span v-for=\"error in v$.firstName.$errors\" :key=\"error.$uid\" class=\"label-error\">\n          {{ error.$message }}\n        </span>\n        <input v-model=\"sponsorEmail\" type=\"text\" id=\"sponsorEmail\" name=\"sponsorEmail\"\n          :placeholder=\"$localizeFilter('sponsor_email')\" @change=\"v$.sponsorEmail.$touch\" :class=\"{\n            'error': v$.sponsorEmail.$error,\n          }\" />\n        <span v-for=\"error in v$.sponsorEmail.$errors\" :key=\"error.$uid\" class=\"label-error\">\n          {{ error.$message }}\n        </span>\n        <!-- <div class=\"terms-of-use\">\n          <input type=\"checkbox\" id=\"terms\" class=\"custom-checkbox\" @change=\"v$.terms.$touch()\" v-model=\"terms\">\n          <label for=\"terms\" :class=\"{\n            'terms-error': v$.terms.$error,\n          }\"><a href=\"#\">{{ $localizeFilter(\"accept_terms_of_use\") }}</a></label>\n        </div> -->\n        <button id=\"submitButton\" type=\"submit\" class=\"button\" @click=\"submitHandler\">\n          {{ $localizeFilter(\"register\") }}\n        </button>\n      </form>\n    </div>\n    <div class=\"links\">\n      <div class=\"forgot-password\">\n        <span>{{ $localizeFilter(\"already_have_an_account\") + \" \" }}</span>\n        <router-link :to=\"'/login'\">{{ $localizeFilter(\"login\").toUpperCase() }}</router-link>\n      </div>\n      <div class=\"main-page\">\n        <a @click.prevent=\"openHomePage\">{{\n          $localizeFilter(\"back_to_main\")\n        }}</a>\n      </div>\n    </div>\n</div>\n</template>\n\n  \n<script>\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, email, helpers } from \"@vuelidate/validators\";\nimport { defineComponent } from \"@vue/composition-api\";\nimport localizeFilter from '@/filters/localize.filter'\n\n\n\nexport default defineComponent({\n  props: {\n    token: {\n      type: String,\n      default: null\n    },\n    buyCoinTicker: {\n      type: String,\n      default: null\n    }\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      // middleName: \"\",\n      sponsorEmail: \"\",\n      buttonKey: 1,\n      terms: true,\n    };\n  },\n  validations() {\n    return {\n      email: {\n       required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required),\n       email: helpers.withMessage(localizeFilter('field_must_be_valid_email_address'), email),\n      },\n      password: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      firstName: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      lastName: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      // middleName: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      sponsorEmail: {\n        required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required),\n        email: helpers.withMessage(localizeFilter('field_must_be_valid_email_address'), email),\n      },\n      terms: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n    };\n  },\n  methods: {\n    openHomePage() {\n      location.href = location.origin\n    },\n    openBot() {\n      // window.open('')\n    },\n    async submitHandler() {\n      this.v$.$touch();\n      if (this.v$.$error) {\n        setTimeout(()=>{\n          this.buttonKey+=1\n        }, 1000)\n        return;\n      }\n      const el = document.getElementById('submitButton'); \n      el.classList.add(\"button--loading\");\n      const formData = {\n        email: this.email,\n        firstName: this.firstName,\n        lastName: this.lastName,\n        sponsorEmail:this.sponsorEmail,\n        password: this.password, \n        buyCoinTicker: this.buyCoinTicker\n      }\n      try {\n        await this.$store.dispatch('register', formData)\n        await this.$store.dispatch('login', formData)\n        const {scope, email} = await this.$store.dispatch('getProfile')\n        setTimeout(()=>{\n          el.classList.remove(\"button--loading\")\n          if (scope=='not_activated_client') {\n            this.$router.push('/confirmEmail?email='+email)\n          } else {\n            this.$router.push('/cabinet')\n          }\n          this.$message(localizeFilter('registration_successfull'))\n        },1000)\n      } catch (e) {\n        setTimeout(()=>{\n            this.$error(e)\n            el.classList.remove(\"button--loading\")\n            this.buttonKey+=1\n        }, 1000)\n      }\n    },\n  },\n  computed: {\n\n  },\n  async mounted() {\n    if(this.token){\n      localStorage.referralToken = this.token;\n    }\n    const token = this.token || localStorage.referralToken;\n    try {\n      if(token){\n        const data = await this.$store.dispatch('getEmailByReferralToken',{token})\n        this.sponsorEmail = data.email\n      } else {\n        this.sponsorEmail = 'root@capitalwhale.io'\n      }\n        document.getElementById('email').focus()\n      } catch (e) {\n          this.$error(e)\n      }\n  }\n});\n</script>\n\n<style scoped>\n.component-wrapper {\n  margin: 100px 0;\n}\n\n.window-wrapper {\n  max-width: 481px;\n  margin: 0 auto;\n  background: rgba(13, 18, 54, 0.5);\n  border: 1px solid rgba(144, 202, 255, 0.7);\n  padding: 43px 40px 0;\n}\n\n.logo {\n  font-family: \"Alumni Sans\";\n  text-align: center;\n  font-size: 45.45px;\n  line-height: 36px;\n  letter-spacing: 0.07em;\n  color: #e4e4e4;\n  margin-bottom: 50px;\n  margin-top: 20px;\n}\n\n.capital {\n  font-weight: 900;\n}\n\n.whale {\n  font-weight: 400;\n}\n\n.button {\n  width: 401px;\n  height: 53px;\n  clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);\n  background: #90caff;\n  font-family: \"Play\";\n  font-weight: 400;\n  font-size: 19px;\n  line-height: 22px;\n  color: #101222;\n  margin: 60px auto 0;\n  display: block;\n}\n\n.links {\n  margin-top: 28px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 11px;\n  font-family: \"Play\";\n  font-weight: 400;\n  font-size: 19px;\n  line-height: 22px;\n  color: #e4e4e4;\n}\n\n.links span,\n.links a {\n  font-family: \"Play\";\n  font-weight: 400;\n  font-size: 19px;\n  line-height: 22px;\n}\n\n.links a {\n  cursor: pointer;\n  color: #90caff;\n}\n\n.main-page {\n  margin-top: 29px;\n}\n\n.main-page a {\n  cursor: pointer;\n  color: rgba(144, 202, 255, 0.7);\n  text-decoration: underline;\n}\n\n.terms-of-use {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.terms-of-use a {\n  font-family: 'Play';\n  font-weight: 400;\n  font-size: 19px;\n  line-height: 22px;\n  text-decoration: underline;\n  color: rgba(144, 202, 255, 0.7);\n  cursor: pointer;\n}\n\n.terms-error a {\n  color: #df351e;\n}\n\n@media (max-width: 767.98px) {\n  .button {\n    width: 100%;\n  }\n\n  .logo {\n    display: flex;\n    justify-content: center;\n    font-size: 38.45px;\n    line-height: 32px;\n  }\n\n  .terms-of-use a {\n    font-size: 15px;\n    line-height: 20px;\n  }\n\n  .links span,\n  .links a {\n    font-size: 15px;\n    line-height: 20px;\n  }\n}\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=898f7c20&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=898f7c20&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/kondratvoronov/development/cw-cabinet/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-898f7c20\"]])\n\nexport default __exports__"],"sourceRoot":""}