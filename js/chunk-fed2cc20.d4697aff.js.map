{"version":3,"sources":["webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?0209","webpack:///./src/views/Register.vue?e2c7"],"names":["class","_createElementVNode","style","src","_imports_0","for","_createElementBlock","onSubmit","_hoisted_2","_ctx","_hoisted_5","id","type","$event","invalid","email","$error","_Fragment","_renderList","$errors","error","index","key","$message","_hoisted_8","password","_hoisted_11","lastName","_hoisted_14","firstName","_hoisted_17","sponsorEmail","_toDisplayString","_hoisted_20","_createVNode","_component_router_link","to","defineComponent","props","token","String","default","buyCoinTicker","setup","v$","useVuelidate","data","buttonKey","validations","required","helpers","withMessage","localizeFilter","methods","openBot","submitHandler","$touch","setTimeout","el","document","getElementById","classList","add","formData","$store","dispatch","scope","remove","$router","push","computed","mounted","localStorage","referralToken","focus","__exports__","render"],"mappings":"qQAESA,MAAM,gB,uBACTC,gCAAsE,OAAjED,MAAM,aAAcE,MAAO,GAAIC,IAAAC,KAApC,Y,GACKJ,MAAM,e,GACFK,IAAI,S,uBACsBJ,gCAA+B,QAAzBD,MAAM,YAAW,KAAC,M,GAgBtDA,MAAM,e,GACFK,IAAI,Y,uBAA4CJ,gCAA+B,QAAzBD,MAAM,YAAW,KAAC,M,GAgB5EA,MAAM,e,GACFK,IAAI,Y,uBAA6CJ,gCAA+B,QAAzBD,MAAM,YAAW,KAAC,M,GAgB7EA,MAAM,e,GACFK,IAAI,a,uBAA+CJ,gCAA+B,QAAzBD,MAAM,YAAW,KAAC,M,GAiC/EA,MAAM,wB,GACFA,MAAM,SAASK,IAAI,gB,uBAAqDJ,gCAA+B,QAAzBD,MAAM,YAAW,KAAC,M,GAiBtGA,MAAM,e,GAGFA,MAAM,gB,uBACTC,gCAAwC,KAArCD,MAAM,wBAAuB,QAAI,M,GAIrCA,MAAM,qB,2GAnHbM,gCAwHO,QAxHDN,MAAM,iBAAkBO,SAAM,wCAAP,cAAkB,eAA/C,CACEN,gCAwGM,MAxGN,EAwGM,CAvGJO,EACAP,gCAiBM,MAjBN,EAiBM,CAhBJA,gCAEC,QAFD,EAEC,2DADKQ,kBAAe,aAAYC,IAe7B,4BAbJT,gCAKE,SAJAU,GAAG,QACHC,KAAK,O,qDACSH,QAAKI,IAClBb,MAAK,6BAAAc,QAAaL,KAAGM,MAAMC,UAJ9B,0BAGgBP,gB,MAAd,OAUE,2BAPJH,gCAMQW,cAAA,KAAAC,wBAJmBT,KAAGM,MAAMI,SAAO,SAAjCC,EAAOC,G,gCAFjBf,gCAMQ,SALNN,MAAM,QAELsB,IAAKD,GAHR,6BAKKD,EAAMG,UAAQ,MALnB,QAQFtB,gCAeM,MAfN,EAeM,CAdJA,gCAA8F,QAA9F,EAA8F,2DAArEQ,kBAAe,gBAAee,IAcnD,4BAbJvB,gCAKE,SAJFU,GAAG,WACHC,KAAK,W,qDACSH,WAAQI,IACrBb,MAAK,6BAAAc,QAAaL,KAAGgB,SAAST,UAJ/B,0BAGcP,mB,MAAd,OAUI,2BAPHH,gCAMOW,cAAA,KAAAC,wBAJmBT,KAAGgB,SAASN,SAAO,SAApCC,EAAOC,G,gCAFhBf,gCAMO,SALNN,MAAM,QAELsB,IAAKD,GAHP,6BAKID,EAAMG,UAAQ,MALlB,QASHtB,gCAeM,MAfN,EAeM,CAdJA,gCAA+F,QAA/F,EAA+F,2DAAtEQ,kBAAe,iBAAgBiB,IAcpD,4BAbJzB,gCAKE,SAJFU,GAAG,WACHC,KAAK,O,qDACSH,WAAQI,IACrBb,MAAK,6BAAAc,QAAaL,KAAGkB,SAASX,UAJ/B,0BAGcP,mB,MAAd,OAUI,2BAPHH,gCAMOW,cAAA,KAAAC,wBAJmBT,KAAGkB,SAASR,SAAO,SAApCC,EAAOC,G,gCAFhBf,gCAMO,SALNN,MAAM,QAELsB,IAAKD,GAHP,6BAKID,EAAMG,UAAQ,MALlB,QASHtB,gCAeM,MAfN,EAeM,CAdJA,gCAAiG,QAAjG,EAAiG,2DAAvEQ,kBAAe,kBAAiBmB,IActD,4BAbJ3B,gCAKE,SAJFU,GAAG,YACHC,KAAK,O,qDACSH,YAASI,IACtBb,MAAK,6BAAAc,QAAaL,KAAGoB,UAAUb,UAJhC,0BAGcP,oB,MAAd,OAUI,2BAPHH,gCAMOW,cAAA,KAAAC,wBAJmBT,KAAGoB,UAAUV,SAAO,SAArCC,EAAOC,G,gCAFhBf,gCAMO,SALNN,MAAM,QAELsB,IAAKD,GAHP,6BAKID,EAAMG,UAAQ,MALlB,QA0BHtB,gCAeM,MAfN,EAeM,CAdJA,gCAAsH,QAAtH,EAAsH,2DAA1EQ,kBAAe,qBAAoBqB,IAc3E,4BAbJ7B,gCAKE,SAJFU,GAAG,eACHC,KAAK,O,qDACSH,eAAYI,IACzBb,MAAK,6BAAAc,QAAaL,KAAGsB,aAAaf,UAJnC,0BAGcP,uB,MAAd,OAUI,2BAPHH,gCAMOW,cAAA,KAAAC,wBAJmBT,KAAGsB,aAAaZ,SAAO,SAAxCC,EAAOC,G,gCAFhBf,gCAMO,SALNN,MAAM,QAELsB,IAAKD,GAHP,6BAKID,EAAMG,UAAQ,MALlB,UAULtB,gCAYM,MAZN,EAYM,CAXJA,gCAKM,sCAJJK,gCAGS,UAHDN,MAAM,WAAWW,GAAG,e,0CAA4BF,sDAAgBa,IAAKb,aAA7E,CACER,gCAA2D,IAA3D,EAA2D+B,6BAAjCvB,kBAAe,gBACzCwB,GAFF,OAMFhC,gCAGI,IAHJ,EAGI,2DAFCQ,kBAAe,4BAA8B,IAChD,GAAAyB,yBAAsIC,EAAA,CAAxHC,GAAK3B,+CAAwCA,iBAAa,UAAxE,C,8BAAwF,iBAAgC,2DAA7BA,kBAAe,mB,KAA1G,eArHN,I,4EAiIa4B,iBAAgB,CAC7BC,MAAO,CACLC,MAAO,CACL3B,KAAM4B,OACNC,QAAS,MAEXC,cAAe,CACb9B,KAAM4B,OACNC,QAAS,OAGbE,MAX6B,WAY3B,MAAO,CAAEC,GAAIC,mBAEfC,KAd6B,WAe3B,MAAO,CACL/B,MAAO,GACPU,SAAU,GACVI,UAAW,GACXF,SAAU,GAEVI,aAAc,GACdgB,UAAW,IAGfC,YAzB6B,WA0B3B,MAAO,CACLjC,MAAO,CACNkC,SAAUC,OAAQC,YAAYC,eAAe,2BAA4BH,QACzElC,MAAOmC,OAAQC,YAAYC,eAAe,qCAAsCrC,SAEjFU,SAAU,CAAEwB,SAAUC,OAAQC,YAAYC,eAAe,2BAA4BH,SACrFpB,UAAW,CAAEoB,SAAUC,OAAQC,YAAYC,eAAe,2BAA4BH,SACtFtB,SAAU,CAAEsB,SAAUC,OAAQC,YAAYC,eAAe,2BAA4BH,SAErFlB,aAAc,CACZkB,SAAUC,OAAQC,YAAYC,eAAe,2BAA4BH,QACzElC,MAAOmC,OAAQC,YAAYC,eAAe,qCAAsCrC,WAItFsC,QAAS,CACPC,QADO,aAIDC,cAJC,WAIe,yKACpB,EAAKX,GAAGY,UACJ,EAAKZ,GAAG5B,OAFQ,uBAGlByC,YAAW,WACT,EAAKV,WAAW,IACf,KALe,iCAQdW,EAAKC,SAASC,eAAe,gBACnCF,EAAGG,UAAUC,IAAI,mBACXC,EAAW,CACfhD,MAAO,EAAKA,MACZc,UAAW,EAAKA,UAChBF,SAAU,EAAKA,SACfI,aAAa,EAAKA,aAClBN,SAAU,EAAKA,SACfiB,cAAe,EAAKA,eAhBF,mBAmBZ,EAAKsB,OAAOC,SAAS,WAAYF,GAnBrB,yBAoBZ,EAAKC,OAAOC,SAAS,QAASF,GApBlB,yBAqBW,EAAKC,OAAOC,SAAS,cArBhC,iBAqBXC,EArBW,EAqBXA,MAAOnD,EArBI,EAqBJA,MACd0C,YAAW,WACTC,EAAGG,UAAUM,OAAO,mBACT,wBAAPD,EACF,EAAKE,QAAQC,KAAK,uBAAuBtD,GAEzC,EAAKqD,QAAQC,KAAK,YAEpB,EAAK9C,SAAS6B,eAAe,+BAC7B,KA9BgB,qDAgClBK,YAAW,WACP,EAAKzC,OAAL,MACA0C,EAAGG,UAAUM,OAAO,mBACpB,EAAKpB,WAAW,IACjB,KApCe,8DAwCxBuB,SAAU,GAEJC,QAvFuB,WAuFb,mKACX,EAAKhC,QACNiC,aAAaC,cAAgB,EAAKlC,OAE9BA,EAAQ,EAAKA,OAASiC,aAAaC,cAJ3B,UAMTlC,EANS,iCAOS,EAAKyB,OAAOC,SAAS,0BAA0B,CAAC1B,UAPzD,OAOJO,EAPI,OAQV,EAAKf,aAAee,EAAK/B,MARf,wBAUV,EAAKgB,aAAe,uBAVV,QAYV4B,SAASC,eAAe,SAASc,QAZvB,qDAcR,EAAK1D,OAAL,MAdQ,+D,iCClNlB,MAAM2D,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf,W","file":"js/chunk-fed2cc20.d4697aff.js","sourcesContent":["<template>\n  <form class=\"card auth-card\" @submit.prevent=\"\">\n    <div class=\"card-content\">\n      <img class=\"logo-image\" :style=\"''\" src=\"@/assets/newImages/logo.png\">\n      <div class=\"input-field\">\n        <label for=\"email\"\n          >{{ $localizeFilter('email') }}<span class=\"required\">*</span></label\n        >\n        <input\n          id=\"email\"\n          type=\"text\"\n          v-model.trim=\"email\"\n          :class=\"{ invalid: v$.email.$error }\"\n        />\n        <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.email.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n      <div class=\"input-field\">\n        <label for=\"password\">{{ $localizeFilter('password') }}<span class=\"required\">*</span></label>\n        <input\n        id=\"password\"\n        type=\"password\"\n        v-model.trim=\"password\"\n        :class=\"{ invalid: v$.password.$error }\"\n        />\n         <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.password.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n\n      <div class=\"input-field\">\n        <label for=\"lastName\">{{ $localizeFilter('last_name') }}<span class=\"required\">*</span></label>\n        <input\n        id=\"lastName\"\n        type=\"text\"\n        v-model.trim=\"lastName\"\n        :class=\"{ invalid: v$.lastName.$error }\"\n        />\n         <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.lastName.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n      \n      <div class=\"input-field\">\n        <label for=\"firstName\">{{ $localizeFilter('first_name') }}<span class=\"required\">*</span></label>\n        <input\n        id=\"firstName\"\n        type=\"text\"\n        v-model.trim=\"firstName\"\n        :class=\"{ invalid: v$.firstName.$error }\"\n        />\n         <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.firstName.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n\n      <!-- <div class=\"input-field\">\n        <label for=\"middleName\">{{ $localizeFilter('middleName') }}<span class=\"required\">*</span></label>\n        <input\n        id=\"middleName\"\n        type=\"text\"\n        v-model.trim=\"middleName\"\n        :class=\"{ invalid: v$.middleName.$error }\"\n        />\n         <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.middleName.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div> -->\n\n      <div class=\"input-field disabled\">\n        <label class=\"active\" for=\"sponsorEmail\">{{ $localizeFilter('sponsor_email') }}<span class=\"required\">*</span></label>\n        <input\n        id=\"sponsorEmail\"\n        type=\"text\"\n        v-model.trim=\"sponsorEmail\"\n        :class=\"{ invalid: v$.sponsorEmail.$error }\"\n        />\n         <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.sponsorEmail.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n    </div>\n\n    <div class=\"card-action\">\n      <div>\n        <button class=\"button-2\" id=\"submitButton\" @click.once=\"submitHandler\" :key=\"buttonKey\">\n          <p class=\"button-title\">{{$localizeFilter('register')}}</p>\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </div>\n\n      <p class=\"additional-action\">\n        {{ $localizeFilter('already_have_an_account') }}\n        <router-link :to=\"(buyCoinTicker ? `/login?buyCoinTicker=${buyCoinTicker}` : '/login')\">{{ $localizeFilter('sign_in') }}</router-link>\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, email, helpers } from \"@vuelidate/validators\";\nimport { defineComponent } from \"@vue/composition-api\";\nimport localizeFilter from '@/filters/localize.filter'\n\nexport default defineComponent({\n  props: {\n    token: {\n      type: String,\n      default: null\n    },\n    buyCoinTicker: {\n      type: String,\n      default: null\n    }\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      // middleName: \"\",\n      sponsorEmail: \"\",\n      buttonKey: 1\n    };\n  },\n  validations() {\n    return {\n      email: {\n       required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required),\n       email: helpers.withMessage(localizeFilter('field_must_be_valid_email_address'), email),\n      },\n      password: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      firstName: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      lastName: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      // middleName: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n      sponsorEmail: {\n        required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required),\n        email: helpers.withMessage(localizeFilter('field_must_be_valid_email_address'), email),\n      }\n    };\n  },\n  methods: {\n    openBot() {\n      // window.open('')\n    },\n    async submitHandler() {\n      this.v$.$touch();\n      if (this.v$.$error) {\n        setTimeout(()=>{\n          this.buttonKey+=1\n        }, 1000)\n        return;\n      }\n      const el = document.getElementById('submitButton'); \n      el.classList.add(\"button--loading\");\n      const formData = {\n        email: this.email,\n        firstName: this.firstName,\n        lastName: this.lastName,\n        sponsorEmail:this.sponsorEmail,\n        password: this.password, \n        buyCoinTicker: this.buyCoinTicker\n      }\n      try {\n        await this.$store.dispatch('register', formData)\n        await this.$store.dispatch('login', formData)\n        const {scope, email} = await this.$store.dispatch('getProfile')\n        setTimeout(()=>{\n          el.classList.remove(\"button--loading\")\n          if (scope=='not_activated_client') {\n            this.$router.push('/confirmEmail?email='+email)\n          } else {\n            this.$router.push('/cabinet')\n          }\n          this.$message(localizeFilter('registration_successfull'))\n        },1000)\n      } catch (e) {\n        setTimeout(()=>{\n            this.$error(e)\n            el.classList.remove(\"button--loading\")\n            this.buttonKey+=1\n        }, 1000)\n      }\n    },\n  },\n  computed: {\n  },\n  async mounted() {\n    if(this.token){\n      localStorage.referralToken = this.token;\n    }\n    const token = this.token || localStorage.referralToken;\n    try {\n      if(token){\n        const data = await this.$store.dispatch('getEmailByReferralToken',{token})\n        this.sponsorEmail = data.email\n      } else {\n        this.sponsorEmail = 'root@capitalwhale.io'\n      }\n        document.getElementById('email').focus()\n      } catch (e) {\n          this.$error(e)\n      }\n  }\n});\n</script>\n\n<style scoped>\n\n.input-field.disabled {\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    pointer-events: none;\n}\n\n.confirmation-bot-hint {\n  width: 100%;white-space:pre-wrap; font-size: 18px; font-weight: 600; margin-bottom: 10px; display: flex; flex-direction: row; align-content: center; justify-content: center;\n}\n.confirmation-bot {\n  cursor: pointer; margin-bottom: 20px; background-color: rgba(0,0,0,0.05); border-radius: 10px; display: flex; flex-direction: row; align-content: center; justify-content: flex-start;\n}\n.confirmation-bot:hover {\n  background-color: rgba(0,0,0,0.1);\n}\n@media (max-width: 480px) {\n  .confirmation-bot-hint {\n    font-size: 14px; \n  }\n  h4 {\n      font-size: 26px;\n    }\n  .button-2 {\n     font-size: 16px;\n     height: 40px;\n   }\n   i {\n     width: 16px!important;\n     height: 16px!important;\n     font-size: 16px!important;\n     margin-left: 10px!important;\n   }\n}\n\n@media (min-width: 480px) {\n  .logo-image {\n    width: 290px!important;\n    height: auto!important;\n  }\n\n  .button-2 {\n    font-size: 24px;\n    padding: 10px 8px 10px 8px;\n  }\n\n   i {\n     font-size: 24px!important;\n     margin-left: 12px!important;\n   }\n}\n\n  .button-2 {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    max-width: 100%;\n    margin-bottom: 20px;\n  }\n\n  .button-title {\n    height: fit-content;\n    margin-top: 0;\n    margin-bottom: 0;\n    text-overflow: ellipsis;\n  }\n\n  .additional-action {\n    margin-top: 0;\n  }\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=3ed5caa2&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=3ed5caa2&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/kondratvoronov/development/exchange/Web/Client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3ed5caa2\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Register.vue?vue&type=style&index=0&id=3ed5caa2&scoped=true&lang=css\""],"sourceRoot":""}