(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae7c6ed2"],{"14ba":function(e,t,l){e.exports=l.p+"img/arrow-up.6ef07472.svg"},"23e2":function(e,t,l){e.exports=l.p+"img/plus.66b4091e.svg"},3577:function(e,t,l){"use strict";var i=l("7a23");const a={class:"buy-sell-toggle-block"},c={key:0,class:"title"},o={class:"buy-sell-toggle-container"};function n(e,t,l,n,s,r){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",a,[e.title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",c,Object(i["toDisplayString"])(e.title),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",o,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["buy-sell-toggle left",0==e.value?"selected":"default"]),onClick:t[0]||(t[0]=t=>e.toggle(0))},[Object(i["createElementVNode"])("label",{class:Object(i["normalizeClass"])(["text",0==e.value?"selected":""])},Object(i["toDisplayString"])(e.$localizeFilter(e.variants[0])),3)],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["buy-sell-toggle right",1==e.value?"selected":"default"]),onClick:t[1]||(t[1]=t=>e.toggle(1))},[Object(i["createElementVNode"])("label",{class:Object(i["normalizeClass"])(["text",1==e.value?"selected":""])},Object(i["toDisplayString"])(e.$localizeFilter(e.variants[1])),3)],2)])])}var s=l("ed09"),r=Object(s["a"])({props:["title","variants","selected"],watch:{selected:function(e,t){null!=e&&void 0!=e&&(this.value=this.variants.indexOf(e))}},data:()=>({value:0}),methods:{toggle(e){this.value=e,this.$emit("toggle",Number(this.value))}}}),d=(l("7053"),l("d959")),b=l.n(d);const u=b()(r,[["render",n],["__scopeId","data-v-ac484fca"]]);t["a"]=u},"362b":function(e,t,l){e.exports=l.p+"img/arrow-down.7ef64847.svg"},"48eb":function(e,t,l){"use strict";l("8ff9")},"5cc3":function(e,t,l){"use strict";l("df27")},"64dd":function(e,t,l){e.exports=l.p+"img/warning-label.fe958b18.svg"},6647:function(e,t,l){"use strict";l("87b3")},7053:function(e,t,l){"use strict";l("dee2")},"7a55":function(e,t,l){},"7c24":function(e,t,l){},"87b3":function(e,t,l){},"8ff9":function(e,t,l){},"9b45":function(e,t,l){"use strict";l.r(t);var i=l("7a23"),a=l("3b41"),c=l.n(a),o=l("23e2"),n=l.n(o);const s=e=>(Object(i["pushScopeId"])("data-v-6219dcf1"),e=e(),Object(i["popScopeId"])(),e),r=s(()=>Object(i["createElementVNode"])("img",{class:"back-button-arrow-ref",src:c.a},null,-1)),d={class:"back-button-text"},b={class:"title-block"},u={class:"title"},m=s(()=>Object(i["createElementVNode"])("div",{class:"subtitle"},null,-1)),p={class:"bid-button-container"},O=s(()=>Object(i["createElementVNode"])("img",{class:"plus",src:n.a,alt:""},null,-1)),j={class:"counter"},h={class:"label"},g={class:"value"},v={key:0,class:"view-for-radiobuttons"},y={class:"radiobuttons-block"},N={class:"radiobutton-block"},E={for:"radio1",class:"radio-label"},k={class:"radiobutton-block"},V={for:"radio2",class:"radio-label"},B={class:"wrapper"},f={class:"bids-container"},_={class:"bids-header"},$=s(()=>Object(i["createElementVNode"])("div",{class:"bids-header-img"},null,-1)),D={class:"bids-top"},w={key:0,class:"auction-bid-item bids-number"},S={class:"auction-bid-item bids-id"},M={class:"auction-bid-item bids-user-id"},C={class:"auction-bid-item bids-value"},I={key:1,class:"auction-bid-item bids-price"},A={class:"auction-bid-item bids-progress"},z={key:0,class:"load-more-button-container"};function x(e,t,l,a,c,o){const n=Object(i["resolveComponent"])("LargeToggle"),s=Object(i["resolveComponent"])("ProvidingAuctionBid"),x=Object(i["resolveComponent"])("AuctionBuyBidModal"),T=Object(i["resolveComponent"])("AuctionSellBidModal"),F=Object(i["resolveComponent"])("AuctionInfoModal");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"auction",onClick:t[7]||(t[7]=(...t)=>e.hideDropdowns&&e.hideDropdowns(...t))},[Object(i["createElementVNode"])("button",{class:"back-button",onClick:t[0]||(t[0]=t=>e.$router.back())},[r,Object(i["createElementVNode"])("p",d,Object(i["toDisplayString"])("providing"===e.from?e.$localizeFilter("liquidity_provider"):e.$localizeFilter("auctions")),1)]),Object(i["createElementVNode"])("div",b,[Object(i["createElementVNode"])("div",u,Object(i["toDisplayString"])(e.$localizeFilter("auction_title",[e.currency1,e.currency2])),1)]),m,Object(i["createVNode"])(n,{title:null,variants:e.actions.map(e=>e+"_2"),onToggle:e.toggle},null,8,["variants","onToggle"]),Object(i["createElementVNode"])("div",p,[Object(i["createElementVNode"])("button",{class:"bid-button",onClick:t[1]||(t[1]=t=>e.submitApplication())},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$localizeFilter("submit_application"))+" ",1),O]),Object(i["createElementVNode"])("div",j,[Object(i["createElementVNode"])("span",h,Object(i["toDisplayString"])(e.$localizeFilter("next_round"))+": ",1),Object(i["createElementVNode"])("span",g,Object(i["toDisplayString"])(e.countdown),1)])]),"buy"===e.selectedAction?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",v,[Object(i["createElementVNode"])("div",y,[Object(i["createElementVNode"])("div",N,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"radio1",name:"radio",value:"all","onUpdate:modelValue":t[2]||(t[2]=t=>e.filter=t),onChange:t[3]||(t[3]=(...t)=>e.reloadData&&e.reloadData(...t))},null,544),[[i["vModelRadio"],e.filter]]),Object(i["createElementVNode"])("label",E,Object(i["toDisplayString"])(e.$localizeFilter("all_bids")),1)]),Object(i["createElementVNode"])("div",k,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"radio2",name:"radio",value:"my","onUpdate:modelValue":t[4]||(t[4]=t=>e.filter=t),onChange:t[5]||(t[5]=(...t)=>e.reloadData&&e.reloadData(...t))},null,544),[[i["vModelRadio"],e.filter]]),Object(i["createElementVNode"])("label",V,Object(i["toDisplayString"])(e.$localizeFilter("my_bids")),1)])])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",B,[Object(i["createElementVNode"])("div",f,[Object(i["createElementVNode"])("div",_,[$,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$localizeFilter("all_bets"))+" \\ ",1)]),Object(i["createElementVNode"])("ul",D,["sell"!==e.selectedAction?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",w,"â„–")):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("li",S,Object(i["toDisplayString"])(e.$localizeFilter("bid").toUpperCase())+"\\",1),Object(i["createElementVNode"])("li",M,Object(i["toDisplayString"])(e.$localizeFilter("locale_id-ID").toUpperCase())+"\\",1),Object(i["createElementVNode"])("li",C,Object(i["toDisplayString"])(e.$localizeFilter("share_size").toUpperCase())+"\\",1),"sell"!==e.selectedAction?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",I,Object(i["toDisplayString"])(e.$localizeFilter("price2").toUpperCase())+"\\",1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("li",A,Object(i["toDisplayString"])(e.$localizeFilter("progress").toUpperCase())+"\\",1)]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.bids,(t,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:l},[Object(i["createVNode"])(s,{bid:t,onChangeBid:e.changeBid,onCancelBid:e.cancelBid},null,8,["bid","onChangeBid","onCancelBid"])]))),128)),e.bids.length>0&&"all"===e.filter?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",z,[Object(i["createElementVNode"])("button",{class:"load-more-button",onClick:t[6]||(t[6]=t=>e.loadMoreBids())},Object(i["toDisplayString"])(e.$localizeFilter("load_more")),1)])):Object(i["createCommentVNode"])("",!0)])]),e.showBuyBidModal?(Object(i["openBlock"])(),Object(i["createBlock"])(x,{key:1,poolId:e.poolId,bid:e.buyBidModalData,testBalance:e.testBalance,onReloadData:e.reloadData,onCloseModal:e.closeModals},null,8,["poolId","bid","testBalance","onReloadData","onCloseModal"])):Object(i["createCommentVNode"])("",!0),e.showSellBidModal?(Object(i["openBlock"])(),Object(i["createBlock"])(T,{key:2,poolId:e.poolId,testBalance:e.testBalance,onReloadData:e.reloadData,onCloseModal:e.closeModals},null,8,["poolId","testBalance","onReloadData","onCloseModal"])):Object(i["createCommentVNode"])("",!0),e.showInfoModal?(Object(i["openBlock"])(),Object(i["createBlock"])(F,{key:3,onCloseModal:e.closeModals},null,8,["onCloseModal"])):Object(i["createCommentVNode"])("",!0)])}var T=l("ed09"),F=l("e977"),P=l("14ba"),q=l.n(P),U=l("362b"),R=l.n(U);const L=e=>(Object(i["pushScopeId"])("data-v-2e4c7afa"),e=e(),Object(i["popScopeId"])(),e),H={class:"auction-wrapper"},G={class:"auction-bid-item auction-bid-id"},J={class:"auction-bid-item auction-bid-user-id"},K={class:"auction-bid-item auction-bid-value"},Q={key:1,class:"auction-bid-item auction-bid-price"},W={class:"auction-bid-item auction-bid-progress"},X={key:0,class:"column-4"},Y={key:1,src:q.a,alt:""},Z={key:2,src:R.a,alt:""},ee={class:"auction-bid-id-mobile"},te=L(()=>Object(i["createElementVNode"])("br",null,null,-1)),le={class:"auction-bid-user-id-mobile"},ie=L(()=>Object(i["createElementVNode"])("span",null,"ID",-1)),ae=L(()=>Object(i["createElementVNode"])("br",null,null,-1)),ce={class:"info"},oe={key:0,class:"auction-bid-value-mobile"},ne=L(()=>Object(i["createElementVNode"])("br",null,null,-1)),se={class:"auction-bid-price-mobile"},re=L(()=>Object(i["createElementVNode"])("br",null,null,-1)),de={class:"auction-bid-progress-mobile"},be={key:0,class:"column-4"},ue={key:1,src:q.a,alt:""},me={key:2,src:R.a,alt:""};function pe(e,t,l,a,c,o){var n,s;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",H,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["auction-bid",e.getClass()])},["sell"!==e.bid.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"auction-bid-item auction-bid-place",onClick:t[0]||(t[0]=Object(i["withModifiers"])(t=>e.onPlaceClick(),["stop"]))},Object(i["toDisplayString"])(e.place)+". ",1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",G,Object(i["toDisplayString"])(e.bid.requestId),1),Object(i["createElementVNode"])("div",J,Object(i["toDisplayString"])(e.bid.clientId),1),Object(i["createElementVNode"])("div",K,Object(i["toDisplayString"])(e.$utils.formatNumber(e.amount,"en-US",0,6))+"$",1),"sell"!==e.bid.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Q,Object(i["toDisplayString"])(e.$utils.formatNumber(e.payAmount,"en-US",0,6))+"$",1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",W,[e.bid.clientId===(null===(n=e.profile)||void 0===n?void 0:n.id)&&"sell"!==e.bid.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",X,[Object(i["createElementVNode"])("button",{class:"underline-button",onClick:t[1]||(t[1]=(...t)=>e.cancelBid&&e.cancelBid(...t))},Object(i["toDisplayString"])(e.$localizeFilter("cancel")),1),Object(i["createElementVNode"])("button",{class:"change-button",onClick:t[2]||(t[2]=(...t)=>e.changeBid&&e.changeBid(...t))},Object(i["toDisplayString"])(e.$localizeFilter("change")),1)])):Object(i["createCommentVNode"])("",!0),e.payAmount>480?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Y)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Z))])],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["auction-bid-mobile",e.getClass()])},[Object(i["createElementVNode"])("div",ee,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$localizeFilter("application_number")),1),te,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.bid.requestId),1)]),Object(i["createElementVNode"])("div",le,[ie,ae,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.bid.clientId),1)]),Object(i["createElementVNode"])("div",ce,["sell"!==e.bid.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",oe,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$localizeFilter("price2")),1),ne,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$utils.formatNumber(e.payAmount,"en-US",0,6))+"$",1)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",se,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$localizeFilter("share_size")),1),re,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$utils.formatNumber(e.amount,"en-US",0,6))+"$",1)])]),Object(i["createElementVNode"])("div",de,[e.bid.clientId===(null===(s=e.profile)||void 0===s?void 0:s.id)&&"sell"!==e.bid.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",be,[Object(i["createElementVNode"])("button",{class:"underline-button",onClick:t[3]||(t[3]=(...t)=>e.cancelBid&&e.cancelBid(...t))},Object(i["toDisplayString"])(e.$localizeFilter("cancel")),1),Object(i["createElementVNode"])("button",{class:"change-button",onClick:t[4]||(t[4]=(...t)=>e.changeBid&&e.changeBid(...t))},Object(i["toDisplayString"])(e.$localizeFilter("change")),1)])):Object(i["createCommentVNode"])("",!0),e.payAmount>100?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",ue)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",me))])],2)])}var Oe=Object(T["a"])({props:["bid"],setup(){return{}},methods:{changeBid(){this.$emit("changeBid",this.bid)},cancelBid(){this.$emit("cancelBid",this.bid)},getClass(){var e;let t="sell"===this.bid.type?"sell":"buy";return(null===(e=this.profile)||void 0===e?void 0:e.id)===this.bid.clientId&&(t+="-mine"),this.bid.isPriority&&(t+=" priority"),t},onPlaceClick(){this.$emit("showBidPlace",this.bid)}},computed:{profile(){return this.$store.getters.profile},amount(){return(this.bid.amount||0)/1e6},payAmount(){return(this.bid.payAmount||0)/1e6},place(){return this.bid.place?this.bid.place:null}},mounted(){console.log(this.bid)}}),je=(l("48eb"),l("d959")),he=l.n(je);const ge=he()(Oe,[["render",pe],["__scopeId","data-v-2e4c7afa"]]);var ve=ge,ye=l("3577"),Ne=l("ac95"),Ee=l("64dd"),ke=l.n(Ee);const Ve=e=>(Object(i["pushScopeId"])("data-v-75c03c73"),e=e(),Object(i["popScopeId"])(),e),Be={class:"modal-layout"},fe={class:"modal-content"},_e={class:"modal-content-outer-container"},$e={class:"modal-content-container"},De={class:"window-title"},we={class:"window-text"},Se={class:"input-field"},Me=["placeholder"],Ce={class:"errors"},Ie={class:"test-balance"},Ae={class:"window-text"},ze={class:"input-field"},xe=["placeholder"],Te={class:"errors"},Fe={class:"modal-warning"},Pe=Ve(()=>Object(i["createElementVNode"])("img",{class:"warning-label",src:ke.a,alt:""},null,-1)),qe={class:"window-text warning"};function Ue(e,t,l,a,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Be,[Object(i["createElementVNode"])("div",{class:"darken",onClick:t[5]||(t[5]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(i["createElementVNode"])("div",{class:"new-modal buy-bid-modal",onClick:t[4]||(t[4]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))}),Object(i["createElementVNode"])("div",fe,[Object(i["createElementVNode"])("div",_e,[Object(i["createElementVNode"])("div",$e,[Object(i["createElementVNode"])("p",De,Object(i["toDisplayString"])(e.$localizeFilter(e.isEditing?"changing_application_for_auction":"creating_application_for_auction")),1),Object(i["createElementVNode"])("p",we,Object(i["toDisplayString"])(e.$localizeFilter("buy_bid_modal_text_amount",["USDT"])),1),Object(i["createElementVNode"])("div",Se,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{id:"amount",class:Object(i["normalizeClass"])(["input-class",{invalid:e.v$.amount.$error}]),placeholder:e.$localizeFilter("amount_in",["USDT"]),type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t)},null,10,Me),[[i["vModelText"],e.amount,void 0,{trim:!0}]]),Object(i["createElementVNode"])("div",Ce,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.v$.amount.$errors,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("small",{class:"error",key:t},Object(i["toDisplayString"])(e.$message),1))),128))])]),Object(i["createElementVNode"])("div",Ie,Object(i["toDisplayString"])(e.$localizeFilter("available_for_deposit",[e.$utils.formatNumber(e.maxAmount,"en-US",0,6)+" USDT"])),1),Object(i["createElementVNode"])("p",Ae,Object(i["toDisplayString"])(e.$localizeFilter("buy_bid_modal_text_price",["USDT"])),1),Object(i["createElementVNode"])("div",ze,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{id:"payAmount",class:Object(i["normalizeClass"])(["input-class",{invalid:e.v$.payAmount.$error}]),placeholder:e.$localizeFilter("price_in",["USDT"]),type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.payAmount=t)},null,10,xe),[[i["vModelText"],e.payAmount,void 0,{trim:!0}]]),Object(i["createElementVNode"])("div",Te,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.v$.payAmount.$errors,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("small",{class:"error",key:t},Object(i["toDisplayString"])(e.$message),1))),128))])]),Object(i["createElementVNode"])("div",Fe,[Pe,Object(i["createElementVNode"])("p",qe,Object(i["toDisplayString"])(e.$localizeFilter("buy_bid_modal_warning")),1)]),Object(i["createElementVNode"])("button",{class:Object(i["normalizeClass"])(["basic-button submit-button",e.submitInProgress?"inactive":""]),onClick:t[3]||(t[3]=(...t)=>e.submitHandler&&e.submitHandler(...t))},Object(i["toDisplayString"])(e.$localizeFilter(e.isEditing?"change_an_application":"place_an_application")),3)])])])])])])}var Re=l("25a0"),Le=l("e3e1");var He=Object(T["a"])({props:{bid:{type:Object,default:null},poolId:{type:Number,required:!0},testBalance:{type:Number,required:!0}},validations(){return{amount:{required:Le["b"].withMessage(Object(F["a"])("field_must_not_be_empty"),Le["h"]),numeric:Le["b"].withMessage(Object(F["a"])("field_must_be_numeric"),Le["h"]),minValue:Le["b"].withMessage(Object(F["a"])("min_value",[this.minAmount]),Object(Le["f"])(this.minAmount))},payAmount:{required:Le["b"].withMessage(Object(F["a"])("field_must_not_be_empty"),Le["h"]),numeric:Le["b"].withMessage(Object(F["a"])("field_must_be_numeric"),Le["h"]),minValue:Le["b"].withMessage(Object(F["a"])("min_value",[this.minAmount]),Object(Le["f"])(this.minAmount)),maxValue:Le["b"].withMessage(Object(F["a"])("not_enough_funds_on_balance",["USDT"]),Object(Le["d"])(this.maxAmount))}}},setup(){return{v$:Object(Re["a"])()}},data:()=>({amount:null,payAmount:null,minAmount:0,submitInProgress:!1}),methods:{closeModal(e){this.$emit("closeModal",e)},async submitHandler(){var e;if(this.v$.$touch(),this.v$.$error)return;this.submitInProgress=!0;const t=Math.floor(1e6*Number(this.amount)),l=Math.floor(1e6*Number(this.payAmount));if(t>l)return void this.$error({message:Object(F["a"])("error_amount_more_than_pay_amount")});const i={poolId:this.poolId,requestId:null===(e=this.bid)||void 0===e?void 0:e.requestId,amount:t,payAmount:l};try{this.isEditing?(await this.$store.dispatch("editLiquidityProvidingAuctionBuyRequest",i),this.$message(Object(F["a"])("change_bid_successful")),this.$emit("reloadData"),this.$emit("closeModal"),setTimeout(()=>{this.submitInProgress=!1},1e3)):(await this.$store.dispatch("createLiquidityProvidingAuctionBuyRequest",i),this.$message(Object(F["a"])("buy_bid_successful")),this.$emit("reloadData"),this.$emit("closeModal"),setTimeout(()=>{this.submitInProgress=!1},1e3))}catch(a){this.$error(a),setTimeout(()=>{this.submitInProgress=!1},1e3)}}},computed:{isEditing(){return null!==this.bid},assetDecimalsMap(){return this.$store.getters.assetDecimalsMap},maxAmount(){return this.testBalance/1e6}},mounted(){this.bid&&(this.amount=this.bid.amount/1e6,this.payAmount=this.bid.payAmount/1e6)}});l("5cc3");const Ge=he()(He,[["render",Ue],["__scopeId","data-v-75c03c73"]]);var Je=Ge;const Ke=e=>(Object(i["pushScopeId"])("data-v-1c115226"),e=e(),Object(i["popScopeId"])(),e),Qe={class:"modal-layout"},We={class:"modal-content"},Xe={class:"modal-content-outer-container"},Ye={class:"modal-content-container"},Ze={class:"window-title"},et={class:"window-text"},tt={class:"input-field"},lt=["placeholder"],it={class:"errors"},at={class:"modal-warning"},ct=Ke(()=>Object(i["createElementVNode"])("img",{class:"warning-label",src:ke.a,alt:""},null,-1)),ot={class:"window-text warning"},nt={class:"modal-warning"},st=Ke(()=>Object(i["createElementVNode"])("img",{class:"warning-label",src:ke.a,alt:""},null,-1)),rt=["innerHTML"],dt={for:"checkbox",class:"conditions-label"};function bt(e,t,l,a,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Qe,[Object(i["createElementVNode"])("div",{class:"darken",onClick:t[7]||(t[7]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(i["createElementVNode"])("div",{class:"new-modal sell-bid-modal",onClick:t[6]||(t[6]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))}),Object(i["createElementVNode"])("div",We,[Object(i["createElementVNode"])("div",Xe,[Object(i["createElementVNode"])("div",Ye,[Object(i["createElementVNode"])("p",Ze,Object(i["toDisplayString"])(e.$localizeFilter("sell_application_on_auction")),1),Object(i["createElementVNode"])("p",et,Object(i["toDisplayString"])(e.$localizeFilter("sell_bid_modal_text_amount",["USDT"])),1),Object(i["createElementVNode"])("div",tt,[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{id:"amount",class:Object(i["normalizeClass"])(["input-class",{invalid:e.v$.amount.$error}]),placeholder:e.$localizeFilter("amount_in",["USDT"]),type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t)},null,10,lt),[[i["vModelText"],e.amount,void 0,{trim:!0}]]),Object(i["createElementVNode"])("div",it,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.v$.amount.$errors,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("small",{class:"error",key:t},Object(i["toDisplayString"])(e.$message),1))),128))])]),Object(i["createElementVNode"])("div",at,[ct,Object(i["createElementVNode"])("p",ot,Object(i["toDisplayString"])(e.$localizeFilter("sell_bid_modal_warning_1")),1)]),Object(i["createElementVNode"])("div",nt,[st,Object(i["createElementVNode"])("p",{class:"window-text warning",innerHTML:e.$localizeFilter("sell_bid_modal_warning_2")},null,8,rt)]),Object(i["createElementVNode"])("div",{class:"conditions-block",onClick:t[4]||(t[4]=(...t)=>e.acceptÐ¡onditions&&e.acceptÐ¡onditions(...t))},[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"checkbox",id:"checkbox",class:"custom-checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.conditionsAccepted=t),onClick:t[3]||(t[3]=(...t)=>e.acceptÐ¡onditions&&e.acceptÐ¡onditions(...t))},null,512),[[i["vModelCheckbox"],e.conditionsAccepted]]),Object(i["createElementVNode"])("label",dt,Object(i["toDisplayString"])(e.$localizeFilter("modal_sell_bid_agreement")),1)]),Object(i["createElementVNode"])("button",{class:Object(i["normalizeClass"])(["basic-button submit-button",(e.conditionsAccepted?"":"inactive")+(e.submitInProgress?"inactive":"")]),onClick:t[5]||(t[5]=(...t)=>e.submitHandler&&e.submitHandler(...t))},Object(i["toDisplayString"])(e.$localizeFilter("create_an_application")),3)])])])])])])}var ut=Object(T["a"])({props:{poolId:{type:Number,required:!0},testBalance:{type:Number,required:!0}},validations(){return{amount:{required:Le["b"].withMessage(Object(F["a"])("field_must_not_be_empty"),Le["h"]),numeric:Le["b"].withMessage(Object(F["a"])("field_must_be_numeric"),Le["h"]),minValue:Le["b"].withMessage(Object(F["a"])("min_value",[this.minAmount]),Object(Le["f"])(this.minAmount)),maxValue:Le["b"].withMessage(Object(F["a"])("not_enough_funds_on_balance",["USDT"]),Object(Le["d"])(this.maxAmount))}}},setup(){return{v$:Object(Re["a"])()}},data:()=>({amount:null,minAmount:0,submitInProgress:!1,conditionsAccepted:!1}),methods:{"acceptÐ¡onditions"(){this.conditionsAccepted=!this.conditionsAccepted},closeModal(e){this.$emit("closeModal",e)},async submitHandler(){if(this.v$.$touch(),!this.v$.$error&&this.conditionsAccepted){this.submitInProgress=!0;try{const e=Math.floor(1e6*Number(this.amount)),t={poolId:this.poolId,amount:e};await this.$store.dispatch("createLiquidityProvidingAuctionSellRequest",t),this.$message(Object(F["a"])("sell_bid_successful")),this.$emit("reloadData"),this.$emit("closeModal"),setTimeout(()=>{this.submitInProgress=!1},1e3)}catch(e){this.$error(e),setTimeout(()=>{this.submitInProgress=!1},1e3)}}}},computed:{assetDecimalsMap(){return this.$store.getters.assetDecimalsMap},maxAmount(){return this.testBalance/1e6}},mounted(){}});l("ceed");const mt=he()(ut,[["render",bt],["__scopeId","data-v-1c115226"]]);var pt=mt;const Ot={class:"modal-layout"},jt={class:"new-modal-back-button-container"},ht={class:"modal-content"},gt={class:"window-title"},vt={class:"window-text"};function yt(e,t,l,a,c,o){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ot,[Object(i["createElementVNode"])("div",{class:"darken",onClick:t[3]||(t[3]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(i["createElementVNode"])("div",{class:"new-modal bid-info-modal",onClick:t[2]||(t[2]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createElementVNode"])("div",jt,[Object(i["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(i["createElementVNode"])("div",ht,[Object(i["createElementVNode"])("p",gt,Object(i["toDisplayString"])(e.$localizeFilter("auction")),1),Object(i["createElementVNode"])("p",vt,Object(i["toDisplayString"])(e.$localizeFilter("auction_info_modal_text")),1),Object(i["createElementVNode"])("button",{class:"basic-button submit-button",onClick:t[1]||(t[1]=t=>e.closeModal())},"Ok")])])])])}var Nt=Object(T["a"])({props:{},setup(){},data:()=>({}),methods:{closeModal(e){this.$emit("closeModal",e)}},computed:{}});l("6647");const Et=he()(Nt,[["render",yt],["__scopeId","data-v-340d4f83"]]);var kt=Et,Vt=Object(T["a"])({components:{ProvidingAuctionBid:ve,BuySellToggle:ye["a"],LargeToggle:Ne["a"],AuctionBuyBidModal:Je,AuctionSellBidModal:pt,AuctionInfoModal:kt},props:{poolId:{type:Number,required:!0},currency1:{type:String,required:!0},currency2:{type:String,required:!0},from:{type:String,required:!0}},setup(){},watch:{selectedAction(e,t){this.$nextTick(()=>{e!==t&&(this.reloadData(),this.restartInterval())})}},data:()=>({testBalance:null,showBuyBidModal:!1,buyBidModalData:null,showSellBidModal:!1,showInfoModal:!1,bids:[],pageSize:20,page:1,interval:null,filter:"all"}),computed:{actions(){return this.$store.getters.liquidityProvidingAuctionActions},selectedAction(){return this.$store.getters.selectedLiquidityProvidingAuctionAction},skip(){return(this.page-1)*this.pageSize},limit(){return this.pageSize},countdown(){let e=Math.max(this.$store.getters.liquidityProvidingAuctionNextRoundTimeLeft,0),t=Math.floor(e/1e3),l=Math.floor(t/60),i=t-60*l;return i<10&&(i="0"+i),`${l}:${i}`}},methods:{async clearData(){try{await this.$store.dispatch("liquidityProvidingAuctionCleanData"),this.reloadData()}catch(e){console.log(e)}},async executeRound(){try{await this.$store.dispatch("liquidityProvidingAuctionExecuteTradingRound"),this.reloadData()}catch(e){console.log(e)}},restartInterval(){this.interval?(clearInterval(this.interval),this.interval=null,this.interval=setInterval(async()=>{await this.loadData(!0,!1)},3e3)):this.interval=setInterval(async()=>{await this.loadData(!0,!1)},3e3)},closeModals(){this.showBuyBidModal=!1,this.buyBidModalData=null,this.showSellBidModal=!1,this.testBalance=null,this.showInfoModal=!1},toggle(e){this.$store.commit("SET_SELECTED_PROVIDING_AUCTION_ACTION",this.actions[e]),this.reloadData()},async reloadData(){await this.loadData(!0)},async loadData(e=!1,t=!1){try{t?this.bids.length%this.pageSize===0&&this.page++:this.page=1;const e={poolId:this.poolId,type:this.selectedAction,skip:this.skip,limit:this.limit,filter:this.filter},l=await this.$store.dispatch("getAuctionProvidingBids",e);let i=l.bids;this.$store.dispatch("stopNextProvidingAuctionRoundTimer"),this.$store.dispatch("runNextProvidingAuctionRoundTimer",{timestamp:l.nextRoundTimestamp});for(let t=0;t<i.length;t++)i[t].type=this.selectedAction;t?this.bids.length%this.pageSize===0?(this.bids=this.bids.concat(i),0===i.length&&this.page--):this.bids=this.bids.slice(0,this.bids.length-this.bids.length%this.pageSize).concat(i):this.bids=i}catch(l){e||this.$error(l)}},async submitApplication(e=null){try{const t=await this.$store.dispatch("getLiquidityProvidingBalance");this.testBalance=t.balance,"buy"===this.selectedAction?this.openBuyBidModal(e):this.openSellBidModal()}catch(t){this.$error(t)}},openBuyBidModal(e=null){e&&(this.buyBidModalData=e),this.showBuyBidModal=!0},openSellBidModal(){this.showSellBidModal=!0},openInfoModal(){this.showInfoModal=!0},changeBid(e){this.submitApplication(e)},cancelBid(e){const t={requestId:e.requestId};try{this.$store.dispatch("cancelLiquidityProvidingAuctionBuyRequest",t),this.$message(Object(F["a"])("bid_cancelled")),this.reloadData()}catch(l){this.$error(l)}},loadMoreBids(){clearInterval(this.interval),this.interval=null,this.loadData(!0,!0)}},async mounted(){await this.loadData(),this.interval=setInterval(async()=>{await this.loadData(!0,!1)},3e3)},unmounted(){this.$store.commit("SET_SELECTED_PROVIDING_AUCTION_ACTION","buy"),clearInterval(this.interval),this.interval=null,this.$store.dispatch("stopNextProvidingAuctionRoundTimer")}});l("ace6");const Bt=he()(Vt,[["render",x],["__scopeId","data-v-6219dcf1"]]);t["default"]=Bt},"9fff":function(e,t,l){"use strict";l("7c24")},ac95:function(e,t,l){"use strict";var i=l("7a23");const a={class:"large-toggle-block"},c={key:0,class:"title"},o={class:"large-toggle-container"};function n(e,t,l,n,s,r){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",a,[e.title?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",c,Object(i["toDisplayString"])(e.title),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",o,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["large-toggle left",0==e.value?"selected":"default"]),onClick:t[0]||(t[0]=t=>e.toggle(0))},[Object(i["createElementVNode"])("label",{class:Object(i["normalizeClass"])(["text",0==e.value?"selected":""])},Object(i["toDisplayString"])(e.$localizeFilter(e.variants[0])),3)],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["large-toggle right",1==e.value?"selected":"default"]),onClick:t[1]||(t[1]=t=>e.toggle(1))},[Object(i["createElementVNode"])("label",{class:Object(i["normalizeClass"])(["text",1==e.value?"selected":""])},Object(i["toDisplayString"])(e.$localizeFilter(e.variants[1])),3)],2)])])}var s=l("ed09"),r=Object(s["a"])({props:["title","variants","selected"],watch:{selected:function(e,t){null!=e&&void 0!=e&&(this.value=this.variants.indexOf(e))}},data:()=>({value:0}),methods:{toggle(e){this.value=e,this.$emit("toggle",Number(this.value))}}}),d=(l("9fff"),l("d959")),b=l.n(d);const u=b()(r,[["render",n],["__scopeId","data-v-26c0674c"]]);t["a"]=u},ace6:function(e,t,l){"use strict";l("7a55")},ceed:function(e,t,l){"use strict";l("df1f")},dee2:function(e,t,l){},df1f:function(e,t,l){},df27:function(e,t,l){}}]);
//# sourceMappingURL=chunk-ae7c6ed2.38b9db0c.js.map