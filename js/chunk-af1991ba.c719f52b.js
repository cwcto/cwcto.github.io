(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af1991ba"],{"32b31":function(e,t,a){"use strict";a("be04")},3577:function(e,t,a){"use strict";var l=a("7a23");const o={class:"buy-sell-toggle-block"},c={key:0,class:"title"},i={class:"buy-sell-toggle-container"};function n(e,t,a,n,s,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",o,[e.title?(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",c,Object(l["toDisplayString"])(e.title),1)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",i,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["buy-sell-toggle left",0==e.value?"selected":"default"]),onClick:t[0]||(t[0]=t=>e.toggle(0))},[Object(l["createElementVNode"])("label",{class:Object(l["normalizeClass"])(["text",0==e.value?"selected":""])},Object(l["toDisplayString"])(e.$localizeFilter(e.variants[0])),3)],2),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["buy-sell-toggle right",1==e.value?"selected":"default"]),onClick:t[1]||(t[1]=t=>e.toggle(1))},[Object(l["createElementVNode"])("label",{class:Object(l["normalizeClass"])(["text",1==e.value?"selected":""])},Object(l["toDisplayString"])(e.$localizeFilter(e.variants[1])),3)],2)])])}var s=a("ed09"),r=Object(s["a"])({props:["title","variants","selected"],watch:{selected:function(e,t){null!=e&&void 0!=e&&(this.value=this.variants.indexOf(e))}},data:()=>({value:0}),methods:{toggle(e){this.value=e,this.$emit("toggle",Number(this.value))}}}),d=(a("7053"),a("d959")),b=a.n(d);const u=b()(r,[["render",n],["__scopeId","data-v-ac484fca"]]);t["a"]=u},"3e89":function(e,t,a){},"4e83":function(e,t,a){"use strict";a("7df5")},7053:function(e,t,a){"use strict";a("dee2")},7100:function(e,t,a){},"7df5":function(e,t,a){},"84a0":function(e,t,a){},ac95:function(e,t,a){"use strict";var l=a("7a23");const o={class:"large-toggle-block"},c={key:0,class:"title"},i={class:"large-toggle-container"};function n(e,t,a,n,s,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",o,[e.title?(Object(l["openBlock"])(),Object(l["createElementBlock"])("label",c,Object(l["toDisplayString"])(e.title),1)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",i,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["large-toggle left",0==e.value?"selected":"default"]),onClick:t[0]||(t[0]=t=>e.toggle(0))},[Object(l["createElementVNode"])("label",{class:Object(l["normalizeClass"])(["text",0==e.value?"selected":""])},Object(l["toDisplayString"])(e.$localizeFilter(e.variants[0])),3)],2),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["large-toggle right",1==e.value?"selected":"default"]),onClick:t[1]||(t[1]=t=>e.toggle(1))},[Object(l["createElementVNode"])("label",{class:Object(l["normalizeClass"])(["text",1==e.value?"selected":""])},Object(l["toDisplayString"])(e.$localizeFilter(e.variants[1])),3)],2)])])}var s=a("ed09"),r=Object(s["a"])({props:["title","variants","selected"],watch:{selected:function(e,t){null!=e&&void 0!=e&&(this.value=this.variants.indexOf(e))}},data:()=>({value:0}),methods:{toggle(e){this.value=e,this.$emit("toggle",Number(this.value))}}}),d=(a("f39b"),a("d959")),b=a.n(d);const u=b()(r,[["render",n],["__scopeId","data-v-f809d2e6"]]);t["a"]=u},aeae:function(e,t,a){"use strict";a("be16")},be04:function(e,t,a){},be16:function(e,t,a){},dee2:function(e,t,a){},dfd0:function(e,t,a){"use strict";a("84a0")},e261:function(e,t,a){"use strict";a.r(t);var l=a("7a23"),o=a("5bab"),c=a.n(o);const i=e=>(Object(l["pushScopeId"])("data-v-4a98fc03"),e=e(),Object(l["popScopeId"])(),e),n=i(()=>Object(l["createElementVNode"])("img",{class:"back-button-arrow",src:c.a},null,-1)),s={class:"back-button-text"},r={class:"title-block"},d={class:"title"},b=i(()=>Object(l["createElementVNode"])("div",{class:"subtitle"},null,-1)),u={class:"bid-button-container"},m={class:"counter"},p=i(()=>Object(l["createElementVNode"])("span",{class:"label"},"До следующего раунда: ",-1)),h={class:"value"},O={key:0,class:"view-for-radiobuttons"},j={class:"radiobuttons-block"},v={class:"radiobutton-block"},g={for:"radio1",class:"radio-label"},y={class:"radiobutton-block"},E={for:"radio2",class:"radio-label"},N={class:"bids-container"},k={key:0,class:"load-more-button-container"};function V(e,t,a,o,c,i){const V=Object(l["resolveComponent"])("LargeToggle"),_=Object(l["resolveComponent"])("AuctionBid"),B=Object(l["resolveComponent"])("AuctionBuyBidModal"),f=Object(l["resolveComponent"])("AuctionSellBidModal"),$=Object(l["resolveComponent"])("AuctionInfoModal");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"auction",onClick:t[7]||(t[7]=(...t)=>e.hideDropdowns&&e.hideDropdowns(...t))},[Object(l["createElementVNode"])("button",{class:"back-button",onClick:t[0]||(t[0]=t=>e.$router.back())},[n,Object(l["createElementVNode"])("p",s,Object(l["toDisplayString"])(e.$localizeFilter("liquidity_provider")),1)]),Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("div",d,Object(l["toDisplayString"])(e.$localizeFilter("auction_title",[e.currency1,e.currency2])),1)]),b,Object(l["createVNode"])(V,{title:null,variants:e.actions.map(e=>e+"_2"),onToggle:e.toggle},null,8,["variants","onToggle"]),Object(l["createElementVNode"])("div",u,[Object(l["createElementVNode"])("button",{class:"bid-button",onClick:t[1]||(t[1]=t=>e.submitApplication())},Object(l["toDisplayString"])(e.$localizeFilter("submit_application")),1),Object(l["createElementVNode"])("div",m,[p,Object(l["createElementVNode"])("span",h,Object(l["toDisplayString"])(e.countdown),1)])]),"buy"===e.selectedAction?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",O,[Object(l["createElementVNode"])("div",j,[Object(l["createElementVNode"])("div",v,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"radio",id:"radio1",name:"radio",value:"all","onUpdate:modelValue":t[2]||(t[2]=t=>e.filter=t),onChange:t[3]||(t[3]=(...t)=>e.reloadData&&e.reloadData(...t))},null,544),[[l["vModelRadio"],e.filter]]),Object(l["createElementVNode"])("label",g,Object(l["toDisplayString"])(e.$localizeFilter("all_bids")),1)]),Object(l["createElementVNode"])("div",y,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"radio",id:"radio2",name:"radio",value:"my","onUpdate:modelValue":t[4]||(t[4]=t=>e.filter=t),onChange:t[5]||(t[5]=(...t)=>e.reloadData&&e.reloadData(...t))},null,544),[[l["vModelRadio"],e.filter]]),Object(l["createElementVNode"])("label",E,Object(l["toDisplayString"])(e.$localizeFilter("my_bids")),1)])])])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",N,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.bids,(t,a)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:a},[Object(l["createVNode"])(_,{bid:t,onChangeBid:e.changeBid,onCancelBid:e.cancelBid},null,8,["bid","onChangeBid","onCancelBid"])]))),128)),e.bids.length>0&&"all"===e.filter?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",k,[Object(l["createElementVNode"])("button",{class:"load-more-button",onClick:t[6]||(t[6]=t=>e.loadMoreBids())},Object(l["toDisplayString"])(e.$localizeFilter("load_more")),1)])):Object(l["createCommentVNode"])("",!0)]),e.showBuyBidModal?(Object(l["openBlock"])(),Object(l["createBlock"])(B,{key:1,poolId:e.poolId,bid:e.buyBidModalData,testBalance:e.testBalance,onReloadData:e.reloadData,onCloseModal:e.closeModals},null,8,["poolId","bid","testBalance","onReloadData","onCloseModal"])):Object(l["createCommentVNode"])("",!0),e.showSellBidModal?(Object(l["openBlock"])(),Object(l["createBlock"])(f,{key:2,poolId:e.poolId,testBalance:e.testBalance,onReloadData:e.reloadData,onCloseModal:e.closeModals},null,8,["poolId","testBalance","onReloadData","onCloseModal"])):Object(l["createCommentVNode"])("",!0),e.showInfoModal?(Object(l["openBlock"])(),Object(l["createBlock"])($,{key:3,onCloseModal:e.closeModals},null,8,["onCloseModal"])):Object(l["createCommentVNode"])("",!0)])}var _=a("ed09"),B=a("e977");const f=e=>(Object(l["pushScopeId"])("data-v-ee8cc6d6"),e=e(),Object(l["popScopeId"])(),e),$={class:"row-1"},w={class:"column-1"},D={class:"column-title"},M={class:"column-value"},C={style:"font-weight: bold;"},S={class:"column-2"},A={class:"column-title"},I={class:"column-value"},z=f(()=>Object(l["createElementVNode"])("span",{style:"font-weight: bold;"},"USDT",-1)),x={class:"row-2"},T={key:0,class:"column-3"},F={class:"column-title"},q={class:"column-value"},P=f(()=>Object(l["createElementVNode"])("span",{style:"font-weight: bold;"},"USDT",-1)),U={key:1,class:"column-4"};function R(e,t,a,o,c,i){var n;return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:Object(l["normalizeClass"])(["auction-bid",e.getClass()])},[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["auction-bid-background",e.getClass()])},null,2),e.place?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:"auction-bid-place",onClick:t[0]||(t[0]=Object(l["withModifiers"])(t=>e.onPlaceClick(),["stop"]))},Object(l["toDisplayString"])(e.place)+". ",1)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",$,[Object(l["createElementVNode"])("div",w,[Object(l["createElementVNode"])("div",D,Object(l["toDisplayString"])(e.$localizeFilter("user"))+": ",1),Object(l["createElementVNode"])("div",M,[Object(l["createElementVNode"])("span",C,Object(l["toDisplayString"])("ID: "+e.bid.clientId),1)])]),Object(l["createElementVNode"])("div",S,[Object(l["createElementVNode"])("div",A,Object(l["toDisplayString"])(e.$localizeFilter("pool_share_size"))+": ",1),Object(l["createElementVNode"])("div",I,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.$utils.formatNumber(e.amount,"en-US",0,6))+" ",1),z])])]),Object(l["createElementVNode"])("div",x,["sell"!==e.bid.type?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",T,[Object(l["createElementVNode"])("div",F,Object(l["toDisplayString"])(e.$localizeFilter("price"))+": ",1),Object(l["createElementVNode"])("div",q,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.$utils.formatNumber(e.payAmount,"en-US",0,6))+" ",1),P])])):Object(l["createCommentVNode"])("",!0),e.bid.clientId===(null===(n=e.profile)||void 0===n?void 0:n.id)&&"sell"!==e.bid.type?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",U,[Object(l["createElementVNode"])("button",{class:"change-button",onClick:t[1]||(t[1]=(...t)=>e.changeBid&&e.changeBid(...t))},Object(l["toDisplayString"])(e.$localizeFilter("change")),1),Object(l["createElementVNode"])("button",{class:"underline-button",onClick:t[2]||(t[2]=(...t)=>e.cancelBid&&e.cancelBid(...t))},Object(l["toDisplayString"])(e.$localizeFilter("cancel")),1)])):Object(l["createCommentVNode"])("",!0)])],2)}var L=Object(_["a"])({props:["bid"],setup(){return{}},methods:{changeBid(){this.$emit("changeBid",this.bid)},cancelBid(){this.$emit("cancelBid",this.bid)},getClass(){var e;let t="sell"===this.bid.type?"sell":"buy";return(null===(e=this.profile)||void 0===e?void 0:e.id)===this.bid.clientId&&(t+="-mine"),this.bid.isPriority&&(t+=" priority"),t},onPlaceClick(){this.$emit("showBidPlace",this.bid)}},computed:{profile(){return this.$store.getters.profile},amount(){return(this.bid.amount||0)/1e6},payAmount(){return(this.bid.payAmount||0)/1e6},place(){return this.bid.place?this.bid.place:null}}}),H=(a("e50c"),a("d959")),J=a.n(H);const G=J()(L,[["render",R],["__scopeId","data-v-ee8cc6d6"]]);var K=G,Q=a("3577"),W=a("ac95");const X=e=>(Object(l["pushScopeId"])("data-v-96d8ab68"),e=e(),Object(l["popScopeId"])(),e),Y={class:"modal-layout"},Z={class:"new-modal-back-button-container"},ee={class:"modal-content"},te={class:"modal-content-outer-container"},ae={class:"modal-content-container"},le={class:"window-title"},oe={class:"window-text"},ce={class:"input-field"},ie=["placeholder"],ne={class:"errors"},se={class:"test-balance"},re={class:"window-text"},de={class:"input-field"},be=["placeholder"],ue={class:"errors"},me={class:"modal-warning"},pe=X(()=>Object(l["createElementVNode"])("i",{class:"material-icons",style:{color:"#CA8920!important","margin-top":"2px"}},"report",-1)),he={class:"window-text warning"};function Oe(e,t,a,o,c,i){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Y,[Object(l["createElementVNode"])("div",{class:"darken",onClick:t[5]||(t[5]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(l["createElementVNode"])("div",{class:"new-modal buy-bid-modal",onClick:t[4]||(t[4]=Object(l["withModifiers"])(()=>{},["stop"]))},[Object(l["createElementVNode"])("div",Z,[Object(l["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(l["createElementVNode"])("div",ee,[Object(l["createElementVNode"])("div",te,[Object(l["createElementVNode"])("div",ae,[Object(l["createElementVNode"])("p",le,Object(l["toDisplayString"])(e.$localizeFilter(e.isEditing?"changing_application_for_auction":"creating_application_for_auction")),1),Object(l["createElementVNode"])("p",oe,Object(l["toDisplayString"])(e.$localizeFilter("buy_bid_modal_text_amount",["USDT"])),1),Object(l["createElementVNode"])("div",ce,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"amount",class:Object(l["normalizeClass"])(["custom-input",{invalid:e.v$.amount.$error}]),placeholder:e.$localizeFilter("amount_in",["USDT"]),type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t)},null,10,ie),[[l["vModelText"],e.amount,void 0,{trim:!0}]]),Object(l["createElementVNode"])("div",ne,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.v$.amount.$errors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{class:"error",key:t},Object(l["toDisplayString"])(e.$message),1))),128))])]),Object(l["createElementVNode"])("div",se,Object(l["toDisplayString"])(e.$localizeFilter("available_for_deposit",[e.$utils.formatNumber(e.maxAmount,"en-US",0,6)+" USDT"])),1),Object(l["createElementVNode"])("p",re,Object(l["toDisplayString"])(e.$localizeFilter("buy_bid_modal_text_price",["USDT"])),1),Object(l["createElementVNode"])("div",de,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"payAmount",class:Object(l["normalizeClass"])(["custom-input",{invalid:e.v$.payAmount.$error}]),placeholder:e.$localizeFilter("price_in",["USDT"]),type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.payAmount=t)},null,10,be),[[l["vModelText"],e.payAmount,void 0,{trim:!0}]]),Object(l["createElementVNode"])("div",ue,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.v$.payAmount.$errors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{class:"error",key:t},Object(l["toDisplayString"])(e.$message),1))),128))])]),Object(l["createElementVNode"])("div",me,[pe,Object(l["createElementVNode"])("p",he,Object(l["toDisplayString"])(e.$localizeFilter("buy_bid_modal_warning")),1)]),Object(l["createElementVNode"])("button",{class:Object(l["normalizeClass"])(["basic-button submit-button",e.submitInProgress?"inactive":""]),onClick:t[3]||(t[3]=(...t)=>e.submitHandler&&e.submitHandler(...t))},Object(l["toDisplayString"])(e.$localizeFilter(e.isEditing?"change_an_application":"place_an_application")),3)])])])])])])}var je=a("25a0"),ve=a("e3e1");var ge=Object(_["a"])({props:{bid:{type:Object,default:null},poolId:{type:Number,required:!0},testBalance:{type:Number,required:!0}},validations(){return{amount:{required:ve["b"].withMessage(Object(B["a"])("field_must_not_be_empty"),ve["h"]),numeric:ve["b"].withMessage(Object(B["a"])("field_must_be_numeric"),ve["h"]),minValue:ve["b"].withMessage(Object(B["a"])("min_value",[this.minAmount]),Object(ve["f"])(this.minAmount))},payAmount:{required:ve["b"].withMessage(Object(B["a"])("field_must_not_be_empty"),ve["h"]),numeric:ve["b"].withMessage(Object(B["a"])("field_must_be_numeric"),ve["h"]),minValue:ve["b"].withMessage(Object(B["a"])("min_value",[this.minAmount]),Object(ve["f"])(this.minAmount)),maxValue:ve["b"].withMessage(Object(B["a"])("not_enough_funds_on_balance",["USDT"]),Object(ve["d"])(this.maxAmount))}}},setup(){return{v$:Object(je["a"])()}},data:()=>({amount:null,payAmount:null,minAmount:0,submitInProgress:!1}),methods:{closeModal(e){this.$emit("closeModal",e)},async submitHandler(){var e;if(this.v$.$touch(),this.v$.$error)return;this.submitInProgress=!0;const t=Math.floor(1e6*Number(this.amount)),a=Math.floor(1e6*Number(this.payAmount));if(t>a)return void this.$error({message:Object(B["a"])("error_amount_more_than_pay_amount")});const l={poolId:this.poolId,requestId:null===(e=this.bid)||void 0===e?void 0:e.requestId,amount:t,payAmount:a};try{this.isEditing?(await this.$store.dispatch("editLiquidityProvidingAuctionBuyRequest",l),this.$message(Object(B["a"])("change_bid_successful")),this.$emit("reloadData"),this.$emit("closeModal"),setTimeout(()=>{this.submitInProgress=!1},1e3)):(await this.$store.dispatch("createLiquidityProvidingAuctionBuyRequest",l),this.$message(Object(B["a"])("buy_bid_successful")),this.$emit("reloadData"),this.$emit("closeModal"),setTimeout(()=>{this.submitInProgress=!1},1e3))}catch(o){this.$error(o),setTimeout(()=>{this.submitInProgress=!1},1e3)}}},computed:{isEditing(){return null!==this.bid},assetDecimalsMap(){return this.$store.getters.assetDecimalsMap},maxAmount(){return this.testBalance/1e6}},mounted(){this.bid&&(this.amount=this.bid.amount/1e6,this.payAmount=this.bid.payAmount/1e6)}});a("4e83");const ye=J()(ge,[["render",Oe],["__scopeId","data-v-96d8ab68"]]);var Ee=ye;const Ne=e=>(Object(l["pushScopeId"])("data-v-0db63c88"),e=e(),Object(l["popScopeId"])(),e),ke={class:"modal-layout"},Ve={class:"new-modal-back-button-container"},_e={class:"modal-content"},Be={class:"modal-content-outer-container"},fe={class:"modal-content-container"},$e={class:"window-title"},we={class:"window-text"},De={class:"input-field"},Me=["placeholder"],Ce={class:"errors"},Se={class:"modal-warning"},Ae=Ne(()=>Object(l["createElementVNode"])("i",{class:"material-icons",style:{color:"#CA8920!important"}},"report",-1)),Ie={class:"window-text warning"},ze={class:"modal-warning"},xe=Ne(()=>Object(l["createElementVNode"])("i",{class:"material-icons",style:{color:"#CA8920!important"}},"report",-1)),Te=["innerHTML"],Fe={class:"checkbox-labels-block"},qe={for:"checkbox",class:"conditions-label"};function Pe(e,t,a,o,c,i){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ke,[Object(l["createElementVNode"])("div",{class:"darken",onClick:t[7]||(t[7]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(l["createElementVNode"])("div",{class:"new-modal sell-bid-modal",onClick:t[6]||(t[6]=Object(l["withModifiers"])(()=>{},["stop"]))},[Object(l["createElementVNode"])("div",Ve,[Object(l["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(l["createElementVNode"])("div",_e,[Object(l["createElementVNode"])("div",Be,[Object(l["createElementVNode"])("div",fe,[Object(l["createElementVNode"])("p",$e,Object(l["toDisplayString"])(e.$localizeFilter("sell_application_on_auction")),1),Object(l["createElementVNode"])("p",we,Object(l["toDisplayString"])(e.$localizeFilter("sell_bid_modal_text_amount",["USDT"])),1),Object(l["createElementVNode"])("div",De,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"amount",class:Object(l["normalizeClass"])(["custom-input",{invalid:e.v$.amount.$error}]),placeholder:e.$localizeFilter("amount_in",["USDT"]),type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t)},null,10,Me),[[l["vModelText"],e.amount,void 0,{trim:!0}]]),Object(l["createElementVNode"])("div",Ce,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.v$.amount.$errors,(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("small",{class:"error",key:t},Object(l["toDisplayString"])(e.$message),1))),128))])]),Object(l["createElementVNode"])("div",Se,[Ae,Object(l["createElementVNode"])("p",Ie,Object(l["toDisplayString"])(e.$localizeFilter("sell_bid_modal_warning_1")),1)]),Object(l["createElementVNode"])("div",ze,[xe,Object(l["createElementVNode"])("p",{class:"window-text warning",innerHTML:e.$localizeFilter("sell_bid_modal_warning_2")},null,8,Te)]),Object(l["createElementVNode"])("div",{class:"conditions-block",onClick:t[4]||(t[4]=(...t)=>e.acceptСonditions&&e.acceptСonditions(...t))},[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"checkbox",id:"checkbox",class:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.conditionsAccepted=t),onClick:t[3]||(t[3]=(...t)=>e.acceptСonditions&&e.acceptСonditions(...t))},null,512),[[l["vModelCheckbox"],e.conditionsAccepted]]),Object(l["createElementVNode"])("div",Fe,[Object(l["createElementVNode"])("label",qe,Object(l["toDisplayString"])(e.$localizeFilter("modal_sell_bid_agreement")),1)])]),Object(l["createElementVNode"])("button",{class:Object(l["normalizeClass"])(["basic-button submit-button",(e.conditionsAccepted?"":"inactive")+(e.submitInProgress?"inactive":"")]),onClick:t[5]||(t[5]=(...t)=>e.submitHandler&&e.submitHandler(...t))},Object(l["toDisplayString"])(e.$localizeFilter("create_an_application")),3)])])])])])])}var Ue=Object(_["a"])({props:{poolId:{type:Number,required:!0},testBalance:{type:Number,required:!0}},validations(){return{amount:{required:ve["b"].withMessage(Object(B["a"])("field_must_not_be_empty"),ve["h"]),numeric:ve["b"].withMessage(Object(B["a"])("field_must_be_numeric"),ve["h"]),minValue:ve["b"].withMessage(Object(B["a"])("min_value",[this.minAmount]),Object(ve["f"])(this.minAmount)),maxValue:ve["b"].withMessage(Object(B["a"])("not_enough_funds_on_balance",["USDT"]),Object(ve["d"])(this.maxAmount))}}},setup(){return{v$:Object(je["a"])()}},data:()=>({amount:null,minAmount:0,submitInProgress:!1,conditionsAccepted:!1}),methods:{"acceptСonditions"(){this.conditionsAccepted=!this.conditionsAccepted},closeModal(e){this.$emit("closeModal",e)},async submitHandler(){if(this.v$.$touch(),!this.v$.$error&&this.conditionsAccepted){this.submitInProgress=!0;try{const e=Math.floor(1e6*Number(this.amount)),t={poolId:this.poolId,amount:e};await this.$store.dispatch("createLiquidityProvidingAuctionSellRequest",t),this.$message(Object(B["a"])("sell_bid_successful")),this.$emit("reloadData"),this.$emit("closeModal"),setTimeout(()=>{this.submitInProgress=!1},1e3)}catch(e){this.$error(e),setTimeout(()=>{this.submitInProgress=!1},1e3)}}}},computed:{assetDecimalsMap(){return this.$store.getters.assetDecimalsMap},maxAmount(){return this.testBalance/1e6}},mounted(){}});a("aeae");const Re=J()(Ue,[["render",Pe],["__scopeId","data-v-0db63c88"]]);var Le=Re;const He={class:"modal-layout"},Je={class:"new-modal-back-button-container"},Ge={class:"modal-content"},Ke={class:"window-title"},Qe={class:"window-text"};function We(e,t,a,o,c,i){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",He,[Object(l["createElementVNode"])("div",{class:"darken",onClick:t[3]||(t[3]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(l["createElementVNode"])("div",{class:"new-modal bid-info-modal",onClick:t[2]||(t[2]=Object(l["withModifiers"])(()=>{},["stop"]))},[Object(l["createElementVNode"])("div",Je,[Object(l["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(l["createElementVNode"])("div",Ge,[Object(l["createElementVNode"])("p",Ke,Object(l["toDisplayString"])(e.$localizeFilter("auction")),1),Object(l["createElementVNode"])("p",Qe,Object(l["toDisplayString"])(e.$localizeFilter("auction_info_modal_text")),1),Object(l["createElementVNode"])("button",{class:"basic-button submit-button",onClick:t[1]||(t[1]=t=>e.closeModal())},"Ok")])])])])}var Xe=Object(_["a"])({props:{},setup(){},data:()=>({}),methods:{closeModal(e){this.$emit("closeModal",e)}},computed:{}});a("32b31");const Ye=J()(Xe,[["render",We],["__scopeId","data-v-210b7873"]]);var Ze=Ye,et=Object(_["a"])({components:{AuctionBid:K,BuySellToggle:Q["a"],LargeToggle:W["a"],AuctionBuyBidModal:Ee,AuctionSellBidModal:Le,AuctionInfoModal:Ze},props:{poolId:{type:Number,required:!0},currency1:{type:String,required:!0},currency2:{type:String,required:!0}},setup(){},watch:{selectedAction(e,t){this.$nextTick(()=>{e!==t&&(this.reloadData(),this.restartInterval())})}},data:()=>({testBalance:null,showBuyBidModal:!1,buyBidModalData:null,showSellBidModal:!1,showInfoModal:!1,bids:[],pageSize:20,page:1,interval:null,filter:"all"}),computed:{actions(){return this.$store.getters.auctionActions},selectedAction(){return this.$store.getters.selectedAuctionAction},skip(){return(this.page-1)*this.pageSize},limit(){return this.pageSize},countdown(){let e=Math.max(this.$store.getters.auctionNextRoundTimeLeft,0),t=Math.floor(e/1e3),a=Math.floor(t/60),l=t-60*a;return l<10&&(l="0"+l),`${a}:${l}`}},methods:{async clearData(){try{await this.$store.dispatch("liquidityProvidingAuctionCleanData"),this.reloadData()}catch(e){console.log(e)}},async executeRound(){try{await this.$store.dispatch("liquidityProvidingAuctionExecuteTradingRound"),this.reloadData()}catch(e){console.log(e)}},restartInterval(){this.interval?(clearInterval(this.interval),this.interval=null,this.interval=setInterval(async()=>{await this.loadData(!0,!1)},3e3)):this.interval=setInterval(async()=>{await this.loadData(!0,!1)},3e3)},closeModals(){this.showBuyBidModal=!1,this.buyBidModalData=null,this.showSellBidModal=!1,this.testBalance=null,this.showInfoModal=!1},toggle(e){this.$store.commit("SET_SELECTED_AUCTION_ACTION",this.actions[e]),this.reloadData()},async reloadData(){await this.loadData(!0)},async loadData(e=!1,t=!1){try{t?this.bids.length%this.pageSize===0&&this.page++:this.page=1;const e={poolId:this.poolId,type:this.selectedAction,skip:this.skip,limit:this.limit,filter:this.filter},a=await this.$store.dispatch("getAuctionProvidingBids",e);let l=a.bids;this.$store.dispatch("stopNextAuctionRoundTimer"),this.$store.dispatch("runNextAuctionRoundTimer",{timestamp:a.nextRoundTimestamp});for(let t=0;t<l.length;t++)l[t].type=this.selectedAction;t?this.bids.length%this.pageSize===0?(this.bids=this.bids.concat(l),0===l.length&&this.page--):this.bids=this.bids.slice(0,this.bids.length-this.bids.length%this.pageSize).concat(l):this.bids=l}catch(a){e||this.$error(a)}},async submitApplication(e=null){try{const t=await this.$store.dispatch("getLiquidityProvidingBalance");this.testBalance=t.balance,"buy"===this.selectedAction?this.openBuyBidModal(e):this.openSellBidModal()}catch(t){this.$error(t)}},openBuyBidModal(e=null){e&&(this.buyBidModalData=e),this.showBuyBidModal=!0},openSellBidModal(){this.showSellBidModal=!0},openInfoModal(){this.showInfoModal=!0},changeBid(e){this.submitApplication(e)},cancelBid(e){const t={requestId:e.requestId};try{this.$store.dispatch("cancelLiquidityProvidingAuctionBuyRequest",t),this.$message(Object(B["a"])("bid_cancelled")),this.reloadData()}catch(a){this.$error(a)}},loadMoreBids(){clearInterval(this.interval),this.interval=null,this.loadData(!0,!0)}},async mounted(){await this.loadData(),this.interval=setInterval(async()=>{await this.loadData(!0,!1)},3e3)},unmounted(){this.$store.commit("SET_SELECTED_AUCTION_ACTION","buy"),clearInterval(this.interval),this.interval=null,this.$store.dispatch("stopNextAuctionRoundTimer")}});a("dfd0");const tt=J()(et,[["render",V],["__scopeId","data-v-4a98fc03"]]);t["default"]=tt},e50c:function(e,t,a){"use strict";a("3e89")},f39b:function(e,t,a){"use strict";a("7100")}}]);
//# sourceMappingURL=chunk-af1991ba.c719f52b.js.map