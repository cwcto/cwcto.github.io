(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11fccfdc"],{"1be4":function(e,t,c){var n=c("d066");e.exports=n("document","documentElement")},"33d1":function(e,t,c){"use strict";var n=c("23e7"),i=c("7b0b"),o=c("07fa"),l=c("5926"),a=c("44d2");n({target:"Array",proto:!0},{at:function(e){var t=i(this),c=o(t),n=l(e),a=n>=0?n:c+n;return a<0||a>=c?void 0:t[a]}}),a("at")},"37e8":function(e,t,c){var n=c("83ab"),i=c("aed9"),o=c("9bf2"),l=c("825a"),a=c("fc6a"),r=c("df75");t.f=n&&!i?Object.defineProperties:function(e,t){l(e);var c,n=a(t),i=r(t),s=i.length,d=0;while(s>d)o.f(e,c=i[d++],n[c]);return e}},"44d2":function(e,t,c){var n=c("b622"),i=c("7c73"),o=c("9bf2").f,l=n("unscopables"),a=Array.prototype;void 0==a[l]&&o(a,l,{configurable:!0,value:i(null)}),e.exports=function(e){a[l][e]=!0}},"7c73":function(e,t,c){var n,i=c("825a"),o=c("37e8"),l=c("7839"),a=c("d012"),r=c("1be4"),s=c("cc12"),d=c("f772"),u=">",b="<",m="prototype",O="script",p=d("IE_PROTO"),j=function(){},h=function(e){return b+O+u+e+b+"/"+O+u},v=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){var e,t=s("iframe"),c="java"+O+":";return t.style.display="none",r.appendChild(t),t.src=String(c),e=t.contentWindow.document,e.open(),e.write(h("document.F=Object")),e.close(),e.F},y=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&n?v(n):g():v(n);var e=l.length;while(e--)delete y[m][l[e]];return y()};a[p]=!0,e.exports=Object.create||function(e,t){var c;return null!==e?(j[m]=i(e),c=new j,j[m]=null,c[p]=e):c=y(),void 0===t?c:o.f(c,t)}},"9ea8":function(e,t,c){"use strict";c("db20")},a4d3:function(e,t,c){"use strict";c("b1dc")},b1dc:function(e,t,c){},db20:function(e,t,c){},df75:function(e,t,c){var n=c("ca84"),i=c("7839");e.exports=Object.keys||function(e){return n(e,i)}},ea98:function(e,t,c){"use strict";var n=c("23e7"),i=c("e330"),o=c("1d80"),l=c("5926"),a=c("577e"),r=c("d039"),s=i("".charAt),d=r((function(){return"\ud842"!=="ð ®·".at(-2)}));n({target:"String",proto:!0,forced:d},{at:function(e){var t=a(o(this)),c=t.length,n=l(e),i=n>=0?n:c+n;return i<0||i>=c?void 0:s(t,i)}})},ee10:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),i=c("5902"),o=c.n(i);const l=e=>(Object(n["pushScopeId"])("data-v-6bdc447b"),e=e(),Object(n["popScopeId"])(),e),a={class:"closed-auction"},r={class:"title"},s={key:0,class:"coins-tabs-block"},d=["onClick"],u=["src"],b={class:"coin-tab-coin-ticker"},m={key:1,class:"window light"},O={key:0,class:"highlight-block"},p={key:1,class:"window-text"},j={key:2,class:"window-text"},h={key:3,class:"window-text"},v={class:"coin-timer-block"},g=["src"],y={key:4,class:"content-table"},k={class:"content-line"},C={class:"content-cell-1"},f={class:"bold-text"},E={class:"content-cell-2"},w={class:"bold-text blue-text"},N={class:"content-line"},V={class:"content-cell-1"},_={class:"bold-text"},x={class:"content-cell-2"},$={class:"bold-text"},D={class:"content-line"},S={class:"content-cell-1 limit-cell-1"},P={class:"bold-text limit-text"},T=l(()=>Object(n["createElementVNode"])("div",{class:"empty-space"},null,-1)),B={class:"content-cell-2 limit-cell-2"},M={class:"bold-text limit-text"},I={class:"blue-text"},F={key:5,class:"content-table"},A={class:"content-line"},z={class:"content-cell-1"},W={class:"bold-text"},H={class:"content-cell-2"},L={class:"bold-text"},R={key:6,class:"bold-text"},q={class:"blue-text"},J=l(()=>Object(n["createElementVNode"])("img",{class:"whale-circle",src:o.a},null,-1));function U(e,t,i,o,l,U){var G,Q,X,K;const Y=Object(n["resolveComponent"])("IncreaseLimitModal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("h1",r,Object(n["toDisplayString"])(e.$localizeFilter("closed_auction")),1),e.coins?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.coins,(t,i)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["coin-tab",t.selected?"selected":""]),key:i,onClick:t=>e.selectCoin(i)},[Object(n["createElementVNode"])("img",{class:"coin-tab-coin-icon",src:c("3619")(`./${e.$filters.lowercase(t.coinTicker)}_icon.png`)},null,8,u),Object(n["createElementVNode"])("p",b,Object(n["toDisplayString"])(t.coinTicker),1)],10,d))),128))])):Object(n["createCommentVNode"])("",!0),e.selectedCoin?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,[e.showHighlight?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",O)):Object(n["createCommentVNode"])("",!0),e.auctionRunning?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",p,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_running_text"))+" ",1),Object(n["createElementVNode"])("span",{class:"coin-link",onClick:t[0]||(t[0]=t=>e.openCoinPage())},Object(n["toDisplayString"])(e.currentCoinName),1),Object(n["createTextVNode"])(Object(n["toDisplayString"])(":"))])):e.auctionFinished?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",j,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_finished_text_1"))+" ",1),Object(n["createElementVNode"])("span",{class:"coin-link",onClick:t[1]||(t[1]=t=>e.openCoinPage())},Object(n["toDisplayString"])(e.currentCoinName),1),Object(n["createTextVNode"])(Object(n["toDisplayString"])(" "+e.$localizeFilter("closed_auction_finished_text_2")),1)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",h,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_waiting_text_1"))+" ",1),Object(n["createElementVNode"])("span",{class:"coin-link",onClick:t[2]||(t[2]=t=>e.openCoinPage())},Object(n["toDisplayString"])(e.currentCoinName),1),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$localizeFilter("closed_auction_waiting_text_2")),1)])),Object(n["createElementVNode"])("div",v,[e.auctionFinished?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",{key:0,class:Object(n["normalizeClass"])(["timer",e.auctionRunning?"auction-running":""])},Object(n["toDisplayString"])(e.timeLeft),3)),Object(n["createElementVNode"])("img",{src:c("441f")("./"+e.currentCoinName+".png"),class:"image"},null,8,g)]),e.auctionRunning?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",y,[Object(n["createElementVNode"])("li",k,[Object(n["createElementVNode"])("div",C,[Object(n["createElementVNode"])("p",f,Object(n["toDisplayString"])(e.startPriceText),1)]),Object(n["createElementVNode"])("div",E,[Object(n["createElementVNode"])("p",w,Object(n["toDisplayString"])("$"+e.startPrice),1)])]),Object(n["createElementVNode"])("li",N,[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("p",_,Object(n["toDisplayString"])(e.$localizeFilter("course_after_completion_closed_auctions")),1)]),Object(n["createElementVNode"])("div",x,[Object(n["createElementVNode"])("p",$,Object(n["toDisplayString"])("$"+(null===(G=e.selectedCoin)||void 0===G?void 0:G.rateAfterClosedPresale)),1)])]),Object(n["createElementVNode"])("li",D,[Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("p",P,Object(n["toDisplayString"])(e.$localizeFilter("you_can_buy")),1),T]),Object(n["createElementVNode"])("div",B,[Object(n["createElementVNode"])("p",M,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.youCanBuy+" "),1),Object(n["createElementVNode"])("span",I,Object(n["toDisplayString"])(null===(Q=e.selectedCoin)||void 0===Q?void 0:Q.coinTicker),1)]),Object(n["createElementVNode"])("button",{class:"increase-limit-button",onClick:t[3]||(t[3]=t=>e.increaseLimit())},Object(n["toDisplayString"])(e.$localizeFilter("increase_limit")),1)])])])):e.auctionFinished?(Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",F,[Object(n["createElementVNode"])("li",A,[Object(n["createElementVNode"])("div",z,[Object(n["createElementVNode"])("p",W,Object(n["toDisplayString"])(e.$localizeFilter("coin_rate")),1)]),Object(n["createElementVNode"])("div",H,[Object(n["createElementVNode"])("p",L,Object(n["toDisplayString"])("$"+(null===(X=e.selectedCoin)||void 0===X?void 0:X.rateAfterClosedPresale)),1)])])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",R,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.startPriceText+" "),1),Object(n["createElementVNode"])("span",q,Object(n["toDisplayString"])("$"+(null!==(K=e.startPrice)&&void 0!==K?K:"")),1)])),e.auctionRunning||e.auctionFinished?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:7,class:"basic-button",onClick:t[4]||(t[4]=t=>{var c;return e.buyCoin(null===(c=e.selectedCoin)||void 0===c?void 0:c.coinTicker,e.youCanBuy)})},Object(n["toDisplayString"])(e.$localizeFilter("buy_now")),1)):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0),J,e.showIncreaseLimitModal?(Object(n["openBlock"])(),Object(n["createBlock"])(Y,{key:2,coin:e.selectedCoin,rate:e.startPrice,clientId:e.clientId,onCloseModal:e.closeModals},null,8,["coin","rate","clientId","onCloseModal"])):Object(n["createCommentVNode"])("",!0)])}var G=c("ed09"),Q=c("e977");const X={class:"modal-layout"},K={class:"new-modal-back-button-container"},Y={class:"modal-content"},Z={class:"top-block"},ee={class:"window-title"},te={class:"text-amount-block"},ce={class:"amount-block"},ne={class:"window-text"},ie={class:"input-field"},oe=["placeholder"],le={class:"burn-cwpt-block"},ae={class:"window-text burn-cwpt-text"},re={class:"burn-cwpt-amount"},se={class:"button-block"};function de(e,t,c,i,o,l){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",X,[Object(n["createElementVNode"])("div",{class:"darken",onClick:t[4]||(t[4]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(n["createElementVNode"])("div",{class:"new-modal increase-limit-modal",onClick:t[3]||(t[3]=Object(n["withModifiers"])(()=>{},["stop"]))},[Object(n["createElementVNode"])("div",K,[Object(n["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(n["createElementVNode"])("div",Y,[Object(n["createElementVNode"])("div",Z,[Object(n["createElementVNode"])("p",ee,Object(n["toDisplayString"])(e.$localizeFilter("increase_limit_modal_title",[e.coin.coinTicker])),1)]),Object(n["createElementVNode"])("div",te,[Object(n["createElementVNode"])("div",ce,[Object(n["createElementVNode"])("p",ne,Object(n["toDisplayString"])(e.$localizeFilter("increase_limit_modal_text_1",[e.coin.coin])),1),Object(n["createElementVNode"])("div",ie,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"amount",class:Object(n["normalizeClass"])(["custom-input-2",{invalid:e.v$.amount.$error}]),placeholder:e.$localizeFilter("amount_of",[e.coin.coinTicker]),type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.amount=t)},null,10,oe),[[n["vModelText"],e.amount,void 0,{trim:!0}]]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.v$.amount.$errors,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("small",{class:"error",key:t},Object(n["toDisplayString"])(e.$message),1))),128))])])]),Object(n["createElementVNode"])("div",le,[Object(n["createElementVNode"])("p",ae,Object(n["toDisplayString"])(e.$localizeFilter("increase_limit_modal_text_2"))+":",1),Object(n["createElementVNode"])("p",re,Object(n["toDisplayString"])(e.amountCWPT+" CWPT"),1)]),Object(n["createElementVNode"])("div",se,[Object(n["createElementVNode"])("button",{class:"continue-button",onClick:t[2]||(t[2]=(...t)=>e.submitHandler&&e.submitHandler(...t))},Object(n["toDisplayString"])(e.$localizeFilter("continue")),1)])])])])])}c("33d1"),c("ea98");var ue=c("25a0"),be=c("e3e1"),me=(c("da29"),Object(G["a"])({props:{coin:{type:Object,required:!0},rate:{type:Number,required:!0},clientId:{type:Number,required:!0}},validations(){return{amount:{required:be["b"].withMessage(Object(Q["a"])("field_must_not_be_empty"),be["h"]),numeric:be["b"].withMessage(Object(Q["a"])("field_must_be_numeric"),be["g"]),minValue:be["b"].withMessage(Object(Q["a"])("min_value",[this.minAmount]),Object(be["f"])(this.minAmount))}}},setup(){return{v$:Object(ue["a"])()}},data:()=>({amount:null,minAmount:0}),computed:{amountCWPT(){return+((this.amount||0)*this.rate/10).toFixed(6)}},methods:{closeModal(e){this.$emit("closeModal",e)},async burnCWPT(){let e=!1;if(window.tronWeb){await tronWeb.trx.getAccount();let r=this.amountCWPT;r=1e6*r+"000000000000";let s=this.clientId,d=await tronWeb.contract().at("TLwGQimcVEuAdcfMRcjVxDCVy4h8wgEnBz"),u=this.coin.coinId,b=tronWeb.defaultAddress.base58;try{let a=await d.burn(r).send({feeLimit:1e8,callValue:0}),m=`CapitalWhale User Id: ${s}; Transaction Id: ${a}; Wallet Address: ${b}; Coin Id: ${u}`;var t=tronWeb.toHex(m).replace(/^0x/,""),c=tronWeb.utils.code.hexStr2byteArray(t),n=tronWeb.sha3(c).replace(/^0x/,""),i=await tronWeb.trx.sign(n),o=i.substring(128,130);"01"==o?i=i.substring(0,128)+"1c":"00"==o&&(i=i.substring(0,128)+"1b");await tronWeb.trx.verifyMessage(n,i,b);try{const t={address:b,signature:i,transactionId:a,coinId:u};await this.$store.dispatch("burnCWPT",t),e=!0}catch(l){this.$error(l)}}catch(a){}}else this.$error("TRON wallet not connected");return e},async submitHandler(){if(this.v$.$touch(),this.v$.$error)return;let e=await this.burnCWPT();this.closeModal(e)}}})),Oe=(c("a4d3"),c("d959")),pe=c.n(Oe);const je=pe()(me,[["render",de],["__scopeId","data-v-7851773d"]]);var he=je,ve=Object(G["a"])({data:()=>({selectedCoin:null,currTimestamp:+Date.now(),timerEndTimestamp:+Date.now(),showHighlight:!1,coins:null,showIncreaseLimitModal:!1}),setup(){},computed:{clientId(){return this.$store.getters.profile.id},auctionRunning(){var e;return"live"===(null===(e=this.selectedCoin)||void 0===e?void 0:e.type)},auctionFinished(){var e;return"finished"===(null===(e=this.selectedCoin)||void 0===e?void 0:e.type)},currentCoinName(){var e;return null===(e=this.selectedCoin)||void 0===e?void 0:e.coin},youCanBuy(){return this.selectedCoin?Math.min((this.selectedCoin.youCanBuy||0)+this.selectedCoin.limit,(this.selectedCoin.maxUSDBuyAmount||1/0)/this.startPrice):0},timeLeft(){let e=Math.floor((this.timerEndTimestamp-this.currTimestamp)/1e3);var t;if(e<=0)return"announce"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.type)&&this.startAuction(),"00:00";let c=Math.floor(e/3600),n=e%3600,i=Math.floor(n/60),o=Math.floor(n%60);return`${c}:${i>=10?i:"0"+i}:${o>=10?o:"0"+o}`},startPriceText(){var e,t;return"startPriceDOMHolder"==(null===(e=this.selectedCoin)||void 0===e?void 0:e.yourStartPrice)?Object(Q["a"])("starting_price_for_DOM_coin_holders"):"startPriceDOMHolderReferral"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.yourStartPrice)?Object(Q["a"])("starting_price_for_DOM_coin_holders_referral"):Object(Q["a"])("starting_price")},startPrice(){var e,t,c,n,i;return"startPriceDOMHolder"==(null===(e=this.selectedCoin)||void 0===e?void 0:e.yourStartPrice)?null===(c=this.selectedCoin)||void 0===c?void 0:c.startPriceDOMHolder:"startPriceDOMHolderReferral"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.yourStartPrice)?null===(n=this.selectedCoin)||void 0===n?void 0:n.startPriceDOMHolderReferral:null===(i=this.selectedCoin)||void 0===i?void 0:i.startPriceOther}},methods:{increaseLimit(){this.showIncreaseLimitModal=!0},closeModals(e){this.showIncreaseLimitModal=!1,e&&this.loadData()},selectCoin(e){for(let t=0;t<this.coins.length;t++)t===e?(this.coins[t].selected=!0,this.selectedCoin=this.coins[t],this.setupTimers()):this.coins[t].selected=!1},setupTimers(){var e,t;clearInterval(this.timerInterval),this.timerEndTimestamp=this.auctionRunning||this.auctionFinished?null===(e=this.selectedCoin)||void 0===e?void 0:e.presaleEndTimestamp:null===(t=this.selectedCoin)||void 0===t?void 0:t.presaleStartTimestamp,this.timerInterval=setInterval(()=>{this.currTimestamp=Date.now()},1e3)},startAuction(){this.auctionRunning||(this.auctionRunning=!0,clearInterval(this.timerInterval),this.loadData())},async buyCoin(e,t){e&&(await this.$store.dispatch("setPaymentCoinTicker",{coinTicker:e}),await this.$store.dispatch("setPaymentCoinMaxAmount",{maxAmount:t}),this.$nextTick(()=>{this.$store.dispatch("setShowPaymentCoinModule",{value:!0})}))},openCoinPage(){},async loadData(){try{const e=(await this.$store.dispatch("getClosedPresaleParameters")).coins;this.coins=e,e.length>0&&this.selectCoin(0)}catch(e){this.$error(e)}}},created:function(){this.timerInterval=null},async mounted(){var e;await this.loadData();const t=JSON.parse(null!==(e=localStorage.exchangeClosedAuctionPageOpened)&&void 0!==e?e:null);this.showHighlight=!0,1!=t&&(localStorage.exchangeClosedAuctionPageOpened=!0,window.dispatchEvent(new CustomEvent("exchangeClosedAuctionPageOpened",{detail:{value:localStorage.getItem("exchangeClosedAuctionPageOpened")}}))),setTimeout(()=>{this.showHighlight=!1},2e3)},unmounted(){clearInterval(this.timerInterval)},components:{IncreaseLimitModal:he}});c("9ea8");const ge=pe()(ve,[["render",U],["__scopeId","data-v-6bdc447b"]]);t["default"]=ge}}]);
//# sourceMappingURL=chunk-11fccfdc.eec20450.js.map