(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-429a69ac"],{"0944":function(e,t,o){},"1a3d":function(e,t,o){"use strict";o("b8dd")},"77e7":function(e,t,o){},"78c1":function(e,t,o){"use strict";o.r(t);var i=o("7a23");const n={class:"test"};function s(e,t,o,s,c,l){const a=Object(i["resolveComponent"])("GiftModal");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",n,[e.showGiftModal?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0)])}var c=o("ed09"),l=(o("e977"),o("beeb")),a=Object(c["a"])({components:{GiftModal:l["a"]},setup(){},data:()=>({showGiftModal:!0}),computed:{},methods:{closeModal(){this.showGiftModal=!1}}}),d=(o("c00c"),o("d959")),r=o.n(d);const p=r()(a,[["render",s],["__scopeId","data-v-4b943101"]]);t["default"]=p},b8dd:function(e,t,o){},beeb:function(e,t,o){"use strict";var i=o("7a23");const n={class:"modal-layout"},s={class:"new-modal-back-button-container"},c={class:"modal-content"},l={class:"window-title"},a={class:"window-text"},d={class:"options-hint"},r={class:"button-block"},p=["disabled"];function b(e,t,o,b,h,O){const m=Object(i["resolveComponent"])("GiftOptions");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",n,[Object(i["createElementVNode"])("div",{class:"darken",onClick:t[4]||(t[4]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["new-modal gift-modal",e.view]),onClick:t[3]||(t[3]=Object(i["withModifiers"])(t=>e.showDropdown=!1,["stop"]))},[Object(i["createElementVNode"])("div",s,[Object(i["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(i["createElementVNode"])("div",c,[Object(i["createElementVNode"])("div",l,Object(i["toDisplayString"])(e.$localizeFilter("send_gift")),1),Object(i["createElementVNode"])("div",a,Object(i["toDisplayString"])(e.$localizeFilter("send_gift_text")),1),Object(i["createElementVNode"])("div",{class:"gift-options-block",onClick:t[1]||(t[1]=Object(i["withModifiers"])(()=>{},["stop"]))},[e.showOptions?(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:0,class:"gift-options",options:e.options,onShowDropdownMethod:e.showDropdownMethod,onSelectOption:e.selectOption,onClearRecipientId:e.clearRecipientId,showDropdown:e.showDropdown},null,8,["options","onShowDropdownMethod","onSelectOption","onClearRecipientId","showDropdown"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",d,Object(i["toDisplayString"])(e.$localizeFilter("available_for_sending",[e.referralGiftsBalance])),1),Object(i["createElementVNode"])("div",r,[Object(i["createElementVNode"])("button",{class:"action-button",onClick:t[2]||(t[2]=(...t)=>e.sendGift&&e.sendGift(...t)),disabled:null===e.recipientId},Object(i["toDisplayString"])(e.$localizeFilter("send_gift")),9,p)])])],2)])])}var h=o("ed09"),O=o("e977");const m={class:"table-options"},u=["placeholder"],w={key:0,class:"window light dropdown-block"},j=["onClick"],f={class:"first-row"},v={class:"second-row"},g={class:"first-cell"},k={key:0,class:"second-cell"},_={key:1,class:"second-cell"};function D(e,t,o,n,s,c){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",m,[Object(i["createElementVNode"])("div",{class:"window light input-block",onClick:t[1]||(t[1]=(...t)=>e.triggerDropdown&&e.triggerDropdown(...t))},[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{id:"recipientName",class:"recipient-name-input",placeholder:e.$localizeFilter("enter_id_email_telegram_name"),type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.text=t)},null,8,u),[[i["vModelText"],e.text,void 0,{trim:!0}]])]),e.showDropdown&&e.visibleOptions.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",w,[Object(i["createElementVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.visibleOptions,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:o,class:Object(i["normalizeClass"])("option"+(e.selectedIndex==o?"selected":"")+" "+(t.notAvailableMessage?"not-available":"")),onClick:t=>e.selectOption(o)},[Object(i["createElementVNode"])("div",f,Object(i["toDisplayString"])(t.name),1),Object(i["createElementVNode"])("div",v,[Object(i["createElementVNode"])("div",g,Object(i["toDisplayString"])(t.id),1),t.notAvailableMessage?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",k,Object(i["toDisplayString"])(e.$localizeFilter(t.notAvailableMessage)),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_,Object(i["toDisplayString"])(e.$utils.formatNumber(t.giftAmount/1e6,"en-US",0,2))+" USDT",1))])],10,j))),128))])])):Object(i["createCommentVNode"])("",!0)])}o("14d9");var y=Object(h["a"])({props:["options","showDropdown"],data:()=>({selectedIndex:0,selectedOption:null,text:null,search:null}),computed:{visibleOptions(){if(null==this.search)return[];{const e=[];for(let t=0;t<this.options.length;t++){let o=this.options[t];(o.name&&o.name.toLowerCase().includes(this.search.toLowerCase())||o.id&&(o.id+"").toLowerCase().includes(this.search.toLowerCase())||o.relegramName&&o.telegramName.toLowerCase().includes(this.search.toLowerCase())||o.email&&o.email.toLowerCase().includes(this.search.toLowerCase()))&&e.push(o)}return e.slice(0,3)}}},watch:{text(e,t){this.$nextTick(()=>{if(""===e)this.search=null,this.$emit("clearRecipientId");else if(t!==e){this.search=e;for(let t=0;t<this.options.length;t++){var o;let i=this.options[t];if(i.name===e&&i.id===(null===(o=this.selectedOption)||void 0===o?void 0:o.id))return}this.$emit("showDropdownMethod"),this.$emit("clearRecipientId")}})}},methods:{triggerDropdown(){this.isOpen=!this.isOpen},selectOption(e){var t;this.visibleOptions[e].notAvailableMessage||(this.selectedIndex=e,this.$emit("selectOption",null===(t=this.visibleOptions[e])||void 0===t?void 0:t.id),this.selectedOption=this.visibleOptions[e],this.text=this.visibleOptions[e].name,console.log(this.selectedIndex))}},mounted(){}}),M=(o("1a3d"),o("d959")),C=o.n(M);const E=C()(y,[["render",D],["__scopeId","data-v-6c5eafae"]]);var N=E,B=Object(h["a"])({props:{button:{type:Object,default:null},view:{type:String,default:"center"},referralGiftsBalance:{type:Number,default:0}},setup(){},data:()=>({show:1,showOptions:!0,options:[],recipientId:null,showDropdown:!1}),methods:{showDropdownMethod(){this.showDropdown=!0},clearRecipientId(){this.recipientId=null},closeModal(){this.$emit("closeModal")},selectOption(e){this.recipientId=e,this.showDropdown=!1},async sendGift(){const e={recipientId:this.recipientId};try{await this.$store.dispatch("sendReferralGift",e),this.$message(Object(O["a"])("gift_successfully_sent")),this.closeModal()}catch(t){this.$error(t)}}},async mounted(){try{this.options=(await this.$store.dispatch("getReferralsForGift")).map(({giftAlreadySent:e,depositedInPools:t,...o})=>e||!+t?{...o,notAvailableMessage:e?"gift_not_be_sent_reason_gift_already_sent":"gift_not_be_sent_reason_not_deposited_in_pools"}:o)}catch(e){this.$error(e)}},components:{GiftOptions:N}});o("c1cb");const V=C()(B,[["render",b],["__scopeId","data-v-052fbba2"]]);t["a"]=V},c00c:function(e,t,o){"use strict";o("0944")},c1cb:function(e,t,o){"use strict";o("77e7")}}]);
//# sourceMappingURL=chunk-429a69ac.de47d9bd.js.map