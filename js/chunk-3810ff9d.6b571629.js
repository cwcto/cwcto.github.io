(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3810ff9d"],{"1a8c":function(e,t,l){"use strict";l.r(t);var a=l("7a23");const c={class:"container partners-container"},r={class:"partners-title"},s={class:"top-block"},o=["placeholder"],n={key:0},i={key:1,class:"list"},d={class:"list-level"},b={class:"list-partner"},m={class:"cell-1 header-cell"},h={class:"cell-2 header-cell"},u={class:"cell-3 header-cell"},O={class:"cell-4 header-cell"},p={class:"cell-5 header-cell"},j={class:"cell-1"},y={class:"cell-2"},f={class:"cell-3"},v={class:"cell-4"},g=["href"],X={class:"cell-5 buttons-cell"},k=["onClick"];function N(e,t,l,N,S,E){const V=Object(a["resolveComponent"])("Toggle"),w=Object(a["resolveComponent"])("Tree"),$=Object(a["resolveComponent"])("ChoosePaymentMethodModal"),M=Object(a["resolveDirective"])("maska");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["partners","structure"==S.view?"partners-structure":"partners-list"])},[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",r,Object(a["toDisplayString"])(e.$localizeFilter("my_partners")),1),Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(V,{class:Object(a["normalizeClass"])("toggle-block"),title:e.$localizeFilter("view")+":",variants:S.views,onToggle:E.toggle},null,8,["title","variants","onToggle"]),Object(a["createElementVNode"])("div",{class:"search",style:Object(a["normalizeStyle"])("structure"==S.view?"visibility:hidden;":"")},[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"search-field","onUpdate:modelValue":t[0]||(t[0]=e=>S.searchString=e),placeholder:e.$localizeFilter("telegram_nickname")},null,8,o),[[a["vModelText"],S.searchString],[M,"@XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"]]),Object(a["createElementVNode"])("button",{class:"basic-button search-button",onClick:t[1]||(t[1]=e=>E.startSearch())})],4)]),"structure"==S.view?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[null!=S.structure&&void 0!=S.structure?(Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:0,class:"tree",nodes:S.structure,indentSize:50,onSellReferral:E.sellReferral,onContactReferral:E.contactReferral},null,8,["nodes","onSellReferral","onContactReferral"])):Object(a["createCommentVNode"])("",!0)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",m,Object(a["toDisplayString"])(e.$localizeFilter("level"))+"\\",1),Object(a["createElementVNode"])("div",h,Object(a["toDisplayString"])(e.$localizeFilter("email"))+"\\",1),Object(a["createElementVNode"])("div",u,Object(a["toDisplayString"])(e.$localizeFilter("name"))+"\\",1),Object(a["createElementVNode"])("div",O,Object(a["toDisplayString"])(e.$localizeFilter("telegram_nickname"))+"\\",1),Object(a["createElementVNode"])("div",p,Object(a["toDisplayString"])(e.$localizeFilter("action"))+"\\",1)])]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(E.visibleList,(t,l)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"list-level",key:l},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t,(t,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"list-partner",key:c},[Object(a["createElementVNode"])("div",j,Object(a["toDisplayString"])(e.$localizeFilter("level")+" "+(l+1)),1),Object(a["createElementVNode"])("div",y,Object(a["toDisplayString"])(t.email),1),Object(a["createElementVNode"])("div",f,Object(a["toDisplayString"])(t.name),1),Object(a["createElementVNode"])("div",v,[t.telegramName?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:0,target:"_blank",class:"link",href:"https://t.me/"+t.telegramName},Object(a["toDisplayString"])("@"+t.telegramName),9,g)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",X,[0===l?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,class:"contact-referral-button",onClick:Object(a["withModifiers"])(e=>E.contactReferral(t.id),["stop"])},Object(a["toDisplayString"])(e.$localizeFilter("contact")),9,k)):Object(a["createCommentVNode"])("",!0)])]))),128))]))),128))]))]),S.showChoosePaymentMethodModal&&E.paymentMethods?(Object(a["openBlock"])(),Object(a["createBlock"])($,{key:0,typeOverride:"crypto",paymentMethodsOverride:E.paymentMethods,cellSizeOverride:{width:161,height:146},onPaymentMethodSelected:E.paymentMethodSelected,onCloseModal:E.closeModals},null,8,["paymentMethodsOverride","onPaymentMethodSelected","onCloseModal"])):Object(a["createCommentVNode"])("",!0)],2)}l("14d9");var S=l("c48f"),E=l("ae48"),V=l("6f44");const w={class:"top-flex"},$={class:"left-flex"},M={class:"flex-item"},B={class:"flex-item"},C={class:"left-flex"},D={class:"flex-item"},R={class:"flex-item"},z={class:"bottom-flex"};function F(e,t,l,c,r,s){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:Object(a["normalizeClass"])(["transfer",{sellt:"sell"==e.type}])},[Object(a["createElementVNode"])("div",w,[Object(a["createElementVNode"])("div",$,[Object(a["createElementVNode"])("div",M,Object(a["toDisplayString"])(e.$localizeFilter("transfer-refferal"))+" ",1),Object(a["createElementVNode"])("div",B,Object(a["toDisplayString"])(e.data.referralEmail),1)]),Object(a["createElementVNode"])("div",C,[Object(a["createElementVNode"])("div",D,Object(a["toDisplayString"])(e.$localizeFilter("transfer-seller"))+" ",1),Object(a["createElementVNode"])("div",R,Object(a["toDisplayString"])(e.data.sellerEmail),1)])]),Object(a["createElementVNode"])("div",z,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["price buy",{sell:"sell"==e.type}])},Object(a["toDisplayString"])(e.$localizeFilter("transfer-price")+" "+e.$utils.formatNumber(e.data.amount||0,"en-US",2,2)+" "+e.data.currency),3),"buy"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,class:"buy-button",onClick:t[0]||(t[0]=t=>e.$emit("buyReferral",e.data))},Object(a["toDisplayString"])(e.$localizeFilter("transfer-buy")),1)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("a",{class:"cancel",onClick:t[1]||(t[1]=t=>e.$emit("cancelSellingReferral",e.data))},Object(a["toDisplayString"])(e.$localizeFilter("transfer-cancel")),1)])],2)}var T=l("ed09"),P=(l("e977"),l("93b5"),Object(T["a"])({props:{type:{type:String,default:"buy"},data:{type:Object,required:!0}}})),x=(l("2fc4"),l("d959")),_=l.n(x);const J=_()(P,[["render",F],["__scopeId","data-v-015be39a"]]);var I=J,L={components:{Tree:S["a"],Toggle:E["a"],ChoosePaymentMethodModal:V["a"],TransferRefferal:I},data(){return{searchString:"",search:null,structure:null,list:[],totalTurnover:0,structureTurnover:0,views:["structure","list"],view:"structure",showChoosePaymentMethodModal:!1}},computed:{visibleList(){const e=JSON.parse(JSON.stringify(this.list));if(null==this.search)return e;{const t=[];for(let l=0;l<e.length;l++){let a=e[l],c=[];for(let e=0;e<a.length;e++)(a[e].telegramName||"").startsWith(this.search)&&c.push(a[e]);c.length>0&&t.push(c)}return t}},paymentMethods(){return this.$store.getters.transferReferralsPaymentMethods},transferReferralsData(){return this.$store.getters.transferReferralsData||[]}},methods:{async contactReferral(e){try{const t={userId:e},l=await this.$store.dispatch("getRoomWithUserId",t);this.$router.push("/cabinet/messenger?chatId="+l)}catch(t){this.$error(t)}},async sellReferral(e){const t=JSON.parse(JSON.stringify(e));await this.$store.dispatch("sellReferral",{data:t})},async buyReferral(e){await this.$store.dispatch("setBuyReferralPaymentData",{data:e}),this.showChoosePaymentMethodModal=!0},async cancelSellingReferral(e){await this.$store.dispatch("cancelSellingReferral",{data:e})},async paymentMethodSelected(e){await this.$store.dispatch("setBuyReferralPaymentMethod",{paymentMethod:e}),await this.$store.dispatch("buyReferral")},closeModals(){this.showChoosePaymentMethodModal=!1,this.clearAll()},async clearAll(){await this.$store.dispatch("clearBuyReferralPaymentData")},startSearch(){this.search=this.searchString.slice(1),this.$forceUpdate()},toggle(e){this.view=this.views[e]},async loadData(){if("structure"==this.view)try{const e=await this.$store.dispatch("getStructure");await this.$store.dispatch("getTransferReferralsPaymentMethods"),await this.$store.dispatch("getTransferReferralsData"),this.list=e.list,this.structure=[e.structure],this.totalTurnover=e.totalTurnover,this.structureTurnover=e.structureTurnover}catch(e){this.$error(e)}}},async mounted(){await this.loadData()}};l("8bf3");const U=_()(L,[["render",N],["__scopeId","data-v-0c9fce38"]]);t["default"]=U},2073:function(e,t,l){},"2fc4":function(e,t,l){"use strict";l("b07e")},"8bf3":function(e,t,l){"use strict";l("2073")},b07e:function(e,t,l){}}]);