(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0165100"],{"33d1":function(e,t,n){"use strict";var c=n("23e7"),o=n("7b0b"),i=n("07fa"),r=n("5926"),a=n("44d2");c({target:"Array",proto:!0},{at:function(e){var t=o(this),n=i(t),c=r(e),a=c>=0?c:n+c;return a<0||a>=n?void 0:t[a]}}),a("at")},"3bd9":function(e,t,n){"use strict";n("a3af")},"70b9":function(e,t,n){},a3af:function(e,t,n){},b520:function(e,t,n){"use strict";n("70b9")},b680:function(e,t,n){"use strict";var c=n("23e7"),o=n("da84"),i=n("e330"),r=n("5926"),a=n("408a"),l=n("1148"),s=n("d039"),u=o.RangeError,d=o.String,b=Math.floor,m=i(l),p=i("".slice),O=i(1..toFixed),j=function(e,t,n){return 0===t?n:t%2===1?j(e,t-1,n*e):j(e*e,t/2,n)},h=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},v=function(e,t,n){var c=-1,o=n;while(++c<6)o+=t*e[c],e[c]=o%1e7,o=b(o/1e7)},f=function(e,t){var n=6,c=0;while(--n>=0)c+=e[n],e[n]=b(c/t),c=c%t*1e7},g=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var c=d(e[t]);n=""===n?c:n+m("0",7-c.length)+c}return n},k=s((function(){return"0.000"!==O(8e-5,3)||"1"!==O(.9,0)||"1.25"!==O(1.255,2)||"1000000000000000128"!==O(0xde0b6b3a7640080,0)}))||!s((function(){O({})}));c({target:"Number",proto:!0,forced:k},{toFixed:function(e){var t,n,c,o,i=a(this),l=r(e),s=[0,0,0,0,0,0],b="",O="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return d(i);if(i<0&&(b="-",i=-i),i>1e-21)if(t=h(i*j(2,69,1))-69,n=t<0?i*j(2,-t,1):i/j(2,t,1),n*=4503599627370496,t=52-t,t>0){v(s,0,n),c=l;while(c>=7)v(s,1e7,0),c-=7;v(s,j(10,c,1),0),c=t-1;while(c>=23)f(s,1<<23),c-=23;f(s,1<<c),v(s,1,1),f(s,2),O=g(s)}else v(s,0,n),v(s,1<<-t,0),O=g(s)+m("0",l);return l>0?(o=O.length,O=b+(o<=l?"0."+m("0",l-o)+O:p(O,0,o-l)+"."+p(O,o-l))):O=b+O,O}})},ea98:function(e,t,n){"use strict";var c=n("23e7"),o=n("e330"),i=n("1d80"),r=n("5926"),a=n("577e"),l=n("d039"),s=o("".charAt),u=l((function(){return"\ud842"!=="ð ®·".at(-2)}));c({target:"String",proto:!0,forced:u},{at:function(e){var t=a(i(this)),n=t.length,c=r(e),o=c>=0?c:n+c;return o<0||o>=n?void 0:s(t,o)}})},ee10:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=n("5902"),i=n.n(o),r=function(e){return Object(c["pushScopeId"])("data-v-3cf04ddb"),e=e(),Object(c["popScopeId"])(),e},a={class:"closed-auction"},l={class:"title"},s={key:0,class:"coins-tabs-block"},u=["onClick"],d=["src"],b={class:"coin-tab-coin-ticker"},m={key:1,class:"window light"},p={key:0,class:"highlight-block"},O={key:1,class:"window-text"},j=Object(c["createTextVNode"])(Object(c["toDisplayString"])(":")),h={key:2,class:"window-text"},v={key:3,class:"window-text"},f={class:"coin-timer-block"},g=["src"],k={key:4,class:"content-table"},C={class:"content-line"},x={class:"content-cell-1"},y={class:"bold-text"},w={class:"content-cell-2"},E={class:"bold-text blue-text"},N={class:"content-line"},V={class:"content-cell-1"},_={class:"bold-text"},D={class:"content-cell-2"},S={class:"bold-text"},B={class:"content-line"},T={class:"content-cell-1 limit-cell-1"},$={class:"bold-text limit-text"},P=r((function(){return Object(c["createElementVNode"])("div",{class:"empty-space"},null,-1)})),M={class:"content-cell-2 limit-cell-2"},I={class:"bold-text limit-text"},F={class:"blue-text"},R={key:5,class:"content-table"},A={class:"content-line"},z={class:"content-cell-1"},W={class:"bold-text"},H={class:"content-cell-2"},L={class:"bold-text"},q={key:6,class:"bold-text"},J={class:"blue-text"},U=r((function(){return Object(c["createElementVNode"])("img",{class:"whale-circle",src:i.a},null,-1)}));function G(e,t,o,i,r,G){var Q,K,X,Y,Z=Object(c["resolveComponent"])("IncreaseLimitModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("h1",l,Object(c["toDisplayString"])(e.$localizeFilter("closed_auction")),1),e.coins?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.coins,(function(t,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])(["coin-tab",t.selected?"selected":""]),key:o,onClick:function(t){return e.selectCoin(o)}},[Object(c["createElementVNode"])("img",{class:"coin-tab-coin-icon",src:n("3619")("./".concat(e.$filters.lowercase(t.coinTicker),"_icon.png"))},null,8,d),Object(c["createElementVNode"])("p",b,Object(c["toDisplayString"])(t.coinTicker),1)],10,u)})),128))])):Object(c["createCommentVNode"])("",!0),e.selectedCoin?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",m,[e.showHighlight?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",p)):Object(c["createCommentVNode"])("",!0),e.auctionRunning?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",O,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$localizeFilter("closed_auction_running_text"))+" ",1),Object(c["createElementVNode"])("span",{class:"coin-link",onClick:t[0]||(t[0]=function(t){return e.openCoinPage()})},Object(c["toDisplayString"])(e.currentCoinName),1),j])):e.auctionFinished?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",h,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$localizeFilter("closed_auction_finished_text_1"))+" ",1),Object(c["createElementVNode"])("span",{class:"coin-link",onClick:t[1]||(t[1]=function(t){return e.openCoinPage()})},Object(c["toDisplayString"])(e.currentCoinName),1),Object(c["createTextVNode"])(Object(c["toDisplayString"])(" "+e.$localizeFilter("closed_auction_finished_text_2")),1)])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",v,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$localizeFilter("closed_auction_waiting_text_1"))+" ",1),Object(c["createElementVNode"])("span",{class:"coin-link",onClick:t[2]||(t[2]=function(t){return e.openCoinPage()})},Object(c["toDisplayString"])(e.currentCoinName),1),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$localizeFilter("closed_auction_waiting_text_2")),1)])),Object(c["createElementVNode"])("div",f,[e.auctionFinished?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",{key:0,class:Object(c["normalizeClass"])(["timer",e.auctionRunning?"auction-running":""])},Object(c["toDisplayString"])(e.timeLeft),3)),Object(c["createElementVNode"])("img",{src:n("441f")("./"+e.currentCoinName+".png"),class:"image"},null,8,g)]),e.auctionRunning?(Object(c["openBlock"])(),Object(c["createElementBlock"])("ul",k,[Object(c["createElementVNode"])("li",C,[Object(c["createElementVNode"])("div",x,[Object(c["createElementVNode"])("p",y,Object(c["toDisplayString"])(e.startPriceText),1)]),Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("p",E,Object(c["toDisplayString"])("$"+e.startPrice),1)])]),Object(c["createElementVNode"])("li",N,[Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("p",_,Object(c["toDisplayString"])(e.$localizeFilter("course_after_completion_closed_auctions")),1)]),Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("p",S,Object(c["toDisplayString"])("$"+(null===(Q=e.selectedCoin)||void 0===Q?void 0:Q.rateAfterClosedPresale)),1)])]),Object(c["createElementVNode"])("li",B,[Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("p",$,Object(c["toDisplayString"])(e.$localizeFilter("you_can_buy")),1),P]),Object(c["createElementVNode"])("div",M,[Object(c["createElementVNode"])("p",I,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.youCanBuy+" "),1),Object(c["createElementVNode"])("span",F,Object(c["toDisplayString"])(null===(K=e.selectedCoin)||void 0===K?void 0:K.coinTicker),1)]),Object(c["createElementVNode"])("button",{class:"increase-limit-button",onClick:t[3]||(t[3]=function(t){return e.increaseLimit()})},Object(c["toDisplayString"])(e.$localizeFilter("increase_limit")),1)])])])):e.auctionFinished?(Object(c["openBlock"])(),Object(c["createElementBlock"])("ul",R,[Object(c["createElementVNode"])("li",A,[Object(c["createElementVNode"])("div",z,[Object(c["createElementVNode"])("p",W,Object(c["toDisplayString"])(e.$localizeFilter("coin_rate")),1)]),Object(c["createElementVNode"])("div",H,[Object(c["createElementVNode"])("p",L,Object(c["toDisplayString"])("$"+(null===(X=e.selectedCoin)||void 0===X?void 0:X.rateAfterClosedPresale)),1)])])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",q,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.startPriceText+" "),1),Object(c["createElementVNode"])("span",J,Object(c["toDisplayString"])("$"+(null!==(Y=e.startPrice)&&void 0!==Y?Y:"")),1)])),e.auctionRunning||e.auctionFinished?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:7,class:"basic-button",onClick:t[4]||(t[4]=function(t){var n;return e.buyCoin(null===(n=e.selectedCoin)||void 0===n?void 0:n.coinTicker,e.youCanBuy)})},Object(c["toDisplayString"])(e.$localizeFilter("buy_now")),1)):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0),U,e.showIncreaseLimitModal?(Object(c["openBlock"])(),Object(c["createBlock"])(Z,{key:2,coin:e.selectedCoin,rate:e.startPrice,clientId:e.clientId,onCloseModal:e.closeModals},null,8,["coin","rate","clientId","onCloseModal"])):Object(c["createCommentVNode"])("",!0)])}var Q=n("1da1"),K=(n("96cf"),n("99af"),n("ed09")),X=n("e977"),Y={class:"modal-layout"},Z={class:"new-modal-back-button-container"},ee={class:"modal-content"},te={class:"top-block"},ne={class:"window-title"},ce={class:"text-amount-block"},oe={class:"amount-block"},ie={class:"window-text"},re={class:"input-field"},ae=["placeholder"],le={class:"burn-cwpt-block"},se={class:"window-text burn-cwpt-text"},ue={class:"burn-cwpt-amount"},de={class:"button-block"};function be(e,t,n,o,i,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Y,[Object(c["createElementVNode"])("div",{class:"darken",onClick:t[4]||(t[4]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})},[Object(c["createElementVNode"])("div",{class:"new-modal increase-limit-modal",onClick:t[3]||(t[3]=Object(c["withModifiers"])((function(){}),["stop"]))},[Object(c["createElementVNode"])("div",Z,[Object(c["createElementVNode"])("button",{class:"new-modal-back-button thin",onClick:t[0]||(t[0]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})})]),Object(c["createElementVNode"])("div",ee,[Object(c["createElementVNode"])("div",te,[Object(c["createElementVNode"])("p",ne,Object(c["toDisplayString"])(e.$localizeFilter("increase_limit_modal_title",[e.coin.coinTicker])),1)]),Object(c["createElementVNode"])("div",ce,[Object(c["createElementVNode"])("div",oe,[Object(c["createElementVNode"])("p",ie,Object(c["toDisplayString"])(e.$localizeFilter("increase_limit_modal_text_1",[e.coin.coin])),1),Object(c["createElementVNode"])("div",re,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"amount",class:Object(c["normalizeClass"])(["custom-input-2",{invalid:e.v$.amount.$error}]),placeholder:e.$localizeFilter("amount_of",[e.coin.coinTicker]),type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.amount=t})},null,10,ae),[[c["vModelText"],e.amount,void 0,{trim:!0}]]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.v$.amount.$errors,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("small",{class:"error",key:t},Object(c["toDisplayString"])(e.$message),1)})),128))])])]),Object(c["createElementVNode"])("div",le,[Object(c["createElementVNode"])("p",se,Object(c["toDisplayString"])(e.$localizeFilter("increase_limit_modal_text_2"))+":",1),Object(c["createElementVNode"])("p",ue,Object(c["toDisplayString"])("".concat(e.amountCWPT," CWPT")),1)]),Object(c["createElementVNode"])("div",de,[Object(c["createElementVNode"])("button",{class:"continue-button",onClick:t[2]||(t[2]=function(){return e.submitHandler&&e.submitHandler.apply(e,arguments)})},Object(c["toDisplayString"])(e.$localizeFilter("continue")),1)])])])])])}n("a9e3"),n("b680"),n("33d1"),n("ea98"),n("ac1f"),n("5319");var me=n("25a0"),pe=n("e3e1"),Oe=(n("da29"),Object(K["a"])({props:{coin:{type:Object,required:!0},rate:{type:Number,required:!0},clientId:{type:Number,required:!0}},validations:function(){return{amount:{required:pe["b"].withMessage(Object(X["a"])("field_must_not_be_empty"),pe["h"]),numeric:pe["b"].withMessage(Object(X["a"])("field_must_be_numeric"),pe["g"]),minValue:pe["b"].withMessage(Object(X["a"])("min_value",[this.minAmount]),Object(pe["f"])(this.minAmount))}}},setup:function(){return{v$:Object(me["a"])()}},data:function(){return{amount:null,minAmount:0}},computed:{amountCWPT:function(){return+((this.amount||0)*this.rate/10).toFixed(6)}},methods:{closeModal:function(e){this.$emit("closeModal",e)},burnCWPT:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n,c,o,i,r,a,l,s,u,d,b,m,p,O,j;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=!1,!window.tronWeb){t.next=50;break}return t.next=4,tronWeb.trx.getAccount();case 4:return t.sent,c=e.amountCWPT,c=1e6*c+"000000000000",o=e.clientId,t.next=10,tronWeb.contract().at("TLwGQimcVEuAdcfMRcjVxDCVy4h8wgEnBz");case 10:return i=t.sent,r=e.coin.coinId,a=tronWeb.defaultAddress.base58,t.prev=13,t.next=16,i.burn(c).send({feeLimit:1e8,callValue:0});case 16:return l=t.sent,console.log(l),s="CapitalWhale User Id: ".concat(o,"; Transaction Id: ").concat(l,"; Wallet Address: ").concat(a,"; Coin Id: ").concat(r),console.log(s),u=tronWeb.toHex(s).replace(/^0x/,""),d=tronWeb.utils.code.hexStr2byteArray(u),b=tronWeb.sha3(d).replace(/^0x/,""),t.next=25,tronWeb.trx.sign(b);case 25:return m=t.sent,p=m.substring(128,130),"01"==p?m=m.substring(0,128)+"1c":"00"==p&&(m=m.substring(0,128)+"1b"),t.next=30,tronWeb.trx.verifyMessage(b,m,a);case 30:return O=t.sent,console.log(O),t.prev=32,console.log("here"),j={address:a,signature:m,transactionId:l,coinId:r},t.next=37,e.$store.dispatch("burnCWPT",j);case 37:n=!0,t.next=43;break;case 40:t.prev=40,t.t0=t["catch"](32),e.$error(t.t0);case 43:t.next=48;break;case 45:t.prev=45,t.t1=t["catch"](13),console.log(t.t1);case 48:t.next=51;break;case 50:e.$error("TRON wallet not connected");case 51:return t.abrupt("return",n);case 52:case"end":return t.stop()}}),t,null,[[13,45],[32,40]])})))()},submitHandler:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.v$.$touch(),!e.v$.$error){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.burnCWPT();case 5:n=t.sent,e.closeModal(n);case 7:case"end":return t.stop()}}),t)})))()}}})),je=(n("b520"),n("d959")),he=n.n(je);const ve=he()(Oe,[["render",be],["__scopeId","data-v-7cbd6121"]]);var fe=ve,ge=Object(K["a"])({data:function(){return{selectedCoin:null,currTimestamp:+Date.now(),timerEndTimestamp:+Date.now(),showHighlight:!1,coins:null,showIncreaseLimitModal:!1}},setup:function(){},computed:{clientId:function(){return this.$store.getters.profile.id},auctionRunning:function(){var e;return"live"===(null===(e=this.selectedCoin)||void 0===e?void 0:e.type)},auctionFinished:function(){var e;return"finished"===(null===(e=this.selectedCoin)||void 0===e?void 0:e.type)},currentCoinName:function(){var e;return null===(e=this.selectedCoin)||void 0===e?void 0:e.coin},youCanBuy:function(){return this.selectedCoin?Math.min((this.selectedCoin.youCanBuy||0)+this.selectedCoin.limit,(this.selectedCoin.maxUSDBuyAmount||1/0)/this.startPrice):0},timeLeft:function(){var e,t=Math.floor((this.timerEndTimestamp-this.currTimestamp)/1e3);if(t<=0)return"announce"==(null===(e=this.selectedCoin)||void 0===e?void 0:e.type)&&this.startAuction(),"00:00";var n=Math.floor(t/3600),c=t%3600,o=Math.floor(c/60),i=Math.floor(c%60);return"".concat(n,":").concat(o>=10?o:"0"+o,":").concat(i>=10?i:"0"+i)},startPriceText:function(){var e,t;return"startPriceDOMHolder"==(null===(e=this.selectedCoin)||void 0===e?void 0:e.yourStartPrice)?Object(X["a"])("starting_price_for_DOM_coin_holders"):"startPriceDOMHolderReferral"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.yourStartPrice)?Object(X["a"])("starting_price_for_DOM_coin_holders_referral"):Object(X["a"])("starting_price")},startPrice:function(){var e,t,n,c,o;return"startPriceDOMHolder"==(null===(e=this.selectedCoin)||void 0===e?void 0:e.yourStartPrice)?null===(n=this.selectedCoin)||void 0===n?void 0:n.startPriceDOMHolder:"startPriceDOMHolderReferral"==(null===(t=this.selectedCoin)||void 0===t?void 0:t.yourStartPrice)?null===(c=this.selectedCoin)||void 0===c?void 0:c.startPriceDOMHolderReferral:null===(o=this.selectedCoin)||void 0===o?void 0:o.startPriceOther}},methods:{increaseLimit:function(){this.showIncreaseLimitModal=!0},closeModals:function(e){this.showIncreaseLimitModal=!1,e&&this.loadData()},selectCoin:function(e){for(var t=0;t<this.coins.length;t++)t===e?(this.coins[t].selected=!0,this.selectedCoin=this.coins[t],this.setupTimers()):this.coins[t].selected=!1},setupTimers:function(){var e,t,n=this;clearInterval(this.timerInterval),this.timerEndTimestamp=this.auctionRunning||this.auctionFinished?null===(e=this.selectedCoin)||void 0===e?void 0:e.presaleEndTimestamp:null===(t=this.selectedCoin)||void 0===t?void 0:t.presaleStartTimestamp,this.timerInterval=setInterval((function(){n.currTimestamp=Date.now()}),1e3)},startAuction:function(){this.auctionRunning||(this.auctionRunning=!0,clearInterval(this.timerInterval),this.loadData())},buyCoin:function(e,t){var n=this;return Object(Q["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(e){c.next=2;break}return c.abrupt("return");case 2:return c.next=4,n.$store.dispatch("setPaymentCoinTicker",{coinTicker:e});case 4:return c.next=6,n.$store.dispatch("setPaymentCoinMaxAmount",{maxAmount:t});case 6:n.$nextTick((function(){n.$store.dispatch("setShowPaymentCoinModule",{value:!0})}));case 7:case"end":return c.stop()}}),c)})))()},openCoinPage:function(){},loadData:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getClosedPresaleParameters");case 3:n=t.sent.coins,e.coins=n,n.length>0&&e.selectCoin(0),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},created:function(){this.timerInterval=null},mounted:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:c=JSON.parse(null!==(n=localStorage.exchangeClosedAuctionPageOpened)&&void 0!==n?n:null),e.showHighlight=!0,1!=c&&(localStorage.exchangeClosedAuctionPageOpened=!0,window.dispatchEvent(new CustomEvent("exchangeClosedAuctionPageOpened",{detail:{value:localStorage.getItem("exchangeClosedAuctionPageOpened")}}))),setTimeout((function(){e.showHighlight=!1}),2e3);case 6:case"end":return t.stop()}}),t)})))()},unmounted:function(){clearInterval(this.timerInterval)},components:{IncreaseLimitModal:fe}});n("3bd9");const ke=he()(ge,[["render",G],["__scopeId","data-v-3cf04ddb"]]);t["default"]=ke}}]);
//# sourceMappingURL=chunk-a0165100.d32bd5e5.js.map