{"version":3,"sources":["webpack:///./src/views/NewPassword.vue?e423","webpack:///./src/views/NewPassword.vue","webpack:///./src/views/NewPassword.vue?635d"],"names":["class","style","for","_createElementVNode","_createElementBlock","onSubmit","_toDisplayString","_ctx","_hoisted_4","id","type","$event","invalid","password","$error","_Fragment","_renderList","$errors","error","index","key","$message","_hoisted_7","defineComponent","props","token","String","required","setup","v$","useVuelidate","data","buttonKey","validations","helpers","withMessage","localizeFilter","methods","submitHandler","$touch","setTimeout","el","document","getElementById","classList","add","$store","dispatch","newPassword","code","remove","$router","push","computed","__exports__","render"],"mappings":"kHAAA,W,yLCESA,MAAM,gB,GAGJA,MAAM,cAAcC,MAAA,uB,GAChBC,IAAI,Y,uBACmCC,gCAA+B,QAAzBH,MAAM,YAAW,KAAC,M,GAkBrEA,MAAM,e,GAGFA,MAAM,gB,uBACTG,gCAAwC,KAArCH,MAAM,wBAAuB,QAAI,M,wDA5B5CI,gCAgCO,QAhCDJ,MAAM,iBAAkBK,SAAM,wCAAP,cAAkB,eAA/C,CACEF,gCAqBM,MArBN,EAqBM,CApBNA,gCAAoD,UAAAG,6BAA5CC,kBAAe,wBAErBJ,gCAiBM,MAjBN,EAiBM,CAhBJA,gCAEC,QAFD,EAEC,2DADKI,kBAAe,0BAAyBC,IAe1C,4BAbJL,gCAKE,SAJAM,GAAG,WACHC,KAAK,W,qDACSH,WAAQI,IACrBX,MAAK,6BAAAY,QAAaL,KAAGM,SAASC,UAJjC,0BAGgBP,mB,MAAd,OAUE,2BAPJH,gCAMQW,cAAA,KAAAC,wBAJmBT,KAAGM,SAASI,SAAO,SAApCC,EAAOC,G,gCAFjBf,gCAMQ,SALNJ,MAAM,QAELoB,IAAKD,GAHR,6BAKKD,EAAMG,UAAQ,MALnB,UAUJlB,gCAOM,MAPN,EAOM,CANJA,gCAKM,sCAJJC,gCAGS,UAHDJ,MAAM,W,0CAAwBO,sDAAeE,GAAG,eAAgBW,IAAKb,aAA7E,CACEJ,gCAA4D,IAA5D,EAA4DG,6BAAjCC,kBAAe,eAC1Ce,GAFF,UA1BN,I,4EAyCaC,iBAAgB,CAC7BC,MAAO,CACLC,MAAO,CACLf,KAAMgB,OACNC,UAAU,IAGdC,MAP6B,WAQ3B,MAAO,CAAEC,GAAIC,mBAEfC,KAV6B,WAW3B,MAAO,CACLlB,SAAU,GACVmB,UAAW,IAGfC,YAhB6B,WAiB3B,MAAO,CACLpB,SAAU,CACRc,SAAUO,OAAQC,YAAYC,eAAe,2BAA4BT,WAI/EU,QAAS,CACDC,cADC,WACe,iKACpB,EAAKT,GAAGU,UACF,EAAKV,GAAGf,OAFM,uBAGhB0B,YAAW,WACT,EAAKR,WAAW,IACf,KALa,iCAQZS,EAAKC,SAASC,eAAe,gBACnCF,EAAGG,UAAUC,IAAI,mBATC,kBAWV,EAAKC,OAAOC,SAAS,kBAAmB,CAACC,YAAa,EAAKnC,SAAUoC,KAAM,EAAKxB,QAXtE,OAYhBe,YAAW,WACTC,EAAGG,UAAUM,OAAO,mBACpB,EAAK7B,SAASe,eAAe,iCAC7B,EAAKe,QAAQC,KAAK,YAClB,KAhBc,qDAkBbZ,YAAW,WACV,EAAK1B,OAAL,MACA2B,EAAGG,UAAUM,OAAO,mBACpB,EAAKlB,WAAW,IACf,KAtBW,8DA0BxBqB,SAAU,K,iCCrFZ,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-38f4ae52.4a6d8dcc.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NewPassword.vue?vue&type=style&index=0&id=aa81ea4e&scoped=true&lang=css\"","<template>\n  <form class=\"card auth-card\" @submit.prevent=\"\">\n    <div class=\"card-content\">\n    <h4> {{ $localizeFilter('password_restore') }} </h4>\n      \n      <div class=\"input-field\" style=\"margin-top: 30px;\">\n        <label for=\"password\"\n          >{{ $localizeFilter('enter_new_password') }}<span class=\"required\">*</span></label\n        >\n        <input\n          id=\"password\"\n          type=\"password\"\n          v-model.trim=\"password\"\n          :class=\"{ invalid: v$.password.$error }\"\n        />\n        <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.password.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n    </div>\n\n    <div class=\"card-action\">\n      <div>\n        <button class=\"button-2\" @click.once=\"submitHandler\" id=\"submitButton\" :key=\"buttonKey\">\n          <p class=\"button-title\">{{ $localizeFilter('restore') }}</p>\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, helpers } from \"@vuelidate/validators\";\nimport { defineComponent } from \"@vue/composition-api\";\nimport localizeFilter from \"@/filters/localize.filter\"\n\nexport default defineComponent({\n  props: {\n    token: {\n      type: String,\n      required: true\n    }\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      password: \"\",\n      buttonKey: 1\n    };\n  },\n  validations() {\n    return {\n      password: { \n        required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required),\n      },\n    };\n  },\n  methods: {\n    async submitHandler() {\n      this.v$.$touch();\n        if (this.v$.$error) {\n          setTimeout(()=>{\n            this.buttonKey+=1\n          }, 1000)\n          return;\n        }\n        const el = document.getElementById('submitButton'); \n        el.classList.add(\"button--loading\");\n        try {\n          await this.$store.dispatch('restorePassword', {newPassword: this.password, code: this.token})\n          setTimeout(()=>{\n            el.classList.remove(\"button--loading\")\n            this.$message(localizeFilter('restore_password_successfull'))\n            this.$router.push('/login')\n          },1000)\n        } catch (e) {\n             setTimeout(()=>{\n              this.$error(e)\n              el.classList.remove(\"button--loading\")\n              this.buttonKey+=1\n            }, 1000)\n        }\n    },\n  },\n  computed: {\n  },\n});\n</script>\n\n<style scoped>\n@media (max-width: 480px) {\n    h4 {\n      font-size: 26px;\n    }\n.button-2 {\n     font-size: 16px;\n     height: 40px;\n   }\n   i {\n     width: 16px!important;\n     height: 16px!important;\n     font-size: 16px!important;\n     margin-left: 10px!important;\n   }\n}\n\n@media (min-width: 480px) {\n  .button-2 {\n    font-size: 24px;\n    padding: 10px 8px 10px 8px;\n  }\n\n   i {\n     font-size: 24px!important;\n     margin-left: 12px!important;\n   }\n}\n\n  .button-2 {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    max-width: 100%;\n    margin-bottom: 20px;\n  }\n\n  .button-title {\n    height: fit-content;\n    margin-top: 0;\n    margin-bottom: 0;\n    text-overflow: ellipsis;\n  }\n\n</style>","import { render } from \"./NewPassword.vue?vue&type=template&id=aa81ea4e&scoped=true\"\nimport script from \"./NewPassword.vue?vue&type=script&lang=js\"\nexport * from \"./NewPassword.vue?vue&type=script&lang=js\"\n\nimport \"./NewPassword.vue?vue&type=style&index=0&id=aa81ea4e&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/kondratvoronov/development/exchange/Web/Client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aa81ea4e\"]])\n\nexport default __exports__"],"sourceRoot":""}