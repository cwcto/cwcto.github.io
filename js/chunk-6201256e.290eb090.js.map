{"version":3,"sources":["webpack:///./src/views/Login.vue?f72d","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?c242"],"names":["class","_createElementVNode","style","src","_imports_0","for","_createElementBlock","onSubmit","_hoisted_1","_createVNode","_component_router_link","to","target","_hoisted_2","_hoisted_3","_hoisted_4","_ctx","_hoisted_5","id","type","invalid","email","$error","_Fragment","$errors","error","index","key","$message","_hoisted_6","_hoisted_7","_hoisted_8","password","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","defineComponent","props","buyCoinTicker","String","default","setup","v$","useVuelidate","data","buttonKey","validations","required","helpers","withMessage","localizeFilter","mounted","methods","this","$touch","setTimeout","el","document","getElementById","classList","add","formData","$store","dispatch","scope","remove","$router","push","e","computed","__exports__","render"],"mappings":"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","file":"js/chunk-6201256e.290eb090.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=5318401a&scoped=true&lang=css\"","<template>\n  <form class=\"card auth-card\" @submit.prevent=\"\">\n    <div class=\"card-content\">\n      <router-link :class=\"'logo-router-link'\" :to=\"'/'\" target=\"_blank\">\n        <img class=\"logo-image\" :style=\"''\" src=\"@/assets/newImages/logo.png\">\n      </router-link>\n      <div class=\"input-field\">\n        <label for=\"email\"\n          >{{ $localizeFilter('email') }}<span class=\"required\">*</span></label\n        >\n        <input\n          id=\"email\"\n          type=\"text\"\n          v-model.trim=\"email\"\n          :class=\"{ invalid: v$.email.$error }\"\n        />\n        <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.email.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n      <div class=\"input-field\">\n        <label for=\"password\">{{ $localizeFilter('password') }}<span class=\"required\">*</span></label>\n        <input\n        id=\"password\"\n        type=\"password\"\n        v-model.trim=\"password\"\n        :class=\"{ invalid: v$.password.$error }\"\n        />\n         <small\n          class=\"error\"\n          v-for=\"(error, index) of v$.password.$errors\"\n          :key=\"index\"\n        >\n          {{ error.$message }}\n        </small>\n      </div>\n    </div>\n    <div class=\"card-action\">\n      <div>\n        <button class=\"button-2\" id=\"submitButton\" @click.once=\"submitHandler\" :key=\"buttonKey\">\n          <p class=\"button-title\">{{ $localizeFilter('login') }}</p>\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </div>\n\n      <p class=\"additional-action\">\n        {{ $localizeFilter('no_account') }}\n        <router-link :to=\"(buyCoinTicker ? `/register?buyCoinTicker=${buyCoinTicker}` : '/register')\">{{ $localizeFilter('sign_up') }}</router-link>\n      </p>\n      <p class=\"additional-action\">\n        {{ $localizeFilter('forgot_password') }}\n        <router-link to=\"/resetPassword\">{{ $localizeFilter('restore_password') }}</router-link>\n      </p>\n    </div>\n  </form>\n</template>\n\n<script>\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, email, helpers } from \"@vuelidate/validators\";\nimport { defineComponent } from \"@vue/composition-api\";\nimport localizeFilter from \"@/filters/localize.filter\"\n\nexport default defineComponent({\n  props: {\n    buyCoinTicker: {\n      type: String,\n      default: null\n    }\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      buttonKey: 1\n    };\n  },\n  validations() {\n    return {\n      email: {\n       required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required),\n       email: helpers.withMessage(localizeFilter('field_must_be_valid_email_address'), email),\n      },\n      password: { required: helpers.withMessage(localizeFilter('field_must_not_be_empty'), required) },\n    };\n  },\n  mounted() {\n  },\n  methods: {\n    async submitHandler() {\n      this.v$.$touch();\n      if (this.v$.$error) {\n        setTimeout(()=>{\n          this.buttonKey+=1\n        }, 1000)\n        return;\n      }\n      const el = document.getElementById('submitButton'); \n      el.classList.add(\"button--loading\");\n      const formData = {\n        email: this.email,\n        password: this.password,\n        buyCoinTicker: this.buyCoinTicker\n      }\n      try {\n        await this.$store.dispatch('login', formData)\n        const {scope, email} = await this.$store.dispatch('getProfile')\n        setTimeout(()=>{\n          el.classList.remove(\"button--loading\")\n          if (scope=='not_activated_client') {\n            this.$router.push('/confirmEmail?email='+email)\n          } else {\n            this.$router.push('/cabinet')\n          }\n        },1000)\n      } catch (e) {\n        setTimeout(()=>{\n          this.$error(e)\n          el.classList.remove(\"button--loading\")\n          this.buttonKey+=1\n        }, 1000)\n      }\n    },\n  },\n  computed: {\n  },\n});\n</script>\n\n<style scoped>\n@media (max-width: 480px) {\n  router-link {\n    display: flex;\n    align-content: center;\n    justify-content: center;\n  }\n  h4 {\n    font-size: 26px;\n  }\n   .button-2 {\n     font-size: 16px;\n     height: 40px;\n   }\n   i {\n     width: 16px!important;\n     height: 16px!important;\n     font-size: 16px!important;\n     margin-left: 10px!important;\n   }\n}\n\n@media (min-width: 480px) {\n  .logo-image {\n    width: 290px!important;\n    height: auto!important;\n  }\n\n  .button-2 {\n    font-size: 24px;\n    padding: 10px 8px 10px 8px;\n  }\n\n   i {\n     font-size: 24px!important;\n     margin-left: 12px!important;\n   }\n}\n\n  .button-2 {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    max-width: 100%;\n    margin-bottom: 20px;\n  }\n\n  .button-title {\n    height: fit-content;\n    margin-top: 0;\n    margin-bottom: 0;\n    text-overflow: ellipsis;\n  }\n  \n  .additional-action {\n    margin-top: 0;\n  }\n\n  .additional-action a {\n    margin: 0!important;\n  }\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=5318401a&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5318401a&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/kondratvoronov/development/exchange/Web/Client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5318401a\"]])\n\nexport default __exports__"],"sourceRoot":""}