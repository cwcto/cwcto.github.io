{"version":3,"sources":["webpack:///./src/components/ChatContainer.vue?46a7","webpack:///(webpack)/buildin/amd-define.js","webpack:///./node_modules/core-js/internals/delete-property-or-throw.js","webpack:///./node_modules/seedrandom/lib/alea.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/vue-advanced-chat/dist/vue-advanced-chat.es.js","webpack:///./src/views/Chat.vue","webpack:///./src/database/storage.js","webpack:///./src/components/ChatContainer.vue","webpack:///./src/database/firebase.js","webpack:///./src/utils/dates.js","webpack:///./src/components/ChatContainer.vue?f538","webpack:///./src/views/Chat.vue?719f","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/core-js/modules/es.array.unshift.js","webpack:///./node_modules/seedrandom/index.js","webpack:///./node_modules/seedrandom/lib/xor4096.js","webpack:///./node_modules/seedrandom/lib/tychei.js","webpack:///./node_modules/seedrandom/seedrandom.js","webpack:///./node_modules/seedrandom/lib/xorwow.js","webpack:///./node_modules/core-js/modules/web.dom-exception.stack.js","webpack:///./node_modules/seedrandom/lib/xor128.js","webpack:///./src/views/Chat.vue?b1f4","webpack:///./node_modules/seedrandom/lib/xorshift7.js","webpack:///./node_modules/core-js/internals/dom-exception-constants.js"],"names":["module","exports","Error","tryToString","$TypeError","TypeError","O","P","global","define","Alea","seed","me","this","mash","Mash","next","t","s0","c","s1","s2","copy","f","impl","opts","xg","state","prng","int32","double","quick","n","data","String","i","length","charCodeAt","h","alea","isPrototypeOf","it","Prototype","makeMap$2","str","expectsLowerCase","map","Object","create","list","split","val","toLowerCase","NOOP$1","extend$2","assign","hasOwnProperty$1","prototype","hasOwnProperty","hasOwn$1","key","call","isArray$2","Array","isArray","isMap$1","toTypeString$1","isFunction$2","isString$2","isSymbol","isObject$2","objectToString$1","toString","value","toRawType","slice","isIntegerKey","parseInt","hasChanged$1","oldValue","is","def$1","obj","defineProperty","configurable","enumerable","activeEffectScope","EffectScope","detached","active","effects","cleanups","parent","index","scopes","push","fn","currentEffectScope","fromParent","l","stop","last","pop","recordEffectScope","effect","scope","createDep","dep","Set","w","wasTracked","trackOpBit","newTracked","initDepMarkers","deps","finalizeDepMarkers","ptr","delete","targetMap","WeakMap","effectTrackDepth","maxMarkerBits","activeEffect","ITERATE_KEY","Symbol","MAP_KEY_ITERATE_KEY","ReactiveEffect","scheduler","lastShouldTrack","shouldTrack","cleanupEffect","deferStop","onStop","trackStack","pauseTracking","resetTracking","track","target","type","depsMap","get","set","Map","trackEffects","debuggerEventExtraInfo","shouldTrack2","has","add","trigger","newValue","oldTarget","values","forEach","key2","triggerEffects","computed","triggerEffect","allowRecurse","run","isNonTrackableKeys","builtInSymbols","getOwnPropertyNames","filter","get$1","createGetter","shallowGet","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","args","arr","toRaw","res","apply","isReadonly2","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","Reflect","isRef","readonly","reactive","set$1","createSetter","shallowSet","isReadonly","isShallow","hadKey","Number","result","deleteProperty","ownKeys","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","v","getPrototypeOf","get$1$1","isShallow2","rawTarget","rawKey","has2","wrap","toReadonly","toReactive","has$1","size","proto","set$1$1","get3","deleteEntry","clear","hadItems","createForEach","callback","thisArg","observed","createIterableMethod","method","targetIsMap","isPair","iterator","isKeyOnly","innerIterator","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations2","shallowInstrumentations2","readonlyInstrumentations2","shallowReadonlyInstrumentations2","iteratorMethods","mutableInstrumentations","readonlyInstrumentations","shallowInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","isExtensible","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","Proxy","isReactive","isProxy","raw","markRaw","trackRefValue","ref","triggerRefValue","newVal","r","__v_isRef","unref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","ComputedRefImpl","getter","_setter","isSSR","_dirty","_cacheable","self2","_value","computed$1","getterOrOptions","debugOptions","setter","onlyGetter","cRef","makeMap$1","normalizeStyle","isArray$1","item","normalized","isString$1","parseStringStyle","isObject$1","listDelimiterRE","propertyDelimiterRE","cssText","ret","tmp","trim","normalizeClass","name","normalizeProps","props","class","klass","style","toDisplayString","objectToString","isFunction$1","JSON","stringify","replacer","_key","isMap","entries","reduce","val2","isSet","isPlainObject","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","onRE$1","isOn$1","test","isModelListener$1","startsWith","extend$1","remove","el","indexOf","splice","hasOwn","toTypeString","isPromise","then","catch","isReservedProp","cacheStringFunction$1","cache","hit","camelizeRE$1","camelize$1","replace","_","toUpperCase","hyphenateRE$1","hyphenate$1","capitalize$1","charAt","toHandlerKey","hasChanged","invokeArrayFns","fns","arg","def","toNumber$1","parseFloat","isNaN","_globalThis","getGlobalThis","globalThis","self","window","callWithErrorHandling","instance2","err","handleError","callWithAsyncErrorHandling","throwInDev","contextVNode","vnode","cur","exposedInstance","errorInfo","errorCapturedHooks","ec","appErrorHandler","appContext","config","errorHandler","logError","console","error","isFlushing","isFlushPending","queue","flushIndex","pendingPreFlushCbs","activePreFlushCbs","preFlushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","Promise","resolve","currentFlushPromise","currentPreFlushParentJob","nextTick","p2","bind","findInsertionIndex","id","start2","end","middle","middleJobId","getId","queueJob","job","includes","queueFlush","flushJobs","invalidateJob","queueCb","cb","activeQueue","pendingQueue","queuePreFlushCb","queuePostFlushCb","flushPreFlushCbs","seen","parentJob","flushPostFlushCbs","deduped","sort","a","b","Infinity","emit$1","event","rawArgs","isUnmounted","isModelListener2","modelArg","modifiersKey","number","handlerName","handler","onceHandler","emitted","normalizeEmitsOptions","comp","asMixin","emitsCache","cached","emits","hasExtends","extendEmits","raw2","normalizedFromExtend","mixins","extends","isEmitListener","options2","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","prev","__scopeId","withCtx","ctx","isNonScopedSlot","_n","renderFnWithContext","_d","setBlockTracking","prevInstance","_c","renderComponentRoot","Component","withProxy","propsOptions","slots","attrs","emit","emit2","render","render2","renderCache","setupState","inheritAttrs","fallthroughAttrs","shapeFlag","proxyToUse","normalizeVNode","render3","getFunctionalFallthrough","blockStack","createVNode","Comment","root","keys","some","filterModelListeners","cloneVNode","dirs","concat","transition","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","children","prevChildren","component","nextProps","nextChildren","patchFlag","emitsOptions","$stable","hasPropsChanged","dynamicProps","nextKeys","updateHOCHostEl","subTree","isSuspense","__isSuspense","queueEffectWithSuspense","suspense","pendingBranch","provide","currentInstance","provides","parentProvides","inject","defaultValue","treatDefaultAsFactory","arguments","INITIAL_WATCHER_VALUE","watch","source","doWatch","immediate","deep","flush","flush2","onTrack","onTrigger","cleanup","forceTrigger","isMultiSource","s","traverse","onCleanup","baseGetter","isInSSRComponentSetup","queuePostRenderEffect","instanceWatch","publicThis","createPathGetter","setCurrentInstance","unsetCurrentInstance","path","segments","useTransitionState","state2","isMounted","isLeaving","isUnmounting","leavingVNodes","onMounted","onBeforeUnmount","TransitionHookValidator","Function","BaseTransitionImpl","mode","appear","Boolean","persisted","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","getCurrentInstance","prevTransitionKey","default","getTransitionRawChildren","child","rawProps","emptyPlaceholder","innerChild","getKeepAliveChild","enterHooks","resolveTransitionHooks","setTransitionHooks","oldChild","oldInnerChild","transitionKeyChanged","getTransitionKey","isSameVNodeType","leavingHooks","afterLeave","update","delayLeave","earlyRemove","delayedLeave","leavingVNodesCache","getLeavingNodesForType","_leaveCb","BaseTransition","callHook2","hook","callAsyncHook","every","hook2","hooks","leavingVNode","afterHook","cancelHook","called","_enterCb","cancelled","remove2","vnode2","isKeepAlive","ssContent","clone","ssFallback","keepComment","parentKey","keyedFragmentCount","Fragment","defineComponent","setup","isAsyncWrapper","__asyncLoader","__isKeepAlive","onActivated","registerKeepAliveHook","onDeactivated","wrappedHook","__wdc","current","isDeactivated","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","prepend","__weh","unshift","createHook","lifecycle","onBeforeMount","onBeforeUpdate","onUpdated","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","withDirectives","directives","internalInstance","getExposeProxy","bindings","dir","modifiers","mounted","updated","instance","invokeDirectiveHook","oldBindings","binding","COMPONENTS","DIRECTIVES","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","resolveDynamicComponent","resolveDirective","warnMissing","selfName","getComponentName","registry","renderList","renderItem","from","createSlots","dynamicSlots","slot","j","renderSlot","fallback","noSlotted","isCE","openBlock","validSlotContent","ensureValidVNode","rendered","createBlock","scopeId","slotScopeIds","vnodes","isVNode","getPublicInstance","isStatefulComponent","publicPropertiesMap","$","$el","$data","$props","$attrs","$slots","$refs","refs","$parent","$root","$emit","$options","resolveMergedOptions","$forceUpdate","$nextTick","$watch","PublicInstanceProxyHandlers","accessCache","normalizedProps","shouldCacheAccess","publicGetter","cssModule","globalProperties","__cssModules","descriptor","applyOptions","beforeCreate","callHook$1","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","created","beforeMount","beforeMount2","beforeUpdate","updated2","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","unmounted2","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","components","filters","checkDuplicateProperties","resolveInjections","unwrapInjectedRef","methodHandler","opt","set2","createWatcher","registerLifecycleHook","register2","_hook","exposed","unwrapRef","normalizeInject","h2","base","extendsOptions","globalMixins","optionsCache","optionMergeStrategies","resolved","m","mergeOptions","to","strats","strat","internalOptionMergeStrats","mergeDataFn","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","initProps","isStateful","InternalObjectKey","propsDefaults","setFullProps","updateProps","rawPrevProps","rawCurrentProps","hasAttrsChanged","kebabKey","resolvePropValue","propsToUpdate","camelizedKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","normalizePropsOptions","propsCache","extendProps","normalizedKey","validatePropName","prop","booleanIndex","getTypeIndex","stringIndex","getType","ctor","match","isSameType","expectedTypes","findIndex","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","_ctx","normalizeVNodeSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","createAppContext","app","isNativeTag","performance","warnHandler","compilerOptions","uid","createAppAPI","hydrate","rootComponent","rootProps","context","installedPlugins","_uid","_component","_props","_container","_context","_instance","version","plugin","install","mixin","directive2","rootContainer","isHydrate","isSVG","__vue_app__","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","refValue","owner","oldRef","_isString","_isRef","doSet","existing","k","createRenderer","baseCreateRenderer","createHydrationFns","__VUE__","insert","hostInsert","hostRemove","patchProp","hostPatchProp","createElement","hostCreateElement","createText","hostCreateText","createComment","hostCreateComment","setText","hostSetText","setElementText","hostSetElementText","parentNode","hostParentNode","nextSibling","hostNextSibling","setScopeId","hostSetScopeId","cloneNode","hostCloneNode","insertStaticContent","hostInsertStaticContent","patch","n1","n2","container","anchor","parentComponent","dynamicChildren","getNextHostNode","unmount","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","process","internals","moveStaticNode","next2","removeStaticNode","mountElement","patchElement","vnodeHook","mountChildren","unmountChildren","onVnodeBeforeMount","invokeVNodeHook","needCallTransitionHooks","beforeEnter","onVnodeMounted","enter","parentVNode","cloneIfMounted","oldProps","newProps","toggleRecurse","onVnodeBeforeUpdate","areChildrenSVG","patchBlockChildren","patchChildren","patchProps","onVnodeUpdated","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","activate","mountComponent","updateComponent","initialVNode","createComponentInstance","renderer","setupComponent","asyncDep","registerDep","setupRenderEffect","placeholder","asyncResolved","updateComponentPreRender","componentUpdateFn","bu","u","originNext","nextTree","prevTree","bm","isAsyncWrapperVNode","hydrateNode","hydrateSubTree","scopedInitialVNode","update2","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","oldLength","newLength","commonLength","Math","min","nextChild","parentAnchor","l2","e1","e2","nextPos","keyToNewIndexMap","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","move","moveType","needTransition","leave","remove3","performLeave","doRemove","deactivate","shouldInvokeDirs","shouldInvokeVnodeHook","onVnodeBeforeUnmount","unmountComponent","onVnodeUnmounted","removeFragment","performRemove","bum","um","suspenseId","pendingId","_vnode","p","mt","mc","pc","pbc","o","createApp","allowed","ch1","ch2","len","arrI","isTeleport","__isTeleport","currentBlock","disableTracking","closeBlock","isBlockTreeEnabled","setupBlock","createElementBlock","createBaseVNode","__v_isVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","__v_skip","targetAnchor","staticCount","normalizeChildren","normalize","_createVNode","cloned","isClassComponent","__vccOpts","guardReactiveProps","extraProps","mergeRef","mergedProps","mergeProps","createTextVNode","text2","flag","createCommentVNode","asBlock","memo","slotFlag","toMerge","incoming","emptyAppContext","uid$1","exposeProxy","setupContext","bc","da","rtg","rtc","sp","ce","on","off","compile","setupResult","setupStatefulComponent","createSetupContext","resolvedResult","handleSetupResult","e","finishComponentSetup","__ssrInlineRender","ssrRender","skipOptions","template","isCustomElement","delimiters","componentCompilerOptions","finalCompilerOptions","createAttrsProxy","includeInferred","displayName","__name","propsOrChildren","makeMap","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","onRE","isOn","isModelListener","extend","isFunction","isString","isObject","cacheStringFunction","camelizeRE","camelize","hyphenateRE","hyphenate","capitalize","toNumber","svgNS","doc","document","templateContainer","nodeOps","insertBefore","removeChild","tag","createElementNS","multiple","setAttribute","createTextNode","node","nodeValue","textContent","querySelector","selector","content","before","previousSibling","lastChild","innerHTML","wrapper","firstChild","appendChild","patchClass","transitionClasses","_vtc","join","removeAttribute","className","patchStyle","isCssString","setStyle","currentDisplay","display","importantRE","setProperty","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","removeAttributeNS","setAttributeNS","isBoolean","patchDOMProp","tagName","needRemove","_getNow","skipTimestampCheck","_getNow2","Date","now","skipTimestampCheck2","createEvent","timeStamp","ffMatch","navigator","userAgent","cachedNow","reset","getNow","addEventListener$1","addEventListener","removeEventListener","patchEvent","prevValue","nextValue","invokers","_vei","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","initialValue","attached","patchStopImmediatePropagation","originalStop","stopImmediatePropagation","_stopped","nativeOnRE","shouldSetAsProp","_trueValue","_falseValue","defineCustomElement","Comp","VueCustomElement","VueElement","initialProps","super","BaseClass","HTMLElement","_def","_connected","_resolved","_numberProps","shadowRoot","attachShadow","_resolveDef","attributes","_setAttr","MutationObserver","mutations","attributeName","observe","resolve3","def2","styles","hasOptions","rawKeys","numberProps","_setProp","_getProp","_applyStyles","_update","asyncDef","getAttribute","shouldReflect","shouldUpdate","dispatchEvent","CustomEvent","detail","host","css","TRANSITION","ANIMATION","Transition","resolveTransitionProps","DOMTransitionPropsValidators","duration","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","TransitionPropsValidators","callHook","hasExplicitCallback","baseProps","durations","normalizeDuration","enterDuration","leaveDuration","finishEnter","isAppear","removeTransitionClass","finishLeave","_isLeaving","makeEnterHook","nextFrame","addTransitionClass","whenTransitionEnds","forceReflow","NumberOf","cls","classList","requestAnimationFrame","endId","expectedType","explicitTimeout","_endId","resolveIfNotStale","setTimeout","timeout","propCount","getTransitionInfo","endEvent","ended","onEnd","getComputedStyle","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","max","hasTransform","delays","d","toMs","body","offsetHeight","positionMap","newPositionMap","TransitionGroupImpl","moveClass","hasCSSTransform","callPendingCbs","recordPosition","movedChildren","applyTranslation","transform","webkitTransform","transitionDuration","_moveCb","propertyName","cssTransitionProps","getBoundingClientRect","TransitionGroup","oldPos","newPos","dx","left","dy","top","nodeType","systemModifiers","modifierGuards","stopPropagation","prevent","preventDefault","currentTarget","ctrl","ctrlKey","shift","shiftKey","alt","altKey","meta","metaKey","button","right","exact","withModifiers","guard","keyNames","esc","space","up","down","withKeys","eventKey","vShow","_vod","setDisplay","rendererOptions","ensureRenderer","_export_sfc","sfc","_sfc_main$q","show","infinite","required","messageId","_hoisted_1$q","_hoisted_2$n","_hoisted_3$i","_hoisted_4$g","_hoisted_5$a","_hoisted_6$7","_sfc_render$q","_cache","$setup","Loader","_sfc_main$p","param","svgItem","search","toggle","menu","close","file","paperclip","send","emoji","pencil","checkmark","eye","dropdown","deleted","microphone","path2","_hoisted_1$p","_hoisted_2$m","_hoisted_3$h","_sfc_render$p","xmlns","width","height","viewBox","svgId","SvgIcon","_sfc_main$o","textMessages","showSearch","showAddRoom","rooms","loadingRooms","_hoisted_1$o","_hoisted_2$l","_sfc_render$o","_component_svg_icon","showSearchBar","SEARCH","autocomplete","onInput","$event","onClick","RoomsSearch","linkify","_class$4","inherits","extended","constructor","__esModule","options$1","_typeof","defaults","defaultProtocol","events","format","noop$1","formatHref","nl2br","typeToTarget","validate","ignoreTags","Options","linkAttributes","linkClass","ignoredTags","contains","href","token","toHref","formatted","formattedHref","getObject","check","operator","optionValue","option","scanner$1","stateify","TokenState","CharacterState","_class$3","createStateClass","tClass","T","BaseState","defaultTransition","symbol","jump2","accepts","character","charOrRegExp","RegExp","jump","tokenClass","endToken","defaultToken","newStates","nextState","text$1","createTokenClass$1","createTokenClass","AMPERSAND","CLOSEPAREN","CLOSEANGLEBRACKET","CLOSEBRACKET","CLOSEBRACE","OPENPAREN","OPENANGLEBRACKET","OPENBRACKET","OPENBRACE","WS","TLD","SYM","UNDERSCORE","SLASH","MAILTO","PROTOCOL","QUERY","POUND","PLUS","NUM","NL","LOCALHOST","PUNCTUATION","DOT","COLON","AT","DOMAIN","Base","_createTokenClass$1","_class$2","TextToken","inheritsToken","NL$1","start","TOKENS","State","_state$1","_text$2","_interopRequireWildcard$2","newObj","tlds","NUMBERS","ALPHANUM","WHITESPACE","domainStates","makeState$1","S_START$1","S_NUM","S_DOMAIN$1","S_DOMAIN_HYPHEN","S_WS","partialProtocolFileStates","partialProtocolFtpStates","partialProtocolHttpStates","partialProtocolMailtoStates","S_PROTOCOL_FILE","S_PROTOCOL_FTP","S_PROTOCOL_HTTP","S_MAILTO$1","S_PROTOCOL_SECURE","S_FULL_PROTOCOL","S_FULL_MAILTO","partialLocalhostStates","_i","run$2","lowerStr","tokens","cursor","tokenLength","latestAccepting","sinceAccepts","TOKEN","substr","parser$1","multi","URL","TEXT","EMAIL","MAILTOEMAIL","_createTokenClass","_class$1","_text$1","isDomainToken","MultiToken","isLink","toObject","protocol","URL$1","hasProtocol2","hasSlashSlash","hasProtocol","_state","_multi","MULTI_TOKENS","_interopRequireWildcard$1","_text","makeState2","S_START","S_PROTOCOL","S_MAILTO","S_PROTOCOL_SLASH","S_PROTOCOL_SLASH_SLASH","S_DOMAIN","S_DOMAIN_DOT","S_TLD","S_TLD_COLON","S_TLD_PORT","S_URL","S_URL_NON_ACCEPTING","S_URL_OPENBRACE","S_URL_OPENBRACKET","S_URL_OPENANGLEBRACKET","S_URL_OPENPAREN","S_URL_OPENBRACE_Q","S_URL_OPENBRACKET_Q","S_URL_OPENANGLEBRACKET_Q","S_URL_OPENPAREN_Q","S_URL_OPENBRACE_SYMS","S_URL_OPENBRACKET_SYMS","S_URL_OPENANGLEBRACKET_SYMS","S_URL_OPENPAREN_SYMS","S_EMAIL_DOMAIN","S_EMAIL_DOMAIN_DOT","S_EMAIL","S_EMAIL_COLON","S_EMAIL_PORT","S_MAILTO_EMAIL","S_MAILTO_EMAIL_NON_ACCEPTING","S_LOCALPART","S_LOCALPART_AT","S_LOCALPART_DOT","S_NL","qsAccepting","qsNonAccepting","localpartAccepting","run$1","multis","textTokens","secondState","multiLength","MULTI","tokenize","scanner","parser","options","find","_class","_options","_interopRequireWildcard","_scanner","_parser","filtered","test4","linkifyjs","formatString$1","doLinkify","textFormatting","typeMarkdown","bold","italic","strike","underline","multilineCode","inlineCode","pseudoMarkdown","allowed_chars","json","compileToJSON","html","compileToHTML","linkifyResult","minIndexOf","minIndexOfKey","links","minIndexFromLink","startingValue","io","strLeft","strLink","strRight","char","object","types","parseContent","iterateContent","removeDuplicates","items","array","spaces","IMAGE_TYPES","VIDEO_TYPES","AUDIO_TYPES","_sfc_main$n","roomId","roomList","users","singleLine","reply","linkOptions","MESSAGE_DELETED","message","formatTags","disabled","url","checkType","inline","multiline","image","checkImageType","replaceEmojiByElement","lastIndexOf","slashIndex","substring","isMedia","setImageSize","Image","onLoad","img","ratio","round","src","firstTag","secondTag","usertags","matchAll","initialContent","userId","user","user2","_id","replaceAll","username","emojiSize","onlyEmojis","containsOnlyEmojis","visibleChars","_hoisted_1$n","_hoisted_2$k","_hoisted_3$g","_hoisted_4$f","_sfc_render$n","formattedContent","linkifiedMessage","rel","openTag","FormatMessage","HANDLERS_PROPERTY","HAS_WINDOWS","HAS_NAVIGATOR","IS_TOUCH","msMaxTouchPoints","EVENTS","processDirectiveArguments","bindingValue","isFunction2","middleware","isActive","detectIframe","capture","execHandler","onFauxIframeClick","activeElement","onEvent","composedPath","isClickOutside","eventName","srcTarget","documentElement","detectIframeEvent","thisHandler","handlers","directive","vClickOutside","typingText","room","currentUserId","typingUsers","status","IS_TYPING","checkMediaType","isImageFile","isVideoFile","isImageVideoFile","isAudioFile","_sfc_main$m","clickOutside","roomActions","roomMenuOpened","isTyping","lastMessage","senderId","saved","distributed","_a","_b","files","extension","floor","action","closeRoomMenu","_hoisted_1$m","_hoisted_2$j","_hoisted_3$f","_hoisted_4$e","_hoisted_5$9","_hoisted_6$6","_hoisted_7$6","_hoisted_8$4","_hoisted_9$4","_hoisted_10$4","_hoisted_11$3","_hoisted_12$2","_hoisted_13$1","_sfc_render$m","_component_format_message","_directive_click_outside","avatar","userStatus","roomName","timestamp","new","isMessageCheckmarkVisible","isAudio","formattedDuration","getLastMessage","idx","unreadCount","roomActionHandler","title","RoomContent","filteredItems","formatString","string","_sfc_main$l","showRoomsList","isMobile","roomsLoaded","customSearchRoomEnabled","scrollDistance","filteredRooms","observer","showLoader","loadingMoreRooms","selectedRoomId","oldVal","initIntersectionObserver","disconnect","loader","getElementById","rootMargin","threshold","IntersectionObserver","isIntersecting","loadMoreRooms","ev","_hoisted_1$l","_hoisted_2$i","_hoisted_3$e","_hoisted_4$d","_sfc_render$l","_component_rooms_search","_component_loader","_component_room_content","onSearchRoom","searchRoom","onAddRoom","ROOMS_EMPTY","fRoom","openRoom","onRoomActionHandler","RoomsList","_sfc_main$k","singleRoom","roomInfoEnabled","menuActions","messageSelectionEnabled","messageSelectionActions","selectedMessagesTotal","menuOpened","messageSelectionAnimationEnded","IS_ONLINE","lastChanged","LAST_SEEN","closeMenu","_hoisted_1$k","_hoisted_2$h","_hoisted_3$d","_hoisted_4$c","_hoisted_5$8","_hoisted_6$5","_hoisted_7$5","_hoisted_8$3","_hoisted_9$3","_hoisted_10$3","_hoisted_11$2","_hoisted_12$1","_hoisted_13","_sfc_render$k","messageSelectionActionHandler","CANCEL_SELECT_MESSAGE","menuActionHandler","RoomHeader","assertNonEmptyString","assertNumber","DB_VERSION_CURRENT","DB_VERSION_INITIAL","STORE_EMOJI","STORE_KEYVALUE","STORE_FAVORITES","FIELD_TOKENS","INDEX_TOKENS","FIELD_UNICODE","INDEX_COUNT","FIELD_GROUP","FIELD_ORDER","INDEX_GROUP_AND_ORDER","KEY_ETAG","KEY_URL","KEY_PREFERRED_SKINTONE","MODE_READONLY","MODE_READWRITE","INDEX_SKIN_UNICODE","FIELD_SKIN_UNICODE","DEFAULT_DATA_SOURCE$1","DEFAULT_LOCALE$1","uniqBy$1","func","uniqEmoji","emojis","unicode","initialMigration","db","createObjectStore","keyPath","indexes","store","indexName","keyPath2","multiEntry","createIndex","openReqs","databaseCache","onCloseListeners","handleOpenOrDeleteReq","reject","req","onerror","onblocked","onsuccess","async","createDatabase","dbName","indexedDB","open","onupgradeneeded","oldVersion","onclose","closeDatabase","openDatabase","dbPromise","storeName","readOnlyOrReadWrite","txn","transaction","durability","objectStore","oncomplete","listeners","listener","deleteDatabase","addOnCloseListener","irregularEmoticons","extractTokens","word","MIN_SEARCH_TEXT_LENGTH$1","normalizeTokens","transformEmojiData","emojiData","annotation","emoticon","group","order","shortcodes","skins","tags","version2","flat","res2","skinTones","skinUnicodes","skinVersions","tone","emoji2","version3","callStore","getIDB","getAllIDB","commit","minBy","minItem","findCommonMembers","arrays","uniqByFunc","shortestArray","results","isEmpty","get2","hasData","eTag","oldETag","oldUrl","all","doFullDatabaseScanForSingleResult","predicate","BATCH_SIZE","emojiStore","lastKey","processNextBatch","getAll","IDBKeyRange","lowerBound","loadData","transformedData","metaStore","todo","checkFetched","onFetched","put","getEmojiByGroup","range","bound","getEmojiBySearchQuery","query","intermediateResults","checkDone","onDone","only","getEmojiByShortcode","shortcode","lowerShortcodes","_2","getEmojiByUnicode","result2","incrementFavoriteEmojiCount","getTopFavoriteEmoji","customEmojiIndex2","limit","favoritesStore","openCursor","addResult","continue","unicodeOrName","primaryKey","custom","byName","CODA_MARKER","trie","itemToTokens","currentMap","nextMap","valuesAtCoda","results2","queue2","currentMap2","entriesSortedByKey","requiredKeys$1","assertCustomEmojis","customEmojis","isArray2","firstItemIsFaulty","customEmojiIndex","sortByName","emojiToTokens","searchTrie","searchByExactMatch","searchByPrefix","shortcodeToEmoji","nameToEmoji","customEmoji","byShortcode","cleanEmoji","warnETag","warn","requiredKeys","assertEmojiData","assertStatus","response","dataSource","getETag","fetch","headers","getETagAndData","arrayBufferToBinaryString","buffer","binary","bytes","Uint8Array","byteLength","fromCharCode","binaryStringToArrayBuffer","buf","ArrayBuffer","jsonChecksum","inString","inBuffer","outBuffer","crypto","subtle","digest","outBinString","btoa","checkForUpdates","eTagAndData","loadDataForFirstTime","Database","locale","_dbName","_db","_lazyUpdate","_custom","_clear","_ready","_init","empty","checkReady","ready","customs","natives","skinTone","_shutdown","noop","run3","blank_object","run_all","is_function","thing","safe_not_equal","src_url_equal_anchor","current_component","src_url_equal","element_src","is_empty","action_destroyer","action_result","destroy","append","detach","element","text","listen","attr","attribute","set_data","wholeText","set_input_value","input","set_style","important","removeProperty","set_current_component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","update_scheduled","schedule_update","tick","add_render_callback","seen_callbacks","flushidx","saved_component","$$","fragment","before_update","dirty","after_update","outroing","transition_in","block","local","globals","destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","create_each_block2","get_context","old_indexes","new_blocks","new_lookup","deltas","child_ctx","abs","will_move","did_move","insert2","first","new_block","old_block","new_key","old_key","mount_component","customElement","on_mount","on_destroy","new_on_destroy","destroy_component","detaching","make_dirty","fill","init","create_fragment2","not_equal","append_styles","parent_component","on_disconnect","callbacks","skip_bound","rest","SvelteComponent","$destroy","$$props","$$set","allGroups","groups","customGroup","MIN_SEARCH_TEXT_LENGTH","NUM_SKIN_TONES","rIC","requestIdleCallback","hasZwj","versionsAndTestEmoji","TIMEOUT_BEFORE_LOADING_MESSAGE","DEFAULT_SKIN_TONE_EMOJI","DEFAULT_NUM_COLUMNS","MOST_COMMONLY_USED_EMOJI","FONT_FAMILY","DEFAULT_CATEGORY_SORTING","getTextFeature","color","canvas","getContext","textBaseline","font","fillStyle","scale","fillText","getImageData","compareFeatures","feature1","feature2","feature1Str","feature2Str","testColorEmojiSupported","determineEmojiSupportLevel","emojiSupportLevelPromise","supportedZwjEmojis","VARIATION_SELECTOR","SKINTONE_MODIFIER","ZWJ","LIGHT_SKIN_TONE","LIGHT_SKIN_TONE_MODIFIER","applySkinTone","zwjIndex","fromCodePoint","endsWith","halt","incrementOrDecrement","decrement","uniqBy","summarizeEmojisForUI","emojiSupportLevel","toSimpleSkinsMap","skin","category","rAF","baselineEmojiWidth","resizeObserverSupported","ResizeObserver","calculateWidth","onUpdate","resizeObserver","contentRect","calculateTextWidth","createRange","selectNode","checkZwjSupport","zwjEmojisToCheck","baselineEmoji","emojiToDomNode","domNode","emojiWidth","supported","uniq","Map_1","get_each_context","get_each_context_1","get_each_context_2","get_each_context_3","get_each_context_4","create_each_block_4","key_1","div","div_id_value","div_class_value","div_aria_selected_value","div_title_value","div_aria_label_value","t_value","new_ctx","create_each_block_3","button_aria_controls_value","button_aria_label_value","button_aria_selected_value","button_title_value","dispose","click_handler","categories","create_else_block_1","img_src_value","ctx2","create_if_block_1","create_each_block_2","button_role_value","button_class_value","button_id_value","select_block_type","current_block_type","if_block","create_each_block_1","div0","div0_id_value","div0_class_value","div1","div1_role_value","div1_aria_labelledby_value","div1_id_value","searchResultsLabel","each_blocks","each_1_lookup","each_value_2","create_else_block","create_if_block","create_each_block","select_block_type_1","create_fragment","section","div4","input_placeholder_value","input_aria_expanded_value","input_aria_activedescendant_value","label","t0","span0","t1","div2","button0","t2","button0_class_value","div2_class_value","span1","t3","div3","div3_class_value","div3_aria_label_value","div3_aria_activedescendant_value","div3_aria_hidden_value","div5","div5_aria_label_value","div7","div6","div8","t4","div8_class_value","div10","div9","div10_class_value","div10_role_value","div10_aria_label_value","div10_id_value","div11","div11_class_value","div11_aria_label_value","button1","section_aria_label_value","t0_value","searchLabel","t1_value","searchDescription","t3_value","skinToneDescription","each_blocks_3","each0_lookup","each_blocks_2","each1_lookup","each_blocks_1","each2_lookup","each3_lookup","each_value_4","each_value_3","get_key_1","each_value_1","get_key_2","each_value","get_key_3","skinTonesLabel","categoriesLabel","favoritesLabel","regionLabel","$$self","$$invalidate","rootElement","tabpanelElement","skinToneDropdown","skinToneButtonText","pickerStyle","defaultFavoriteEmojis","currentGroup","activeSearchItemId","skinToneEmoji","i18n","database","customCategorySorting","initialLoad","currentEmojis","currentEmojisWithCategories","rawSearchText","searchText","searchMode","activeSearchItem","skinTonePickerExpanded","skinTonePickerExpandedAfterAnimation","currentSkinTone","activeSkinTone","skinToneButtonLabel","currentFavorites","numColumns","isRtl","scrollbarWidth","currentGroupIndex","groups$1","databaseLoaded","focus","getRootNode","fireEvent","bubbles","composed","unicodeWithSkin","currentSkinTone2","labelWithSkin","isSkinToneOption","element2","calculateEmojiGridStyle","newNumColumns","getPropertyValue","newIsRtl","parentWidth","parentElement","newScrollbarWidth","checkZwjSupportAndUpdate","rootNode","isZwjSupported","filterEmojisByVersion","summarizeEmojis","getEmojisByGroup","getEmojisBySearchQuery","onSearchKeydown","goToNextOrPrevious","previous","clickEmoji","onNavClick","onNavKeydown","doFocus","getEmojiByUnicodeOrName","emojiSummary","skinTonedUnicode","onEmojiClick","onSkinToneOptionsClick","setPreferredSkinTone","onClickSkinToneButton","onSkinToneOptionsKeydown","changeActiveSkinTone","nextSkinTone","onSkinToneOptionsKeyup","onSkinToneOptionsFocusOut","relatedTarget","input_input_handler","div3_binding","$$value","level","emojiUnsupportedMessage","div10_binding","button1_binding","section_binding","$$props2","handleDatabaseLoading","showingLoadingMessage","timeoutHandle","loadingMessage","networkErrorMessage","clearTimeout","updateEmojis","currentSearchText","newEmojis","currentGroupId","updatePreferredSkinTone","getPreferredSkinTone","skinToneLabel","updateDefaultFavoriteEmojis","updateFavorites","dbFavorites","favorites","scrollTop","calculateCurrentEmojisWithCategories","categoriesToEmoji","once","Picker","DEFAULT_DATA_SOURCE","DEFAULT_LOCALE","enI18n","activities","objects","symbols","flags","PROPS","PickerElement","_dbFlush","_cmp","attrName","_set","$set","_dbCreate","definitions","defineProperties","customElements","_sfc_main$j","emojiOpened","emojiReaction","positionTop","positionRight","emojiPickerHeight","emojiPickerTop","emojiPickerRight","addCustomStyling","emojiPicker","picker","nav","searchBox","setEmojiPickerPosition","clientY","view","innerWidth","innerHeight","mobileSize","roomFooterRef","roomFooterTop","pickerTopPosition","_hoisted_1$j","_hoisted_2$g","_sfc_render$j","openEmoji","EmojiPickerContainer","_sfc_main$i","_hoisted_1$i","_hoisted_2$f","_hoisted_3$c","_hoisted_4$b","_sfc_render$i","loading","isImage","localUrl","isVideo","controls","RoomFile","_sfc_main$h","clientHeight","_hoisted_1$h","_hoisted_2$e","_sfc_render$h","_component_room_file","bottom","footerHeight","onRemoveFile","RoomFiles","_sfc_main$g","percentage","isMouseDown","seekPos","calculateLineHeadPosition","progress","onMouseMove","onMouseUp","progressWidth","leftPosition","pos","clientX","_hoisted_1$g","_hoisted_2$d","_sfc_render$g","onMousedown","onMouseDown","onMouseover","onMouseout","AudioControl","_sfc_main$f","isPlaying","convertTimeMMSS","playedTime","resetProgress","player","playerUniqId","updateProgressTime","onTimeUpdate","seconds","toISOString","audioSource","pause","play","currentTime","_hoisted_1$f","_hoisted_2$c","_sfc_render$f","_component_audio_control","playback","onChangeLinehead","onUpdateProgress","onHoverAudioProgress","AudioPlayer","_sfc_main$e","messageReply","firstFile","_hoisted_1$e","_hoisted_2$b","_hoisted_3$b","_hoisted_4$a","_hoisted_5$7","_hoisted_6$4","_hoisted_7$4","_hoisted_8$2","_hoisted_9$2","_hoisted_10$2","_hoisted_11$1","_sfc_render$e","_component_audio_player","isOtherFile","RoomMessageReply","_sfc_main$d","filteredUsersTag","selectItem","activeUpOrDown","activeItem","_hoisted_1$d","_hoisted_2$a","_hoisted_3$a","_sfc_render$d","RoomUsersTag","_sfc_main$c","filteredEmojis","_hoisted_1$c","_sfc_render$c","RoomEmojis","_sfc_main$b","filteredTemplatesText","_hoisted_1$b","_hoisted_2$9","_hoisted_3$9","_hoisted_4$9","_sfc_render$b","RoomTemplatesText","new_byte$4","count","Int8Array","new_short","Int16Array","new_int$d","Int32Array","new_float$f","Float32Array","new_double$1","Float64Array","new_float_n$6","sz","A","new_int_n$2","new_short_n$1","new_array_n$1","Arrays$7","fromIndex","toIndex","System$a","srcPos","dest","destPos","srcEnd","out","println","log","printf","Util$5","ShortBlock$3","ordinal","SQRT2","FAST_LOG10","x","log10","FAST_LOG10_X","y","short_block_allowed","short_block_coupled","short_block_dispensed","short_block_forced","Float$2","VbrMode$7","MAX_VALUE","vbr_off","vbr_mt","vbr_rh","vbr_abr","vbr_mtrh","vbr_default","assert$b","common","System","VbrMode","Float","ShortBlock","Util","Arrays","new_array_n","new_byte","new_double","new_float","new_float_n","new_int","new_int_n","new_short_n","assert","System$9","Util$4","Arrays$6","new_float$e","NewMDCT","enwindow","NS","NL2","win","tantab_l","Encoder","SHORT_TYPE","cx","ca","cs","window_subband","x1","x1Pos","xr","wp","x2","mdct_short","inout","inoutPos","tc0","tc1","tc2","ts0","ts1","ts2","mdct_long","outPos","_in","ct","st","tc3","tc4","ts5","ts6","ts7","ts8","ts3","ts4","tc5","tc6","tc7","tc8","mdct_sub48","gfc","w0","w1","wk","wkPos","ch","channels_out","gr","mode_gr","band","gi","l3_side","tt","mdct_enc","mdct_encPos","samp","sb_sample","sampPos","block_type","band0","band1","mixed_block_flag","amp_filter","work","bd","arraycopy","System$8","new_float$d","new_float_n$5","III_psy_xmin","SBMAX_l","SBMAX_s","iii_psy_xmin","III_psy_ratio","thm","en","MPEGMode","_ordinal","STEREO","JOINT_STEREO","DUAL_CHANNEL","MONO","NOT_SET","System$7","VbrMode$6","new_float$c","new_float_n$4","new_int$c","assert$a","FFTOFFSET","MPG_MD_MS_LR","bs","psy","vbr","qupvt","setModules","_bs","_psy","_qupvt","_vbr","newMDCT","adjust_ATH","gr2_max","max_pow","ATH","useAdjust","loudness_sq","aaSensitivityP","adjust","adjustLimit","adj_lim_new","updateStats","bitrate_index","mode_ext","bitrate_stereoMode_Hist","bt","bitrate_blockType_Hist","lame_encode_frame_init","gfp","inbuf","internal_flags","primebuff0","primebuff1","mf_size","BLKSIZE","framesize","lame_encode_mp3_frame","inbuf_l","inbuf_r","mp3buf","mp3bufPos","mp3buf_size","mp3count","masking_LR","masking","masking_MS","pe_use","tot_ener","ms_ener_ratio","pe","pe_MS","padding","slot_lag","frac_SpF","out_samplerate","psymodel","bufp","bufpPos","blocktype","VBR","L3psycho_anal_vbr","L3psycho_anal_ns","cod_info","NORM_TYPE","MPG_MD_LR_LR","force_ms","sum_pe_MS","sum_pe_LR","gi0","gi1","analysis","pinfo","ms_ratio","ers","energy","nsPsy","pefirbuf","fircoef","iteration_loop","format_bitstream","copy_buffer","bWriteVbrTag","addVbrFrame","pcmdata","set_frame_pinfo","ENCDELAY","POSTDELAY","MDCTDELAY","DECDELAY","SBLIMIT","CBANDS","SBPSY_l","SBPSY_s","PSFB21","PSFB12","HBLKSIZE","BLKSIZE_s","HBLKSIZE_s","START_TYPE","STOP_TYPE","MPG_MD_LR_I","MPG_MD_MS_I","Util$3","new_float$b","FFT","window2","window_s","costab","fht","fz","fzPos","k4","fi","tri","k1","k2","k3","kx","f1","f0","f3","f2","g0","g1","g2","g3","rv_tbl","fft_short","x_real","chn","bufPos","fft_long","jj","init_fft","cos","PI","VbrMode$5","Float$1","ShortBlock$2","Util$2","Arrays$5","new_float$a","new_float_n$3","new_int$b","assert$9","PsyModel","fft","LOG10","rpelev","rpelev2","rpelev_s","rpelev2_s","DELBARK","VO_SCALE","temporalmask_sustain_sec","NS_PREECHO_ATT0","NS_PREECHO_ATT1","NS_PREECHO_ATT2","NS_MSFIX","NSFIRLEN","LN_TO_LOG10","NON_LINEAR_SCALE_ENERGY","psycho_loudness_approx","loudness_power","eql_w","compute_ffts","fftenergy","fftenergy_s","wsamp_l","wsamp_lPos","wsamp_s","wsamp_sPos","gr_out","re","im","totalenergy","energy_save","athaa_loudapprox","loudness_sq_save","ma_max_i1","ma_max_i2","ma_max_m","I1LIMIT","I2LIMIT","MLIMIT","tab","init_mask_add_max_values","pow","table1","table2","table3","mask_add","m1","m2","kk","shortblock","cb_s","cb_l","table2_","vbrpsy_mask_add","calc_interchannel_masking","sb","sblock","msfix1","mld","mld_l","rmid","rside","mld_s","ns_msfix","msfix","athadjust","msfix2","athlower","ath","bm_l","thmLR","thmM","thmS","bm_s","convert_partition2scalefac_s","eb","thr","enn","thmm","bo_s_sb","bo_s","npart_s","b_lim","w_curr","PSY","bo_s_weight","w_next","convert_partition2scalefac_l","bo_l_sb","bo_l","npart_l","bo_l_weight","compute_masking_s","ebb","numlines_s","s3ind_s","ecb","s3_ss","nb_s1","blocktype_old","nb_s2","block_type_set","uselongblock","blocktype_d","short_blocks","NS_INTERP","regcoef_s","pecalc_s","mr","masking_lower","pe_s","regcoef_l","pecalc_l","pe_l","calc_energy","avg","numlines_l","rnumlines_l","calc_mask_index_l","mask_idx","last_tab_entry","vbrpsy_compute_fft_l","vbrpsy_compute_fft_s","vbrpsy_compute_loudness_approximation_l","masking_ratio","masking_MS_ratio","percep_entropy","percep_MS_entropy","numchn","pcfact","wsamp_L","wsamp_S","eb_l","eb_s","ns_hpfsmpl","mask_idx_l","mask_idx_s","ResvMax","ResvSize","firbuf2","firbufPos","sum1","sum2","attackThreshold","en_subshort","en_short","attack_intensity","ns_uselongblock","ns_attacks","last_en_subshort","pf","pfPos","pfe","ers_save","attackthre_s","attackthre","lastAttacks","s3ind","eb2","s3_ll","nb_1","nb_2","interChRatio","ATHlower","ppe","ppePos","fircoef_","vbrpsy_attack_detection","sub_short_factor","n_chn_out","n_chn_psy","firbuf","factor","vbrpsy_skip_masking_s","vbrpsy_skip_masking_l","psyvbr_calc_mask_index_s","vbrpsy_compute_masking_s","float","int","dd","dd_n","avg_mask","minval_s","vbrpsy_compute_masking_l","ecb_limit","ecb_limit_2","ecb_limit_1","minval_l","vbrpsy_compute_block_type","vbrpsy_apply_block_type","vbrpsy_compute_MS_thresholds","cb_mld","ath_cb","ebM","ebS","thmL","thmR","mld_m","thmMS","s3_func_x","bark","hf_slope","tempy","tempx","exp","norm_s3_func_x","lim_a","lim_b","sum","norm","s3_func","temp","sqrt","freq2bark","freq","atan","init_numline","numlines","bo","bval","bval_width","bo_w","sfreq","blksize","scalepos","deltafreq","sbmax","b_frq","sample_freq_frac","partition","ni","j2","bark1","sfb","i1","i2","f_tmp","bark2","init_s3_values","npart","use_old_s3","s3","numberOfNoneZero","s3_x_norm","stereo_demask","ATHformula_GB","ch01","mld_cb_l","mld_cb_s","new_thmm","psymodel_init","useOldS3","bvl_a","bvl_b","snr_l_a","snr_l_b","snr_s_a","snr_s_b","experimentalZ","ms_ener_ratio_old","scalefac_band","snr","ATHformula","decay","exp_nspsytune","frame_duration","ATHtype","freq_inc","eql_balance","ATHcurve","LameGlobalFlags","class_id","num_samples","num_channels","in_samplerate","scale_left","scale_right","decode_only","quality","free_format","findReplayGain","decode_on_the_fly","write_id3tag_automatic","brate","compression_ratio","copyright","original","emphasis","error_protection","strict_ISO","disable_reservoir","quant_comp","quant_comp_short","experimentalY","preset","VBR_q_frac","VBR_q","VBR_mean_bitrate_kbps","VBR_min_bitrate_kbps","VBR_max_bitrate_kbps","VBR_hard_min","lowpassfreq","highpassfreq","lowpasswidth","highpasswidth","maskingadjust","maskingadjust_short","ATHonly","ATHshort","noATH","athaa_type","athaa_sensitivity","useTemporal","tune","tune_value_a","encoder_delay","encoder_padding","frameNum","lame_allocated_gfp","L3Side$1","SFBMAX","new_float$9","new_int$a","GrInfo","l3_enc","scalefac","xrpow_max","part2_3_length","big_values","count1","global_gain","scalefac_compress","table_select","subblock_gain","region0_count","region1_count","preflag","scalefac_scale","count1table_select","part2_length","sfb_lmax","sfb_smin","psy_lmax","sfbmax","psymax","sfbdivide","count1bits","sfb_partition_table","slen","max_nonzero_coeff","clone_int","clone_float","other","new_int$9","IIISideInfo","main_data_begin","private_bits","resvDrain_pre","resvDrain_post","scfsi","System$6","new_int$8","ScaleFac","arrL","arrS","arr21","arr12","psfb21","psfb12","new_float$8","new_float_n$2","new_int$7","NsPsy","longfact","shortfact","VBRSeekInfo","want","bag","nVbrNumFrames","nBytesWritten","TotalFrameSize","new_byte$3","new_float$7","new_float_n$1","new_int$6","new_int_n$1","LameInternalFlags$1","MAX_HEADER_LEN","Header","write_timing","Class_ID","iteration_init_init","fill_buffer_resample_init","mfbuf","MFSIZE","channels_in","resample_ratio","mf_samples_to_encode","VBR_min_bitrate","VBR_max_bitrate","samplerate_index","lowpass1","lowpass2","highpass1","highpass2","noise_shaping","noise_shaping_amp","substep_shaping","noise_shaping_stop","use_best_huffman","full_outer_loop","tag_spec","nMusicCRC","OldValue","CurrentStep","bv_scf","pseudohalf","sfb21_extra","inbuf_old","blackfilt","BPC","itime","sideinfo_len","header","MAX_HEADER_BUF","h_ptr","w_ptr","ancillary_flag","numlines_s_num1","numlines_l_num1","ms_ratio_s_old","ms_ratio_l_old","VBR_seek_table","nogap_total","nogap_current","findPeakSample","PeakSample","RadioGain","AudiophileGain","rgdata","noclipGainChange","noclipScale","hip","in_buffer_nsamples","in_buffer_0","in_buffer_1","MAX_BITS_PER_CHANNEL","MAX_BITS_PER_GRANULE","new_float$6","System$5","Arrays$4","GainAnalysis$1","PINK_REF","RMS_PERCENTILE","RMS_WINDOW_TIME_NUMERATOR","RMS_WINDOW_TIME_DENOMINATOR","ABYule","ABButter","filterYule","inputPos","output","outputPos","nSamples","kernel","filterButter","ResetSampleFrequency","rgData","samplefreq","MAX_ORDER","linprebuf","lstepbuf","loutbuf","rinprebuf","rstepbuf","routbuf","reqindex","INIT_GAIN_ANALYSIS_ERROR","sampleWindow","lsum","rsum","totsamp","ill","INIT_GAIN_ANALYSIS_OK","fsqr","analyzeResult","Array2","elems","GAIN_NOT_ENOUGH_SAMPLES","upper","ceil","STEPS_per_dB","InitGainAnalysis","linpre","rinpre","lstep","rstep","lout","rout","B","AnalyzeSamples","left_samples","left_samplesPos","right_samples","right_samplesPos","curleft","curleftBase","curright","currightBase","batchsamples","cursamples","cursamplepos","GAIN_ANALYSIS_OK","GAIN_ANALYSIS_ERROR","ival","GetTitleGain","retval","MAX_dB","YULE_ORDER","MAX_SAMP_FREQ","MAX_SAMPLES_PER_WINDOW","new_float$5","new_int$5","ReplayGain","freqindex","MeanBits$1","meanBits","bits","new_float$4","new_int$4","assert$8","CBRNewIterationLoop","_quantize","quantize","max_bits","l3_xmin","xrpow","targ_bits","mean_bits","mb","rv","ResvFrameBegin","on_pe","ms_convert","reduce_side","masking_lower_db","mask_adjust","mask_adjust_short","init_outer_loop","init_xrpow","calc_xmin","outer_loop","iteration_finish_one","ResvFrameEnd","HuffCodeTab","hl","xlen","linmax","table","hlen","Tables$1","ht","t1HB","t1l","t2HB","t2l","t3HB","t3l","t5HB","t5l","t6HB","t6l","t7HB","t7l","t8HB","t8l","t9HB","t9l","t10HB","t10l","t11HB","t11l","t12HB","t12l","t13HB","t13l","t16_5l","t15HB","t15l","t16HB","t16l","t24HB","t24l","t32HB","t32l","t33HB","t33l","largetbl","table23","table56","bitrate_table","samplerate_table","scfsi_band","VbrMode$4","Util$1","new_float$3","new_int$3","assert$7","QuantizePVT","tak","POW20","pow20","Q_MAX2","_tk","_rv","IPOW20","ipow20","DBL_EPSILON","IXMAX_VAL","PRECALC_SIZE","Q_MAX","NSATHSCALE","nr_of_sfb_block","pretab","sfBandIndex","pow43","adj43","ATHmdct","compute_ath","ATH_l","ATH_psfb21","ATH_s","ATH_psfb12","samp_freq","ATH_f","StartLine","iteration_init","bass","alto","treble","sfb21","huffman_init","cbr","tbits","add_bits","extra_bits","ResvMaxBits","fac","move_bits","athAdjust","athFloor","pxmin","gsfb","pxminPos","ath_over","ATH2","enable_athaa_fix","xmin","rh1","rh2","en0","xa","xb","max_nonzero","BitStream$1","EQ","tmpATH","calc_noise_core","startline","step","noise","ix","ix01","calc_noise","distort","prev_noise","distortPos","l3_xminPos","over","over_noise_db","tot_noise_db","max_noise","scalefacPos","over_SSD","noise_log","usefullsize","sl","over_count","tot_noise","over_noise","set_pinfo","sfb2","en1","ifqstep","L3Side","xfsf","CalcNoiseResult","bw","LAMEsfb","en_s","xfsf_s","thr_s","LAMEsfb_s","LAMEqss","LAMEmainbits","LAMEsfbits","LARGE_BITS","System$4","Arrays$3","new_int$2","assert$6","Takehiro","Bits","subdv_table","quantize_lines_xrpow_01","istep","xrPos","ixPos","compareval0","quantize_lines_xrpow","remaining","x0","x3","rx0","rx1","rx2","rx3","quantize_xrpow","xp","pi","codInfo","prevNoise","prev_data_use","accumulate","accumulate01","xpPos","iData","iDataPos","acc_iData","acc_iDataPos","acc_xp","acc_xpPos","sfb_count1","ix_max","endPos","max1","max2","count_bit_ESC","linbits","count_bit_noESC","hlen1","count_bit_noESC_from2","count_bit_noESC_from3","sum3","hlen2","hlen3","huf_tbl_noESC","choose_table","choice2","choice","recalc_divide_init","r01_bits","r01_div","r0_tbl","r1_tbl","bigv","r0","a1","r0bits","bi","r0t","r1","a2","r1t","recalc_divide_sub","cod_info2","r2","r2t","noquant_count_bits","best_huffman_divide","count_bits","gain","roundfac","slen1_n","slen2_n","slen1_tab","slen2_tab","scfsi_calc","all_scalefactors_not_negative","best_scalefac_store","recalc","scale_bitcount","scale_bitcount_lsf","scale_short","scale_mixed","scale_long","max_slen1","max_slen2","max_range_sfac_tab","table_number","row_in_table","nr_sfb","max_sfac","partition_table","slen1","slen2","slen3","slen4","log2tab","bv_index","scfb_anz","System$3","Arrays$2","new_byte$2","new_int$1","assert$5","CRC16_POLYNOMIAL","ga","mpg","ver","_ga","_mpg","_ver","totbit","bufByteIdx","bufBitIdx","putheader_bits","putbits2","putbits_noheaders","drain_into_ancillary","remainingBits","getLameShortVersion","writeheader","CRC_update","crc","encodeSideInfo2","bitsPerFrame","CRC_writeheader","old","huffman_coder_count1","huffbits","Huffmancode","tableindex","cbits","xbits","ext","linbits_x1","linbits_x2","ShortHuffmancodebits","region1Start","LongHuffmancodebits","bigvalues","region2Start","writeMainData","data_bits","tot_bits","sfb_partition","scale_bits","sfbs","TotalBytes","total","compute_flushbits","total_bytes_output","flushbits","remaining_headers","last_ptr","first_ptr","getframebits","bit_rate","byte","flush_bitstream","NEQ","GainAnalysis","add_dummy_byte","bufferPos","size2","mp3data","minimum","updateMusicCRC","pcm_buf","mp3_in","samples_out","hip_decode1_unclipped","init_bit_stream_w","Lame$1","LAME_MAXMP3BUFFER","System$2","VbrMode$3","ShortBlock$1","new_float$2","assert$4","LAME_MAXALBUMART","V9","V8","V7","V6","V5","V4","V3","V2","V1","V0","R3MIX","STANDARD","EXTREME","INSANE","STANDARD_FAST","EXTREME_FAST","MEDIUM","MEDIUM_FAST","qu","id3","mpglib","LowPassHighPass","lowerlimit","BandPass","bitrate","lPass","lowpass","enc","_p","_qu","_id3","_mpglib","LAME_ID","lame_init_old","filter_coef","optimum_samplefreq","input_samplefreq","suggested_samplefreq","SmpFrqIndex","sample_freq","gpf","FindNearestBitrate","bRate","samplerate","BitrateIndex","optimum_bandwidth","lh","freq_map","table_index","nearestBitrateFullIndex","lame_init_params_ppflt","lowpass_band","highpass_band","minband","maxband","fc1","fc2","lame_init_qval","lame_init_bitstream","id3tag_write_v2","InitVbrTag","update_inbuffer_size","nsamples","calcNeeded","mf_needed","lame_encode_buffer_sample","buffer_l","buffer_r","mp3out","mp3size","in_buffer","in_bufferPos","in_buffer_ptr","n_in","n_out","inOut","InOut","fill_buffer","buf_size","lame_encode_frame","NumUsed","num_used","gcd","blackman","fcn","wcn","bkwn","sin","fill_buffer_resample","outbuf","outbufPos","desired_len","bpc","intratio","filter_l","BLACKSIZE","offset","time0","joff","xvalue","n_shift","numUsed","lame_init","full_bitrate_table","lower_range","lower_range_kbps","upper_range","upper_range_kbps","lame_init_params","map2MP3Frequency","linear_int","hip_decode_exit","hip_decode_init","cmp","apply_preset","LAME_DEFAULT_QUALITY","VBRNewIterationLoop","VBROldIterationLoop","vbrmode","ABRIterationLoop","NSATTACKTHRE","NSATTACKTHRE_S","lame_encode_flush","mp3buffer","mp3bufferPos","mp3buffer_size","mp3buffer_size_remaining","end_padding","frames_left","imp3","samples_to_encode","bunch","frame_num","lame_encode_buffer","id3tag_write_v1","VbrMode$2","Presets","VBRPresets","qual","compS","shThreshold","shThresholdS","adj","adjShort","lower","curve","sens","inter","joint","mod","fix","vbr_q","quant_comp_s","expY","st_lrm","st_s","masking_adj","masking_adj_short","ath_lower","ath_curve","ath_sensitivity","interch","safejoint","sfb21mod","ABRPresets","kbps","sc","mask","interCh","sfScale","nsmsfix","nsbass","sfscale","lame","_lame","vbr_old_switch_map","vbr_psy_switch_map","apply_vbr_preset","enforce","vbr_preset","q","lame_set_VBR_q","abr_switch_map","apply_abr_preset","actual_bitrate","VBRQuantize","CalcNoiseResult$1","new_float$1","CalcNoiseData","System$1","VbrMode$1","Arrays$1","assert$3","Quantize","tk","init_xrpow_core","psfb21_analogsilence","ath21","ath12","BinSearchDirection","bin_search_StepSize","desired_rate","nBits","flagGoneOver","Direction","BINSEARCH_NONE","BINSEARCH_DOWN","BINSEARCH_UP","loop_break","penalties","get_klemm_noise","klemm_noise","quant_compare","best","calc","better","BitStream","amp_scalefac_bands","bRefine","ifqstep34","trigger2","inc_scalefac_scale","inc_subblock_gain","amp","balance_noise","ixwork","trancate_smallspectrums","allowedNoise","trancateThreshold","nsame","cod_info_w","save_xrpow","best_noise_info","best_part2_3_length","bEndOfSearch","best_ggain_pass1","age","search_limit","noise_info","maxggain","huff_bits","ResvAdjust","VBR_encode_granule","min_bits","dbits","bst_cod_info","bst_xrpow","Max_bits","real_bits","this_bits","found","LameInternalFlags","get_framebits","frameBits","MeanBits","VBR_old_prepare","bands","analog_silence","mxb","bitpressure_strategy","VBR_new_prepare","maximum_framebits","calc_target_bits","analog_silence_bits","max_frame_bits","res_factor","totbits","assert$2","Reservoir","maxmp3buf","frameLength","resvLimit","fullFrameBits","resvsize","over_bits","stuffingBits","mdb_bytes","Version","LAME_URL","LAME_MAJOR_VERSION","LAME_MINOR_VERSION","LAME_PATCH_VERSION","PSY_MAJOR_VERSION","PSY_MINOR_VERSION","getLameVersion","getLameVeryShortVersion","getPsyVersion","getLameUrl","getLameOsBitness","new_byte$1","assert$1","VBRTag","_v","FRAMES_FLAG","BYTES_FLAG","TOC_FLAG","VBR_SCALE_FLAG","NUMTOCENTRIES","MAXFRAMESIZE","VBRHEADERSIZE","LAMEHEADERSIZE","XING_BITRATE1","XING_BITRATE2","XING_BITRATE25","ISO_8859_1","VBRTag0","VBRTag1","crc16Lookup","addVbr","v2","xingSeekTable","act","indx","seek_point","extractInteger","createInteger","createShort","isVbrTag","equals","shiftInBitsValue","setLameTagFrameHeader","bbyte","abyte","crcUpdateLookup","putLameVBR","musicLength","streamBuffer","streamBufferPos","revMethod","abrBitrate","bytesWritten","encDelay","encPadding","revision","vbrTypeTranslator","peakSignalAmplitude","radioReplayGain","audiophileReplayGain","noiseShaping","stereoMode","nonOptimal","sourceFreq","misc","musicCRC","expNPsyTune","safeJoint","noGapMore","noGapPrevious","noGapCount","noGapCurr","athType","skipId3v2","fpStream","seek","id3v2TagSize","id3v2Header","readFully","Tables","getVbrTag","pTagData","VBRTagData","hId","hSrIndex","hMode","hBitrate","samprate","head_flags","frames","toc","vbrScale","headersize","kbps_header","totalFrameSize","headerSize","getLameTagFrame","Lame","streamIndex","streamSize","putVbrTag","stream","write","GetAudio","parse2","mpg2","Parse","ver2","id32","pre2","MPGLib","ID3Tag","_bits","Mp3Encoder$1","channels","gaud","parse","maxSamples","encodeBuffer","_sz","subarray","fourccToInt","fourcc","Mp3Encoder","bitRate","sampleRate","dataBuffer","encoder","arrayBuffer","samples","_convertBuffer","blob","Blob","createObjectURL","_floatTo16BitPCM","Recorder","beforeRecording","pauseRecording","afterRecording","micFailed","encoderOptions","bufferSize","records","isPause","isRecording","volume","_duration","constraints","video","audio","channelCount","echoCancellation","mediaDevices","getUserMedia","_micCaptured","_micError","lameEncoder","getTracks","track2","processor","record","finish","AudioContext","webkitAudioContext","createMediaStreamSource","createScriptProcessor","onaudioprocess","sample","inputBuffer","getChannelData","encode","toFixed","connect","destination","detectMobile","getUserAgent","userAgentPart","vendor","opera","_sfc_main$a","roomMessage","showSendIcon","showFiles","showAudio","showEmojis","showFooter","acceptedFiles","textareaActionEnabled","textareaAutoFocus","userTagsEnabled","emojisSuggestionEnabled","templatesText","audioBitRate","audioSampleRate","initReplyMessage","initEditMessage","droppedFiles","editedMessage","cursorRangePosition","fileDialog","selectUsersTagItem","selectEmojiItem","selectTemplatesTextItem","activeUpOrDownEmojis","activeUpOrDownUsersTag","activeUpOrDownTemplatesText","emojisDB","keepKeyboardOpen","selectedUsersTag","recorder","initRecorder","resetMessage","onChangeInput","getTextareaRef","replyMessage","editMessage","onFileChange","isComposed","sendMessage","isComposing","updateFooterLists","resetFooterList","stopRecorder","roomTextarea","disableMobileFocus","setSelectionRange","resizeTextarea","scrollHeight","pasteEvent","clipboardData","getAsFile","direction","position","endPosition","getCharPosition","focusTextarea","click","fileURL","typeIndex","blobFile","loadedFile","file2","recording","isFileLoading","newContent","usersTag","messageContent","selectUserTag","updateFooterList","tagChar","textareaCursorPosition","selectionStart","beforeTag","notLetterNumber","updateShowUsersTag","updateShowTemplatesText","editMode","cursorPosition","selectionEnd","initRoom","resetTextareaSize","preventKeyboardFromClosing","_hoisted_1$a","_hoisted_2$8","_hoisted_3$8","_hoisted_4$8","_hoisted_5$6","_hoisted_6$3","_hoisted_7$3","_sfc_render$a","_component_room_emojis","_component_room_users_tag","_component_room_templates_text","_component_room_message_reply","_component_room_files","_component_emoji_picker_container","shadowFooter","onSelectEmoji","selectEmoji","onActivateItem","onSelectUserTag","onSelectTemplateText","selectTemplateText","onResetMessage","removeFile","recordedTime","toggleRecorder","TYPE_MESSAGE","onKeydown","escapeTextarea","updateActiveUpOrDown","onPaste","onPasteImage","addEmoji","onAddEmoji","onOpenEmoji","launchFilePicker","textareaActionHandler","accept","onChange","isMessageEmpty","RoomFooter","_sfc_main$9","roomUsers","replyUser","_hoisted_1$9","_hoisted_2$7","_hoisted_3$7","_hoisted_4$7","_hoisted_5$5","_hoisted_6$2","_hoisted_7$2","_hoisted_8$1","_hoisted_9$1","_hoisted_10$1","_sfc_render$9","replyUsername","onUpdateProgressTime","progressTime","hoverAudioProgress","MessageReply","_sfc_main$8","radius","stroke","normalizedRadius","circumference","_hoisted_1$8","_hoisted_2$6","_hoisted_3$6","_hoisted_4$6","_hoisted_5$4","_sfc_render$8","strokeDashoffset","strokeLinecap","cy","ProgressBar","_sfc_main$7","imageResponsive","imageLoading","imageHover","checkImgLoad","maxHeight","clientWidth","loaderTop","_hoisted_1$7","_hoisted_2$5","_hoisted_3$5","_hoisted_4$5","_sfc_render$7","_component_progress_bar","onMouseleave","openFile","isImageLoading","preview","MessageFile","_sfc_main$6","_hoisted_1$6","_hoisted_2$4","_hoisted_3$4","_hoisted_4$4","_hoisted_5$3","_sfc_render$6","_component_message_file","imageVideoFiles","onOpenFile","otherFiles","onOpenUserTag","MessageFiles","_sfc_main$5","messageActions","showReactionEmojis","messageHover","hoverMessageId","menuOptionsTop","optionsOpened","optionsClosing","filteredMessageActions","disableActions","disableReactions","onlyMe","menuOptions","actionIcon","actionIconTop","optionsTopPosition","updateMessageHover","closeOptions","reaction","closeEmoji","_hoisted_1$5","_hoisted_2$3","_hoisted_3$3","_hoisted_4$3","_sfc_render$5","isMessageActions","isMessageReactions","openOptions","sendMessageReaction","messageActionHandler","MessageActions","_sfc_main$4","_hoisted_1$4","_sfc_render$4","reactions","MessageReactions","roomsValidation","roomsValidate","obj2","validType","checkObjectValid","partcipantsValidation","participantsValidate","messagesValidation","messagesValidate","_sfc_main$3","messages","editedMessageId","newMessages","showNewMessagesDivider","usernameOptions","selectedMessages","newMessage","currentUser","minUsers","date","resetMessageHover","canEditMessage","isMessageSelected","_hoisted_1$3","_hoisted_2$2","_hoisted_3$2","_hoisted_4$2","_hoisted_5$2","_hoisted_6$1","_hoisted_7$1","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_sfc_render$3","_component_message_reply","_component_message_files","_component_message_actions","_component_message_reactions","showDate","NEW_MESSAGES","system","openUserTag","selectMessage","hasSenderUserAvatar","messageOffset","isMessageHover","onHoverMessage","onLeaveMessage","showUsername","edited","isCheckmarkVisible","onUpdateMessageHover","onUpdateOptionsOpened","onUpdateEmojiOpened","onMessageActionHandler","onSendMessageReaction","failure","hasCurrentUserAvatar","RoomMessage","_sfc_main$2","loadFirstRoom","messagesLoaded","autoScroll","loadingMessages","loadingMoreMessages","scrollIcon","scrollMessagesCount","noRoomSelected","updateLoadingMessages","onRoomChanged","loadMoreMessages","scrollContainer","prevScrollHeight","scrollTo","touchEvent","changedTouches","posXStart","posYStart","touchEvent2","touchEnd","posXEnd","posYEnd","swippedRight","swippedVertically","resetMessageSelection","unwatch","autoScrollOffset","scrolledUp","getBottomScroll","newAfterScrollUp","scrollToBottom","receive","bottomScroll","preventTopScroll","messageReaction","behavior","dataTransfer","_hoisted_1$2","_hoisted_2$1","_hoisted_3$1","_hoisted_4$1","_hoisted_5$1","_hoisted_6","_hoisted_7","_sfc_render$2","_component_room_header","_component_room_message","_component_room_footer","onDrop","onDropFiles","onDragenter","onDragover","onDragleave","onTouchstart","touchStart","showNoRoom","ROOM_EMPTY","onToggleRoomsList","onRoomInfo","onMenuActionHandler","onMessageSelectionActionHandler","onCancelMessageSelection","onScroll","onContainerScroll","showNoMessages","MESSAGES_EMPTY","showMessagesStarted","CONVERSATION_STARTED","indexId","onMessageAdded","onOpenFailedMessage","onSelectMessage","onUnselectMessage","unselectMessage","onUpdateEditedMessageId","onEditMessage","onSendMessage","onTypingMessage","onTextareaActionHandler","Room","_sfc_main$1","modal","_hoisted_1$1","_hoisted_2","_hoisted_3","autoplay","_hoisted_4","_hoisted_5","_sfc_render$1","tabindex","closeModal","MediaPreview","locales","defaultThemeStyles","light","general","colorButtonClear","colorButton","backgroundColorButton","backgroundInput","colorPlaceholder","colorCaret","colorSpinner","borderStyle","backgroundScrollIcon","border","borderRadius","boxShadow","background","colorRoomName","colorRoomInfo","footer","borderStyleInput","borderInputSelected","backgroundReply","backgroundTagActive","backgroundTag","sidemenu","backgroundHover","backgroundActive","colorActive","borderColorSearch","backgroundMe","colorStarted","backgroundDeleted","backgroundSelected","colorDeleted","colorUsername","colorTimestamp","backgroundDate","colorDate","backgroundSystem","colorSystem","backgroundMedia","colorReplyUsername","colorReply","colorTag","backgroundImage","colorNewMessages","backgroundScrollCounter","colorScrollCounter","backgroundReaction","borderStyleReaction","backgroundReactionHover","borderStyleReactionHover","colorReactionCounter","backgroundReactionMe","borderStyleReactionMe","backgroundReactionHoverMe","borderStyleReactionHoverMe","colorReactionCounterMe","backgroundAudioRecord","backgroundAudioLine","backgroundAudioProgress","backgroundAudioProgressSelector","colorFileExtension","markdown","colorMulti","colorMessage","colorStateOnline","colorStateOffline","backgroundCounterBadge","colorCounterBadge","icons","closeImage","closeOutline","closePreview","sendDisabled","checkmarkSeen","dropdownMessage","dropdownMessageBackground","dropdownRoom","dropdownScroll","audioPlay","audioPause","audioCancel","audioConfirm","dark","cssThemeVars","_style_0","_sfc_main","theme","responsiveBreakpoint","roomsListOpened","roomsOrder","mediaPreviewEnabled","showMediaPreview","previewFile","textMessagesCasted","defaultStyles","customStyles","stylesCasted","roomsCasted","aVal","bVal","castBoolean","castArray","castObject","loadFirstRoomCasted","fetchRoom","singleRoomCasted","orderedRooms","loadingRoomsCasted","roomsListOpenedCasted","updateResponsive","isTrusted","querySelectorAll","opened","fetchMessages","mediaPreviewEnabledCasted","_hoisted_1","_sfc_render","_component_rooms_list","_component_room","_component_media_preview","cssVars","roomsLoadedCasted","roomActionsCasted","showSearchCasted","showAddRoomCasted","textFormattingCasted","linkOptionsCasted","onFetchRoom","onFetchMoreRooms","fetchMoreRooms","onLoadingMoreRooms","addRoom","messagesCasted","messagesLoadedCasted","menuActionsCasted","messageActionsCasted","messageSelectionActionsCasted","autoScrollCasted","showSendIconCasted","showFilesCasted","showAudioCasted","showEmojisCasted","showReactionEmojisCasted","showNewMessagesDividerCasted","showFooterCasted","roomInfoEnabledCasted","textareaActionEnabledCasted","textareaAutoFocusCasted","userTagsEnabledCasted","emojisSuggestionEnabledCasted","templatesTextCasted","usernameOptionsCasted","toggleRoomsList","roomInfo","onFetchMessages","onDeleteMessage","deleteMessage","openFailedMessage","typingMessage","onCloseMediaPreview","ChatWindow","VueAdvancedChat","PACKAGE_NAME","register","_createElementBlock","_createBlock","_component_chat_container","current-user-id","is-device","chatIdOverride","FILES_PATH","fileRef","fileName","storage","deleteFile","deleteObject","getFileDownloadUrl","getDownloadURL","uploadFileTask","uploadFileRef","uploadBytesResumable","contentType","listenUploadImageProgress","success","uploadTask","snap","bytesTransferred","totalBytes","_error","snapshot","_createElementVNode","room-id","loading-rooms","rooms-loaded","messages-loaded","room-message","room-actions","menu-actions","message-selection-actions","templates-text","show-add-room","firebaseListener","onValue","userStatusRef","realtimeDb","updateUserOnlineStatus","isOfflineData","serverTimestamp","isOnlineData","connectedRef","onDisconnect","zeroPad","num","pad","padStart","isSameDay","d1","d2","getFullYear","getMonth","getDate","parseTimestamp","getHours","getMinutes","month","year","day","Intl","DateTimeFormat","formatTimestamp","timestampFormat","outlineAvatarTemplate","fillAvatarTemplate","createAvatar","colorOuterStroke","getRandomDarkColor","colorInnerCircle","colorInnerStroke","usernameInitial","colorPrimary","rnd","seedrandom","hexStr","hslToRgb","g","hue2rgb","isDevice","roomsPerPage","startRooms","endRooms","allUsers","loadingLastMessageByRoom","roomsLoadedCount","selectedRoom","messagesPerPage","lastLoadedMessage","previousLastLoadedMessage","roomsListeners","typingMessageCache","disableForm","addNewRoom","addRoomUsername","inviteRoomId","invitedUsername","removeRoomId","removeUserId","removeUsers","loadedRooms","parsed","newMessagesCountByRooms","$store","getters","screenHeight","addCss","fetchRooms","firebaseService","logoAvatar","unescape","encodeURIComponent","resetRooms","resetMessages","firestoreService","docs","roomUserIds","foundUser","rawUsers","promise","formattedRooms","roomContacts","roomAvatar","lastUpdated","listenLastMessage","listenUsersOnlineStatus","listenRooms","formatLastMessage","roomIndex","sender_id","formattedMessage","formatMessage","listenMessages","lastUnreadMessage","messageIndex","markMessagesSeen","formattedFiles","uploadFile","storageService","updateFileProgress","fileUrl","messageFile","userId1","userId2","query1","loadRoom","query2","inviteUser","removeUser","deleteRoom","foundRoom","resetForms","alert","__exports__","ChatContainer","showChat","updatingData","profile","jivo_destroy","dispatch","$error","jivo_init","__webpack_amd_options__","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","SILENT_ON_NON_WRITABLE_LENGTH","writable","arity","forced","argCount","xor128","xorwow","xorshift7","xor4096","tychei","sr","XorGen","X","bot","strseed","pool","math","nodecrypto","chunks","digits","rngname","startdenom","significance","overflow","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","S","pass","is_math_call","keylen","depth","typ","smear","stringseed","randomBytes","msCrypto","getRandomValues","browser","plugins","screen","random","ex","z","getBuiltIn","createPropertyDescriptor","anInstance","inheritIfRequired","normalizeStringArgument","DOMExceptionConstants","clearErrorStack","DESCRIPTORS","IS_PURE","DOM_EXCEPTION","NativeDOMException","$DOMException","DOMExceptionPrototype","argumentsLength","undefined","that","stack","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","getOwnPropertyDescriptor","BUGGY_DESCRIPTOR","FORCED_CONSTRUCTOR","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","IndexSizeError","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError"],"mappings":"kHAAA,W,qBCAAA,EAAOC,QAAU,WAChB,MAAM,IAAIC,MAAM,oC,oCCAjB,IAAIC,EAAc,EAAQ,QAEtBC,EAAaC,UAEjBL,EAAOC,QAAU,SAAUK,EAAGC,GAC5B,WAAYD,EAAEC,GAAI,MAAMH,EAAW,0BAA4BD,EAAYI,GAAK,OAASJ,EAAYG,M,sBCNvG,mBA2BA,SAAUE,EAAQR,EAAQS,GAE1B,SAASC,EAAKC,GACZ,IAAIC,EAAKC,KAAMC,EAAOC,IAEtBH,EAAGI,KAAO,WACR,IAAIC,EAAI,QAAUL,EAAGM,GAAY,uBAAPN,EAAGO,EAG7B,OAFAP,EAAGM,GAAKN,EAAGQ,GACXR,EAAGQ,GAAKR,EAAGS,GACJT,EAAGS,GAAKJ,GAAKL,EAAGO,EAAQ,EAAJF,IAI7BL,EAAGO,EAAI,EACPP,EAAGM,GAAKJ,EAAK,KACbF,EAAGQ,GAAKN,EAAK,KACbF,EAAGS,GAAKP,EAAK,KACbF,EAAGM,IAAMJ,EAAKH,GACVC,EAAGM,GAAK,IAAKN,EAAGM,IAAM,GAC1BN,EAAGQ,IAAMN,EAAKH,GACVC,EAAGQ,GAAK,IAAKR,EAAGQ,IAAM,GAC1BR,EAAGS,IAAMP,EAAKH,GACVC,EAAGS,GAAK,IAAKT,EAAGS,IAAM,GAC1BP,EAAO,KAGT,SAASQ,EAAKC,EAAGN,GAKf,OAJAA,EAAEE,EAAII,EAAEJ,EACRF,EAAEC,GAAKK,EAAEL,GACTD,EAAEG,GAAKG,EAAEH,GACTH,EAAEI,GAAKE,EAAEF,GACFJ,EAGT,SAASO,EAAKb,EAAMc,GAClB,IAAIC,EAAK,IAAIhB,EAAKC,GACdgB,EAAQF,GAAQA,EAAKE,MACrBC,EAAOF,EAAGV,KAUd,OATAY,EAAKC,MAAQ,WAAa,OAAoB,WAAZH,EAAGV,OAAwB,GAC7DY,EAAKE,OAAS,WACZ,OAAOF,IAAmC,uBAAhB,QAATA,IAAoB,IAEvCA,EAAKG,MAAQH,EACTD,IACmB,iBAAX,GAAqBL,EAAKK,EAAOD,GAC3CE,EAAKD,MAAQ,WAAa,OAAOL,EAAKI,EAAI,MAErCE,EAGT,SAASb,IACP,IAAIiB,EAAI,WAEJlB,EAAO,SAASmB,GAClBA,EAAOC,OAAOD,GACd,IAAK,IAAIE,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpCH,GAAKC,EAAKI,WAAWF,GACrB,IAAIG,EAAI,mBAAsBN,EAC9BA,EAAIM,IAAM,EACVA,GAAKN,EACLM,GAAKN,EACLA,EAAIM,IAAM,EACVA,GAAKN,EACLA,GAAS,WAAJM,EAEP,OAAmB,wBAAXN,IAAM,IAGhB,OAAOlB,EAILd,GAAUA,EAAOC,QACnBD,EAAOC,QAAUuB,EACR,WAAU,WACnB,aAAoB,OAAOA,GAAO,yCAElCX,KAAK0B,KAAOf,GA7Ed,CAiFEX,EAC+Bb,EAC/B,a,yEC9GF,IAAIwC,EAAgB,EAAQ,QAExBpC,EAAaC,UAEjBL,EAAOC,QAAU,SAAUwC,EAAIC,GAC7B,GAAIF,EAAcE,EAAWD,GAAK,OAAOA,EACzC,MAAMrC,EAAW,0B,qCCNnB,qBAASuC,EAAUC,EAAKC,GACtB,MAAMC,EAAsBC,OAAOC,OAAO,MACpCC,EAAOL,EAAIM,MAAM,KACvB,IAAK,IAAIf,EAAI,EAAGA,EAAIc,EAAKb,OAAQD,IAC/BW,EAAIG,EAAKd,KAAM,EAEjB,OAAOU,EAAoBM,KAAUL,EAAIK,EAAIC,eAAkBD,KAAUL,EAAIK,GAN/E,mCAQA,MAAME,EAAS,OAETC,EAAWP,OAAOQ,OAClBC,EAAmBT,OAAOU,UAAUC,eACpCC,EAAW,CAACR,EAAKS,IAAQJ,EAAiBK,KAAKV,EAAKS,GACpDE,EAAYC,MAAMC,QAClBC,EAAWd,GAAgC,iBAAxBe,EAAef,GAClCgB,EAAgBhB,GAAuB,oBAARA,EAC/BiB,EAAcjB,GAAuB,kBAARA,EAC7BkB,EAAYlB,GAAuB,kBAARA,EAC3BmB,EAAcnB,GAAgB,OAARA,GAA+B,kBAARA,EAC7CoB,EAAmBxB,OAAOU,UAAUe,SACpCN,EAAkBO,GAAUF,EAAiBV,KAAKY,GAClDC,EAAaD,GACVP,EAAeO,GAAOE,MAAM,GAAI,GAEnCC,EAAgBhB,GAAQQ,EAAWR,IAAgB,QAARA,GAA4B,MAAXA,EAAI,IAAc,GAAKiB,SAASjB,EAAK,MAAQA,EACzGkB,EAAe,CAACL,EAAOM,KAAchC,OAAOiC,GAAGP,EAAOM,GACtDE,EAAQ,CAACC,EAAKtB,EAAKa,KACvB1B,OAAOoC,eAAeD,EAAKtB,EAAK,CAC9BwB,cAAc,EACdC,YAAY,EACZZ,WAGJ,IAAIa,EACJ,MAAMC,EACJ,YAAYC,GAAW,GACrB3E,KAAK4E,QAAS,EACd5E,KAAK6E,QAAU,GACf7E,KAAK8E,SAAW,IACXH,GAAYF,IACfzE,KAAK+E,OAASN,EACdzE,KAAKgF,OAASP,EAAkBQ,SAAWR,EAAkBQ,OAAS,KAAKC,KAAKlF,MAAQ,GAG5F,IAAImF,GACF,GAAInF,KAAK4E,OAAQ,CACf,MAAMQ,EAAqBX,EAC3B,IAEE,OADAA,EAAoBzE,KACbmF,IACP,QACAV,EAAoBW,IAI1B,KACEX,EAAoBzE,KAEtB,MACEyE,EAAoBzE,KAAK+E,OAE3B,KAAKM,GACH,GAAIrF,KAAK4E,OAAQ,CACf,IAAItD,EAAGgE,EACP,IAAKhE,EAAI,EAAGgE,EAAItF,KAAK6E,QAAQtD,OAAQD,EAAIgE,EAAGhE,IAC1CtB,KAAK6E,QAAQvD,GAAGiE,OAElB,IAAKjE,EAAI,EAAGgE,EAAItF,KAAK8E,SAASvD,OAAQD,EAAIgE,EAAGhE,IAC3CtB,KAAK8E,SAASxD,KAEhB,GAAItB,KAAKiF,OACP,IAAK3D,EAAI,EAAGgE,EAAItF,KAAKiF,OAAO1D,OAAQD,EAAIgE,EAAGhE,IACzCtB,KAAKiF,OAAO3D,GAAGiE,MAAK,GAGxB,GAAIvF,KAAK+E,SAAWM,EAAY,CAC9B,MAAMG,EAAOxF,KAAK+E,OAAOE,OAAOQ,MAC5BD,GAAQA,IAASxF,OACnBA,KAAK+E,OAAOE,OAAOjF,KAAKgF,OAASQ,EACjCA,EAAKR,MAAQhF,KAAKgF,OAGtBhF,KAAK4E,QAAS,IAIpB,SAASc,EAAkBC,EAAQC,EAAQnB,GACrCmB,GAASA,EAAMhB,QACjBgB,EAAMf,QAAQK,KAAKS,GAGvB,MAAME,EAAahB,IACjB,MAAMiB,EAAM,IAAIC,IAAIlB,GAGpB,OAFAiB,EAAIE,EAAI,EACRF,EAAI3E,EAAI,EACD2E,GAEHG,EAAcH,IAASA,EAAIE,EAAIE,GAAc,EAC7CC,EAAcL,IAASA,EAAI3E,EAAI+E,GAAc,EAC7CE,EAAiB,EAAGC,WACxB,GAAIA,EAAK9E,OACP,IAAK,IAAID,EAAI,EAAGA,EAAI+E,EAAK9E,OAAQD,IAC/B+E,EAAK/E,GAAG0E,GAAKE,GAIbI,EAAsBX,IAC1B,MAAM,KAAEU,GAASV,EACjB,GAAIU,EAAK9E,OAAQ,CACf,IAAIgF,EAAM,EACV,IAAK,IAAIjF,EAAI,EAAGA,EAAI+E,EAAK9E,OAAQD,IAAK,CACpC,MAAMwE,EAAMO,EAAK/E,GACb2E,EAAWH,KAASK,EAAWL,GACjCA,EAAIU,OAAOb,GAEXU,EAAKE,KAAST,EAEhBA,EAAIE,IAAME,EACVJ,EAAI3E,IAAM+E,EAEZG,EAAK9E,OAASgF,IAGZE,EAA4B,IAAIC,QACtC,IAAIC,EAAmB,EACnBT,EAAa,EACjB,MAAMU,EAAgB,GACtB,IAAIC,EACJ,MAAMC,EAAcC,OAAO,IACrBC,EAAsBD,OAAO,IACnC,MAAME,EACJ,YAAY9B,EAAI+B,EAAY,KAAMtB,GAChC5F,KAAKmF,GAAKA,EACVnF,KAAKkH,UAAYA,EACjBlH,KAAK4E,QAAS,EACd5E,KAAKqG,KAAO,GACZrG,KAAK+E,YAAS,EACdW,EAAkB1F,KAAM4F,GAE1B,MACE,IAAK5F,KAAK4E,OACR,OAAO5E,KAAKmF,KAEd,IAAIJ,EAAS8B,EACTM,EAAkBC,EACtB,MAAOrC,EAAQ,CACb,GAAIA,IAAW/E,KACb,OAEF+E,EAASA,EAAOA,OAElB,IAUE,OATA/E,KAAK+E,OAAS8B,EACdA,EAAe7G,KACfoH,GAAc,EACdlB,EAAa,KAAOS,EAChBA,GAAoBC,EACtBR,EAAepG,MAEfqH,EAAcrH,MAETA,KAAKmF,KACZ,QACIwB,GAAoBC,GACtBN,EAAmBtG,MAErBkG,EAAa,KAAOS,EACpBE,EAAe7G,KAAK+E,OACpBqC,EAAcD,EACdnH,KAAK+E,YAAS,EACV/E,KAAKsH,WACPtH,KAAKuF,QAIX,OACMsB,IAAiB7G,KACnBA,KAAKsH,WAAY,EACRtH,KAAK4E,SACdyC,EAAcrH,MACVA,KAAKuH,QACPvH,KAAKuH,SAEPvH,KAAK4E,QAAS,IAIpB,SAASyC,EAAc1B,GACrB,MAAM,KAAEU,GAASV,EACjB,GAAIU,EAAK9E,OAAQ,CACf,IAAK,IAAID,EAAI,EAAGA,EAAI+E,EAAK9E,OAAQD,IAC/B+E,EAAK/E,GAAGkF,OAAOb,GAEjBU,EAAK9E,OAAS,GAGlB,IAAI6F,GAAc,EAClB,MAAMI,EAAa,GACnB,SAASC,IACPD,EAAWtC,KAAKkC,GAChBA,GAAc,EAEhB,SAASM,IACP,MAAMlC,EAAOgC,EAAW/B,MACxB2B,OAAuB,IAAT5B,GAAyBA,EAEzC,SAASmC,EAAMC,EAAQC,EAAM9E,GAC3B,GAAIqE,GAAeP,EAAc,CAC/B,IAAIiB,EAAUrB,EAAUsB,IAAIH,GACvBE,GACHrB,EAAUuB,IAAIJ,EAAQE,EAA0B,IAAIG,KAEtD,IAAInC,EAAMgC,EAAQC,IAAIhF,GACjB+C,GACHgC,EAAQE,IAAIjF,EAAK+C,EAAMD,KAEzBqC,EAAapC,IAGjB,SAASoC,EAAapC,EAAKqC,GACzB,IAAIC,GAAe,EACfzB,GAAoBC,EACjBT,EAAWL,KACdA,EAAI3E,GAAK+E,EACTkC,GAAgBnC,EAAWH,IAG7BsC,GAAgBtC,EAAIuC,IAAIxB,GAEtBuB,IACFtC,EAAIwC,IAAIzB,GACRA,EAAaR,KAAKnB,KAAKY,IAG3B,SAASyC,EAAQX,EAAQC,EAAM9E,EAAKyF,EAAUtE,EAAUuE,GACtD,MAAMX,EAAUrB,EAAUsB,IAAIH,GAC9B,IAAKE,EACH,OAEF,IAAIzB,EAAO,GACX,GAAa,UAATwB,EACFxB,EAAO,IAAIyB,EAAQY,eACd,GAAY,WAAR3F,GAAoBE,EAAU2E,GACvCE,EAAQa,QAAQ,CAAC7C,EAAK8C,MACP,WAATA,GAAqBA,GAAQJ,IAC/BnC,EAAKnB,KAAKY,UAOd,YAHY,IAAR/C,GACFsD,EAAKnB,KAAK4C,EAAQC,IAAIhF,IAEhB8E,GACN,IAAK,MACE5E,EAAU2E,GAKJ7D,EAAahB,IACtBsD,EAAKnB,KAAK4C,EAAQC,IAAI,YALtB1B,EAAKnB,KAAK4C,EAAQC,IAAIjB,IAClB1D,EAAQwE,IACVvB,EAAKnB,KAAK4C,EAAQC,IAAIf,KAK1B,MACF,IAAK,SACE/D,EAAU2E,KACbvB,EAAKnB,KAAK4C,EAAQC,IAAIjB,IAClB1D,EAAQwE,IACVvB,EAAKnB,KAAK4C,EAAQC,IAAIf,KAG1B,MACF,IAAK,MACC5D,EAAQwE,IACVvB,EAAKnB,KAAK4C,EAAQC,IAAIjB,IAExB,MAGN,GAAoB,IAAhBT,EAAK9E,OACH8E,EAAK,IAELwC,EAAexC,EAAK,QAGnB,CACL,MAAMxB,EAAU,GAChB,IAAK,MAAMiB,KAAOO,EACZP,GACFjB,EAAQK,QAAQY,GAIlB+C,EAAehD,EAAUhB,KAI/B,SAASgE,EAAe/C,EAAKqC,GAC3B,MAAMtD,EAAU5B,EAAU6C,GAAOA,EAAM,IAAIA,GAC3C,IAAK,MAAMH,KAAUd,EACfc,EAAOmD,UACTC,EAAcpD,GAGlB,IAAK,MAAMA,KAAUd,EACdc,EAAOmD,UACVC,EAAcpD,GAIpB,SAASoD,EAAcpD,EAAQwC,IACzBxC,IAAWkB,GAAgBlB,EAAOqD,gBAChCrD,EAAOuB,UACTvB,EAAOuB,YAEPvB,EAAOsD,OAIb,MAAMC,EAAqCpH,EAAU,+BAC/CqH,EAAiB,IAAIpD,IACT7D,OAAOkH,oBAAoBrC,QAAQsC,OAAQtG,GAAgB,cAARA,GAA+B,WAARA,GAAkBd,IAAKc,GAAQgE,OAAOhE,IAAMsG,OAAO7F,IAEzI8F,EAAwBC,IACxBC,EAA6BD,GAAa,GAAO,GACjDE,EAA8BF,GAAa,GAC3CG,EAAwCC,IAC9C,SAASA,IACP,MAAMC,EAAmB,GAuBzB,MAtBA,CAAC,WAAY,UAAW,eAAejB,QAAS5F,IAC9C6G,EAAiB7G,GAAO,YAAY8G,GAClC,MAAMC,EAAMC,GAAM/J,MAClB,IAAK,IAAIsB,EAAI,EAAGgE,EAAItF,KAAKuB,OAAQD,EAAIgE,EAAGhE,IACtCqG,EAAMmC,EAAK,MAAOxI,EAAI,IAExB,MAAM0I,EAAMF,EAAI/G,MAAQ8G,GACxB,OAAa,IAATG,IAAsB,IAARA,EACTF,EAAI/G,MAAQ8G,EAAK5H,IAAI8H,KAErBC,KAIb,CAAC,OAAQ,MAAO,QAAS,UAAW,UAAUrB,QAAS5F,IACrD6G,EAAiB7G,GAAO,YAAY8G,GAClCpC,IACA,MAAMuC,EAAMD,GAAM/J,MAAM+C,GAAKkH,MAAMjK,KAAM6J,GAEzC,OADAnC,IACOsC,KAGJJ,EAET,SAASL,EAAaW,GAAc,EAAOC,GAAU,GACnD,OAAO,SAAcvC,EAAQ7E,EAAKqH,GAChC,GAAY,mBAARrH,EACF,OAAQmH,EACH,GAAY,mBAARnH,EACT,OAAOmH,EACF,GAAY,kBAARnH,EACT,OAAOoH,EACF,GAAY,YAARpH,GAAqBqH,KAAcF,EAAcC,EAAUE,GAAqBC,GAAcH,EAAUI,GAAqBC,IAAazC,IAAIH,GACvJ,OAAOA,EAET,MAAM6C,EAAgBxH,EAAU2E,GAChC,IAAKsC,GAAeO,GAAiB3H,EAAS4G,EAAuB3G,GACnE,OAAO2H,QAAQ3C,IAAI2B,EAAuB3G,EAAKqH,GAEjD,MAAMJ,EAAMU,QAAQ3C,IAAIH,EAAQ7E,EAAKqH,GACrC,OAAI5G,EAAST,GAAOoG,EAAed,IAAItF,GAAOmG,EAAmBnG,IACxDiH,GAEJE,GACHvC,EAAMC,EAAQ,MAAO7E,GAEnBoH,EACKH,EAELW,GAAMX,GACDS,GAAiB1G,EAAahB,GAAOiH,EAAMA,EAAIpG,MAEpDH,EAAWuG,GACNE,EAAcU,GAASZ,GAAOa,GAASb,GAEzCA,IAGX,MAAMc,GAAwBC,KACxBC,GAA6BD,IAAa,GAChD,SAASA,GAAaZ,GAAU,GAC9B,OAAO,SAAcvC,EAAQ7E,EAAKa,EAAOwG,GACvC,IAAIlG,EAAW0D,EAAO7E,GACtB,GAAIkI,GAAW/G,IAAayG,GAAMzG,KAAcyG,GAAM/G,GACpD,OAAO,EAET,IAAKuG,IAAYc,GAAWrH,KACrBsH,GAAUtH,KACbA,EAAQmG,GAAMnG,GACdM,EAAW6F,GAAM7F,KAEdjB,EAAU2E,IAAW+C,GAAMzG,KAAcyG,GAAM/G,IAElD,OADAM,EAASN,MAAQA,GACV,EAGX,MAAMuH,EAASlI,EAAU2E,IAAW7D,EAAahB,GAAOqI,OAAOrI,GAAO6E,EAAOrG,OAASuB,EAAS8E,EAAQ7E,GACjGsI,EAASX,QAAQ1C,IAAIJ,EAAQ7E,EAAKa,EAAOwG,GAQ/C,OAPIxC,IAAWmC,GAAMK,KACde,EAEMlH,EAAaL,EAAOM,IAC7BqE,EAAQX,EAAQ,MAAO7E,EAAKa,GAF5B2E,EAAQX,EAAQ,MAAO7E,EAAKa,IAKzByH,GAGX,SAASC,GAAe1D,EAAQ7E,GAC9B,MAAMoI,EAASrI,EAAS8E,EAAQ7E,GAChC6E,EAAO7E,GACP,MAAMsI,EAASX,QAAQY,eAAe1D,EAAQ7E,GAI9C,OAHIsI,GAAUF,GACZ5C,EAAQX,EAAQ,SAAU7E,OAAK,GAE1BsI,EAET,SAAShD,GAAIT,EAAQ7E,GACnB,MAAMsI,EAASX,QAAQrC,IAAIT,EAAQ7E,GAInC,OAHKS,EAAST,IAASoG,EAAed,IAAItF,IACxC4E,EAAMC,EAAQ,MAAO7E,GAEhBsI,EAET,SAASE,GAAQ3D,GAEf,OADAD,EAAMC,EAAQ,UAAW3E,EAAU2E,GAAU,SAAWd,GACjD4D,QAAQa,QAAQ3D,GAEzB,MAAM4D,GAAkB,CACtBzD,IAAKuB,EACLtB,IAAK8C,GACLQ,kBACAjD,OACAkD,YAEIE,GAAmB,CACvB1D,IAAK0B,EACL,IAAI7B,EAAQ7E,GACV,OAAO,GAET,eAAe6E,EAAQ7E,GACrB,OAAO,IAGL2I,GAA0CjJ,EAAS,GAAI+I,GAAiB,CAC5EzD,IAAKyB,EACLxB,IAAKgD,KAEDW,GAAa/H,GAAUA,EACvBgI,GAAYC,GAAMnB,QAAQoB,eAAeD,GAC/C,SAASE,GAAQnE,EAAQ7E,EAAKmH,GAAc,EAAO8B,GAAa,GAC9DpE,EAASA,EAAO,WAChB,MAAMqE,EAAYlC,GAAMnC,GAClBsE,EAASnC,GAAMhH,GAChBmH,IACCnH,IAAQmJ,GACVvE,EAAMsE,EAAW,MAAOlJ,GAE1B4E,EAAMsE,EAAW,MAAOC,IAE1B,MAAQ7D,IAAK8D,GAASP,GAASK,GACzBG,EAAOJ,EAAaL,GAAYzB,EAAcmC,GAAaC,GACjE,OAAIH,EAAKnJ,KAAKiJ,EAAWlJ,GAChBqJ,EAAKxE,EAAOG,IAAIhF,IACdoJ,EAAKnJ,KAAKiJ,EAAWC,GACvBE,EAAKxE,EAAOG,IAAImE,SACdtE,IAAWqE,GACpBrE,EAAOG,IAAIhF,IAGf,SAASwJ,GAAMxJ,EAAKmH,GAAc,GAChC,MAAMtC,EAAS5H,KAAK,WACdiM,EAAYlC,GAAMnC,GAClBsE,EAASnC,GAAMhH,GAOrB,OANKmH,IACCnH,IAAQmJ,GACVvE,EAAMsE,EAAW,MAAOlJ,GAE1B4E,EAAMsE,EAAW,MAAOC,IAEnBnJ,IAAQmJ,EAAStE,EAAOS,IAAItF,GAAO6E,EAAOS,IAAItF,IAAQ6E,EAAOS,IAAI6D,GAE1E,SAASM,GAAK5E,EAAQsC,GAAc,GAGlC,OAFAtC,EAASA,EAAO,YACfsC,GAAevC,EAAMoC,GAAMnC,GAAS,UAAWd,GACzC4D,QAAQ3C,IAAIH,EAAQ,OAAQA,GAErC,SAASU,GAAI1E,GACXA,EAAQmG,GAAMnG,GACd,MAAMgE,EAASmC,GAAM/J,MACfyM,EAAQb,GAAShE,GACjBuD,EAASsB,EAAMpE,IAAIrF,KAAK4E,EAAQhE,GAKtC,OAJKuH,IACHvD,EAAOU,IAAI1E,GACX2E,EAAQX,EAAQ,MAAOhE,EAAOA,IAEzB5D,KAET,SAAS0M,GAAQ3J,EAAKa,GACpBA,EAAQmG,GAAMnG,GACd,MAAMgE,EAASmC,GAAM/J,OACbqI,IAAK8D,EAAMpE,IAAK4E,GAASf,GAAShE,GAC1C,IAAIuD,EAASgB,EAAKnJ,KAAK4E,EAAQ7E,GAC1BoI,IACHpI,EAAMgH,GAAMhH,GACZoI,EAASgB,EAAKnJ,KAAK4E,EAAQ7E,IAE7B,MAAMmB,EAAWyI,EAAK3J,KAAK4E,EAAQ7E,GAOnC,OANA6E,EAAOI,IAAIjF,EAAKa,GACXuH,EAEMlH,EAAaL,EAAOM,IAC7BqE,EAAQX,EAAQ,MAAO7E,EAAKa,GAF5B2E,EAAQX,EAAQ,MAAO7E,EAAKa,GAIvB5D,KAET,SAAS4M,GAAY7J,GACnB,MAAM6E,EAASmC,GAAM/J,OACbqI,IAAK8D,EAAMpE,IAAK4E,GAASf,GAAShE,GAC1C,IAAIuD,EAASgB,EAAKnJ,KAAK4E,EAAQ7E,GAC1BoI,IACHpI,EAAMgH,GAAMhH,GACZoI,EAASgB,EAAKnJ,KAAK4E,EAAQ7E,IAE7B4J,GAAOA,EAAK3J,KAAK4E,EAAQ7E,GACzB,MAAMsI,EAASzD,EAAOpB,OAAOzD,GAI7B,OAHIoI,GACF5C,EAAQX,EAAQ,SAAU7E,OAAK,GAE1BsI,EAET,SAASwB,KACP,MAAMjF,EAASmC,GAAM/J,MACf8M,EAA2B,IAAhBlF,EAAO4E,KAClBnB,EAASzD,EAAOiF,QAItB,OAHIC,GACFvE,EAAQX,EAAQ,aAAS,OAAQ,GAE5ByD,EAET,SAAS0B,GAAc7C,EAAa8B,GAClC,OAAO,SAAiBgB,EAAUC,GAChC,MAAMC,EAAWlN,KACX4H,EAASsF,EAAS,WAClBjB,EAAYlC,GAAMnC,GAClBwE,EAAOJ,EAAaL,GAAYzB,EAAcmC,GAAaC,GAEjE,OADCpC,GAAevC,EAAMsE,EAAW,UAAWnF,GACrCc,EAAOe,QAAQ,CAAC/E,EAAOb,IACrBiK,EAAShK,KAAKiK,EAASb,EAAKxI,GAAQwI,EAAKrJ,GAAMmK,KAI5D,SAASC,GAAqBC,EAAQlD,EAAa8B,GACjD,OAAO,YAAYnC,GACjB,MAAMjC,EAAS5H,KAAK,WACdiM,EAAYlC,GAAMnC,GAClByF,EAAcjK,EAAQ6I,GACtBqB,EAAoB,YAAXF,GAAwBA,IAAWrG,OAAOwG,UAAYF,EAC/DG,EAAuB,SAAXJ,GAAqBC,EACjCI,EAAgB7F,EAAOwF,MAAWvD,GAClCuC,EAAOJ,EAAaL,GAAYzB,EAAcmC,GAAaC,GAEjE,OADCpC,GAAevC,EAAMsE,EAAW,UAAWuB,EAAYxG,EAAsBF,GACvE,CACL,OACE,MAAM,MAAElD,EAAK,KAAE8J,GAASD,EAActN,OACtC,OAAOuN,EAAO,CAAE9J,QAAO8J,QAAS,CAC9B9J,MAAO0J,EAAS,CAAClB,EAAKxI,EAAM,IAAKwI,EAAKxI,EAAM,KAAOwI,EAAKxI,GACxD8J,SAGJ,CAAC3G,OAAOwG,YACN,OAAOvN,QAKf,SAAS2N,GAAqB9F,GAC5B,OAAO,YAAYgC,GACjB,MAAgB,WAAThC,GAA4B7H,MAGvC,SAAS4N,KACP,MAAMC,EAA2B,CAC/B,IAAI9K,GACF,OAAOgJ,GAAQ/L,KAAM+C,IAEvB,WACE,OAAOyJ,GAAKxM,OAEdqI,IAAKkE,GACLjE,OACAN,IAAK0E,GACLlG,OAAQoG,GACRC,SACAlE,QAASoE,IAAc,GAAO,IAE1Be,EAA2B,CAC/B,IAAI/K,GACF,OAAOgJ,GAAQ/L,KAAM+C,GAAK,GAAO,IAEnC,WACE,OAAOyJ,GAAKxM,OAEdqI,IAAKkE,GACLjE,OACAN,IAAK0E,GACLlG,OAAQoG,GACRC,SACAlE,QAASoE,IAAc,GAAO,IAE1BgB,EAA4B,CAChC,IAAIhL,GACF,OAAOgJ,GAAQ/L,KAAM+C,GAAK,IAE5B,WACE,OAAOyJ,GAAKxM,MAAM,IAEpB,IAAI+C,GACF,OAAOwJ,GAAMvJ,KAAKhD,KAAM+C,GAAK,IAE/BuF,IAAKqF,GAAqB,OAC1B3F,IAAK2F,GAAqB,OAC1BnH,OAAQmH,GAAqB,UAC7Bd,MAAOc,GAAqB,SAC5BhF,QAASoE,IAAc,GAAM,IAEzBiB,EAAmC,CACvC,IAAIjL,GACF,OAAOgJ,GAAQ/L,KAAM+C,GAAK,GAAM,IAElC,WACE,OAAOyJ,GAAKxM,MAAM,IAEpB,IAAI+C,GACF,OAAOwJ,GAAMvJ,KAAKhD,KAAM+C,GAAK,IAE/BuF,IAAKqF,GAAqB,OAC1B3F,IAAK2F,GAAqB,OAC1BnH,OAAQmH,GAAqB,UAC7Bd,MAAOc,GAAqB,SAC5BhF,QAASoE,IAAc,GAAM,IAEzBkB,EAAkB,CAAC,OAAQ,SAAU,UAAWlH,OAAOwG,UAO7D,OANAU,EAAgBtF,QAASyE,IACvBS,EAAyBT,GAAUD,GAAqBC,GAAQ,GAAO,GACvEW,EAA0BX,GAAUD,GAAqBC,GAAQ,GAAM,GACvEU,EAAyBV,GAAUD,GAAqBC,GAAQ,GAAO,GACvEY,EAAiCZ,GAAUD,GAAqBC,GAAQ,GAAM,KAEzE,CACLS,EACAE,EACAD,EACAE,GAGJ,MAAOE,GAAyBC,GAA0BC,GAAyBC,IAAmDT,KACtI,SAASU,GAA4BpE,EAAaC,GAChD,MAAMP,EAAmBO,EAAUD,EAAcmE,GAAkCD,GAA0BlE,EAAciE,GAA2BD,GACtJ,MAAO,CAACtG,EAAQ7E,EAAKqH,IACP,mBAARrH,GACMmH,EACS,mBAARnH,EACFmH,EACU,YAARnH,EACF6E,EAEF8C,QAAQ3C,IAAIjF,EAAS8G,EAAkB7G,IAAQA,KAAO6E,EAASgC,EAAmBhC,EAAQ7E,EAAKqH,GAG1G,MAAMmE,GAA4B,CAChCxG,IAAqBuG,IAA4B,GAAO,IAEpDE,GAA4B,CAChCzG,IAAqBuG,IAA4B,GAAO,IAEpDG,GAA6B,CACjC1G,IAAqBuG,IAA4B,GAAM,IAEnD9D,GAA8B,IAAI9D,QAClC6D,GAAqC,IAAI7D,QACzC4D,GAA8B,IAAI5D,QAClC2D,GAAqC,IAAI3D,QAC/C,SAASgI,GAAcC,GACrB,OAAQA,GACN,IAAK,SACL,IAAK,QACH,OAAO,EACT,IAAK,MACL,IAAK,MACL,IAAK,UACL,IAAK,UACH,OAAO,EACT,QACE,OAAO,GAGb,SAASC,GAAchL,GACrB,OAAOA,EAAM,cAAgB1B,OAAO2M,aAAajL,GAAS,EAAI8K,GAAc7K,EAAUD,IAExF,SAASiH,GAASjD,GAChB,OAAIqD,GAAWrD,GACNA,EAEFkH,GAAqBlH,GAAQ,EAAO4D,GAAiB+C,GAA2B/D,IAEzF,SAASuE,GAAgBnH,GACvB,OAAOkH,GAAqBlH,GAAQ,EAAO8D,GAAyB8C,GAA2BjE,IAEjG,SAASK,GAAShD,GAChB,OAAOkH,GAAqBlH,GAAQ,EAAM6D,GAAkBgD,GAA4BnE,IAE1F,SAASwE,GAAqBlH,EAAQsC,EAAa8E,EAAcC,EAAoBC,GACnF,IAAKzL,EAAWmE,GACd,OAAOA,EAET,GAAIA,EAAO,cAAgBsC,IAAetC,EAAO,mBAC/C,OAAOA,EAET,MAAMuH,EAAgBD,EAASnH,IAAIH,GACnC,GAAIuH,EACF,OAAOA,EAET,MAAMC,EAAaR,GAAchH,GACjC,GAAmB,IAAfwH,EACF,OAAOxH,EAET,MAAMyH,EAAQ,IAAIC,MAAM1H,EAAuB,IAAfwH,EAAmBH,EAAqBD,GAExE,OADAE,EAASlH,IAAIJ,EAAQyH,GACdA,EAET,SAASE,GAAW3L,GAClB,OAAIqH,GAAWrH,GACN2L,GAAW3L,EAAM,eAEhBA,IAASA,EAAM,mBAE3B,SAASqH,GAAWrH,GAClB,SAAUA,IAASA,EAAM,mBAE3B,SAASsH,GAAUtH,GACjB,SAAUA,IAASA,EAAM,kBAE3B,SAAS4L,GAAQ5L,GACf,OAAO2L,GAAW3L,IAAUqH,GAAWrH,GAEzC,SAASmG,GAAMmD,GACb,MAAMuC,EAAMvC,GAAYA,EAAS,WACjC,OAAOuC,EAAM1F,GAAM0F,GAAOvC,EAE5B,SAASwC,GAAQ9L,GAEf,OADAQ,EAAMR,EAAO,YAAY,GAClBA,EAET,MAAM0I,GAAc1I,GAAUH,EAAWG,GAASiH,GAASjH,GAASA,EAC9DyI,GAAczI,GAAUH,EAAWG,GAASgH,GAAShH,GAASA,EACpE,SAAS+L,GAAcC,GACjBxI,GAAeP,IACjB+I,EAAM7F,GAAM6F,GAEV1H,EAAa0H,EAAI9J,MAAQ8J,EAAI9J,IAAMD,OAIzC,SAASgK,GAAgBD,EAAKE,GAC5BF,EAAM7F,GAAM6F,GACRA,EAAI9J,KAEJ+C,EAAe+G,EAAI9J,KAIzB,SAAS6E,GAAMoF,GACb,SAAUA,IAAqB,IAAhBA,EAAEC,WAEnB,SAASC,GAAML,GACb,OAAOjF,GAAMiF,GAAOA,EAAIhM,MAAQgM,EAElC,MAAMM,GAAwB,CAC5BnI,IAAK,CAACH,EAAQ7E,EAAKqH,IAAa6F,GAAMvF,QAAQ3C,IAAIH,EAAQ7E,EAAKqH,IAC/DpC,IAAK,CAACJ,EAAQ7E,EAAKa,EAAOwG,KACxB,MAAMlG,EAAW0D,EAAO7E,GACxB,OAAI4H,GAAMzG,KAAcyG,GAAM/G,IAC5BM,EAASN,MAAQA,GACV,GAEA8G,QAAQ1C,IAAIJ,EAAQ7E,EAAKa,EAAOwG,KAI7C,SAAS+F,GAAUC,GACjB,OAAOb,GAAWa,GAAkBA,EAAiB,IAAId,MAAMc,EAAgBF,IAEjF,MAAMG,GACJ,YAAYC,EAAQC,EAASrG,EAAasG,GACxCxQ,KAAKuQ,QAAUA,EACfvQ,KAAK8F,SAAM,EACX9F,KAAKgQ,WAAY,EACjBhQ,KAAKyQ,QAAS,EACdzQ,KAAK2F,OAAS,IAAIsB,EAAeqJ,EAAQ,KAClCtQ,KAAKyQ,SACRzQ,KAAKyQ,QAAS,EACdZ,GAAgB7P,SAGpBA,KAAK2F,OAAOmD,SAAW9I,KACvBA,KAAK2F,OAAOf,OAAS5E,KAAK0Q,YAAcF,EACxCxQ,KAAK,kBAAoBkK,EAE3B,YACE,MAAMyG,EAAQ5G,GAAM/J,MAMpB,OALA2P,GAAcgB,IACVA,EAAMF,QAAWE,EAAMD,aACzBC,EAAMF,QAAS,EACfE,EAAMC,OAASD,EAAMhL,OAAOsD,OAEvB0H,EAAMC,OAEf,UAAUpI,GACRxI,KAAKuQ,QAAQ/H,IAGjB,SAASqI,GAAWC,EAAiBC,EAAcP,GAAQ,GACzD,IAAIF,EACAU,EACJ,MAAMC,EAAa3N,EAAawN,GAC5BG,GACFX,EAASQ,EACTE,EAASxO,IAET8N,EAASQ,EAAgB/I,IACzBiJ,EAASF,EAAgB9I,KAE3B,MAAMkJ,EAAO,IAAIb,GAAgBC,EAAQU,EAAQC,IAAeD,EAAQR,GACxE,OAAOU,EAET,SAASC,GAAUpP,EAAKC,GACtB,MAAMC,EAAsBC,OAAOC,OAAO,MACpCC,EAAOL,EAAIM,MAAM,KACvB,IAAK,IAAIf,EAAI,EAAGA,EAAIc,EAAKb,OAAQD,IAC/BW,EAAIG,EAAKd,KAAM,EAEjB,OAAOU,EAAoBM,KAAUL,EAAIK,EAAIC,eAAkBD,KAAUL,EAAIK,GAE/E,SAAS8O,GAAexN,GACtB,GAAIyN,GAAUzN,GAAQ,CACpB,MAAMoG,EAAM,GACZ,IAAK,IAAI1I,EAAI,EAAGA,EAAIsC,EAAMrC,OAAQD,IAAK,CACrC,MAAMgQ,EAAO1N,EAAMtC,GACbiQ,EAAaC,GAAWF,GAAQG,GAAiBH,GAAQF,GAAeE,GAC9E,GAAIC,EACF,IAAK,MAAMxO,KAAOwO,EAChBvH,EAAIjH,GAAOwO,EAAWxO,GAI5B,OAAOiH,EACF,OAAIwH,GAAW5N,IAEX8N,GAAW9N,GADbA,OACF,EAIT,MAAM+N,GAAkB,gBAClBC,GAAsB,QAC5B,SAASH,GAAiBI,GACxB,MAAMC,EAAM,GAOZ,OANAD,EAAQxP,MAAMsP,IAAiBhJ,QAAS2I,IACtC,GAAIA,EAAM,CACR,MAAMS,EAAMT,EAAKjP,MAAMuP,IACvBG,EAAIxQ,OAAS,IAAMuQ,EAAIC,EAAI,GAAGC,QAAUD,EAAI,GAAGC,WAG5CF,EAET,SAASG,GAAerO,GACtB,IAAIoG,EAAM,GACV,GAAIwH,GAAW5N,GACboG,EAAMpG,OACD,GAAIyN,GAAUzN,GACnB,IAAK,IAAItC,EAAI,EAAGA,EAAIsC,EAAMrC,OAAQD,IAAK,CACrC,MAAMiQ,EAAaU,GAAerO,EAAMtC,IACpCiQ,IACFvH,GAAOuH,EAAa,UAGnB,GAAIG,GAAW9N,GACpB,IAAK,MAAMsO,KAAQtO,EACbA,EAAMsO,KACRlI,GAAOkI,EAAO,KAIpB,OAAOlI,EAAIgI,OAEb,SAASG,GAAeC,GACtB,IAAKA,EACH,OAAO,KACT,IAAMC,MAAOC,EAAK,MAAEC,GAAUH,EAO9B,OANIE,IAAUd,GAAWc,KACvBF,EAAMC,MAAQJ,GAAeK,IAE3BC,IACFH,EAAMG,MAAQnB,GAAemB,IAExBH,EAET,MAAMI,GAAmBlQ,GAChBkP,GAAWlP,GAAOA,EAAa,MAAPA,EAAc,GAAK+O,GAAU/O,IAAQoP,GAAWpP,KAASA,EAAIqB,WAAa8O,KAAmBC,GAAapQ,EAAIqB,WAAagP,KAAKC,UAAUtQ,EAAKuQ,GAAU,GAAKxR,OAAOiB,GAEhMuQ,GAAW,CAACC,EAAMxQ,IAClBA,GAAOA,EAAI0N,UACN6C,GAASC,EAAMxQ,EAAIsB,OACjBmP,GAAMzQ,GACR,CACL,CAAC,OAAOA,EAAIkK,SAAU,IAAIlK,EAAI0Q,WAAWC,OAAO,CAACD,GAAUjQ,EAAKmQ,MAC9DF,EAAWjQ,EAAH,OAAemQ,EAChBF,GACN,KAEIG,GAAM7Q,GACR,CACL,CAAC,OAAOA,EAAIkK,SAAU,IAAIlK,EAAIoG,YAEvBgJ,GAAWpP,IAAS+O,GAAU/O,IAAS8Q,GAAc9Q,GAGzDA,EAFEjB,OAAOiB,GAIZ+Q,GAAY,GACZC,GAAY,GACZC,GAAO,OAEPC,GAAK,KAAM,EACXC,GAAS,YACTC,GAAU3Q,GAAQ0Q,GAAOE,KAAK5Q,GAC9B6Q,GAAqB7Q,GAAQA,EAAI8Q,WAAW,aAC5CC,GAAW5R,OAAOQ,OAClBqR,GAAS,CAACjK,EAAKkK,KACnB,MAAM1S,EAAIwI,EAAImK,QAAQD,GAClB1S,GAAK,GACPwI,EAAIoK,OAAO5S,EAAG,IAGZuB,GAAiBX,OAAOU,UAAUC,eAClCsR,GAAS,CAAC7R,EAAKS,IAAQF,GAAeG,KAAKV,EAAKS,GAChDsO,GAAYnO,MAAMC,QAClB4P,GAASzQ,GAA8B,iBAAtB8R,GAAa9R,GAC9B6Q,GAAS7Q,GAA8B,iBAAtB8R,GAAa9R,GAC9BoQ,GAAgBpQ,GAAuB,oBAARA,EAC/BkP,GAAclP,GAAuB,kBAARA,EAC7BoP,GAAcpP,GAAgB,OAARA,GAA+B,kBAARA,EAC7C+R,GAAa/R,GACVoP,GAAWpP,IAAQoQ,GAAapQ,EAAIgS,OAAS5B,GAAapQ,EAAIiS,OAEjE9B,GAAiBvQ,OAAOU,UAAUe,SAClCyQ,GAAgBxQ,GAAU6O,GAAezP,KAAKY,GAC9CwP,GAAiB9Q,GAA8B,oBAAtB8R,GAAa9R,GACtCkS,GAAiCrD,GACrC,uIAEIsD,GAAyBtP,IAC7B,MAAMuP,EAAwBxS,OAAOC,OAAO,MAC5C,OAAQJ,IACN,MAAM4S,EAAMD,EAAM3S,GAClB,OAAO4S,IAAQD,EAAM3S,GAAOoD,EAAGpD,MAG7B6S,GAAe,SACfC,GAAaJ,GAAuB1S,GACjCA,EAAI+S,QAAQF,GAAc,CAACG,EAAGzU,IAAMA,EAAIA,EAAE0U,cAAgB,KAE7DC,GAAgB,aAChBC,GAAcT,GAAuB1S,GAAQA,EAAI+S,QAAQG,GAAe,OAAO1S,eAC/E4S,GAAeV,GAAuB1S,GAAQA,EAAIqT,OAAO,GAAGJ,cAAgBjT,EAAI+B,MAAM,IACtFuR,GAAeZ,GAAuB1S,GAAQA,EAAM,KAAKoT,GAAapT,GAAS,IAC/EuT,GAAa,CAAC1R,EAAOM,KAAchC,OAAOiC,GAAGP,EAAOM,GACpDqR,GAAiB,CAACC,EAAKC,KAC3B,IAAK,IAAInU,EAAI,EAAGA,EAAIkU,EAAIjU,OAAQD,IAC9BkU,EAAIlU,GAAGmU,IAGLC,GAAM,CAACrR,EAAKtB,EAAKa,KACrB1B,OAAOoC,eAAeD,EAAKtB,EAAK,CAC9BwB,cAAc,EACdC,YAAY,EACZZ,WAGE+R,GAAcrT,IAClB,MAAMnB,EAAIyU,WAAWtT,GACrB,OAAOuT,MAAM1U,GAAKmB,EAAMnB,GAE1B,IAAI2U,GACJ,MAAMC,GAAgB,IACbD,KAAgBA,GAAoC,qBAAfE,WAA6BA,WAA6B,qBAATC,KAAuBA,KAAyB,qBAAXC,OAAyBA,OAA2B,qBAAXvW,EAAyBA,EAAS,IAE/M,SAASwW,GAAsBhR,EAAIiR,EAAWvO,EAAMgC,GAClD,IAAIG,EACJ,IACEA,EAAMH,EAAO1E,KAAM0E,GAAQ1E,IAC3B,MAAOkR,GACPC,GAAYD,EAAKD,EAAWvO,GAE9B,OAAOmC,EAET,SAASuM,GAA2BpR,EAAIiR,EAAWvO,EAAMgC,GACvD,GAAI6I,GAAavN,GAAK,CACpB,MAAM6E,EAAMmM,GAAsBhR,EAAIiR,EAAWvO,EAAMgC,GAMvD,OALIG,GAAOqK,GAAUrK,IACnBA,EAAIuK,MAAO8B,IACTC,GAAYD,EAAKD,EAAWvO,KAGzBmC,EAET,MAAMtB,EAAS,GACf,IAAK,IAAIpH,EAAI,EAAGA,EAAI6D,EAAG5D,OAAQD,IAC7BoH,EAAOxD,KAAKqR,GAA2BpR,EAAG7D,GAAI8U,EAAWvO,EAAMgC,IAEjE,OAAOnB,EAET,SAAS4N,GAAYD,EAAKD,EAAWvO,EAAM2O,GAAa,GACtD,MAAMC,EAAeL,EAAYA,EAAUM,MAAQ,KACnD,GAAIN,EAAW,CACb,IAAIO,EAAMP,EAAUrR,OACpB,MAAM6R,EAAkBR,EAAU/G,MAC5BwH,EAAYhP,EAClB,MAAO8O,EAAK,CACV,MAAMG,EAAqBH,EAAII,GAC/B,GAAID,EACF,IAAK,IAAIxV,EAAI,EAAGA,EAAIwV,EAAmBvV,OAAQD,IAC7C,IAA+D,IAA3DwV,EAAmBxV,GAAG+U,EAAKO,EAAiBC,GAC9C,OAINF,EAAMA,EAAI5R,OAEZ,MAAMiS,EAAkBZ,EAAUa,WAAWC,OAAOC,aACpD,GAAIH,EAEF,YADAb,GAAsBa,EAAiB,KAAM,GAAI,CAACX,EAAKO,EAAiBC,IAI5EO,GAASf,EAAKxO,EAAM4O,EAAcD,GAEpC,SAASY,GAASf,EAAKxO,EAAM4O,EAAcD,GAAa,GAEpDa,QAAQC,MAAMjB,GAGlB,IAAIkB,IAAa,EACbC,IAAiB,EACrB,MAAMC,GAAQ,GACd,IAAIC,GAAa,EACjB,MAAMC,GAAqB,GAC3B,IAAIC,GAAoB,KACpBC,GAAgB,EACpB,MAAMC,GAAsB,GAC5B,IAAIC,GAAqB,KACrBC,GAAiB,EACrB,MAAMC,GAAkCC,QAAQC,UAChD,IAAIC,GAAsB,KACtBC,GAA2B,KAC/B,SAASC,GAASnT,GAChB,MAAMoT,EAAKH,IAAuBH,GAClC,OAAO9S,EAAKoT,EAAGjE,KAAKtU,KAAOmF,EAAGqT,KAAKxY,MAAQmF,GAAMoT,EAEnD,SAASE,GAAmBC,GAC1B,IAAIC,EAASjB,GAAa,EACtBkB,EAAMnB,GAAMlW,OAChB,MAAOoX,EAASC,EAAK,CACnB,MAAMC,EAASF,EAASC,IAAQ,EAC1BE,EAAcC,GAAMtB,GAAMoB,IAChCC,EAAcJ,EAAKC,EAASE,EAAS,EAAID,EAAMC,EAEjD,OAAOF,EAET,SAASK,GAASC,GACVxB,GAAMlW,QAAWkW,GAAMyB,SAASD,EAAK1B,IAAc0B,EAAIjQ,aAAe0O,GAAa,EAAIA,KAAgBuB,IAAQZ,KACrG,MAAVY,EAAIP,GACNjB,GAAMvS,KAAK+T,GAEXxB,GAAMvD,OAAOuE,GAAmBQ,EAAIP,IAAK,EAAGO,GAE9CE,MAGJ,SAASA,KACF5B,IAAeC,KAClBA,IAAiB,EACjBY,GAAsBH,GAAgB3D,KAAK8E,KAG/C,SAASC,GAAcJ,GACrB,MAAM3X,EAAImW,GAAMxD,QAAQgF,GACpB3X,EAAIoW,IACND,GAAMvD,OAAO5S,EAAG,GAGpB,SAASgY,GAAQC,EAAIC,EAAaC,EAAczU,GACzCqM,GAAUkI,GAKbE,EAAavU,QAAQqU,GAJhBC,GAAgBA,EAAYN,SAASK,EAAIA,EAAGvQ,aAAehE,EAAQ,EAAIA,IAC1EyU,EAAavU,KAAKqU,GAKtBJ,KAEF,SAASO,GAAgBH,GACvBD,GAAQC,EAAI3B,GAAmBD,GAAoBE,IAErD,SAAS8B,GAAiBJ,GACxBD,GAAQC,EAAIxB,GAAoBD,GAAqBE,IAEvD,SAAS4B,GAAiBC,EAAMC,EAAY,MAC1C,GAAInC,GAAmBpW,OAAQ,CAI7B,IAHA8W,GAA2ByB,EAC3BlC,GAAoB,IAAI,IAAI7R,IAAI4R,KAChCA,GAAmBpW,OAAS,EACvBsW,GAAgB,EAAGA,GAAgBD,GAAkBrW,OAAQsW,KAChED,GAAkBC,MAEpBD,GAAoB,KACpBC,GAAgB,EAChBQ,GAA2B,KAC3BuB,GAAiBC,EAAMC,IAG3B,SAASC,GAAkBF,GAEzB,GADAD,KACI9B,GAAoBvW,OAAQ,CAC9B,MAAMyY,EAAU,IAAI,IAAIjU,IAAI+R,KAE5B,GADAA,GAAoBvW,OAAS,EACzBwW,GAEF,YADAA,GAAmB7S,QAAQ8U,GAK7B,IAFAjC,GAAqBiC,EACrBjC,GAAmBkC,KAAK,CAACC,EAAGC,IAAMpB,GAAMmB,GAAKnB,GAAMoB,IAC9CnC,GAAiB,EAAGA,GAAiBD,GAAmBxW,OAAQyW,KACnED,GAAmBC,MAErBD,GAAqB,KACrBC,GAAiB,GAGrB,MAAMe,GAASE,GAAkB,MAAVA,EAAIP,GAAa0B,IAAWnB,EAAIP,GACvD,SAASU,GAAUS,GACjBrC,IAAiB,EACjBD,IAAa,EACbqC,GAAiBC,GACjBpC,GAAMwC,KAAK,CAACC,EAAGC,IAAMpB,GAAMmB,GAAKnB,GAAMoB,IAEtC,IACE,IAAKzC,GAAa,EAAGA,GAAaD,GAAMlW,OAAQmW,KAAc,CAC5D,MAAMuB,EAAMxB,GAAMC,IACduB,IAAsB,IAAfA,EAAIrU,QAGbuR,GAAsB8C,EAAK,KAAM,KAGrC,QACAvB,GAAa,EACbD,GAAMlW,OAAS,EACfwY,KACAxC,IAAa,EACba,GAAsB,MAClBX,GAAMlW,QAAUoW,GAAmBpW,QAAUuW,GAAoBvW,SACnE6X,GAAUS,IAIhB,SAASQ,GAAOjE,EAAWkE,KAAUC,GACnC,GAAInE,EAAUoE,YACZ,OACF,MAAMpI,EAAQgE,EAAUM,MAAMtE,OAASiB,GACvC,IAAIxJ,EAAO0Q,EACX,MAAME,EAAmBH,EAAMzG,WAAW,WACpC6G,EAAWD,GAAoBH,EAAMxW,MAAM,GACjD,GAAI4W,GAAYA,KAAYtI,EAAO,CACjC,MAAMuI,GAA+B,eAAbD,EAA4B,QAAUA,GAAzC,aACf,OAAEE,EAAM,KAAE5I,GAASI,EAAMuI,IAAiBtH,GAC5CrB,IACFnI,EAAO0Q,EAAQtY,IAAKiY,GAAMA,EAAElI,SAE1B4I,IACF/Q,EAAO0Q,EAAQtY,IAAI0T,KAGvB,IAAIkF,EACAC,EAAU1I,EAAMyI,EAAcxF,GAAaiF,KAAWlI,EAAMyI,EAAcxF,GAAaR,GAAWyF,MACjGQ,GAAWL,IACdK,EAAU1I,EAAMyI,EAAcxF,GAAaH,GAAYoF,MAErDQ,GACFvE,GAA2BuE,EAAS1E,EAAW,EAAGvM,GAEpD,MAAMkR,EAAc3I,EAAMyI,EAAc,QACxC,GAAIE,EAAa,CACf,GAAK3E,EAAU4E,SAER,GAAI5E,EAAU4E,QAAQH,GAC3B,YAFAzE,EAAU4E,QAAU,GAItB5E,EAAU4E,QAAQH,IAAe,EACjCtE,GAA2BwE,EAAa3E,EAAW,EAAGvM,IAG1D,SAASoR,GAAsBC,EAAMjE,EAAYkE,GAAU,GACzD,MAAMzG,EAAQuC,EAAWmE,WACnBC,EAAS3G,EAAM3M,IAAImT,GACzB,QAAe,IAAXG,EACF,OAAOA,EAET,MAAM5L,EAAMyL,EAAKI,MACjB,IAAI/J,EAAa,GACbgK,GAAa,EACjB,IAAK7I,GAAawI,GAAO,CACvB,MAAMM,EAAeC,IACnB,MAAMC,EAAuBT,GAAsBQ,EAAMxE,GAAY,GACjEyE,IACFH,GAAa,EACbzH,GAASvC,EAAYmK,MAGpBP,GAAWlE,EAAW0E,OAAOpa,QAChC0V,EAAW0E,OAAOhT,QAAQ6S,GAExBN,EAAKU,SACPJ,EAAYN,EAAKU,SAEfV,EAAKS,QACPT,EAAKS,OAAOhT,QAAQ6S,GAGxB,OAAK/L,GAAQ8L,GAITlK,GAAU5B,GACZA,EAAI9G,QAAS5F,GAAQwO,EAAWxO,GAAO,MAEvC+Q,GAASvC,EAAY9B,GAEvBiF,EAAM1M,IAAIkT,EAAM3J,GACTA,IATLmD,EAAM1M,IAAIkT,EAAM,MACT,MAUX,SAASW,GAAeC,EAAU/Y,GAChC,SAAK+Y,IAAapI,GAAO3Q,MAGzBA,EAAMA,EAAIe,MAAM,GAAGgR,QAAQ,QAAS,IAC7BX,GAAO2H,EAAU/Y,EAAI,GAAGR,cAAgBQ,EAAIe,MAAM,KAAOqQ,GAAO2H,EAAU5G,GAAYnS,KAASoR,GAAO2H,EAAU/Y,IAEzH,IAAIgZ,GAA2B,KAC3BC,GAAiB,KACrB,SAASC,GAA4B7F,GACnC,MAAM8F,EAAOH,GAGb,OAFAA,GAA2B3F,EAC3B4F,GAAiB5F,GAAaA,EAAUvO,KAAKsU,WAAa,KACnDD,EAET,SAASE,GAAQjX,EAAIkX,EAAMN,GAA0BO,GACnD,IAAKD,EACH,OAAOlX,EACT,GAAIA,EAAGoX,GACL,OAAOpX,EAET,MAAMqX,EAAsB,IAAI3S,KAC1B2S,EAAoBC,IACtBC,IAAkB,GAEpB,MAAMC,EAAeV,GAA4BI,GAC3CrS,EAAM7E,KAAM0E,GAKlB,OAJAoS,GAA4BU,GACxBH,EAAoBC,IACtBC,GAAiB,GAEZ1S,GAKT,OAHAwS,EAAoBD,IAAK,EACzBC,EAAoBI,IAAK,EACzBJ,EAAoBC,IAAK,EAClBD,EAIT,SAASK,GAAoBzG,GAC3B,MAAQvO,KAAMiV,EAAS,MAAEpG,EAAK,MAAErH,EAAK,UAAE0N,EAAS,MAAE3K,EAAO4K,cAAeA,GAAa,MAAEC,EAAK,MAAEC,EAAOC,KAAMC,EAAOC,OAAQC,EAAO,YAAEC,EAAW,KAAEnc,EAAI,WAAEoc,EAAU,IAAEnB,EAAG,aAAEoB,GAAiBrH,EACxL,IAAI/K,EACAqS,EACJ,MAAMxB,EAAOD,GAA4B7F,GACzC,IACE,GAAsB,EAAlBM,EAAMiH,UAAe,CACvB,MAAMC,EAAab,GAAa1N,EAChChE,EAASwS,GAAeP,EAAQta,KAAK4a,EAAYA,EAAYL,EAAanL,EAAOoL,EAAYpc,EAAMib,IACnGqB,EAAmBR,MACd,CACL,MAAMY,EAAUhB,EACZ,EAEJzR,EAASwS,GAAeC,EAAQvc,OAAS,EAAIuc,EAAQ1L,EAOjD,CAAE8K,QAAOD,QAAOE,KAAMC,IAAWU,EAAQ1L,EAAO,OACpDsL,EAAmBZ,EAAU1K,MAAQ8K,EAAQa,GAAyBb,IAExE,MAAO7G,GACP2H,GAAWzc,OAAS,EACpB+U,GAAYD,EAAKD,EAAW,GAC5B/K,EAAS4S,GAAYC,IAEvB,IAAIC,EAAO9S,EACX,GAAIqS,IAAqC,IAAjBD,EAAwB,CAC9C,MAAMW,EAAOlc,OAAOkc,KAAKV,IACnB,UAAEC,GAAcQ,EAClBC,EAAK7c,QACS,EAAZoc,IACEX,GAAgBoB,EAAKC,KAAKzK,MAC5B8J,EAAmBY,GAAqBZ,EAAkBV,IAE5DmB,EAAOI,GAAWJ,EAAMT,IAe9B,OAXIhH,EAAM8H,OACRL,EAAOI,GAAWJ,GAClBA,EAAKK,KAAOL,EAAKK,KAAOL,EAAKK,KAAKC,OAAO/H,EAAM8H,MAAQ9H,EAAM8H,MAE3D9H,EAAMgI,aACRP,EAAKO,WAAahI,EAAMgI,YAGxBrT,EAAS8S,EAEXlC,GAA4BC,GACrB7Q,EAET,MAAM0S,GAA4Bb,IAChC,IAAIlT,EACJ,IAAK,MAAMjH,KAAOma,GACJ,UAARna,GAA2B,UAARA,GAAmB2Q,GAAO3Q,OAC9CiH,IAAQA,EAAM,KAAKjH,GAAOma,EAAMna,IAGrC,OAAOiH,GAEHsU,GAAuB,CAACpB,EAAO9K,KACnC,MAAMpI,EAAM,GACZ,IAAK,MAAMjH,KAAOma,EACXtJ,GAAkB7Q,IAAUA,EAAIe,MAAM,KAAMsO,IAC/CpI,EAAIjH,GAAOma,EAAMna,IAGrB,OAAOiH,GAET,SAAS2U,GAAsBC,EAAWC,EAAWC,GACnD,MAAQ1M,MAAO2M,EAAWC,SAAUC,EAAY,UAAEC,GAAcN,GACxDxM,MAAO+M,EAAWH,SAAUI,EAAY,UAAEC,GAAcR,EAC1DvD,EAAQ4D,EAAUI,aACxB,GAAIT,EAAUL,MAAQK,EAAUH,WAC9B,OAAO,EAET,KAAII,GAAaO,GAAa,GAmB5B,SAAIJ,IAAgBG,GACbA,GAAiBA,EAAaG,UAIjCR,IAAcI,IAGbJ,GAGAI,GAGEK,GAAgBT,EAAWI,EAAW7D,KALlC6D,GA3BX,GAAgB,KAAZE,EACF,OAAO,EAET,GAAgB,GAAZA,EACF,OAAKN,EAGES,GAAgBT,EAAWI,EAAW7D,KAFlC6D,EAGN,GAAgB,EAAZE,EAAe,CACxB,MAAMI,EAAeZ,EAAUY,aAC/B,IAAK,IAAIne,EAAI,EAAGA,EAAIme,EAAale,OAAQD,IAAK,CAC5C,MAAMyB,EAAM0c,EAAane,GACzB,GAAI6d,EAAUpc,KAASgc,EAAUhc,KAAS8Y,GAAeP,EAAOvY,GAC9D,OAAO,GAqBf,OAAO,EAET,SAASyc,GAAgBT,EAAWI,EAAWG,GAC7C,MAAMI,EAAWxd,OAAOkc,KAAKe,GAC7B,GAAIO,EAASne,SAAWW,OAAOkc,KAAKW,GAAWxd,OAC7C,OAAO,EAET,IAAK,IAAID,EAAI,EAAGA,EAAIoe,EAASne,OAAQD,IAAK,CACxC,MAAMyB,EAAM2c,EAASpe,GACrB,GAAI6d,EAAUpc,KAASgc,EAAUhc,KAAS8Y,GAAeyD,EAAcvc,GACrE,OAAO,EAGX,OAAO,EAET,SAAS4c,IAAgB,MAAEjJ,EAAK,OAAE3R,GAAUiP,GAC1C,MAAOjP,GAAUA,EAAO6a,UAAYlJ,GACjCA,EAAQ3R,EAAO2R,OAAO1C,GAAKA,EAC5BjP,EAASA,EAAOA,OAGpB,MAAM8a,GAAchY,GAASA,EAAKiY,aAClC,SAASC,GAAwB5a,EAAI6a,GAC/BA,GAAYA,EAASC,cACnB5O,GAAUlM,GACZ6a,EAASnb,QAAQK,QAAQC,GAEzB6a,EAASnb,QAAQK,KAAKC,GAGxBwU,GAAiBxU,GAGrB,SAAS+a,GAAQnd,EAAKa,GACpB,GAAKuc,GAEA,CACH,IAAIC,EAAWD,GAAgBC,SAC/B,MAAMC,EAAiBF,GAAgBpb,QAAUob,GAAgBpb,OAAOqb,SACpEC,IAAmBD,IACrBA,EAAWD,GAAgBC,SAAWle,OAAOC,OAAOke,IAEtDD,EAASrd,GAAOa,QAGpB,SAAS0c,GAAOvd,EAAKwd,EAAcC,GAAwB,GACzD,MAAMpK,EAAY+J,IAAmBpE,GACrC,GAAI3F,EAAW,CACb,MAAMgK,EAA+B,MAApBhK,EAAUrR,OAAiBqR,EAAUM,MAAMO,YAAcb,EAAUM,MAAMO,WAAWmJ,SAAWhK,EAAUrR,OAAOqb,SACjI,GAAIA,GAAYrd,KAAOqd,EACrB,OAAOA,EAASrd,GACX,GAAI0d,UAAUlf,OAAS,EAC5B,OAAOif,GAAyB9N,GAAa6N,GAAgBA,EAAavd,KAAKoT,EAAU/G,OAASkR,GAKxG,MAAMG,GAAwB,GAC9B,SAASC,GAAMC,EAAQrH,EAAIuC,GACzB,OAAO+E,GAAQD,EAAQrH,EAAIuC,GAE7B,SAAS+E,GAAQD,EAAQrH,GAAI,UAAEuH,EAAS,KAAEC,EAAMC,MAAOC,EAAM,QAAEC,EAAO,UAAEC,GAAc9N,IACpF,MAAM+C,EAAY+J,GAClB,IAAI7P,EA2CA8Q,EA1CAC,GAAe,EACfC,GAAgB,EAqCpB,GApCI3W,GAAMiW,IACRtQ,EAAS,IAAMsQ,EAAOhd,MACtByd,EAAenW,GAAU0V,IAChBrR,GAAWqR,IACpBtQ,EAAS,IAAMsQ,EACfG,GAAO,GACE1P,GAAUuP,IACnBU,GAAgB,EAChBD,EAAeT,EAAOvC,KAAMkD,GAAMhS,GAAWgS,IAAMrW,GAAUqW,IAC7DjR,EAAS,IAAMsQ,EAAO3e,IAAKsf,GACrB5W,GAAM4W,GACDA,EAAE3d,MACA2L,GAAWgS,GACbC,GAASD,GACP7O,GAAa6O,GACfpL,GAAsBoL,EAAGnL,EAAW,QADtC,IAOP9F,EAFOoC,GAAakO,GAClBrH,EACO,IAAMpD,GAAsByK,EAAQxK,EAAW,GAE/C,KACP,IAAIA,IAAaA,EAAUoE,YAM3B,OAHI4G,GACFA,IAEK7K,GAA2BqK,EAAQxK,EAAW,EAAG,CAACqL,KAIpDlO,GAEPgG,GAAMwH,EAAM,CACd,MAAMW,EAAapR,EACnBA,EAAS,IAAMkR,GAASE,KAG1B,IAAID,EAAatc,IACfic,EAAUzb,EAAO4B,OAAS,KACxB4O,GAAsBhR,EAAIiR,EAAW,KAGzC,GAAIuL,GAWF,OAVAF,EAAYlO,GACPgG,EAEMuH,GACTvK,GAA2BgD,EAAInD,EAAW,EAAG,CAC3C9F,IACAgR,EAAgB,QAAK,EACrBG,IALFnR,IAQKiD,GAET,IAAIrP,EAAWod,EAAgB,GAAKZ,GACpC,MAAMzH,EAAM,KACV,GAAKtT,EAAOf,OAGZ,GAAI2U,EAAI,CACN,MAAM/Q,EAAW7C,EAAOsD,OACpB8X,GAAQM,IAAiBC,EAAgB9Y,EAAS6V,KAAK,CAACxS,EAAGvK,IAAMgU,GAAWzJ,EAAG3H,EAAS5C,KAAOgU,GAAW9M,EAAUtE,OAClHkd,GACFA,IAEF7K,GAA2BgD,EAAInD,EAAW,EAAG,CAC3C5N,EACAtE,IAAawc,QAAwB,EAASxc,EAC9Cud,IAEFvd,EAAWsE,QAGb7C,EAAOsD,OAIX,IAAI/B,EADJ+R,EAAIjQ,eAAiBuQ,EAGnBrS,EADa,SAAX+Z,EACUhI,EACQ,SAAXgI,EACG,IAAMW,GAAsB3I,EAAK7C,GAAaA,EAAU4J,UAExD,IAAMtG,GAAgBT,GAEpC,MAAMtT,EAAS,IAAIsB,EAAeqJ,EAAQpJ,GAY1C,OAXIqS,EACEuH,EACF7H,IAEA/U,EAAWyB,EAAOsD,MAEA,SAAXgY,EACTW,GAAsBjc,EAAOsD,IAAIuP,KAAK7S,GAASyQ,GAAaA,EAAU4J,UAEtEra,EAAOsD,MAEF,KACLtD,EAAOJ,OACH6Q,GAAaA,EAAUxQ,OACzBmO,GAAOqC,EAAUxQ,MAAMf,QAASc,IAItC,SAASkc,GAAcjB,EAAQhd,EAAOkY,GACpC,MAAMgG,EAAa9hB,KAAKqP,MAClBiB,EAASkB,GAAWoP,GAAUA,EAAO1H,SAAS,KAAO6I,GAAiBD,EAAYlB,GAAU,IAAMkB,EAAWlB,GAAUA,EAAOpI,KAAKsJ,EAAYA,GACrJ,IAAIvI,EACA7G,GAAa9O,GACf2V,EAAK3V,GAEL2V,EAAK3V,EAAMkX,QACXgB,EAAWlY,GAEb,MAAM+S,EAAMwJ,GACZ6B,GAAmBhiB,MACnB,MAAMgK,EAAM6W,GAAQvQ,EAAQiJ,EAAGf,KAAKsJ,GAAahG,GAMjD,OALInF,EACFqL,GAAmBrL,GAEnBsL,KAEKjY,EAET,SAAS+X,GAAiB1F,EAAK6F,GAC7B,MAAMC,EAAWD,EAAK7f,MAAM,KAC5B,MAAO,KACL,IAAIsU,EAAM0F,EACV,IAAK,IAAI/a,EAAI,EAAGA,EAAI6gB,EAAS5gB,QAAUoV,EAAKrV,IAC1CqV,EAAMA,EAAIwL,EAAS7gB,IAErB,OAAOqV,GAGX,SAAS6K,GAAS5d,EAAOiW,GACvB,IAAKnI,GAAW9N,IAAUA,EAAM,YAC9B,OAAOA,EAGT,GADAiW,EAAOA,GAAwB,IAAI9T,IAC/B8T,EAAKxR,IAAIzE,GACX,OAAOA,EAGT,GADAiW,EAAKvR,IAAI1E,GACL+G,GAAM/G,GACR4d,GAAS5d,EAAMA,MAAOiW,QACjB,GAAIxI,GAAUzN,GACnB,IAAK,IAAItC,EAAI,EAAGA,EAAIsC,EAAMrC,OAAQD,IAChCkgB,GAAS5d,EAAMtC,GAAIuY,QAEhB,GAAI1G,GAAMvP,IAAUmP,GAAMnP,GAC/BA,EAAM+E,QAASkD,IACb2V,GAAS3V,EAAGgO,UAET,GAAIzG,GAAcxP,GACvB,IAAK,MAAMb,KAAOa,EAChB4d,GAAS5d,EAAMb,GAAM8W,GAGzB,OAAOjW,EAET,SAASwe,KACP,MAAMC,EAAS,CACbC,WAAW,EACXC,WAAW,EACXC,cAAc,EACdC,cAA+B,IAAIxa,KAQrC,OANAya,GAAU,KACRL,EAAOC,WAAY,IAErBK,GAAgB,KACdN,EAAOG,cAAe,IAEjBH,EAET,MAAMO,GAA0B,CAACC,SAAU3f,OACrC4f,GAAqB,CACzB5Q,KAAM,iBACNE,MAAO,CACL2Q,KAAM1hB,OACN2hB,OAAQC,QACRC,UAAWD,QACXE,cAAeP,GACfQ,QAASR,GACTS,aAAcT,GACdU,iBAAkBV,GAClBW,cAAeX,GACfY,QAASZ,GACTa,aAAcb,GACdc,iBAAkBd,GAClBe,eAAgBf,GAChBgB,SAAUhB,GACViB,cAAejB,GACfkB,kBAAmBlB,IAErB,MAAMxQ,GAAO,MAAE6K,IACb,MAAM7G,EAAY2N,KACZ1B,EAASD,KACf,IAAI4B,EACJ,MAAO,KACL,MAAMhF,EAAW/B,EAAMgH,SAAWC,GAAyBjH,EAAMgH,WAAW,GAC5E,IAAKjF,IAAaA,EAASzd,OACzB,OAEF,IAAI4iB,EAAQnF,EAAS,GACrB,GAAIA,EAASzd,OAAS,EACpB,IAAK,MAAMjB,KAAK0e,EACd,GAAI1e,EAAEuH,OAASqW,GAAS,CACtBiG,EAAQ7jB,EACR,MAIN,MAAM8jB,EAAWra,GAAMqI,IACjB,KAAE2Q,GAASqB,EACjB,GAAI/B,EAAOE,UACT,OAAO8B,GAAiBF,GAE1B,MAAMG,EAAaC,GAAkBJ,GACrC,IAAKG,EACH,OAAOD,GAAiBF,GAE1B,MAAMK,EAAaC,GAAuBH,EAAYF,EAAU/B,EAAQjM,GACxEsO,GAAmBJ,EAAYE,GAC/B,MAAMG,EAAWvO,EAAUwJ,QACrBgF,EAAgBD,GAAYJ,GAAkBI,GACpD,IAAIE,GAAuB,EAC3B,MAAM,iBAAEC,GAAqBR,EAAWzc,KACxC,GAAIid,EAAkB,CACpB,MAAM/hB,EAAM+hB,SACc,IAAtBd,EACFA,EAAoBjhB,EACXA,IAAQihB,IACjBA,EAAoBjhB,EACpB8hB,GAAuB,GAG3B,GAAID,GAAiBA,EAAc/c,OAASqW,MAAa6G,GAAgBT,EAAYM,IAAkBC,GAAuB,CAC5H,MAAMG,EAAeP,GAAuBG,EAAeR,EAAU/B,EAAQjM,GAE7E,GADAsO,GAAmBE,EAAeI,GACrB,WAATjC,EAMF,OALAV,EAAOE,WAAY,EACnByC,EAAaC,WAAa,KACxB5C,EAAOE,WAAY,EACnBnM,EAAU8O,UAELb,GAAiBF,GACN,WAATpB,GAAqBuB,EAAWzc,OAASqW,KAClD8G,EAAaG,WAAa,CAACnR,EAAIoR,EAAaC,KAC1C,MAAMC,EAAqBC,GAAuBlD,EAAQuC,GAC1DU,EAAmBjkB,OAAOujB,EAAc7hB,MAAQ6hB,EAChD5Q,EAAGwR,SAAW,KACZJ,IACApR,EAAGwR,cAAW,SACPhB,EAAWa,cAEpBb,EAAWa,aAAeA,IAIhC,OAAOlB,KAIPsB,GAAiB3C,GACvB,SAASyC,GAAuBlD,EAAQ3L,GACtC,MAAM,cAAE+L,GAAkBJ,EAC1B,IAAIiD,EAAqB7C,EAAc1a,IAAI2O,EAAM7O,MAKjD,OAJKyd,IACHA,EAAqCpjB,OAAOC,OAAO,MACnDsgB,EAAcza,IAAI0O,EAAM7O,KAAMyd,IAEzBA,EAET,SAASb,GAAuB/N,EAAOtE,EAAOiQ,EAAQjM,GACpD,MAAM,OAAE4M,EAAM,KAAED,EAAI,UAAEG,GAAY,EAAK,cAAEC,EAAa,QAAEC,EAAO,aAAEC,EAAY,iBAAEC,EAAgB,cAAEC,EAAa,QAAEC,EAAO,aAAEC,EAAY,iBAAEC,EAAgB,eAAEC,EAAc,SAAEC,EAAQ,cAAEC,EAAa,kBAAEC,GAAsB1R,EAClNrP,EAAM1B,OAAOqV,EAAM3T,KACnBuiB,EAAqBC,GAAuBlD,EAAQ3L,GACpDgP,EAAY,CAACC,EAAM9b,KACvB8b,GAAQpP,GAA2BoP,EAAMvP,EAAW,EAAGvM,IAEnD+b,EAAgB,CAACD,EAAM9b,KAC3B,MAAM6D,EAAO7D,EAAK,GAClB6b,EAAUC,EAAM9b,GACZwH,GAAUsU,GACRA,EAAKE,MAAOC,GAAUA,EAAMvkB,QAAU,IACxCmM,IACOiY,EAAKpkB,QAAU,GACxBmM,KAGEqY,EAAQ,CACZhD,OACAG,YACA,YAAYlP,GACV,IAAI2R,EAAOxC,EACX,IAAKd,EAAOC,UAAW,CACrB,IAAIU,EAGF,OAFA2C,EAAOhC,GAAkBR,EAKzBnP,EAAGwR,UACLxR,EAAGwR,UAAS,GAEd,MAAMQ,EAAeV,EAAmBviB,GACpCijB,GAAgBjB,GAAgBrO,EAAOsP,IAAiBA,EAAahS,GAAGwR,UAC1EQ,EAAahS,GAAGwR,WAElBE,EAAUC,EAAM,CAAC3R,KAEnB,MAAMA,GACJ,IAAI2R,EAAOvC,EACP6C,EAAY5C,EACZ6C,EAAa5C,EACjB,IAAKjB,EAAOC,UAAW,CACrB,IAAIU,EAKF,OAJA2C,EAAO/B,GAAYR,EACnB6C,EAAYpC,GAAiBR,EAC7B6C,EAAapC,GAAqBR,EAKtC,IAAI6C,GAAS,EACb,MAAMzY,EAAOsG,EAAGoS,SAAYC,IACtBF,IAEJA,GAAS,EAEPT,EADEW,EACQH,EAEAD,EAFY,CAACjS,IAIrB+R,EAAMV,cACRU,EAAMV,eAERrR,EAAGoS,cAAW,IAEZT,EACFC,EAAcD,EAAM,CAAC3R,EAAItG,IAEzBA,KAGJ,MAAMsG,EAAIsS,GACR,MAAM1d,EAAOvH,OAAOqV,EAAM3T,KAI1B,GAHIiR,EAAGoS,UACLpS,EAAGoS,UAAS,GAEV/D,EAAOG,aACT,OAAO8D,IAETZ,EAAUnC,EAAe,CAACvP,IAC1B,IAAImS,GAAS,EACb,MAAMzY,EAAOsG,EAAGwR,SAAYa,IACtBF,IAEJA,GAAS,EACTG,IAEEZ,EADEW,EACQ3C,EAEAD,EAFkB,CAACzP,IAI/BA,EAAGwR,cAAW,EACVF,EAAmB1c,KAAU8N,UACxB4O,EAAmB1c,KAG9B0c,EAAmB1c,GAAQ8N,EACvB8M,EACFoC,EAAcpC,EAAS,CAACxP,EAAItG,IAE5BA,KAGJ,MAAM6Y,GACJ,OAAO9B,GAAuB8B,EAAQnU,EAAOiQ,EAAQjM,KAGzD,OAAO2P,EAET,SAAS1B,GAAiB3N,GACxB,GAAI8P,GAAY9P,GAGd,OAFAA,EAAQ6H,GAAW7H,GACnBA,EAAMsI,SAAW,KACVtI,EAGX,SAAS6N,GAAkB7N,GACzB,OAAO8P,GAAY9P,GAASA,EAAMsI,SAAWtI,EAAMsI,SAAS,QAAK,EAAStI,EAE5E,SAASgO,GAAmBhO,EAAOqP,GACX,EAAlBrP,EAAMiH,WAAiBjH,EAAMwI,UAC/BwF,GAAmBhO,EAAMwI,UAAUU,QAASmG,GACjB,IAAlBrP,EAAMiH,WACfjH,EAAM+P,UAAU/H,WAAaqH,EAAMW,MAAMhQ,EAAM+P,WAC/C/P,EAAMiQ,WAAWjI,WAAaqH,EAAMW,MAAMhQ,EAAMiQ,aAEhDjQ,EAAMgI,WAAaqH,EAGvB,SAAS7B,GAAyBlF,EAAU4H,GAAc,EAAOC,GAC/D,IAAI/U,EAAM,GACNgV,EAAqB,EACzB,IAAK,IAAIxlB,EAAI,EAAGA,EAAI0d,EAASzd,OAAQD,IAAK,CACxC,IAAI6iB,EAAQnF,EAAS1d,GACrB,MAAMyB,EAAmB,MAAb8jB,EAAoB1C,EAAMphB,IAAM1B,OAAOwlB,GAAaxlB,OAAoB,MAAb8iB,EAAMphB,IAAcohB,EAAMphB,IAAMzB,GACnG6iB,EAAMtc,OAASkf,IACK,IAAlB5C,EAAM9E,WACRyH,IACFhV,EAAMA,EAAI2M,OAAOyF,GAAyBC,EAAMnF,SAAU4H,EAAa7jB,MAC9D6jB,GAAezC,EAAMtc,OAASqW,KACvCpM,EAAI5M,KAAY,MAAPnC,EAAcwb,GAAW4F,EAAO,CAAEphB,QAASohB,GAGxD,GAAI2C,EAAqB,EACvB,IAAK,IAAIxlB,EAAI,EAAGA,EAAIwQ,EAAIvQ,OAAQD,IAC9BwQ,EAAIxQ,GAAG+d,WAAa,EAGxB,OAAOvN,EAET,SAASkV,GAAgBlL,GACvB,OAAOpJ,GAAaoJ,GAAY,CAAEmL,MAAOnL,EAAU5J,KAAM4J,EAAS5J,MAAS4J,EAE7E,MAAMoL,GAAkB5lB,KAAQA,EAAEuG,KAAKsf,cACjCX,GAAe9P,GAAUA,EAAM7O,KAAKuf,cAC1C,SAASC,GAAY1B,EAAM/d,GACzB0f,GAAsB3B,EAAM,IAAK/d,GAEnC,SAAS2f,GAAc5B,EAAM/d,GAC3B0f,GAAsB3B,EAAM,KAAM/d,GAEpC,SAAS0f,GAAsB3B,EAAM9d,EAAMD,EAASuY,IAClD,MAAMqH,EAAc7B,EAAK8B,QAAU9B,EAAK8B,MAAQ,KAC9C,IAAIC,EAAU9f,EACd,MAAO8f,EAAS,CACd,GAAIA,EAAQC,cACV,OAEFD,EAAUA,EAAQ3iB,OAEpB,OAAO4gB,MAGT,GADAiC,GAAW/f,EAAM2f,EAAa5f,GAC1BA,EAAQ,CACV,IAAI8f,EAAU9f,EAAO7C,OACrB,MAAO2iB,GAAWA,EAAQ3iB,OACpByhB,GAAYkB,EAAQ3iB,OAAO2R,QAC7BmR,GAAsBL,EAAa3f,EAAMD,EAAQ8f,GAEnDA,EAAUA,EAAQ3iB,QAIxB,SAAS8iB,GAAsBlC,EAAM9d,EAAMD,EAAQkgB,GACjD,MAAMC,EAAWH,GAAW/f,EAAM8d,EAAMmC,GAAe,GACvDE,GAAY,KACVjU,GAAO+T,EAAcjgB,GAAOkgB,IAC3BngB,GAEL,SAASggB,GAAW/f,EAAM8d,EAAM/d,EAASuY,GAAiB8H,GAAU,GAClE,GAAIrgB,EAAQ,CACV,MAAMme,EAAQne,EAAOC,KAAUD,EAAOC,GAAQ,IACxC2f,EAAc7B,EAAKuC,QAAUvC,EAAKuC,MAAQ,IAAIre,KAClD,GAAIjC,EAAO4S,YACT,OAEF/S,IACAua,GAAmBpa,GACnB,MAAMoC,EAAMuM,GAA2BoP,EAAM/d,EAAQC,EAAMgC,GAG3D,OAFAoY,KACAva,IACOsC,IAOT,OALIie,EACFlC,EAAMoC,QAAQX,GAEdzB,EAAM7gB,KAAKsiB,GAENA,GAGX,MAAMY,GAAcC,GAAc,CAAC1C,EAAM/d,EAASuY,OAAsBwB,IAAuC,OAAd0G,IAAuBT,GAAWS,EAAW1C,EAAM/d,GAC9I0gB,GAAgBF,GAAW,MAC3B1F,GAAY0F,GAAW,KACvBG,GAAiBH,GAAW,MAC5BI,GAAYJ,GAAW,KACvBzF,GAAkByF,GAAW,OAC7BJ,GAAcI,GAAW,MACzBK,GAAmBL,GAAW,MAC9BM,GAAoBN,GAAW,OAC/BO,GAAkBP,GAAW,OACnC,SAASQ,GAAgBjD,EAAM/d,EAASuY,IACtCyH,GAAW,KAAMjC,EAAM/d,GAEzB,SAASihB,GAAenS,EAAOoS,GAC7B,MAAMC,EAAmBhN,GACzB,GAAyB,OAArBgN,EACF,OAAOrS,EAET,MAAMN,EAAY4S,GAAeD,IAAqBA,EAAiB1Z,MACjE4Z,EAAWvS,EAAM8H,OAAS9H,EAAM8H,KAAO,IAC7C,IAAK,IAAIld,EAAI,EAAGA,EAAIwnB,EAAWvnB,OAAQD,IAAK,CAC1C,IAAK4nB,EAAKtlB,EAAO6R,EAAK0T,EAAY9V,IAAayV,EAAWxnB,GACtDoR,GAAawW,KACfA,EAAM,CACJE,QAASF,EACTG,QAASH,IAGTA,EAAInI,MACNS,GAAS5d,GAEXqlB,EAAS/jB,KAAK,CACZgkB,MACAI,SAAUlT,EACVxS,QACAM,cAAU,EACVuR,MACA0T,cAGJ,OAAOzS,EAET,SAAS6S,GAAoB7S,EAAOkI,EAAWxI,EAAWlE,GACxD,MAAM+W,EAAWvS,EAAM8H,KACjBgL,EAAc5K,GAAaA,EAAUJ,KAC3C,IAAK,IAAIld,EAAI,EAAGA,EAAI2nB,EAAS1nB,OAAQD,IAAK,CACxC,MAAMmoB,EAAUR,EAAS3nB,GACrBkoB,IACFC,EAAQvlB,SAAWslB,EAAYloB,GAAGsC,OAEpC,IAAI+hB,EAAO8D,EAAQP,IAAIhX,GACnByT,IACFle,IACA8O,GAA2BoP,EAAMvP,EAAW,EAAG,CAC7CM,EAAM1C,GACNyV,EACA/S,EACAkI,IAEFlX,MAIN,MAAMgiB,GAAa,aACbC,GAAa,aACnB,SAASC,GAAiB1X,EAAM2X,GAC9B,OAAOC,GAAaJ,GAAYxX,GAAM,EAAM2X,IAAuB3X,EAErE,MAAM6X,GAAyBhjB,SAC/B,SAASijB,GAAwB9K,GAC/B,OAAI1N,GAAW0N,GACN4K,GAAaJ,GAAYxK,GAAW,IAAUA,EAE9CA,GAAa6K,GAGxB,SAASE,GAAiB/X,GACxB,OAAO4X,GAAaH,GAAYzX,GAElC,SAAS4X,GAAajiB,EAAMqK,EAAMgY,GAAc,EAAML,GAAqB,GACzE,MAAMzT,EAAY2F,IAA4BoE,GAC9C,GAAI/J,EAAW,CACb,MAAM0G,EAAY1G,EAAUvO,KAC5B,GAAIA,IAAS6hB,GAAY,CACvB,MAAMS,EAAWC,GAAiBtN,GAAW,GAC7C,GAAIqN,IAAaA,IAAajY,GAAQiY,IAAatV,GAAW3C,IAASiY,IAAahV,GAAaN,GAAW3C,KAC1G,OAAO4K,EAGX,MAAM9S,EAAMmO,GAAQ/B,EAAUvO,IAASiV,EAAUjV,GAAOqK,IAASiG,GAAQ/B,EAAUa,WAAWpP,GAAOqK,GACrG,OAAKlI,GAAO6f,EACH/M,EAEF9S,GAGX,SAASmO,GAAQkS,EAAUnY,GACzB,OAAOmY,IAAaA,EAASnY,IAASmY,EAASxV,GAAW3C,KAAUmY,EAASlV,GAAaN,GAAW3C,MAEvG,SAASoY,GAAW1J,EAAQ2J,EAAY7V,EAAO1P,GAC7C,IAAI8M,EACJ,MAAMuJ,EAAS3G,GAASA,EAAM1P,GAC9B,GAAIqM,GAAUuP,IAAWpP,GAAWoP,GAAS,CAC3C9O,EAAM,IAAI5O,MAAM0d,EAAOrf,QACvB,IAAK,IAAID,EAAI,EAAGgE,EAAIsb,EAAOrf,OAAQD,EAAIgE,EAAGhE,IACxCwQ,EAAIxQ,GAAKipB,EAAW3J,EAAOtf,GAAIA,OAAG,EAAQ+Z,GAAUA,EAAO/Z,SAExD,GAAsB,kBAAXsf,EAAqB,CACrC9O,EAAM,IAAI5O,MAAM0d,GAChB,IAAK,IAAItf,EAAI,EAAGA,EAAIsf,EAAQtf,IAC1BwQ,EAAIxQ,GAAKipB,EAAWjpB,EAAI,EAAGA,OAAG,EAAQ+Z,GAAUA,EAAO/Z,SAEpD,GAAIoQ,GAAWkP,GACpB,GAAIA,EAAO7Z,OAAOwG,UAChBuE,EAAM5O,MAAMsnB,KAAK5J,EAAQ,CAACtP,EAAMhQ,IAAMipB,EAAWjZ,EAAMhQ,OAAG,EAAQ+Z,GAAUA,EAAO/Z,SAC9E,CACL,MAAM8c,EAAOlc,OAAOkc,KAAKwC,GACzB9O,EAAM,IAAI5O,MAAMkb,EAAK7c,QACrB,IAAK,IAAID,EAAI,EAAGgE,EAAI8Y,EAAK7c,OAAQD,EAAIgE,EAAGhE,IAAK,CAC3C,MAAMyB,EAAMqb,EAAK9c,GACjBwQ,EAAIxQ,GAAKipB,EAAW3J,EAAO7d,GAAMA,EAAKzB,EAAG+Z,GAAUA,EAAO/Z,UAI9DwQ,EAAM,GAKR,OAHI4C,IACFA,EAAM1P,GAAS8M,GAEVA,EAET,SAAS2Y,GAAYxN,EAAOyN,GAC1B,IAAK,IAAIppB,EAAI,EAAGA,EAAIopB,EAAanpB,OAAQD,IAAK,CAC5C,MAAMqpB,EAAOD,EAAappB,GAC1B,GAAI+P,GAAUsZ,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAKppB,OAAQqpB,IAC/B3N,EAAM0N,EAAKC,GAAG1Y,MAAQyY,EAAKC,GAAGzlB,QAEvBwlB,IACT1N,EAAM0N,EAAKzY,MAAQyY,EAAKxlB,IAG5B,OAAO8X,EAET,SAAS4N,GAAW5N,EAAO/K,EAAME,EAAQ,GAAI0Y,EAAUC,GACrD,GAAIhP,GAAyBiP,MAAQjP,GAAyBhX,QAAUmiB,GAAenL,GAAyBhX,SAAWgX,GAAyBhX,OAAOimB,KACzJ,OAAO/M,GAAY,OAAiB,YAAT/L,EAAqB,KAAO,CAAEA,QAAQ4Y,GAAYA,KAE/E,IAAIH,EAAO1N,EAAM/K,GACbyY,GAAQA,EAAK/N,KACf+N,EAAKlO,IAAK,GAEZwO,KACA,MAAMC,EAAmBP,GAAQQ,GAAiBR,EAAKvY,IACjDgZ,EAAWC,GAAYtE,GAAU,CAAEhkB,IAAKqP,EAAMrP,KAAO,IAAImP,GAAUgZ,IAAqBJ,EAAWA,IAAa,IAAKI,GAAgC,IAAZjO,EAAMlI,EAAU,IAAM,GAOrK,OANKgW,GAAaK,EAASE,UACzBF,EAASG,aAAe,CAACH,EAASE,QAAU,OAE1CX,GAAQA,EAAK/N,KACf+N,EAAKlO,IAAK,GAEL2O,EAET,SAASD,GAAiBK,GACxB,OAAOA,EAAOnN,KAAM8F,IACbsH,GAAQtH,IAETA,EAAMtc,OAASqW,MAEfiG,EAAMtc,OAASkf,KAAaoE,GAAiBhH,EAAMnF,YAGpDwM,EAAS,KAEhB,MAAME,GAAqBpqB,GACpBA,EAEDqqB,GAAoBrqB,GACf0nB,GAAe1nB,IAAMA,EAAE+N,MACzBqc,GAAkBpqB,EAAEyD,QAHlB,KAKL6mB,GAAsC9X,GAAyB5R,OAAOC,OAAO,MAAO,CACxF0pB,EAAIvqB,GAAMA,EACVwqB,IAAMxqB,GAAMA,EAAEoV,MAAM1C,GACpB+X,MAAQzqB,GAAMA,EAAEF,KAChB4qB,OAAS1qB,GAAMA,EAAE8Q,MACjB6Z,OAAS3qB,GAAMA,EAAE4b,MACjBgP,OAAS5qB,GAAMA,EAAE2b,MACjBkP,MAAQ7qB,GAAMA,EAAE8qB,KAChBC,QAAU/qB,GAAMoqB,GAAkBpqB,EAAEyD,QACpCunB,MAAQhrB,GAAMoqB,GAAkBpqB,EAAE6c,MAClCoO,MAAQjrB,GAAMA,EAAE6b,KAChBqP,SAAWlrB,GAAMmrB,GAAqBnrB,GACtCorB,aAAeprB,GAAMA,EAAEZ,IAAMY,EAAEZ,EAAI,IAAMsY,GAAS1X,EAAE4jB,SACpDyH,UAAYrrB,GAAMA,EAAEH,IAAMG,EAAEH,EAAImX,GAASE,KAAKlX,EAAE+N,QAChDud,OAAStrB,GAAMugB,GAAcrJ,KAAKlX,KAE9BurB,GAA8B,CAClC,KAAM9X,EAAGqB,GAAarT,GACpB,MAAM,IAAEsZ,EAAG,WAAEmB,EAAU,KAAEpc,EAAI,MAAEgR,EAAK,YAAE0a,EAAW,KAAEjlB,EAAI,WAAEoP,GAAeb,EACxE,IAAI2W,EACJ,GAAe,MAAXhqB,EAAI,GAAY,CAClB,MAAM5B,EAAI2rB,EAAY/pB,GACtB,QAAU,IAAN5B,EACF,OAAQA,GACN,KAAK,EACH,OAAOqc,EAAWza,GACpB,KAAK,EACH,OAAO3B,EAAK2B,GACd,KAAK,EACH,OAAOsZ,EAAItZ,GACb,KAAK,EACH,OAAOqP,EAAMrP,OAEZ,IAAIya,IAAenK,IAAac,GAAOqJ,EAAYza,GAExD,OADA+pB,EAAY/pB,GAAO,EACZya,EAAWza,GACb,GAAI3B,IAASiS,IAAac,GAAO/S,EAAM2B,GAE5C,OADA+pB,EAAY/pB,GAAO,EACZ3B,EAAK2B,GACP,IAAKgqB,EAAkB3W,EAAU4G,aAAa,KAAO7I,GAAO4Y,EAAiBhqB,GAElF,OADA+pB,EAAY/pB,GAAO,EACZqP,EAAMrP,GACR,GAAIsZ,IAAQhJ,IAAac,GAAOkI,EAAKtZ,GAE1C,OADA+pB,EAAY/pB,GAAO,EACZsZ,EAAItZ,GACFiqB,KACTF,EAAY/pB,GAAO,IAGvB,MAAMkqB,EAAerB,GAAoB7oB,GACzC,IAAImqB,EAAWC,EACf,OAAIF,GACU,WAARlqB,GACF4E,EAAMyO,EAAW,MAAOrT,GAEnBkqB,EAAa7W,KACV8W,EAAYrlB,EAAKulB,gBAAkBF,EAAYA,EAAUnqB,IAC5DmqB,EACE7Q,IAAQhJ,IAAac,GAAOkI,EAAKtZ,IAC1C+pB,EAAY/pB,GAAO,EACZsZ,EAAItZ,KACFoqB,EAAmBlW,EAAWC,OAAOiW,iBAAkBhZ,GAAOgZ,EAAkBpqB,GAEhFoqB,EAAiBpqB,QAFrB,IAOT,KAAMgS,EAAGqB,GAAarT,EAAKa,GACzB,MAAM,KAAExC,EAAI,WAAEoc,EAAU,IAAEnB,GAAQjG,EAClC,OAAIoH,IAAenK,IAAac,GAAOqJ,EAAYza,IACjDya,EAAWza,GAAOa,GACX,GACExC,IAASiS,IAAac,GAAO/S,EAAM2B,IAC5C3B,EAAK2B,GAAOa,GACL,IACEuQ,GAAOiC,EAAUhE,MAAOrP,MAGpB,MAAXA,EAAI,MAAcA,EAAIe,MAAM,KAAMsS,MAIlCiG,EAAItZ,GAAOa,GAGR,KAET,KAAMmR,GAAG,KAAE3T,EAAI,WAAEoc,EAAU,YAAEsP,EAAW,IAAEzQ,EAAG,WAAEpF,EAAU,aAAE+F,IAAkBja,GAC3E,IAAIgqB,EACJ,QAASD,EAAY/pB,IAAQ3B,IAASiS,IAAac,GAAO/S,EAAM2B,IAAQya,IAAenK,IAAac,GAAOqJ,EAAYza,KAASgqB,EAAkB/P,EAAa,KAAO7I,GAAO4Y,EAAiBhqB,IAAQoR,GAAOkI,EAAKtZ,IAAQoR,GAAOyX,GAAqB7oB,IAAQoR,GAAO8C,EAAWC,OAAOiW,iBAAkBpqB,IAE3S,eAAe6E,EAAQ7E,EAAKsqB,GAM1B,OALsB,MAAlBA,EAAWtlB,IACbH,EAAOmN,EAAE+X,YAAY/pB,GAAO,EACnBoR,GAAOkZ,EAAY,UAC5BrtB,KAAKgI,IAAIJ,EAAQ7E,EAAKsqB,EAAWzpB,MAAO,MAEnC8G,QAAQpG,eAAesD,EAAQ7E,EAAKsqB,KAG/C,IAAIL,IAAoB,EACxB,SAASM,GAAalX,GACpB,MAAM0F,EAAW2Q,GAAqBrW,GAChC0L,EAAa1L,EAAU/G,MACvBgN,EAAMjG,EAAUiG,IACtB2Q,IAAoB,EAChBlR,EAASyR,cACXC,GAAW1R,EAASyR,aAAcnX,EAAW,MAE/C,MACEhV,KAAMqsB,EACN3kB,SAAU4kB,EAAe,QACzBC,EACAhN,MAAOiN,EACP1N,QAAS2N,EACTvN,OAAQwN,EAAa,QACrBC,EACAC,YAAaC,EAAY,QACzB7E,EAAO,aACP8E,EACA7E,QAAS8E,EAAQ,UACjBC,EAAS,YACTC,EAAW,cACXC,EAAa,cACbC,EAAa,UACbC,EACAC,UAAWC,EACXrR,OAAQC,EAAO,cACfqR,EAAa,gBACbC,EAAe,cACfC,EAAa,eACbC,EAAc,OACdC,EAAM,aACNtR,EAAY,WACZuR,EAAU,WACVlG,EAAU,QACVmG,GACEnT,EACEoT,EAA2B,KAIjC,GAHIpB,GACFqB,GAAkBrB,EAAezR,EAAK6S,EAA0B9Y,EAAUa,WAAWC,OAAOkY,mBAE1FzB,EACF,IAAK,MAAM5qB,KAAO4qB,EAAS,CACzB,MAAM0B,EAAgB1B,EAAQ5qB,GAC1B2P,GAAa2c,KAEbhT,EAAItZ,GAAOssB,EAAc7W,KAAKsJ,IAKtC,GAAI2L,EAAa,CACf,MAAMrsB,EAAOqsB,EAAYzqB,KAAK8e,EAAYA,GACrCpQ,GAAWtQ,KAGdgV,EAAUhV,KAAOyJ,GAASzJ,IAI9B,GADA4rB,IAAoB,EAChBU,EACF,IAAK,MAAM3qB,KAAO2qB,EAAiB,CACjC,MAAM4B,EAAM5B,EAAgB3qB,GACtB4J,EAAO+F,GAAa4c,GAAOA,EAAI9W,KAAKsJ,EAAYA,GAAcpP,GAAa4c,EAAIvnB,KAAOunB,EAAIvnB,IAAIyQ,KAAKsJ,EAAYA,GAAcvO,GAC7Hgc,GAAQ7c,GAAa4c,IAAQ5c,GAAa4c,EAAItnB,KAAOsnB,EAAItnB,IAAIwQ,KAAKsJ,GAAcvO,GAChFjT,EAAIwI,GAAS,CACjBf,IAAK4E,EACL3E,IAAKunB,IAEPrtB,OAAOoC,eAAe+X,EAAKtZ,EAAK,CAC9ByB,YAAY,EACZD,cAAc,EACdwD,IAAK,IAAMzH,EAAEsD,MACboE,IAAM6D,GAAMvL,EAAEsD,MAAQiI,IAI5B,GAAI+hB,EACF,IAAK,MAAM7qB,KAAO6qB,EAChB4B,GAAc5B,EAAa7qB,GAAMsZ,EAAKyF,EAAY/e,GAGtD,GAAI8qB,EAAgB,CAClB,MAAMzN,EAAW1N,GAAamb,GAAkBA,EAAe7qB,KAAK8e,GAAc+L,EAClFnjB,QAAQa,QAAQ6U,GAAUzX,QAAS5F,IACjCmd,GAAQnd,EAAKqd,EAASrd,MAM1B,SAAS0sB,EAAsBC,EAAW/J,GACpCtU,GAAUsU,GACZA,EAAKhd,QAASgnB,GAAUD,EAAUC,EAAMnX,KAAKsJ,KACpC6D,GACT+J,EAAU/J,EAAKnN,KAAKsJ,IAexB,GAtBIiM,GACFP,GAAWO,EAAS3X,EAAW,KASjCqZ,EAAsBnH,GAAe2F,GACrCwB,EAAsB/M,GAAW0G,GACjCqG,EAAsBlH,GAAgB2F,GACtCuB,EAAsBjH,GAAW2F,GACjCsB,EAAsBpI,GAAa+G,GACnCqB,EAAsBlI,GAAe8G,GACrCoB,EAAsB7G,GAAiBiG,GACvCY,EAAsB9G,GAAiBgG,GACvCc,EAAsB/G,GAAmBkG,GACzCa,EAAsB9M,GAAiB4L,GACvCkB,EAAsBzH,GAAa0G,GACnCe,EAAsBhH,GAAkBqG,GACpCzd,GAAU0d,GACZ,GAAIA,EAAOxtB,OAAQ,CACjB,MAAMquB,EAAUxZ,EAAUwZ,UAAYxZ,EAAUwZ,QAAU,IAC1Db,EAAOpmB,QAAS5F,IACdb,OAAOoC,eAAesrB,EAAS7sB,EAAK,CAClCgF,IAAK,IAAM+Z,EAAW/e,GACtBiF,IAAM1F,GAAQwf,EAAW/e,GAAOT,WAG1B8T,EAAUwZ,UACpBxZ,EAAUwZ,QAAU,IAGpBtS,GAAWlH,EAAUiH,SAAW9J,KAClC6C,EAAUiH,OAASC,GAED,MAAhBG,IACFrH,EAAUqH,aAAeA,GAEvBuR,IACF5Y,EAAU4Y,WAAaA,GACrBlG,IACF1S,EAAU0S,WAAaA,GAE3B,SAASqG,GAAkBrB,EAAezR,EAAK6S,EAA2B3b,GAAMsc,GAAY,GACtFxe,GAAUyc,KACZA,EAAgBgC,GAAgBhC,IAElC,IAAK,MAAM/qB,KAAO+qB,EAAe,CAC/B,MAAMwB,EAAMxB,EAAc/qB,GAC1B,IAAIglB,EAGAA,EAFArW,GAAW4d,GACT,YAAaA,EACJhP,GAAOgP,EAAI9E,MAAQznB,EAAKusB,EAAIrL,SAAS,GAErC3D,GAAOgP,EAAI9E,MAAQznB,GAGrBud,GAAOgP,GAEhB3kB,GAAMod,IACJ8H,EACF3tB,OAAOoC,eAAe+X,EAAKtZ,EAAK,CAC9ByB,YAAY,EACZD,cAAc,EACdwD,IAAK,IAAMggB,EAASnkB,MACpBoE,IAAM6D,GAAMkc,EAASnkB,MAAQiI,IAMjCwQ,EAAItZ,GAAOglB,GAIjB,SAASyF,GAAW7H,EAAMvP,EAAWvO,GACnC0O,GAA2BlF,GAAUsU,GAAQA,EAAK1jB,IAAK8tB,GAAOA,EAAGvX,KAAKpC,EAAU/G,QAAUsW,EAAKnN,KAAKpC,EAAU/G,OAAQ+G,EAAWvO,GAEnI,SAAS2nB,GAAc/f,EAAK4M,EAAKyF,EAAY/e,GAC3C,MAAMuN,EAASvN,EAAImW,SAAS,KAAO6I,GAAiBD,EAAY/e,GAAO,IAAM+e,EAAW/e,GACxF,GAAIyO,GAAW/B,GAAM,CACnB,MAAMqL,EAAUuB,EAAI5M,GAChBiD,GAAaoI,IACf6F,GAAMrQ,EAAQwK,QAEX,GAAIpI,GAAajD,GACtBkR,GAAMrQ,EAAQb,EAAI+I,KAAKsJ,SAClB,GAAIpQ,GAAWjC,GACpB,GAAI4B,GAAU5B,GACZA,EAAI9G,QAASoH,GAAMyf,GAAczf,EAAGsM,EAAKyF,EAAY/e,QAChD,CACL,MAAM+X,EAAUpI,GAAajD,EAAIqL,SAAWrL,EAAIqL,QAAQtC,KAAKsJ,GAAczF,EAAI5M,EAAIqL,SAC/EpI,GAAaoI,IACf6F,GAAMrQ,EAAQwK,EAASrL,IAM/B,SAASgd,GAAqBrW,GAC5B,MAAM4Z,EAAO5Z,EAAUvO,MACjB,OAAE8T,EAAQC,QAASqU,GAAmBD,GACpCrU,OAAQuU,EAAcC,aAAczb,EAAOwC,QAAQ,sBAAEkZ,IAA4Bha,EAAUa,WAC7FoE,EAAS3G,EAAM3M,IAAIioB,GACzB,IAAIK,EAeJ,OAdIhV,EACFgV,EAAWhV,EACD6U,EAAa3uB,QAAWoa,GAAWsU,GAK7CI,EAAW,GACPH,EAAa3uB,QACf2uB,EAAavnB,QAAS2nB,GAAMC,GAAaF,EAAUC,EAAGF,GAAuB,IAE/EG,GAAaF,EAAUL,EAAMI,IAP3BC,EAAWL,EASftb,EAAM1M,IAAIgoB,EAAMK,GACTA,EAET,SAASE,GAAaC,EAAIhG,EAAMiG,EAAQtV,GAAU,GAChD,MAAM,OAAEQ,EAAQC,QAASqU,GAAmBzF,EACxCyF,GACFM,GAAaC,EAAIP,EAAgBQ,GAAQ,GAEvC9U,GACFA,EAAOhT,QAAS2nB,GAAMC,GAAaC,EAAIF,EAAGG,GAAQ,IAEpD,IAAK,MAAM1tB,KAAOynB,EAChB,GAAIrP,GAAmB,WAARpY,OAEV,CACH,MAAM2tB,EAAQC,GAA0B5tB,IAAQ0tB,GAAUA,EAAO1tB,GACjEytB,EAAGztB,GAAO2tB,EAAQA,EAAMF,EAAGztB,GAAMynB,EAAKznB,IAAQynB,EAAKznB,GAGvD,OAAOytB,EAET,MAAMG,GAA4B,CAChCvvB,KAAMwvB,GACNxe,MAAOye,GACPvV,MAAOuV,GACPlD,QAASkD,GACT/nB,SAAU+nB,GACVtD,aAAcuD,GACd/C,QAAS+C,GACT9C,YAAa8C,GACb1H,QAAS0H,GACT5C,aAAc4C,GACdzH,QAASyH,GACTxC,cAAewC,GACfvC,cAAeuC,GACftC,UAAWsC,GACXrC,UAAWqC,GACX1C,UAAW0C,GACXzC,YAAayC,GACbjC,cAAeiC,GACfhC,eAAgBgC,GAChB9B,WAAY6B,GACZ/H,WAAY+H,GACZlQ,MAAOoQ,GACP7Q,QAAS0Q,GACTtQ,OAAQ0Q,IAEV,SAASJ,GAAYJ,EAAIhG,GACvB,OAAKA,EAGAgG,EAGE,WACL,OAAO1c,GAASpB,GAAa8d,GAAMA,EAAGxtB,KAAKhD,KAAMA,MAAQwwB,EAAI9d,GAAa8X,GAAQA,EAAKxnB,KAAKhD,KAAMA,MAAQwqB,IAHnGA,EAHAgG,EASX,SAASQ,GAAYR,EAAIhG,GACvB,OAAOqG,GAAmBf,GAAgBU,GAAKV,GAAgBtF,IAEjE,SAASsF,GAAgBrgB,GACvB,GAAI4B,GAAU5B,GAAM,CAClB,MAAMzF,EAAM,GACZ,IAAK,IAAI1I,EAAI,EAAGA,EAAImO,EAAIlO,OAAQD,IAC9B0I,EAAIyF,EAAInO,IAAMmO,EAAInO,GAEpB,OAAO0I,EAET,OAAOyF,EAET,SAASqhB,GAAaN,EAAIhG,GACxB,OAAOgG,EAAK,IAAI,IAAIzqB,IAAI,GAAG0Y,OAAO+R,EAAIhG,KAAUA,EAElD,SAASqG,GAAmBL,EAAIhG,GAC9B,OAAOgG,EAAK1c,GAASA,GAAyB5R,OAAOC,OAAO,MAAOquB,GAAKhG,GAAQA,EAElF,SAASuG,GAAkBP,EAAIhG,GAC7B,IAAKgG,EACH,OAAOhG,EACT,IAAKA,EACH,OAAOgG,EACT,MAAMS,EAASnd,GAAyB5R,OAAOC,OAAO,MAAOquB,GAC7D,IAAK,MAAMztB,KAAOynB,EAChByG,EAAOluB,GAAO+tB,GAAaN,EAAGztB,GAAMynB,EAAKznB,IAE3C,OAAOkuB,EAET,SAASC,GAAU9a,EAAWgO,EAAU+M,EAAY3gB,GAAQ,GAC1D,MAAM4B,EAAQ,GACR8K,EAAQ,GACdxH,GAAIwH,EAAOkU,GAAmB,GAC9Bhb,EAAUib,cAAgCnvB,OAAOC,OAAO,MACxDmvB,GAAalb,EAAWgO,EAAUhS,EAAO8K,GACzC,IAAK,MAAMna,KAAOqT,EAAU4G,aAAa,GACjCja,KAAOqP,IACXA,EAAMrP,QAAO,GAGbouB,EACF/a,EAAUhE,MAAQ5B,EAAQ4B,EAAQrD,GAAgBqD,GAE7CgE,EAAUvO,KAAKuK,MAGlBgE,EAAUhE,MAAQA,EAFlBgE,EAAUhE,MAAQ8K,EAKtB9G,EAAU8G,MAAQA,EAEpB,SAASqU,GAAYnb,EAAWgO,EAAUoN,EAAc1S,GACtD,MAAM,MAAE1M,EAAK,MAAE8K,EAAOxG,OAAO,UAAE2I,IAAgBjJ,EACzCqb,EAAkB1nB,GAAMqI,IACvB0J,GAAY1F,EAAU4G,aAC7B,IAAI0U,GAAkB,EACtB,KAAK5S,GAAaO,EAAY,IAAoB,GAAZA,EA2B/B,CAIL,IAAIsS,EAHAL,GAAalb,EAAWgO,EAAUhS,EAAO8K,KAC3CwU,GAAkB,GAGpB,IAAK,MAAM3uB,KAAO0uB,EACXrN,IAAajQ,GAAOiQ,EAAUrhB,KAAU4uB,EAAWzc,GAAYnS,MAAUA,GAAQoR,GAAOiQ,EAAUuN,MACjG7V,GACE0V,QAAuC,IAAtBA,EAAazuB,SAA8C,IAA3ByuB,EAAaG,KAChEvf,EAAMrP,GAAO6uB,GAAiB9V,EAAU2V,EAAiB1uB,OAAK,EAAQqT,GAAW,WAG5EhE,EAAMrP,IAInB,GAAIma,IAAUuU,EACZ,IAAK,MAAM1uB,KAAOma,EACXkH,GAAajQ,GAAOiQ,EAAUrhB,YAC1Bma,EAAMna,GACb2uB,GAAkB,QA9CxB,GAAgB,EAAZrS,EAAe,CACjB,MAAMwS,EAAgBzb,EAAUM,MAAM+I,aACtC,IAAK,IAAIne,EAAI,EAAGA,EAAIuwB,EAActwB,OAAQD,IAAK,CAC7C,IAAIyB,EAAM8uB,EAAcvwB,GACxB,GAAIua,GAAezF,EAAUkJ,aAAcvc,GACzC,SAEF,MAAMa,EAAQwgB,EAASrhB,GACvB,GAAI+Y,EACF,GAAI3H,GAAO+I,EAAOna,GACZa,IAAUsZ,EAAMna,KAClBma,EAAMna,GAAOa,EACb8tB,GAAkB,OAEf,CACL,MAAMI,EAAejd,GAAW9R,GAChCqP,EAAM0f,GAAgBF,GAAiB9V,EAAU2V,EAAiBK,EAAcluB,EAAOwS,GAAW,QAGhGxS,IAAUsZ,EAAMna,KAClBma,EAAMna,GAAOa,EACb8tB,GAAkB,IA8BxBA,GACFnpB,EAAQ6N,EAAW,MAAO,UAG9B,SAASkb,GAAalb,EAAWgO,EAAUhS,EAAO8K,GAChD,MAAOpB,EAAUiW,GAAgB3b,EAAU4G,aAC3C,IACIgV,EADAN,GAAkB,EAEtB,GAAItN,EACF,IAAK,IAAIrhB,KAAOqhB,EAAU,CACxB,GAAI5P,GAAezR,GACjB,SAEF,MAAMa,EAAQwgB,EAASrhB,GACvB,IAAIkvB,EACAnW,GAAY3H,GAAO2H,EAAUmW,EAAWpd,GAAW9R,IAChDgvB,GAAiBA,EAAa7Y,SAAS+Y,IAGzCD,IAAkBA,EAAgB,KAAKC,GAAYruB,EAFpDwO,EAAM6f,GAAYruB,EAIViY,GAAezF,EAAUkJ,aAAcvc,IAC3CA,KAAOma,GAAUtZ,IAAUsZ,EAAMna,KACrCma,EAAMna,GAAOa,EACb8tB,GAAkB,GAK1B,GAAIK,EAAc,CAChB,MAAMN,EAAkB1nB,GAAMqI,GACxB8f,EAAaF,GAAiB3e,GACpC,IAAK,IAAI/R,EAAI,EAAGA,EAAIywB,EAAaxwB,OAAQD,IAAK,CAC5C,MAAMyB,EAAMgvB,EAAazwB,GACzB8Q,EAAMrP,GAAO6uB,GAAiB9V,EAAU2V,EAAiB1uB,EAAKmvB,EAAWnvB,GAAMqT,GAAYjC,GAAO+d,EAAYnvB,KAGlH,OAAO2uB,EAET,SAASE,GAAiB9V,EAAU1J,EAAOrP,EAAKa,EAAOwS,EAAW+b,GAChE,MAAM7C,EAAMxT,EAAS/Y,GACrB,GAAW,MAAPusB,EAAa,CACf,MAAM8C,EAAaje,GAAOmb,EAAK,WAC/B,GAAI8C,QAAwB,IAAVxuB,EAAkB,CAClC,MAAM2c,EAAe+O,EAAIrL,QACzB,GAAIqL,EAAIznB,OAASgb,UAAYnQ,GAAa6N,GAAe,CACvD,MAAM,cAAE8Q,GAAkBjb,EACtBrT,KAAOsuB,EACTztB,EAAQytB,EAActuB,IAEtBif,GAAmB5L,GACnBxS,EAAQytB,EAActuB,GAAOwd,EAAavd,KAAK,KAAMoP,GACrD6P,WAGFre,EAAQ2c,EAGR+O,EAAI,KACF6C,IAAaC,EACfxuB,GAAQ,GACC0rB,EAAI,IAAiB,KAAV1rB,GAAgBA,IAAUsR,GAAYnS,KAC1Da,GAAQ,IAId,OAAOA,EAET,SAASyuB,GAAsBnX,EAAMjE,EAAYkE,GAAU,GACzD,MAAMzG,EAAQuC,EAAWqb,WACnBjX,EAAS3G,EAAM3M,IAAImT,GACzB,GAAIG,EACF,OAAOA,EAET,MAAM5L,EAAMyL,EAAK9I,MACXb,EAAa,GACbwgB,EAAe,GACrB,IAAIxW,GAAa,EACjB,IAAK7I,GAAawI,GAAO,CACvB,MAAMqX,EAAe9W,IACnBF,GAAa,EACb,MAAOnJ,EAAOgM,GAAQiU,GAAsB5W,EAAMxE,GAAY,GAC9DnD,GAASvC,EAAYa,GACjBgM,GACF2T,EAAa7sB,QAAQkZ,KAEpBjD,GAAWlE,EAAW0E,OAAOpa,QAChC0V,EAAW0E,OAAOhT,QAAQ4pB,GAExBrX,EAAKU,SACP2W,EAAYrX,EAAKU,SAEfV,EAAKS,QACPT,EAAKS,OAAOhT,QAAQ4pB,GAGxB,IAAK9iB,IAAQ8L,EAEX,OADA7G,EAAM1M,IAAIkT,EAAM5H,IACTA,GAET,GAAIjC,GAAU5B,GACZ,IAAK,IAAInO,EAAI,EAAGA,EAAImO,EAAIlO,OAAQD,IAAK,CACnC,MAAMkxB,EAAgB3d,GAAWpF,EAAInO,IACjCmxB,GAAiBD,KACnBjhB,EAAWihB,GAAiBnf,SAG3B,GAAI5D,EACT,IAAK,MAAM1M,KAAO0M,EAAK,CACrB,MAAM+iB,EAAgB3d,GAAW9R,GACjC,GAAI0vB,GAAiBD,GAAgB,CACnC,MAAMlD,EAAM7f,EAAI1M,GACV2vB,EAAOnhB,EAAWihB,GAAiBnhB,GAAUie,IAAQ5c,GAAa4c,GAAO,CAAEznB,KAAMynB,GAAQA,EAC/F,GAAIoD,EAAM,CACR,MAAMC,EAAeC,GAAa3P,QAASyP,EAAK7qB,MAC1CgrB,EAAcD,GAAavxB,OAAQqxB,EAAK7qB,MAC9C6qB,EAAK,GAAKC,GAAgB,EAC1BD,EAAK,GAAKG,EAAc,GAAKF,EAAeE,GACxCF,GAAgB,GAAKxe,GAAOue,EAAM,aACpCX,EAAa7sB,KAAKstB,KAM5B,MAAMxoB,EAAM,CAACuH,EAAYwgB,GAEzB,OADArd,EAAM1M,IAAIkT,EAAMlR,GACTA,EAET,SAASyoB,GAAiB1vB,GACxB,MAAe,MAAXA,EAAI,GAKV,SAAS+vB,GAAQC,GACf,MAAMC,EAAQD,GAAQA,EAAKpvB,WAAWqvB,MAAM,sBAC5C,OAAOA,EAAQA,EAAM,GAAc,OAATD,EAAgB,OAAS,GAErD,SAASE,GAAW/Y,EAAGC,GACrB,OAAO2Y,GAAQ5Y,KAAO4Y,GAAQ3Y,GAEhC,SAASyY,GAAa/qB,EAAMqrB,GAC1B,OAAI7hB,GAAU6hB,GACLA,EAAcC,UAAW/yB,GAAM6yB,GAAW7yB,EAAGyH,IAC3C6K,GAAawgB,IACfD,GAAWC,EAAerrB,GAAQ,GAEnC,EAEV,MAAMurB,GAAiBrwB,GAAmB,MAAXA,EAAI,IAAsB,YAARA,EAC3CswB,GAAsBzvB,GAAUyN,GAAUzN,GAASA,EAAM3B,IAAI4b,IAAkB,CAACA,GAAeja,IAC/F0vB,GAAgB,CAACvwB,EAAKwwB,EAASlX,KACnC,GAAIkX,EAAQhX,GACV,OAAOgX,EAET,MAAMhiB,EAAa6K,GAAQ,IAAIvS,IACtBwpB,GAAmBE,KAAW1pB,IACpCwS,GAEH,OADA9K,EAAWqL,IAAK,EACTrL,GAEHiiB,GAAuB,CAACC,EAAUxW,EAAO7G,KAC7C,MAAMiG,EAAMoX,EAASC,KACrB,IAAK,MAAM3wB,KAAO0wB,EAAU,CAC1B,GAAIL,GAAcrwB,GAChB,SACF,MAAMa,EAAQ6vB,EAAS1wB,GACvB,GAAI2P,GAAa9O,GACfqZ,EAAMla,GAAOuwB,GAAcvwB,EAAKa,EAAOyY,QAClC,GAAa,MAATzY,EAAe,CACxB,MAAM2N,EAAa8hB,GAAmBzvB,GACtCqZ,EAAMla,GAAO,IAAMwO,KAInBoiB,GAAsB,CAACvd,EAAW4I,KACtC,MAAMzN,EAAa8hB,GAAmBrU,GACtC5I,EAAU6G,MAAMgH,QAAU,IAAM1S,GAE5BqiB,GAAY,CAACxd,EAAW4I,KAC5B,GAAgC,GAA5B5I,EAAUM,MAAMiH,UAAgB,CAClC,MAAM9V,EAAOmX,EAASjK,EAClBlN,GACFuO,EAAU6G,MAAQlT,GAAMiV,GACxBtJ,GAAIsJ,EAAU,IAAKnX,IAEnB2rB,GAAqBxU,EAAU5I,EAAU6G,MAAQ,SAGnD7G,EAAU6G,MAAQ,GACd+B,GACF2U,GAAoBvd,EAAW4I,GAGnCtJ,GAAIU,EAAU6G,MAAOmU,GAAmB,IAEpCyC,GAAc,CAACzd,EAAW4I,EAAUF,KACxC,MAAM,MAAEpI,EAAK,MAAEuG,GAAU7G,EACzB,IAAI0d,GAAoB,EACpBC,EAA2B1gB,GAC/B,GAAsB,GAAlBqD,EAAMiH,UAAgB,CACxB,MAAM9V,EAAOmX,EAASjK,EAClBlN,EACEiX,GAAsB,IAATjX,EACfisB,GAAoB,GAEpBhgB,GAASmJ,EAAO+B,GACXF,GAAsB,IAATjX,UACToV,EAAMlI,IAIjB+e,GAAqB9U,EAASO,QAC9BiU,GAAqBxU,EAAU/B,IAEjC8W,EAA2B/U,OAClBA,IACT2U,GAAoBvd,EAAW4I,GAC/B+U,EAA2B,CAAE9P,QAAS,IAExC,GAAI6P,EACF,IAAK,MAAM/wB,KAAOka,EACXmW,GAAcrwB,IAAUA,KAAOgxB,UAC3B9W,EAAMla,IAKrB,SAASixB,KACP,MAAO,CACLC,IAAK,KACL/c,OAAQ,CACNgd,YAAa1gB,GACb2gB,aAAa,EACbhH,iBAAkB,GAClBiD,sBAAuB,GACvBjZ,kBAAc,EACdid,iBAAa,EACbC,gBAAiB,IAEnB1Y,OAAQ,GACRqT,WAAY,GACZlG,WAAY,GACZ1I,SAA0Ble,OAAOC,OAAO,MACxCguB,aAA8B,IAAIzpB,QAClC4rB,WAA4B,IAAI5rB,QAChC0U,WAA4B,IAAI1U,SAGpC,IAAI4tB,GAAM,EACV,SAASC,GAAajX,EAASkX,GAC7B,OAAO,SAAmBC,EAAeC,EAAY,MAC9ChiB,GAAa+hB,KAChBA,EAAgBvyB,OAAOQ,OAAO,GAAI+xB,IAEnB,MAAbC,GAAsBhjB,GAAWgjB,KACnCA,EAAY,MAEd,MAAMC,EAAUX,KACVY,EAAmC,IAAI7uB,IAC7C,IAAIuc,GAAY,EAChB,MAAM2R,EAAMU,EAAQV,IAAM,CACxBY,KAAMP,KACNQ,WAAYL,EACZM,OAAQL,EACRM,WAAY,KACZC,SAAUN,EACVO,UAAW,KACXC,WACA,aACE,OAAOR,EAAQzd,QAEjB,WAAWrL,KAEX,IAAIupB,KAAWtZ,GAWb,OAVI8Y,EAAiBvsB,IAAI+sB,KAEhBA,GAAU1iB,GAAa0iB,EAAOC,UACrCT,EAAiBtsB,IAAI8sB,GACrBA,EAAOC,QAAQpB,KAAQnY,IACdpJ,GAAa0iB,KACtBR,EAAiBtsB,IAAI8sB,GACrBA,EAAOnB,KAAQnY,KAGVmY,GAET,MAAMqB,GAMJ,OAJOX,EAAQhZ,OAAOzC,SAASoc,IAC3BX,EAAQhZ,OAAOzW,KAAKowB,GAGjBrB,GAET,UAAU/hB,EAAMgN,GACd,OAAKA,GAGLyV,EAAQ3F,WAAW9c,GAAQgN,EACpB+U,GAHEU,EAAQ3F,WAAW9c,IAK9B,UAAUA,EAAMqjB,GACd,OAAKA,GAGLZ,EAAQ7L,WAAW5W,GAAQqjB,EACpBtB,GAHEU,EAAQ7L,WAAW5W,IAK9B,MAAMsjB,EAAeC,EAAWC,GAC9B,IAAKpT,EAAW,CACd,MAAM5L,EAAQuH,GAAYwW,EAAeC,GAUzC,OATAhe,EAAMO,WAAa0d,EACfc,GAAajB,EACfA,EAAQ9d,EAAO8e,GAEflY,EAAQ5G,EAAO8e,EAAeE,GAEhCpT,GAAY,EACZ2R,EAAIe,WAAaQ,EACjBA,EAAcG,YAAc1B,EACrBjL,GAAetS,EAAMwI,YAAcxI,EAAMwI,UAAU7P,QAG9D,UACMiT,IACFhF,EAAQ,KAAM2W,EAAIe,mBACXf,EAAIe,WAAWW,cAG1B,QAAQ5yB,EAAKa,GAEX,OADA+wB,EAAQvU,SAASrd,GAAOa,EACjBqwB,IAGX,OAAOA,GAGX,SAAS2B,GAAOC,EAAQC,EAAWC,EAAgBrf,EAAOsf,GAAY,GACpE,GAAI3kB,GAAUwkB,GAEZ,YADAA,EAAOltB,QAAQ,CAACoH,EAAGzO,IAAMs0B,GAAO7lB,EAAG+lB,IAAczkB,GAAUykB,GAAaA,EAAUx0B,GAAKw0B,GAAYC,EAAgBrf,EAAOsf,IAG5H,GAAI9O,GAAexQ,KAAWsf,EAC5B,OAEF,MAAMC,EAA6B,EAAlBvf,EAAMiH,UAAgBqL,GAAetS,EAAMwI,YAAcxI,EAAMwI,UAAU7P,MAAQqH,EAAM1C,GAClGpQ,EAAQoyB,EAAY,KAAOC,GACzB30B,EAAG40B,EAAOnmB,EAAGH,GAAQimB,EACvBM,EAASL,GAAaA,EAAU/lB,EAChCqc,EAAO8J,EAAM9J,OAAS/Y,GAAY6iB,EAAM9J,KAAO,GAAK8J,EAAM9J,KAC1D5O,EAAa0Y,EAAM1Y,WAWzB,GAVc,MAAV2Y,GAAkBA,IAAWvmB,IAC3B4B,GAAW2kB,IACb/J,EAAK+J,GAAU,KACXhiB,GAAOqJ,EAAY2Y,KACrB3Y,EAAW2Y,GAAU,OAEdxrB,GAAMwrB,KACfA,EAAOvyB,MAAQ,OAGf8O,GAAa9C,GACfuG,GAAsBvG,EAAKsmB,EAAO,GAAI,CAACtyB,EAAOwoB,QACzC,CACL,MAAMgK,EAAY5kB,GAAW5B,GACvBymB,EAAS1rB,GAAMiF,GACrB,GAAIwmB,GAAaC,EAAQ,CACvB,MAAMC,EAAQ,KACZ,GAAIT,EAAOn1B,EAAG,CACZ,MAAM61B,EAAWH,EAAYhK,EAAKxc,GAAOA,EAAIhM,MACzCoyB,EACF3kB,GAAUklB,IAAaxiB,GAAOwiB,EAAUN,GAEnC5kB,GAAUklB,GAWHA,EAASrd,SAAS+c,IAC5BM,EAASrxB,KAAK+wB,GAXVG,GACFhK,EAAKxc,GAAO,CAACqmB,GACT9hB,GAAOqJ,EAAY5N,KACrB4N,EAAW5N,GAAOwc,EAAKxc,MAGzBA,EAAIhM,MAAQ,CAACqyB,GACTJ,EAAOW,IACTpK,EAAKyJ,EAAOW,GAAK5mB,EAAIhM,aAMpBwyB,GACThK,EAAKxc,GAAOhM,EACRuQ,GAAOqJ,EAAY5N,KACrB4N,EAAW5N,GAAOhM,IAEXyyB,IACTzmB,EAAIhM,MAAQA,EACRiyB,EAAOW,IACTpK,EAAKyJ,EAAOW,GAAK5yB,KAInBA,GACF0yB,EAAM5d,IAAM,EACZkJ,GAAsB0U,EAAOP,IAE7BO,MAKR,MAAM1U,GAAwB7B,GAC9B,SAAS0W,GAAe3a,GACtB,OAAO4a,GAAmB5a,GAE5B,SAAS4a,GAAmB5a,EAAU6a,GACpC,MAAM/uB,EAASmO,KACfnO,EAAOgvB,SAAU,EACjB,MAAQC,OAAQC,EAAY/iB,OAAQgjB,EAAYC,UAAWC,EAAeC,cAAeC,EAAmBC,WAAYC,EAAgBC,cAAeC,EAAmBC,QAASC,EAAaC,eAAgBC,EAAoBC,WAAYC,EAAgBC,YAAaC,EAAiBC,WAAYC,EAAiB1kB,GAAM2kB,UAAWC,EAAeC,oBAAqBC,GAA4Bvc,EACtYwc,EAAQ,CAACC,EAAIC,EAAIC,EAAWC,EAAS,KAAMC,EAAkB,KAAM5C,EAAiB,KAAML,GAAQ,EAAOnK,EAAe,KAAMzM,IAAc0Z,EAAGI,mBACnJ,GAAIL,IAAOC,EACT,OAEED,IAAOxT,GAAgBwT,EAAIC,KAC7BE,EAASG,EAAgBN,GACzBO,EAAQP,EAAII,EAAiB5C,GAAgB,GAC7CwC,EAAK,OAEe,IAAlBC,EAAGnZ,YACLP,GAAY,EACZ0Z,EAAGI,gBAAkB,MAEvB,MAAM,KAAE/wB,EAAI,IAAE+H,EAAG,UAAE+N,GAAc6a,EACjC,OAAQ3wB,GACN,KAAKkxB,GACHC,EAAYT,EAAIC,EAAIC,EAAWC,GAC/B,MACF,KAAKxa,GACH+a,EAAmBV,EAAIC,EAAIC,EAAWC,GACtC,MACF,KAAKQ,GACO,MAANX,GACFY,EAAgBX,EAAIC,EAAWC,EAAQhD,GAEzC,MACF,KAAK3O,GACHqS,EAAgBb,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GACjG,MACF,QACkB,EAAZnB,EACF0b,EAAed,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAC3E,EAAZnB,EACT2b,EAAiBf,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,IAC7E,GAAZnB,GAEY,IAAZA,IADT9V,EAAK0xB,QAAQhB,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,EAAW0a,GAMpG,MAAP5pB,GAAe+oB,GACjB/C,GAAOhmB,EAAK2oB,GAAMA,EAAG3oB,IAAKmmB,EAAgByC,GAAMD,GAAKC,IAGnDQ,EAAc,CAACT,EAAIC,EAAIC,EAAWC,KACtC,GAAU,MAANH,EACFzB,EAAW0B,EAAGxkB,GAAKqjB,EAAemB,EAAGxZ,UAAWyZ,EAAWC,OACtD,CACL,MAAM1kB,EAAKwkB,EAAGxkB,GAAKukB,EAAGvkB,GAClBwkB,EAAGxZ,WAAauZ,EAAGvZ,UACrByY,EAAYzjB,EAAIwkB,EAAGxZ,YAInBia,EAAqB,CAACV,EAAIC,EAAIC,EAAWC,KACnC,MAANH,EACFzB,EAAW0B,EAAGxkB,GAAKujB,EAAkBiB,EAAGxZ,UAAY,IAAKyZ,EAAWC,GAEpEF,EAAGxkB,GAAKukB,EAAGvkB,IAGTmlB,EAAkB,CAACX,EAAIC,EAAWC,EAAQhD,MAC7C8C,EAAGxkB,GAAIwkB,EAAGE,QAAUL,EAAwBG,EAAGxZ,SAAUyZ,EAAWC,EAAQhD,EAAO8C,EAAGxkB,GAAIwkB,EAAGE,SAE1Fe,EAAiB,EAAGzlB,KAAI0kB,UAAUD,EAAWX,KACjD,IAAI4B,EACJ,MAAO1lB,GAAMA,IAAO0kB,EAClBgB,EAAQ3B,EAAgB/jB,GACxB8iB,EAAW9iB,EAAIykB,EAAWX,GAC1B9jB,EAAK0lB,EAEP5C,EAAW4B,EAAQD,EAAWX,IAE1B6B,EAAmB,EAAG3lB,KAAI0kB,aAC9B,IAAIgB,EACJ,MAAO1lB,GAAMA,IAAO0kB,EAClBgB,EAAQ3B,EAAgB/jB,GACxB+iB,EAAW/iB,GACXA,EAAK0lB,EAEP3C,EAAW2B,IAEPW,EAAiB,CAACd,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KACvG4W,EAAQA,GAAqB,QAAZ8C,EAAG3wB,KACV,MAAN0wB,EACFqB,EAAapB,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAE1F+a,EAAatB,EAAIC,EAAIG,EAAiB5C,EAAgBL,EAAOnK,EAAczM,IAGzE8a,EAAe,CAACljB,EAAO+hB,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KACpG,IAAI9K,EACA8lB,EACJ,MAAM,KAAEjyB,EAAI,MAAEuK,EAAK,UAAEuL,EAAS,WAAEe,EAAU,UAAEW,EAAS,KAAEb,GAAS9H,EAChE,GAAIA,EAAM1C,SAAwB,IAAlBmkB,IAA2C,IAAf9Y,EAC1CrL,EAAK0C,EAAM1C,GAAKmkB,EAAczhB,EAAM1C,QAC/B,CAUL,GATAA,EAAK0C,EAAM1C,GAAKmjB,EAAkBzgB,EAAM7O,KAAM6tB,EAAOtjB,GAASA,EAAMjO,GAAIiO,GACxD,EAAZuL,EACFga,EAAmB3jB,EAAI0C,EAAMsI,UACR,GAAZrB,GACToc,EAAcrjB,EAAMsI,SAAUhL,EAAI,KAAM2kB,EAAiB5C,EAAgBL,GAAkB,kBAAT7tB,EAA0B0jB,EAAczM,GAExHN,GACF+K,GAAoB7S,EAAO,KAAMiiB,EAAiB,WAEhDvmB,EAAO,CACT,IAAK,MAAMrP,KAAOqP,EACJ,UAARrP,GAAoByR,GAAezR,IACrCk0B,EAAcjjB,EAAIjR,EAAK,KAAMqP,EAAMrP,GAAM2yB,EAAOhf,EAAMsI,SAAU2Z,EAAiB5C,EAAgBiE,GAGjG,UAAW5nB,GACb6kB,EAAcjjB,EAAI,QAAS,KAAM5B,EAAMxO,QAErCk2B,EAAY1nB,EAAM6nB,qBACpBC,GAAgBJ,EAAWnB,EAAiBjiB,GAGhDshB,EAAWhkB,EAAI0C,EAAOA,EAAM4U,QAASC,EAAcoN,GAEjDna,GACF+K,GAAoB7S,EAAO,KAAMiiB,EAAiB,eAEpD,MAAMwB,IAA4BpE,GAAkBA,IAAmBA,EAAe9V,gBAAkBvB,IAAeA,EAAWwE,UAC9HiX,GACFzb,EAAW0b,YAAYpmB,GAEzB8iB,EAAW9iB,EAAIykB,EAAWC,KACrBoB,EAAY1nB,GAASA,EAAMioB,iBAAmBF,GAA2B3b,IAC5EoD,GAAsB,KACpBkY,GAAaI,GAAgBJ,EAAWnB,EAAiBjiB,GACzDyjB,GAA2Bzb,EAAW4b,MAAMtmB,GAC5CwK,GAAQ+K,GAAoB7S,EAAO,KAAMiiB,EAAiB,YACzD5C,IAGDiC,EAAa,CAAChkB,EAAI0C,EAAO4U,EAASC,EAAcoN,KAIpD,GAHIrN,GACF2M,EAAejkB,EAAIsX,GAEjBC,EACF,IAAK,IAAIjqB,EAAI,EAAGA,EAAIiqB,EAAahqB,OAAQD,IACvC22B,EAAejkB,EAAIuX,EAAajqB,IAGpC,GAAIq3B,EAAiB,CACnB,IAAI/Y,EAAU+Y,EAAgB/Y,QAC9B,GAAIlJ,IAAUkJ,EAAS,CACrB,MAAM2a,EAAc5B,EAAgBjiB,MACpCshB,EAAWhkB,EAAIumB,EAAaA,EAAYjP,QAASiP,EAAYhP,aAAcoN,EAAgB5zB,WAI3Fg1B,EAAgB,CAAC/a,EAAUyZ,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,EAAWnG,EAAS,KAC5H,IAAK,IAAIrX,EAAIqX,EAAQrX,EAAI0d,EAASzd,OAAQD,IAAK,CAC7C,MAAM6iB,EAAQnF,EAAS1d,GAAKwd,EAAY0b,GAAexb,EAAS1d,IAAMuc,GAAemB,EAAS1d,IAC9Fg3B,EAAM,KAAMnU,EAAOsU,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KAG1F+a,EAAe,CAACtB,EAAIC,EAAIG,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KAClF,MAAM9K,EAAKwkB,EAAGxkB,GAAKukB,EAAGvkB,GACtB,IAAI,UAAEqL,EAAS,gBAAEuZ,EAAe,KAAEpa,GAASga,EAC3CnZ,GAA4B,GAAfkZ,EAAGlZ,UAChB,MAAMob,EAAWlC,EAAGnmB,OAASiB,GACvBqnB,EAAWlC,EAAGpmB,OAASiB,GAC7B,IAAIymB,EACJnB,GAAmBgC,GAAchC,GAAiB,IAC9CmB,EAAYY,EAASE,sBACvBV,GAAgBJ,EAAWnB,EAAiBH,EAAID,GAE9C/Z,GACF+K,GAAoBiP,EAAID,EAAII,EAAiB,gBAE/CA,GAAmBgC,GAAchC,GAAiB,GAClD,MAAMkC,EAAiBnF,GAAqB,kBAAZ8C,EAAG3wB,KAMnC,GALI+wB,EACFkC,EAAmBvC,EAAGK,gBAAiBA,EAAiB5kB,EAAI2kB,EAAiB5C,EAAgB8E,EAAgBtP,GACnGzM,GACVic,EAAcxC,EAAIC,EAAIxkB,EAAI,KAAM2kB,EAAiB5C,EAAgB8E,EAAgBtP,GAAc,GAE7FlM,EAAY,EAAG,CACjB,GAAgB,GAAZA,EACF2b,EAAWhnB,EAAIwkB,EAAIiC,EAAUC,EAAU/B,EAAiB5C,EAAgBL,QAUxE,GARgB,EAAZrW,GACEob,EAASpoB,QAAUqoB,EAASroB,OAC9B4kB,EAAcjjB,EAAI,QAAS,KAAM0mB,EAASroB,MAAOqjB,GAGrC,EAAZrW,GACF4X,EAAcjjB,EAAI,QAASymB,EAASloB,MAAOmoB,EAASnoB,MAAOmjB,GAE7C,EAAZrW,EAAe,CACjB,MAAMwS,EAAgB2G,EAAG/Y,aACzB,IAAK,IAAIne,EAAI,EAAGA,EAAIuwB,EAActwB,OAAQD,IAAK,CAC7C,MAAMyB,EAAM8uB,EAAcvwB,GACpB4a,EAAOue,EAAS13B,GAChB22B,EAAQgB,EAAS33B,GACnB22B,IAAUxd,GAAgB,UAARnZ,GACpBk0B,EAAcjjB,EAAIjR,EAAKmZ,EAAMwd,EAAOhE,EAAO6C,EAAGvZ,SAAU2Z,EAAiB5C,EAAgBiE,IAKjF,EAAZ3a,GACEkZ,EAAGvZ,WAAawZ,EAAGxZ,UACrB2Y,EAAmB3jB,EAAIwkB,EAAGxZ,eAGpBF,GAAgC,MAAnB8Z,GACvBoC,EAAWhnB,EAAIwkB,EAAIiC,EAAUC,EAAU/B,EAAiB5C,EAAgBL,KAErEoE,EAAYY,EAASO,iBAAmBzc,IAC3CoD,GAAsB,KACpBkY,GAAaI,GAAgBJ,EAAWnB,EAAiBH,EAAID,GAC7D/Z,GAAQ+K,GAAoBiP,EAAID,EAAII,EAAiB,YACpD5C,IAGD+E,EAAqB,CAACI,EAAaC,EAAaC,EAAmBzC,EAAiB5C,EAAgBL,EAAOnK,KAC/G,IAAK,IAAIjqB,EAAI,EAAGA,EAAI65B,EAAY55B,OAAQD,IAAK,CAC3C,MAAM+5B,EAAWH,EAAY55B,GACvBg6B,EAAWH,EAAY75B,GACvBm3B,EAAY4C,EAASrnB,KAAOqnB,EAASxzB,OAASkf,KAAahC,GAAgBsW,EAAUC,IAAkC,GAArBD,EAAS1d,WAAwBka,EAAewD,EAASrnB,IAAMonB,EACvK9C,EAAM+C,EAAUC,EAAU7C,EAAW,KAAME,EAAiB5C,EAAgBL,EAAOnK,GAAc,KAG/FyP,EAAa,CAAChnB,EAAI0C,EAAO+jB,EAAUC,EAAU/B,EAAiB5C,EAAgBL,KAClF,GAAI+E,IAAaC,EAAU,CACzB,IAAK,MAAM33B,KAAO23B,EAAU,CAC1B,GAAIlmB,GAAezR,GACjB,SACF,MAAM22B,EAAQgB,EAAS33B,GACjBmZ,EAAOue,EAAS13B,GAClB22B,IAAUxd,GAAgB,UAARnZ,GACpBk0B,EAAcjjB,EAAIjR,EAAKmZ,EAAMwd,EAAOhE,EAAOhf,EAAMsI,SAAU2Z,EAAiB5C,EAAgBiE,GAGhG,GAAIS,IAAapnB,GACf,IAAK,MAAMtQ,KAAO03B,EACXjmB,GAAezR,IAAUA,KAAO23B,GACnCzD,EAAcjjB,EAAIjR,EAAK03B,EAAS13B,GAAM,KAAM2yB,EAAOhf,EAAMsI,SAAU2Z,EAAiB5C,EAAgBiE,GAItG,UAAWU,GACbzD,EAAcjjB,EAAI,QAASymB,EAAS72B,MAAO82B,EAAS92B,SAIpDw1B,EAAkB,CAACb,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KACxG,MAAMyc,EAAsB/C,EAAGxkB,GAAKukB,EAAKA,EAAGvkB,GAAKqjB,EAAe,IAC1DmE,EAAoBhD,EAAGE,OAASH,EAAKA,EAAGG,OAASrB,EAAe,IACtE,IAAI,UAAEhY,EAAS,gBAAEuZ,EAAiBrN,aAAckQ,GAAyBjD,EACrEiD,IACFlQ,EAAeA,EAAeA,EAAa9M,OAAOgd,GAAwBA,GAElE,MAANlD,GACFzB,EAAWyE,EAAqB9C,EAAWC,GAC3C5B,EAAW0E,EAAmB/C,EAAWC,GACzCqB,EAAcvB,EAAGxZ,SAAUyZ,EAAW+C,EAAmB7C,EAAiB5C,EAAgBL,EAAOnK,EAAczM,IAE3GO,EAAY,GAAiB,GAAZA,GAAkBuZ,GAAmBL,EAAGK,iBAC3DkC,EAAmBvC,EAAGK,gBAAiBA,EAAiBH,EAAWE,EAAiB5C,EAAgBL,EAAOnK,IAC7F,MAAViN,EAAGz1B,KAAe41B,GAAmBH,IAAOG,EAAgB/Y,UAC9D8b,GAAuBnD,EAAIC,GAAI,IAGjCuC,EAAcxC,EAAIC,EAAIC,EAAW+C,EAAmB7C,EAAiB5C,EAAgBL,EAAOnK,EAAczM,IAI1Gwa,EAAmB,CAACf,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KACzG0Z,EAAGjN,aAAeA,EACR,MAANgN,EACiB,IAAfC,EAAG7a,UACLgb,EAAgBtc,IAAIsf,SAASnD,EAAIC,EAAWC,EAAQhD,EAAO5W,GAE3D8c,EAAepD,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAO5W,GAGhF+c,EAAgBtD,EAAIC,EAAI1Z,IAGtB8c,EAAiB,CAACE,EAAcrD,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAO5W,KAC/F,MAAM1I,EAAY0lB,EAAa5c,UAAY6c,GAAwBD,EAAcnD,EAAiB5C,GAOlG,GANIvP,GAAYsV,KACd1lB,EAAUiG,IAAI2f,SAAWxC,GAGzByC,GAAe7lB,GAEbA,EAAU8lB,UAEZ,GADAnG,GAAkBA,EAAeoG,YAAY/lB,EAAWgmB,IACnDN,EAAa9nB,GAAI,CACpB,MAAMqoB,EAAcjmB,EAAUwJ,QAAU3B,GAAYC,IACpD+a,EAAmB,KAAMoD,EAAa5D,EAAWC,SAIrD0D,EAAkBhmB,EAAW0lB,EAAcrD,EAAWC,EAAQ3C,EAAgBL,EAAO5W,IAEjF+c,EAAkB,CAACtD,EAAIC,EAAI1Z,KAC/B,MAAM1I,EAAYoiB,EAAGtZ,UAAYqZ,EAAGrZ,UACpC,GAAIP,GAAsB4Z,EAAIC,EAAI1Z,GAAY,CAC5C,GAAI1I,EAAU8lB,WAAa9lB,EAAUkmB,cAEnC,YADAC,EAAyBnmB,EAAWoiB,EAAI1Z,GAGxC1I,EAAUjW,KAAOq4B,EACjBnf,GAAcjD,EAAU8O,QACxB9O,EAAU8O,cAGZsT,EAAGxkB,GAAKukB,EAAGvkB,GACXoC,EAAUM,MAAQ8hB,GAGhB4D,EAAoB,CAAChmB,EAAW0lB,EAAcrD,EAAWC,EAAQ3C,EAAgBL,EAAO5W,KAC5F,MAAM0d,EAAoB,KACxB,GAAKpmB,EAAUkM,UA0CR,CACL,IAEIwX,GAFE35B,KAAMu5B,EAAK,GAAE+C,EAAE,EAAEC,EAAC,OAAE33B,EAAM,MAAE2R,GAAUN,EACxCumB,EAAajD,EAEjBiB,GAAcvkB,GAAW,GACrBsjB,GACFA,EAAM1lB,GAAK0C,EAAM1C,GACjBuoB,EAAyBnmB,EAAWsjB,EAAO5a,IAE3C4a,EAAQhjB,EAEN+lB,GACFlnB,GAAeknB,IAEb3C,EAAYJ,EAAMtnB,OAASsnB,EAAMtnB,MAAMwoB,sBACzCV,GAAgBJ,EAAW/0B,EAAQ20B,EAAOhjB,GAE5CikB,GAAcvkB,GAAW,GACzB,MAAMwmB,EAAW/f,GAAoBzG,GAC/BymB,EAAWzmB,EAAUwJ,QAC3BxJ,EAAUwJ,QAAUgd,EACpBtE,EACEuE,EACAD,EACA/E,EAAegF,EAAS7oB,IACxB6kB,EAAgBgE,GAChBzmB,EACA2f,EACAL,GAEFgE,EAAM1lB,GAAK4oB,EAAS5oB,GACD,OAAf2oB,GACFhd,GAAgBvJ,EAAWwmB,EAAS5oB,IAElC0oB,GACF9a,GAAsB8a,EAAG3G,IAEvB+D,EAAYJ,EAAMtnB,OAASsnB,EAAMtnB,MAAM6oB,iBACzCrZ,GAAsB,IAAMsY,GAAgBJ,EAAW/0B,EAAQ20B,EAAOhjB,GAAQqf,OAhFxD,CACxB,IAAI+D,EACJ,MAAM,GAAE9lB,EAAE,MAAE5B,GAAU0pB,GAChB,GAAEgB,EAAE,EAAExM,EAAC,OAAEvrB,GAAWqR,EACpB2mB,EAAsB7V,GAAe4U,GAS3C,GARAnB,GAAcvkB,GAAW,GACrB0mB,GACFvnB,GAAeunB,IAEZC,IAAwBjD,EAAY1nB,GAASA,EAAM6nB,qBACtDC,GAAgBJ,EAAW/0B,EAAQ+2B,GAErCnB,GAAcvkB,GAAW,GACrBpC,GAAMgpB,EAAa,CACrB,MAAMC,EAAiB,KACrB7mB,EAAUwJ,QAAU/C,GAAoBzG,GACxC4mB,EAAYhpB,EAAIoC,EAAUwJ,QAASxJ,EAAW2f,EAAgB,OAE5DgH,EACFjB,EAAaj0B,KAAKsf,gBAAgB7S,KAChC,KAAO8B,EAAUoE,aAAeyiB,KAGlCA,QAEG,CACL,MAAMrd,EAAUxJ,EAAUwJ,QAAU/C,GAAoBzG,GACxDkiB,EAAM,KAAM1Y,EAAS6Y,EAAWC,EAAQtiB,EAAW2f,EAAgBL,GACnEoG,EAAa9nB,GAAK4L,EAAQ5L,GAK5B,GAHIsc,GACF1O,GAAsB0O,EAAGyF,IAEtBgH,IAAwBjD,EAAY1nB,GAASA,EAAMioB,gBAAiB,CACvE,MAAM6C,EAAqBpB,EAC3Bla,GAAsB,IAAMsY,GAAgBJ,EAAW/0B,EAAQm4B,GAAqBnH,IAEzD,IAAzB+F,EAAane,WAAmB5Y,GAAUmiB,GAAeniB,EAAO2R,QAAmC,IAAzB3R,EAAO2R,MAAMiH,YACzFvH,EAAU8D,GAAK0H,GAAsBxL,EAAU8D,EAAG6b,GAEpD3f,EAAUkM,WAAY,EACtBwZ,EAAerD,EAAYC,EAAS,OA2ClC/yB,EAASyQ,EAAUzQ,OAAS,IAAIsB,EACpCu1B,EACA,IAAMxjB,GAASmkB,GACf/mB,EAAUxQ,OAENu3B,EAAU/mB,EAAU8O,OAAS,IAAMvf,EAAOsD,MAChDk0B,EAAQzkB,GAAKtC,EAAUke,IACvBqG,GAAcvkB,GAAW,GACzB+mB,KAEIZ,EAA2B,CAACnmB,EAAWyI,EAAWC,KACtDD,EAAUK,UAAY9I,EACtB,MAAM2I,EAAY3I,EAAUM,MAAMtE,MAClCgE,EAAUM,MAAQmI,EAClBzI,EAAUjW,KAAO,KACjBoxB,GAAYnb,EAAWyI,EAAUzM,MAAO2M,EAAWD,GACnD+U,GAAYzd,EAAWyI,EAAUG,SAAUF,GAC3CrX,IACAmS,QAAiB,EAAQxD,EAAU8O,QACnCxd,KAEIqzB,EAAgB,CAACxC,EAAIC,EAAIC,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAAY,KAClH,MAAMse,EAAK7E,GAAMA,EAAGvZ,SACdqe,EAAgB9E,EAAKA,EAAG5a,UAAY,EACpC2f,EAAK9E,EAAGxZ,UACR,UAAEK,EAAS,UAAE1B,GAAc6a,EACjC,GAAInZ,EAAY,EAAG,CACjB,GAAgB,IAAZA,EAEF,YADAke,EAAmBH,EAAIE,EAAI7E,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAE/F,GAAgB,IAAZO,EAET,YADAme,EAAqBJ,EAAIE,EAAI7E,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAI1F,EAAZnB,GACkB,GAAhB0f,GACFrD,EAAgBoD,EAAIzE,EAAiB5C,GAEnCuH,IAAOF,GACTzF,EAAmBc,EAAW6E,IAGZ,GAAhBD,EACc,GAAZ1f,EACF4f,EAAmBH,EAAIE,EAAI7E,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAEpGkb,EAAgBoD,EAAIzE,EAAiB5C,GAAgB,IAGnC,EAAhBsH,GACF1F,EAAmBc,EAAW,IAEhB,GAAZ9a,GACFoc,EAAcuD,EAAI7E,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KAK7F0e,EAAuB,CAACJ,EAAIE,EAAI7E,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KAC7Gse,EAAKA,GAAM9pB,GACXgqB,EAAKA,GAAMhqB,GACX,MAAMmqB,EAAYL,EAAG77B,OACfm8B,EAAYJ,EAAG/7B,OACfo8B,EAAeC,KAAKC,IAAIJ,EAAWC,GACzC,IAAIp8B,EACJ,IAAKA,EAAI,EAAGA,EAAIq8B,EAAcr8B,IAAK,CACjC,MAAMw8B,EAAYR,EAAGh8B,GAAKwd,EAAY0b,GAAe8C,EAAGh8B,IAAMuc,GAAeyf,EAAGh8B,IAChFg3B,EAAM8E,EAAG97B,GAAIw8B,EAAWrF,EAAW,KAAME,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAE7F2e,EAAYC,EACd1D,EAAgBoD,EAAIzE,EAAiB5C,GAAgB,GAAM,EAAO4H,GAElE5D,EAAcuD,EAAI7E,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,EAAW6e,IAGpGJ,EAAqB,CAACH,EAAIE,EAAI7E,EAAWsF,EAAcpF,EAAiB5C,EAAgBL,EAAOnK,EAAczM,KACjH,IAAIxd,EAAI,EACR,MAAM08B,EAAKV,EAAG/7B,OACd,IAAI08B,EAAKb,EAAG77B,OAAS,EACjB28B,EAAKF,EAAK,EACd,MAAO18B,GAAK28B,GAAM38B,GAAK48B,EAAI,CACzB,MAAM3F,EAAK6E,EAAG97B,GACRk3B,EAAK8E,EAAGh8B,GAAKwd,EAAY0b,GAAe8C,EAAGh8B,IAAMuc,GAAeyf,EAAGh8B,IACzE,IAAIyjB,GAAgBwT,EAAIC,GAGtB,MAFAF,EAAMC,EAAIC,EAAIC,EAAW,KAAME,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAIvFxd,IAEF,MAAOA,GAAK28B,GAAM38B,GAAK48B,EAAI,CACzB,MAAM3F,EAAK6E,EAAGa,GACRzF,EAAK8E,EAAGY,GAAMpf,EAAY0b,GAAe8C,EAAGY,IAAOrgB,GAAeyf,EAAGY,IAC3E,IAAInZ,GAAgBwT,EAAIC,GAGtB,MAFAF,EAAMC,EAAIC,EAAIC,EAAW,KAAME,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GAIvFmf,IACAC,IAEF,GAAI58B,EAAI28B,GACN,GAAI38B,GAAK48B,EAAI,CACX,MAAMC,EAAUD,EAAK,EACfxF,EAASyF,EAAUH,EAAKV,EAAGa,GAASnqB,GAAK+pB,EAC/C,MAAOz8B,GAAK48B,EACV5F,EAAM,KAAMgF,EAAGh8B,GAAKwd,EAAY0b,GAAe8C,EAAGh8B,IAAMuc,GAAeyf,EAAGh8B,IAAKm3B,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GACxJxd,UAGC,GAAIA,EAAI48B,EACb,MAAO58B,GAAK28B,EACVnF,EAAQsE,EAAG97B,GAAIq3B,EAAiB5C,GAAgB,GAChDz0B,QAEG,CACL,MAAMf,EAAKe,EACLd,EAAKc,EACL88B,EAAmC,IAAIn2B,IAC7C,IAAK3G,EAAId,EAAIc,GAAK48B,EAAI58B,IAAK,CACzB,MAAMw8B,EAAYR,EAAGh8B,GAAKwd,EAAY0b,GAAe8C,EAAGh8B,IAAMuc,GAAeyf,EAAGh8B,IAC3D,MAAjBw8B,EAAU/6B,KACZq7B,EAAiBp2B,IAAI81B,EAAU/6B,IAAKzB,GAGxC,IAAIspB,EACAyT,EAAU,EACd,MAAMC,EAAcJ,EAAK19B,EAAK,EAC9B,IAAI+9B,GAAQ,EACRC,EAAmB,EACvB,MAAMC,EAAwB,IAAIv7B,MAAMo7B,GACxC,IAAKh9B,EAAI,EAAGA,EAAIg9B,EAAah9B,IAC3Bm9B,EAAsBn9B,GAAK,EAC7B,IAAKA,EAAIf,EAAIe,GAAK28B,EAAI38B,IAAK,CACzB,MAAMo9B,EAAYtB,EAAG97B,GACrB,GAAI+8B,GAAWC,EAAa,CAC1BxF,EAAQ4F,EAAW/F,EAAiB5C,GAAgB,GACpD,SAEF,IAAI4I,EACJ,GAAqB,MAAjBD,EAAU37B,IACZ47B,EAAWP,EAAiBr2B,IAAI22B,EAAU37B,UAE1C,IAAK6nB,EAAIpqB,EAAIoqB,GAAKsT,EAAItT,IACpB,GAAsC,IAAlC6T,EAAsB7T,EAAIpqB,IAAaukB,GAAgB2Z,EAAWpB,EAAG1S,IAAK,CAC5E+T,EAAW/T,EACX,WAIW,IAAb+T,EACF7F,EAAQ4F,EAAW/F,EAAiB5C,GAAgB,IAEpD0I,EAAsBE,EAAWn+B,GAAMc,EAAI,EACvCq9B,GAAYH,EACdA,EAAmBG,EAEnBJ,GAAQ,EAEVjG,EAAMoG,EAAWpB,EAAGqB,GAAWlG,EAAW,KAAME,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GACtGuf,KAGJ,MAAMO,EAA6BL,EAAQM,GAAYJ,GAAyBnrB,GAEhF,IADAsX,EAAIgU,EAA2Br9B,OAAS,EACnCD,EAAIg9B,EAAc,EAAGh9B,GAAK,EAAGA,IAAK,CACrC,MAAMw9B,EAAYt+B,EAAKc,EACjBw8B,EAAYR,EAAGwB,GACfpG,EAASoG,EAAY,EAAId,EAAKV,EAAGwB,EAAY,GAAG9qB,GAAK+pB,EAC1B,IAA7BU,EAAsBn9B,GACxBg3B,EAAM,KAAMwF,EAAWrF,EAAWC,EAAQC,EAAiB5C,EAAgBL,EAAOnK,EAAczM,GACvFyf,IACL3T,EAAI,GAAKtpB,IAAMs9B,EAA2BhU,GAC5CmU,EAAKjB,EAAWrF,EAAWC,EAAQ,GAEnC9N,QAMJmU,EAAO,CAACroB,EAAO+hB,EAAWC,EAAQsG,EAAUjJ,EAAiB,QACjE,MAAM,GAAE/hB,EAAE,KAAEnM,EAAI,WAAE6W,EAAU,SAAEM,EAAQ,UAAErB,GAAcjH,EACtD,GAAgB,EAAZiH,EAEF,YADAohB,EAAKroB,EAAMwI,UAAUU,QAAS6Y,EAAWC,EAAQsG,GAGnD,GAAgB,IAAZrhB,EAEF,YADAjH,EAAMsJ,SAAS+e,KAAKtG,EAAWC,EAAQsG,GAGzC,GAAgB,GAAZrhB,EAEF,YADA9V,EAAKk3B,KAAKroB,EAAO+hB,EAAWC,EAAQc,GAGtC,GAAI3xB,IAASkf,GAAU,CACrB+P,EAAW9iB,EAAIykB,EAAWC,GAC1B,IAAK,IAAIp3B,EAAI,EAAGA,EAAI0d,EAASzd,OAAQD,IACnCy9B,EAAK/f,EAAS1d,GAAIm3B,EAAWC,EAAQsG,GAGvC,YADAlI,EAAWpgB,EAAMgiB,OAAQD,EAAWC,GAGtC,GAAI7wB,IAASqxB,GAEX,YADAO,EAAe/iB,EAAO+hB,EAAWC,GAGnC,MAAMuG,EAA8B,IAAbD,GAA8B,EAAZrhB,GAAiBe,EAC1D,GAAIugB,EACF,GAAiB,IAAbD,EACFtgB,EAAW0b,YAAYpmB,GACvB8iB,EAAW9iB,EAAIykB,EAAWC,GAC1B9W,GAAsB,IAAMlD,EAAW4b,MAAMtmB,GAAK+hB,OAC7C,CACL,MAAM,MAAEmJ,EAAK,WAAE/Z,EAAU,WAAEF,GAAevG,EACpCygB,EAAU,IAAMrI,EAAW9iB,EAAIykB,EAAWC,GAC1C0G,EAAe,KACnBF,EAAMlrB,EAAI,KACRmrB,IACAla,GAAcA,OAGdE,EACFA,EAAWnR,EAAImrB,EAASC,GAExBA,SAIJtI,EAAW9iB,EAAIykB,EAAWC,IAGxBI,EAAU,CAACpiB,EAAOiiB,EAAiB5C,EAAgBsJ,GAAW,EAAOvgB,GAAY,KACrF,MAAM,KAAEjX,EAAI,MAAEuK,EAAK,IAAExC,EAAG,SAAEoP,EAAQ,gBAAE4Z,EAAe,UAAEjb,EAAS,UAAE0B,EAAS,KAAEb,GAAS9H,EAIpF,GAHW,MAAP9G,GACFgmB,GAAOhmB,EAAK,KAAMmmB,EAAgBrf,GAAO,GAE3B,IAAZiH,EAEF,YADAgb,EAAgBtc,IAAIijB,WAAW5oB,GAGjC,MAAM6oB,EAA+B,EAAZ5hB,GAAiBa,EACpCghB,GAAyBtY,GAAexQ,GAC9C,IAAIojB,EAIJ,GAHI0F,IAA0B1F,EAAY1nB,GAASA,EAAMqtB,uBACvDvF,GAAgBJ,EAAWnB,EAAiBjiB,GAE9B,EAAZiH,EACF+hB,EAAiBhpB,EAAMwI,UAAW6W,EAAgBsJ,OAC7C,CACL,GAAgB,IAAZ1hB,EAEF,YADAjH,EAAMsJ,SAAS8Y,QAAQ/C,EAAgBsJ,GAGrCE,GACFhW,GAAoB7S,EAAO,KAAMiiB,EAAiB,iBAEpC,GAAZhb,EACFjH,EAAM7O,KAAKkM,OAAO2C,EAAOiiB,EAAiB5C,EAAgBjX,EAAW0a,EAAW6F,GACvEzG,IAAoB/wB,IAASkf,IAAY1H,EAAY,GAAiB,GAAZA,GACnE2a,EAAgBpB,EAAiBD,EAAiB5C,GAAgB,GAAO,IAChEluB,IAASkf,IAAwB,IAAZ1H,IAA4BP,GAAyB,GAAZnB,IACvEqc,EAAgBhb,EAAU2Z,EAAiB5C,GAEzCsJ,GACF/Y,EAAQ5P,IAGR8oB,IAA0B1F,EAAY1nB,GAASA,EAAMutB,mBAAqBJ,IAC5E3d,GAAsB,KACpBkY,GAAaI,GAAgBJ,EAAWnB,EAAiBjiB,GACzD6oB,GAAoBhW,GAAoB7S,EAAO,KAAMiiB,EAAiB,cACrE5C,IAGDzP,EAAW5P,IACf,MAAM,KAAE7O,EAAI,GAAEmM,EAAE,OAAE0kB,EAAM,WAAEha,GAAehI,EACzC,GAAI7O,IAASkf,GAIX,YAFE6Y,EAAe5rB,EAAI0kB,GAIvB,GAAI7wB,IAASqxB,GAEX,YADAS,EAAiBjjB,GAGnB,MAAMmpB,EAAgB,KACpB9I,EAAW/iB,GACP0K,IAAeA,EAAWwE,WAAaxE,EAAWuG,YACpDvG,EAAWuG,cAGf,GAAsB,EAAlBvO,EAAMiH,WAAiBe,IAAeA,EAAWwE,UAAW,CAC9D,MAAM,MAAEgc,EAAK,WAAE/Z,GAAezG,EACxB0gB,EAAe,IAAMF,EAAMlrB,EAAI6rB,GACjC1a,EACFA,EAAWzO,EAAM1C,GAAI6rB,EAAeT,GAEpCA,SAGFS,KAGED,EAAiB,CAACjpB,EAAKiC,KAC3B,IAAI8gB,EACJ,MAAO/iB,IAAQiC,EACb8gB,EAAQ3B,EAAgBphB,GACxBogB,EAAWpgB,GACXA,EAAM+iB,EAER3C,EAAWne,IAEP8mB,EAAmB,CAACtpB,EAAW2f,EAAgBsJ,KACnD,MAAM,IAAES,EAAG,MAAEl6B,EAAOsf,OAAQiY,EAAO,QAAEvd,EAAO,GAAEmgB,GAAO3pB,EACjD0pB,GACFvqB,GAAeuqB,GAEjBl6B,EAAML,OACF43B,IACFA,EAAQv4B,QAAS,EACjBk0B,EAAQlZ,EAASxJ,EAAW2f,EAAgBsJ,IAE1CU,GACFne,GAAsBme,EAAIhK,GAE5BnU,GAAsB,KACpBxL,EAAUoE,aAAc,GACvBub,GACCA,GAAkBA,EAAe9V,gBAAkB8V,EAAevb,aAAepE,EAAU8lB,WAAa9lB,EAAUkmB,eAAiBlmB,EAAU4pB,aAAejK,EAAekK,YAC7KlK,EAAe1vB,OACa,IAAxB0vB,EAAe1vB,MACjB0vB,EAAe5d,YAIf6hB,EAAkB,CAAChb,EAAU2Z,EAAiB5C,EAAgBsJ,GAAW,EAAOvgB,GAAY,EAAOnG,EAAS,KAChH,IAAK,IAAIrX,EAAIqX,EAAQrX,EAAI0d,EAASzd,OAAQD,IACxCw3B,EAAQ9Z,EAAS1d,GAAIq3B,EAAiB5C,EAAgBsJ,EAAUvgB,IAG9D+Z,EAAmBniB,GACD,EAAlBA,EAAMiH,UACDkb,EAAgBniB,EAAMwI,UAAUU,SAEnB,IAAlBlJ,EAAMiH,UACDjH,EAAMsJ,SAAS7f,OAEjB43B,EAAgBrhB,EAAMgiB,QAAUhiB,EAAM1C,IAEzCsJ,EAAU,CAAC5G,EAAO+hB,EAAW/C,KACpB,MAAThf,EACE+hB,EAAUyH,QACZpH,EAAQL,EAAUyH,OAAQ,KAAM,MAAM,GAGxC5H,EAAMG,EAAUyH,QAAU,KAAMxpB,EAAO+hB,EAAW,KAAM,KAAM,KAAM/C,GAEtE3b,KACA0e,EAAUyH,OAASxpB,GAEf8iB,EAAY,CAChB2G,EAAG7H,EACHyH,GAAIjH,EACJxI,EAAGyO,EACHhvB,EAAGuW,EACH8Z,GAAIxE,EACJyE,GAAItG,EACJuG,GAAIvF,EACJwF,IAAKzF,EACL35B,EAAG03B,EACH2H,EAAG1kB,GAEL,IAAI0Y,EACAwI,EAIJ,OAHIrG,KACDnC,EAASwI,GAAerG,EAAmB6C,IAEvC,CACLnc,OAAQC,EACRkX,UACAiM,UAAWlM,GAAajX,EAASkX,IAGrC,SAASmG,IAAc,OAAEh1B,EAAQuf,OAAQiY,GAAWuD,GAClD/6B,EAAOqD,aAAem0B,EAAQn0B,aAAe03B,EAE/C,SAAShF,GAAuBnD,EAAIC,EAAIruB,GAAU,GAChD,MAAMw2B,EAAMpI,EAAGvZ,SACT4hB,EAAMpI,EAAGxZ,SACf,GAAI3N,GAAUsvB,IAAQtvB,GAAUuvB,GAC9B,IAAK,IAAIt/B,EAAI,EAAGA,EAAIq/B,EAAIp/B,OAAQD,IAAK,CACnC,MAAM87B,EAAKuD,EAAIr/B,GACf,IAAIg8B,EAAKsD,EAAIt/B,GACM,EAAfg8B,EAAG3f,YAAkB2f,EAAG1E,mBACtB0E,EAAGje,WAAa,GAAsB,KAAjBie,EAAGje,aAC1Bie,EAAKsD,EAAIt/B,GAAKk5B,GAAeoG,EAAIt/B,IACjCg8B,EAAGtpB,GAAKopB,EAAGppB,IAER7J,GACHuxB,GAAuB0B,EAAIE,KAKrC,SAASuB,GAAY/0B,GACnB,MAAMyO,EAAKzO,EAAIhG,QACTuH,EAAS,CAAC,GAChB,IAAI/J,EAAGspB,EAAG8R,EAAG7wB,EAAGvL,EAChB,MAAMugC,EAAM/2B,EAAIvI,OAChB,IAAKD,EAAI,EAAGA,EAAIu/B,EAAKv/B,IAAK,CACxB,MAAMw/B,EAAOh3B,EAAIxI,GACjB,GAAa,IAATw/B,EAAY,CAEd,GADAlW,EAAIvf,EAAOA,EAAO9J,OAAS,GACvBuI,EAAI8gB,GAAKkW,EAAM,CACjBvoB,EAAGjX,GAAKspB,EACRvf,EAAOnG,KAAK5D,GACZ,SAEFo7B,EAAI,EACJ7wB,EAAIR,EAAO9J,OAAS,EACpB,MAAOm7B,EAAI7wB,EACTvL,EAAIo8B,EAAI7wB,GAAK,EACT/B,EAAIuB,EAAO/K,IAAMwgC,EACnBpE,EAAIp8B,EAAI,EAERuL,EAAIvL,EAGJwgC,EAAOh3B,EAAIuB,EAAOqxB,MAChBA,EAAI,IACNnkB,EAAGjX,GAAK+J,EAAOqxB,EAAI,IAErBrxB,EAAOqxB,GAAKp7B,IAIlBo7B,EAAIrxB,EAAO9J,OACXsK,EAAIR,EAAOqxB,EAAI,GACf,MAAOA,KAAM,EACXrxB,EAAOqxB,GAAK7wB,EACZA,EAAI0M,EAAG1M,GAET,OAAOR,EAET,MAAM01B,GAAcl5B,GAASA,EAAKm5B,aAC5Bja,GAAWhgB,YAAO,GAClBgyB,GAAOhyB,YAAO,GACdmX,GAAUnX,YAAO,GACjBmyB,GAASnyB,YAAO,GAChBiX,GAAa,GACnB,IAAIijB,GAAe,KACnB,SAAShW,GAAUiW,GAAkB,GACnCljB,GAAW9Y,KAAK+7B,GAAeC,EAAkB,KAAO,IAE1D,SAASC,KACPnjB,GAAWvY,MACXw7B,GAAejjB,GAAWA,GAAWzc,OAAS,IAAM,KAEtD,IAAI6/B,GAAqB,EACzB,SAAS1kB,GAAiB9Y,GACxBw9B,IAAsBx9B,EAExB,SAASy9B,GAAW3qB,GAMlB,OALAA,EAAMkiB,gBAAkBwI,GAAqB,EAAIH,IAAgB3tB,GAAY,KAC7E6tB,KACIC,GAAqB,GAAKH,IAC5BA,GAAa/7B,KAAKwR,GAEbA,EAET,SAAS4qB,GAAmBz5B,EAAMuK,EAAO4M,EAAUK,EAAWI,EAAc9B,GAC1E,OAAO0jB,GAAWE,GAAgB15B,EAAMuK,EAAO4M,EAAUK,EAAWI,EAAc9B,GAAW,IAE/F,SAAS0N,GAAYxjB,EAAMuK,EAAO4M,EAAUK,EAAWI,GACrD,OAAO4hB,GAAWpjB,GAAYpW,EAAMuK,EAAO4M,EAAUK,EAAWI,GAAc,IAEhF,SAASgM,GAAQ7nB,GACf,QAAOA,IAA8B,IAAtBA,EAAM49B,YAEvB,SAASzc,GAAgBwT,EAAIC,GAC3B,OAAOD,EAAG1wB,OAAS2wB,EAAG3wB,MAAQ0wB,EAAGx1B,MAAQy1B,EAAGz1B,IAE9C,MAAMquB,GAAoB,cACpBqQ,GAAe,EAAG1+B,SAAiB,MAAPA,EAAcA,EAAM,KAChD2+B,GAAe,EAAG9xB,MAAK+xB,UAASC,aACtB,MAAPhyB,EAAc4B,GAAW5B,IAAQjF,GAAMiF,IAAQ8C,GAAa9C,GAAO,CAAEtO,EAAGya,GAA0BhM,EAAGH,EAAK4mB,EAAGmL,EAASjhC,IAAKkhC,GAAYhyB,EAAM,KAEtJ,SAAS2xB,GAAgB15B,EAAMuK,EAAQ,KAAM4M,EAAW,KAAMK,EAAY,EAAGI,EAAe,KAAM9B,GAAY9V,IAASkf,GAAW,EAAI,GAAG8a,GAAc,EAAOC,GAAgC,GAC5L,MAAMprB,EAAQ,CACZ8qB,aAAa,EACbO,UAAU,EACVl6B,OACAuK,QACArP,IAAKqP,GAASqvB,GAAarvB,GAC3BxC,IAAKwC,GAASsvB,GAAatvB,GAC3BkZ,QAAStP,GACTuP,aAAc,KACdvM,WACAE,UAAW,KACXc,SAAU,KACVyG,UAAW,KACXE,WAAY,KACZnI,KAAM,KACNE,WAAY,KACZ1K,GAAI,KACJ0kB,OAAQ,KACR9wB,OAAQ,KACRo6B,aAAc,KACdC,YAAa,EACbtkB,YACA0B,YACAI,eACAmZ,gBAAiB,KACjB3hB,WAAY,MAad,OAXI6qB,GACFI,GAAkBxrB,EAAOsI,GACT,IAAZrB,GACF9V,EAAKs6B,UAAUzrB,IAERsI,IACTtI,EAAMiH,WAAanM,GAAWwN,GAAY,EAAI,IAE5CoiB,GAAqB,IAAMS,GAAeZ,KAAiBvqB,EAAM2I,UAAY,GAAiB,EAAZ1B,IAAsC,KAApBjH,EAAM2I,WAC5G4hB,GAAa/7B,KAAKwR,GAEbA,EAET,MAAMuH,GAAcmkB,GACpB,SAASA,GAAav6B,EAAMuK,EAAQ,KAAM4M,EAAW,KAAMK,EAAY,EAAGI,EAAe,KAAMoiB,GAAc,GAI3G,GAHKh6B,GAAQA,IAASkiB,KACpBliB,EAAOqW,IAELuN,GAAQ5jB,GAAO,CACjB,MAAMw6B,EAAS9jB,GAAW1W,EAAMuK,GAAO,GAYvC,OAXI4M,GACFkjB,GAAkBG,EAAQrjB,GAExBoiB,GAAqB,IAAMS,GAAeZ,KACrB,EAAnBoB,EAAO1kB,UACTsjB,GAAaA,GAAahtB,QAAQpM,IAASw6B,EAE3CpB,GAAa/7B,KAAKm9B,IAGtBA,EAAOhjB,YAAc,EACdgjB,EAKT,GAHIC,GAAiBz6B,KACnBA,EAAOA,EAAK06B,WAEVnwB,EAAO,CACTA,EAAQowB,GAAmBpwB,GAC3B,IAAMC,MAAOC,EAAK,MAAEC,GAAUH,EAC1BE,IAAUd,GAAWc,KACvBF,EAAMC,MAAQJ,GAAeK,IAE3BZ,GAAWa,KACT/C,GAAQ+C,KAAWlB,GAAUkB,KAC/BA,EAAQuB,GAAS,GAAIvB,IAEvBH,EAAMG,MAAQnB,GAAemB,IAGjC,MAAMoL,EAAYnM,GAAW3J,GAAQ,EAAIgY,GAAWhY,GAAQ,IAAMk5B,GAAWl5B,GAAQ,GAAK6J,GAAW7J,GAAQ,EAAI6K,GAAa7K,GAAQ,EAAI,EAC1I,OAAO05B,GAAgB15B,EAAMuK,EAAO4M,EAAUK,EAAWI,EAAc9B,EAAWkkB,GAAa,GAEjG,SAASW,GAAmBpwB,GAC1B,OAAKA,EAEE5C,GAAQ4C,IAAUgf,MAAqBhf,EAAQ0B,GAAS,GAAI1B,GAASA,EADnE,KAGX,SAASmM,GAAW7H,EAAO+rB,EAAYC,GAAW,GAChD,MAAM,MAAEtwB,EAAK,IAAExC,EAAG,UAAEyP,EAAS,SAAEL,GAAatI,EACtCisB,EAAcF,EAAaG,GAAWxwB,GAAS,GAAIqwB,GAAcrwB,EACjEiwB,EAAS,CACbb,aAAa,EACbO,UAAU,EACVl6B,KAAM6O,EAAM7O,KACZuK,MAAOuwB,EACP5/B,IAAK4/B,GAAelB,GAAakB,GACjC/yB,IAAK6yB,GAAcA,EAAW7yB,IAAM8yB,GAAY9yB,EAAMyB,GAAUzB,GAAOA,EAAI6O,OAAOijB,GAAae,IAAe,CAAC7yB,EAAK8xB,GAAae,IAAef,GAAae,GAAc7yB,EAC3K0b,QAAS5U,EAAM4U,QACfC,aAAc7U,EAAM6U,aACpBvM,WACApX,OAAQ8O,EAAM9O,OACdo6B,aAActrB,EAAMsrB,aACpBC,YAAavrB,EAAMurB,YACnBtkB,UAAWjH,EAAMiH,UACjB0B,UAAWojB,GAAc/rB,EAAM7O,OAASkf,IAA0B,IAAf1H,EAAmB,GAAiB,GAAZA,EAAiBA,EAC5FI,aAAc/I,EAAM+I,aACpBmZ,gBAAiBliB,EAAMkiB,gBACvB3hB,WAAYP,EAAMO,WAClBuH,KAAM9H,EAAM8H,KACZE,WAAYhI,EAAMgI,WAClBQ,UAAWxI,EAAMwI,UACjBc,SAAUtJ,EAAMsJ,SAChByG,UAAW/P,EAAM+P,WAAalI,GAAW7H,EAAM+P,WAC/CE,WAAYjQ,EAAMiQ,YAAcpI,GAAW7H,EAAMiQ,YACjD3S,GAAI0C,EAAM1C,GACV0kB,OAAQhiB,EAAMgiB,QAEhB,OAAO2J,EAET,SAASQ,GAAgBC,EAAQ,IAAKC,EAAO,GAC3C,OAAO9kB,GAAY8a,GAAM,KAAM+J,EAAOC,GAExC,SAASC,GAAmBF,EAAQ,GAAIG,GAAU,GAChD,OAAOA,GAAWhY,KAAaI,GAAYnN,GAAS,KAAM4kB,IAAU7kB,GAAYC,GAAS,KAAM4kB,GAEjG,SAASjlB,GAAesG,GACtB,OAAa,MAATA,GAAkC,mBAAVA,EACnBlG,GAAYC,IACV7M,GAAU8S,GACZlG,GACL8I,GACA,KACA5C,EAAMrgB,SAEkB,kBAAVqgB,EACTqW,GAAerW,GAEflG,GAAY8a,GAAM,KAAM13B,OAAO8iB,IAG1C,SAASqW,GAAerW,GACtB,OAAoB,OAAbA,EAAMnQ,IAAemQ,EAAM+e,KAAO/e,EAAQ5F,GAAW4F,GAE9D,SAAS+d,GAAkBxrB,EAAOsI,GAChC,IAAInX,EAAO,EACX,MAAM,UAAE8V,GAAcjH,EACtB,GAAgB,MAAZsI,EACFA,EAAW,UACN,GAAI3N,GAAU2N,GACnBnX,EAAO,QACF,GAAwB,kBAAbmX,EAAuB,CACvC,GAAgB,GAAZrB,EAAsB,CACxB,MAAMgN,EAAO3L,EAASiF,QAMtB,YALI0G,IACFA,EAAK/N,KAAO+N,EAAKlO,IAAK,GACtBylB,GAAkBxrB,EAAOiU,KACzBA,EAAK/N,KAAO+N,EAAKlO,IAAK,KAGnB,CACL5U,EAAO,GACP,MAAMs7B,EAAWnkB,EAASjK,EACrBouB,GAAc/R,MAAqBpS,EAEhB,IAAbmkB,GAAkBpnB,KACc,IAArCA,GAAyBkB,MAAMlI,EACjCiK,EAASjK,EAAI,GAEbiK,EAASjK,EAAI,EACb2B,EAAM2I,WAAa,OANrBL,EAAS0U,KAAO3X,SAUXrJ,GAAasM,IACtBA,EAAW,CAAEiF,QAASjF,EAAU0U,KAAM3X,IACtClU,EAAO,KAEPmX,EAAW3d,OAAO2d,GACF,GAAZrB,GACF9V,EAAO,GACPmX,EAAW,CAAC6jB,GAAgB7jB,KAE5BnX,EAAO,GAGX6O,EAAMsI,SAAWA,EACjBtI,EAAMiH,WAAa9V,EAErB,SAAS+6B,MAAc/4B,GACrB,MAAMiI,EAAM,GACZ,IAAK,IAAIxQ,EAAI,EAAGA,EAAIuI,EAAKtI,OAAQD,IAAK,CACpC,MAAM8hC,EAAUv5B,EAAKvI,GACrB,IAAK,MAAMyB,KAAOqgC,EAChB,GAAY,UAARrgC,EACE+O,EAAIO,QAAU+wB,EAAQ/wB,QACxBP,EAAIO,MAAQJ,GAAe,CAACH,EAAIO,MAAO+wB,EAAQ/wB,cAE5C,GAAY,UAARtP,EACT+O,EAAIS,MAAQnB,GAAe,CAACU,EAAIS,MAAO6wB,EAAQ7wB,aAC1C,GAAImB,GAAO3Q,GAAM,CACtB,MAAMwzB,EAAWzkB,EAAI/O,GACfsgC,EAAWD,EAAQrgC,IACrBsgC,GAAY9M,IAAa8M,GAAchyB,GAAUklB,IAAaA,EAASrd,SAASmqB,KAClFvxB,EAAI/O,GAAOwzB,EAAW,GAAG9X,OAAO8X,EAAU8M,GAAYA,OAEvC,KAARtgC,IACT+O,EAAI/O,GAAOqgC,EAAQrgC,IAIzB,OAAO+O,EAET,SAASooB,GAAgBvU,EAAMvP,EAAWM,EAAOkI,EAAY,MAC3DrI,GAA2BoP,EAAMvP,EAAW,EAAG,CAC7CM,EACAkI,IAGJ,MAAM0kB,GAAkBtP,KACxB,IAAIuP,GAAQ,EACZ,SAASxH,GAAwBrlB,EAAO3R,EAAQib,GAC9C,MAAMnY,EAAO6O,EAAM7O,KACboP,GAAclS,EAASA,EAAOkS,WAAaP,EAAMO,aAAeqsB,GAChEltB,EAAY,CAChBke,IAAKiP,KACL7sB,QACA7O,OACA9C,SACAkS,aACAkH,KAAM,KACNhe,KAAM,KACNyf,QAAS,KACTja,OAAQ,KACRuf,OAAQ,KACRtf,MAAO,IAAIlB,GAAY,GACvB2Y,OAAQ,KACRhO,MAAO,KACPugB,QAAS,KACT4T,YAAa,KACbzmB,UAAW,KACXqD,SAAUrb,EAASA,EAAOqb,SAAWle,OAAOC,OAAO8U,EAAWmJ,UAC9D0M,YAAa,KACbvP,YAAa,GACbyR,WAAY,KACZlG,WAAY,KACZ9L,aAAcqV,GAAsBxqB,EAAMoP,GAC1CqI,aAAcrE,GAAsBpT,EAAMoP,GAC1CkG,KAAM,KACNnC,QAAS,KACTqW,cAAehe,GACfoK,aAAc5V,EAAK4V,aACnBpB,IAAKhJ,GACLjS,KAAMiS,GACNjB,MAAOiB,GACP6J,MAAO7J,GACP4J,MAAO5J,GACP+Y,KAAM/Y,GACNmK,WAAYnK,GACZowB,aAAc,KACdzjB,WACAggB,WAAYhgB,EAAWA,EAASigB,UAAY,EAC5C/D,SAAU,KACVI,eAAe,EACfha,WAAW,EACX9H,aAAa,EACbmN,eAAe,EACf+b,GAAI,KACJpjC,EAAG,KACHw8B,GAAI,KACJxM,EAAG,KACHmM,GAAI,KACJC,EAAG,KACHqD,GAAI,KACJD,IAAK,KACL6D,GAAI,KACJzpB,EAAG,KACH0pB,IAAK,KACLC,IAAK,KACL9sB,GAAI,KACJ+sB,GAAI,MAUN,OAPE1tB,EAAUiG,IAAM,CAAEtH,EAAGqB,GAEvBA,EAAU+H,KAAOpZ,EAASA,EAAOoZ,KAAO/H,EACxCA,EAAU+G,KAAO9C,GAAO7B,KAAK,KAAMpC,GAC/BM,EAAMqtB,IACRrtB,EAAMqtB,GAAG3tB,GAEJA,EAET,IAAI+J,GAAkB,KACtB,MAAM4D,GAAqB,IAAM5D,IAAmBpE,GAC9CiG,GAAsB5L,IAC1B+J,GAAkB/J,EAClBA,EAAUxQ,MAAMo+B,MAEZ/hB,GAAuB,KAC3B9B,IAAmBA,GAAgBva,MAAMq+B,MACzC9jB,GAAkB,MAEpB,SAASwL,GAAoBvV,GAC3B,OAAmC,EAA5BA,EAAUM,MAAMiH,UAEzB,IAsDIumB,GAtDAviB,IAAwB,EAC5B,SAASsa,GAAe7lB,EAAW5F,GAAQ,GACzCmR,GAAwBnR,EACxB,MAAM,MAAE4B,EAAK,SAAE4M,GAAa5I,EAAUM,MAChCya,EAAaxF,GAAoBvV,GACvC8a,GAAU9a,EAAWhE,EAAO+e,EAAY3gB,GACxCojB,GAAUxd,EAAW4I,GACrB,MAAMmlB,EAAchT,EAAaiT,GAAuBhuB,EAAW5F,QAAS,EAE5E,OADAmR,IAAwB,EACjBwiB,EAET,SAASC,GAAuBhuB,EAAW5F,GACzC,MAAMsM,EAAY1G,EAAUvO,KAC5BuO,EAAU0W,YAA8B5qB,OAAOC,OAAO,MACtDiU,EAAU/G,MAAQK,GAAQ,IAAIJ,MAAM8G,EAAUiG,IAAKwQ,KACnD,MAAM,MAAE5F,GAAUnK,EAClB,GAAImK,EAAO,CACT,MAAMwc,EAAertB,EAAUqtB,aAAexc,EAAM1lB,OAAS,EAAI8iC,GAAmBjuB,GAAa,KACjG4L,GAAmB5L,GACnB3O,IACA,MAAM08B,EAAchuB,GAAsB8Q,EAAO7Q,EAAW,EAAG,CAACA,EAAUhE,MAAOqxB,IAGjF,GAFA/7B,IACAua,KACI5N,GAAU8vB,GAAc,CAE1B,GADAA,EAAY7vB,KAAK2N,GAAsBA,IACnCzR,EACF,OAAO2zB,EAAY7vB,KAAMgwB,IACvBC,GAAkBnuB,EAAWkuB,EAAgB9zB,KAC5C+D,MAAOiwB,IACRluB,GAAYkuB,EAAGpuB,EAAW,KAG5BA,EAAU8lB,SAAWiI,OAGvBI,GAAkBnuB,EAAW+tB,EAAa3zB,QAG5Ci0B,GAAqBruB,EAAW5F,GAGpC,SAAS+zB,GAAkBnuB,EAAW+tB,EAAa3zB,GAC7CkC,GAAayxB,GACX/tB,EAAUvO,KAAK68B,kBACjBtuB,EAAUuuB,UAAYR,EAEtB/tB,EAAUiH,OAAS8mB,EAEZzyB,GAAWyyB,KACpB/tB,EAAUoH,WAAarN,GAAUg0B,IAGnCM,GAAqBruB,EAAW5F,GAGlC,SAASi0B,GAAqBruB,EAAW5F,EAAOo0B,GAC9C,MAAM9nB,EAAY1G,EAAUvO,KAC5B,IAAKuO,EAAUiH,OAAQ,CACrB,IAAK7M,GAAS0zB,KAAYpnB,EAAUO,OAAQ,CAC1C,MAAMwnB,EAAW/nB,EAAU+nB,SAC3B,GAAIA,EAAU,CACZ,MAAM,gBAAEC,EAAe,gBAAEzQ,GAAoBje,EAAUa,WAAWC,QAC5D,WAAE6tB,EAAY1Q,gBAAiB2Q,GAA6BloB,EAC5DmoB,EAAuBnxB,GAASA,GAAS,CAC7CgxB,kBACAC,cACC1Q,GAAkB2Q,GACrBloB,EAAUO,OAAS6mB,GAAQW,EAAUI,IAGzC7uB,EAAUiH,OAASP,EAAUO,QAAU9J,GAGvCyO,GAAmB5L,GACnB3O,IACA6lB,GAAalX,GACb1O,IACAua,KAGJ,SAASijB,GAAiB9uB,GACxB,OAAO,IAAI9G,MAAM8G,EAAU8G,MAAO,CAChC,IAAItV,EAAQ7E,GAEV,OADA4E,EAAMyO,EAAW,MAAO,UACjBxO,EAAO7E,MAIpB,SAASshC,GAAmBjuB,GAC1B,MAAM2Y,EAAUa,IACdxZ,EAAUwZ,QAAUA,GAAW,IAEjC,IAAI1S,EAEF,MAAO,CACL,YACE,OAAOA,IAAUA,EAAQgoB,GAAiB9uB,KAE5C6G,MAAO7G,EAAU6G,MACjBE,KAAM/G,EAAU+G,KAChB4R,UAIN,SAAS/F,GAAe5S,GACtB,GAAIA,EAAUwZ,QACZ,OAAOxZ,EAAUotB,cAAgBptB,EAAUotB,YAAc,IAAIl0B,MAAMa,GAAUT,GAAQ0G,EAAUwZ,UAAW,CACxG,IAAIhoB,EAAQ7E,GACV,OAAIA,KAAO6E,EACFA,EAAO7E,GACLA,KAAO6oB,GACTA,GAAoB7oB,GAAKqT,QAD3B,MAOf,SAASgU,GAAiBtN,EAAWqoB,GAAkB,GACrD,OAAOzyB,GAAaoK,GAAaA,EAAUsoB,aAAetoB,EAAU5K,KAAO4K,EAAU5K,MAAQizB,GAAmBroB,EAAUuoB,OAE5H,SAAS/C,GAAiB1+B,GACxB,OAAO8O,GAAa9O,IAAU,cAAeA,EAE/C,MAAMkF,GAAW,CAACgI,EAAiBC,IAC1BF,GAAWC,EAAiBC,EAAc4Q,IAEnD,SAASlgB,GAAEoG,EAAMy9B,EAAiBtmB,GAChC,MAAM1Z,EAAImb,UAAUlf,OACpB,OAAU,IAAN+D,EACEoM,GAAW4zB,KAAqBj0B,GAAUi0B,GACxC7Z,GAAQ6Z,GACHrnB,GAAYpW,EAAM,KAAM,CAACy9B,IAE3BrnB,GAAYpW,EAAMy9B,GAElBrnB,GAAYpW,EAAM,KAAMy9B,IAG7BhgC,EAAI,EACN0Z,EAAW9b,MAAMN,UAAUkB,MAAMd,KAAKyd,UAAW,GAClC,IAANnb,GAAWmmB,GAAQzM,KAC5BA,EAAW,CAACA,IAEPf,GAAYpW,EAAMy9B,EAAiBtmB,IAG9C,MAAMmW,GAAU,SAChB,SAASoQ,GAAQxjC,EAAKC,GACpB,MAAMC,EAAsBC,OAAOC,OAAO,MACpCC,EAAOL,EAAIM,MAAM,KACvB,IAAK,IAAIf,EAAI,EAAGA,EAAIc,EAAKb,OAAQD,IAC/BW,EAAIG,EAAKd,KAAM,EAEjB,OAAOU,EAAoBM,KAAUL,EAAIK,EAAIC,eAAkBD,KAAUL,EAAIK,GAE/E,MAAMkjC,GAAsB,8EACtBC,GAAuCF,GAAQC,IACrD,SAASE,GAAmB9hC,GAC1B,QAASA,GAAmB,KAAVA,EAEpB,MAAM+hC,GAAO,YACPC,GAAQ7iC,GAAQ4iC,GAAKhyB,KAAK5Q,GAC1B8iC,GAAmB9iC,GAAQA,EAAI8Q,WAAW,aAC1CiyB,GAAS5jC,OAAOQ,OAChBS,GAAUD,MAAMC,QAChB4iC,GAAczjC,GAAuB,oBAARA,EAC7B0jC,GAAY1jC,GAAuB,kBAARA,EAC3B2jC,GAAY3jC,GAAgB,OAARA,GAA+B,kBAARA,EAC3C4jC,GAAuB/gC,IAC3B,MAAMuP,EAAwBxS,OAAOC,OAAO,MAC5C,OAAQJ,IACN,MAAM4S,EAAMD,EAAM3S,GAClB,OAAO4S,IAAQD,EAAM3S,GAAOoD,EAAGpD,MAG7BokC,GAAa,SACbC,GAAWF,GAAqBnkC,GAC7BA,EAAI+S,QAAQqxB,GAAY,CAACpxB,EAAGzU,IAAMA,EAAIA,EAAE0U,cAAgB,KAE3DqxB,GAAc,aACdC,GAAYJ,GAAqBnkC,GAAQA,EAAI+S,QAAQuxB,GAAa,OAAO9jC,eACzEgkC,GAAaL,GAAqBnkC,GAAQA,EAAIqT,OAAO,GAAGJ,cAAgBjT,EAAI+B,MAAM,IAClF0iC,GAAYlkC,IAChB,MAAMnB,EAAIyU,WAAWtT,GACrB,OAAOuT,MAAM1U,GAAKmB,EAAMnB,GAEpBslC,GAAQ,6BACRC,GAA0B,qBAAbC,SAA2BA,SAAW,KACnDC,GAAoBF,IAAuBA,GAAIxP,cAAc,YAC7D2P,GAAU,CACdhQ,OAAQ,CAAC1S,EAAOpf,EAAQ2zB,KACtB3zB,EAAO+hC,aAAa3iB,EAAOuU,GAAU,OAEvC3kB,OAASoQ,IACP,MAAMpf,EAASof,EAAMyT,WACjB7yB,GACFA,EAAOgiC,YAAY5iB,IAGvB+S,cAAe,CAAC8P,EAAKtR,EAAOvxB,EAAIiO,KAC9B,MAAM4B,EAAK0hB,EAAQgR,GAAIO,gBAAgBR,GAAOO,GAAON,GAAIxP,cAAc8P,EAAK7iC,EAAK,CAAEA,WAAO,GAI1F,MAHY,WAAR6iC,GAAoB50B,GAA2B,MAAlBA,EAAM80B,UACrClzB,EAAGmzB,aAAa,WAAY/0B,EAAM80B,UAE7BlzB,GAETojB,WAAa0L,GAAU4D,GAAIU,eAAetE,GAC1CxL,cAAgBwL,GAAU4D,GAAIpP,cAAcwL,GAC5CtL,QAAS,CAAC6P,EAAMvE,KACduE,EAAKC,UAAYxE,GAEnBpL,eAAgB,CAAC1jB,EAAI8uB,KACnB9uB,EAAGuzB,YAAczE,GAEnBlL,WAAayP,GAASA,EAAKzP,WAC3BE,YAAcuP,GAASA,EAAKvP,YAC5B0P,cAAgBC,GAAaf,GAAIc,cAAcC,GAC/C,WAAWzzB,EAAI0E,GACb1E,EAAGmzB,aAAazuB,EAAI,KAEtB,UAAU1E,GACR,MAAMquB,EAASruB,EAAGkkB,WAAU,GAI5B,MAHI,WAAYlkB,IACdquB,EAAOzxB,OAASoD,EAAGpD,QAEdyxB,GAET,oBAAoBqF,EAAS3iC,EAAQ2zB,EAAQhD,EAAO/c,EAAQC,GAC1D,MAAM+uB,EAASjP,EAASA,EAAOkP,gBAAkB7iC,EAAO8iC,UACxD,GAAIlvB,IAAWA,IAAWC,GAAOD,EAAOmf,cACtC,MAAO,EAEL,GADA/yB,EAAO+hC,aAAanuB,EAAOuf,WAAU,GAAOQ,GACxC/f,IAAWC,KAASD,EAASA,EAAOmf,aACtC,UAEC,CACL8O,GAAkBkB,UAAYpS,EAAQ,QAAQgS,UAAkBA,EAChE,MAAM7C,EAAW+B,GAAkBc,QACnC,GAAIhS,EAAO,CACT,MAAMqS,EAAUlD,EAASmD,WACzB,MAAOD,EAAQC,WACbnD,EAASoD,YAAYF,EAAQC,YAE/BnD,EAASkC,YAAYgB,GAEvBhjC,EAAO+hC,aAAajC,EAAUnM,GAEhC,MAAO,CACLiP,EAASA,EAAO7P,YAAc/yB,EAAOijC,WACrCtP,EAASA,EAAOkP,gBAAkB7iC,EAAO8iC,aAI/C,SAASK,GAAWl0B,EAAIpQ,EAAO8xB,GAC7B,MAAMyS,EAAoBn0B,EAAGo0B,KACzBD,IACFvkC,GAASA,EAAQ,CAACA,KAAUukC,GAAqB,IAAIA,IAAoBE,KAAK,MAEnE,MAATzkC,EACFoQ,EAAGs0B,gBAAgB,SACV5S,EACT1hB,EAAGmzB,aAAa,QAASvjC,GAEzBoQ,EAAGu0B,UAAY3kC,EAGnB,SAAS4kC,GAAWx0B,EAAIkI,EAAMwd,GAC5B,MAAMnnB,EAAQyB,EAAGzB,MACXk2B,EAAczC,GAAStM,GAC7B,GAAIA,IAAU+O,EAAa,CACzB,IAAK,MAAM1lC,KAAO22B,EAChBgP,GAASn2B,EAAOxP,EAAK22B,EAAM32B,IAE7B,GAAImZ,IAAS8pB,GAAS9pB,GACpB,IAAK,MAAMnZ,KAAOmZ,EACE,MAAdwd,EAAM32B,IACR2lC,GAASn2B,EAAOxP,EAAK,QAItB,CACL,MAAM4lC,EAAiBp2B,EAAMq2B,QACzBH,EACEvsB,IAASwd,IACXnnB,EAAMV,QAAU6nB,GAETxd,GACTlI,EAAGs0B,gBAAgB,SAEjB,SAAUt0B,IACZzB,EAAMq2B,QAAUD,IAItB,MAAME,GAAc,iBACpB,SAASH,GAASn2B,EAAOL,EAAM5P,GAC7B,GAAIa,GAAQb,GACVA,EAAIqG,QAASkD,GAAM68B,GAASn2B,EAAOL,EAAMrG,SAIzC,GAFW,MAAPvJ,IACFA,EAAM,IACJ4P,EAAK2B,WAAW,MAClBtB,EAAMu2B,YAAY52B,EAAM5P,OACnB,CACL,MAAMymC,EAAWC,GAAWz2B,EAAOL,GAC/B22B,GAAYl1B,KAAKrR,GACnBiQ,EAAMu2B,YAAYxC,GAAUyC,GAAWzmC,EAAIwS,QAAQ+zB,GAAa,IAAK,aAErEt2B,EAAMw2B,GAAYzmC,GAK1B,MAAM2mC,GAAW,CAAC,SAAU,MAAO,MAC7BC,GAAc,GACpB,SAASF,GAAWz2B,EAAO42B,GACzB,MAAM9tB,EAAS6tB,GAAYC,GAC3B,GAAI9tB,EACF,OAAOA,EAET,IAAInJ,EAAO2C,GAAWs0B,GACtB,GAAa,WAATj3B,GAAqBA,KAAQK,EAC/B,OAAO22B,GAAYC,GAAWj3B,EAEhCA,EAAOq0B,GAAWr0B,GAClB,IAAK,IAAI5Q,EAAI,EAAGA,EAAI2nC,GAAS1nC,OAAQD,IAAK,CACxC,MAAMynC,EAAWE,GAAS3nC,GAAK4Q,EAC/B,GAAI62B,KAAYx2B,EACd,OAAO22B,GAAYC,GAAWJ,EAGlC,OAAOI,EAET,MAAMC,GAAU,+BAChB,SAASC,GAAUr1B,EAAIjR,EAAKa,EAAO8xB,EAAOtf,GACxC,GAAIsf,GAAS3yB,EAAI8Q,WAAW,UACb,MAATjQ,EACFoQ,EAAGs1B,kBAAkBF,GAASrmC,EAAIe,MAAM,EAAGf,EAAIxB,SAE/CyS,EAAGu1B,eAAeH,GAASrmC,EAAKa,OAE7B,CACL,MAAM4lC,EAAY/D,GAAqB1iC,GAC1B,MAATa,GAAiB4lC,IAAc9D,GAAmB9hC,GACpDoQ,EAAGs0B,gBAAgBvlC,GAEnBiR,EAAGmzB,aAAapkC,EAAKymC,EAAY,GAAK5lC,IAI5C,SAAS6lC,GAAaz1B,EAAIjR,EAAKa,EAAOqb,EAAc0Z,EAAiB5C,EAAgBiE,GACnF,GAAY,cAARj3B,GAA+B,gBAARA,EAKzB,OAJIkc,GACF+a,EAAgB/a,EAAc0Z,EAAiB5C,QAEjD/hB,EAAGjR,GAAgB,MAATa,EAAgB,GAAKA,GAGjC,GAAY,UAARb,GAAkC,aAAfiR,EAAG01B,UAA2B11B,EAAG01B,QAAQxwB,SAAS,KAAM,CAC7ElF,EAAGpD,OAAShN,EACZ,MAAM4E,EAAoB,MAAT5E,EAAgB,GAAKA,EAOtC,OANIoQ,EAAGpQ,QAAU4E,GAA2B,WAAfwL,EAAG01B,UAC9B11B,EAAGpQ,MAAQ4E,QAEA,MAAT5E,GACFoQ,EAAGs0B,gBAAgBvlC,IAIvB,IAAI4mC,GAAa,EACjB,GAAc,KAAV/lC,GAAyB,MAATA,EAAe,CACjC,MAAMiE,SAAcmM,EAAGjR,GACV,YAAT8E,EACFjE,EAAQ8hC,GAAmB9hC,GACT,MAATA,GAA0B,WAATiE,GAC1BjE,EAAQ,GACR+lC,GAAa,GACK,WAAT9hC,IACTjE,EAAQ,EACR+lC,GAAa,GAGjB,IACE31B,EAAGjR,GAAOa,EACV,MAAO4gC,IAETmF,GAAc31B,EAAGs0B,gBAAgBvlC,GAEnC,MAAO6mC,GAASC,IAAsC,MACpD,IAAIC,EAAWC,KAAKC,IAChBC,GAAsB,EAC1B,GAAsB,qBAAX/zB,OAAwB,CAC7B6zB,KAAKC,MAAQrD,SAASuD,YAAY,SAASC,YAC7CL,EAAW3V,YAAY6V,IAAIxxB,KAAK2b,cAElC,MAAMiW,EAAUC,UAAUC,UAAUtX,MAAM,mBAC1CiX,KAAyBG,GAAWh/B,OAAOg/B,EAAQ,KAAO,IAE5D,MAAO,CAACN,EAAUG,IAVkC,GAYtD,IAAIM,GAAY,EAChB,MAAMpK,GAAoBjoB,QAAQC,UAC5BqyB,GAAQ,KACZD,GAAY,GAERE,GAAS,IAAMF,KAAcpK,GAAE7rB,KAAKk2B,IAAQD,GAAYX,MAC9D,SAASc,GAAmB12B,EAAIsG,EAAOQ,EAASgB,GAC9C9H,EAAG22B,iBAAiBrwB,EAAOQ,EAASgB,GAEtC,SAAS8uB,GAAoB52B,EAAIsG,EAAOQ,EAASgB,GAC/C9H,EAAG42B,oBAAoBtwB,EAAOQ,EAASgB,GAEzC,SAAS+uB,GAAW72B,EAAIm1B,EAAS2B,EAAWC,EAAW30B,EAAY,MACjE,MAAM40B,EAAWh3B,EAAGi3B,OAASj3B,EAAGi3B,KAAO,IACjCC,EAAkBF,EAAS7B,GACjC,GAAI4B,GAAaG,EACfA,EAAgBtnC,MAAQmnC,MACnB,CACL,MAAO74B,EAAM4J,GAAYqvB,GAAUhC,GACnC,GAAI4B,EAAW,CACb,MAAMK,EAAUJ,EAAS7B,GAAWkC,GAAcN,EAAW30B,GAC7Ds0B,GAAmB12B,EAAI9B,EAAMk5B,EAAStvB,QAC7BovB,IACTN,GAAoB52B,EAAI9B,EAAMg5B,EAAiBpvB,GAC/CkvB,EAAS7B,QAAW,IAI1B,MAAMmC,GAAoB,4BAC1B,SAASH,GAAUj5B,GACjB,IAAI4J,EACJ,GAAIwvB,GAAkB33B,KAAKzB,GAAO,CAEhC,IAAIoe,EADJxU,EAAW,GAEX,MAAOwU,EAAIpe,EAAK8gB,MAAMsY,IACpBp5B,EAAOA,EAAKpO,MAAM,EAAGoO,EAAK3Q,OAAS+uB,EAAE,GAAG/uB,QACxCua,EAASwU,EAAE,GAAG/tB,gBAAiB,EAGnC,MAAO,CAAC+jC,GAAUp0B,EAAKpO,MAAM,IAAKgY,GAEpC,SAASuvB,GAAcE,EAAcn1B,GACnC,MAAMg1B,EAAW5G,IACf,MAAM2F,EAAY3F,EAAE2F,WAAaP,MAC7BC,IAAsBM,GAAaiB,EAAQI,SAAW,IACxDj1B,GAA2Bk1B,GAA8BjH,EAAG4G,EAAQxnC,OAAQwS,EAAW,EAAG,CAACouB,KAK/F,OAFA4G,EAAQxnC,MAAQ2nC,EAChBH,EAAQI,SAAWf,KACZW,EAET,SAASK,GAA8BjH,EAAG5gC,GACxC,GAAIT,GAAQS,GAAQ,CAClB,MAAM8nC,EAAelH,EAAEmH,yBAKvB,OAJAnH,EAAEmH,yBAA2B,KAC3BD,EAAa1oC,KAAKwhC,GAClBA,EAAEoH,UAAW,GAERhoC,EAAM3B,IAAKkD,GAAQ+4B,IAAQA,EAAG0N,UAAYzmC,GAAMA,EAAG+4B,IAE1D,OAAOt6B,EAGX,MAAMioC,GAAa,WACb7U,GAAY,CAAChjB,EAAIjR,EAAK+nC,EAAWC,EAAWrV,GAAQ,EAAOzW,EAAc0Z,EAAiB5C,EAAgBiE,KAClG,UAARj3B,EACFmlC,GAAWl0B,EAAI+2B,EAAWrV,GACT,UAAR3yB,EACTylC,GAAWx0B,EAAI82B,EAAWC,GACjBnF,GAAK7iC,GACT8iC,GAAgB9iC,IACnB8nC,GAAW72B,EAAIjR,EAAK+nC,EAAWC,EAAWpS,IAExB,MAAX51B,EAAI,IAAcA,EAAMA,EAAIe,MAAM,GAAI,GAAmB,MAAXf,EAAI,IAAcA,EAAMA,EAAIe,MAAM,GAAI,GAASgoC,GAAgB93B,EAAIjR,EAAKgoC,EAAWrV,IAC1I+T,GAAaz1B,EAAIjR,EAAKgoC,EAAW9rB,EAAc0Z,EAAiB5C,EAAgBiE,IAEpE,eAARj3B,EACFiR,EAAG+3B,WAAahB,EACC,gBAARhoC,IACTiR,EAAGg4B,YAAcjB,GAEnB1B,GAAUr1B,EAAIjR,EAAKgoC,EAAWrV,KAGlC,SAASoW,GAAgB93B,EAAIjR,EAAKa,EAAO8xB,GACvC,OAAIA,EACU,cAAR3yB,GAA+B,gBAARA,MAGvBA,KAAOiR,GAAM63B,GAAWl4B,KAAK5Q,IAAQgjC,GAAWniC,IAK1C,eAARb,GAAgC,cAARA,GAA+B,cAARA,IAGvC,SAARA,KAGQ,SAARA,GAAiC,UAAfiR,EAAG01B,YAGb,SAAR3mC,GAAiC,aAAfiR,EAAG01B,aAGrBmC,GAAWl4B,KAAK5Q,KAAQijC,GAASpiC,KAG9Bb,KAAOiR,MAEhB,SAASi4B,GAAoBnwB,EAAU0Y,GACrC,MAAM0X,EAAOllB,GAAgBlL,GAC7B,MAAMqwB,UAAyBC,GAC7B,YAAYC,GACVC,MAAMJ,EAAMG,EAAc7X,IAI9B,OADA2X,EAAiBz2B,IAAMw2B,EAChBC,EAET,MAAMI,GAAmC,qBAAhBC,YAA8BA,YAAc,QAErE,MAAMJ,WAAmBG,GACvB,YAAYE,EAAM1X,EAAS,GAAIP,GAC7B8X,QACAtsC,KAAKysC,KAAOA,EACZzsC,KAAK+0B,OAASA,EACd/0B,KAAKk1B,UAAY,KACjBl1B,KAAK0sC,YAAa,EAClB1sC,KAAK2sC,WAAY,EACjB3sC,KAAK4sC,aAAe,KAChB5sC,KAAK6sC,YAAcrY,EACrBA,EAAQx0B,KAAKoiC,eAAgBpiC,KAAK6sC,YAElC7sC,KAAK8sC,aAAa,CAAE/pB,KAAM,SAG9B,oBACE/iB,KAAK0sC,YAAa,EACb1sC,KAAKk1B,WACRl1B,KAAK+sC,cAGT,uBACE/sC,KAAK0sC,YAAa,EAClBp0B,GAAS,KACFtY,KAAK0sC,aACRrvB,GAAO,KAAMrd,KAAK6sC,YAClB7sC,KAAKk1B,UAAY,QAIvB,cACE,GAAIl1B,KAAK2sC,UACP,OAEF3sC,KAAK2sC,WAAY,EACjB,IAAK,IAAIrrC,EAAI,EAAGA,EAAItB,KAAKgtC,WAAWzrC,OAAQD,IAC1CtB,KAAKitC,SAASjtC,KAAKgtC,WAAW1rC,GAAG4Q,MAEnC,IAAIg7B,iBAAkBC,IACpB,IAAK,MAAM7c,KAAK6c,EACdntC,KAAKitC,SAAS3c,EAAE8c,iBAEjBC,QAAQrtC,KAAM,CAAEgtC,YAAY,IAC/B,MAAMM,EAAYC,IAChB,MAAM,MAAEn7B,EAAK,OAAEo7B,GAAWD,EACpBE,GAActqC,GAAQiP,GACtBs7B,EAAUt7B,EAAQq7B,EAAavrC,OAAOkc,KAAKhM,GAASA,EAAQ,GAClE,IAAIu7B,EACJ,GAAIF,EACF,IAAK,MAAM1qC,KAAO/C,KAAK+0B,OAAQ,CAC7B,MAAMzF,EAAMld,EAAMrP,IACdusB,IAAQlkB,QAAUkkB,GAAOA,EAAIznB,OAASuD,UACxCpL,KAAK+0B,OAAOhyB,GAAOyjC,GAASxmC,KAAK+0B,OAAOhyB,KACvC4qC,IAAgBA,EAA8BzrC,OAAOC,OAAO,QAAQY,IAAO,GAIlF/C,KAAK4sC,aAAee,EACpB,IAAK,MAAM5qC,KAAOb,OAAOkc,KAAKpe,MACb,MAAX+C,EAAI,IACN/C,KAAK4tC,SAAS7qC,EAAK/C,KAAK+C,IAAM,GAAM,GAGxC,IAAK,MAAMA,KAAO2qC,EAAQzrC,IAAImkC,IAC5BlkC,OAAOoC,eAAetE,KAAM+C,EAAK,CAC/B,MACE,OAAO/C,KAAK6tC,SAAS9qC,IAEvB,IAAIT,GACFtC,KAAK4tC,SAAS7qC,EAAKT,MAIzBtC,KAAK8tC,aAAaN,GAClBxtC,KAAK+tC,WAEDC,EAAWhuC,KAAKysC,KAAKtlB,cACvB6mB,EACFA,IAAW15B,KAAKg5B,GAEhBA,EAASttC,KAAKysC,MAGlB,SAAS1pC,GACP,IAAIa,EAAQ5D,KAAKiuC,aAAalrC,GAC1B/C,KAAK4sC,cAAgB5sC,KAAK4sC,aAAa7pC,KACzCa,EAAQ4iC,GAAS5iC,IAEnB5D,KAAK4tC,SAASxH,GAASrjC,GAAMa,GAAO,GAEtC,SAASb,GACP,OAAO/C,KAAK+0B,OAAOhyB,GAErB,SAASA,EAAKT,EAAK4rC,GAAgB,EAAMC,GAAe,GAClD7rC,IAAQtC,KAAK+0B,OAAOhyB,KACtB/C,KAAK+0B,OAAOhyB,GAAOT,EACf6rC,GAAgBnuC,KAAKk1B,WACvBl1B,KAAK+tC,UAEHG,KACU,IAAR5rC,EACFtC,KAAKmnC,aAAab,GAAUvjC,GAAM,IACV,kBAART,GAAmC,kBAARA,EAC3CtC,KAAKmnC,aAAab,GAAUvjC,GAAMT,EAAM,IAC9BA,GACVtC,KAAKsoC,gBAAgBhC,GAAUvjC,MAKvC,UACEsa,GAAOrd,KAAKoiC,eAAgBpiC,KAAK6sC,YAEnC,eACE,MAAMn2B,EAAQuH,GAAYje,KAAKysC,KAAM3G,GAAO,GAAI9lC,KAAK+0B,SAmBrD,OAlBK/0B,KAAKk1B,YACRxe,EAAMqtB,GAAM3tB,IACVpW,KAAKk1B,UAAY9e,EACjBA,EAAU4U,MAAO,EACjB5U,EAAU+G,KAAO,CAAC7C,KAAUzQ,KAC1B7J,KAAKouC,cAAc,IAAIC,YAAY/zB,EAAO,CACxCg0B,OAAQzkC,MAGZ,IAAI9E,EAAS/E,KACb,MAAO+E,EAASA,IAAWA,EAAO6yB,YAAc7yB,EAAOwpC,MACrD,GAAIxpC,aAAkBqnC,GAAY,CAChCh2B,EAAUrR,OAASA,EAAOmwB,UAC1B,SAKDxe,EAET,aAAa82B,GACPA,GACFA,EAAO7kC,QAAS6lC,IACd,MAAMjtB,EAAIolB,SAASzP,cAAc,SACjC3V,EAAEgmB,YAAciH,EAChBxuC,KAAK6sC,WAAW5E,YAAY1mB,MAKpC,MAAMktB,GAAa,aACbC,GAAY,YACZC,GAAa,CAACv8B,GAAS6K,WAAYxb,GAAEgkB,GAAgBmpB,GAAuBx8B,GAAQ6K,GAC1F0xB,GAAWvJ,YAAc,aACzB,MAAMyJ,GAA+B,CACnC38B,KAAM7Q,OACNwG,KAAMxG,OACNmtC,IAAK,CACH3mC,KAAMob,QACNgB,SAAS,GAEX6qB,SAAU,CAACztC,OAAQ+J,OAAQlJ,QAC3B6sC,eAAgB1tC,OAChB2tC,iBAAkB3tC,OAClB4tC,aAAc5tC,OACd6tC,gBAAiB7tC,OACjB8tC,kBAAmB9tC,OACnB+tC,cAAe/tC,OACfguC,eAAgBhuC,OAChBiuC,iBAAkBjuC,OAClBkuC,aAAcluC,QAEVmuC,GAA4Bb,GAAWv8B,MAAwB0zB,GAAO,GAAIrgB,GAAerT,MAAOy8B,IAChGY,GAAW,CAAC9pB,EAAM9b,EAAO,MACzB1G,GAAQwiB,GACVA,EAAKhd,QAASonB,GAAOA,KAAMlmB,IAClB8b,GACTA,KAAQ9b,IAGN6lC,GAAuB/pB,KACpBA,IAAOxiB,GAAQwiB,GAAQA,EAAKtH,KAAM0R,GAAOA,EAAGxuB,OAAS,GAAKokB,EAAKpkB,OAAS,GAEjF,SAASqtC,GAAuBxqB,GAC9B,MAAMurB,EAAY,GAClB,IAAK,MAAM5sC,KAAOqhB,EACVrhB,KAAO8rC,KACXc,EAAU5sC,GAAOqhB,EAASrhB,IAG9B,IAAqB,IAAjBqhB,EAASoqB,IACX,OAAOmB,EAET,MAAM,KAAEz9B,EAAO,IAAG,KAAErK,EAAI,SAAEinC,EAAQ,eAAEC,EAAoB78B,EAAH,cAAoB,iBAAE88B,EAAsB98B,EAAH,gBAAsB,aAAE+8B,EAAkB/8B,EAAH,YAAkB,gBAAEg9B,EAAkBH,EAAc,kBAAEI,EAAoBH,EAAgB,cAAEI,EAAgBH,EAAY,eAAEI,EAAoBn9B,EAAH,cAAoB,iBAAEo9B,EAAsBp9B,EAAH,gBAAsB,aAAEq9B,EAAkBr9B,EAAH,aAAuBkS,EACjXwrB,EAAYC,GAAkBf,GAC9BgB,EAAgBF,GAAaA,EAAU,GACvCG,EAAgBH,GAAaA,EAAU,IACvC,cAAEzsB,EAAa,QAAEC,EAAO,iBAAEE,EAAgB,QAAEE,EAAO,iBAAEE,EAAgB,eAAEC,EAAiBR,EAAa,SAAES,EAAWR,EAAO,kBAAEU,EAAoBR,GAAqBqsB,EACpKK,EAAc,CAACh8B,EAAIi8B,EAAUviC,KACjCwiC,GAAsBl8B,EAAIi8B,EAAWb,EAAgBH,GACrDiB,GAAsBl8B,EAAIi8B,EAAWd,EAAoBH,GACzDthC,GAAQA,KAEJyiC,EAAc,CAACn8B,EAAItG,KACvBsG,EAAGo8B,YAAa,EAChBF,GAAsBl8B,EAAIq7B,GAC1Ba,GAAsBl8B,EAAIu7B,GAC1BW,GAAsBl8B,EAAIs7B,GAC1B5hC,GAAQA,KAEJ2iC,EAAiBJ,GACd,CAACj8B,EAAItG,KACV,MAAMiY,EAAOsqB,EAAWrsB,EAAWR,EAC7BkqB,EAAW,IAAM0C,EAAYh8B,EAAIi8B,EAAUviC,GACjD+hC,GAAS9pB,EAAM,CAAC3R,EAAIs5B,IACpBgD,GAAU,KACRJ,GAAsBl8B,EAAIi8B,EAAWf,EAAkBH,GACvDwB,GAAmBv8B,EAAIi8B,EAAWb,EAAgBH,GAC7CS,GAAoB/pB,IACvB6qB,GAAmBx8B,EAAInM,EAAMioC,EAAexC,MAKpD,OAAOxH,GAAO6J,EAAW,CACvB,cAAc37B,GACZy7B,GAAStsB,EAAe,CAACnP,IACzBu8B,GAAmBv8B,EAAI+6B,GACvBwB,GAAmBv8B,EAAIg7B,IAEzB,eAAeh7B,GACby7B,GAAS9rB,EAAgB,CAAC3P,IAC1Bu8B,GAAmBv8B,EAAIk7B,GACvBqB,GAAmBv8B,EAAIm7B,IAEzB/rB,QAASitB,GAAc,GACvBzsB,SAAUysB,GAAc,GACxB,QAAQr8B,EAAItG,GACVsG,EAAGo8B,YAAa,EAChB,MAAM9C,EAAW,IAAM6C,EAAYn8B,EAAItG,GACvC6iC,GAAmBv8B,EAAIq7B,GACvBoB,KACAF,GAAmBv8B,EAAIs7B,GACvBgB,GAAU,KACHt8B,EAAGo8B,aAGRF,GAAsBl8B,EAAIq7B,GAC1BkB,GAAmBv8B,EAAIu7B,GAClBG,GAAoBlsB,IACvBgtB,GAAmBx8B,EAAInM,EAAMkoC,EAAezC,MAGhDmC,GAASjsB,EAAS,CAACxP,EAAIs5B,KAEzB,iBAAiBt5B,GACfg8B,EAAYh8B,GAAI,GAChBy7B,GAASnsB,EAAkB,CAACtP,KAE9B,kBAAkBA,GAChBg8B,EAAYh8B,GAAI,GAChBy7B,GAAS3rB,EAAmB,CAAC9P,KAE/B,iBAAiBA,GACfm8B,EAAYn8B,GACZy7B,GAAS/rB,EAAkB,CAAC1P,OAIlC,SAAS67B,GAAkBf,GACzB,GAAgB,MAAZA,EACF,OAAO,KACF,GAAI7I,GAAS6I,GAClB,MAAO,CAAC4B,GAAS5B,EAASxU,OAAQoW,GAAS5B,EAAS5P,QAC/C,CACL,MAAM/9B,EAAIuvC,GAAS5B,GACnB,MAAO,CAAC3tC,EAAGA,IAGf,SAASuvC,GAASpuC,GAChB,MAAM0H,EAAMw8B,GAASlkC,GACrB,OAAO0H,EAET,SAASumC,GAAmBv8B,EAAI28B,GAC9BA,EAAItuC,MAAM,OAAOsG,QAASrI,GAAMA,GAAK0T,EAAG48B,UAAUtoC,IAAIhI,KACrD0T,EAAGo0B,OAASp0B,EAAGo0B,KAAuB,IAAIriC,MAAQuC,IAAIqoC,GAEzD,SAAST,GAAsBl8B,EAAI28B,GACjCA,EAAItuC,MAAM,OAAOsG,QAASrI,GAAMA,GAAK0T,EAAG48B,UAAU78B,OAAOzT,IACzD,MAAM,KAAE8nC,GAASp0B,EACbo0B,IACFA,EAAK5hC,OAAOmqC,GACPvI,EAAK57B,OACRwH,EAAGo0B,UAAO,IAIhB,SAASkI,GAAU/2B,GACjBs3B,sBAAsB,KACpBA,sBAAsBt3B,KAG1B,IAAIu3B,GAAQ,EACZ,SAASN,GAAmBx8B,EAAI+8B,EAAcC,EAAiB1D,GAC7D,MAAM50B,EAAK1E,EAAGi9B,SAAWH,GACnBI,EAAoB,KACpBx4B,IAAO1E,EAAGi9B,QACZ3D,KAGJ,GAAI0D,EACF,OAAOG,WAAWD,EAAmBF,GAEvC,MAAM,KAAEnpC,EAAI,QAAEupC,EAAO,UAAEC,GAAcC,GAAkBt9B,EAAI+8B,GAC3D,IAAKlpC,EACH,OAAOylC,IAET,MAAMiE,EAAW1pC,EAAO,MACxB,IAAI2pC,EAAQ,EACZ,MAAM54B,EAAM,KACV5E,EAAG42B,oBAAoB2G,EAAUE,GACjCP,KAEIO,EAASjN,IACTA,EAAE58B,SAAWoM,KAAQw9B,GAASH,GAChCz4B,KAGJu4B,WAAW,KACLK,EAAQH,GACVz4B,KAEDw4B,EAAU,GACbp9B,EAAG22B,iBAAiB4G,EAAUE,GAEhC,SAASH,GAAkBt9B,EAAI+8B,GAC7B,MAAMvD,EAASt3B,OAAOw7B,iBAAiB19B,GACjC29B,EAAsB5uC,IAASyqC,EAAOzqC,IAAQ,IAAIV,MAAM,MACxDuvC,EAAmBD,EAAmBlD,GAAa,SACnDoD,EAAsBF,EAAmBlD,GAAa,YACtDqD,EAAoBC,GAAWH,EAAkBC,GACjDG,EAAkBL,EAAmBjD,GAAY,SACjDuD,EAAqBN,EAAmBjD,GAAY,YACpDwD,EAAmBH,GAAWC,EAAiBC,GACrD,IAAIpqC,EAAO,KACPupC,EAAU,EACVC,EAAY,EACZN,IAAiBtC,GACfqD,EAAoB,IACtBjqC,EAAO4mC,GACP2C,EAAUU,EACVT,EAAYQ,EAAoBtwC,QAEzBwvC,IAAiBrC,GACtBwD,EAAmB,IACrBrqC,EAAO6mC,GACP0C,EAAUc,EACVb,EAAYY,EAAmB1wC,SAGjC6vC,EAAUxT,KAAKuU,IAAIL,EAAmBI,GACtCrqC,EAAOupC,EAAU,EAAIU,EAAoBI,EAAmBzD,GAAaC,GAAY,KACrF2C,EAAYxpC,EAAOA,IAAS4mC,GAAaoD,EAAoBtwC,OAAS0wC,EAAmB1wC,OAAS,GAEpG,MAAM6wC,EAAevqC,IAAS4mC,IAAc,yBAAyB96B,KAAK65B,EAAOiB,GAAa,aAC9F,MAAO,CACL5mC,OACAupC,UACAC,YACAe,gBAGJ,SAASL,GAAWM,EAAQzC,GAC1B,MAAOyC,EAAO9wC,OAASquC,EAAUruC,OAC/B8wC,EAASA,EAAO5zB,OAAO4zB,GAEzB,OAAOzU,KAAKuU,OAAOvC,EAAU3tC,IAAI,CAACqwC,EAAGhxC,IAAMixC,GAAKD,GAAKC,GAAKF,EAAO/wC,MAEnE,SAASixC,GAAKhxB,GACZ,OAAkD,IAA3CnW,OAAOmW,EAAEzd,MAAM,GAAI,GAAGgR,QAAQ,IAAK,MAE5C,SAAS27B,KACP,OAAO9J,SAAS6L,KAAKC,aAEvB,MAAMC,GAA8B,IAAIhsC,QAClCisC,GAAiC,IAAIjsC,QACrCksC,GAAsB,CAC1B1gC,KAAM,kBACNE,MAAuB0zB,GAAO,GAAI0J,GAA2B,CAC3DxI,IAAK3lC,OACLwxC,UAAWxxC,SAEb,MAAM+Q,GAAO,MAAE6K,IACb,MAAM7G,EAAY2N,KACZ1B,EAASD,KACf,IAAInD,EACAD,EA+BJ,OA9BAwJ,GAAU,KACR,IAAKvJ,EAAa1d,OAChB,OAEF,MAAMsxC,EAAYzgC,EAAMygC,YAAgBzgC,EAAMF,MAAQ,KAAjB,QACrC,IAAK4gC,GAAgB7zB,EAAa,GAAGjL,GAAIoC,EAAUM,MAAM1C,GAAI6+B,GAC3D,OAEF5zB,EAAatW,QAAQoqC,IACrB9zB,EAAatW,QAAQqqC,IACrB,MAAMC,EAAgBh0B,EAAa5V,OAAO6pC,IAC1CzC,KACAwC,EAActqC,QAASrI,IACrB,MAAM0T,EAAK1T,EAAE0T,GACPzB,EAAQyB,EAAGzB,MACjBg+B,GAAmBv8B,EAAI6+B,GACvBtgC,EAAM4gC,UAAY5gC,EAAM6gC,gBAAkB7gC,EAAM8gC,mBAAqB,GACrE,MAAM95B,EAAKvF,EAAGs/B,QAAW9O,IACnBA,GAAKA,EAAE58B,SAAWoM,GAGjBwwB,IAAK,aAAa7wB,KAAK6wB,EAAE+O,gBAC5Bv/B,EAAG42B,oBAAoB,gBAAiBrxB,GACxCvF,EAAGs/B,QAAU,KACbpD,GAAsBl8B,EAAI6+B,KAG9B7+B,EAAG22B,iBAAiB,gBAAiBpxB,OAGlC,KACL,MAAM6K,EAAWra,GAAMqI,GACjBohC,EAAqB5E,GAAuBxqB,GAClD,IAAI4iB,EAAM5iB,EAAS4iB,KAAOjgB,GAC1B9H,EAAeD,EACfA,EAAW/B,EAAMgH,QAAUC,GAAyBjH,EAAMgH,WAAa,GACvE,IAAK,IAAI3iB,EAAI,EAAGA,EAAI0d,EAASzd,OAAQD,IAAK,CACxC,MAAM6iB,EAAQnF,EAAS1d,GACN,MAAb6iB,EAAMphB,KACR2hB,GAAmBP,EAAOM,GAAuBN,EAAOqvB,EAAoBnxB,EAAQjM,IAGxF,GAAI6I,EACF,IAAK,IAAI3d,EAAI,EAAGA,EAAI2d,EAAa1d,OAAQD,IAAK,CAC5C,MAAM6iB,EAAQlF,EAAa3d,GAC3BojB,GAAmBP,EAAOM,GAAuBN,EAAOqvB,EAAoBnxB,EAAQjM,IACpFs8B,GAAY1qC,IAAImc,EAAOA,EAAMnQ,GAAGy/B,yBAGpC,OAAOx1B,GAAY+oB,EAAK,KAAMhoB,MAI9B00B,GAAkBd,GACxB,SAASG,GAAezyC,GACtB,MAAM0T,EAAK1T,EAAE0T,GACTA,EAAGs/B,SACLt/B,EAAGs/B,UAEDt/B,EAAGoS,UACLpS,EAAGoS,WAGP,SAAS4sB,GAAe1yC,GACtBqyC,GAAe3qC,IAAI1H,EAAGA,EAAE0T,GAAGy/B,yBAE7B,SAASP,GAAiB5yC,GACxB,MAAMqzC,EAASjB,GAAY3qC,IAAIzH,GACzBszC,EAASjB,GAAe5qC,IAAIzH,GAC5BuzC,EAAKF,EAAOG,KAAOF,EAAOE,KAC1BC,EAAKJ,EAAOK,IAAMJ,EAAOI,IAC/B,GAAIH,GAAME,EAAI,CACZ,MAAMxyB,EAAIjhB,EAAE0T,GAAGzB,MAGf,OAFAgP,EAAE4xB,UAAY5xB,EAAE6xB,gBAAkB,aAAaS,OAAQE,OACvDxyB,EAAE8xB,mBAAqB,KAChB/yC,GAGX,SAASwyC,GAAgB9+B,EAAImK,EAAM00B,GACjC,MAAMnsB,EAAQ1S,EAAGkkB,YACblkB,EAAGo0B,MACLp0B,EAAGo0B,KAAKz/B,QAASgoC,IACfA,EAAItuC,MAAM,OAAOsG,QAASrI,GAAMA,GAAKomB,EAAMkqB,UAAU78B,OAAOzT,MAGhEuyC,EAAUxwC,MAAM,OAAOsG,QAASrI,GAAMA,GAAKomB,EAAMkqB,UAAUtoC,IAAIhI,IAC/DomB,EAAMnU,MAAMq2B,QAAU,OACtB,MAAMnQ,EAA8B,IAAlBta,EAAK81B,SAAiB91B,EAAOA,EAAKyZ,WACpDa,EAAUwP,YAAYvhB,GACtB,MAAM,aAAE0rB,GAAiBd,GAAkB5qB,GAE3C,OADA+R,EAAUsO,YAAYrgB,GACf0rB,EAET,MAAM8B,GAAkB,CAAC,OAAQ,QAAS,MAAO,QAC3CC,GAAiB,CACrB5uC,KAAOi/B,GAAMA,EAAE4P,kBACfC,QAAU7P,GAAMA,EAAE8P,iBAClBr+B,KAAOuuB,GAAMA,EAAE58B,SAAW48B,EAAE+P,cAC5BC,KAAOhQ,IAAOA,EAAEiQ,QAChBC,MAAQlQ,IAAOA,EAAEmQ,SACjBC,IAAMpQ,IAAOA,EAAEqQ,OACfC,KAAOtQ,IAAOA,EAAEuQ,QAChBjB,KAAOtP,GAAM,WAAYA,GAAkB,IAAbA,EAAEwQ,OAChCn8B,OAAS2rB,GAAM,WAAYA,GAAkB,IAAbA,EAAEwQ,OAClCC,MAAQzQ,GAAM,WAAYA,GAAkB,IAAbA,EAAEwQ,OACjCE,MAAO,CAAC1Q,EAAGrb,IAAc+qB,GAAgB71B,KAAMiS,GAAMkU,EAAKlU,EAAH,SAAenH,EAAUjQ,SAASoX,KAErF6kB,GAAgB,CAAChwC,EAAIgkB,IAClB,CAAC7O,KAAUzQ,KAChB,IAAK,IAAIvI,EAAI,EAAGA,EAAI6nB,EAAU5nB,OAAQD,IAAK,CACzC,MAAM8zC,EAAQjB,GAAehrB,EAAU7nB,IACvC,GAAI8zC,GAASA,EAAM96B,EAAO6O,GACxB,OAEJ,OAAOhkB,EAAGmV,KAAUzQ,IAGlBwrC,GAAW,CACfC,IAAK,SACLC,MAAO,IACPC,GAAI,WACJ1B,KAAM,aACNmB,MAAO,cACPQ,KAAM,aACNjvC,OAAQ,aAEJkvC,GAAW,CAACvwC,EAAIgkB,IACZ7O,IACN,KAAM,QAASA,GACb,OAEF,MAAMq7B,EAAWrP,GAAUhsB,EAAMvX,KACjC,OAAIomB,EAAU9K,KAAMmY,GAAMA,IAAMmf,GAAYN,GAAS7e,KAAOmf,GACnDxwC,EAAGmV,QADZ,GAKEs7B,GAAQ,CACZ,YAAY5hC,GAAI,MAAEpQ,IAAS,WAAE8a,IAC3B1K,EAAG6hC,KAA4B,SAArB7hC,EAAGzB,MAAMq2B,QAAqB,GAAK50B,EAAGzB,MAAMq2B,QAClDlqB,GAAc9a,EAChB8a,EAAW0b,YAAYpmB,GAEvB8hC,GAAW9hC,EAAIpQ,IAGnB,QAAQoQ,GAAI,MAAEpQ,IAAS,WAAE8a,IACnBA,GAAc9a,GAChB8a,EAAW4b,MAAMtmB,IAGrB,QAAQA,GAAI,MAAEpQ,EAAK,SAAEM,IAAY,WAAEwa,KAC5B9a,KAAWM,IAEZwa,EACE9a,GACF8a,EAAW0b,YAAYpmB,GACvB8hC,GAAW9hC,GAAI,GACf0K,EAAW4b,MAAMtmB,IAEjB0K,EAAWwgB,MAAMlrB,EAAI,KACnB8hC,GAAW9hC,GAAI,KAInB8hC,GAAW9hC,EAAIpQ,KAGnB,cAAcoQ,GAAI,MAAEpQ,IAClBkyC,GAAW9hC,EAAIpQ,KAGnB,SAASkyC,GAAW9hC,EAAIpQ,GACtBoQ,EAAGzB,MAAMq2B,QAAUhlC,EAAQoQ,EAAG6hC,KAAO,OAEvC,MAAME,GAAkCjQ,GAAO,CAAE9O,cAAa6P,IAC9D,IAAI7K,GACJ,SAASga,KACP,OAAOha,KAAaA,GAAWvF,GAAesf,KAEhD,MAAM14B,GAAS,IAAIxT,KACjBmsC,KAAiB34B,UAAUxT,IAE7B,IAAIosC,GAAc,CAACC,EAAK9jC,KACtB,MAAMxK,EAASsuC,EAAI3T,WAAa2T,EAChC,IAAK,MAAOnzC,EAAKT,KAAQ8P,EACvBxK,EAAO7E,GAAOT,EAEhB,OAAOsF,GAET,MAAMuuC,GAAc,CAClBjkC,KAAM,YACNE,MAAO,CACLgkC,KAAM,CAAEvuC,KAAMob,QAASgB,SAAS,GAChCoyB,SAAU,CAAExuC,KAAMob,QAASgB,SAAS,GACpCpc,KAAM,CAAEA,KAAMxG,OAAQi1C,UAAU,GAChCC,UAAW,CAAE1uC,KAAMxG,OAAQ4iB,QAAS,MAGlCuyB,GAA+BjV,GAAgB,MAAO,CAAE7oB,GAAI,cAAgB,MAAO,GACnF+9B,GAA+BlV,GAAgB,MAAO,CAAE7oB,GAAI,cAAgB,MAAO,GACnFg+B,GAA+BnV,GAAgB,MAAO,CAAE7oB,GAAI,cAAgB,MAAO,GACnFi+B,GAA+BpV,GAAgB,MAAO,CAAE7oB,GAAI,cAAgB,MAAO,GACnFk+B,GAA+BrV,GAAgB,MAAO,CAAE7oB,GAAI,cAAgB,MAAO,GACnFm+B,GAA+BtV,GAAgB,MAAO,CAAE7oB,GAAI,cAAgB,MAAO,GACzF,SAASo+B,GAAcpjB,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAOvB,KAAaI,GAAYsjB,GAAY,CAC1Cz8B,KAAM,mBACN8Q,OAAQ,IACP,CACDiB,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOoqB,MAAQnrB,KAAaqW,GAAmB,MAAO,CACpDv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,qBAAsB,CAC3C,wBAAyB+Z,EAAOqqB,SAChC,oBAAqBrqB,EAAOqqB,aAE7B,CACe,UAAhBrqB,EAAOnkB,KAAmBgjB,GAAW6I,EAAKxH,OAAQ,qBAAsB,CAAEnpB,IAAK,GAAK,IAAM,CACxFyzC,KACGxT,GAAmB,IAAI,GACZ,mBAAhBhX,EAAOnkB,KAA4BgjB,GAAW6I,EAAKxH,OAAQ,8BAA+B,CAAEnpB,IAAK,GAAK,IAAM,CAC1G0zC,KACGzT,GAAmB,IAAI,GACZ,iBAAhBhX,EAAOnkB,KAA0BgjB,GAAW6I,EAAKxH,OAAQ,6BAA+BF,EAAOuqB,UAAW,CAAExzC,IAAK,GAAK,IAAM,CAC1H2zC,KACG1T,GAAmB,IAAI,GACZ,cAAhBhX,EAAOnkB,KAAuBgjB,GAAW6I,EAAKxH,OAAQ,yBAA0B,CAAEnpB,IAAK,GAAK,IAAM,CAChG4zC,KACG3T,GAAmB,IAAI,GACZ,aAAhBhX,EAAOnkB,KAAsBgjB,GAAW6I,EAAKxH,OAAQ,wBAAyB,CAAEnpB,IAAK,GAAK,IAAM,CAC9F6zC,KACG5T,GAAmB,IAAI,GACZ,sBAAhBhX,EAAOnkB,KAA+BgjB,GAAW6I,EAAKxH,OAAQ,iCAAkC,CAAEnpB,IAAK,GAAK,IAAM,CAChH8zC,KACG7T,GAAmB,IAAI,IAC3B,IAAMA,GAAmB,IAAI,KAElCjuB,EAAG,IAGP,IAAIkiC,GAAyBhB,GAAYE,GAAa,CAAC,CAAC,SAAUW,MAClE,MAAMI,GAAc,CAClBhlC,KAAM,UACNE,MAAO,CACLF,KAAM,CAAErK,KAAMxG,OAAQ4iB,QAAS,MAC/BkzB,MAAO,CAAEtvC,KAAMxG,OAAQ4iB,QAAS,OAElC,OACE,MAAO,CACLmzB,QAAS,CACPC,OAAQ,CACNn1B,KAAM,qQAER5Z,IAAK,CACH4Z,KAAM,qHAERo1B,OAAQ,CACNp1B,KAAM,4FAERq1B,KAAM,CACJr1B,KAAM,kNAERs1B,MAAO,CACLt1B,KAAM,4MAERu1B,KAAM,CACJv1B,KAAM,iIAERw1B,UAAW,CACTx1B,KAAM,8RAER,gBAAiB,CACfA,KAAM,iHAERy1B,KAAM,CACJz1B,KAAM,qCAER01B,MAAO,CACL11B,KAAM,qWAERykB,SAAU,CACRzkB,KAAM,6CAER21B,OAAQ,CACN31B,KAAM,uJAER41B,UAAW,CACT51B,KAAM,2DAER,mBAAoB,CAClBA,KAAM,6JAER61B,IAAK,CACH71B,KAAM,qPAER81B,SAAU,CACR91B,KAAM,8DAER+1B,QAAS,CACP/1B,KAAM,+PAERg2B,WAAY,CACV1rC,KAAM,QACN0V,KAAM,mzBAER,aAAc,CACZ1V,KAAM,SACN0V,KAAM,6RAER,cAAe,CACb1V,KAAM,SACN0V,KAAM,oKACNi2B,MAAO,2KAKfrvC,SAAU,CACR,QACE,MAAMquC,EAAQn3C,KAAKm3C,MAAQ,IAAMn3C,KAAKm3C,MAAQ,GAC9C,MAAO,YAAYn3C,KAAKkS,OAAOilC,KAEjC,OACE,MAAM7lC,EAAOtR,KAAKo3C,QAAQp3C,KAAKkS,MAC/B,MAAkB,UAAdZ,EAAK9E,KACA,IACc,WAAd8E,EAAK9E,KACL,GAEA,MAIT4rC,GAAe,CAAC,WAChBC,GAAe,CAAC,KAAM,KACtBC,GAAe,CAAC,KAAM,KAC5B,SAASC,GAAc7kB,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAOvB,KAAaqW,GAAmB,MAAO,CAC5CkX,MAAO,6BACP,cAAe,+BACfrjB,QAAS,MACTsjB,MAAO,KACPC,OAAQ,KACRC,QAAS,OAAOnsB,EAAShgB,QAAQggB,EAAShgB,QACzC,CACD+0B,GAAgB,OAAQ,CACtB7oB,GAAI8T,EAASosB,MACbtG,EAAGvmB,EAAMqrB,QAAQprB,EAAO9Z,MAAMgQ,MAC7B,KAAM,EAAGm2B,IACZtsB,EAAMqrB,QAAQprB,EAAO9Z,MAAMimC,OAASltB,KAAaqW,GAAmB,OAAQ,CAC1Ev+B,IAAK,EACL2V,GAAI8T,EAASosB,MACbtG,EAAGvmB,EAAMqrB,QAAQprB,EAAO9Z,MAAMimC,OAC7B,KAAM,EAAGG,KAAiBtV,GAAmB,IAAI,IACnD,EAAGoV,IAER,IAAIS,GAA0B5C,GAAYiB,GAAa,CAAC,CAAC,SAAUqB,MACnE,MAAMO,GAAc,CAClB5mC,KAAM,cACN8c,WAAY,CAAE6pB,YACdzmC,MAAO,CACL2mC,aAAc,CAAElxC,KAAM3F,OAAQo0C,UAAU,GACxC0C,WAAY,CAAEnxC,KAAMob,QAASqzB,UAAU,GACvC2C,YAAa,CAAEpxC,KAAMob,QAASqzB,UAAU,GACxC4C,MAAO,CAAErxC,KAAM3E,MAAOozC,UAAU,GAChC6C,aAAc,CAAEtxC,KAAMob,QAASqzB,UAAU,IAE3Ch7B,MAAO,CAAC,cAAe,YACvBxS,SAAU,CACR,gBACE,OAAO9I,KAAKg5C,YAAch5C,KAAKi5C,eAI/BG,GAAe,CACnBr2C,IAAK,EACLsP,MAAO,mBAEHgnC,GAAe,CAAC,eACtB,SAASC,GAAc5lB,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaqW,GAAmB,MAAO,CAC5CjvB,MAAOJ,GAAe,CACpB,iBAAkBua,EAASgtB,cAC3B,iBAAkBhtB,EAASgtB,iBAE5B,CACDxtB,EAAOgtB,YAAc/tB,KAAaqW,GAAmBva,GAAU,CAAEhkB,IAAK,GAAK,EACxEipB,EAAOmtB,cAAgBntB,EAAOktB,MAAM33C,QAAU0pB,KAAaqW,GAAmB,MAAO8X,GAAc,CAClGvuB,GAAW6I,EAAKxH,OAAQ,cAAe,GAAI,IAAM,CAC/CjO,GAAYs7B,EAAqB,CAAErnC,KAAM,gBAEvC8wB,GAAmB,IAAI,IAC5BhX,EAAOmtB,cAAgBntB,EAAOktB,MAAM33C,QAAU0pB,KAAaqW,GAAmB,QAAS,CACtFv+B,IAAK,EACL8E,KAAM,SACNw0B,YAAarQ,EAAO+sB,aAAaU,OACjCC,aAAc,MACdrnC,MAAO,YACPsnC,QAAS5C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,cAAeqtB,KACxE,KAAM,GAAIP,KAAiBrW,GAAmB,IAAI,IACpD,KAAOA,GAAmB,IAAI,GACjChX,EAAOitB,aAAehuB,KAAaqW,GAAmB,MAAO,CAC3Dv+B,IAAK,EACLsP,MAAO,8BACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,cACzD,CACD1B,GAAW6I,EAAKxH,OAAQ,WAAY,GAAI,IAAM,CAC5CjO,GAAYs7B,EAAqB,CAAErnC,KAAM,aAEvC8wB,GAAmB,IAAI,IAC5B,GAEL,IAAI8W,GAA8B7D,GAAY6C,GAAa,CAAC,CAAC,SAAUQ,MACnES,GAAU,GACVC,GAAW,GAGf,SAASC,GAASl1C,EAAQof,GACxB,IAAI/R,EAAQqO,UAAUlf,OAAS,QAAsB,IAAjBkf,UAAU,GAAgBA,UAAU,GAAK,GACzEy5B,EAAWh4C,OAAOC,OAAO4C,EAAOnC,WACpC,IAAK,IAAI2V,KAAMnG,EACb8nC,EAAS3hC,GAAMnG,EAAMmG,GAIvB,OAFA2hC,EAASC,YAAch2B,EACvBA,EAAMvhB,UAAYs3C,EACX/1B,EAVT61B,GAASI,YAAa,EACtBJ,GAASC,SAAWA,GAWpB,IAAII,GAAY,CAChB,YAAuB,GACnBC,GAA4B,oBAAXvzC,QAAoD,kBAApBA,OAAOwG,SAAwB,SAASlJ,GAC3F,cAAcA,GACZ,SAASA,GACX,OAAOA,GAAyB,oBAAX0C,QAAyB1C,EAAI81C,cAAgBpzC,QAAU1C,IAAQ0C,OAAOnE,UAAY,gBAAkByB,GAEvHk2C,GAAW,CACbC,gBAAiB,OACjBC,OAAQ,KACRC,OAAQC,GACRC,WAAYD,GACZE,OAAO,EACPnR,QAAS,IACT9hC,OAAQkzC,GACRC,UAAU,EACVC,WAAY,GACZhO,WAAY,KACZzE,UAAW,aAKb,SAAS0S,GAAQr6C,GACfA,EAAOA,GAAQ,GACfZ,KAAKw6C,gBAAkB55C,EAAKiC,eAAe,mBAAqBjC,EAAK45C,gBAAkBD,GAASC,gBAChGx6C,KAAKy6C,OAAS75C,EAAKiC,eAAe,UAAYjC,EAAK65C,OAASF,GAASE,OACrEz6C,KAAK06C,OAAS95C,EAAKiC,eAAe,UAAYjC,EAAK85C,OAASH,GAASG,OACrE16C,KAAK46C,WAAah6C,EAAKiC,eAAe,cAAgBjC,EAAKg6C,WAAaL,GAASK,WACjF56C,KAAK66C,MAAQj6C,EAAKiC,eAAe,SAAWjC,EAAKi6C,MAAQN,GAASM,MAClE76C,KAAK0pC,QAAU9oC,EAAKiC,eAAe,WAAajC,EAAK8oC,QAAU6Q,GAAS7Q,QACxE1pC,KAAK4H,OAAShH,EAAKiC,eAAe,UAAYjC,EAAKgH,OAAS2yC,GAAS3yC,OACrE5H,KAAK+6C,SAAWn6C,EAAKiC,eAAe,YAAcjC,EAAKm6C,SAAWR,GAASQ,SAC3E/6C,KAAKg7C,WAAa,GAClBh7C,KAAKgtC,WAAapsC,EAAKosC,YAAcpsC,EAAKs6C,gBAAkBX,GAASvN,WACrEhtC,KAAKuoC,UAAY3nC,EAAKiC,eAAe,aAAejC,EAAK2nC,UAAY3nC,EAAKu6C,WAAaZ,GAAShS,UAEhG,IADA,IAAI6S,EAAcx6C,EAAKiC,eAAe,cAAgBjC,EAAKo6C,WAAaT,GAASS,WACxE15C,EAAI,EAAGA,EAAI85C,EAAY75C,OAAQD,IACtCtB,KAAKg7C,WAAW91C,KAAKk2C,EAAY95C,GAAG0T,eAsCxC,SAASqmC,GAASvxC,EAAKlG,GACrB,IAAK,IAAItC,EAAI,EAAGA,EAAIwI,EAAIvI,OAAQD,IAC9B,GAAIwI,EAAIxI,KAAOsC,EACb,OAAO,EAGX,OAAO,EAET,SAAS+2C,GAAOr4C,GACd,OAAOA,EAET,SAASw4C,GAAaQ,EAAMzzC,GAC1B,MAAgB,QAATA,EAAiB,SAAW,KApErCwyC,GAAUE,SAAWA,GACrBF,GAAUY,QAAUA,GACpBZ,GAAUgB,SAAWA,GAmBrBJ,GAAQr4C,UAAY,CAClBuV,QAAS,SAAkBojC,GACzB,IAAID,EAAOC,EAAMC,OAAOx7C,KAAKw6C,iBAC7B,MAAO,CACLiB,UAAWz7C,KAAK+H,IAAI,SAAUwzC,EAAM53C,WAAY43C,GAChDG,cAAe17C,KAAK+H,IAAI,aAAcuzC,EAAMC,GAC5C7R,QAAS1pC,KAAK+H,IAAI,UAAWuzC,EAAMC,GACnChT,UAAWvoC,KAAK+H,IAAI,YAAauzC,EAAMC,GACvC3zC,OAAQ5H,KAAK+H,IAAI,SAAUuzC,EAAMC,GACjCd,OAAQz6C,KAAK27C,UAAU,SAAUL,EAAMC,GACvCvO,WAAYhtC,KAAK27C,UAAU,aAAcL,EAAMC,KAGnDK,MAAO,SAAeL,GACpB,OAAOv7C,KAAK+H,IAAI,WAAYwzC,EAAM53C,WAAY43C,IAEhDxzC,IAAK,SAAahF,EAAK84C,EAAUN,GAC/B,IAAIO,OAAc,EAAQC,EAAS/7C,KAAK+C,GACxC,IAAKg5C,EACH,OAAOA,EAET,OAA0B,qBAAXA,EAAyB,YAAczB,GAAQyB,IAC5D,IAAK,WACH,OAAOA,EAAOF,EAAUN,EAAM1zC,MAChC,IAAK,SAEH,OADAi0C,EAAcC,EAAOl5C,eAAe04C,EAAM1zC,MAAQk0C,EAAOR,EAAM1zC,MAAQ0yC,GAASx3C,GAClD,oBAAhB+4C,EAA6BA,EAAYD,EAAUN,EAAM1zC,MAAQi0C,EAEnF,OAAOC,GAETJ,UAAW,SAAmB54C,EAAK84C,EAAUN,GAC3C,IAAIQ,EAAS/7C,KAAK+C,GAClB,MAAyB,oBAAXg5C,EAAwBA,EAAOF,EAAUN,EAAM1zC,MAAQk0C,IAiBzE,IAAIC,GAAY,GACZl7C,GAAQ,CACZ,YAAmB,GACnBA,GAAMm7C,SAAWn7C,GAAMo7C,WAAap7C,GAAMq7C,oBAAiB,EAC3D,IAAIC,GAAWpC,GACf,SAASqC,KACP,OAAO,SAASC,GACdt8C,KAAK4qB,EAAI,GACT5qB,KAAKu8C,EAAID,GAAU,MAGvB,IAAIE,GAAYH,KAChBG,GAAU55C,UAAY,CACpB65C,mBAAmB,EACnBzY,GAAI,SAAY0Y,EAAQr6B,GACtB,GAAIq6B,aAAkBx5C,MAAO,CAC3B,IAAK,IAAI5B,EAAI,EAAGA,EAAIo7C,EAAOn7C,OAAQD,IACjCtB,KAAK4qB,EAAE1lB,KAAK,CAACw3C,EAAOp7C,GAAI+gB,IAE1B,OAAOriB,KAGT,OADAA,KAAK4qB,EAAE1lB,KAAK,CAACw3C,EAAQr6B,IACdriB,MAETG,KAAM,SAAcmR,GAClB,IAAK,IAAIhQ,EAAI,EAAGA,EAAItB,KAAK4qB,EAAErpB,OAAQD,IAAK,CACtC,IAAIq7C,EAAQ38C,KAAK4qB,EAAEtpB,GACfo7C,EAASC,EAAM,GACft6B,EAASs6B,EAAM,GACnB,GAAI38C,KAAK2T,KAAKrC,EAAMorC,GAClB,OAAOr6B,EAGX,OAAOriB,KAAKy8C,mBAEdG,QAAS,WACP,QAAS58C,KAAKu8C,GAEhB5oC,KAAM,SAAcrC,EAAMorC,GACxB,OAAOprC,IAASorC,GAElBv/B,KAAM,WACJ,OAAOnd,KAAKu8C,IAGhB,IAAIJ,IAAiB,EAAIC,GAASnC,UAAUuC,GAAWH,KAAoB,CACzE1oC,KAAM,SAAekpC,EAAWC,GAC9B,OAAOD,IAAcC,GAAgBA,aAAwBC,QAAUD,EAAanpC,KAAKkpC,MAGzFX,IAAa,EAAIE,GAASnC,UAAUuC,GAAWH,KAAoB,CACrEW,KAAM,SAAczB,GAClB,IAAIe,EAAS77B,UAAUlf,OAAS,QAAsB,IAAjBkf,UAAU,GAAgBA,UAAU,GAAK,KAC1E4B,EAASriB,KAAKG,KAAK,IAAIo7C,EAAM,KAOjC,OANIl5B,IAAWriB,KAAKy8C,mBAClBp6B,EAAS,IAAIriB,KAAKm6C,YAAYmC,GAC9Bt8C,KAAKgkC,GAAGuX,EAAOl5B,IACNi6B,IACTj6B,EAAOk6B,EAAID,GAENj6B,GAET1O,KAAM,SAAe4nC,EAAO0B,GAC1B,OAAO1B,aAAiB0B,KAG5B,SAAShB,GAASl6C,EAAK4W,EAAQukC,EAAUC,GACvC,IAAI77C,EAAI,EAAGu/B,EAAM9+B,EAAIR,OAAQ8gB,EAAS1J,EAAQykC,EAAY,GAAIC,OAAY,EAC1E,MAAO/7C,EAAIu/B,IAAQwc,EAAYh7B,EAAOliB,KAAK4B,EAAIT,KAC7C+gB,EAASg7B,EACT/7C,IAEF,GAAIA,GAAKu/B,EACP,MAAO,GAET,MAAOv/B,EAAIu/B,EAAM,EACfwc,EAAY,IAAIlB,GAAegB,GAC/BC,EAAUl4C,KAAKm4C,GACfh7B,EAAO2hB,GAAGjiC,EAAIT,GAAI+7C,GAClBh7B,EAASg7B,EACT/7C,IAKF,OAHA+7C,EAAY,IAAIlB,GAAee,GAC/BE,EAAUl4C,KAAKm4C,GACfh7B,EAAO2hB,GAAGjiC,EAAI8+B,EAAM,GAAIwc,GACjBD,EAETt8C,GAAMq7C,eAAiBA,GACvBr7C,GAAMo7C,WAAaA,GACnBp7C,GAAMm7C,SAAWA,GACjB,IAAIqB,GAAS,GACTC,GAAqB,GAEzB,SAASC,KACP,OAAO,SAAS55C,GACVA,IACF5D,KAAK6L,EAAIjI,IAJf25C,GAAmBnD,YAAa,EAQhCmD,GAAmBC,iBAAmBA,GACtCF,GAAOlD,YAAa,EACpBkD,GAAOG,UAAYH,GAAOI,WAAaJ,GAAOK,kBAAoBL,GAAOM,aAAeN,GAAOO,WAAaP,GAAOQ,UAAYR,GAAOS,iBAAmBT,GAAOU,YAAcV,GAAOW,UAAYX,GAAOY,GAAKZ,GAAOa,IAAMb,GAAOc,IAAMd,GAAOe,WAAaf,GAAOgB,MAAQhB,GAAOiB,OAASjB,GAAOkB,SAAWlB,GAAOmB,MAAQnB,GAAOoB,MAAQpB,GAAOqB,KAAOrB,GAAOsB,IAAMtB,GAAOuB,GAAKvB,GAAOwB,UAAYxB,GAAOyB,YAAczB,GAAO0B,IAAM1B,GAAO2B,MAAQ3B,GAAO4B,GAAK5B,GAAO6B,OAAS7B,GAAO8B,UAAO,EAC/d,IAAIC,GAAsB9B,GACtB+B,GAAWtF,GACXuF,IAAY,EAAIF,GAAoB7B,oBAMxC,SAASgC,GAAc57C,GACrB,IAAIwO,EAAQxO,EAAQ,CAAEiI,EAAGjI,GAAU,GACnC,OAAO,EAAI07C,GAASrF,UAAUsF,IAAW,EAAIF,GAAoB7B,oBAAqBprC,GAPxFmtC,GAAU38C,UAAY,CACpBe,SAAU,WACR,OAAO3D,KAAK6L,EAAI,KAOpB,IAAIszC,GAASK,KACTN,GAAKM,GAAc,KACnBP,GAAQO,GAAc,KACtBR,GAAMQ,GAAc,KACpBT,GAAcS,KACdV,GAAYU,KACZC,GAAOD,GAAc,MACrBZ,GAAMY,KACNb,GAAOa,GAAc,KACrBd,GAAQc,GAAc,KACtBhB,GAAWgB,KACXjB,GAASiB,GAAc,WACvBf,GAAQe,GAAc,KACtBlB,GAAQkB,GAAc,KACtBnB,GAAamB,GAAc,KAC3BpB,GAAMoB,KACNrB,GAAMqB,KACNtB,GAAKsB,KACLvB,GAAYuB,GAAc,KAC1BxB,GAAcwB,GAAc,KAC5BzB,GAAmByB,GAAc,KACjC1B,GAAY0B,GAAc,KAC1B3B,GAAa2B,GAAc,KAC3B5B,GAAe4B,GAAc,KAC7B7B,GAAoB6B,GAAc,KAClC9B,GAAa8B,GAAc,KAC3B/B,GAAY+B,GAAc,KAC9BlC,GAAO8B,KAAOG,GACdjC,GAAO6B,OAASA,GAChB7B,GAAO4B,GAAKA,GACZ5B,GAAO2B,MAAQA,GACf3B,GAAO0B,IAAMA,GACb1B,GAAOyB,YAAcA,GACrBzB,GAAOwB,UAAYA,GACnBxB,GAAOuB,GAAKY,GACZnC,GAAOsB,IAAMA,GACbtB,GAAOqB,KAAOA,GACdrB,GAAOoB,MAAQA,GACfpB,GAAOmB,MAAQA,GACfnB,GAAOkB,SAAWA,GAClBlB,GAAOiB,OAASA,GAChBjB,GAAOgB,MAAQA,GACfhB,GAAOe,WAAaA,GACpBf,GAAOc,IAAMA,GACbd,GAAOa,IAAMA,GACbb,GAAOY,GAAKA,GACZZ,GAAOW,UAAYA,GACnBX,GAAOU,YAAcA,GACrBV,GAAOS,iBAAmBA,GAC1BT,GAAOQ,UAAYA,GACnBR,GAAOO,WAAaA,GACpBP,GAAOM,aAAeA,GACtBN,GAAOK,kBAAoBA,GAC3BL,GAAOI,WAAaA,GACpBJ,GAAOG,UAAYA,GACnBzB,GAAU5B,YAAa,EACvB4B,GAAU0D,MAAQ1D,GAAU/yC,IAAM+yC,GAAU2D,OAAS3D,GAAU4D,WAAQ,EACvE,IAAIC,GAAW/+C,GACXg/C,GAAUxC,GACVqC,GAASI,GAA0BD,IACvC,SAASC,GAA0B17C,GACjC,GAAIA,GAAOA,EAAI+1C,WACb,OAAO/1C,EAEP,IAAI27C,EAAS,GACb,GAAW,MAAP37C,EACF,IAAK,IAAItB,KAAOsB,EACVnC,OAAOU,UAAUC,eAAeG,KAAKqB,EAAKtB,KAC5Ci9C,EAAOj9C,GAAOsB,EAAItB,IAIxB,OADAi9C,EAAO/7B,QAAU5f,EACV27C,EAGX,IAAIC,GAAO,8lUAA8lU59C,MAAM,KAC3mU69C,GAAU,aAAa79C,MAAM,IAC7B89C,GAAW,uCAAuC99C,MAAM,IACxD+9C,GAAa,CAAC,IAAK,KAAM,KAAM,KAAK,KAAM,IAAQ,IAAU,KAC5DC,GAAe,GACfC,GAAc,SAAmBrD,GACnC,OAAO,IAAI4C,GAAS1D,eAAec,IAEjCsD,GAAYD,KACZE,GAAQF,GAAYR,GAAQlB,KAC5B6B,GAAaH,GAAYR,GAAQX,QACjCuB,GAAkBJ,KAClBK,GAAOL,GAAYR,GAAQ5B,IAC/BqC,GAAUvc,GAAG,IAAKsc,GAAYR,GAAQZ,KAAKlb,GAAG,IAAKsc,GAAYR,GAAQd,MAAMhb,GAAG,IAAKsc,GAAYR,GAAQnB,OAAO3a,GAAG,IAAKsc,GAAYR,GAAQpB,QAAQ1a,GAAG,IAAKsc,GAAYR,GAAQrB,QAAQza,GAAG,IAAKsc,GAAYR,GAAQxB,QAAQta,GAAG,IAAKsc,GAAYR,GAAQzB,aAAara,GAAG,IAAKsc,GAAYR,GAAQb,QAAQjb,GAAG,IAAKsc,GAAYR,GAAQ7B,YAAYja,GAAG,IAAKsc,GAAYR,GAAQ9B,cAAcha,GAAG,IAAKsc,GAAYR,GAAQ/B,mBAAmB/Z,GAAG,IAAKsc,GAAYR,GAAQhC,YAAY9Z,GAAG,IAAKsc,GAAYR,GAAQjC,aAAa7Z,GAAG,IAAKsc,GAAYR,GAAQlC,eAAe5Z,GAAG,IAAKsc,GAAYR,GAAQnC,oBAAoB3Z,GAAG,IAAKsc,GAAYR,GAAQpC,aAAa1Z,GAAG,IAAKsc,GAAYR,GAAQrC,YAAYzZ,GAAG,CAAC,IAAK,IAAK,IAAK,IAAK,KAAMsc,GAAYR,GAAQf,cACztBwB,GAAUvc,GAAG,KAAMsc,GAAYR,GAAQjB,KAAK7a,GAAGoc,GAAYO,IAC3DA,GAAK3c,GAAGoc,GAAYO,IACpB,IAAK,IAAIr/C,GAAI,EAAGA,GAAI2+C,GAAK1+C,OAAQD,KAAK,CACpC,IAAI87C,IAAY,EAAIyC,GAAS5D,UAAUgE,GAAK3+C,IAAIi/C,GAAWT,GAAQ3B,IAAK2B,GAAQX,QAChFkB,GAAan7C,KAAK+E,MAAMo2C,GAAcjD,IAExC,IAAIwD,IAA4B,EAAIf,GAAS5D,UAAU,OAAQsE,GAAWT,GAAQX,OAAQW,GAAQX,QAC9F0B,IAA2B,EAAIhB,GAAS5D,UAAU,MAAOsE,GAAWT,GAAQX,OAAQW,GAAQX,QAC5F2B,IAA4B,EAAIjB,GAAS5D,UAAU,OAAQsE,GAAWT,GAAQX,OAAQW,GAAQX,QAC9F4B,IAA8B,EAAIlB,GAAS5D,UAAU,SAAUsE,GAAWT,GAAQX,OAAQW,GAAQX,QACtGkB,GAAan7C,KAAK+E,MAAMo2C,GAAcO,IACtCP,GAAan7C,KAAK+E,MAAMo2C,GAAcQ,IACtCR,GAAan7C,KAAK+E,MAAMo2C,GAAcS,IACtCT,GAAan7C,KAAK+E,MAAMo2C,GAAcU,IACtC,IAAIC,GAAkBJ,GAA0Bn7C,MAC5Cw7C,GAAiBJ,GAAyBp7C,MAC1Cy7C,GAAkBJ,GAA0Br7C,MAC5C07C,GAAaJ,GAA4Bt7C,MACzC27C,GAAoBd,GAAYR,GAAQX,QACxCkC,GAAkBf,GAAYR,GAAQtB,UACtC8C,GAAgBhB,GAAYR,GAAQvB,QACxC0C,GAAejd,GAAG,IAAKod,IAAmBpd,GAAG,IAAKqd,IAClDH,GAAgBld,GAAG,IAAKod,IAAmBpd,GAAG,IAAKqd,IACnDhB,GAAan7C,KAAKk8C,IAClBJ,GAAgBhd,GAAG,IAAKqd,IACxBD,GAAkBpd,GAAG,IAAKqd,IAC1BF,GAAWnd,GAAG,IAAKsd,IACnB,IAAIC,IAAyB,EAAI1B,GAAS5D,UAAU,YAAasE,GAAWT,GAAQhB,UAAWgB,GAAQX,QACvGkB,GAAan7C,KAAK+E,MAAMo2C,GAAckB,IACtChB,GAAUvc,GAAGkc,GAASM,IACtBA,GAAMxc,GAAG,IAAK0c,IAAiB1c,GAAGkc,GAASM,IAAOxc,GAAGmc,GAAUM,IAC/DA,GAAWzc,GAAG,IAAK0c,IAAiB1c,GAAGmc,GAAUM,IACjD,IAAK,IAAIe,GAAK,EAAGA,GAAKnB,GAAa9+C,OAAQigD,KACzCnB,GAAamB,IAAIxd,GAAG,IAAK0c,IAAiB1c,GAAGmc,GAAUM,IAEzDC,GAAgB1c,GAAG,IAAK0c,IAAiB1c,GAAGkc,GAASO,IAAYzc,GAAGmc,GAAUM,IAC9EF,GAAU9D,kBAAoB6D,GAAYR,GAAQ1B,KAClD,IAAIqD,GAAQ,SAAa1/C,GACvB,IAAI2/C,EAAW3/C,EAAI+S,QAAQ,UAAU,SAASxU,GAC5C,OAAOA,EAAEiC,iBAEPs+B,EAAM9+B,EAAIR,OACVogD,EAAS,GACTC,EAAS,EACb,MAAOA,EAAS/gB,EAAK,CACnB,IAAIxe,EAASk+B,GACTlD,EAAY,KACZwE,EAAc,EACdC,EAAkB,KAClBC,GAAgB,EACpB,MAAOH,EAAS/gB,IAAQwc,EAAYh7B,EAAOliB,KAAKuhD,EAASE,KACvDv/B,EAASg7B,EACLh7B,EAAOu6B,WACTmF,EAAe,EACfD,EAAkBz/B,GACT0/B,GAAgB,GACzBA,IAEFF,IACAD,IAEF,KAAIG,EAAe,GAAnB,CAGAH,GAAUG,EACVF,GAAeE,EACf,IAAIC,EAAQF,EAAgB3kC,OAC5BwkC,EAAOz8C,KAAK,IAAI88C,EAAMjgD,EAAIkgD,OAAOL,EAASC,EAAaA,MAEzD,OAAOF,GAELjC,GAAQa,GACZvE,GAAU4D,MAAQC,GAAS1D,eAC3BH,GAAU2D,OAASA,GACnB3D,GAAU/yC,IAAMw4C,GAChBzF,GAAU0D,MAAQA,GAClB,IAAIwC,GAAW,GACXC,GAAQ,CACZ,YAAmB,GACnBA,GAAMC,IAAMD,GAAME,KAAOF,GAAMtD,GAAKsD,GAAMG,MAAQH,GAAMI,YAAcJ,GAAM/C,UAAO,EACnF,IAAIoD,GAAoBjF,GACpBkF,GAAWzI,GACX0I,GAAUpF,GACd,SAASqF,GAAcpH,GACrB,OAAOA,aAAiBmH,GAAQvD,QAAU5D,aAAiBmH,GAAQvE,IAErE,IAAIyE,IAAa,EAAIJ,GAAkBhF,oBACvCoF,GAAWhgD,UAAY,CACrBiF,KAAM,QACNg7C,QAAQ,EACRl/C,SAAU,WAER,IADA,IAAI0H,EAAS,GACJ/J,EAAI,EAAGA,EAAItB,KAAK6L,EAAEtK,OAAQD,IACjC+J,EAAOnG,KAAKlF,KAAK6L,EAAEvK,GAAGqC,YAExB,OAAO0H,EAAOg9B,KAAK,KAErBmT,OAAQ,WACN,OAAOx7C,KAAK2D,YAEdm/C,SAAU,WACR,IAAIC,EAAWtiC,UAAUlf,OAAS,QAAsB,IAAjBkf,UAAU,GAAgBA,UAAU,GAAK,OAChF,MAAO,CACL5Y,KAAM7H,KAAK6H,KACXjE,MAAO5D,KAAK2D,WACZ23C,KAAMt7C,KAAKw7C,OAAOuH,MAIxB,IAAIR,IAAc,EAAIE,GAASxI,UAAU2I,IAAY,EAAIJ,GAAkBhF,oBAAqB,CAC9F31C,KAAM,QACNg7C,QAAQ,IAENP,IAAQ,EAAIG,GAASxI,UAAU2I,IAAY,EAAIJ,GAAkBhF,oBAAqB,CACxF31C,KAAM,QACNg7C,QAAQ,EACRrH,OAAQ,WACN,MAAO,UAAYx7C,KAAK2D,cAGxB0+C,IAAO,EAAII,GAASxI,UAAU2I,IAAY,EAAIJ,GAAkBhF,oBAAqB,CAAE31C,KAAM,SAC7Fg3C,IAAK,EAAI4D,GAASxI,UAAU2I,IAAY,EAAIJ,GAAkBhF,oBAAqB,CAAE31C,KAAM,OAC3Fm7C,IAAQ,EAAIP,GAASxI,UAAU2I,IAAY,EAAIJ,GAAkBhF,oBAAqB,CACxF31C,KAAM,MACNg7C,QAAQ,EACRrH,OAAQ,WACN,IAAIuH,EAAWtiC,UAAUlf,OAAS,QAAsB,IAAjBkf,UAAU,GAAgBA,UAAU,GAAK,OAC5EwiC,GAAe,EACfC,GAAgB,EAChBvB,EAAS3hD,KAAK6L,EACdR,EAAS,GACT/J,EAAI,EACR,MAAOqgD,EAAOrgD,aAAcohD,GAAQlE,SAClCyE,GAAe,EACf53C,EAAOnG,KAAKy8C,EAAOrgD,GAAGqC,WAAWpB,eACjCjB,IAEF,MAAOqgD,EAAOrgD,aAAcohD,GAAQpE,MAClC4E,GAAgB,EAChB73C,EAAOnG,KAAKy8C,EAAOrgD,GAAGqC,YACtBrC,IAEF,MAAOqhD,GAAchB,EAAOrgD,IAC1B+J,EAAOnG,KAAKy8C,EAAOrgD,GAAGqC,WAAWpB,eACjCjB,IAEF,KAAOA,EAAIqgD,EAAOpgD,OAAQD,IACxB+J,EAAOnG,KAAKy8C,EAAOrgD,GAAGqC,YAMxB,OAJA0H,EAASA,EAAOg9B,KAAK,IACf4a,GAAgBC,IACpB73C,EAAS03C,EAAW,MAAQ13C,GAEvBA,GAET83C,YAAa,WACX,OAAOnjD,KAAK6L,EAAE,aAAc62C,GAAQlE,YAGxC2D,GAAM/C,KAAOwD,GACbT,GAAMI,YAAcA,GACpBJ,GAAMG,MAAQA,GACdH,GAAMtD,GAAKA,GACXsD,GAAME,KAAOA,GACbF,GAAMC,IAAMY,GACZd,GAAS9H,YAAa,EACtB8H,GAASxC,MAAQwC,GAASj5C,IAAMi5C,GAASvC,OAASuC,GAAStC,WAAQ,EACnE,IAAIwD,GAAStiD,GACTuiD,GAASlB,GACTmB,GAAeC,GAA0BF,IACzCG,GAAQlG,GACZ,SAASiG,GAA0Bl/C,GACjC,GAAIA,GAAOA,EAAI+1C,WACb,OAAO/1C,EAEP,IAAI27C,EAAS,GACb,GAAW,MAAP37C,EACF,IAAK,IAAItB,KAAOsB,EACVnC,OAAOU,UAAUC,eAAeG,KAAKqB,EAAKtB,KAC5Ci9C,EAAOj9C,GAAOsB,EAAItB,IAIxB,OADAi9C,EAAO/7B,QAAU5f,EACV27C,EAGX,IAAIyD,GAAa,SAAoBxG,GACnC,OAAO,IAAImG,GAAOlH,WAAWe,IAE3ByG,GAAUD,KACVE,GAAaF,KACbG,GAAWH,KACXI,GAAmBJ,KACnBK,GAAyBL,KACzBM,GAAWN,KACXO,GAAeP,KACfQ,GAAQR,GAAWJ,GAAOjB,KAC1B8B,GAAcT,KACdU,GAAaV,GAAWJ,GAAOjB,KAC/BgC,GAAQX,GAAWJ,GAAOjB,KAC1BiC,GAAsBZ,KACtBa,GAAkBb,KAClBc,GAAoBd,KACpBe,GAAyBf,KACzBgB,GAAkBhB,KAClBiB,GAAoBjB,GAAWJ,GAAOjB,KACtCuC,GAAsBlB,GAAWJ,GAAOjB,KACxCwC,GAA2BnB,GAAWJ,GAAOjB,KAC7CyC,GAAoBpB,GAAWJ,GAAOjB,KACtC0C,GAAuBrB,KACvBsB,GAAyBtB,KACzBuB,GAA8BvB,KAC9BwB,GAAuBxB,KACvByB,GAAiBzB,KACjB0B,GAAqB1B,KACrB2B,GAAU3B,GAAWJ,GAAOf,OAC5B+C,GAAgB5B,KAChB6B,GAAe7B,GAAWJ,GAAOf,OACjCiD,GAAiB9B,GAAWJ,GAAOd,aACnCiD,GAA+B/B,KAC/BgC,GAAchC,KACdiC,GAAiBjC,KACjBkC,GAAkBlC,KAClBmC,GAAOnC,GAAWJ,GAAOxE,IAC7B6E,GAAQ1f,GAAGwf,GAAM3E,GAAI+G,IAAM5hB,GAAGwf,GAAMhF,SAAUmF,IAAY3f,GAAGwf,GAAMjF,OAAQqF,IAAU5f,GAAGwf,GAAMlF,MAAOuF,IACrGF,GAAW3f,GAAGwf,GAAMlF,MAAOuF,IAC3BA,GAAiB7f,GAAGwf,GAAMlF,MAAOwF,IACjCJ,GAAQ1f,GAAGwf,GAAMrF,IAAK4F,IAAU/f,GAAGwf,GAAMrE,OAAQ4E,IAAU/f,GAAGwf,GAAM1E,UAAWmF,IAAOjgB,GAAGwf,GAAM5E,IAAKmF,IACpGD,GAAuB9f,GAAGwf,GAAMrF,IAAKiG,IAAOpgB,GAAGwf,GAAMrE,OAAQiF,IAAOpgB,GAAGwf,GAAM5E,IAAKwF,IAAOpgB,GAAGwf,GAAM1E,UAAWsF,IAC7GL,GAAS/f,GAAGwf,GAAMxE,IAAKgF,IACvBkB,GAAelhB,GAAGwf,GAAMxE,IAAKmG,IAC7BnB,GAAahgB,GAAGwf,GAAMrF,IAAK8F,IAAOjgB,GAAGwf,GAAMrE,OAAQ4E,IAAU/f,GAAGwf,GAAM5E,IAAKmF,IAAU/f,GAAGwf,GAAM1E,UAAWiF,IACzGoB,GAAmBnhB,GAAGwf,GAAMrF,IAAKiH,IAASphB,GAAGwf,GAAMrE,OAAQ+F,IAAgBlhB,GAAGwf,GAAM5E,IAAKsG,IAAgBlhB,GAAGwf,GAAM1E,UAAWoG,IAC7HjB,GAAMjgB,GAAGwf,GAAMxE,IAAKgF,IACpBoB,GAAQphB,GAAGwf,GAAMxE,IAAKmG,IACtBlB,GAAMjgB,GAAGwf,GAAMvE,MAAOiF,IAAalgB,GAAGwf,GAAMlF,MAAO8F,IACnDF,GAAYlgB,GAAGwf,GAAM5E,IAAKuF,IAC1BA,GAAWngB,GAAGwf,GAAMlF,MAAO8F,IAC3BgB,GAAQphB,GAAGwf,GAAMvE,MAAOoG,IACxBA,GAAcrhB,GAAGwf,GAAM5E,IAAK0G,IAC5B,IAAIO,GAAc,CAACrC,GAAMrE,OAAQqE,GAAMtE,GAAIsE,GAAM1E,UAAW0E,GAAM5E,IAAK4E,GAAM7E,KAAM6E,GAAM9E,MAAO8E,GAAMhF,SAAUgF,GAAMlF,MAAOkF,GAAMrF,IAAKqF,GAAMnF,WAAYmF,GAAMpF,IAAKoF,GAAM/F,WACvKqI,GAAiB,CAACtC,GAAMvE,MAAOuE,GAAMxE,IAAKwE,GAAM/E,MAAO+E,GAAMzE,YAAayE,GAAM3F,WAAY2F,GAAM5F,aAAc4F,GAAM7F,kBAAmB6F,GAAM9F,WAAY8F,GAAMvF,UAAWuF,GAAMxF,YAAawF,GAAMzF,iBAAkByF,GAAM1F,WACjOsG,GAAMpgB,GAAGwf,GAAMvF,UAAWqG,IAAiBtgB,GAAGwf,GAAMxF,YAAauG,IAAmBvgB,GAAGwf,GAAMzF,iBAAkByG,IAAwBxgB,GAAGwf,GAAM1F,UAAW2G,IAC3JJ,GAAoBrgB,GAAGwf,GAAMvF,UAAWqG,IAAiBtgB,GAAGwf,GAAMxF,YAAauG,IAAmBvgB,GAAGwf,GAAMzF,iBAAkByG,IAAwBxgB,GAAGwf,GAAM1F,UAAW2G,IACzKH,GAAgBtgB,GAAGwf,GAAM3F,WAAYuG,IACrCG,GAAkBvgB,GAAGwf,GAAM5F,aAAcwG,IACzCI,GAAuBxgB,GAAGwf,GAAM7F,kBAAmByG,IACnDK,GAAgBzgB,GAAGwf,GAAM9F,WAAY0G,IACrCM,GAAkB1gB,GAAGwf,GAAM3F,WAAYuG,IACvCO,GAAoB3gB,GAAGwf,GAAM5F,aAAcwG,IAC3CQ,GAAyB5gB,GAAGwf,GAAM7F,kBAAmByG,IACrDS,GAAkB7gB,GAAGwf,GAAM9F,WAAY0G,IACvCU,GAAqB9gB,GAAGwf,GAAM3F,WAAYuG,IAC1CW,GAAuB/gB,GAAGwf,GAAM5F,aAAcwG,IAC9CY,GAA4BhhB,GAAGwf,GAAM7F,kBAAmByG,IACxDa,GAAqBjhB,GAAGwf,GAAM9F,WAAY0G,IAC1CE,GAAgBtgB,GAAG6hB,GAAanB,IAChCH,GAAkBvgB,GAAG6hB,GAAalB,IAClCH,GAAuBxgB,GAAG6hB,GAAajB,IACvCH,GAAgBzgB,GAAG6hB,GAAahB,IAChCP,GAAgBtgB,GAAG8hB,GAAgBhB,IACnCP,GAAkBvgB,GAAG8hB,GAAgBf,IACrCP,GAAuBxgB,GAAG8hB,GAAgBd,IAC1CP,GAAgBzgB,GAAG8hB,GAAgBb,IACnCP,GAAkB1gB,GAAG6hB,GAAanB,IAClCC,GAAoB3gB,GAAG6hB,GAAalB,IACpCC,GAAyB5gB,GAAG6hB,GAAajB,IACzCC,GAAkB7gB,GAAG6hB,GAAahB,IAClCH,GAAkB1gB,GAAG8hB,GAAgBpB,IACrCC,GAAoB3gB,GAAG8hB,GAAgBnB,IACvCC,GAAyB5gB,GAAG8hB,GAAgBlB,IAC5CC,GAAkB7gB,GAAG8hB,GAAgBjB,IACrCC,GAAqB9gB,GAAG6hB,GAAanB,IACrCK,GAAuB/gB,GAAG6hB,GAAalB,IACvCK,GAA4BhhB,GAAG6hB,GAAajB,IAC5CK,GAAqBjhB,GAAG6hB,GAAahB,IACrCC,GAAqB9gB,GAAG8hB,GAAgBhB,IACxCC,GAAuB/gB,GAAG8hB,GAAgBf,IAC1CC,GAA4BhhB,GAAG8hB,GAAgBd,IAC/CC,GAAqBjhB,GAAG8hB,GAAgBb,IACxCb,GAAMpgB,GAAG6hB,GAAazB,IACtBC,GAAoBrgB,GAAG6hB,GAAazB,IACpCA,GAAMpgB,GAAG8hB,GAAgBzB,IACzBA,GAAoBrgB,GAAG8hB,GAAgBzB,IACvCT,GAAS5f,GAAGwf,GAAMrF,IAAKoH,IAAgBvhB,GAAGwf,GAAMrE,OAAQoG,IAAgBvhB,GAAGwf,GAAM5E,IAAK2G,IAAgBvhB,GAAGwf,GAAM1E,UAAWyG,IAC1HA,GAAevhB,GAAG6hB,GAAaN,IAAgBvhB,GAAG8hB,GAAgBN,IAClEA,GAA6BxhB,GAAG6hB,GAAaN,IAAgBvhB,GAAG8hB,GAAgBN,IAChF,IAAIO,GAAqB,CAACvC,GAAMrE,OAAQqE,GAAM5E,IAAK4E,GAAM7E,KAAM6E,GAAM9E,MAAO8E,GAAM/E,MAAO+E,GAAMnF,WAAYmF,GAAMpF,IAAKoF,GAAM/F,UAAW+F,GAAMrF,KAC7I4F,GAAS/f,GAAG+hB,GAAoBN,IAAazhB,GAAGwf,GAAMtE,GAAIwG,IAC1DzB,GAAMjgB,GAAG+hB,GAAoBN,IAAazhB,GAAGwf,GAAMtE,GAAIwG,IACvD1B,GAAahgB,GAAG+hB,GAAoBN,IACpCA,GAAYzhB,GAAG+hB,GAAoBN,IAAazhB,GAAGwf,GAAMtE,GAAIwG,IAAgB1hB,GAAGwf,GAAMxE,IAAK2G,IAC3FA,GAAgB3hB,GAAG+hB,GAAoBN,IACvCC,GAAe1hB,GAAGwf,GAAMrF,IAAK+G,IAAgBlhB,GAAGwf,GAAMrE,OAAQ+F,IAAgBlhB,GAAGwf,GAAM1E,UAAWsG,IAClG,IAAIY,GAAQ,SAAcrE,GACxB,IAAI9gB,EAAM8gB,EAAOpgD,OACbqgD,EAAS,EACTqE,EAAS,GACTC,EAAa,GACjB,MAAOtE,EAAS/gB,EAAK,CACnB,IAAIxe,EAASqhC,GACTyC,EAAc,KACd9I,EAAY,KACZ+I,EAAc,EACdtE,EAAkB,KAClBC,GAAgB,EACpB,MAAOH,EAAS/gB,KAASslB,EAAc9jC,EAAOliB,KAAKwhD,EAAOC,KACxDsE,EAAWhhD,KAAKy8C,EAAOC,MAEzB,MAAOA,EAAS/gB,IAAQwc,EAAY8I,GAAe9jC,EAAOliB,KAAKwhD,EAAOC,KACpEuE,EAAc,KACd9jC,EAASg7B,EACLh7B,EAAOu6B,WACTmF,EAAe,EACfD,EAAkBz/B,GACT0/B,GAAgB,GACzBA,IAEFH,IACAwE,IAEF,GAAIrE,EAAe,EACjB,IAAK,IAAIzgD,EAAIsgD,EAASwE,EAAa9kD,EAAIsgD,EAAQtgD,IAC7C4kD,EAAWhhD,KAAKy8C,EAAOrgD,QAEpB,CACD4kD,EAAW3kD,OAAS,IACtB0kD,EAAO/gD,KAAK,IAAIm+C,GAAOhB,KAAK6D,IAC5BA,EAAa,IAEftE,GAAUG,EACVqE,GAAerE,EACf,IAAIsE,EAAQvE,EAAgB3kC,OAC5B8oC,EAAO/gD,KAAK,IAAImhD,EAAM1E,EAAO79C,MAAM89C,EAASwE,EAAaxE,MAM7D,OAHIsE,EAAW3kD,OAAS,GACtB0kD,EAAO/gD,KAAK,IAAIm+C,GAAOhB,KAAK6D,IAEvBD,GAET/D,GAAStC,MAAQwD,GAAOlH,WACxBgG,GAASvC,OAAS2D,GAClBpB,GAASj5C,IAAM+8C,GACf9D,GAASxC,MAAQgE,GACjB3J,GAAQK,YAAa,EACrBL,GAAQuM,SAAWvM,GAAQpmC,KAAOomC,GAAQwM,QAAUxM,GAAQyM,OAASzM,GAAQ0M,QAAU1M,GAAQE,SAAWF,GAAQ2M,UAAO,EACzH,IAAIC,GAAS3M,GACT4M,GAAWvM,GACXoM,GAAUI,GAAwBD,IAClCE,GAAW9K,GACXuK,GAAUM,GAAwBC,IAClCC,GAAU7E,GACVsE,GAASK,GAAwBE,IACrC,SAASF,GAAwBxiD,GAC/B,GAAIA,GAAOA,EAAI+1C,WACb,OAAO/1C,EAEP,IAAI27C,EAAS,GACb,GAAW,MAAP37C,EACF,IAAK,IAAItB,KAAOsB,EACVnC,OAAOU,UAAUC,eAAeG,KAAKqB,EAAKtB,KAC5Ci9C,EAAOj9C,GAAOsB,EAAItB,IAIxB,OADAi9C,EAAO/7B,QAAU5f,EACV27C,EAGN98C,MAAMC,UACTD,MAAMC,QAAU,SAASsS,GACvB,MAA+C,mBAAxCvT,OAAOU,UAAUe,SAASX,KAAKyS,KAG1C,IAAI6wC,GAAW,SAAmBvkD,GAChC,OAAOykD,GAAOv9C,IAAIs9C,GAAQt9C,IAAIlH,KAE5B2kD,GAAO,SAAe3kD,GAIxB,IAHA,IAAI8F,EAAO4Y,UAAUlf,OAAS,QAAsB,IAAjBkf,UAAU,GAAgBA,UAAU,GAAK,KACxEkhC,EAAS2E,GAASvkD,GAClBilD,EAAW,GACN1lD,EAAI,EAAGA,EAAIqgD,EAAOpgD,OAAQD,IAAK,CACtC,IAAIi6C,EAAQoG,EAAOrgD,IACfi6C,EAAMsH,QAAYh7C,GAAQ0zC,EAAM1zC,OAASA,GAC3Cm/C,EAAS9hD,KAAKq2C,EAAMuH,YAGxB,OAAOkE,GAELC,GAAQ,SAAellD,GACzB,IAAI8F,EAAO4Y,UAAUlf,OAAS,QAAsB,IAAjBkf,UAAU,GAAgBA,UAAU,GAAK,KACxEkhC,EAAS2E,GAASvkD,GACtB,OAAyB,IAAlB4/C,EAAOpgD,QAAgBogD,EAAO,GAAGkB,UAAYh7C,GAAQ85C,EAAO,GAAG95C,OAASA,IAEjFkyC,GAAQ2M,KAAOA,GACf3M,GAAQE,SAAW0M,GAAO1M,SAC1BF,GAAQ0M,QAAUA,GAClB1M,GAAQyM,OAASA,GACjBzM,GAAQwM,QAAUA,GAClBxM,GAAQpmC,KAAOszC,GACflN,GAAQuM,SAAWA,GACnB,IAAIY,GAAYnN,GACZoN,GAAiB,CAACrkB,EAAOskB,EAAWC,KACtC,MAAMC,EAAe,CACnBC,KAAMF,EAAeE,KACrBC,OAAQH,EAAeG,OACvBC,OAAQJ,EAAeI,OACvBC,UAAWL,EAAeK,UAC1BC,cAAeN,EAAeM,cAC9BC,WAAYP,EAAeO,YAEvBC,EAAiB,CACrB,CAACP,EAAaC,MAAO,CACnB3uC,IAAK,KAAO0uC,EAAaC,KACzBO,cAAe,IACfjgD,KAAM,QAER,CAACy/C,EAAaE,QAAS,CACrB5uC,IAAK0uC,EAAaE,OAClBM,cAAe,IACfjgD,KAAM,UAER,CAACy/C,EAAaG,QAAS,CACrB7uC,IAAK0uC,EAAaG,OAClBK,cAAe,IACfjgD,KAAM,UAER,CAACy/C,EAAaI,WAAY,CACxB9uC,IAAK0uC,EAAaI,UAClBI,cAAe,IACfjgD,KAAM,aAER,CAACy/C,EAAaK,eAAgB,CAC5B/uC,IAAK0uC,EAAaK,cAClBG,cAAe,SACfjgD,KAAM,kBAER,CAACy/C,EAAaM,YAAa,CACzBhvC,IAAK0uC,EAAaM,WAClBE,cAAe,IACfjgD,KAAM,eAER,YAAa,CACXigD,cAAe,IACflvC,IAAK,aACL/Q,KAAM,QAGJkgD,EAAOC,GAAcllB,EAAO+kB,GAC5BI,EAAOC,GAAcH,EAAMF,GAC3Bx8C,EAAS,GAAGoT,OAAOxU,MAAM,GAAIg+C,GAGnC,OAFIb,GACFe,GAAc98C,GACTA,GAET,SAAS28C,GAAcjmD,EAAK8lD,GAC1B,IAAIx8C,EAAS,GACT+8C,GAAc,EACdC,EAAgB,KAChBC,EAAQpB,GAAUR,KAAK3kD,GACvBwmD,GAAmB,EAavB,GAZID,EAAM/mD,OAAS,IACjB6mD,EAAarmD,EAAIkS,QAAQq0C,EAAM,GAAG1kD,OAClC2kD,GAAmB,GAErBrmD,OAAOkc,KAAKypC,GAAgBl/C,QAAS6/C,IACnC,MAAMC,EAAK1mD,EAAIkS,QAAQu0C,GACnBC,GAAM,IAAML,EAAa,GAAKK,EAAKL,KACrCA,EAAaK,EACbJ,EAAgBG,EAChBD,GAAmB,KAGnBA,IAAuC,IAAnBF,EAAsB,CAC5C,IAAIK,EAAU3mD,EAAIkgD,OAAO,EAAGmG,GACxBO,EAAU5mD,EAAIkgD,OAAOmG,EAAYE,EAAM,GAAG1kD,MAAMrC,QAChDqnD,EAAW7mD,EAAIkgD,OAAOmG,EAAaE,EAAM,GAAG1kD,MAAMrC,QAItD,OAHA8J,EAAOnG,KAAKwjD,GACZr9C,EAAOnG,KAAKyjD,GACZt9C,EAASA,EAAOoT,OAAOupC,GAAcY,EAAUf,IACxCx8C,EAET,GAAIg9C,EAAe,CACjB,IAAIK,EAAU3mD,EAAIkgD,OAAO,EAAGmG,GAC5B,MAAMS,EAAOR,EACb,IAAIO,EAAW7mD,EAAIkgD,OAAOmG,EAAaS,EAAKtnD,QAC5C,GAAIQ,EAAI+S,QAAQ,MAAO,IAAIvT,SAAyB,EAAdsnD,EAAKtnD,OACzC,MAAO,CAACQ,GAEV,MAAMixB,EAAQ41B,EAAS51B,MACrB,IAAI+pB,OACF,MAAQ8K,EAAegB,GAAMf,eAAiB,KAAO,KAAOD,EAAegB,GAAMjwC,IAAM,IAAM,IAAM,KAAOivC,EAAegB,GAAMjwC,IAAM,IAAMivC,EAAegB,GAAMjwC,IAAM,IAAM,IAC5K,MAGJ,GAAKoa,GAAUA,EAAM,GAGd,CACD01B,GACFr9C,EAAOnG,KAAKwjD,GAEd,MAAMI,EAAS,CACbpJ,MAAOmJ,EACPnhB,QAASsgB,GAAch1B,EAAM,GAAI60B,GACjCjvC,IAAKoa,EAAM,GACXnrB,KAAMggD,EAAegB,GAAMhhD,MAE7BwD,EAAOnG,KAAK4jD,GACZF,EAAWA,EAAS3G,OAAOjvB,EAAM,GAAGzxB,aAbpCmnD,GAAoBG,EACpBx9C,EAAOnG,KAAKwjD,GAed,OADAr9C,EAASA,EAAOoT,OAAOupC,GAAcY,EAAUf,IACxCx8C,EAEP,OAAItJ,EACK,CAACA,GAED,GAIb,SAASmmD,GAAcH,EAAMF,GAC3B,MAAMx8C,EAAS,GAUf,OATA08C,EAAKp/C,QAAS2I,IACQ,kBAATA,EACTjG,EAAOnG,KAAK,CAAE6jD,MAAO,GAAInlD,MAAO0N,IAE5Bu2C,EAAev2C,EAAKouC,QACtBr0C,EAAOnG,KAAK8jD,GAAa13C,MAIxBjG,EAET,SAAS29C,GAAa13C,GACpB,MAAMjG,EAAS,GAEf,OADA49C,GAAe33C,EAAMjG,EAAQ,IACtBA,EAET,SAAS49C,GAAe33C,EAAMjG,EAAQ09C,GACpCz3C,EAAKo2B,QAAQ/+B,QAAS/G,IACF,kBAAPA,EACTyJ,EAAOnG,KAAK,CACV6jD,MAAOG,GAAiBH,EAAMtqC,OAAO,CAACnN,EAAKzJ,QAC3CjE,MAAOhC,IAGTqnD,GACErnD,EACAyJ,EACA69C,GAAiB,CAACtnD,EAAGiG,MAAM4W,OAAO,CAACnN,EAAKzJ,OAAO4W,OAAOsqC,OAK9D,SAASG,GAAiBC,GACxB,MAAO,IAAI,IAAIpjD,IAAIojD,IAErB,SAAShB,GAAciB,GACrB,MAAM/9C,EAAS,GAYf,OAXA+9C,EAAMzgD,QAASmB,IACb,MAAMw+C,EAAQpB,GAAUR,KAAK58C,EAAIlG,OACjC,GAAI0kD,EAAM/mD,OAAQ,CAChB,MAAM8nD,EAASv/C,EAAIlG,MAAMkR,QAAQwzC,EAAM,GAAG1kD,MAAO,IACjDyH,EAAOnG,KAAK,CAAE6jD,MAAOj/C,EAAIi/C,MAAOnlD,MAAOylD,IACvCv/C,EAAIi/C,MAAQ,CAAC,OAAOtqC,OAAO3U,EAAIi/C,OAC/Bj/C,EAAIwxC,KAAOgN,EAAM,GAAGhN,KACpBxxC,EAAIlG,MAAQ0kD,EAAM,GAAG1kD,MAEvByH,EAAOnG,KAAK4E,KAEPuB,EAET,MAAMi+C,GAAc,CAAC,MAAO,MAAO,OAAQ,OAAQ,MAAO,OACpDC,GAAc,CAAC,MAAO,YAAa,OAAQ,aAC3CC,GAAc,CAAC,MAAO,YAAa,MAAO,QAC1CC,GAAc,CAClBv3C,KAAM,gBACN8c,WAAY,CAAE6pB,YACdzmC,MAAO,CACLmkC,UAAW,CAAE1uC,KAAMxG,OAAQ4iB,QAAS,IACpCylC,OAAQ,CAAE7hD,KAAMxG,OAAQ4iB,QAAS,IACjC0lC,SAAU,CAAE9hD,KAAMob,QAASgB,SAAS,GACpCyjB,QAAS,CAAE7/B,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GAC7C2B,QAAS,CAAEpwC,KAAMob,QAASgB,SAAS,GACnC2lC,MAAO,CAAE/hD,KAAM3E,MAAO+gB,QAAS,IAAM,IACrC81B,QAAS,CAAElyC,KAAMob,QAASgB,SAAS,GACnC4lC,WAAY,CAAEhiD,KAAMob,QAASgB,SAAS,GACtC6lC,MAAO,CAAEjiD,KAAMob,QAASgB,SAAS,GACjCojC,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyC,aAAc,CAAElxC,KAAM3F,OAAQ+hB,QAAS,QAEvC8lC,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,IAEzCh7B,MAAO,CAAC,iBACRxS,SAAU,CACR,mBACE,GAAI9I,KAAKi4C,QACP,MAAO,CAAC,CAAEr0C,MAAO5D,KAAK+4C,aAAaiR,kBAErC,MAAMC,EAAU9C,GACdnnD,KAAKkqD,WAAWlqD,KAAK0nC,SACrB1nC,KAAK+5C,UAAY/5C,KAAK+pD,YAAYI,SAClCnqD,KAAKqnD,gBAcP,OAZA4C,EAAQthD,QAAS2nB,IACfA,EAAE85B,IAAMpqD,KAAKqqD,UAAU/5B,EAAG,OAC1BA,EAAEi3B,KAAOvnD,KAAKqqD,UAAU/5B,EAAG,QAC3BA,EAAEk3B,OAASxnD,KAAKqqD,UAAU/5B,EAAG,UAC7BA,EAAEm3B,OAASznD,KAAKqqD,UAAU/5B,EAAG,UAC7BA,EAAEo3B,UAAY1nD,KAAKqqD,UAAU/5B,EAAG,aAChCA,EAAEg6B,OAAStqD,KAAKqqD,UAAU/5B,EAAG,eAC7BA,EAAEi6B,UAAYvqD,KAAKqqD,UAAU/5B,EAAG,kBAChCA,EAAE0W,IAAMhnC,KAAKqqD,UAAU/5B,EAAG,OAC1BA,EAAEk6B,MAAQxqD,KAAKyqD,eAAen6B,GAC9BA,EAAE1sB,MAAQ5D,KAAK0qD,sBAAsBp6B,EAAE1sB,SAElCqmD,GAET,mBACE,OAAIjqD,KAAKi4C,QACAj4C,KAAK+4C,aAAaiR,gBAElBhqD,KAAKkqD,WAAWlqD,KAAK0nC,WAIlC/Z,QAAS,CACP,UAAUs8B,EAASpiD,GACjB,OAAOoiD,EAAQlB,QAA0C,IAAjCkB,EAAQlB,MAAM90C,QAAQpM,IAEhD,eAAeoiD,GACb,IAAIjlD,EAAQilD,EAAQrmD,MAAM+mD,YAAY,KACtC,MAAMC,EAAaX,EAAQrmD,MAAM+mD,YAAY,KACzCC,EAAa5lD,IACfA,GAAS,GACX,MAAM6C,EAAOoiD,EAAQrmD,MAAMinD,UAAU7lD,EAAQ,EAAGilD,EAAQrmD,MAAMrC,QACxDupD,EAAU9lD,EAAQ,GAAKskD,GAAYjrC,KAAMje,GAAMyH,EAAKtF,cAAc2W,SAAS9Y,IAGjF,OAFI0qD,GACF9qD,KAAK+qD,aAAad,GACba,GAET,aAAab,GACX,MAAMO,EAAQ,IAAIQ,MAGlB,SAASC,EAAOC,GACd,MAAMC,EAAQD,EAAIhpC,KAAK,GAAGu2B,MAAQ,IAClCwR,EAAQvR,OAAS9a,KAAKwtB,MAAMF,EAAIhpC,KAAK,GAAGw2B,OAASyS,GAAS,KAC1DX,EAAM5f,oBAAoB,OAAQqgB,GALpCT,EAAMa,IAAMpB,EAAQrmD,MACpB4mD,EAAM7f,iBAAiB,OAAQsgB,IAOjC,WAAWvjB,GACT,MAAM4jB,EAAW,YACXC,EAAY,aACZC,EAAW,IAAI9jB,EAAQ+jB,SAAS,IAAI1O,OAAOuO,EAAU,QAAQrpD,IAChEiY,GAAMA,EAAElV,OAEL0mD,EAAiBhkB,EASvB,OARA8jB,EAAS7iD,QAAS3D,IAChB,MAAM2mD,EAASD,EAAeb,UAC5B7lD,EAAQsmD,EAAS/pD,OACjBmqD,EAAez3C,QAAQs3C,EAAWvmD,IAE9B4mD,EAAO5rD,KAAK4pD,MAAMlD,KAAMmF,GAAUA,EAAMC,MAAQH,GACtDjkB,EAAUA,EAAQqkB,WAAWJ,EAAQ,MAAa,MAARC,OAAe,EAASA,EAAKI,WAAa,cAE/EtkB,GAET,QAAQuiB,GACN,IAAKjqD,KAAK6pD,YAAc7pD,KAAKqqD,UAAUJ,EAAS,OAAQ,CACtD,MAAM2B,EAAO5rD,KAAK4pD,MAAMlD,KACrBhqB,IAA6C,IAAvCutB,EAAQrmD,MAAMqQ,QAAQyoB,EAAEsvB,WAEjChsD,KAAKusB,MAAM,gBAAiBq/B,KAGhC,sBAAsBhoD,GACpB,IAAIqoD,EACJ,GAAIjsD,KAAK6pD,WACPoC,EAAY,OACP,CACL,MAAMC,EAAalsD,KAAKmsD,qBACxBF,EAAYC,EAAa,GAAK,GAEhC,OAAOtoD,EAAMmoD,WACX,sEACClgD,GACQ,2BAA2BogD,QAAgBpgD,aAIxD,qBACE,MAAMqgD,EAAalsD,KAAK0nC,QAAQ5yB,QAC9B,IAAIioC,OAAO,UAAgB,KAC3B,IAEIqP,EAAepsD,KAAK0nC,QAAQ5yB,QAChC,IAAIioC,OAAO,gBAAiB,KAC5B,IAEF,OAAOmP,EAAW3qD,SAAW6qD,EAAa7qD,UAI1C8qD,GAAe,CAAEh6C,MAAO,4BACxBi6C,GAAe,CAAEj6C,MAAO,0BACxBk6C,GAAe,CAAC,aAChBC,GAAe,CAAC,aACtB,SAASC,GAAc/4B,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaqW,GAAmB,MAAO,CAC5CjvB,MAAOJ,GAAe,CAAC,6BAA8B,CAAE,oBAAqB+Z,EAAO69B,eAClF,CACA79B,EAAOq7B,eAAe8C,UA6Dbl/B,KAAaqW,GAAmB,MAAO,CAC/Cv+B,IAAK,EACL+kC,UAAWtb,EAASkgC,kBACnB,KAAM,EAAGF,MAhEuBvhC,KAAaqW,GAAmB,MAAO,CACxEv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAE,oBAAqB+Z,EAAO69B,cACnD,EACA5+B,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAWkC,EAASmgC,iBAAkB,CAAC1C,EAAS3oD,KAC5F2pB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKzB,EACL+Q,MAAO,wBACN,EACA4Y,KAAaI,GAAYrB,GAAwBigC,EAAQG,IAAM,IAAM,QAAS,CAC7E/3C,MAAOJ,GAAe,CACpB,oBAAqB+Z,EAAO69B,WAC5B,gBAAiBI,EAAQ1C,KACzB,kBAAmBv7B,EAAOisB,SAAWgS,EAAQzC,OAC7C,kBAAmByC,EAAQxC,OAC3B,qBAAsBwC,EAAQvC,UAC9B,wBAAyB17B,EAAO69B,YAAcI,EAAQK,OACtD,2BAA4Bt+B,EAAO69B,YAAcI,EAAQM,UACzD,gBAAiBv+B,EAAO69B,aAAe79B,EAAO89B,OAASG,EAAQjjB,MAEjEsU,KAAM2O,EAAQ3O,KACd1zC,OAAQqiD,EAAQ3O,KAAOtvB,EAAO+9B,YAAYniD,OAAS,KACnDglD,IAAK3C,EAAQ3O,KAAOtvB,EAAO+9B,YAAY6C,IAAM,KAC7C/S,QAAUD,GAAWptB,EAASqgC,QAAQ5C,IACrC,CACDhmC,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOisB,SAAWhtB,KAAaqW,GAAmBva,GAAU,CAAEhkB,IAAK,GAAK,CACtE8nB,GACE6I,EAAKxH,OACLF,EAAO29B,SAAW,qBAAuB39B,EAAO09B,OAAS,gBAAkB19B,EAAOuqB,UAClF,GACA,IAAM,CACJt4B,GAAYs7B,EAAqB,CAC/BrnC,KAAM,UACNG,MAAOJ,GAAe,CAAC,mBAAoB,CAAE,wBAAyB+Z,EAAO29B,aAC5E,KAAM,EAAG,CAAC,YAGjB9mB,GAAgB,IAAMrwB,GAAgBwZ,EAAO+sB,aAAaiR,iBAAkB,IAC3E,KAAOC,EAAQG,KAAOH,EAAQO,OAASv/B,KAAaqW,GAAmBva,GAAU,CAAEhkB,IAAK,GAAK,CAC9Fw+B,GAAgB,MAAO8qB,GAAc,CACnC9qB,GAAgB,MAAO,CACrBlvB,MAAO,iBACPE,MAAOnB,GAAe,CACpB,mBAAoB,QAAQ64C,EAAQrmD,UACpC80C,OAAQuR,EAAQvR,UAEjB,KAAM,KAEXnX,GAAgB,MAAO+qB,GAAc,CACnC/qB,GAAgB,OAAQ,KAAM/uB,GAAgBy3C,EAAQrmD,OAAQ,MAE/D,MAAQqnB,KAAaqW,GAAmB,OAAQ,CACjDv+B,IAAK,EACL+kC,UAAWmiB,EAAQrmD,OAClB,KAAM,EAAG2oD,OAEdx3C,EAAG,GACF,KAAM,CAAC,QAAS,OAAQ,SAAU,MAAO,iBAE5C,OACH,KAIF,GAEL,IAAI+3C,GAAgC7W,GAAYwT,GAAa,CAAC,CAAC,SAAUgD,MACzE,MAAMM,GAAoB,oBACpBC,GAAgC,qBAAX92C,OACrB+2C,GAAqC,qBAAd5iB,UACvB6iB,GAAWF,KAAgB,iBAAkB92C,QAAU+2C,IAAiB5iB,UAAU8iB,iBAAmB,GACrGC,GAASF,GAAW,CAAC,cAAgB,CAAC,SACtCG,GAA6BC,IACjC,MAAMC,EAAsC,oBAAjBD,EAC3B,IAAKC,GAAuC,kBAAjBD,EACzB,MAAM,IAAIjuD,MACR,kEAGJ,MAAO,CACLyb,QAASyyC,EAAcD,EAAeA,EAAaxyC,QACnD0yC,WAAYF,EAAaE,YAAc,CAAEl8C,GAASA,GAClDmpC,OAAQ6S,EAAa7S,QAAU2S,GAC/BK,YAAsC,IAA1BH,EAAaG,UACzBC,gBAA8C,IAA9BJ,EAAaI,cAC7BC,QAAS1qC,QAAQqqC,EAAaK,WAG5BC,GAAc,EAAGtzC,QAAOQ,UAAS0yC,iBACjCA,EAAWlzC,IACbQ,EAAQR,IAGNuzC,GAAoB,EAAG75C,KAAIsG,QAAOQ,UAAS0yC,iBAC/Crc,WAAW,KACT,MAAM,cAAE2c,GAAkBnnB,SACtBmnB,GAA2C,WAA1BA,EAAcpkB,UAAyB11B,EAAGqnC,SAASyS,IACtEF,GAAY,CAAEtzC,QAAOQ,UAAS0yC,gBAE/B,IAECO,GAAU,EAAG/5C,KAAIsG,QAAOQ,UAAS0yC,iBACrC,MAAMtrC,EAAO5H,EAAM4H,MAAQ5H,EAAM0zC,cAAgB1zC,EAAM0zC,eACjDC,EAAiB/rC,EAAOA,EAAKjO,QAAQD,GAAM,GAAKA,EAAGqnC,SAAS/gC,EAAM1S,QACnEqmD,GAGLL,GAAY,CAAEtzC,QAAOQ,UAAS0yC,gBAE1Bx/B,GAAc,CAACha,GAAMpQ,YACzB,MAAM,OACJ62C,EAAM,QACN3/B,EAAO,WACP0yC,EAAU,SACVC,EAAQ,aACRC,EAAY,QACZC,GACEN,GAA0BzpD,GAC9B,GAAK6pD,EAAL,CASA,GANAz5C,EAAG+4C,IAAqBtS,EAAOx4C,IAAKisD,IAAc,CAChD5zC,MAAO4zC,EACPC,UAAWxnB,SAASynB,gBACpBtzC,QAAUR,GAAUyzC,GAAQ,CAAE/5C,KAAIsG,QAAOQ,UAAS0yC,eAClDG,aAEED,EAAc,CAChB,MAAMW,EAAoB,CACxB/zC,MAAO,OACP6zC,UAAWj4C,OACX4E,QAAUR,GAAUuzC,GAAkB,CAAE75C,KAAIsG,QAAOQ,UAAS0yC,eAC5DG,WAEF35C,EAAG+4C,IAAqB,IAAI/4C,EAAG+4C,IAAoBsB,GAErDr6C,EAAG+4C,IAAmBpkD,QACpB,EAAG2R,QAAO6zC,YAAWrzC,QAASwzC,KAAkBnd,WAAW,KACpDn9B,EAAG+4C,KAGRoB,EAAUxjB,iBAAiBrwB,EAAOg0C,EAAaX,IAC9C,MAGDl/B,GAAaza,IACjB,MAAMu6C,EAAWv6C,EAAG+4C,KAAsB,GAC1CwB,EAAS5lD,QACP,EAAG2R,QAAO6zC,YAAWrzC,UAAS6yC,aAAcQ,EAAUvjB,oBAAoBtwB,EAAOQ,EAAS6yC,WAErF35C,EAAG+4C,KAEN1jC,GAAU,CAACrV,GAAMpQ,QAAOM,eACxByO,KAAKC,UAAUhP,KAAW+O,KAAKC,UAAU1O,KAG7CuqB,GAAUza,GACVga,GAAYha,EAAI,CAAEpQ,YAEd4qD,GAAY,CAChBxgC,eACA3E,WACAoF,cAEF,IAAIggC,GAAgBzB,GAAcwB,GAAY,GAC1CE,GAAa,CAACC,EAAMC,EAAe7V,KACrC,GAAI4V,EAAKE,aAAeF,EAAKE,YAAYttD,OAAQ,CAC/C,MAAMstD,EAAcF,EAAK/E,MAAMvgD,OAAQuiD,IACrC,GAAIA,EAAKE,MAAQ8C,IAE2B,IAAxCD,EAAKE,YAAY56C,QAAQ23C,EAAKE,QAE9BF,EAAKkD,QAAgC,YAAtBlD,EAAKkD,OAAOhuD,OAE/B,OAAO,IAET,IAAK+tD,EAAYttD,OACf,OACF,OAA0B,IAAtBotD,EAAK/E,MAAMroD,OACNw3C,EAAagW,UAEbF,EAAY5sD,IAAK2pD,GAASA,EAAKI,UAAU3jB,KAAK,MAAQ,IAAM0Q,EAAagW,YAItF,SAASC,GAAejG,EAAOtR,GAC7B,GAAKA,GAASA,EAAK5vC,KAEnB,OAAOkhD,EAAM1qC,KAAMje,GAAMq3C,EAAK5vC,KAAKtF,cAAc2W,SAAS9Y,IAE5D,SAAS6uD,GAAYxX,GACnB,OAAOuX,GAAe1F,GAAa7R,GAErC,SAASyX,GAAYzX,GACnB,OAAOuX,GAAezF,GAAa9R,GAErC,SAAS0X,GAAiB1X,GACxB,OAAOuX,GAAe1F,GAAa7R,IAASuX,GAAezF,GAAa9R,GAE1E,SAAS2X,GAAY3X,GACnB,OAAOuX,GAAexF,GAAa/R,GAErC,MAAM4X,GAAc,CAClBn9C,KAAM,eACN8c,WAAY,CACV6pB,WACAiU,kBAEFhkC,WAAY,CACVwmC,aAAcb,IAEhBr8C,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnDqY,KAAM,CAAE9mD,KAAM3F,OAAQo0C,UAAU,GAChC+Q,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,GACvCyC,aAAc,CAAElxC,KAAM3F,OAAQo0C,UAAU,GACxCiZ,YAAa,CAAE1nD,KAAM3E,MAAOozC,UAAU,IAExCh7B,MAAO,CAAC,uBACR,OACE,MAAO,CACLk0C,eAAgB,OAGpB1mD,SAAU,CACR,iBACE,MAAM2mD,EAAWzvD,KAAK6uD,YACtB,GAAIY,EACF,OAAOA,EACT,MAAM/nB,EAAU1nC,KAAK2uD,KAAKe,YAAYhoB,QACtC,GAAI1nC,KAAK2uD,KAAK/E,MAAMroD,QAAU,EAC5B,OAAOmmC,EAET,MAAMkkB,EAAO5rD,KAAK2uD,KAAK/E,MAAMlD,KAC1BmF,GAAUA,EAAMC,MAAQ9rD,KAAK2uD,KAAKe,YAAYC,UAEjD,OAAI3vD,KAAK2uD,KAAKe,YAAY1D,SACjB,GAAGhsD,KAAK2uD,KAAKe,YAAY1D,cAActkB,IACpCkkB,GAAQA,EAAKE,MAAQ9rD,KAAK4uD,cAG/B,GAAGhD,EAAKI,cAActkB,IAFpBA,GAIX,aACE,IAAK1nC,KAAK2uD,KAAK/E,OAAoC,IAA3B5pD,KAAK2uD,KAAK/E,MAAMroD,OACtC,OACF,MAAMqqD,EAAO5rD,KAAK2uD,KAAK/E,MAAMlD,KAAMhqB,GAAMA,EAAEovB,MAAQ9rD,KAAK4uD,eACxD,OAAIhD,GAAQA,EAAKkD,OACRlD,EAAKkD,OAAOhuD,MACd,MAET,cACE,OAAO4tD,GAAW1uD,KAAK2uD,KAAM3uD,KAAK4uD,cAAe5uD,KAAK+4C,eAExD,4BACE,OAAQ/4C,KAAK6uD,aAAe7uD,KAAK2uD,KAAKe,cAAgB1vD,KAAK2uD,KAAKe,YAAYzX,SAAWj4C,KAAK2uD,KAAKe,YAAYC,WAAa3vD,KAAK4uD,gBAAkB5uD,KAAK2uD,KAAKe,YAAYE,OAAS5vD,KAAK2uD,KAAKe,YAAYG,aAAe7vD,KAAK2uD,KAAKe,YAAY71C,OAE7O,oBACE,IAAIi2C,EAAIC,EACR,MAAMtY,EAA0E,OAAlEsY,EAAqC,OAA/BD,EAAK9vD,KAAK2uD,KAAKe,kBAAuB,EAASI,EAAGE,YAAiB,EAASD,EAAG,GACnG,GAAItY,EAAM,CACR,IAAKA,EAAK3I,SACR,MAAO,GAAG2I,EAAKvlC,QAAQulC,EAAKwY,YAE9B,IAAI1uC,EAAIqc,KAAKsyB,MAAMzY,EAAK3I,UACxB,OAAQvtB,GAAKA,GAAK,KAAO,IAAMA,EAAI,EAAI,IAAM,MAAQA,EAEvD,MAAO,IAET,UACE,QAAOvhB,KAAK2uD,KAAKe,YAAYM,OAAQZ,GAAYpvD,KAAK2uD,KAAKe,YAAYM,MAAM,MAGjFriC,QAAS,CACP,kBAAkBwiC,GAChBnwD,KAAKowD,gBACLpwD,KAAKusB,MAAM,sBAAuB,CAAE4jC,SAAQzG,OAAQ1pD,KAAK2uD,KAAKjF,UAEhE,gBACE1pD,KAAKwvD,eAAiB,QAItBa,GAAe,CAAEh+C,MAAO,sBACxBi+C,GAAe,CAAEj+C,MAAO,wCACxBk+C,GAAe,CAAEl+C,MAAO,uBACxBm+C,GAAe,CAAEn+C,MAAO,mCACxBo+C,GAAe,CACnB1tD,IAAK,EACLsP,MAAO,iBAEHq+C,GAAe,CAAE3tD,IAAK,GACtB4tD,GAAe,CACnB5tD,IAAK,EACLsP,MAAO,qBAEHu+C,GAAe,CACnB7tD,IAAK,EACLsP,MAAO,qBAEHw+C,GAAe,CAAEx+C,MAAO,8BACxBy+C,GAAgB,CACpB/tD,IAAK,EACLsP,MAAO,oCAEH0+C,GAAgB,CACpBhuD,IAAK,EACLsP,MAAO,oBAEH2+C,GAAgB,CAAE3+C,MAAO,iBACzB4+C,GAAgB,CAAC,WACvB,SAASC,GAAcx9B,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YACvCunC,EAA4BvnC,GAAiB,kBAC7CwnC,EAA2BnnC,GAAiB,iBAClD,OAAOgB,KAAaqW,GAAmB,MAAO+uB,GAAc,CAC1DxlC,GAAW6I,EAAKxH,OAAQ,kBAAoBF,EAAO2iC,KAAKjF,OAAQ,GAAI,IAAM,CACxE7+B,GAAW6I,EAAKxH,OAAQ,oBAAsBF,EAAO2iC,KAAKjF,OAAQ,GAAI,IAAM,CAC1E19B,EAAO2iC,KAAK0C,QAAUpmC,KAAaqW,GAAmB,MAAO,CAC3Dv+B,IAAK,EACLsP,MAAO,aACPE,MAAOnB,GAAe,CAAE,mBAAoB,QAAQ4a,EAAO2iC,KAAK0C,cAC/D,KAAM,IAAMruB,GAAmB,IAAI,KAExCzB,GAAgB,MAAO+uB,GAAc,CACnC/uB,GAAgB,MAAOgvB,GAAc,CACnC/jC,EAAS8kC,YAAcrmC,KAAaqW,GAAmB,MAAO,CAC5Dv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,mBAAoB,CAAE,mBAA4C,WAAxBua,EAAS8kC,eACzE,KAAM,IAAMtuB,GAAmB,IAAI,GACtCzB,GAAgB,MAAOivB,GAAch+C,GAAgBwZ,EAAO2iC,KAAK4C,UAAW,GAC5EvlC,EAAO2iC,KAAKe,aAAezkC,KAAaqW,GAAmB,MAAOmvB,GAAcj+C,GAAgBwZ,EAAO2iC,KAAKe,YAAY8B,WAAY,IAAMxuB,GAAmB,IAAI,KAEnKzB,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,gBAAiB,CACtC,kBAAmB+Z,EAAO2iC,KAAKe,aAAe1jC,EAAO2iC,KAAKe,YAAY+B,MAAQjlC,EAASqiC,gBAExF,CACDriC,EAASklC,2BAA6BzmC,KAAaqW,GAAmB,OAAQovB,GAAc,CAC1F7lC,GAAW6I,EAAKxH,OAAQ,kBAAoBF,EAAO2iC,KAAKjF,OAAQ,GAAI,IAAM,CACxEzrC,GAAYs7B,EAAqB,CAC/BrnC,KAAM8Z,EAAO2iC,KAAKe,YAAYG,YAAc,mBAAqB,YACjE1Y,MAAOnrB,EAAO2iC,KAAKe,YAAY71C,KAAO,OAAS,GAC/CxH,MAAO,kBACN,KAAM,EAAG,CAAC,OAAQ,eAEnB2wB,GAAmB,IAAI,GAC7BhX,EAAO2iC,KAAKe,cAAgB1jC,EAAO2iC,KAAKe,YAAYzX,SAAWzrB,EAASmlC,SAAW1mC,KAAaqW,GAAmB,MAAOqvB,GAAc,CACtI9lC,GAAW6I,EAAKxH,OAAQ,mBAAqBF,EAAO2iC,KAAKjF,OAAQ,GAAI,IAAM,CACzEzrC,GAAYs7B,EAAqB,CAC/BrnC,KAAM,aACNG,MAAO,0BAGXwwB,GAAgB,IAAMrwB,GAAgBga,EAASolC,mBAAoB,MAC/D5lC,EAAO2iC,KAAKe,aAAezkC,KAAaI,GAAY8lC,EAA2B,CACnFpuD,IAAK,EACL,aAAcipB,EAAO2iC,KAAKe,YAAY5D,IACtC,UAAW9/B,EAAO2iC,KAAKjF,OACvB,aAAa,EACbhiB,QAASlb,EAASqlC,eAClB5Z,UAAWjsB,EAAO2iC,KAAKe,YAAYzX,UAAYzrB,EAASqiC,YACxDjF,MAAO59B,EAAO2iC,KAAK/E,MACnB,gBAAiB59B,EAAO+sB,aACxBgB,SAAS,EACT,kBAAmB/tB,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvB,eAAe,GACdt/B,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,aAAc,UAAW,UAAW,UAAW,QAAS,gBAAiB,kBAAmB,kBAAoB4hC,GAAmB,IAAI,IACjJhX,EAAO2iC,KAAKe,aAAeljC,EAASqiC,aAAe5jC,KAAaqW,GAAmB,MAAOsvB,GAAcp+C,GAAgBga,EAASqiC,aAAc,IAAM7rB,GAAmB,IAAI,GAC7KzB,GAAgB,MAAOsvB,GAAc,CACnC7kC,EAAO2iC,KAAKoD,aAAe9mC,KAAaqW,GAAmB,MAAOwvB,GAAet+C,GAAgBwZ,EAAO2iC,KAAKoD,aAAc,IAAM/uB,GAAmB,IAAI,GACxJnY,GAAW6I,EAAKxH,OAAQ,qBAAuBF,EAAO2iC,KAAKjF,OAAQ,GAAI,IAAM,CAC3E19B,EAAOujC,YAAYhuD,QAAU0pB,KAAaqW,GAAmB,MAAO,CAClEv+B,IAAK,EACLsP,MAAO,uCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAK5B,GAAeyE,GAAW7tB,EAAMyjC,eAAiBxjC,EAAO2iC,KAAKjF,OAAQ,CAAC,WACxG,CACD7+B,GAAW6I,EAAKxH,OAAQ,0BAA4BF,EAAO2iC,KAAKjF,OAAQ,GAAI,IAAM,CAChFzrC,GAAYs7B,EAAqB,CAC/BrnC,KAAM,WACNilC,MAAO,cAGPnU,GAAmB,IAAI,GAC7BhX,EAAOujC,YAAYhuD,QAAU0pB,KAAaI,GAAYsjB,GAAY,CAChE5rC,IAAK,EACLmP,KAAM,kBACL,CACD+R,QAAS7H,GAAQ,IAAM,CACrB2P,EAAMyjC,iBAAmBxjC,EAAO2iC,KAAKjF,OAAS7gC,IAAgBoC,KAAaqW,GAAmB,MAAOyvB,GAAe,CAClHxvB,GAAgB,MAAOyvB,GAAe,EACnC/lC,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOujC,YAAcY,IAC5EllC,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKotD,EAAOj+C,MACX,CACDqvB,GAAgB,MAAO,CACrBlvB,MAAO,gBACPwnC,QAAS1E,GAAeyE,GAAWptB,EAASwlC,kBAAkB7B,GAAS,CAAC,UACvE39C,GAAgB29C,EAAO8B,OAAQ,EAAGhB,QAErC,WAEH,CACH,CAACG,EAA0B5kC,EAAS4jC,iBACjCptB,GAAmB,IAAI,KAE9BjuB,EAAG,KACCiuB,GAAmB,IAAI,QAGhC,SAKX,IAAIkvB,GAA8Bjc,GAAYoZ,GAAa,CAAC,CAAC,SAAU6B,MACnEiB,GAAgB,CAAChJ,EAAOz2B,EAAMpwB,EAAKuR,GAAa,IAC7CvR,GAAe,KAARA,EAEL6mD,EAAM9/C,OAAQwC,GACfgI,EACKu+C,GAAavmD,EAAE6mB,IAAO7e,WAAWu+C,GAAa9vD,IAChD8vD,GAAavmD,EAAE6mB,IAAOxZ,SAASk5C,GAAa9vD,KAJ5C6mD,EAOX,SAASiJ,GAAaC,GACpB,OAAOA,EAAO9vD,cAAc4/B,UAAU,OAAOrtB,QAAQ,mBAAoB,IAE3E,MAAMw9C,GAAc,CAClBpgD,KAAM,YACN8c,WAAY,CACVioB,UACA6C,eACAoY,gBAEF9/C,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnDyC,aAAc,CAAElxC,KAAM3F,OAAQo0C,UAAU,GACxCic,cAAe,CAAE1qD,KAAMob,QAASqzB,UAAU,GAC1C0C,WAAY,CAAEnxC,KAAMob,QAASqzB,UAAU,GACvC2C,YAAa,CAAEpxC,KAAMob,QAASqzB,UAAU,GACxC+Q,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,GACvCkc,SAAU,CAAE3qD,KAAMob,QAASqzB,UAAU,GACrC4C,MAAO,CAAErxC,KAAM3E,MAAOozC,UAAU,GAChC6C,aAAc,CAAEtxC,KAAMob,QAASqzB,UAAU,GACzCmc,YAAa,CAAE5qD,KAAMob,QAASqzB,UAAU,GACxCqY,KAAM,CAAE9mD,KAAM3F,OAAQo0C,UAAU,GAChCoc,wBAAyB,CAAE7qD,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAC7DsrC,YAAa,CAAE1nD,KAAM3E,MAAOozC,UAAU,GACtCqc,eAAgB,CAAE9qD,KAAMuD,OAAQkrC,UAAU,IAE5Ch7B,MAAO,CACL,WACA,cACA,sBACA,qBACA,aACA,oBAEF,OACE,MAAO,CACLs3C,cAAe5yD,KAAKk5C,OAAS,GAC7B2Z,SAAU,KACVC,YAAY,EACZC,kBAAkB,EAClBC,eAAgB,KAGpBryC,MAAO,CACLu4B,MAAO,CACLn4B,MAAM,EACN,QAAQjR,EAAQmjD,GACdjzD,KAAK4yD,cAAgB9iD,GACjBA,EAAOvO,SAAW0xD,EAAO1xD,QAAUvB,KAAKyyD,eAC1CzyD,KAAK+yD,kBAAmB,KAI9B,aAAazwD,GACNA,GACH6uC,WAAW,IAAMnxC,KAAKkzD,6BAG1B,iBAAiB5wD,GACftC,KAAKusB,MAAM,qBAAsBjqB,IAEnCmwD,YAAa,CACX3xC,WAAW,EACX,QAAQxe,GACFA,IACFtC,KAAK+yD,kBAAmB,EACnB/yD,KAAKm5C,eACRn5C,KAAK8yD,YAAa,MAK1BnE,KAAM,CACJ7tC,WAAW,EACX,QAAQxe,GACFA,IAAQtC,KAAKwyD,WACfxyD,KAAKgzD,eAAiB1wD,EAAIonD,WAIlC/7B,QAAS,CACP,2BACM3tB,KAAK6yD,WACP7yD,KAAK8yD,YAAa,EAClB9yD,KAAK6yD,SAASM,cAEhB,MAAMC,EAASzsB,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,yBACrF,GAAID,EAAQ,CACV,MAAMt3C,EAAW,CACfqC,KAAMwoB,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,cAC5EC,WAAetzD,KAAK2yD,eAAR,KACZY,UAAW,GAEbvzD,KAAK6yD,SAAW,IAAIW,qBAAsBxgD,IACpCA,EAAQ,GAAGygD,gBACbzzD,KAAK0zD,iBAEN53C,GACH9b,KAAK6yD,SAASxlB,QAAQ+lB,KAG1B,WAAWO,GACL3zD,KAAK0yD,wBACP1yD,KAAKusB,MAAM,cAAeonC,EAAG/rD,OAAOhE,OAEpC5D,KAAK4yD,cAAgBT,GACnBnyD,KAAKk5C,MACL,WACAya,EAAG/rD,OAAOhE,QAIhB,SAAS+qD,IACHA,EAAKjF,SAAW1pD,KAAK2uD,KAAKjF,QAAW1pD,KAAKwyD,YAEzCxyD,KAAKwyD,WACRxyD,KAAKgzD,eAAiBrE,EAAKjF,QAC7B1pD,KAAKusB,MAAM,aAAc,CAAEoiC,WAE7B,gBACE,IAAI3uD,KAAK+yD,iBAAT,CAEA,GAAI/yD,KAAKyyD,YAGP,OAFAzyD,KAAK+yD,kBAAmB,OACxB/yD,KAAK8yD,YAAa,GAGpB9yD,KAAKusB,MAAM,oBACXvsB,KAAK+yD,kBAAmB,MAIxBa,GAAe,CACnB7wD,IAAK,EACLsP,MAAO,mBAEHwhD,GAAe,CACnB9wD,IAAK,EACL2V,GAAI,aACJrG,MAAO,iBAEHyhD,GAAe,CAAC,KAAM,WACtBC,GAAe,CACnBhxD,IAAK,EACL2V,GAAI,yBAEN,SAASs7C,GAActgC,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAMynC,EAA0BrqC,GAAiB,gBAC3CsqC,EAAoBtqC,GAAiB,UACrCuqC,EAA0BvqC,GAAiB,gBACjD,OAAOf,IAAgBoC,KAAaqW,GAAmB,MAAO,CAC5DjvB,MAAOJ,GAAe,CAAC,sBAAuB,CAC5C,2BAA4B+Z,EAAOwmC,SACnC,oBAAqBxmC,EAAOwmC,aAE7B,CACD3nC,GAAW6I,EAAKxH,OAAQ,gBACxBrB,GAAW6I,EAAKxH,OAAQ,oBAAqB,GAAI,IAAM,CACrDjO,GAAYg2C,EAAyB,CACnC/a,MAAOltB,EAAOktB,MACd,gBAAiBltB,EAAOmtB,aACxB,gBAAiBntB,EAAO+sB,aACxB,cAAe/sB,EAAOgtB,WACtB,gBAAiBhtB,EAAOitB,YACxBmb,aAAc5nC,EAAS6nC,WACvBC,UAAWvd,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,cAC3D9B,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,QAAS,gBAAiB,gBAAiB,cAAe,gBAAiB,mBAExF6c,GAAYi2C,EAAmB,CAC7B9d,KAAMpqB,EAAOmtB,aACbtxC,KAAM,SACL4iB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,SACV4qB,EAAOmtB,cAAiBntB,EAAOktB,MAAM33C,OAIhCyhC,GAAmB,IAAI,IAJmB/X,KAAaqW,GAAmB,MAAOsyB,GAAc,CACnG/oC,GAAW6I,EAAKxH,OAAQ,cAAe,GAAI,IAAM,CAC/C2W,GAAgBrwB,GAAgBwZ,EAAO+sB,aAAawb,aAAc,QAGrEvoC,EAAOmtB,aAiDFnW,GAAmB,IAAI,IAjDL/X,KAAaqW,GAAmB,MAAOuyB,GAAc,EAC1E5oC,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAWyB,EAAM6mC,cAAgB4B,IAC7EvpC,KAAaqW,GAAmB,MAAO,CAC5C5oB,GAAI87C,EAAM9K,OACV3mD,IAAKyxD,EAAM9K,OACXr3C,MAAOJ,GAAe,CAAC,gBAAiB,CAAE,oBAAqB8Z,EAAMinC,iBAAmBwB,EAAM9K,UAC9F7P,QAAUD,GAAWptB,EAASioC,SAASD,IACtC,CACDv2C,GAAYk2C,EAAyB,CACnC,kBAAmBnoC,EAAO4iC,cAC1BD,KAAM6F,EACN,kBAAmBxoC,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvB,gBAAiB/9B,EAAO+sB,aACxB,eAAgB/sB,EAAOujC,YACvBmF,oBAAqB3d,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,sBAAuBqtB,KAC5FnvB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,kBAAmB,OAAQ,kBAAmB,eAAgB,gBAAiB,kBACzF,GAAI0yD,MACL,MACJ71C,GAAY0wB,GAAY,CAAEz8B,KAAM,oBAAsB,CACpD+R,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOktB,MAAM33C,SAAWyqB,EAAOmtB,cAAgBluB,KAAaqW,GAAmB,MAAOyyB,GAAc,CAClG91C,GAAYi2C,EAAmB,CAC7B9d,KAAMrqB,EAAM+mC,WACZzc,UAAU,EACVxuC,KAAM,kBACL4iB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,YACP4hC,GAAmB,IAAI,KAE/BjuB,EAAG,QAGN,IAAK,CACN,CAAC6gC,GAAO5pB,EAAOumC,iBAGnB,IAAIoC,GAA4B1e,GAAYqc,GAAa,CAAC,CAAC,SAAU0B,MACrE,MAAMY,GAAc,CAClB1iD,KAAM,aACN8c,WAAY,CACV6pB,YAEF/vB,WAAY,CACVwmC,aAAcb,IAEhBr8C,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnDyC,aAAc,CAAElxC,KAAM3F,OAAQo0C,UAAU,GACxCue,WAAY,CAAEhtD,KAAMob,QAASqzB,UAAU,GACvCic,cAAe,CAAE1qD,KAAMob,QAASqzB,UAAU,GAC1Ckc,SAAU,CAAE3qD,KAAMob,QAASqzB,UAAU,GACrCwe,gBAAiB,CAAEjtD,KAAMob,QAASqzB,UAAU,GAC5Cye,YAAa,CAAEltD,KAAM3E,MAAOozC,UAAU,GACtCqY,KAAM,CAAE9mD,KAAM3F,OAAQo0C,UAAU,GAChC0e,wBAAyB,CAAEntD,KAAMob,QAASqzB,UAAU,GACpD2e,wBAAyB,CAAEptD,KAAM3E,MAAOozC,UAAU,GAClD4e,sBAAuB,CAAErtD,KAAMuD,OAAQkrC,UAAU,IAEnDh7B,MAAO,CACL,oBACA,YACA,sBACA,2BACA,oCAEF,OACE,MAAO,CACL65C,YAAY,EACZC,gCAAgC,IAGpCtsD,SAAU,CACR,cACE,OAAO4lD,GAAW1uD,KAAK2uD,KAAM3uD,KAAK4uD,cAAe5uD,KAAK+4C,eAExD,aACE,IAAK/4C,KAAK2uD,KAAK/E,OAAoC,IAA3B5pD,KAAK2uD,KAAK/E,MAAMroD,OACtC,OACF,MAAMqqD,EAAO5rD,KAAK2uD,KAAK/E,MAAMlD,KAAMhqB,GAAMA,EAAEovB,MAAQ9rD,KAAK4uD,eACxD,IAAKhD,EAAKkD,OACR,OACF,IAAIhsB,EAAQ,GAMZ,MAL0B,WAAtB8oB,EAAKkD,OAAOhuD,MACdgiC,EAAQ9iC,KAAK+4C,aAAasc,UACjBzJ,EAAKkD,OAAOwG,cACrBxyB,EAAQ9iC,KAAK+4C,aAAawc,UAAY3J,EAAKkD,OAAOwG,aAE7CxyB,IAGXniB,MAAO,CACL,wBAAwBre,GAClBA,EACFtC,KAAKo1D,gCAAiC,EAEtCjkB,WAAW,KACTnxC,KAAKo1D,gCAAiC,GACrC,OAITznC,QAAS,CACP,kBAAkBwiC,GAChBnwD,KAAKw1D,YACLx1D,KAAKusB,MAAM,sBAAuB4jC,IAEpC,YACEnwD,KAAKm1D,YAAa,GAEpB,8BAA8BhF,GAC5BnwD,KAAKusB,MAAM,mCAAoC4jC,MAI/CsF,GAAe,CAAEpjD,MAAO,oCACxBqjD,GAAe,CAAErjD,MAAO,oBACxBsjD,GAAe,CACnB5yD,IAAK,EACLsP,MAAO,sBAEHujD,GAAe,CAAC,MAChBC,GAAe,CAAC,WAChBC,GAAe,CAAEzjD,MAAO,8BACxB0jD,GAAe,CAAE1jD,MAAO,qBACxB2jD,GAAe,CAAE3jD,MAAO,mCACxB4jD,GAAe,CACnBlzD,IAAK,EACLsP,MAAO,mCAEH6jD,GAAgB,CACpBnzD,IAAK,EACLsP,MAAO,mCAEH8jD,GAAgB,CACpBpzD,IAAK,EACLsP,MAAO,oBAEH+jD,GAAgB,CAAE/jD,MAAO,iBACzBgkD,GAAc,CAAC,WACrB,SAASC,GAAc5iC,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YACvCwnC,EAA2BnnC,GAAiB,iBAClD,OAAOgB,KAAaqW,GAAmB,MAAOm0B,GAAc,CAC1D5qC,GAAW6I,EAAKxH,OAAQ,cAAe,GAAI,IAAM,CAC/CqV,GAAgB,MAAOm0B,GAAc,CACnCz3C,GAAY0wB,GAAY,CAAEz8B,KAAM,gBAAkB,CAChD+R,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOgpC,yBAA2B/pC,KAAaqW,GAAmB,MAAOq0B,GAAc,EACpF1qC,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOipC,wBAA0B9E,IACxFllC,KAAaqW,GAAmB,MAAO,CAC5C5oB,GAAIy3C,EAAOj+C,KACXnP,IAAKotD,EAAOj+C,MACX,CACDqvB,GAAgB,MAAO,CACrBlvB,MAAO,uBACPwnC,QAAUD,GAAWptB,EAAS+pC,8BAA8BpG,IAC3D,CACDttB,GAAgBrwB,GAAgB29C,EAAO8B,OAAS,IAAK,GACrD1wB,GAAgB,OAAQu0B,GAActjD,GAAgBwZ,EAAOkpC,uBAAwB,IACpF,EAAGW,KACL,EAAGD,MACJ,MACJr0B,GAAgB,MAAO,CACrBlvB,MAAO,0CACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,8BACzD/Z,GAAgBwZ,EAAO+sB,aAAayd,uBAAwB,MAC3DxzB,GAAmB,IAAI,KAE/BjuB,EAAG,KAEJiX,EAAOgpC,yBAA2BjpC,EAAMqpC,gCAAkCnqC,KAAaqW,GAAmBva,GAAU,CAAEhkB,IAAK,GAAK,CAC9HipB,EAAO6oC,WAWC7xB,GAAmB,IAAI,IAXV/X,KAAaqW,GAAmB,MAAO,CAC3Dv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,mCAAoC,CACzD,wBAAyB+Z,EAAOwmC,SAChC,mBAAoBxmC,EAAOumC,gBAAkBvmC,EAAOwmC,YAEtD3Y,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,uBACzD,CACD1B,GAAW6I,EAAKxH,OAAQ,cAAe,GAAI,IAAM,CAC/CjO,GAAYs7B,EAAqB,CAAErnC,KAAM,cAE1C,IACHqvB,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,mBAAoB,CAAE,qBAAsB+Z,EAAO8oC,mBAC1Ejb,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,eACzD,CACD1B,GAAW6I,EAAKxH,OAAQ,qBAAsB,GAAI,IAAM,CACtDF,EAAO2iC,KAAK0C,QAAUpmC,KAAaqW,GAAmB,MAAO,CAC3Dv+B,IAAK,EACLsP,MAAO,aACPE,MAAOnB,GAAe,CAAE,mBAAoB,QAAQ4a,EAAO2iC,KAAK0C,cAC/D,KAAM,IAAMruB,GAAmB,IAAI,KAExCnY,GAAW6I,EAAKxH,OAAQ,mBAAoB,GAAI,IAAM,CACpDqV,GAAgB,MAAOw0B,GAAc,CACnCx0B,GAAgB,MAAOy0B,GAAcxjD,GAAgBwZ,EAAO2iC,KAAK4C,UAAW,GAC5E/kC,EAASqiC,aAAe5jC,KAAaqW,GAAmB,MAAO20B,GAAczjD,GAAgBga,EAASqiC,aAAc,KAAO5jC,KAAaqW,GAAmB,MAAO40B,GAAe1jD,GAAgBga,EAAS8kC,YAAa,SAG1N,GACHtlC,EAAO2iC,KAAKjF,OAAS7+B,GAAW6I,EAAKxH,OAAQ,eAAgB,CAAEnpB,IAAK,GAAK,IAAM,CAC7EipB,EAAO+oC,YAAYxzD,QAAU0pB,KAAaqW,GAAmB,MAAO,CAClEv+B,IAAK,EACLsP,MAAO,kCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMopC,YAAcppC,EAAMopC,aACxE,CACDtqC,GAAW6I,EAAKxH,OAAQ,YAAa,GAAI,IAAM,CAC7CjO,GAAYs7B,EAAqB,CAAErnC,KAAM,cAEvC8wB,GAAmB,IAAI,GAC7BhX,EAAO+oC,YAAYxzD,QAAU0pB,KAAaI,GAAYsjB,GAAY,CAChE5rC,IAAK,EACLmP,KAAM,kBACL,CACD+R,QAAS7H,GAAQ,IAAM,CACrB2P,EAAMopC,WAAatsC,IAAgBoC,KAAaqW,GAAmB,MAAO60B,GAAe,CACvF50B,GAAgB,MAAO60B,GAAe,EACnCnrC,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAO+oC,YAAc5E,IAC5EllC,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKotD,EAAOj+C,MACX,CACDqvB,GAAgB,MAAO,CACrBlvB,MAAO,gBACPwnC,QAAUD,GAAWptB,EAASiqC,kBAAkBtG,IAC/C39C,GAAgB29C,EAAO8B,OAAQ,EAAGoE,QAErC,WAEH,CACH,CAACjF,EAA0B5kC,EAASgpC,aACjCxyB,GAAmB,IAAI,KAE9BjuB,EAAG,KACCiuB,GAAmB,IAAI,KAC1BA,GAAmB,IAAI,IAC3B,KAAOA,GAAmB,IAAI,SAKzC,IAAI0zB,GAA6BzgB,GAAY2e,GAAa,CAAC,CAAC,SAAU0B,MACtE,SAASK,GAAqB50D,GAC5B,GAAmB,kBAARA,IAAqBA,EAC9B,MAAM,IAAI1C,MAAM,qCAAuC0C,GAG3D,SAAS60D,GAAah8C,GACpB,GAAsB,kBAAXA,EACT,MAAM,IAAIvb,MAAM,2BAA6Bub,GAGjD,MAAMi8C,GAAqB,EACrBC,GAAqB,EACrBC,GAAc,QACdC,GAAiB,WACjBC,GAAkB,YAClBC,GAAe,SACfC,GAAe,SACfC,GAAgB,UAChBC,GAAc,QACdC,GAAc,QACdC,GAAc,QACdC,GAAwB,cACxBC,GAAW,OACXC,GAAU,MACVC,GAAyB,WACzBC,GAAgB,WAChBC,GAAiB,YACjBC,GAAqB,eACrBC,GAAqB,eACrBC,GAAwB,mFACxBC,GAAmB,KACzB,SAASC,GAASpuD,EAAKquD,GACrB,MAAM5oC,EAAuB,IAAIxpB,IAC3BiE,EAAM,GACZ,IAAK,MAAMsH,KAAQxH,EAAK,CACtB,MAAM/G,EAAMo1D,EAAK7mD,GACZie,EAAKlnB,IAAItF,KACZwsB,EAAKjnB,IAAIvF,GACTiH,EAAI9E,KAAKoM,IAGb,OAAOtH,EAET,SAASouD,GAAUC,GACjB,OAAOH,GAASG,EAAStjD,GAAMA,EAAEujD,SAEnC,SAASC,GAAiBC,GACxB,SAASC,EAAkBvmD,EAAMwmD,EAASC,GACxC,MAAMC,EAAQF,EAAUF,EAAGC,kBAAkBvmD,EAAM,CAAEwmD,YAAaF,EAAGC,kBAAkBvmD,GACvF,GAAIymD,EACF,IAAK,MAAOE,GAAYC,EAAUC,MAAgB72D,OAAO8Q,QAAQ2lD,GAC/DC,EAAMI,YAAYH,EAAWC,EAAU,CAAEC,eAG7C,OAAOH,EAETH,EAAkBzB,IAClByB,EAAkB1B,GAAaK,GAAe,CAC5C,CAACD,IAAe,CAACD,IAAc,GAC/B,CAACM,IAAwB,CAAC,CAACF,GAAaC,KACxC,CAACO,IAAqB,CAACC,IAAoB,KAE7CU,EAAkBxB,QAAiB,EAAQ,CACzC,CAACI,IAAc,CAAC,MAGpB,MAAM4B,GAAW,GACXC,GAAgB,GAChBC,GAAmB,GACzB,SAASC,GAAsB9rB,EAAU+rB,EAAQC,GAC/CA,EAAIC,QAAU,IAAMF,EAAOC,EAAIhiD,OAC/BgiD,EAAIE,UAAY,IAAMH,EAAO,IAAIh6D,MAAM,gBACvCi6D,EAAIG,UAAY,IAAMnsB,EAASgsB,EAAIjuD,QAErCquD,eAAeC,GAAeC,GAC5B,MAAMpB,QAAW,IAAItgD,QAAQ,CAACo1B,EAAU+rB,KACtC,MAAMC,EAAMO,UAAUC,KAAKF,EAAQ/C,IACnCoC,GAASW,GAAUN,EACnBA,EAAIS,gBAAmBv1B,IACjBA,EAAEw1B,WAAalD,IACjByB,GAAiBe,EAAIjuD,SAGzB+tD,GAAsB9rB,EAAU+rB,EAAQC,KAG1C,OADAd,EAAGyB,QAAU,IAAMC,GAAcN,GAC1BpB,EAET,SAAS2B,GAAaP,GAIpB,OAHKV,GAAcU,KACjBV,GAAcU,GAAUD,GAAeC,IAElCV,GAAcU,GAEvB,SAASQ,GAAU5B,EAAI6B,EAAWC,EAAqB/gD,GACrD,OAAO,IAAIrB,QAAQ,CAACo1B,EAAU+rB,KAC5B,MAAMkB,EAAM/B,EAAGgC,YAAYH,EAAWC,EAAqB,CAAEG,WAAY,YACnE7B,EAA6B,kBAAdyB,EAAyBE,EAAIG,YAAYL,GAAaA,EAAUp4D,IAAKiQ,GAASqoD,EAAIG,YAAYxoD,IACnH,IAAIlI,EACJuP,EAAGq/C,EAAO2B,EAAMlvD,IACdrB,EAAMqB,IAERkvD,EAAII,WAAa,IAAMrtB,EAAStjC,GAChCuwD,EAAIhB,QAAU,IAAMF,EAAOkB,EAAIjjD,SAGnC,SAAS4iD,GAAcN,GACrB,MAAMN,EAAML,GAASW,GACfpB,EAAKc,GAAOA,EAAIjuD,OACtB,GAAImtD,EAAI,CACNA,EAAGhhB,QACH,MAAMojB,EAAYzB,GAAiBS,GACnC,GAAIgB,EACF,IAAK,MAAMC,KAAYD,EACrBC,WAIC5B,GAASW,UACTV,GAAcU,UACdT,GAAiBS,GAE1B,SAASkB,GAAelB,GACtB,OAAO,IAAI1hD,QAAQ,CAACo1B,EAAU+rB,KAC5Ba,GAAcN,GACd,MAAMN,EAAMO,UAAUiB,eAAelB,GACrCR,GAAsB9rB,EAAU+rB,EAAQC,KAG5C,SAASyB,GAAmBnB,EAAQiB,GAClC,IAAID,EAAYzB,GAAiBS,GAC5BgB,IACHA,EAAYzB,GAAiBS,GAAU,IAEzCgB,EAAU11D,KAAK21D,GAEjB,MAAMG,GAAqC,IAAIj1D,IAAI,CACjD,KACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,KACA,OACA,KACA,OAEF,SAASk1D,GAAcl5D,GACrB,OAAOA,EAAIM,MAAM,UAAUJ,IAAKi5D,IACzBA,EAAKloC,MAAM,OAASgoC,GAAmB3yD,IAAI6yD,GACvCA,EAAK34D,cAEP24D,EAAKpmD,QAAQ,UAAW,IAAIA,QAAQ,KAAM,KAAKvS,eACrD8G,OAAO4Z,SAEZ,MAAMk4C,GAA2B,EACjC,SAASC,GAAgBr5D,GACvB,OAAOA,EAAIsH,OAAO4Z,SAAShhB,IAAK8S,GAAMA,EAAExS,eAAe8G,OAAQ0L,GAAMA,EAAExT,QAAU45D,IAEnF,SAASE,GAAmBC,GAC1B,MAAMtxD,EAAMsxD,EAAUr5D,IAAI,EAAGs5D,aAAYC,WAAUC,QAAOC,QAAOC,aAAYC,QAAOC,OAAMjkB,QAAOziB,QAAS2mC,MACxG,MAAMna,EAAS,IAAI,IAAI57C,IACrBq1D,GAAgB,KACVO,GAAc,IAAI15D,IAAIg5D,IAAec,UACtCF,EAAK55D,IAAIg5D,IAAec,UACxBd,GAAcM,GACjBC,MAEDvhD,OACG+hD,EAAO,CACXT,aACAE,QACAC,QACAG,OACAla,SACA2W,QAAS1gB,EACTziB,QAAS2mC,GAQX,GANIN,IACFQ,EAAKR,SAAWA,GAEdG,IACFK,EAAKL,WAAaA,GAEhBC,EAAO,CACTI,EAAKC,UAAY,GACjBD,EAAKE,aAAe,GACpBF,EAAKG,aAAe,GACpB,IAAK,MAAM,KAAEC,EAAMxkB,MAAOykB,EAAQlnC,QAASmnC,KAAcV,EACvDI,EAAKC,UAAU/2D,KAAKk3D,GACpBJ,EAAKE,aAAah3D,KAAKm3D,GACvBL,EAAKG,aAAaj3D,KAAKo3D,GAG3B,OAAON,IAET,OAAOhyD,EAET,SAASuyD,GAAU3D,EAAOxrD,EAAQrK,EAAKwW,GACrCq/C,EAAMxrD,GAAQrK,GAAK02D,UAAaj1B,GAAMjrB,GAAMA,EAAGirB,EAAE58B,OAAOyD,QAE1D,SAASmxD,GAAO5D,EAAO71D,EAAKwW,GAC1BgjD,GAAU3D,EAAO,MAAO71D,EAAKwW,GAE/B,SAASkjD,GAAU7D,EAAO71D,EAAKwW,GAC7BgjD,GAAU3D,EAAO,SAAU71D,EAAKwW,GAElC,SAASmjD,GAAOnC,GACVA,EAAImC,QACNnC,EAAImC,SAGR,SAASC,GAAMvT,EAAO+O,GACpB,IAAIyE,EAAUxT,EAAM,GACpB,IAAK,IAAI9nD,EAAI,EAAGA,EAAI8nD,EAAM7nD,OAAQD,IAAK,CACrC,MAAMgQ,EAAO83C,EAAM9nD,GACf62D,EAAKyE,GAAWzE,EAAK7mD,KACvBsrD,EAAUtrD,GAGd,OAAOsrD,EAET,SAASC,GAAkBC,EAAQC,GACjC,MAAMC,EAAgBL,GAAMG,EAAS/nD,GAAMA,EAAExT,QACvC07D,EAAU,GAChB,IAAK,MAAM3rD,KAAQ0rD,EACZF,EAAOz+C,KAAM+qC,IAA0E,IAAhEA,EAAMj2B,UAAWpe,GAAMgoD,EAAWhoD,KAAOgoD,EAAWzrD,MAC9E2rD,EAAQ/3D,KAAKoM,GAGjB,OAAO2rD,EAETvD,eAAewD,GAAQ1E,GACrB,aAAc2E,GAAK3E,EAAIxB,GAAgBU,IAEzCgC,eAAe0D,GAAQ5E,EAAIpO,EAAKiT,GAC9B,MAAOC,EAASC,SAAgBrlD,QAAQslD,IAAI,CAAC/F,GAAUC,IAASz1D,IAAKc,GAAQo6D,GAAK3E,EAAIxB,GAAgBj0D,KACtG,OAAOu6D,IAAYD,GAAQE,IAAWnT,EAExCsP,eAAe+D,GAAkCjF,EAAIkF,GACnD,MAAMC,EAAa,GACnB,OAAOvD,GAAU5B,EAAIzB,GAAaa,GAAe,CAACgG,EAAYrD,EAAKhhD,KACjE,IAAIskD,EACJ,MAAMC,EAAmB,KACvBF,EAAWG,OAAOF,GAAWG,YAAYC,WAAWJ,GAAS,GAAOF,GAAYlE,UAAaj1B,IAC3F,MAAMy4B,EAAUz4B,EAAE58B,OAAOyD,OACzB,IAAK,MAAMA,KAAU4xD,EAEnB,GADAY,EAAUxyD,EAAOitD,QACboF,EAAUryD,GACZ,OAAOkO,EAAGlO,GAGd,GAAI4xD,EAAQ17D,OAASo8D,EACnB,OAAOpkD,IAETukD,MAGJA,MAGJpE,eAAewE,GAAS1F,EAAI8C,EAAWlR,EAAKiT,GAC1C,IACE,MAAMc,EAAkB9C,GAAmBC,SACrClB,GAAU5B,EAAI,CAACzB,GAAaC,IAAiBa,GAAgB,EAAE+F,EAAYQ,GAAY7D,KAC3F,IAAI+C,EACAC,EACAc,EAAO,EACX,SAASC,IACQ,MAATD,GACJE,IAGJ,SAASA,IACP,GAAIjB,IAAYD,GAAQE,IAAWnT,EAAnC,CAGAwT,EAAW/wD,QACX,IAAK,MAAMzL,KAAQ+8D,EACjBP,EAAWY,IAAIp9D,GAEjBg9D,EAAUI,IAAInB,EAAM5F,IACpB2G,EAAUI,IAAIpU,EAAKsN,IACnBgF,GAAOnC,IAETiC,GAAO4B,EAAW3G,GAAWpsD,IAC3BiyD,EAAUjyD,EACVizD,MAEF9B,GAAO4B,EAAW1G,GAAUrsD,IAC1BkyD,EAASlyD,EACTizD,QAGJ,UAGJ5E,eAAe+E,GAAgBjG,EAAIiD,GACjC,OAAOrB,GAAU5B,EAAIzB,GAAaa,GAAe,CAACgG,EAAYrD,EAAKhhD,KACjE,MAAMmlD,EAAQV,YAAYW,MAAM,CAAClD,EAAO,GAAI,CAACA,EAAQ,EAAG,IAAI,GAAO,GACnEgB,GAAUmB,EAAW54D,MAAMwyD,IAAwBkH,EAAOnlD,KAG9DmgD,eAAekF,GAAsBpG,EAAIqG,GACvC,MAAMld,EAASyZ,GAAgBH,GAAc4D,IAC7C,OAAKld,EAAOpgD,OAGL64D,GAAU5B,EAAIzB,GAAaa,GAAe,CAACgG,EAAYrD,EAAKhhD,KACjE,MAAMulD,EAAsB,GACtBC,EAAY,KACZD,EAAoBv9D,SAAWogD,EAAOpgD,QACxCy9D,KAGEA,EAAS,KACb,MAAM/B,EAAUJ,GAAkBiC,EAAsB/pD,GAAMA,EAAEujD,SAChE/+C,EAAG0jD,EAAQhjD,KAAK,CAACC,EAAGC,IAAMD,EAAEwhD,MAAQvhD,EAAEuhD,OAAS,EAAI,KAErD,IAAK,IAAIp6D,EAAI,EAAGA,EAAIqgD,EAAOpgD,OAAQD,IAAK,CACtC,MAAMi6C,EAAQoG,EAAOrgD,GACfo9D,EAAQp9D,IAAMqgD,EAAOpgD,OAAS,EAAIy8D,YAAYW,MAAMpjB,EAAOA,EAAQ,KAAU,GAAO,GAAQyiB,YAAYiB,KAAK1jB,GACnHkhB,GAAUmB,EAAW54D,MAAMmyD,IAAeuH,EAAQrzD,IAChDyzD,EAAoB55D,KAAKmG,GACzB0zD,SAlBG,GAuBXrF,eAAewF,GAAoB1G,EAAI2G,GACrC,MAAM9G,QAAeuG,GAAsBpG,EAAI2G,GAC/C,IAAK9G,EAAO92D,OAAQ,CAClB,MAAMm8D,EAAa3oD,IAAOA,EAAE4mD,YAAc,IAAIziD,SAASimD,EAAU58D,eACjE,aAAak7D,GAAkCjF,EAAIkF,IAAc,KAEnE,OAAOrF,EAAOhvD,OAAQ0L,IACpB,MAAMqqD,GAAmBrqD,EAAE4mD,YAAc,IAAI15D,IAAKo9D,GAAOA,EAAG98D,eAC5D,OAAO68D,EAAgBlmD,SAASimD,EAAU58D,iBACzC,IAAM,KAEXm3D,eAAe4F,GAAkB9G,EAAIF,GACnC,OAAO8B,GAAU5B,EAAIzB,GAAaa,GAAe,CAACgG,EAAYrD,EAAKhhD,IAAOijD,GAAOoB,EAAYtF,EAAUjtD,IACrG,GAAIA,EACF,OAAOkO,EAAGlO,GAEZmxD,GAAOoB,EAAW54D,MAAM8yD,IAAqBQ,EAAUiH,GAAYhmD,EAAGgmD,GAAW,UAGrF,SAASpC,GAAK3E,EAAI6B,EAAWt3D,GAC3B,OAAOq3D,GAAU5B,EAAI6B,EAAWzC,GAAe,CAACgB,EAAO2B,EAAKhhD,IAAOijD,GAAO5D,EAAO71D,EAAKwW,IAExF,SAASvR,GAAIwwD,EAAI6B,EAAWt3D,EAAKa,GAC/B,OAAOw2D,GAAU5B,EAAI6B,EAAWxC,GAAgB,CAACe,EAAO2B,KACtD3B,EAAM4F,IAAI56D,EAAOb,GACjB25D,GAAOnC,KAGX,SAASiF,GAA4BhH,EAAIF,GACvC,OAAO8B,GAAU5B,EAAIvB,GAAiBY,GAAgB,CAACe,EAAO2B,IAAQiC,GAAO5D,EAAON,EAAUjtD,IAC5FutD,EAAM4F,KAAKnzD,GAAU,GAAK,EAAGitD,GAC7BoE,GAAOnC,MAGX,SAASkF,GAAoBjH,EAAIkH,EAAmBC,GAClD,OAAc,IAAVA,EACK,GAEFvF,GAAU5B,EAAI,CAACvB,GAAiBF,IAAca,GAAe,EAAEgI,EAAgBhC,GAAarD,EAAKhhD,KACtG,MAAM0jD,EAAU,GAChB2C,EAAe56D,MAAMqyD,IAAawI,gBAAW,EAAQ,QAAQpG,UAAaj1B,IACxE,MAAMod,EAASpd,EAAE58B,OAAOyD,OACxB,IAAKu2C,EACH,OAAOroC,EAAG0jD,GAEZ,SAAS6C,EAAUz0D,GAEjB,GADA4xD,EAAQ/3D,KAAKmG,GACT4xD,EAAQ17D,SAAWo+D,EACrB,OAAOpmD,EAAG0jD,GAEZrb,EAAOme,WAET,MAAMC,EAAgBpe,EAAOqe,WACvBC,EAASR,EAAkBS,OAAOH,GACxC,GAAIE,EACF,OAAOJ,EAAUI,GAEnB1D,GAAOoB,EAAYoC,EAAgBpoB,IACjC,GAAIA,EACF,OAAOkoB,EAAUloB,GAEnBgK,EAAOme,gBAKf,MAAMK,GAAc,GACpB,SAASC,GAAKv2D,EAAKw2D,GACjB,MAAMr+D,EAAsB,IAAIgG,IAChC,IAAK,MAAMqJ,KAAQxH,EAAK,CACtB,MAAM63C,EAAS2e,EAAahvD,GAC5B,IAAK,MAAMiqC,KAASoG,EAAQ,CAC1B,IAAI4e,EAAat+D,EACjB,IAAK,IAAIX,EAAI,EAAGA,EAAIi6C,EAAMh6C,OAAQD,IAAK,CACrC,MAAMunD,EAAOtN,EAAMnmC,OAAO9T,GAC1B,IAAIk/D,EAAUD,EAAWx4D,IAAI8gD,GACxB2X,IACHA,EAA0B,IAAIv4D,IAC9Bs4D,EAAWv4D,IAAI6gD,EAAM2X,IAEvBD,EAAaC,EAEf,IAAIC,EAAeF,EAAWx4D,IAAIq4D,IAC7BK,IACHA,EAAe,GACfF,EAAWv4D,IAAIo4D,GAAaK,IAE9BA,EAAav7D,KAAKoM,IAGtB,MAAM+lC,EAAS,CAACwnB,EAAO3pB,KACrB,IAAIqrB,EAAat+D,EACjB,IAAK,IAAIX,EAAI,EAAGA,EAAIu9D,EAAMt9D,OAAQD,IAAK,CACrC,MAAMunD,EAAOgW,EAAMzpD,OAAO9T,GACpBk/D,EAAUD,EAAWx4D,IAAI8gD,GAC/B,IAAI2X,EAGF,MAAO,GAFPD,EAAaC,EAKjB,GAAItrB,EAAO,CACT,MAAMwrB,EAAWH,EAAWx4D,IAAIq4D,IAChC,OAAOM,GAAY,GAErB,MAAMzD,EAAU,GACV0D,EAAS,CAACJ,GAChB,MAAOI,EAAOp/D,OAAQ,CACpB,MAAMq/D,EAAcD,EAAOjsB,QACrBmsB,EAAqB,IAAID,EAAY5tD,WAAWiH,KAAK,CAACC,EAAGC,IAAMD,EAAE,GAAKC,EAAE,IAAM,EAAI,GACxF,IAAK,MAAOpX,EAAKa,KAAUi9D,EACrB99D,IAAQq9D,GACVnD,EAAQ/3D,QAAQtB,GAEhB+8D,EAAOz7D,KAAKtB,GAIlB,OAAOq5D,GAET,OAAO5lB,EAET,MAAMypB,GAAiB,CACrB,OACA,OAEF,SAASC,GAAmBC,GAC1B,MAAMC,EAAWD,GAAgB99D,MAAMC,QAAQ69D,GACzCE,EAAoBD,GAAYD,EAAaz/D,UAAYy/D,EAAa,IAAMF,GAAeziD,KAAMtb,KAAUA,KAAOi+D,EAAa,MACrI,IAAKC,GAAYC,EACf,MAAM,IAAI7hE,MAAM,yCAGpB,SAAS8hE,GAAiBH,GACxBD,GAAmBC,GACnB,MAAMI,EAAa,CAAClnD,EAAGC,IAAMD,EAAEhI,KAAK3P,cAAgB4X,EAAEjI,KAAK3P,eAAiB,EAAI,EAC1Ei7D,EAAMwD,EAAa/mD,KAAKmnD,GACxBC,EAAiBzpB,GAAU,IAAI,IAAI7xC,KAAK6xC,EAAM+jB,YAAc,IAAI15D,IAAKk9D,GAAclE,GAAckE,IAAYpD,SAC7GuF,EAAajB,GAAKW,EAAcK,GAChCE,EAAsBxsD,GAAMusD,EAAWvsD,GAAG,GAC1CysD,EAAkBzsD,GAAMusD,EAAWvsD,GAAG,GACtCsiC,EAAUwnB,IACd,MAAMld,EAASsZ,GAAc4D,GACvBC,EAAsBnd,EAAO1/C,IAAI,CAACs5C,EAAOj6C,KAAOA,EAAIqgD,EAAOpgD,OAAS,EAAIggE,EAAqBC,GAAgBjmB,IACnH,OAAOshB,GAAkBiC,EAAsB/pD,GAAMA,EAAE7C,MAAM+H,KAAKmnD,IAE9DK,EAAmC,IAAIx5D,IACvCy5D,EAA8B,IAAIz5D,IACxC,IAAK,MAAM05D,KAAeX,EAAc,CACtCU,EAAY15D,IAAI25D,EAAYzvD,KAAK3P,cAAeo/D,GAChD,IAAK,MAAMxC,KAAawC,EAAYhG,YAAc,GAChD8F,EAAiBz5D,IAAIm3D,EAAU58D,cAAeo/D,GAGlD,MAAMC,EAAezC,GAAcsC,EAAiB15D,IAAIo3D,EAAU58D,eAC5D49D,EAAUjuD,GAASwvD,EAAY35D,IAAImK,EAAK3P,eAC9C,MAAO,CACLi7D,MACAnmB,SACAuqB,cACAzB,UAGJ,SAAS0B,GAAWjqB,GAClB,IAAKA,EACH,OAAOA,EAGT,UADOA,EAAM+J,OACT/J,EAAMqkB,UAAW,CACnB,MAAMp7B,EAAM+W,EAAMqkB,UAAU16D,OAC5Bq2C,EAAMgkB,MAAQ14D,MAAM29B,GACpB,IAAK,IAAIv/B,EAAI,EAAGA,EAAIu/B,EAAKv/B,IACvBs2C,EAAMgkB,MAAMt6D,GAAK,CACf86D,KAAMxkB,EAAMqkB,UAAU36D,GACtBg3D,QAAS1gB,EAAMskB,aAAa56D,GAC5B6zB,QAASyiB,EAAMukB,aAAa76D,WAGzBs2C,EAAMqkB,iBACNrkB,EAAMskB,oBACNtkB,EAAMukB,aAEf,OAAOvkB,EAET,SAASkqB,GAASzE,GACXA,GACHhmD,QAAQ0qD,KAAK,2FAGjB,MAAMC,GAAe,CACnB,aACA,QACA,QACA,QACA,OACA,WAEF,SAASC,GAAgB3G,GACvB,IAAKA,IAAcp4D,MAAMC,QAAQm4D,KAAeA,EAAU,IAA8B,kBAAjBA,EAAU,IAAmB0G,GAAa3jD,KAAMtb,KAAUA,KAAOu4D,EAAU,KAChJ,MAAM,IAAIj8D,MAAM,qCAGpB,SAAS6iE,GAAaC,EAAUC,GAC9B,GAA0C,IAAtCxkC,KAAKsyB,MAAMiS,EAASrT,OAAS,KAC/B,MAAM,IAAIzvD,MAAM,oBAAsB+iE,EAAa,MAAQD,EAASrT,QAGxE4K,eAAe2I,GAAQD,GACrB,MAAMD,QAAiBG,MAAMF,EAAY,CAAEh1D,OAAQ,SACnD80D,GAAaC,EAAUC,GACvB,MAAM/E,EAAO8E,EAASI,QAAQx6D,IAAI,QAElC,OADA+5D,GAASzE,GACFA,EAET3D,eAAe8I,GAAeJ,GAC5B,MAAMD,QAAiBG,MAAMF,GAC7BF,GAAaC,EAAUC,GACvB,MAAM/E,EAAO8E,EAASI,QAAQx6D,IAAI,QAClC+5D,GAASzE,GACT,MAAM/B,QAAkB6G,EAASpa,OAEjC,OADAka,GAAgB3G,GACT,CAAC+B,EAAM/B,GAEhB,SAASmH,GAA0BC,GACjC,IAAIC,EAAS,GACTC,EAAQ,IAAIC,WAAWH,GACvBnhE,EAASqhE,EAAME,WACfxhE,GAAK,EACT,QAASA,EAAIC,EACXohE,GAAUthE,OAAO0hE,aAAaH,EAAMthE,IAEtC,OAAOqhE,EAET,SAASK,GAA0BL,GACjC,IAAIphE,EAASohE,EAAOphE,OAChB0hE,EAAM,IAAIC,YAAY3hE,GACtBuI,EAAM,IAAI+4D,WAAWI,GACrB3hE,GAAK,EACT,QAASA,EAAIC,EACXuI,EAAIxI,GAAKqhE,EAAOnhE,WAAWF,GAE7B,OAAO2hE,EAETvJ,eAAeyJ,GAAara,GAC1B,MAAMsa,EAAWzwD,KAAKC,UAAUk2C,GAC1Bua,EAAWL,GAA0BI,GACrCE,QAAkBC,OAAOC,OAAOC,OAAO,QAASJ,GAChDK,EAAejB,GAA0Ba,GACzCt5D,EAAM25D,KAAKD,GACjB,OAAO15D,EAET0vD,eAAekK,GAAgBpL,EAAI4J,GACjC,IAAI9G,EACA+B,QAAagF,GAAQD,GACzB,IAAK/E,EAAM,CACT,MAAMwG,QAAoBrB,GAAeJ,GACzC/E,EAAOwG,EAAY,GACnBvI,EAAYuI,EAAY,GACnBxG,IACHA,QAAa8F,GAAa7H,IAG9B,SAAU8B,GAAQ5E,EAAI4J,EAAY/E,QAE7B,CACH,IAAK/B,EAAW,CACd,MAAMuI,QAAoBrB,GAAeJ,GACzC9G,EAAYuI,EAAY,SAEpB3F,GAAS1F,EAAI8C,EAAW8G,EAAY/E,IAG9C3D,eAAeoK,GAAqBtL,EAAI4J,GACtC,IAAK/E,EAAM/B,SAAmBkH,GAAeJ,GACxC/E,IACHA,QAAa8F,GAAa7H,UAEtB4C,GAAS1F,EAAI8C,EAAW8G,EAAY/E,GAE5C,MAAM0G,GACJ,aAAY,WAAE3B,EAAapK,GAAqB,OAAEgM,EAAS/L,GAAgB,YAAE0J,EAAc,IAAO,IAChG3hE,KAAKoiE,WAAaA,EAClBpiE,KAAKgkE,OAASA,EACdhkE,KAAKikE,QAAU,wBAAwBjkE,KAAKgkE,OAC5ChkE,KAAKkkE,SAAM,EACXlkE,KAAKmkE,iBAAc,EACnBnkE,KAAKokE,QAAUjD,GAAiBQ,GAChC3hE,KAAKqkE,OAASrkE,KAAKqkE,OAAO7rD,KAAKxY,MAC/BA,KAAKskE,OAAStkE,KAAKukE,QAErB,cACE,MAAM/L,EAAKx4D,KAAKkkE,UAAY/J,GAAan6D,KAAKikE,SAC9ClJ,GAAmB/6D,KAAKikE,QAASjkE,KAAKqkE,QACtC,MAAMjC,EAAapiE,KAAKoiE,WAClBoC,QAActH,GAAQ1E,GACxBgM,QACIV,GAAqBtL,EAAI4J,GAE/BpiE,KAAKmkE,YAAcP,GAAgBpL,EAAI4J,GAG3C,cACE,MAAMqC,EAAa/K,UACZ15D,KAAKskE,SACRtkE,KAAKskE,OAAStkE,KAAKukE,SAEdvkE,KAAKskE,cAERG,IACDzkE,KAAKkkE,WACFO,IAGV,sBAAsBhJ,GAGpB,OAFA7E,GAAa6E,SACPz7D,KAAK0kE,QACJtM,SAAgBqG,GAAgBz+D,KAAKkkE,IAAKzI,IAAQx5D,IAAI4/D,IAE/D,4BAA4BhD,GAC1BlI,GAAqBkI,SACf7+D,KAAK0kE,QACX,MAAMC,EAAU3kE,KAAKokE,QAAQ/sB,OAAOwnB,GAC9B+F,EAAUxM,SAAgBwG,GAAsB5+D,KAAKkkE,IAAKrF,IAAQ58D,IAAI4/D,IAC5E,MAAO,IACF8C,KACAC,GAGP,0BAA0BzF,GACxBxI,GAAqBwI,SACfn/D,KAAK0kE,QACX,MAAMxE,EAASlgE,KAAKokE,QAAQxC,YAAYzC,GACxC,OAAIe,GAGG2B,SAAiB3C,GAAoBl/D,KAAKkkE,IAAK/E,IAExD,8BAA8Ba,GAC5BrJ,GAAqBqJ,SACfhgE,KAAK0kE,QACX,MAAMxE,EAASlgE,KAAKokE,QAAQjE,OAAOH,GACnC,OAAIE,GAGG2B,SAAiBvC,GAAkBt/D,KAAKkkE,IAAKlE,IAEtD,6BAEE,aADMhgE,KAAK0kE,cACEvH,GAAKn9D,KAAKkkE,IAAKlN,GAAgBW,KAA2B,EAEzE,2BAA2BkN,GAGzB,OAFAjO,GAAaiO,SACP7kE,KAAK0kE,QACJ18D,GAAIhI,KAAKkkE,IAAKlN,GAAgBW,GAAwBkN,GAE/D,kCAAkC7E,GAGhC,OAFArJ,GAAqBqJ,SACfhgE,KAAK0kE,QACJlF,GAA4Bx/D,KAAKkkE,IAAKlE,GAE/C,0BAA0BL,GAGxB,OAFA/I,GAAa+I,SACP3/D,KAAK0kE,eACGjF,GAAoBz/D,KAAKkkE,IAAKlkE,KAAKokE,QAASzE,IAAQ19D,IAAI4/D,IAExE,gBAAgBb,GACdhhE,KAAKokE,QAAUjD,GAAiBH,GAElC,kBACE,OAAOhhE,KAAKokE,QAAQ5G,IAEtB,wBACQx9D,KAAK0kE,QACX,UACQ1kE,KAAKmkE,YACX,MAAO9tD,KAGX,SACErW,KAAKkkE,IAAMlkE,KAAKskE,OAAStkE,KAAKmkE,iBAAc,EAE9C,oBACQnkE,KAAK8kE,kBACL5K,GAAcl6D,KAAKikE,SAE3B,qBACQjkE,KAAK8kE,kBACLhK,GAAe96D,KAAKikE,UAG9B,SAASc,MAET,SAASC,GAAK7/D,GACZ,OAAOA,IAET,SAAS8/D,KACP,OAAuB/iE,OAAOC,OAAO,MAEvC,SAAS+iE,GAAQ1vD,GACfA,EAAI7M,QAAQq8D,IAEd,SAASG,GAAYC,GACnB,MAAwB,oBAAVA,EAEhB,SAASC,GAAenrD,EAAGC,GACzB,OAAOD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAMD,GAAkB,kBAANA,GAA+B,oBAANA,EAE5E,IAAIorD,GAsDAC,GArDJ,SAASC,GAAcC,EAAarb,GAKlC,OAJKkb,KACHA,GAAuB3+B,SAASzP,cAAc,MAEhDouC,GAAqBhqB,KAAO8O,EACrBqb,IAAgBH,GAAqBhqB,KAE9C,SAASoqB,GAASrhE,GAChB,OAAmC,IAA5BnC,OAAOkc,KAAK/Z,GAAK9C,OAE1B,SAASokE,GAAiBC,GACxB,OAAOA,GAAiBT,GAAYS,EAAcC,SAAWD,EAAcC,QAAUd,GAEvF,SAASe,GAAOl+D,EAAQy/B,GACtBz/B,EAAOqgC,YAAYZ,GAErB,SAASxQ,GAAOjvB,EAAQy/B,EAAM3O,GAC5B9wB,EAAOk/B,aAAaO,EAAM3O,GAAU,MAEtC,SAASqtC,GAAO1+B,GACdA,EAAKzP,WAAWmP,YAAYM,GAE9B,SAAS2+B,GAAQ9zD,GACf,OAAOy0B,SAASzP,cAAchlB,GAEhC,SAAS+zD,GAAK7kE,GACZ,OAAOulC,SAASS,eAAehmC,GAEjC,SAAS8kE,GAAO7+B,EAAM/sB,EAAOQ,EAASgB,GAEpC,OADAurB,EAAKsD,iBAAiBrwB,EAAOQ,EAASgB,GAC/B,IAAMurB,EAAKuD,oBAAoBtwB,EAAOQ,EAASgB,GAExD,SAASqqD,GAAK9+B,EAAM++B,EAAWxiE,GAChB,MAATA,EACFyjC,EAAKiB,gBAAgB89B,GACd/+B,EAAK4G,aAAam4B,KAAexiE,GACxCyjC,EAAKF,aAAai/B,EAAWxiE,GAEjC,SAASyiE,GAASvjC,EAAO1hC,GACvBA,EAAO,GAAKA,EACR0hC,EAAMwjC,YAAcllE,IACtB0hC,EAAM1hC,KAAOA,GAEjB,SAASmlE,GAAgBC,EAAO5iE,GAC9B4iE,EAAM5iE,MAAiB,MAATA,EAAgB,GAAKA,EAErC,SAAS6iE,GAAUp/B,EAAMtkC,EAAKa,EAAO8iE,GACrB,OAAV9iE,EACFyjC,EAAK90B,MAAMo0D,eAAe5jE,GAE1BskC,EAAK90B,MAAMu2B,YAAY/lC,EAAKa,EAAO8iE,EAAY,YAAc,IAIjE,SAASE,GAAsB1nD,GAC7BqmD,GAAoBrmD,EAEtB,MAAM2nD,GAAmB,GACnBC,GAAoB,GACpBC,GAAmB,GACnBC,GAAkB,GAClBC,GAAmB/uD,QAAQC,UACjC,IAAI+uD,IAAmB,EACvB,SAASC,KACFD,KACHA,IAAmB,EACnBD,GAAiB3yD,KAAK0M,KAG1B,SAASomD,KAEP,OADAD,KACOF,GAET,SAASI,GAAoBliE,GAC3B4hE,GAAiB7hE,KAAKC,GAExB,MAAMmiE,GAAiC,IAAIvhE,IAC3C,IAAIwhE,GAAW,EACf,SAASvmD,KACP,MAAMwmD,EAAkBjC,GACxB,EAAG,CACD,MAAOgC,GAAWV,GAAiBtlE,OAAQ,CACzC,MAAM2d,EAAY2nD,GAAiBU,IACnCA,KACAX,GAAsB1nD,GACtBgG,GAAOhG,EAAUuoD,IAEnBb,GAAsB,MACtBC,GAAiBtlE,OAAS,EAC1BgmE,GAAW,EACX,MAAOT,GAAkBvlE,OACvBulE,GAAkBrhE,KAAlBqhE,GACF,IAAK,IAAIxlE,EAAI,EAAGA,EAAIylE,GAAiBxlE,OAAQD,GAAK,EAAG,CACnD,MAAM0L,EAAW+5D,GAAiBzlE,GAC7BgmE,GAAej/D,IAAI2E,KACtBs6D,GAAeh/D,IAAI0E,GACnBA,KAGJ+5D,GAAiBxlE,OAAS,QACnBslE,GAAiBtlE,QAC1B,MAAOylE,GAAgBzlE,OACrBylE,GAAgBvhE,KAAhBuhE,GAEFE,IAAmB,EACnBI,GAAez6D,QACf+5D,GAAsBY,GAExB,SAAStiD,GAAOuiD,GACd,GAAoB,OAAhBA,EAAGC,SAAmB,CACxBD,EAAGviD,SACHggD,GAAQuC,EAAGE,eACX,MAAMC,EAAQH,EAAGG,MACjBH,EAAGG,MAAQ,EAAE,GACbH,EAAGC,UAAYD,EAAGC,SAASvnC,EAAEsnC,EAAGprD,IAAKurD,GACrCH,EAAGI,aAAal/D,QAAQ0+D,KAG5B,MAAMS,GAA2B,IAAI/hE,IACrC,SAASgiE,GAAcC,EAAOC,GACxBD,GAASA,EAAM1mE,IACjBwmE,GAASthE,OAAOwhE,GAChBA,EAAM1mE,EAAE2mE,IAGZ,MAAMC,GAA4B,qBAAXhyD,OAAyBA,OAA+B,qBAAfF,WAA6BA,WAAarW,EAC1G,SAASwoE,GAAcH,EAAOI,GAC5BJ,EAAM11B,EAAE,GACR81B,EAAO5hE,OAAOwhE,EAAMjlE,KAEtB,SAASslE,GAAkBC,EAAYV,EAAOW,EAASC,EAASnsD,EAAKja,EAAMgmE,EAAQ/gC,EAAMw+B,EAAS4C,EAAoB/uC,EAAOgvC,GAC3H,IAAIloC,EAAI8nC,EAAW/mE,OACfJ,EAAIiB,EAAKb,OACTD,EAAIk/B,EACR,MAAMmoC,EAAc,GACpB,MAAOrnE,IACLqnE,EAAYL,EAAWhnE,GAAGyB,KAAOzB,EACnC,MAAMsnE,EAAa,GACbC,EAA6B,IAAI5gE,IACjC6gE,EAAyB,IAAI7gE,IACnC3G,EAAIH,EACJ,MAAOG,IAAK,CACV,MAAMynE,EAAYL,EAAYrsD,EAAKja,EAAMd,GACnCyB,EAAMwlE,EAAQQ,GACpB,IAAIf,EAAQI,EAAOrgE,IAAIhF,GAClBilE,EAGMQ,GACTR,EAAM7nC,EAAE4oC,EAAWnB,IAHnBI,EAAQS,EAAmB1lE,EAAKgmE,GAChCf,EAAM1nE,KAIRuoE,EAAW7gE,IAAIjF,EAAK6lE,EAAWtnE,GAAK0mE,GAChCjlE,KAAO4lE,GACTG,EAAO9gE,IAAIjF,EAAK66B,KAAKorC,IAAI1nE,EAAIqnE,EAAY5lE,KAE7C,MAAMkmE,EAA4B,IAAIljE,IAChCmjE,EAA2B,IAAInjE,IACrC,SAASojE,EAAQnB,GACfD,GAAcC,EAAO,GACrBA,EAAM13C,EAAE+W,EAAM3N,GACd0uC,EAAOpgE,IAAIggE,EAAMjlE,IAAKilE,GACtBtuC,EAAQsuC,EAAMoB,MACdjoE,IAEF,MAAOq/B,GAAKr/B,EAAG,CACb,MAAMkoE,EAAYT,EAAWznE,EAAI,GAC3BmoE,EAAYhB,EAAW9nC,EAAI,GAC3B+oC,EAAUF,EAAUtmE,IACpBymE,EAAUF,EAAUvmE,IACtBsmE,IAAcC,GAChB5vC,EAAQ2vC,EAAUD,MAClB5oC,IACAr/B,KACU0nE,EAAWxgE,IAAImhE,IAGfpB,EAAO//D,IAAIkhE,IAAYN,EAAU5gE,IAAIkhE,GAC/CJ,EAAQE,GACCH,EAAS7gE,IAAImhE,GACtBhpC,IACSsoC,EAAO/gE,IAAIwhE,GAAWT,EAAO/gE,IAAIyhE,IAC1CN,EAAS5gE,IAAIihE,GACbJ,EAAQE,KAERJ,EAAU3gE,IAAIkhE,GACdhpC,MAXAqlC,EAAQyD,EAAWlB,GACnB5nC,KAaJ,MAAOA,IAAK,CACV,MAAM8oC,EAAYhB,EAAW9nC,GACxBqoC,EAAWxgE,IAAIihE,EAAUvmE,MAC5B8iE,EAAQyD,EAAWlB,GAEvB,MAAOjnE,EACLgoE,EAAQP,EAAWznE,EAAI,IACzB,OAAOynE,EAET,SAASa,GAAgBvqD,EAAWtX,EAAQ8wB,EAAQgxC,GAClD,MAAM,SAAEhC,EAAQ,SAAEiC,EAAQ,WAAEC,EAAU,aAAE/B,GAAiB3oD,EAAUuoD,GACnEC,GAAYA,EAASp3C,EAAE1oB,EAAQ8wB,GAC1BgxC,GACHrC,GAAoB,KAClB,MAAMwC,EAAiBF,EAAS1nE,IAAI+iE,IAAM37D,OAAO87D,IAC7CyE,EACFA,EAAW1kE,QAAQ2kE,GAEnB3E,GAAQ2E,GAEV3qD,EAAUuoD,GAAGkC,SAAW,KAG5B9B,EAAal/D,QAAQ0+D,IAEvB,SAASyC,GAAkB5qD,EAAW6qD,GACpC,MAAMtC,EAAKvoD,EAAUuoD,GACD,OAAhBA,EAAGC,WACLxC,GAAQuC,EAAGmC,YACXnC,EAAGC,UAAYD,EAAGC,SAASp1B,EAAEy3B,GAC7BtC,EAAGmC,WAAanC,EAAGC,SAAW,KAC9BD,EAAGprD,IAAM,IAGb,SAAS2tD,GAAW9qD,EAAW5d,IACE,IAA3B4d,EAAUuoD,GAAGG,MAAM,KACrBf,GAAiB3hE,KAAKga,GACtBioD,KACAjoD,EAAUuoD,GAAGG,MAAMqC,KAAK,IAE1B/qD,EAAUuoD,GAAGG,MAAMtmE,EAAI,GAAK,IAAM,GAAKA,EAAI,GAE7C,SAAS4oE,GAAKhrD,EAAWpD,EAAU1F,EAAW+zD,EAAkBC,EAAWh4D,EAAOi4D,EAAezC,EAAQ,EAAE,IACzG,MAAM0C,EAAmB/E,GACzBqB,GAAsB1nD,GACtB,MAAMuoD,EAAKvoD,EAAUuoD,GAAK,CACxBC,SAAU,KACVrrD,IAAK,KACLjK,QACA8S,OAAQ6/C,GACRqF,YACAzL,MAAOsG,KACP0E,SAAU,GACVC,WAAY,GACZW,cAAe,GACf5C,cAAe,GACfE,aAAc,GACdlzC,QAAS,IAAI1sB,IAAIqiE,EAAmBA,EAAiB7C,GAAG9yC,QAAU,IAClE61C,UAAWvF,KACX2C,QACA6C,YAAY,EACZtsD,KAAMrC,EAASlU,QAAU0iE,EAAiB7C,GAAGtpD,MAE/CksD,GAAiBA,EAAc5C,EAAGtpD,MAClC,IAAIumD,GAAQ,EACZ+C,EAAGprD,IAAMjG,EAAYA,EAAU8I,EAAWpD,EAAS1J,OAAS,GAAI,CAAC9Q,EAAGwQ,KAAQ44D,KAC1E,MAAM9mE,EAAQ8mE,EAAKnpE,OAASmpE,EAAK,GAAK54D,EAOtC,OANI21D,EAAGprD,KAAO+tD,EAAU3C,EAAGprD,IAAI/a,GAAImmE,EAAGprD,IAAI/a,GAAKsC,MACxC6jE,EAAGgD,YAAchD,EAAG9I,MAAMr9D,IAC7BmmE,EAAG9I,MAAMr9D,GAAGsC,GACV8gE,GACFsF,GAAW9qD,EAAW5d,IAEnBwQ,IACJ,GACL21D,EAAGviD,SACHw/C,GAAQ,EACRQ,GAAQuC,EAAGE,eACXF,EAAGC,WAAWyC,GAAmBA,EAAiB1C,EAAGprD,KACjDP,EAASlU,SAET6/D,EAAGC,UAAYD,EAAGC,SAASpnE,IAE7BmpE,GAAgBvqD,EAAWpD,EAASlU,YAAQ,OAAQ,GACpDoZ,MAEF4lD,GAAsB0D,GAExB,MAAMK,GACJ,WACEb,GAAkB9pE,KAAM,GACxBA,KAAK4qE,SAAW7F,GAElB,IAAIl9D,EAAMmF,GACR,MAAMw9D,EAAYxqE,KAAKynE,GAAG+C,UAAU3iE,KAAU7H,KAAKynE,GAAG+C,UAAU3iE,GAAQ,IAExE,OADA2iE,EAAUtlE,KAAK8H,GACR,KACL,MAAMhI,EAAQwlE,EAAUv2D,QAAQjH,IACjB,IAAXhI,GACFwlE,EAAUt2D,OAAOlP,EAAO,IAG9B,KAAK6lE,GACC7qE,KAAK8qE,QAAUpF,GAASmF,KAC1B7qE,KAAKynE,GAAGgD,YAAa,EACrBzqE,KAAK8qE,MAAMD,GACX7qE,KAAKynE,GAAGgD,YAAa,IAI3B,MAAMM,GAAY,CAChB,EAAE,EAAG,IAAU,UACf,CAAC,EAAG,KAAa,mBACjB,CAAC,EAAG,KAAa,eACjB,CAAC,EAAG,KAAa,kBACjB,CAAC,EAAG,KAAa,cACjB,CAAC,EAAG,MAAmB,iBACvB,CAAC,EAAG,IAAU,cACd,CAAC,EAAG,KAAa,WACjB,CAAC,EAAG,KAAgB,WACpB,CAAC,EAAG,KAAa,UACjB9oE,IAAI,EAAEyW,EAAIk/B,EAAO1lC,MAAU,CAAGwG,KAAIk/B,QAAO1lC,UACrC84D,GAASD,GAAUjnE,MAAM,GACzBmnE,GAAcF,GAAU,GACxBG,GAAyB,EACzBC,GAAiB,EACjBC,GAAqC,oBAAxBC,oBAAqCA,oBAAsBl6B,WAC9E,SAASm6B,GAAO1zB,GACd,OAAOA,EAAM0gB,QAAQp/C,SAAS,KAEhC,MAAMqyD,GAAuB,CAC3B,KAAa,GACb,KAAa,KACb,KAAa,KACb,KAAa,GACb,KAAa,EACb,QAA+B,EAC/B,KAAa,EACb,UAAwC,EACxC,KAAa,EACb,MAAmB,GACnB,KAAa,IAETC,GAAiC,IACjCC,GAA0B,MAC1BC,GAAsB,EACtBC,GAA2B,CAC/B,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAEIC,GAAc,0IACdC,GAA2B,CAAC3xD,EAAGC,IAAMD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,EAC9D2xD,GAAiB,CAAChpC,EAAOipC,KAC7B,MAAMC,EAASrlC,SAASzP,cAAc,UACtC80C,EAAOvzB,MAAQuzB,EAAOtzB,OAAS,EAC/B,MAAMr8B,EAAM2vD,EAAOC,WAAW,MAM9B,OALA5vD,EAAI6vD,aAAe,MACnB7vD,EAAI8vD,KAAO,SAASP,GACpBvvD,EAAI+vD,UAAYL,EAChB1vD,EAAIgwD,MAAM,IAAM,KAChBhwD,EAAIiwD,SAASxpC,EAAO,EAAG,GAChBzmB,EAAIkwD,aAAa,EAAG,EAAG,EAAG,GAAGnrE,MAEhCorE,GAAkB,CAACC,EAAUC,KACjC,MAAMC,EAAc,IAAIF,GAAUpkC,KAAK,KACjCukC,EAAc,IAAIF,GAAUrkC,KAAK,KACvC,OAAOskC,IAAgBC,IAAgBD,EAAY94D,WAAW,WAEhE,SAASg5D,GAAwB/pC,GAC/B,MAAM2pC,EAAWX,GAAehpC,EAAO,QACjC4pC,EAAWZ,GAAehpC,EAAO,QACvC,OAAO2pC,GAAYC,GAAYF,GAAgBC,EAAUC,GAE3D,SAASI,KACP,MAAM95D,EAAU9Q,OAAO8Q,QAAQu4D,IAC/B,IACE,IAAK,MAAO3zB,EAAOkkB,KAAa9oD,EAC9B,GAAI65D,GAAwBj1B,GAC1B,OAAOkkB,EAGX,MAAOt3B,IAGT,OAAOxxB,EAAQ,GAAG,GAEpB,MAAM+5D,GAA2B,IAAI70D,QAASo1B,GAAa89B,GAAI,IAAM99B,EAASw/B,QACxEE,GAAqC,IAAI/kE,IACzCglE,GAAqB,IACrBC,GAAoB,SACpBC,GAAM,IACNC,GAAkB,OAClBC,GAA2B,MACjC,SAASC,GAAcvrE,EAAK8iE,GAC1B,GAAiB,IAAbA,EACF,OAAO9iE,EAET,MAAMwrE,EAAWxrE,EAAIkS,QAAQk5D,IAC7B,OAAkB,IAAdI,EACKxrE,EAAI8oD,UAAU,EAAG0iB,GAAYlsE,OAAOmsE,cAAcJ,GAAkBvI,EAAW,GAAK9iE,EAAI8oD,UAAU0iB,IAEvGxrE,EAAI0rE,SAASR,MACflrE,EAAMA,EAAI8oD,UAAU,EAAG9oD,EAAIR,OAAS,IAE/BQ,EAAMmrE,GAAoB7rE,OAAOmsE,cAAcH,GAA2BxI,EAAW,IAE9F,SAAS6I,GAAKpzD,GACZA,EAAMg6B,iBACNh6B,EAAM85B,kBAER,SAASu5B,GAAqBC,EAAWtrE,EAAKwH,GAO5C,OANAxH,GAAOsrE,GAAa,EAAI,EACpBtrE,EAAM,EACRA,EAAMwH,EAAIvI,OAAS,EACVe,GAAOwH,EAAIvI,SACpBe,EAAM,GAEDA,EAET,SAASurE,GAAO/jE,EAAKquD,GACnB,MAAM5oC,EAAuB,IAAIxpB,IAC3BiE,EAAM,GACZ,IAAK,MAAMsH,KAAQxH,EAAK,CACtB,MAAM/G,EAAMo1D,EAAK7mD,GACZie,EAAKlnB,IAAItF,KACZwsB,EAAKjnB,IAAIvF,GACTiH,EAAI9E,KAAKoM,IAGb,OAAOtH,EAET,SAAS8jE,GAAqBzV,EAAQ0V,GACpC,MAAMC,EAAoBpS,IACxB,MAAM5xD,EAAM,GACZ,IAAK,MAAMikE,KAAQrS,EACQ,kBAAdqS,EAAK7R,MAAqB6R,EAAK94C,SAAW44C,IACnD/jE,EAAIikE,EAAK7R,MAAQ6R,EAAK3V,SAG1B,OAAOtuD,GAET,OAAOquD,EAAOp2D,IAAI,EAAGq2D,UAASsD,QAAOD,aAAYvR,MAAKl4C,OAAMg8D,eAAe,CACzE5V,UACApmD,OACAypD,aACAvR,MACA8jB,WACAx1D,GAAI4/C,GAAWpmD,EACf0pD,MAAOA,GAASoS,EAAiBpS,GACjC3J,OAAQ0J,GAAc,IAAItzB,KAAK,SAGnC,MAAM8lC,GAAMt9B,sBACZ,IAwBIu9B,GAxBAC,GAAoD,oBAAnBC,eACrC,SAASC,GAAelnC,EAAMmnC,GAC5B,IAAIC,EAOJ,OANIJ,IACFI,EAAiB,IAAIH,eAAgBt7D,GAAYw7D,EAASx7D,EAAQ,GAAG07D,YAAYj2B,QACjFg2B,EAAephC,QAAQhG,IAEvB8mC,GAAI,IAAMK,EAASnnC,EAAKoM,wBAAwBgF,QAE3C,CACL,UACMg2B,GACFA,EAAetb,eAKvB,SAASwb,GAAmBtnC,GAC1B,CACE,MAAMq3B,EAAQ/3B,SAASioC,cAEvB,OADAlQ,EAAMmQ,WAAWxnC,EAAKW,YACf02B,EAAMjrB,wBAAwBgF,OAIzC,SAASq2B,GAAgBC,EAAkBC,EAAeC,GACxD,IAAK,MAAMr3B,KAASm3B,EAAkB,CACpC,MAAMG,EAAUD,EAAer3B,GACzBu3B,EAAaR,GAAmBO,GACJ,qBAAvBd,KACTA,GAAqBO,GAAmBK,IAE1C,MAAMI,EAAYD,EAAa,IAAMf,GACrCpB,GAAmBhlE,IAAI4vC,EAAM0gB,QAAS8W,IAG1C,SAASC,GAAKvlE,GACZ,OAAO+jE,GAAO/jE,EAAMiL,GAAMA,GAE5B,MAAQ9M,IAAKqnE,IAAUpH,GACvB,SAASqH,GAAiBlzD,EAAKja,EAAMd,GACnC,MAAMynE,EAAY1sD,EAAIvY,QAGtB,OAFAilE,EAAU,IAAM3mE,EAAKd,GACrBynE,EAAU,IAAMznE,EACTynE,EAET,SAASyG,GAAmBnzD,EAAKja,EAAMd,GACrC,MAAMynE,EAAY1sD,EAAIvY,QAGtB,OAFAilE,EAAU,IAAM3mE,EAAKd,GACrBynE,EAAU,IAAMznE,EACTynE,EAET,SAAS0G,GAAmBpzD,EAAKja,EAAMd,GACrC,MAAMynE,EAAY1sD,EAAIvY,QAGtB,OAFAilE,EAAU,IAAM3mE,EAAKd,GACrBynE,EAAU,IAAMznE,EACTynE,EAET,SAAS2G,GAAmBrzD,EAAKja,EAAMd,GACrC,MAAMynE,EAAY1sD,EAAIvY,QAEtB,OADAilE,EAAU,IAAM3mE,EAAKd,GACdynE,EAET,SAAS4G,GAAmBtzD,EAAKja,EAAMd,GACrC,MAAMynE,EAAY1sD,EAAIvY,QAGtB,OAFAilE,EAAU,IAAM3mE,EAAKd,GACrBynE,EAAU,IAAMznE,EACTynE,EAET,SAAS6G,GAAoBC,EAAOxzD,GAClC,IAAIyzD,EAEA1vE,EACA2vE,EACAC,EACAC,EACAC,EACAC,EANAC,EAAU/zD,EAAI,IAAM,GAOxB,MAAO,CACLtZ,IAAK8sE,EACLzG,MAAO,KACP,IACE0G,EAAM9J,GAAQ,OACd5lE,EAAI6lE,GAAKmK,GACTjK,GAAK2J,EAAK,KAAMC,EAAe,YAAc1zD,EAAI,KACjD8pD,GAAK2J,EAAK,QAASE,EAAkB,qBAAuB3zD,EAAI,MAAQA,EAAI,IAAM,SAAW,KAC7F8pD,GAAK2J,EAAK,gBAAiBG,EAA0B5zD,EAAI,MAAQA,EAAI,KACrE8pD,GAAK2J,EAAK,OAAQ,UAClB3J,GAAK2J,EAAK,QAASI,EAAkB7zD,EAAI,GAAG4/C,UAAU5/C,EAAI,MAC1D8pD,GAAK2J,EAAK,WAAY,MACtB3J,GAAK2J,EAAK,aAAcK,EAAuB9zD,EAAI,GAAG4/C,UAAU5/C,EAAI,MACpErc,KAAKopE,MAAQ0G,GAEf,EAAEloE,EAAQ8wB,GACR7B,GAAOjvB,EAAQkoE,EAAKp3C,GACpBotC,GAAOgK,EAAK1vE,IAEd,EAAEiwE,EAASzI,GACTvrD,EAAMg0D,EACS,IAAXzI,EAAM,IAAYwI,KAAaA,EAAU/zD,EAAI,IAAM,KACrDgqD,GAASjmE,EAAGgwE,GACC,IAAXxI,EAAM,IAAYmI,KAAkBA,EAAe,YAAc1zD,EAAI,MACvE8pD,GAAK2J,EAAK,KAAMC,GAEH,QAAXnI,EAAM,IAAgBoI,KAAqBA,EAAkB,qBAAuB3zD,EAAI,MAAQA,EAAI,IAAM,SAAW,MACvH8pD,GAAK2J,EAAK,QAASE,GAEN,QAAXpI,EAAM,IAAgBqI,KAA6BA,EAA0B5zD,EAAI,MAAQA,EAAI,MAC/F8pD,GAAK2J,EAAK,gBAAiBG,GAEd,IAAXrI,EAAM,IAAYsI,KAAqBA,EAAkB7zD,EAAI,GAAG4/C,UAAU5/C,EAAI,OAChF8pD,GAAK2J,EAAK,QAASI,GAEN,IAAXtI,EAAM,IAAYuI,KAA0BA,EAAuB9zD,EAAI,GAAG4/C,UAAU5/C,EAAI,OAC1F8pD,GAAK2J,EAAK,aAAcK,IAG5B,EAAEpG,GACIA,GACFhE,GAAO+J,KAIf,SAASQ,GAAoBT,EAAOxzD,GAClC,IAAI24B,EACA86B,EAEA1vE,EACAmwE,EACAC,EACAC,EACAC,EACAtnD,EACAunD,EAPAP,EAAU/zD,EAAI,IAAIu7B,MAAQ,GAQ9B,SAASg5B,IACP,OAAOv0D,EAAI,IAAIA,EAAI,KAErB,MAAO,CACLtZ,IAAK8sE,EACLzG,MAAO,KACP,IACEp0B,EAASgxB,GAAQ,UACjB8J,EAAM9J,GAAQ,OACd5lE,EAAI6lE,GAAKmK,GACTjK,GAAK2J,EAAK,QAAS,mBACnB3J,GAAKnxB,EAAQ,OAAQ,OACrBmxB,GAAKnxB,EAAQ,QAAS,cACtBmxB,GAAKnxB,EAAQ,gBAAiBu7B,EAA6B,OAASl0D,EAAI,IAAI3D,IAC5EytD,GAAKnxB,EAAQ,aAAcw7B,EAA0Bn0D,EAAI,GAAGw0D,WAAWx0D,EAAI,IAAInK,OAC/Ei0D,GAAKnxB,EAAQ,gBAAiBy7B,GAA8Bp0D,EAAI,IAAMA,EAAI,IAAI3D,KAAO2D,EAAI,IAAI3D,IAC7FytD,GAAKnxB,EAAQ,QAAS07B,EAAqBr0D,EAAI,GAAGw0D,WAAWx0D,EAAI,IAAInK,OACrElS,KAAKopE,MAAQp0B,GAEf,EAAEptC,EAAQ8wB,GACR7B,GAAOjvB,EAAQotC,EAAQtc,GACvBotC,GAAO9wB,EAAQ86B,GACfhK,GAAOgK,EAAK1vE,GACPgpB,IACHunD,EAAUzK,GAAOlxB,EAAQ,QAAS47B,GAClCxnD,GAAU,IAGd,EAAEinD,EAASzI,GACTvrD,EAAMg0D,EACS,KAAXzI,EAAM,IAAawI,KAAaA,EAAU/zD,EAAI,IAAIu7B,MAAQ,KAC5DyuB,GAASjmE,EAAGgwE,GACC,KAAXxI,EAAM,IAAa2I,KAAgCA,EAA6B,OAASl0D,EAAI,IAAI3D,KACnGytD,GAAKnxB,EAAQ,gBAAiBu7B,GAEjB,KAAX3I,EAAM,IAAa4I,KAA6BA,EAA0Bn0D,EAAI,GAAGw0D,WAAWx0D,EAAI,IAAInK,QACtGi0D,GAAKnxB,EAAQ,aAAcw7B,GAEd,MAAX5I,EAAM,IAAc6I,KAAgCA,GAA8Bp0D,EAAI,IAAMA,EAAI,IAAI3D,KAAO2D,EAAI,IAAI3D,KACrHytD,GAAKnxB,EAAQ,gBAAiBy7B,GAEjB,KAAX7I,EAAM,IAAa8I,KAAwBA,EAAqBr0D,EAAI,GAAGw0D,WAAWx0D,EAAI,IAAInK,QAC5Fi0D,GAAKnxB,EAAQ,QAAS07B,IAG1B,EAAE3G,GACIA,GACFhE,GAAO/wB,GACT5rB,GAAU,EACVunD,MAIN,SAASG,GAAoBz0D,GAC3B,IAAI6uC,EACA6lB,EACJ,MAAO,CACL,IACE7lB,EAAM8a,GAAQ,OACdG,GAAKjb,EAAK,QAAS,gBACdsa,GAActa,EAAIG,IAAK0lB,EAAgB10D,EAAI,IAAI+tC,MAClD+b,GAAKjb,EAAK,MAAO6lB,GACnB5K,GAAKjb,EAAK,MAAO,IACjBib,GAAKjb,EAAK,UAAW,SAEvB,EAAEtjD,EAAQ8wB,GACR7B,GAAOjvB,EAAQsjD,EAAKxyB,IAEtB,EAAEs4C,EAAMpJ,GACS,MAAXA,EAAM,KAAepC,GAActa,EAAIG,IAAK0lB,EAAgBC,EAAK,IAAI5mB,MACvE+b,GAAKjb,EAAK,MAAO6lB,IAGrB,EAAEhH,GACIA,GACFhE,GAAO7a,KAIf,SAAS+lB,GAAkB50D,GACzB,IACIjc,EADAgwE,EAAU/zD,EAAI,IAAIA,EAAI,IAAKA,EAAI,IAAM,GAEzC,MAAO,CACL,IACEjc,EAAI6lE,GAAKmK,IAEX,EAAExoE,EAAQ8wB,GACR7B,GAAOjvB,EAAQxH,EAAGs4B,IAEpB,EAAEs4C,EAAMpJ,GACS,MAAXA,EAAM,IAAcwI,KAAaA,EAAUY,EAAK,IAAIA,EAAK,IAAKA,EAAK,IAAM,KAC3E3K,GAASjmE,EAAGgwE,IAEhB,EAAErG,GACIA,GACFhE,GAAO3lE,KAIf,SAAS8wE,GAAoBrB,EAAOxzD,GAClC,IAAI24B,EACAm8B,EACAV,EACAD,EACAE,EACAU,EACAC,EACJ,SAASC,EAAkBN,EAAMpJ,GAC/B,OAAIoJ,EAAK,IAAI1Y,QACJ2Y,GACFH,GAET,IAAIS,EAAqBD,EAAkBj1D,GACvCm1D,EAAWD,EAAmBl1D,GAClC,MAAO,CACLtZ,IAAK8sE,EACLzG,MAAO,KACP,IACEp0B,EAASgxB,GAAQ,UACjBwL,EAASlxE,IACT6lE,GAAKnxB,EAAQ,OAAQm8B,EAAoB90D,EAAI,GAAK,SAAW,YAC7D8pD,GAAKnxB,EAAQ,gBAAiBy7B,EAA6Bp0D,EAAI,GAAKA,EAAI,KAAOA,EAAI,GAAK,IACxF8pD,GAAKnxB,EAAQ,aAAcw7B,EAA0Bn0D,EAAI,IAAIA,EAAI,IAAKA,EAAI,KAC1E8pD,GAAKnxB,EAAQ,QAAS07B,EAAqBr0D,EAAI,IAAI41C,OACnDkU,GAAKnxB,EAAQ,QAASo8B,EAAqB,UAAY/0D,EAAI,IAAMA,EAAI,MAAQA,EAAI,GAAK,SAAW,KACjG8pD,GAAKnxB,EAAQ,KAAMq8B,EAAkB,OAASh1D,EAAI,IAAI3D,IACtD1Y,KAAKopE,MAAQp0B,GAEf,EAAEptC,EAAQ8wB,GACR7B,GAAOjvB,EAAQotC,EAAQtc,GACvB84C,EAASlhD,EAAE0kB,EAAQ,OAErB,EAAEq7B,EAASzI,GACTvrD,EAAMg0D,EACFkB,KAAwBA,EAAqBD,EAAkBj1D,KAASm1D,EAC1EA,EAASrxC,EAAE9jB,EAAKurD,IAEhB4J,EAASl/B,EAAE,GACXk/B,EAAWD,EAAmBl1D,GAC1Bm1D,IACFA,EAASlxE,IACTkxE,EAASlhD,EAAE0kB,EAAQ,QAGR,GAAX4yB,EAAM,IAAWuJ,KAAuBA,EAAoB90D,EAAI,GAAK,SAAW,aAClF8pD,GAAKnxB,EAAQ,OAAQm8B,GAER,MAAXvJ,EAAM,IAAc6I,KAAgCA,EAA6Bp0D,EAAI,GAAKA,EAAI,KAAOA,EAAI,GAAK,KAChH8pD,GAAKnxB,EAAQ,gBAAiBy7B,GAEjB,MAAX7I,EAAM,IAAc4I,KAA6BA,EAA0Bn0D,EAAI,IAAIA,EAAI,IAAKA,EAAI,MAClG8pD,GAAKnxB,EAAQ,aAAcw7B,GAEd,MAAX5I,EAAM,IAAc8I,KAAwBA,EAAqBr0D,EAAI,IAAI41C,QAC3EkU,GAAKnxB,EAAQ,QAAS07B,GAET,MAAX9I,EAAM,IAAcwJ,KAAwBA,EAAqB,UAAY/0D,EAAI,IAAMA,EAAI,MAAQA,EAAI,GAAK,SAAW,MACzH8pD,GAAKnxB,EAAQ,QAASo8B,GAET,MAAXxJ,EAAM,IAAcyJ,KAAqBA,EAAkB,OAASh1D,EAAI,IAAI3D,KAC9EytD,GAAKnxB,EAAQ,KAAMq8B,IAGvB,EAAEtH,GACIA,GACFhE,GAAO/wB,GACTw8B,EAASl/B,MAIf,SAASm/B,GAAoB5B,EAAOxzD,GAClC,IAAIq1D,EAEAtxE,EACAuxE,EACAC,EACAC,EAGAC,EACAC,EACAC,EATA5B,GAAW/zD,EAAI,GAAKA,EAAI,GAAG41D,mBAAqB51D,EAAI,IAAI6xD,SAAW7xD,EAAI,IAAI6xD,SAAW7xD,EAAI,IAAI9a,OAAS,EAAI8a,EAAI,GAAGw0D,WAAW3Q,OAAS7jD,EAAI,GAAGw0D,WAAWx0D,EAAI,IAAInK,OAAS,GAKzKggE,EAAc,GACdC,EAAgB,IAAI7C,GAIpB8C,EAAe/1D,EAAI,IAAIg8C,OAC3B,MAAMkQ,EAAWyI,GAASA,EAAK,IAAIt4D,GACnC,IAAK,IAAIpX,EAAI,EAAGA,EAAI8wE,EAAa7wE,OAAQD,GAAK,EAAG,CAC/C,IAAIynE,EAAY0G,GAAmBpzD,EAAK+1D,EAAc9wE,GAClDyB,EAAMwlE,EAAQQ,GAClBoJ,EAAcnqE,IAAIjF,EAAKmvE,EAAY5wE,GAAK4vE,GAAoBnuE,EAAKgmE,IAEnE,MAAO,CACLhmE,IAAK8sE,EACLzG,MAAO,KACP,IACEsI,EAAO1L,GAAQ,OACf5lE,EAAI6lE,GAAKmK,GACTyB,EAAO7L,GAAQ,OACf,IAAK,IAAI1kE,EAAI,EAAGA,EAAI4wE,EAAY3wE,OAAQD,GAAK,EAC3C4wE,EAAY5wE,GAAGhB,IAEjB6lE,GAAKuL,EAAM,KAAMC,EAAgB,cAAgBt1D,EAAI,KACrD8pD,GAAKuL,EAAM,QAASE,EAAmB,aAAkC,IAAnBv1D,EAAI,IAAI9a,QAAwC,KAAxB8a,EAAI,IAAI,GAAG6xD,SAAkB,OAAS,KACpH/H,GAAKuL,EAAM,cAAe,QAC1BvL,GAAK0L,EAAM,QAAS,cACpB1L,GAAK0L,EAAM,OAAQC,EAAkBz1D,EAAI,GAAK,UAAY,QAC1D8pD,GAAK0L,EAAM,kBAAmBE,EAA6B,cAAgB11D,EAAI,KAC/E8pD,GAAK0L,EAAM,KAAMG,EAAgB31D,EAAI,GAAK,iBAAmB,IAC7Drc,KAAKopE,MAAQsI,GAEf,EAAE9pE,EAAQ8wB,GACR7B,GAAOjvB,EAAQ8pE,EAAMh5C,GACrBotC,GAAO4L,EAAMtxE,GACby2B,GAAOjvB,EAAQiqE,EAAMn5C,GACrB,IAAK,IAAIp3B,EAAI,EAAGA,EAAI4wE,EAAY3wE,OAAQD,GAAK,EAC3C4wE,EAAY5wE,GAAGgvB,EAAEuhD,EAAM,OAG3B,EAAExB,EAASzI,GACTvrD,EAAMg0D,EACS,MAAXzI,EAAM,IAAcwI,KAAaA,GAAW/zD,EAAI,GAAKA,EAAI,GAAG41D,mBAAqB51D,EAAI,IAAI6xD,SAAW7xD,EAAI,IAAI6xD,SAAW7xD,EAAI,IAAI9a,OAAS,EAAI8a,EAAI,GAAGw0D,WAAW3Q,OAAS7jD,EAAI,GAAGw0D,WAAWx0D,EAAI,IAAInK,OAAS,KAC5Mm0D,GAASjmE,EAAGgwE,GACC,MAAXxI,EAAM,IAAc+J,KAAmBA,EAAgB,cAAgBt1D,EAAI,MAC7E8pD,GAAKuL,EAAM,KAAMC,GAEJ,MAAX/J,EAAM,IAAcgK,KAAsBA,EAAmB,aAAkC,IAAnBv1D,EAAI,IAAI9a,QAAwC,KAAxB8a,EAAI,IAAI,GAAG6xD,SAAkB,OAAS,MAC5I/H,GAAKuL,EAAM,QAASE,GAEP,UAAXhK,EAAM,KACRwK,EAAe/1D,EAAI,IAAIg8C,OACvB6Z,EAAc7J,GAAkB6J,EAAatK,EAAOW,EAAS,EAAGlsD,EAAK+1D,EAAcD,EAAeN,EAAM1J,GAAe+I,GAAqB,KAAMzB,KAErI,GAAX7H,EAAM,IAAWkK,KAAqBA,EAAkBz1D,EAAI,GAAK,UAAY,SAC/E8pD,GAAK0L,EAAM,OAAQC,GAEN,MAAXlK,EAAM,IAAcmK,KAAgCA,EAA6B,cAAgB11D,EAAI,MACvG8pD,GAAK0L,EAAM,kBAAmBE,GAEjB,GAAXnK,EAAM,IAAWoK,KAAmBA,EAAgB31D,EAAI,GAAK,iBAAmB,KAClF8pD,GAAK0L,EAAM,KAAMG,IAGrB,EAAEjI,GACIA,GACFhE,GAAO2L,GACL3H,GACFhE,GAAO8L,GACT,IAAK,IAAIvwE,EAAI,EAAGA,EAAI4wE,EAAY3wE,OAAQD,GAAK,EAC3C4wE,EAAY5wE,GAAGgxC,MAKvB,SAAS+/B,GAAkBh2D,GACzB,IAAI6uC,EACA6lB,EACJ,MAAO,CACL,IACE7lB,EAAM8a,GAAQ,OACdG,GAAKjb,EAAK,QAAS,gBACdsa,GAActa,EAAIG,IAAK0lB,EAAgB10D,EAAI,IAAI+tC,MAClD+b,GAAKjb,EAAK,MAAO6lB,GACnB5K,GAAKjb,EAAK,MAAO,IACjBib,GAAKjb,EAAK,UAAW,SAEvB,EAAEtjD,EAAQ8wB,GACR7B,GAAOjvB,EAAQsjD,EAAKxyB,IAEtB,EAAEs4C,EAAMpJ,GACS,KAAXA,EAAM,KAAcpC,GAActa,EAAIG,IAAK0lB,EAAgBC,EAAK,IAAI5mB,MACtE+b,GAAKjb,EAAK,MAAO6lB,IAGrB,EAAEhH,GACIA,GACFhE,GAAO7a,KAIf,SAASonB,GAAgBj2D,GACvB,IACIjc,EADAgwE,EAAU/zD,EAAI,IAAIA,EAAI,IAAKA,EAAI,IAAM,GAEzC,MAAO,CACL,IACEjc,EAAI6lE,GAAKmK,IAEX,EAAExoE,EAAQ8wB,GACR7B,GAAOjvB,EAAQxH,EAAGs4B,IAEpB,EAAEs4C,EAAMpJ,GACS,KAAXA,EAAM,IAAawI,KAAaA,EAAUY,EAAK,IAAIA,EAAK,IAAKA,EAAK,IAAM,KAC1E3K,GAASjmE,EAAGgwE,IAEhB,EAAErG,GACIA,GACFhE,GAAO3lE,KAIf,SAASmyE,GAAkB1C,EAAOxzD,GAChC,IAAI24B,EACAw7B,EACAE,EACAW,EACJ,SAASmB,EAAoBxB,EAAMpJ,GACjC,OAAIoJ,EAAK,IAAI1Y,QACJga,GACFD,GAET,IAAId,EAAqBiB,EAAoBn2D,GACzCm1D,EAAWD,EAAmBl1D,GAClC,MAAO,CACLtZ,IAAK8sE,EACLzG,MAAO,KACP,IACEp0B,EAASgxB,GAAQ,UACjBwL,EAASlxE,IACT6lE,GAAKnxB,EAAQ,OAAQ,YACrBmxB,GAAKnxB,EAAQ,aAAcw7B,EAA0Bn0D,EAAI,IAAIA,EAAI,IAAKA,EAAI,KAC1E8pD,GAAKnxB,EAAQ,QAAS07B,EAAqBr0D,EAAI,IAAI41C,OACnDkU,GAAKnxB,EAAQ,QAAS,SACtBmxB,GAAKnxB,EAAQ,KAAMq8B,EAAkB,OAASh1D,EAAI,IAAI3D,IACtD1Y,KAAKopE,MAAQp0B,GAEf,EAAEptC,EAAQ8wB,GACR7B,GAAOjvB,EAAQotC,EAAQtc,GACvB84C,EAASlhD,EAAE0kB,EAAQ,OAErB,EAAEq7B,EAASzI,GACTvrD,EAAMg0D,EACFkB,KAAwBA,EAAqBiB,EAAoBn2D,KAASm1D,EAC5EA,EAASrxC,EAAE9jB,EAAKurD,IAEhB4J,EAASl/B,EAAE,GACXk/B,EAAWD,EAAmBl1D,GAC1Bm1D,IACFA,EAASlxE,IACTkxE,EAASlhD,EAAE0kB,EAAQ,QAGR,KAAX4yB,EAAM,IAAa4I,KAA6BA,EAA0Bn0D,EAAI,IAAIA,EAAI,IAAKA,EAAI,MACjG8pD,GAAKnxB,EAAQ,aAAcw7B,GAEd,KAAX5I,EAAM,IAAa8I,KAAwBA,EAAqBr0D,EAAI,IAAI41C,QAC1EkU,GAAKnxB,EAAQ,QAAS07B,GAET,KAAX9I,EAAM,IAAayJ,KAAqBA,EAAkB,OAASh1D,EAAI,IAAI3D,KAC7EytD,GAAKnxB,EAAQ,KAAMq8B,IAGvB,EAAEtH,GACIA,GACFhE,GAAO/wB,GACTw8B,EAASl/B,MAIf,SAASmgC,GAAgBp2D,GACvB,IAAIq2D,EACAhB,EACAiB,EACAd,EACArL,EACAoM,EACAC,EACAC,EACAC,EAEAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EACAC,EACAC,EACAC,EACA5rD,EACAunD,EA7CAsE,EAAW54D,EAAI,GAAG64D,YAAc,GAGhCC,EAAW94D,EAAI,GAAG+4D,kBAAoB,GAQtCC,EAAWh5D,EAAI,GAAGi5D,oBAAsB,GAGxCC,EAAgB,GAChBC,EAAe,IAAIlG,GAMnBmG,EAAgB,GAChBC,EAAe,IAAIpG,GASnBqG,EAAgB,GAChBC,EAAe,IAAItG,GAMnB4C,GAAc,GACd2D,GAAe,IAAIvG,GAOnBwG,GAAez5D,EAAI,GACvB,MAAMksD,GAAWyI,GAASA,EAAK,IAC/B,IAAK,IAAI1vE,GAAI,EAAGA,GAAIw0E,GAAav0E,OAAQD,IAAK,EAAG,CAC/C,IAAIynE,EAAY4G,GAAmBtzD,EAAKy5D,GAAcx0E,IAClDyB,EAAMwlE,GAAQQ,GAClByM,EAAaxtE,IAAIjF,EAAKwyE,EAAcj0E,IAAKsuE,GAAoB7sE,EAAKgmE,IAEpE,IAAIgN,GAAe15D,EAAI,IACvB,MAAM25D,GAAahF,GAASA,EAAK,IAAIt4D,GACrC,IAAK,IAAIpX,GAAI,EAAGA,GAAIy0E,GAAax0E,OAAQD,IAAK,EAAG,CAC/C,IAAIynE,EAAY2G,GAAmBrzD,EAAK05D,GAAcz0E,IAClDyB,EAAMizE,GAAUjN,GACpB2M,EAAa1tE,IAAIjF,EAAK0yE,EAAcn0E,IAAKgvE,GAAoBvtE,EAAKgmE,IAEpE,IAAIkN,GAAe55D,EAAI,IACvB,MAAM65D,GAAalF,GAASA,EAAK,IAAI9C,SACrC,IAAK,IAAI5sE,GAAI,EAAGA,GAAI20E,GAAa10E,OAAQD,IAAK,EAAG,CAC/C,IAAIynE,EAAYyG,GAAmBnzD,EAAK45D,GAAc30E,IAClDyB,EAAMmzE,GAAUnN,GACpB6M,EAAa5tE,IAAIjF,EAAK4yE,EAAcr0E,IAAKmwE,GAAoB1uE,EAAKgmE,IAEpE,IAAIoN,GAAa95D,EAAI,IACrB,MAAM+5D,GAAapF,GAASA,EAAK,IAAIt4D,GACrC,IAAK,IAAIpX,GAAI,EAAGA,GAAI60E,GAAW50E,OAAQD,IAAK,EAAG,CAC7C,IAAIynE,EAAYwG,GAAiBlzD,EAAK85D,GAAY70E,IAC9CyB,EAAMqzE,GAAUrN,GACpB8M,GAAa7tE,IAAIjF,EAAKmvE,GAAY5wE,IAAKixE,GAAkBxvE,EAAKgmE,IAEhE,MAAO,CACL,IACE2J,EAAU1M,GAAQ,WAClB0L,EAAO1L,GAAQ,OACf2M,EAAO3M,GAAQ,OACf6L,EAAO7L,GAAQ,OACfQ,EAAQR,GAAQ,SAChB+M,EAAQ/M,GAAQ,SAChBgN,EAAK/M,GAAKgP,GACVhC,EAAQjN,GAAQ,QAChBkN,EAAKjN,GAAKkP,GACVhC,EAAOnN,GAAQ,OACfoN,EAAUpN,GAAQ,UAClBqN,EAAKpN,GAAK5pD,EAAI,KACdm3D,EAAQxN,GAAQ,QAChByN,EAAKxN,GAAKoP,GACV3B,EAAO1N,GAAQ,OACf,IAAK,IAAI1kE,EAAI,EAAGA,EAAIi0E,EAAch0E,OAAQD,GAAK,EAC7Ci0E,EAAcj0E,GAAGhB,IAEnByzE,EAAO/N,GAAQ,OACf,IAAK,IAAI1kE,EAAI,EAAGA,EAAIm0E,EAAcl0E,OAAQD,GAAK,EAC7Cm0E,EAAcn0E,GAAGhB,IAEnB2zE,EAAOjO,GAAQ,OACfkO,EAAOlO,GAAQ,OACfmO,EAAOnO,GAAQ,OACfoO,EAAKnO,GAAK5pD,EAAI,KACdi4D,EAAQtO,GAAQ,OAChBuO,EAAOvO,GAAQ,OACf,IAAK,IAAI1kE,EAAI,EAAGA,EAAIq0E,EAAcp0E,OAAQD,GAAK,EAC7Cq0E,EAAcr0E,GAAGhB,IAEnBs0E,EAAQ5O,GAAQ,OAChB,IAAK,IAAI1kE,EAAI,EAAGA,EAAI4wE,GAAY3wE,OAAQD,GAAK,EAC3C4wE,GAAY5wE,GAAGhB,IAEjBy0E,EAAU/O,GAAQ,UAClB+O,EAAQxtC,YAAc,KACtB4+B,GAAKuL,EAAM,QAAS,WACpBvL,GAAKK,EAAO,KAAM,UAClBL,GAAKK,EAAO,QAAS,UACrBL,GAAKK,EAAO,OAAQ,UACpBL,GAAKK,EAAO,OAAQ,YACpBL,GAAKK,EAAO,eAAgB,UAC5BL,GAAKK,EAAO,cAAeoM,EAA0Bv2D,EAAI,GAAG64D,aAC5D/O,GAAKK,EAAO,iBAAkB,QAC9BL,GAAKK,EAAO,eAAgB,OAC5BL,GAAKK,EAAO,aAAc,QAC1BL,GAAKK,EAAO,gBAAiBqM,KAA+Bx2D,EAAI,KAAMA,EAAI,GAAG9a,SAC7E4kE,GAAKK,EAAO,gBAAiB,kBAC7BL,GAAKK,EAAO,mBAAoB,sBAChCL,GAAKK,EAAO,oBAAqB,QACjCL,GAAKK,EAAO,wBAAyBsM,EAAoCz2D,EAAI,IAAM,OAAOA,EAAI,IAAQ,IACtG8pD,GAAK4M,EAAO,QAAS,WACrB5M,GAAK4M,EAAO,MAAO,UACnB5M,GAAK8M,EAAO,KAAM,sBAClB9M,GAAK8M,EAAO,QAAS,WACrB9M,GAAK0L,EAAM,QAAS,kBACpB1L,GAAKiN,EAAS,KAAM,mBACpBjN,GAAKiN,EAAS,QAASE,EAAsB,UAAYj3D,EAAI,GAAK,aAAe,KACjF8pD,GAAKiN,EAAS,aAAc/2D,EAAI,KAChC8pD,GAAKiN,EAAS,QAAS/2D,EAAI,KAC3B8pD,GAAKiN,EAAS,mBAAoB,wBAClCjN,GAAKiN,EAAS,gBAAiB,WAC/BjN,GAAKiN,EAAS,gBAAiB/2D,EAAI,IACnC8pD,GAAKiN,EAAS,gBAAiB,iBAC/BjN,GAAKgN,EAAM,QAASI,EAAmB,4BAA8Bl3D,EAAI,IAAM,WAAa,KAC5F8pD,GAAKqN,EAAO,KAAM,wBAClBrN,GAAKqN,EAAO,QAAS,WACrBrN,GAAKuN,EAAM,KAAM,iBACjBvN,GAAKuN,EAAM,QAASC,EAAmB,kBAAoBt3D,EAAI,GAAK,GAAK,sBACzEoqD,GAAUiN,EAAM,YAAa,eAAiBr3D,EAAI,GAAK,EAAI,6DAA+D,KAC1H8pD,GAAKuN,EAAM,OAAQ,WACnBvN,GAAKuN,EAAM,aAAcE,EAAwBv3D,EAAI,GAAGg6D,gBACxDlQ,GAAKuN,EAAM,wBAAyBG,EAAmC,YAAcx3D,EAAI,KACzF8pD,GAAKuN,EAAM,cAAeI,GAA0Bz3D,EAAI,IACxD8pD,GAAKwM,EAAM,QAAS,cACpBxM,GAAK4N,EAAM,QAAS,OACpB5N,GAAK4N,EAAM,OAAQ,WACnBtN,GAAUsN,EAAM,wBAAyB,UAAY13D,EAAI,IAAI9a,OAAS,UACtE4kE,GAAK4N,EAAM,aAAcC,EAAwB33D,EAAI,GAAGi6D,iBACxDnQ,GAAK+N,EAAM,QAAS,aACpBzN,GAAUyN,EAAM,YAAa,eAAiB73D,EAAI,KAAO,EAAI,GAAKA,EAAI,IAAM,IAAM,MAClF8pD,GAAK8N,EAAM,QAAS,qBACpB9N,GAAKgO,EAAM,QAASE,EAAmB,YAAch4D,EAAI,IAAM,GAAK,SACpE8pD,GAAKgO,EAAM,OAAQ,SACnBhO,GAAKgO,EAAM,YAAa,UACxBhO,GAAKmO,EAAO,QAASE,EAAoB,cAAgBn4D,EAAI,KAAOA,EAAI,IAAM,OAAS,KACvF8pD,GAAKmO,EAAO,OAAQG,EAAmBp4D,EAAI,GAAK,SAAW,YAC3D8pD,GAAKmO,EAAO,aAAcI,EAAyBr4D,EAAI,GAAKA,EAAI,GAAG41D,mBAAqB51D,EAAI,GAAGw0D,WAAWx0D,EAAI,IAAInK,OAClHi0D,GAAKmO,EAAO,KAAMK,EAAiBt4D,EAAI,GAAK,GAAK,OAAOA,EAAI,IAAI3D,IAChEytD,GAAKmO,EAAO,WAAY,KACxBnO,GAAKyO,EAAO,QAASC,EAAoB,yBAA2Bx4D,EAAI,IAAM,OAAS,KACvF8pD,GAAKyO,EAAO,OAAQ,QACpBzO,GAAKyO,EAAO,aAAcE,EAAyBz4D,EAAI,GAAGk6D,gBAC1D9P,GAAUmO,EAAO,qBAAsBv4D,EAAI,IAAM,MACjD8pD,GAAK4O,EAAS,cAAe,QAC7B5O,GAAK4O,EAAS,WAAY,MAC1B5O,GAAK4O,EAAS,QAAS,wBACvB5O,GAAKuM,EAAS,QAAS,UACvBvM,GAAKuM,EAAS,aAAcsC,EAA2B34D,EAAI,GAAGm6D,aAC9DrQ,GAAKuM,EAAS,QAASr2D,EAAI,MAE7B,EAAEzU,EAAQ8wB,GACR7B,GAAOjvB,EAAQ8qE,EAASh6C,GACxBotC,GAAO4M,EAAShB,GAChB5L,GAAO4M,EAASC,GAChB7M,GAAO6M,EAAMd,GACb/L,GAAO+L,EAAMrL,GACbD,GAAgBC,EAAOnqD,EAAI,IAC3BypD,GAAO+L,EAAMkB,GACbjN,GAAOiN,EAAOC,GACdlN,GAAO+L,EAAMoB,GACbnN,GAAOmN,EAAOC,GACdpN,GAAO6M,EAAMQ,GACbrN,GAAOqN,EAAMC,GACbtN,GAAOsN,EAASC,GAChBvN,GAAO6M,EAAMa,GACb1N,GAAO0N,EAAOC,GACd3N,GAAO6M,EAAMe,GACb,IAAK,IAAIpyE,EAAI,EAAGA,EAAIi0E,EAAch0E,OAAQD,GAAK,EAC7Ci0E,EAAcj0E,GAAGgvB,EAAEojD,EAAM,MAE3Br3D,EAAI,IAAIq3D,GACR5N,GAAO4M,EAASqB,GAChB,IAAK,IAAIzyE,EAAI,EAAGA,EAAIm0E,EAAcl0E,OAAQD,GAAK,EAC7Cm0E,EAAcn0E,GAAGgvB,EAAEyjD,EAAM,MAE3BjO,GAAO4M,EAASuB,GAChBnO,GAAOmO,EAAMC,GACbpO,GAAO4M,EAASyB,GAChBrO,GAAOqO,EAAMC,GACbtO,GAAO4M,EAAS4B,GAChBxO,GAAOwO,EAAOC,GACd,IAAK,IAAIjzE,EAAI,EAAGA,EAAIq0E,EAAcp0E,OAAQD,GAAK,EAC7Cq0E,EAAcr0E,GAAGgvB,EAAEikD,EAAM,MAE3Bl4D,EAAI,IAAIi4D,GACRxO,GAAO4M,EAASkC,GAChB,IAAK,IAAItzE,EAAI,EAAGA,EAAI4wE,GAAY3wE,OAAQD,GAAK,EAC3C4wE,GAAY5wE,GAAGgvB,EAAEskD,EAAO,MAE1B9O,GAAO4M,EAASqC,GAChB14D,EAAI,IAAI04D,GACR14D,EAAI,IAAIq2D,GACHtpD,IACHunD,EAAU,CACRzK,GAAOM,EAAO,QAASnqD,EAAI,KAC3B6pD,GAAOM,EAAO,UAAWnqD,EAAI,KAC7B6pD,GAAOkN,EAAS,QAAS/2D,EAAI,KAC7B6pD,GAAOwN,EAAM,WAAYr3D,EAAI,KAC7B6pD,GAAOwN,EAAM,QAASr3D,EAAI,KAC1B6pD,GAAOwN,EAAM,UAAWr3D,EAAI,KAC5B6pD,GAAOwN,EAAM,QAASr3D,EAAI,KAC1B6pD,GAAO6N,EAAM,UAAW13D,EAAI,KAC5BspD,GAAiBtpD,EAAI,IAAIrZ,KAAK,KAAMuxE,IACpCrO,GAAOoO,EAAO,QAASj4D,EAAI,KAC3B6pD,GAAO0O,EAAO,QAASv4D,EAAI,MAE7B+M,GAAU,IAGd,EAAE4nD,EAAMpJ,GACS,EAAXA,EAAM,IAAUgL,KAA6BA,EAA0B5B,EAAK,GAAGkE,cACjF/O,GAAKK,EAAO,cAAeoM,GAEd,GAAXhL,EAAM,IAAWiL,KAA+BA,KAA+B7B,EAAK,KAAMA,EAAK,GAAGzvE,UACpG4kE,GAAKK,EAAO,gBAAiBqM,GAEhB,SAAXjL,EAAM,IAAiBkL,KAAuCA,EAAoC9B,EAAK,IAAM,OAAOA,EAAK,IAAQ,KACnI7K,GAAKK,EAAO,wBAAyBsM,GAExB,EAAXlL,EAAM,IACRrB,GAAgBC,EAAOwK,EAAK,IAEf,EAAXpJ,EAAM,IAAUqN,KAAcA,EAAWjE,EAAK,GAAGkE,YAAc,KACjE7O,GAAS2M,EAAIiC,GACA,EAAXrN,EAAM,IAAUuN,KAAcA,EAAWnE,EAAK,GAAGoE,kBAAoB,KACvE/O,GAAS6M,EAAIiC,GACA,QAAXvN,EAAM,IACRvB,GAASgN,EAAIrC,EAAK,KACL,GAAXpJ,EAAM,IAAW0L,KAAyBA,EAAsB,UAAYtC,EAAK,GAAK,aAAe,MACvG7K,GAAKiN,EAAS,QAASE,GAEV,QAAX1L,EAAM,IACRzB,GAAKiN,EAAS,aAAcpC,EAAK,KAEpB,QAAXpJ,EAAM,IACRzB,GAAKiN,EAAS,QAASpC,EAAK,KAEf,GAAXpJ,EAAM,IACRzB,GAAKiN,EAAS,gBAAiBpC,EAAK,IAEvB,OAAXpJ,EAAM,IAAe2L,KAAsBA,EAAmB,4BAA8BvC,EAAK,IAAM,WAAa,MACtH7K,GAAKgN,EAAM,QAASI,GAEP,EAAX3L,EAAM,IAAUyN,KAAcA,EAAWrE,EAAK,GAAGsE,oBAAsB,KACzEjP,GAASoN,EAAI4B,GACA,QAAXzN,EAAM,KACRkO,GAAe9E,EAAK,GACpBuE,EAAgBlN,GAAkBkN,EAAe3N,EAAOW,GAAS,EAAGyI,EAAM8E,GAAcN,EAAc9B,EAAMvL,GAAeyH,GAAqB,KAAMD,KAEzI,GAAX/H,EAAM,IAAW+L,KAAsBA,EAAmB,kBAAoB3C,EAAK,GAAK,GAAK,uBAC/F7K,GAAKuN,EAAM,QAASC,GAEP,GAAX/L,EAAM,IACRnB,GAAUiN,EAAM,YAAa,eAAiB1C,EAAK,GAAK,EAAI,6DAA+D,KAE9G,EAAXpJ,EAAM,IAAUgM,KAA2BA,EAAwB5C,EAAK,GAAGqF,iBAC7ElQ,GAAKuN,EAAM,aAAcE,GAEZ,QAAXhM,EAAM,IAAgBiM,KAAsCA,EAAmC,YAAc7C,EAAK,MACpH7K,GAAKuN,EAAM,wBAAyBG,GAEvB,GAAXjM,EAAM,IAAWkM,KAA4BA,GAA0B9C,EAAK,KAC9E7K,GAAKuN,EAAM,cAAeI,GAEb,MAAXlM,EAAM,GAAwB,EAAXA,EAAM,KAC3BmO,GAAe/E,EAAK,IACpByE,EAAgBpN,GAAkBoN,EAAe7N,EAAOoO,GAAW,EAAGhF,EAAM+E,GAAcL,EAAc3B,EAAM5L,GAAemI,GAAqB,KAAMZ,KAE3I,KAAX9H,EAAM,IACRnB,GAAUsN,EAAM,wBAAyB,UAAY/C,EAAK,IAAIzvE,OAAS,UAE1D,EAAXqmE,EAAM,IAAUoM,KAA2BA,EAAwBhD,EAAK,GAAGsF,kBAC7EnQ,GAAK4N,EAAM,aAAcC,GAEZ,SAAXpM,EAAM,IACRnB,GAAUyN,EAAM,YAAa,eAAiBlD,EAAK,KAAO,EAAI,GAAKA,EAAK,IAAM,IAAM,MAEvE,OAAXpJ,EAAM,IACRvB,GAAS+N,EAAIpD,EAAK,KACL,OAAXpJ,EAAM,IAAeyM,KAAsBA,EAAmB,YAAcrD,EAAK,IAAM,GAAK,UAC9F7K,GAAKgO,EAAM,QAASE,GAEP,UAAXzM,EAAM,KACRqO,GAAejF,EAAK,IACpB2E,EAAgBtN,GAAkBsN,EAAe/N,EAAOsO,GAAW,EAAGlF,EAAMiF,GAAcL,EAAcrB,EAAMpM,GAAesJ,GAAqB,KAAMjC,KAE3I,OAAX5H,EAAM,IAAe4M,KAAuBA,EAAoB,cAAgBxD,EAAK,KAAOA,EAAK,IAAM,OAAS,MAClH7K,GAAKmO,EAAO,QAASE,GAER,GAAX5M,EAAM,IAAW6M,KAAsBA,EAAmBzD,EAAK,GAAK,SAAW,aACjF7K,GAAKmO,EAAO,OAAQG,GAEP,KAAX7M,EAAM,IAAa8M,KAA4BA,EAAyB1D,EAAK,GAAKA,EAAK,GAAGiB,mBAAqBjB,EAAK,GAAGH,WAAWG,EAAK,IAAI9+D,QAC7Ii0D,GAAKmO,EAAO,aAAcI,GAEb,KAAX9M,EAAM,IAAa+M,KAAoBA,EAAiB3D,EAAK,GAAK,GAAK,OAAOA,EAAK,IAAIt4D,KACzFytD,GAAKmO,EAAO,KAAMK,GAEL,UAAX/M,EAAM,KACRuO,GAAanF,EAAK,IAClBkB,GAAc7J,GAAkB6J,GAAatK,EAAOwO,GAAW,EAAGpF,EAAMmF,GAAYN,GAAcjB,EAAOzM,GAAeoK,GAAmB,KAAMhD,KAEpI,OAAX3H,EAAM,IAAeiN,KAAuBA,EAAoB,yBAA2B7D,EAAK,IAAM,OAAS,MACjH7K,GAAKyO,EAAO,QAASC,GAER,EAAXjN,EAAM,IAAUkN,KAA4BA,EAAyB9D,EAAK,GAAGuF,iBAC/EpQ,GAAKyO,EAAO,aAAcE,GAEb,SAAXlN,EAAM,IACRnB,GAAUmO,EAAO,qBAAsB5D,EAAK,IAAM,MAErC,EAAXpJ,EAAM,IAAUoN,KAA8BA,EAA2BhE,EAAK,GAAGwF,cACnFrQ,GAAKuM,EAAS,aAAcsC,GAEf,QAAXpN,EAAM,IACRzB,GAAKuM,EAAS,QAAS1B,EAAK,MAGhC1vE,EAAGyjE,GACHvkC,EAAGukC,GACH,EAAEgF,GACIA,GACFhE,GAAO2M,GACT,IAAK,IAAIpxE,EAAI,EAAGA,EAAIi0E,EAAch0E,OAAQD,GAAK,EAC7Ci0E,EAAcj0E,GAAGgxC,IAEnBj2B,EAAI,IAAI,MACR,IAAK,IAAI/a,EAAI,EAAGA,EAAIm0E,EAAcl0E,OAAQD,GAAK,EAC7Cm0E,EAAcn0E,GAAGgxC,IAEnB,IAAK,IAAIhxC,EAAI,EAAGA,EAAIq0E,EAAcp0E,OAAQD,GAAK,EAC7Cq0E,EAAcr0E,GAAGgxC,IAEnBj2B,EAAI,IAAI,MACR,IAAK,IAAI/a,EAAI,EAAGA,EAAI4wE,GAAY3wE,OAAQD,GAAK,EAC3C4wE,GAAY5wE,GAAGgxC,IAEjBj2B,EAAI,IAAI,MACRA,EAAI,IAAI,MACR+M,GAAU,EACV87C,GAAQyL,KAId,SAASrnD,GAASmtD,EAAQ5L,EAAS6L,GACjC,IAUIC,EACA3H,EACA4H,EAGA3sB,EAGA4sB,EAGAC,EACAC,EAIAC,EAMAC,EAEAC,GAlCA,cAAEC,GAAkBtM,GACpB,KAAEuM,GAASvM,GACX,SAAEwM,GAAaxM,GACf,YAAElJ,GAAgBkJ,GAClB,sBAAEyM,GAA0BzM,EAC5B0M,GAAc,EACdC,EAAgB,GAChBC,EAA8B,GAC9BC,EAAgB,GAChBC,EAAa,GAIbC,GAAa,EACbC,GAAoB,EAEpBC,GAAyB,EACzBC,GAAuC,EAEvCC,EAAkB,EAClBC,EAAiB,EAGjBC,EAAsB,GACtBjc,EAAY,GACZkc,EAAmB,GAEnBC,EAAa1M,GACb2M,GAAQ,EACRC,EAAiB,EACjBC,EAAoB,EACpBC,EAAWxN,GAEXyN,GAAiB,EAErB,MAAMC,EAAShgE,IACbi+D,EAAYgC,cAActlB,eAAe36C,GAAIggE,SAEzCE,EAAY,CAAC1mE,EAAMo8B,KACvBqoC,EAAYvoC,cAAc,IAAIC,YAAYn8B,EAAM,CAAEo8B,SAAQuqC,SAAS,EAAMC,UAAU,MAE/EC,EAAkB,CAACnhC,EAAOohC,IAAqBA,GAAoBphC,EAAMgkB,OAAShkB,EAAMgkB,MAAMod,IAAqBphC,EAAM0gB,QACzH2gB,EAAgB,CAACrhC,EAAOohC,IAAqB3J,GAAK,CACtDz3B,EAAM1lC,MAAQ6mE,EAAgBnhC,EAAOohC,MAClCphC,EAAM+jB,YAAc,KACtBtzB,KAAK,MACF6wC,EAAoBC,GAAa,aAAaxlE,KAAKwlE,EAASzgE,IAMlE,SAAS0gE,EAAwB/xC,GAC/B,OAAOknC,GAAelnC,EAAOoR,IAC3B,CACE,MAAMlmC,EAAQm/B,iBAAiBilC,GACzB0C,EAAgBr1E,SAASuO,EAAM+mE,iBAAiB,iBAAkB,IAClEC,EAAmD,QAAxChnE,EAAM+mE,iBAAiB,aAClCE,EAAcnyC,EAAKoyC,cAAchmC,wBAAwBgF,MACzDihC,EAAoBF,EAAc/gC,EACxCi+B,EAAa,GAAI0B,EAAaiB,GAC9B3C,EAAa,GAAI4B,EAAiBoB,GAClChD,EAAa,GAAI2B,EAAQkB,MAI/B,SAASI,EAAyB5K,GAChC,MAAM6K,EAAWjD,EAAYgC,cACvB1J,EAAkBr3B,GAAUgiC,EAASvmB,eAAe,OAAOzb,EAAMl/B,IACvEo2D,GAAgBC,EAAkBC,EAAeC,GACjDyH,EAAa,EAAGc,EAAgBA,GAElC,SAASqC,EAAejiC,GACtB,OAAQA,EAAM0gB,UAAYgT,GAAO1zB,IAAUo1B,GAAmBjlE,IAAI6vC,EAAM0gB,SAE1EoB,eAAeogB,EAAsBzhB,GACnC,MAAM0V,QAA0BhB,GAChC,OAAO1U,EAAOhvD,OAAO,EAAG8rB,QAAS2mC,MAAgBA,GAAYA,GAAYiS,GAE3ErU,eAAeqgB,EAAgB1hB,GAC7B,OAAOyV,GAAqBzV,QAAc0U,IAE5CrT,eAAesgB,EAAiBve,GAC9B,GAAqB,qBAAVA,EACT,MAAO,GAET,MAAM7jB,GAAmB,IAAX6jB,EAAekG,QAAoB0V,EAAS5Y,gBAAgBhD,GAC1E,OAAOse,QAAsBD,EAAsBliC,IAErD8hB,eAAeugB,EAAuBpb,GACpC,OAAOkb,QAAsBD,QAA4BzC,EAASzY,sBAAsBC,KAE1F,SAASqb,EAAgB5/D,GACvB,IAAKs9D,IAAeJ,EAAcj2E,OAChC,OAEF,MAAM44E,EAAsBC,IAC1B1M,GAAKpzD,GACLo8D,EAAa,EAAGmB,EAAmBlK,GAAqByM,EAAUvC,EAAkBL,KAEtF,OAAQl9D,EAAMvX,KACZ,IAAK,YACH,OAAOo3E,GAAmB,GAC5B,IAAK,UACH,OAAOA,GAAmB,GAC5B,IAAK,QACH,IAA0B,IAAtBtC,EAEF,OADAnK,GAAKpzD,GACE+/D,EAAW7C,EAAcK,GAAkBn/D,IACzC8+D,EAAcj2E,QACvBm1E,EAAa,EAAGmB,EAAmB,IAI3C,SAASyC,EAAW7e,GAClBib,EAAa,EAAGgB,EAAgB,IAChChB,EAAa,GAAIiB,EAAa,IAC9BjB,EAAa,EAAGmB,GAAoB,GACpCnB,EAAa,GAAI6B,EAAoBC,EAASrlD,UAAWpe,GAAMA,EAAE2D,KAAO+iD,EAAM/iD,KAEhF,SAAS6hE,EAAajgE,GACpB,MAAM,OAAE1S,EAAM,IAAE7E,GAAQuX,EAClBkgE,EAAWxmE,IACXA,IACF05D,GAAKpzD,GACLtG,EAAG0kE,UAGP,OAAQ31E,GACN,IAAK,YACH,OAAOy3E,EAAQ5yE,EAAOggC,iBACxB,IAAK,aACH,OAAO4yC,EAAQ5yE,EAAOkwB,aACxB,IAAK,OACH,OAAO0iD,EAAQ5yE,EAAO6xE,cAAczxC,YACtC,IAAK,MACH,OAAOwyC,EAAQ5yE,EAAO6xE,cAAc5xC,YAG1C6xB,eAAe2gB,EAAWra,GACxB,MAAMpoB,QAAcy/B,EAASoD,wBAAwBza,GAC/C0a,EAAe,IAAIlD,KAAkBW,GAAkBzxB,KAAM3xC,GAAMA,EAAE2D,KAAOsnD,GAC5E2a,EAAmBD,EAAapiB,SAAWygB,EAAgB2B,EAAc1C,SACzEX,EAAS7X,4BAA4BQ,GAC3C4Y,EAAU,cAAe,CACvBhhC,QACAitB,SAAUmT,KACP2C,GAAoB,CAAEriB,QAASqiB,MAC/BD,EAAaxoE,MAAQ,CAAEA,KAAMwoE,EAAaxoE,QAGjDwnD,eAAekhB,GAAatgE,GAC1B,MAAM,OAAE1S,GAAW0S,EACnB,IAAK1S,EAAOgpC,UAAUyK,SAAS,SAC7B,OAEFqyB,GAAKpzD,GACL,MAAM5B,EAAK9Q,EAAO8Q,GAAGmyC,UAAU,GAC/BwvB,EAAW3hE,GAEbghD,eAAemhB,GAAuBvgE,GACpC,MAAM,OAAE1S,GAAW0S,EACnB,IAAK4+D,EAAiBtxE,GACpB,OAEF8lE,GAAKpzD,GACL,MAAMuqD,EAAW7gE,SAAS4D,EAAO8Q,GAAG5U,MAAM,GAAI,IAC9C4yE,EAAa,EAAGsB,EAAkBnT,GAClC6R,EAAa,EAAGoB,GAAyB,GACzCY,EAAM,mBACNE,EAAU,mBAAoB,CAAE/T,aAChCwS,EAASyD,qBAAqBjW,GAEhCnL,eAAeqhB,GAAsBzgE,GACnCo8D,EAAa,EAAGoB,GAA0BA,GAC1CpB,EAAa,GAAIuB,EAAiBD,GAC9BF,IACFpK,GAAKpzD,GACL6zD,GAAI,IAAMuK,EAAM,YAAYT,KAGhC,SAAS+C,GAAyB1gE,GAChC,IAAKw9D,EACH,OAEF,MAAMmD,EAAuBvhB,MAAOwhB,IAClCxN,GAAKpzD,GACLo8D,EAAa,GAAIuB,EAAiBiD,SAC5B9T,KACNsR,EAAM,YAAYT,IAEpB,OAAQ39D,EAAMvX,KACZ,IAAK,UACH,OAAOk4E,EAAqBtN,IAAqB,EAAMsK,EAAgBhc,IACzE,IAAK,YACH,OAAOgf,EAAqBtN,IAAqB,EAAOsK,EAAgBhc,IAC1E,IAAK,OACH,OAAOgf,EAAqB,GAC9B,IAAK,MACH,OAAOA,EAAqBhf,EAAU16D,OAAS,GACjD,IAAK,QACH,OAAOs5E,GAAuBvgE,GAChC,IAAK,SAGH,OAFAozD,GAAKpzD,GACLo8D,EAAa,EAAGoB,GAAyB,GAClCY,EAAM,oBAGnB,SAASyC,GAAuB7gE,GAC9B,GAAKw9D,EAGL,OAAQx9D,EAAMvX,KACZ,IAAK,IACH,OAAO83E,GAAuBvgE,IAGpCo/C,eAAe0hB,GAA0B9gE,GACvC,MAAM,cAAE+gE,GAAkB/gE,EACrB+gE,GAAkBnC,EAAiBmC,IACtC3E,EAAa,EAAGoB,GAAyB,GAG7C,SAASwD,KACP5D,EAAgB13E,KAAK4D,MACrB8yE,EAAa,EAAGgB,GAElB,SAAS6D,GAAaC,GACpB1U,GAAkB0U,EAAU,UAAY,QAAQ,KAC9C3E,EAAmB2E,EACnB9E,EAAa,EAAGG,KAvLpB9J,GAAyBz4D,KAAMmnE,IACxBA,GACH/E,EAAa,GAAIzsB,EAAUmtB,EAAKsE,2BAwLpC,MAAM9K,GAAiBnV,GAAU6e,EAAW7e,GAC5C,SAASkgB,GAAcH,GACrB1U,GAAkB0U,EAAU,UAAY,QAAQ,KAC9C5E,EAAkB4E,EAClB9E,EAAa,EAAGE,KAGpB,SAASgF,GAAgBJ,GACvB1U,GAAkB0U,EAAU,UAAY,QAAQ,KAC9CxM,EAAgBwM,EAChB9E,EAAa,GAAI1H,KAGrB,SAAS6M,GAAgBL,GACvB1U,GAAkB0U,EAAU,UAAY,QAAQ,KAC9C7E,EAAc6E,EACd9E,EAAa,GAAIC,KA4MrB,OAzMAF,EAAO3L,MAASgR,IACV,kBAAmBA,GACrBpF,EAAa,GAAIS,EAAgB2E,EAAS3E,eACxC,SAAU2E,GACZpF,EAAa,EAAGU,EAAO0E,EAAS1E,MAC9B,aAAc0E,GAChBpF,EAAa,GAAIW,EAAWyE,EAASzE,UACnC,gBAAiByE,GACnBpF,EAAa,GAAI/U,EAAcma,EAASna,aACtC,0BAA2Bma,GAC7BpF,EAAa,GAAIY,EAAwBwE,EAASxE,wBAEtDb,EAAOhP,GAAGviD,OAAS,KAQjB,GAPyB,KAArBuxD,EAAOhP,GAAGG,MAAM,IAEZjG,GAAe0V,GACjBX,EAAa,GAAIW,EAAS1V,YAAcA,EAAa0V,GAIlC,EAArBZ,EAAOhP,GAAGG,MAAM,GAA8B,IAArB6O,EAAOhP,GAAGG,MAAM,GAC3C,CACElO,eAAeqiB,IACb,IAAIC,GAAwB,EAC5B,MAAMC,EAAgB9qC,WACpB,KACE6qC,GAAwB,EACxBtF,EAAa,GAAIzsB,EAAUmtB,EAAK8E,iBAElC1Q,IAEF,UACQ6L,EAAS3S,QACfgS,EAAa,GAAI+B,GAAiB,GAClC,MAAOpiE,GACPgB,QAAQC,MAAMjB,GACdqgE,EAAa,GAAIzsB,EAAUmtB,EAAK+E,qBAChC,QACAC,aAAaH,GACTD,IACFA,GAAwB,EACxBtF,EAAa,GAAIzsB,EAAU,MAI7BotB,GACF0E,IA2BN,GAvByB,KAArBtF,EAAOhP,GAAGG,MAAM,GAAiC,KAArB6O,EAAOhP,GAAGG,MAAM,KAExCjG,GAAeA,EAAYpgE,OAC7Bm1E,EAAa,GAAI8B,EAAW,CAACvN,MAAgBD,KACpCwN,IAAaxN,KAClBuN,GACF7B,EAAa,GAAI6B,IAAqBA,GAExC7B,EAAa,GAAI8B,EAAWxN,MAIT,EAArByL,EAAOhP,GAAGG,MAAM,IAEhBwD,GAAI,KACFsL,EAAa,GAAIiB,GAAcD,GAAiB,IAAI1lE,QACpD0kE,EAAa,EAAGmB,GAAoB,KAIjB,KAArBpB,EAAOhP,GAAGG,MAAM,IAClB8O,EAAa,GAAIO,EAAeuB,EAASD,IAElB,MAArB9B,EAAOhP,GAAGG,MAAM,GAAkC,KAArB6O,EAAOhP,GAAGG,MAAM,GAC/C,CACElO,eAAe2iB,IACb,GAAK5D,GAGE,GAAId,EAAWp2E,QAAU2pE,GAAwB,CACtD,MAAMoR,EAAoB3E,EACpB4E,QAAkBtC,EAAuBqC,GAC3CA,IAAsB3E,IACxBjB,EAAa,EAAGc,EAAgB+E,GAChC7F,EAAa,EAAGkB,GAAa,SAE1B,GAAIX,EAAc,CACvB,MAAMuF,EAAiBvF,EAAav+D,GAC9B6jE,QAAkBvC,EAAiBwC,GACrCA,IAAmBvF,EAAav+D,KAClCg+D,EAAa,EAAGc,EAAgB+E,GAChC7F,EAAa,EAAGkB,GAAa,UAd/BlB,EAAa,EAAGc,EAAgB,IAChCd,EAAa,EAAGkB,GAAa,GAiBjCyE,IAUJ,GAPyB,KAArB5F,EAAOhP,GAAGG,MAAM,IAClB8O,EAAa,GAAIK,EAAc,sBAClBnL,wBACD4M,EAASj3E,oCACFq2E,EAAa,EAAI,2BACrBzM,OAEQ,MAArBsL,EAAOhP,GAAGG,MAAM,GAAkC,IAArB6O,EAAOhP,GAAGG,MAAM,GAC/C,CACElO,eAAe+iB,IACThE,GACF/B,EAAa,EAAGsB,QAAwBX,EAASqF,wBAGrDD,IAYJ,GATyB,IAArBhG,EAAOhP,GAAGG,MAAM,IAClB8O,EAAa,EAAGza,EAAY/4D,MAAMioE,IAAgBlB,OAAOhoE,IAAI,CAAC8S,EAAGzT,IAAMgsE,GAAc6J,EAAe71E,KAE7E,IAArBm1E,EAAOhP,GAAGG,MAAM,IAClB8O,EAAa,GAAII,EAAqB7a,EAAU+b,IAEzB,IAArBvB,EAAOhP,GAAGG,MAAM,IAClB8O,EAAa,GAAIwB,EAAsBd,EAAKuF,cAAc7nE,QAAQ,aAAcsiE,EAAKnb,UAAU+b,KAExE,MAArBvB,EAAOhP,GAAGG,MAAM,GAAkC,IAArB6O,EAAOhP,GAAGG,MAAM,GAC/C,CACElO,eAAekjB,IACblG,EAAa,GAAIM,SAA+B9+D,QAAQslD,IAAImO,GAAyB1pE,IAAKq2D,GAAY+e,EAASoD,wBAAwBniB,MAAYjvD,OAAO4Z,UAExJw1D,GACFmE,IAIN,GAAyB,MAArBnG,EAAOhP,GAAGG,MAAM,GAAkC,MAArB6O,EAAOhP,GAAGG,MAAM,GAC/C,CACElO,eAAemjB,IACb,MAAMC,QAAoBzF,EAAS5X,oBAAoB2Y,GACjD2E,QAAkBhD,EAAgBlM,GAAO,IAAIiP,KAAgB9F,GAAyBjiE,GAAMA,EAAEujD,SAAWvjD,EAAE7C,MAAMpO,MAAM,EAAGs0E,IAChI1B,EAAa,GAAIyB,EAAmB4E,GAElCtE,GAAkBzB,GACpB6F,IAIN,GAAyB,GAArBpG,EAAOhP,GAAGG,MAAM,GAClB,CACE,MAAMmH,EAAmByI,EAAcnuE,OAAQuuC,GAAUA,EAAM0gB,SAASjvD,OAAQuuC,GAAU0zB,GAAO1zB,KAAWo1B,GAAmB3kE,IAAIuvC,EAAM0gB,UACrIyW,EAAiBxtE,OACnB4sE,GAAI,IAAMwL,EAAyB5K,KAEnC2H,EAAa,EAAGc,EAAgBA,EAAcnuE,OAAOwwE,IACrD1L,GAAI,MACDyI,GAAmB,IAAIoG,UAAY,KAO5C,GAFIvG,EAAOhP,GAAGG,MAAM,GAAY6O,EAAOhP,GAAGG,MAAM,GAEvB,GAArB6O,EAAOhP,GAAGG,MAAM,GAA+B,KAArB6O,EAAOhP,GAAGG,MAAM,GAC5C,CACE,IAAIqV,EAAuC,WACzC,GAAIrF,EACF,MAAO,CAAC,CAAE1J,SAAU,GAAI7V,OAAQmf,IAElC,MAAM0F,EAAoC,IAAIj1E,IAC9C,IAAK,MAAM2vC,KAAS4/B,EAAe,CACjC,MAAMtJ,EAAWt2B,EAAMs2B,UAAY,GACnC,IAAI7V,EAAS6kB,EAAkBn1E,IAAImmE,GAC9B7V,IACHA,EAAS,GACT6kB,EAAkBl1E,IAAIkmE,EAAU7V,IAElCA,EAAOnzD,KAAK0yC,GAEd,MAAO,IAAIslC,EAAkBlqE,WAAW/Q,IAAI,EAAEisE,EAAU7V,MAAY,CAAG6V,WAAU7V,YAAWp+C,KAAK,CAACC,EAAGC,IAAMm9D,EAAsBp9D,EAAEg0D,SAAU/zD,EAAE+zD,YAEjJwI,EAAa,GAAIe,EAA8BwF,KAG1B,GAArBxG,EAAOhP,GAAGG,MAAM,IAClB8O,EAAa,GAAIQ,GAA2C,IAAtBW,GAA2BL,EAAcK,GAAkBn/D,IAE1E,IAArB+9D,EAAOhP,GAAGG,MAAM,KAEZkQ,EACFjB,EAAiBlsC,iBACf,gBACA,KACE+rC,EAAa,GAAIqB,GAAuC,IAE1D,CAAEoF,MAAM,IAGVzG,EAAa,GAAIqB,GAAuC,KAKzD,CACLX,EACAI,EACAE,EACAd,EACAgB,EACAC,EACAC,EACAjB,EACAmB,EACA/b,EACAkc,EACAI,EACAC,EACAvB,EACAwB,EACAhB,EACAd,EACA3H,EACA/kB,EACA8tB,EACAE,EACAnB,EACAC,EACAmB,EACAG,EACAC,EACApB,EACA6B,EACAE,EACAG,EACAc,EACAI,EACAC,EACAK,GACAC,GACAE,GACAC,GACAG,GACAC,GACA/D,EACAF,EACAxV,EACA2V,EACAC,EACAI,EACAX,EACAoB,EACAkD,GACAC,GACA3K,GACA+K,GACAC,GACAC,IAGJ,MAAMuB,WAAezS,GACnB,YAAY7uD,GACVwwB,QACA49B,GACElqE,KACA8b,EACAwN,GACAmpD,GACApN,GACA,CACE8R,cAAe,GACfC,KAAM,EACNC,SAAU,GACV1V,YAAa,GACb2V,sBAAuB,IAEzB,KACA,EAAE,GAAI,GAAI,KAIhB,MAAM+F,GAAsB,mFACtBC,GAAiB,KACvB,IAAIC,GAAS,CACXjH,gBAAiB,aACjBoF,wBAAyB,6CACzBnF,eAAgB,YAChB2F,eAAgB,WAChBC,oBAAqB,wBACrB3F,YAAa,eACbpB,kBAAmB,qFACnBF,YAAa,SACbjD,mBAAoB,iBACpBqD,oBAAqB,iEACrBqH,cAAe,4CACftG,eAAgB,aAChBpa,UAAW,CACT,UACA,QACA,eACA,SACA,cACA,QAEF4U,WAAY,CACV3Q,OAAQ,SACR,kBAAmB,wBACnB,cAAe,kBACf,iBAAkB,qBAClB,aAAc,iBACd,gBAAiB,oBACjBsd,WAAY,aACZC,QAAS,UACTC,QAAS,UACTC,MAAO,UAGX,MAAMC,GAAQ,CACZ,cACA,wBACA,WACA,aACA,OACA,SACA,iBAEF,MAAMC,WAAsBrxC,YAC1B,YAAYp6B,GACVk6B,QACAtsC,KAAK8sC,aAAa,CAAE/pB,KAAM,SAC1B,MAAMxQ,EAAQo0B,SAASzP,cAAc,SACrC3kB,EAAMg1B,YAAc,28KACpBvnC,KAAK6sC,WAAW5E,YAAY11B,GAC5BvS,KAAK0zB,KAAO,CACVswC,OAAQsZ,GACRlb,WAAYib,GACZlG,cAAe1L,GACf6L,sBAAuBzL,GACvBlK,YAAa,KACbyV,KAAMmG,MACHnrE,GAEL,IAAK,MAAMsgB,KAAQkrD,GACJ,aAATlrD,GAAuBxwB,OAAOU,UAAUC,eAAeG,KAAKhD,KAAM0yB,KACpE1yB,KAAK0zB,KAAKhB,GAAQ1yB,KAAK0yB,UAChB1yB,KAAK0yB,IAGhB1yB,KAAK89E,WAEP,oBACE99E,KAAK+9E,KAAO,IAAIX,GAAO,CACrBx1E,OAAQ5H,KAAK6sC,WACbz6B,MAAOpS,KAAK0zB,OAGhB,uBACE1zB,KAAK+9E,KAAKnT,WACV5qE,KAAK+9E,UAAO,EACZ,MAAM,SAAE1G,GAAar3E,KAAK0zB,KACtB2jD,GACFA,EAAS7/B,QAAQjjC,MAAO8B,GAAQgB,QAAQC,MAAMjB,IAGlD,gCACE,MAAO,CAAC,SAAU,cAAe,mBAEnC,yBAAyB2nE,EAAU95E,EAAUsE,GAC3CxI,KAAKi+E,KACHD,EAASlpE,QAAQ,YAAa,CAACC,EAAGygC,IAAOA,EAAGxgC,eAC5CxM,GAGJ,KAAKkqB,EAAMlqB,GACTxI,KAAK0zB,KAAKhB,GAAQlqB,EACdxI,KAAK+9E,MACP/9E,KAAK+9E,KAAKG,KAAK,CAAE,CAACxrD,GAAOlqB,IAEvB,CAAC,SAAU,cAAc0Q,SAASwZ,IACpC1yB,KAAK89E,WAGT,YACE,MAAM,OAAE9Z,EAAM,WAAE5B,EAAU,SAAEiV,GAAar3E,KAAK0zB,KACzC2jD,GAAYA,EAASrT,SAAWA,GAAUqT,EAASjV,aAAeA,GACrEpiE,KAAKi+E,KAAK,WAAY,IAAIla,GAAS,CAAEC,SAAQ5B,gBAGjD,WACElqD,QAAQC,UAAU7D,KAAK,IAAMtU,KAAKm+E,cAGtC,MAAMC,GAAc,GACpB,IAAK,MAAM1rD,KAAQkrD,GACjBQ,GAAY1rD,GAAQ,CAClB,MAIE,MAHa,aAATA,GACF1yB,KAAKm+E,YAEAn+E,KAAK0zB,KAAKhB,IAEnB,IAAIpwB,GACF,GAAa,aAATowB,EACF,MAAM,IAAIrzB,MAAM,yBAElBW,KAAKi+E,KAAKvrD,EAAMpwB,KAItBJ,OAAOm8E,iBAAiBR,GAAcj7E,UAAWw7E,IAC5CE,eAAev2E,IAAI,iBACtBu2E,eAAe1+E,OAAO,eAAgBi+E,IAExC,MAAMU,GAAc,CAClBrsE,KAAM,uBACN8c,WAAY,CACV6pB,YAEFzmC,MAAO,CACLosE,YAAa,CAAE32E,KAAMob,QAASgB,SAAS,GACvCw6D,cAAe,CAAE52E,KAAMob,QAASgB,SAAS,GACzCy6D,YAAa,CAAE72E,KAAMob,QAASgB,SAAS,GACvC06D,cAAe,CAAE92E,KAAMob,QAASgB,SAAS,GACzCsyB,UAAW,CAAE1uC,KAAMxG,OAAQ4iB,QAAS,KAEtC3I,MAAO,CAAC,YAAa,cACrB,OACE,MAAO,CACLsjE,kBAAmB,IACnBC,eAAgB,EAChBC,iBAAkB,KAGtBn+D,MAAO,CACL,YAAYre,GACNA,GACF6uC,WAAW,KACTnxC,KAAK++E,mBACL/+E,KAAKmsB,MAAM6yD,YAAYnyC,WAAWlC,iBAChC,cACA,EAAG2D,aACDtuC,KAAKusB,MAAM,YAAa,CACtB+rC,QAAShqB,EAAOgqB,aAIrB,KAIT3qC,QAAS,CACP,mBACE,MAAMsxD,EAAS,4CAGTC,EAAM,6CAGNC,EAAY,sFAIZ9nC,EAAS,6RAUT9kC,EAAQo0B,SAASzP,cAAc,SACrC3kB,EAAMg1B,YAAc03C,EAASC,EAAMC,EAAY9nC,EAC/Cr3C,KAAKmsB,MAAM6yD,YAAYnyC,WAAW5E,YAAY11B,IAEhD,UAAUohD,GACR3zD,KAAKusB,MAAM,cAAevsB,KAAKw+E,aAC/Bx+E,KAAKo/E,uBACHzrB,EAAG0rB,QACH1rB,EAAG2rB,KAAKC,WACR5rB,EAAG2rB,KAAKE,cAGZ,uBAAuBH,EAASE,EAAYC,GAC1C,MAAMC,EAAaF,EAAa,KAAOC,EAAc,IAC/CE,EAAgB/4C,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,eAC5F,GAAKqsB,EAKL,GAAID,EACFz/E,KAAK8+E,iBAAmBS,EAAa,GAAKv/E,KAAK0+E,YAAc,IAAM,KAAO,KAC1E1+E,KAAK6+E,eAAiB,IACtB7+E,KAAK4+E,kBAAoBY,EAAc,QAClC,CACL,MAAMG,EAAgBD,EAAcjsC,wBAAwBO,IACtD4rC,EAAoBD,EAAgBN,EAAUr/E,KAAK4+E,kBAAoB,GAE3E5+E,KAAK6+E,eADHe,EACoBP,EAAU,GAEVA,EAAUr/E,KAAK4+E,kBAAoB,GAC3D5+E,KAAK8+E,iBAAmB9+E,KAAK0+E,YAAc,MAAQ1+E,KAAK2+E,cAAgB,OAAS,QAf7Ec,IACFz/E,KAAK8+E,iBAAmB,YAmB5Be,GAAe,CAAExtE,MAAO,qBACxBytE,GAAe,CACnBlwE,IAAK,cACL,OAAQ,eAEV,SAASmwE,GAAcrsD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaqW,GAAmB,MAAOu+C,GAAc,CAC1Dt+C,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,iBAAkB,CAAE,qBAAsB+Z,EAAOyyD,iBACxE5kC,QAAS9C,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAASwzD,WAAaxzD,EAASwzD,aAAan2E,KAC3F,CACDghB,GACE6I,EAAKxH,OACLF,EAAOuqB,UAAY,8BAAgCvqB,EAAOuqB,UAAY,oBACtE,GACA,IAAM,CACJt4B,GAAYs7B,EAAqB,CAC/BrnC,KAAM,QACNilC,MAAOnrB,EAAOyyD,cAAgB,WAAa,IAC1C,KAAM,EAAG,CAAC,aAGhB,GACHzyD,EAAOwyD,aAAevzD,KAAaI,GAAYsjB,GAAY,CACzD5rC,IAAK,EACLmP,KAAM,eACN8Q,OAAQ,IACP,CACDiB,QAAS7H,GAAQ,IAAM,CACrBmlB,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,mBAAoB,CAAE,sBAAuB+Z,EAAOyyD,iBAC3ElsE,MAAOnB,GAAe,CACpBsnC,OAAW3sB,EAAM6yD,kBAAT,KACR5qC,IAAKhoB,EAAO0yD,YAAc3yD,EAAM6yD,kBAAuB7yD,EAAM8yD,eAAT,KACpD5pC,MAAOlpB,EAAM+yD,iBACbl2C,QAAS7c,EAAM8yD,iBAAmB7yD,EAAOyyD,cAAgB,UAAY,UAEtE,CACDl9C,GAAgB,eAAgBu+C,GAAc,KAAM,MACnD,KAEL/qE,EAAG,KACCiuB,GAAmB,IAAI,KAGjC,IAAIi9C,GAAuChqC,GAAYsoC,GAAa,CAAC,CAAC,SAAUwB,MAChF,MAAMG,GAAc,CAClBhuE,KAAM,YACN8c,WAAY,CACVioB,UACA4B,YAEFzmC,MAAO,CACLqlC,KAAM,CAAE5vC,KAAM3F,OAAQo0C,UAAU,GAChCtxC,MAAO,CAAE6C,KAAMuD,OAAQkrC,UAAU,IAEnCh7B,MAAO,CAAC,eACRxS,SAAU,CACR,UACE,OAAOmmD,GAAYjvD,KAAKy3C,OAE1B,UACE,OAAOyX,GAAYlvD,KAAKy3C,SAIxB0oC,GAAe,CAAE9tE,MAAO,2BACxB+tE,GAAe,CAAC,OAChBC,GAAe,CAAEhuE,MAAO,qBACxBiuE,GAAe,CACnBv9E,IAAK,EACLsP,MAAO,wCAET,SAASkuE,GAAc7sD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM0nC,EAAoBtqC,GAAiB,UACrC2vB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaqW,GAAmB,MAAO6+C,GAAc,CAC1DliE,GAAYi2C,EAAmB,CAC7B9d,KAAMpqB,EAAOyrB,KAAK+oC,QAClB34E,KAAM,aACL4iB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,SACXmgC,GAAgB,MAAO,CACrBlvB,MAAO,iCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,cAAeP,EAAOhnB,SAC/E,CACD6lB,GAAW6I,EAAKxH,OAAQ,mBAAoB,GAAI,IAAM,CACpDjO,GAAYs7B,EAAqB,CAC/BrnC,KAAM,QACNilC,MAAO,cAIb3qB,EAASi0D,SAAWx1D,KAAaqW,GAAmB,MAAO,CACzDv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,oBAAqB,CAAE,mBAAoB+Z,EAAOyrB,KAAK+oC,WAC9EjuE,MAAOnB,GAAe,CACpB,mBAAoB,QAAQ4a,EAAOyrB,KAAKipC,UAAY10D,EAAOyrB,KAAK2S,WAEjE,KAAM,IAAM59B,EAASm0D,SAAW11D,KAAaqW,GAAmB,QAAS,CAC1Ev+B,IAAK,EACL69E,SAAU,GACVvuE,MAAOJ,GAAe,CAAE,mBAAoB+Z,EAAOyrB,KAAK+oC,WACvD,CACDj/C,GAAgB,SAAU,CACxB8pB,IAAKr/B,EAAOyrB,KAAKipC,UAAY10D,EAAOyrB,KAAK2S,KACxC,KAAM,EAAGg2B,KACX,KAAOn1D,KAAaqW,GAAmB,MAAO,CAC/Cv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,qBAAsB,CAAE,mBAAoB+Z,EAAOyrB,KAAK+oC,YAC9E,CACDj/C,GAAgB,MAAO,KAAM,CAC3B1W,GAAW6I,EAAKxH,OAAQ,YAAa,GAAI,IAAM,CAC7CjO,GAAYs7B,EAAqB,CAAErnC,KAAM,aAG7CqvB,GAAgB,MAAO8+C,GAAc7tE,GAAgBwZ,EAAOyrB,KAAKvlC,MAAO,GACxE8Z,EAAOyrB,KAAKwY,WAAahlC,KAAaqW,GAAmB,MAAOg/C,GAAc9tE,GAAgBwZ,EAAOyrB,KAAKwY,WAAY,IAAMjtB,GAAmB,IAAI,IAClJ,MAGP,IAAI69C,GAA2B5qC,GAAYiqC,GAAa,CAAC,CAAC,SAAUK,MACpE,MAAMO,GAAc,CAClB5uE,KAAM,YACN8c,WAAY,CACV6pB,WACAgoC,aAEFzuE,MAAO,CACL49C,MAAO,CAAEnoD,KAAM3E,MAAOozC,UAAU,IAElCh7B,MAAO,CAAC,cAAe,iBACvBxS,SAAU,CACR,eACE,OAAO69B,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,eAAe0tB,gBAI5FC,GAAe,CAAE3uE,MAAO,iBACxB4uE,GAAe,CAAE5uE,MAAO,kBAC9B,SAAS6uE,GAAcxtD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM20D,EAAuBv3D,GAAiB,aACxC2vB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaI,GAAYsjB,GAAY,CAAEz8B,KAAM,gBAAkB,CACpE+R,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOgkC,MAAMzuD,QAAU0pB,KAAaqW,GAAmB,MAAO,CAC5Dv+B,IAAK,EACLsP,MAAO,2BACPE,MAAOnB,GAAe,CAAEgwE,OAAW50D,EAAS60D,aAAZ,QAC/B,CACD9/C,GAAgB,MAAOy/C,GAAc,EAClC/1D,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOgkC,MAAO,CAACvY,EAAMn2C,KAC5E2pB,KAAaqW,GAAmB,MAAO,CAAEv+B,IAAKzB,GAAK,CACxD2c,GAAYkjE,EAAsB,CAChC1pC,OACAzyC,MAAO1D,EACPggF,aAAcvqC,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,cAAeqtB,KAC7EnvB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,OAAQ,cAEnB,QAENmgC,GAAgB,MAAO0/C,GAAc,CACnC1/C,GAAgB,MAAO,CACrBlvB,MAAO,iBACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,mBACzD,CACD1B,GAAW6I,EAAKxH,OAAQ,mBAAoB,GAAI,IAAM,CACpDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,yBAI9C,IAAM8wB,GAAmB,IAAI,KAElCjuB,EAAG,IAGP,IAAIwsE,GAA4BtrC,GAAY6qC,GAAa,CAAC,CAAC,SAAUI,MACrE,MAAMM,GAAc,CAClBpvE,MAAO,CACLqvE,WAAY,CAAE55E,KAAMuD,OAAQ6Y,QAAS,GACrC+wC,wBAAyB,CAAEntD,KAAMob,QAASqzB,UAAU,IAEtDh7B,MAAO,CAAC,uBAAwB,mBAChC,OACE,MAAO,CACLomE,aAAa,IAGjB/zD,QAAS,CACP,YAAYgmC,GACV,GAAI3zD,KAAKg1D,wBACP,OACFh1D,KAAK0hF,aAAc,EACnB,MAAMC,EAAU3hF,KAAK4hF,0BAA0BjuB,EAAI3zD,KAAKmsB,MAAM01D,UAC9D7hF,KAAKusB,MAAM,kBAAmBo1D,GAC9Bh7C,SAASgE,iBAAiB,YAAa3qC,KAAK8hF,aAC5Cn7C,SAASgE,iBAAiB,UAAW3qC,KAAK+hF,YAE5C,UAAUpuB,GACR,GAAI3zD,KAAKg1D,wBACP,OACFh1D,KAAK0hF,aAAc,EACnB/6C,SAASiE,oBAAoB,UAAW5qC,KAAK+hF,WAC7Cp7C,SAASiE,oBAAoB,YAAa5qC,KAAK8hF,aAC/C,MAAMH,EAAU3hF,KAAK4hF,0BAA0BjuB,EAAI3zD,KAAKmsB,MAAM01D,UAC9D7hF,KAAKusB,MAAM,kBAAmBo1D,IAEhC,YAAYhuB,GACV,GAAI3zD,KAAKg1D,wBACP,OACF,MAAM2sB,EAAU3hF,KAAK4hF,0BAA0BjuB,EAAI3zD,KAAKmsB,MAAM01D,UAC9D7hF,KAAKusB,MAAM,kBAAmBo1D,IAEhC,0BAA0BhuB,EAAIwlB,GAC5B,MAAM6I,EAAgB7I,EAAS1lC,wBAAwBgF,MACjDwpC,EAAe9I,EAAS1lC,wBAAwBK,KACtD,IAAIouC,GAAOvuB,EAAGwuB,QAAUF,GAAgBD,EAGxC,OAFAE,EAAMA,EAAM,EAAI,EAAIA,EACpBA,EAAMA,EAAM,EAAI,EAAIA,EACbA,KAIPE,GAAe,CAAE/vE,MAAO,uBACxBgwE,GAAe,CAAEhwE,MAAO,sBAC9B,SAASiwE,GAAc5uD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAOvB,KAAaqW,GAAmB,MAAO,CAC5C1xB,IAAK,WACLyC,MAAO,iBACPkwE,YAAaxrC,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAASg2D,aAAeh2D,EAASg2D,eAAe34E,IACpG44E,YAAa1rC,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,wBAAwB,IACtFm2D,WAAY3rC,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,wBAAwB,KACpF,CACDgV,GAAgB,MAAO6gD,GAAc,CACnC7gD,GAAgB,MAAO8gD,GAAc,CACnC9gD,GAAgB,MAAO,CACrBlvB,MAAO,oBACPE,MAAOnB,GAAe,CAAEqnC,MAAUzsB,EAAOy1D,WAAV,OAC9B,KAAM,GACTlgD,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,eAAgB,CAAE,uBAAwB8Z,EAAM21D,eACvEnvE,MAAOnB,GAAe,CAAE0iC,KAAS9nB,EAAOy1D,WAAV,OAC7B,KAAM,QAGZ,KAEL,IAAIkB,GAA+B1sC,GAAYurC,GAAa,CAAC,CAAC,SAAUc,MACxE,MAAMM,GAAc,CAClB1wE,KAAM,cACN8c,WAAY,CACV6pB,WACA8pC,iBAEFvwE,MAAO,CACLmkC,UAAW,CAAE1uC,KAAM,CAACxG,OAAQ+J,QAAS6Y,QAAS,MAC9ConC,IAAK,CAAExjD,KAAMxG,OAAQ4iB,QAAS,MAC9B+wC,wBAAyB,CAAEntD,KAAMob,QAASqzB,UAAU,IAEtDh7B,MAAO,CAAC,uBAAwB,wBAChC,OACE,MAAO,CACLunE,WAAW,EACX/zC,SAAU9uC,KAAK8iF,gBAAgB,GAC/BC,WAAY/iF,KAAK8iF,gBAAgB,GACjCjB,SAAU,IAGd/4E,SAAU,CACR,eACE,MAAO,eAAe9I,KAAKu2C,WAE7B,cACE,OAAIv2C,KAAKqrD,IACArrD,KAAKqrD,KACdrrD,KAAKgjF,gBACE,QAGX,UACEhjF,KAAKijF,OAASt8C,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAerzD,KAAKkjF,cACzFljF,KAAKijF,OAAOt4C,iBAAiB,QAAS,KACpC3qC,KAAK6iF,WAAY,IAEnB7iF,KAAKijF,OAAOt4C,iBAAiB,aAAc,KACzC3qC,KAAKgjF,gBACLhjF,KAAK8uC,SAAW9uC,KAAK8iF,gBAAgB9iF,KAAKijF,OAAOn0C,UACjD9uC,KAAKmjF,uBAEPnjF,KAAKijF,OAAOt4C,iBAAiB,aAAc3qC,KAAKojF,eAElDz1D,QAAS,CACP,gBAAgB01D,GACd,OAAO,IAAIt5C,KAAe,IAAVs5C,GAAeC,cAAcrhC,OAAO,GAAI,IAE1D,YACMjiD,KAAKg1D,yBAA4Bh1D,KAAKujF,cAEtCvjF,KAAK6iF,UACP7iF,KAAKijF,OAAOO,QAEZryC,WAAW,IAAMnxC,KAAKijF,OAAOQ,QAC/BzjF,KAAK6iF,WAAa7iF,KAAK6iF,YAEzB,gBACM7iF,KAAK6iF,WACP7iF,KAAKijF,OAAOO,QACdxjF,KAAK8uC,SAAW9uC,KAAK8iF,gBAAgB,GACrC9iF,KAAK+iF,WAAa/iF,KAAK8iF,gBAAgB,GACvC9iF,KAAK6hF,SAAW,EAChB7hF,KAAK6iF,WAAY,EACjB7iF,KAAKmjF,sBAEP,eACEnjF,KAAK+iF,WAAa/iF,KAAK8iF,gBAAgB9iF,KAAKijF,OAAOS,aACnD1jF,KAAK6hF,SAAW7hF,KAAKijF,OAAOS,YAAc1jF,KAAKijF,OAAOn0C,SAAW,IACjE9uC,KAAKmjF,sBAEP,iBAAiBjB,GACXA,IACFliF,KAAKijF,OAAOS,YAAcxB,EAAMliF,KAAKijF,OAAOn0C,WAEhD,qBACE9uC,KAAKusB,MACH,uBACAvsB,KAAK6hF,SAAW,EAAI7hF,KAAK+iF,WAAa/iF,KAAK8uC,aAK7C60C,GAAe,CAAEtxE,MAAO,oBACxBuxE,GAAe,CAAC,KAAM,OAC5B,SAASC,GAAcnwD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YACvCk6D,EAA2Bl6D,GAAiB,iBAClD,OAAOqB,KAAaqW,GAAmB,MAAO,KAAM,CAClDC,GAAgB,MAAOoiD,GAAc,CACnCpiD,GAAgB,MAAO,CACrBlvB,MAAO,iBACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAASu3D,UAAYv3D,EAASu3D,YAAYl6E,KACzF,CACDkiB,EAAM82D,UAAYh4D,GAAW6I,EAAKxH,OAAQ,oBAAsBF,EAAOuqB,UAAW,CAAExzC,IAAK,GAAK,IAAM,CAClGkb,GAAYs7B,EAAqB,CAAErnC,KAAM,kBACtC2Y,GAAW6I,EAAKxH,OAAQ,mBAAqBF,EAAOuqB,UAAW,CAAExzC,IAAK,GAAK,IAAM,CACpFkb,GAAYs7B,EAAqB,CAAErnC,KAAM,mBAG7C+L,GAAY6lE,EAA0B,CACpCrC,WAAY11D,EAAM81D,SAClB,4BAA6B71D,EAAOgpC,wBACpCgvB,iBAAkBx3D,EAASy3D,iBAC3BC,qBAAsBntC,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,uBAAwBqtB,KAC9F,KAAM,EAAG,CAAC,aAAc,4BAA6B,qBACxDrY,GAAgB,QAAS,CACvB7oB,GAAI8T,EAAS02D,aACb73B,IAAK7+B,EAAS+2D,aACb,KAAM,EAAGK,QAIlB,IAAIO,GAA8BluC,GAAY2sC,GAAa,CAAC,CAAC,SAAUiB,MACvE,MAAMO,GAAc,CAClBlyE,KAAM,mBACN8c,WAAY,CACV6pB,WACAiU,iBACAq3B,gBAEF/xE,MAAO,CACLu8C,KAAM,CAAE9mD,KAAM3F,OAAQo0C,UAAU,GAChC+tC,aAAc,CAAEx8E,KAAM3F,OAAQ+hB,QAAS,MACvCojC,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,IAEzCh7B,MAAO,CAAC,iBACRxS,SAAU,CACR,eACE,OAAO69B,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,eAAe0tB,cAE9F,YACE,IAAIjxB,EAAIC,EACR,OAAuE,OAA9DA,EAAiC,OAA3BD,EAAK9vD,KAAKqkF,mBAAwB,EAASv0B,EAAGE,YAAiB,EAASD,EAAGxuD,QAAUvB,KAAKqkF,aAAar0B,MAAM,GAAK,IAEnI,UACE,OAAOf,GAAYjvD,KAAKskF,YAE1B,UACE,OAAOp1B,GAAYlvD,KAAKskF,YAE1B,UACE,OAAOl1B,GAAYpvD,KAAKskF,YAE1B,cACE,IAAIx0B,EAAIC,EACR,OAAuE,OAA9DA,EAAiC,OAA3BD,EAAK9vD,KAAKqkF,mBAAwB,EAASv0B,EAAGE,YAAiB,EAASD,EAAGxuD,UAAYvB,KAAK2xD,UAAY3xD,KAAK2gF,UAAY3gF,KAAKygF,WAI7I8D,GAAe,CAAElyE,MAAO,iBACxBmyE,GAAe,CAAEnyE,MAAO,kBACxBoyE,GAAe,CAAEpyE,MAAO,sBACxBqyE,GAAe,CAAEryE,MAAO,qBACxBsyE,GAAe,CAAC,OAChBC,GAAe,CACnB7hF,IAAK,EACL69E,SAAU,GACVvuE,MAAO,mBAEHwyE,GAAe,CAAC,OAChBC,GAAe,CACnB/hF,IAAK,EACLsP,MAAO,sCAEH0yE,GAAe,CAAE1yE,MAAO,qBACxB2yE,GAAgB,CACpBjiF,IAAK,EACLsP,MAAO,wCAEH4yE,GAAgB,CAAE5yE,MAAO,kBAC/B,SAAS6yE,GAAcxxD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM2kC,EAA4BvnC,GAAiB,kBAC7Cu7D,EAA0Bv7D,GAAiB,gBAC3C2vB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaI,GAAYsjB,GAAY,CAAEz8B,KAAM,gBAAkB,CACpE+R,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOq4D,cAAgBp5D,KAAaqW,GAAmB,MAAO,CAC5Dv+B,IAAK,EACLsP,MAAO,sBACPE,MAAOnB,GAAe,CAAEgwE,OAAW50D,EAAS60D,aAAZ,QAC/B,CACD9/C,GAAgB,MAAOgjD,GAAc,CACnChjD,GAAgB,MAAOijD,GAAc,CACnCjjD,GAAgB,MAAOkjD,GAAcjyE,GAAgBwZ,EAAOq4D,aAAar4B,UAAW,GACpFzqB,GAAgB,MAAOmjD,GAAc,CACnCzmE,GAAYkzC,EAA2B,CACrC,aAAcnlC,EAAOq4D,aAAav4B,IAClCpkB,QAAS1b,EAAOq4D,aAAa38C,QAC7BkiB,MAAO59B,EAAO2iC,KAAK/E,MACnB,kBAAmB59B,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvBD,OAAO,GACN,KAAM,EAAG,CAAC,aAAc,UAAW,QAAS,kBAAmB,qBAGtEt9B,EAASi0D,SAAWx1D,KAAaqW,GAAmB,MAAO,CACzDv+B,IAAK,EACLsoD,IAAK7+B,EAAS83D,UAAUl6B,IACxB/3C,MAAO,mBACN,KAAM,EAAGsyE,KAAiBn4D,EAASm0D,SAAW11D,KAAaqW,GAAmB,QAASsjD,GAAc,CACtGrjD,GAAgB,SAAU,CACxB8pB,IAAK7+B,EAAS83D,UAAUl6B,KACvB,KAAM,EAAGy6B,OACRr4D,EAASmlC,SAAW1mC,KAAaI,GAAY85D,EAAyB,CAC1EpiF,IAAK,EACLsoD,IAAK7+B,EAAS83D,UAAUl6B,IACxB,6BAA6B,EAC7B/3C,MAAO,mBACNoY,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,SAAWorB,EAAS44D,aAAen6D,KAAaqW,GAAmB,MAAOwjD,GAAc,CACjGvjD,GAAgB,MAAO,KAAM,CAC3B1W,GAAW6I,EAAKxH,OAAQ,YAAa,GAAI,IAAM,CAC7CjO,GAAYs7B,EAAqB,CAAErnC,KAAM,aAG7CqvB,GAAgB,MAAOwjD,GAAcvyE,GAAgBga,EAAS83D,UAAUpyE,MAAO,GAC/Esa,EAAS83D,UAAUr0B,WAAahlC,KAAaqW,GAAmB,MAAO0jD,GAAexyE,GAAgBga,EAAS83D,UAAUr0B,WAAY,IAAMjtB,GAAmB,IAAI,MAC9JA,GAAmB,IAAI,KAE/BzB,GAAgB,MAAO0jD,GAAe,CACpC1jD,GAAgB,MAAO,CACrBlvB,MAAO,iBACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,mBACzD,CACD1B,GAAW6I,EAAKxH,OAAQ,mBAAoB,GAAI,IAAM,CACpDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,yBAI9C,IAAM8wB,GAAmB,IAAI,KAElCjuB,EAAG,IAGP,IAAIswE,GAAmCpvC,GAAYmuC,GAAa,CAAC,CAAC,SAAUc,MAC5E,MAAMI,GAAc,CAClBpzE,KAAM,eACNE,MAAO,CACLmzE,iBAAkB,CAAE19E,KAAM3E,MAAOozC,UAAU,GAC3CkvC,WAAY,CAAE39E,KAAMob,QAASgB,QAAS,MACtCwhE,eAAgB,CAAE59E,KAAMuD,OAAQ6Y,QAAS,OAE3C3I,MAAO,CAAC,kBAAmB,iBAC3B,OACE,MAAO,CACLoqE,WAAY,OAGhB58E,SAAU,CACR,eACE,OAAO69B,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,eAAe0tB,eAGhGpgE,MAAO,CACL,iBAAiBre,EAAK2wD,GACfA,EAAO1xD,QAAUe,EAAIf,SAAW0xD,EAAO1xD,SAC1CvB,KAAK0lF,WAAa,IAGtB,WAAWpjF,GACLA,GACFtC,KAAKusB,MAAM,kBAAmBvsB,KAAKulF,iBAAiBvlF,KAAK0lF,cAG7D,iBACM1lF,KAAKylF,eAAiB,GAAKzlF,KAAK0lF,WAAa1lF,KAAKulF,iBAAiBhkF,OAAS,EAC9EvB,KAAK0lF,aACI1lF,KAAKylF,eAAiB,GAAKzlF,KAAK0lF,WAAa,GACtD1lF,KAAK0lF,aAEP1lF,KAAKusB,MAAM,oBAIXo5D,GAAe,CAAC,cAAe,WAC/BC,GAAe,CAAEvzE,MAAO,iBACxBwzE,GAAe,CAAExzE,MAAO,qBAC9B,SAASyzE,GAAcpyD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAOvB,KAAaI,GAAYsjB,GAAY,CAAEz8B,KAAM,gBAAkB,CACpE+R,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOu5D,iBAAiBhkF,QAAU0pB,KAAaqW,GAAmB,MAAO,CACvEv+B,IAAK,EACLsP,MAAO,qBACPE,MAAOnB,GAAe,CAAEgwE,OAAW50D,EAAS60D,aAAZ,QAC/B,EACAp2D,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOu5D,iBAAkB,CAAC35B,EAAM5mD,KACvFimB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAK6oD,EAAKE,IACVz5C,MAAOJ,GAAe,CAAC,eAAgB,CAAE,sBAAuBjN,IAAU+mB,EAAM25D,cAChFjD,YAAc7oC,GAAW7tB,EAAM25D,WAAa1gF,EAC5C60C,QAAUD,GAAWlmB,EAAKnH,MAAM,kBAAmBq/B,IAClD,CACDrqB,GAAgB,MAAOqkD,GAAc,CACnCh6B,EAAKyF,QAAUpmC,KAAaqW,GAAmB,MAAO,CACpDv+B,IAAK,EACLsP,MAAO,6BACPE,MAAOnB,GAAe,CAAE,mBAAoB,QAAQw6C,EAAKyF,cACxD,KAAM,IAAMruB,GAAmB,IAAI,GACtCzB,GAAgB,MAAOskD,GAAcrzE,GAAgBo5C,EAAKI,UAAW,MAEtE,GAAI25B,MACL,OACH,IAAM3iD,GAAmB,IAAI,KAElCjuB,EAAG,IAGP,IAAIgxE,GAA+B9vC,GAAYqvC,GAAa,CAAC,CAAC,SAAUQ,MACxE,MAAME,GAAc,CAClB9zE,KAAM,aACNE,MAAO,CACL6zE,eAAgB,CAAEp+E,KAAM3E,MAAOozC,UAAU,GACzCkvC,WAAY,CAAE39E,KAAMob,QAASgB,QAAS,MACtCwhE,eAAgB,CAAE59E,KAAMuD,OAAQ6Y,QAAS,OAE3C3I,MAAO,CAAC,eAAgB,iBACxB,OACE,MAAO,CACLoqE,WAAY,OAGhB58E,SAAU,CACR,eACE,OAAO69B,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,eAAe0tB,eAGhGpgE,MAAO,CACL,eAAere,EAAK2wD,GACbA,EAAO1xD,QAAUe,EAAIf,SAAW0xD,EAAO1xD,SAC1CvB,KAAK0lF,WAAa,IAGtB,WAAWpjF,GACLA,GACFtC,KAAKusB,MAAM,eAAgBvsB,KAAKimF,eAAejmF,KAAK0lF,cAGxD,iBACM1lF,KAAKylF,eAAiB,GAAKzlF,KAAK0lF,WAAa1lF,KAAKimF,eAAe1kF,OAAS,EAC5EvB,KAAK0lF,aACI1lF,KAAKylF,eAAiB,GAAKzlF,KAAK0lF,WAAa,GACtD1lF,KAAK0lF,aAEP1lF,KAAKusB,MAAM,oBAIX25D,GAAe,CAAC,cAAe,WACrC,SAASC,GAAczyD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAOvB,KAAaI,GAAYsjB,GAAY,CAAEz8B,KAAM,gBAAkB,CACpE+R,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOi6D,eAAe1kF,QAAU0pB,KAAaqW,GAAmB,MAAO,CACrEv+B,IAAK,EACLsP,MAAO,uBACPE,MAAOnB,GAAe,CAAEgwE,OAAW50D,EAAS60D,aAAZ,QAC/B,EACAp2D,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOi6D,eAAgB,CAACruC,EAAO5yC,KACtFimB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAK60C,EACLvlC,MAAOJ,GAAe,CAAC,oBAAqB,CAAE,2BAA4BjN,IAAU+mB,EAAM25D,cAC1FjD,YAAc7oC,GAAW7tB,EAAM25D,WAAa1gF,EAC5C60C,QAAUD,GAAWlmB,EAAKnH,MAAM,eAAgBqrB,IAC/CplC,GAAgBolC,GAAQ,GAAIsuC,MAC7B,OACH,IAAMljD,GAAmB,IAAI,KAElCjuB,EAAG,IAGP,IAAIqxE,GAA6BnwC,GAAY+vC,GAAa,CAAC,CAAC,SAAUG,MACtE,MAAME,GAAc,CAClBn0E,KAAM,oBACNE,MAAO,CACLk0E,sBAAuB,CAAEz+E,KAAM3E,MAAOozC,UAAU,GAChDkvC,WAAY,CAAE39E,KAAMob,QAASgB,QAAS,MACtCwhE,eAAgB,CAAE59E,KAAMuD,OAAQ6Y,QAAS,OAE3C3I,MAAO,CAAC,uBAAwB,iBAChC,OACE,MAAO,CACLoqE,WAAY,OAGhB58E,SAAU,CACR,eACE,OAAO69B,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,eAAe0tB,eAGhGpgE,MAAO,CACL,sBAAsBre,EAAK2wD,GACpBA,EAAO1xD,QAAUe,EAAIf,SAAW0xD,EAAO1xD,SAC1CvB,KAAK0lF,WAAa,IAGtB,WAAWpjF,GACLA,GACFtC,KAAKusB,MACH,uBACAvsB,KAAKsmF,sBAAsBtmF,KAAK0lF,cAItC,iBACM1lF,KAAKylF,eAAiB,GAAKzlF,KAAK0lF,WAAa1lF,KAAKsmF,sBAAsB/kF,OAAS,EACnFvB,KAAK0lF,aACI1lF,KAAKylF,eAAiB,GAAKzlF,KAAK0lF,WAAa,GACtD1lF,KAAK0lF,aAEP1lF,KAAKusB,MAAM,oBAIXg6D,GAAe,CAAC,cAAe,WAC/BC,GAAe,CAAEn0E,MAAO,qBACxBo0E,GAAe,CAAEp0E,MAAO,oBACxBq0E,GAAe,CAAEr0E,MAAO,qBAC9B,SAASs0E,GAAcjzD,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAOvB,KAAaI,GAAYsjB,GAAY,CAAEz8B,KAAM,gBAAkB,CACpE+R,QAAS7H,GAAQ,IAAM,CACrB4P,EAAOs6D,sBAAsB/kF,QAAU0pB,KAAaqW,GAAmB,MAAO,CAC5Ev+B,IAAK,EACLsP,MAAO,4CACPE,MAAOnB,GAAe,CAAEgwE,OAAW50D,EAAS60D,aAAZ,QAC/B,EACAp2D,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOs6D,sBAAuB,CAACzhD,EAAU7/B,KAChGimB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKiC,EACLqN,MAAOJ,GAAe,CAAC,mBAAoB,CAAE,sBAAuBjN,IAAU+mB,EAAM25D,cACpFjD,YAAc7oC,GAAW7tB,EAAM25D,WAAa1gF,EAC5C60C,QAAUD,GAAWlmB,EAAKnH,MAAM,uBAAwBsY,IACvD,CACDtD,GAAgB,MAAOilD,GAAc,CACnCjlD,GAAgB,MAAOklD,GAAc,KAAOj0E,GAAgBqyB,EAASmC,KAAM,GAC3EzF,GAAgB,MAAOmlD,GAAcl0E,GAAgBqyB,EAASohC,MAAO,MAEtE,GAAIsgB,MACL,OACH,IAAMvjD,GAAmB,IAAI,KAElCjuB,EAAG,IAGP,IAAI6xE,GAAoC3wC,GAAYowC,GAAa,CAAC,CAAC,SAAUM,MAC7E,SAASE,GAAWC,GAClB,OAAO,IAAIC,UAAUD,GAEvB,SAASE,GAAUF,GACjB,OAAO,IAAIG,WAAWH,GAExB,SAASI,GAAUJ,GACjB,OAAO,IAAIK,WAAWL,GAExB,SAASM,GAAYN,GACnB,OAAO,IAAIO,aAAaP,GAE1B,SAASQ,GAAaR,GACpB,OAAO,IAAIS,aAAaT,GAE1B,SAASU,GAAc39E,GACrB,GAAmB,GAAfA,EAAKtI,OACP,OAAO6lF,GAAYv9E,EAAK,IAE1B,IAAI49E,EAAK59E,EAAK,GACdA,EAAOA,EAAK/F,MAAM,GAElB,IADA,IAAI4jF,EAAI,GACCpmF,EAAI,EAAGA,EAAImmF,EAAInmF,IACtBomF,EAAExiF,KAAKsiF,GAAc39E,IAEvB,OAAO69E,EAET,SAASC,GAAY99E,GACnB,GAAmB,GAAfA,EAAKtI,OACP,OAAO2lF,GAAUr9E,EAAK,IAExB,IAAI49E,EAAK59E,EAAK,GACdA,EAAOA,EAAK/F,MAAM,GAElB,IADA,IAAI4jF,EAAI,GACCpmF,EAAI,EAAGA,EAAImmF,EAAInmF,IACtBomF,EAAExiF,KAAKyiF,GAAY99E,IAErB,OAAO69E,EAET,SAASE,GAAc/9E,GACrB,GAAmB,GAAfA,EAAKtI,OACP,OAAOylF,GAAUn9E,EAAK,IAExB,IAAI49E,EAAK59E,EAAK,GACdA,EAAOA,EAAK/F,MAAM,GAElB,IADA,IAAI4jF,EAAI,GACCpmF,EAAI,EAAGA,EAAImmF,EAAInmF,IACtBomF,EAAExiF,KAAK0iF,GAAc/9E,IAEvB,OAAO69E,EAET,SAASG,GAAch+E,GACrB,GAAmB,GAAfA,EAAKtI,OACP,OAAO,IAAI2B,MAAM2G,EAAK,IAExB,IAAI49E,EAAK59E,EAAK,GACdA,EAAOA,EAAK/F,MAAM,GAElB,IADA,IAAI4jF,EAAI,GACCpmF,EAAI,EAAGA,EAAImmF,EAAInmF,IACtBomF,EAAExiF,KAAK2iF,GAAch+E,IAEvB,OAAO69E,EAET,IAAII,GAAW,CACf,KAAgB,SAAS5tE,EAAG6tE,EAAWC,EAAS1lF,GAC9C,GAAwB,GAApBme,UAAUlf,OACZ,IAAK,IAAID,EAAI,EAAGA,EAAI4Y,EAAE3Y,OAAQD,IAC5B4Y,EAAE5Y,GAAKmf,UAAU,QAGnB,IAASnf,EAAIymF,EAAWzmF,EAAI0mF,EAAS1mF,IACnC4Y,EAAE5Y,GAAKgB,IAIT2lF,GAAW,CACf,UAAqB,SAAS58B,EAAK68B,EAAQC,EAAMC,EAAS7mF,GACxD,IAAI8mF,EAASH,EAAS3mF,EACtB,MAAO2mF,EAASG,EACdF,EAAKC,KAAa/8B,EAAI68B,MAE1B,IAAe,IACfD,GAASK,IAAIC,QAAU,SAASt+B,GAC9B5yC,QAAQmxE,IAAIv+B,IAEdg+B,GAASK,IAAIG,OAAS,WACpBpxE,QAAQmxE,IAAIv+E,MAAMoN,QAASoJ,YAE7B,IAAIioE,GAAS,GAQb,SAASC,GAAaC,GACpB5oF,KAAK4oF,QAAUA,EARjBF,GAAOG,MAAQ,mBACfH,GAAOI,WAAa,SAASC,GAC3B,OAAOnrD,KAAKorD,MAAMD,IAEpBL,GAAOO,aAAe,SAASF,EAAGG,GAChC,OAAOtrD,KAAKorD,MAAMD,GAAKG,GAKzBP,GAAaQ,oBAAsB,IAAIR,GAAa,GACpDA,GAAaS,oBAAsB,IAAIT,GAAa,GACpDA,GAAaU,sBAAwB,IAAIV,GAAa,GACtDA,GAAaW,mBAAqB,IAAIX,GAAa,GACnD,IAAIY,GAAU,GAEd,SAASC,GAAUZ,GACjB5oF,KAAK4oF,QAAUA,EAFjBW,GAAQE,UAAY,YAIpBD,GAAUE,QAAU,IAAIF,GAAU,GAClCA,GAAUG,OAAS,IAAIH,GAAU,GACjCA,GAAUI,OAAS,IAAIJ,GAAU,GACjCA,GAAUK,QAAU,IAAIL,GAAU,GAClCA,GAAUM,SAAW,IAAIN,GAAU,GACnCA,GAAUO,YAAcP,GAAUM,SAClC,IAAIE,GAAW,SAASjB,KAEpBkB,GAAS,CACXC,OAAQjC,GACRkC,QAASX,GACTY,MAAOb,GACPc,WAAY1B,GACZ2B,KAAM5B,GACN6B,OAAQzC,GACR0C,YAAa3C,GACb4C,SAAU5D,GACV6D,WAAYpD,GACZqD,UAAWvD,GACXwD,YAAapD,GACbqD,QAAS3D,GACT4D,UAAWnD,GACXX,aACA+D,YAAanD,GACboD,OAAQhB,IAENiB,GAAWhB,GAAOC,OAClBgB,GAASjB,GAAOK,KAChBa,GAAWlB,GAAOM,OAClBa,GAAcnB,GAAOU,UACzB,SAASU,KACP,IAAIC,EAAW,EACb,kBACA,mBACA,mBACA,kBACA,mBACA,mBACA,kBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,mBACA,kBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,kBACA,mBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,mBACA,kBACA,kBACA,mBACA,kBACA,mBACA,mBACA,oBACA,oBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,kBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,oBACA,oBACA,kBACA,kBACA,mBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,kBACA,mBACA,mBACA,kBACA,kBACA,mBACA,kBACA,oBACA,mBACA,mBACA,kBACA,mBACA,mBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,kBACA,mBACA,mBACA,oBACA,oBACA,kBACA,kBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,kBACA,kBACA,mBACA,iBACA,kBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,oBACA,mBACA,oBACA,oBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,kBACA,kBACA,mBACA,oBACA,mBACA,mBACA,mBACA,kBACA,mBACA,kBACA,iBACA,oBACA,kBACA,mBACA,mBACA,kBACA,mBACA,kBACA,kBACA,mBACA,oBACA,oBACA,oBACA,iBACA,mBACA,kBACA,kBACA,kBACA,kBACA,oBACA,kBACA,kBACA,mBACA,kBACA,mBACA,oBACA,iBACA,kBACA,mBACA,oBACA,oBACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,oBACA,kBACA,mBACA,mBACA,kBACA,mBACA,oBACA,mBACA,mBACA,oBACA,oBACA,oBACA,oBACA,kBACA,iBACA,mBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBACA,mBACA,mBACA,oBACA,oBACA,mBACA,mBACA,kBACA,kBACA,mBACA,kBACA,iBACA,mBACA,mBACA,mBACA,kBACA,kBACA,mBACA,oBACA,mBACA,mBACA,mBACA,oBACA,oBACA,mBACA,kBACA,mBACA,mBACA,iBACA,kBACA,oBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,oBACA,oBACA,oBACA,kBACA,mBACA,kBACA,WAAcJ,GAAOrC,MAAQ,GAAM,QACnC,WAAcqC,GAAOrC,MAAQ,GAAM,QACnC,WAAaqC,GAAOrC,MAAQ,GAAM,QAClC,WAAaqC,GAAOrC,MAAQ,GAAM,QAClC,UAAYqC,GAAOrC,MAAQ,GAAM,QACjC,UAAYqC,GAAOrC,MAAQ,GAAM,QACjC,UAAYqC,GAAOrC,MAAQ,GAAM,QACjC,SAAWqC,GAAOrC,MAAQ,GAAM,QAChC,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBAEE0C,EAAK,GACLC,EAAM,GACNC,EAAM,CACR,CACE,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,oBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBACC,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,qBACA,sBAEH,CACE,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBACC,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,qBACA,qBACD,EACA,EACA,EACA,EACA,EACA,GACC,sBACA,sBACA,sBAEH,CACE,kBACA,iBACA,kBACA,kBACA,kBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,kBACA,kBACA,mBACC,mBACA,kBACD,kBACA,IA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BACD,gBACA,kBACC,iBACA,iBACD,gBACA,kBACC,iBACA,gBACD,gBACA,iBACC,iBAEH,CACE,iBACC,kBACA,gBACD,kBACC,iBACA,iBACD,gBACA,kBACC,iBACA,iBACD,gBACA,iBACA,iBACC,gBACD,gBACA,iBACC,iBACA,gBACD,gBACA,gBACC,iBAEH,CACE,iBACC,kBACA,gBACD,iBACC,iBACA,eACD,iBACC,gBACA,iBACA,iBACA,gBACD,iBACC,iBACA,gBACD,gBACA,iBACC,cACD,gBACA,gBACA,iBACC,iBAEH,CACE,iBACC,kBACA,eACD,iBACC,gBACD,gBACA,iBACC,iBACA,gBACD,iBACC,gBACA,iBACA,gBACA,gBACD,gBACA,gBACA,iBACC,iBACA,eACD,iBACC,gBAEH,CACE,gBACC,iBACA,gBACD,iBACC,iBACA,eACA,gBACD,gBACA,iBACC,iBACA,gBACD,gBACA,gBACA,gBACA,gBACA,iBACC,gBACD,iBACC,gBACD,gBACA,iBAEF,CACE,iBACC,kBACA,gBACD,gBACA,gBACC,gBACD,gBACA,iBACC,gBACD,gBACA,gBACC,iBACA,gBACD,eACA,iBACC,gBACD,gBACA,iBACC,eACD,iBACC,iBAEH,CACE,iBACC,iBACA,iBACA,iBACA,iBACA,gBACD,gBACA,eACA,gBACA,gBACA,iBACC,iBACA,iBACA,gBACD,iBACC,gBACD,gBACA,iBACC,gBACD,iBACC,iBAEH,CACE,iBACC,gBACA,iBACA,iBACA,iBACA,gBACD,iBACC,iBACA,gBACD,gBACA,gBACA,iBACC,iBACA,iBACA,iBACA,iBACA,aACD,gBACA,eACA,gBACC,kBAGDC,EAAW,CACb,CACE,iBACC,kBACA,iBACD,gBACA,iBAEF,CACE,iBACC,kBACA,iBACD,eACA,iBAEF,CACE,iBACC,kBACA,iBACD,gBACA,iBAEF,CACE,iBACC,kBACA,iBACD,gBACA,iBAEF,CACE,iBACC,kBACA,iBACD,gBACA,iBAEF,CACE,iBACC,kBACA,iBACD,gBACA,iBAEF,CA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AG,EAAG,EAAG,GACzC,KAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9D,KAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC9D,KAAgB,CACd,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,EACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEF,KAAgB,CACd,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,EACA,EACA,GACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,GAEF,KAAgB,CACd,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,GACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,EACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,EACA,EACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,IACA,IACA,IACA,KACA,IACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,IACA,KACA,IACA,IACA,EACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEF,MAAiB,CACf,EACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,IAEF,MAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GAEF,IAAe,CAAC,EAAG,EAAG,EAAG,GACzB,IAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACxC,IAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACxC,IAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,IAC9D,IAAe,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7D,IAAe,CACb,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,IAEF,IAAe,CACb,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEF,IAAe,CACb,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,EACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEF,OAAkB,CAChB,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IAEF,KAAgB,CACd,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IAEFA,GAASC,GAAK,CACZ,IAAIP,GAAY,EAAG,EAAG,KAAM,MAC5B,IAAIA,GAAY,EAAG,EAAGM,GAASE,KAAMF,GAASG,KAC9C,IAAIT,GAAY,EAAG,EAAGM,GAASI,KAAMJ,GAASK,KAC9C,IAAIX,GAAY,EAAG,EAAGM,GAASM,KAAMN,GAASO,KAC9C,IAAIb,GAAY,EAAG,EAAG,KAAM,MAC5B,IAAIA,GAAY,EAAG,EAAGM,GAASQ,KAAMR,GAASS,KAC9C,IAAIf,GAAY,EAAG,EAAGM,GAASU,KAAMV,GAASW,KAC9C,IAAIjB,GAAY,EAAG,EAAGM,GAASY,KAAMZ,GAASa,KAC9C,IAAInB,GAAY,EAAG,EAAGM,GAASc,KAAMd,GAASe,KAC9C,IAAIrB,GAAY,EAAG,EAAGM,GAASgB,KAAMhB,GAASiB,KAC9C,IAAIvB,GAAY,EAAG,EAAGM,GAASkB,MAAOlB,GAASmB,MAC/C,IAAIzB,GAAY,EAAG,EAAGM,GAASoB,MAAOpB,GAASqB,MAC/C,IAAI3B,GAAY,EAAG,EAAGM,GAASsB,MAAOtB,GAASuB,MAC/C,IAAI7B,GAAY,GAAI,EAAGM,GAASwB,MAAOxB,GAASyB,MAChD,IAAI/B,GAAY,EAAG,EAAG,KAAMM,GAAS0B,QACrC,IAAIhC,GAAY,GAAI,EAAGM,GAAS2B,MAAO3B,GAAS4B,MAChD,IAAIlC,GAAY,EAAG,EAAGM,GAAS6B,MAAO7B,GAAS8B,MAC/C,IAAIpC,GAAY,EAAG,EAAGM,GAAS6B,MAAO7B,GAAS8B,MAC/C,IAAIpC,GAAY,EAAG,EAAGM,GAAS6B,MAAO7B,GAAS8B,MAC/C,IAAIpC,GAAY,EAAG,GAAIM,GAAS6B,MAAO7B,GAAS8B,MAChD,IAAIpC,GAAY,EAAG,GAAIM,GAAS6B,MAAO7B,GAAS8B,MAChD,IAAIpC,GAAY,EAAG,IAAKM,GAAS6B,MAAO7B,GAAS8B,MACjD,IAAIpC,GAAY,GAAI,KAAMM,GAAS6B,MAAO7B,GAAS8B,MACnD,IAAIpC,GAAY,GAAI,KAAMM,GAAS6B,MAAO7B,GAAS8B,MACnD,IAAIpC,GAAY,EAAG,GAAIM,GAAS+B,MAAO/B,GAASgC,MAChD,IAAItC,GAAY,EAAG,GAAIM,GAAS+B,MAAO/B,GAASgC,MAChD,IAAItC,GAAY,EAAG,GAAIM,GAAS+B,MAAO/B,GAASgC,MAChD,IAAItC,GAAY,EAAG,IAAKM,GAAS+B,MAAO/B,GAASgC,MACjD,IAAItC,GAAY,EAAG,IAAKM,GAAS+B,MAAO/B,GAASgC,MACjD,IAAItC,GAAY,EAAG,IAAKM,GAAS+B,MAAO/B,GAASgC,MACjD,IAAItC,GAAY,GAAI,KAAMM,GAAS+B,MAAO/B,GAASgC,MACnD,IAAItC,GAAY,GAAI,KAAMM,GAAS+B,MAAO/B,GAASgC,MACnD,IAAItC,GAAY,EAAG,EAAGM,GAASiC,MAAOjC,GAASkC,MAC/C,IAAIxC,GAAY,EAAG,EAAGM,GAASmC,MAAOnC,GAASoC,OAEjDpC,GAASqC,SAAW,CAClB,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFrC,GAASsC,QAAU,CACjB,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFtC,GAASuC,QAAU,CACjB,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFvC,GAASwC,cAAgB,CACvB,CACE,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,KACC,GAEH,CACE,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,KACC,GAEH,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAE9DxC,GAASyC,iBAAmB,CAC1B,CAAC,MAAO,KAAM,MAAO,GACrB,CAAC,MAAO,KAAM,MAAO,GACrB,CAAC,MAAO,KAAM,KAAM,IAEtBzC,GAAS0C,WAAa,CAAC,EAAG,EAAG,GAAI,GAAI,IACrC,IAAIC,GAAY91B,GAAOE,QACnBC,GAAQH,GAAOG,MACf41B,GAAS/1B,GAAOK,KAChB21B,GAAch2B,GAAOU,UACrBu1B,GAAYj2B,GAAOY,QACnBs1B,GAAWl2B,GAAOe,OAKtB,SAASo1B,KACP,IAAIC,EAAM,KACNrE,EAAK,KACL3qB,EAAM,KAMV,SAASivB,EAAMv3B,GACb,OAAOw3B,EAAMx3B,EAAIq3B,GAAYI,QAN/BxgH,KAAKwxF,WAAa,SAASivB,EAAKC,EAAKhvB,GACnC2uB,EAAMI,EACNzE,EAAK0E,EACLrvB,EAAMK,GAKR1xF,KAAK2gH,OAAS,SAAS53B,GACrB,OAAO63B,EAAO73B,IAEhB,IAAI83B,EAAc,qBACdC,EAAYV,GAAYU,UACxBC,EAAeD,EAAY,EAC3BE,EAAQZ,GAAYY,MACpBR,EAASJ,GAAYI,OACrBS,EAAa,IACjBjhH,KAAKkhH,gBAAkB,CACrB,CACE,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEZ,CACE,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,GAAI,GACX,CAAC,EAAG,EAAG,GAAI,IAEb,CACE,CAAC,GAAI,GAAI,EAAG,GACZ,CAAC,GAAI,GAAI,EAAG,GACZ,CAAC,GAAI,GAAI,EAAG,IAEd,CACE,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,GAAI,GAAI,GAAI,GACb,CAAC,EAAG,GAAI,GAAI,IAEd,CACE,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,GAAI,EAAG,EAAG,GACX,CAAC,EAAG,GAAI,EAAG,IAEb,CACE,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,GAAI,GAAI,EAAG,GACZ,CAAC,EAAG,GAAI,EAAG,KAGf,IAAIC,EAAS,CACX,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEFnhH,KAAKmhH,OAASA,EACdnhH,KAAKohH,YAAc,CACjB,IAAIrQ,GACF,CACE,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,KACpD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,KACpD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,KACrD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CACE,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CACE,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,KAEF,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAErB,IAAIA,GACF,CACE,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEF,CACE,EACA,EACA,GACA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zxC,EAAG0xC,EAAaC,EAAcC,EAAKC,EAAUC,EAAOC,EAAOC,EAAMC,EAAOC,EAAOC,EAAKC,GACzHt7H,KAAKu7H,MAAQb,EACb16H,KAAKwsG,WAAatxF,EAClBlb,KAAKw7H,aAAeb,EACpB36H,KAAKy7H,KAAOvyC,EACZlpF,KAAK07H,OAASd,EACd56H,KAAK27H,KAAOd,EACZ76H,KAAK47H,YAAcd,EACnB96H,KAAK67H,kBAAoBd,EACzB/6H,KAAK87H,UAAYd,EACjBh7H,KAAK+7H,UAAYd,EACjBj7H,KAAKg8H,gBAAkBd,EACvBl7H,KAAKi8H,QAAUd,EACfn7H,KAAKk8H,UAAYd,EACjBp7H,KAAKm8H,SAAWd,EAChBr7H,KAAKq+F,MAAQi9B,EAEf,SAASc,EAAWC,EAAMnhH,EAAMy/G,EAAOS,EAAOE,EAAKV,EAAaC,EAAc5Y,EAAMqa,EAAIC,EAAMvB,EAAOC,EAAOuB,EAASC,GACnHz8H,KAAKwsG,WAAatxF,EAClBlb,KAAKw7H,aAAeb,EACpB36H,KAAKk8H,UAAYd,EACjBp7H,KAAK08H,QAAUpB,EACft7H,KAAK07H,OAASd,EACd56H,KAAK27H,KAAOd,EACZ76H,KAAK28H,OAAS1a,EACdjiH,KAAKqsE,MAAQiwD,EACbt8H,KAAK47H,YAAcW,EACnBv8H,KAAK87H,UAAYd,EACjBh7H,KAAK+7H,UAAYd,EACjBj7H,KAAKi8H,QAAUO,EACfx8H,KAAK48H,QAAUH,EAEjB,IAAII,EACJ78H,KAAKwxF,WAAa,SAASsrC,GACzBD,EAAOC,GAET,IAAIC,EAAqB,CACvB,IAAItC,EACF,EACA,EACA,EACA,EACA,IACA,KACC,KACA,IACD,IACA,EACA,EACA,EACA,EACA,GACA,KAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,KACC,KACA,IACD,IACA,IACA,EACA,EACA,EACA,GACA,MAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,KACC,KACA,IACD,IACA,EACA,EACA,EACA,EACA,GACA,MAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,KACC,KACA,IACD,IACA,GACC,EACD,EACA,EACA,GACA,MAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,EACA,KACC,IACA,IACD,IACA,KACC,EACD,EACA,EACA,EACA,MAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACA,GACA,IACC,IACD,GACC,GACD,KACA,EACA,EACA,MAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACA,IACA,KACC,KACD,KACC,GACD,KACA,EACA,EACA,KAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACA,GACA,KACC,KACD,GACC,GACD,KACA,EACA,EACA,KAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACA,IACA,MACC,KACD,IACC,GACD,KACA,EACA,EACA,GAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACA,IACA,KACC,GACD,IACC,GACD,KACA,EACA,EACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,IACA,IACA,EACA,GACC,GACD,IACC,GACD,KACA,EACA,EACA,IAGAuC,EAAqB,CACvB,IAAIvC,EACF,EACA,EACA,EACA,EACA,IACA,IACC,GACA,EACD,IACA,EACA,EACA,EACA,EACA,GACA,KAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACC,KACA,IACD,IACA,IACA,EACA,EACA,EACA,GACA,MAEF,IAAIA,EAAW,EAAG,EAAG,EAAG,EAAG,IAAK,IAAK,KAAM,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,MACnE,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACC,KACA,KACD,IACA,GACC,EACD,EACA,EACA,GACA,MAEF,IAAIA,EAAW,EAAG,EAAG,EAAG,EAAG,IAAK,IAAK,IAAK,GAAK,EAAG,KAAM,EAAG,EAAG,EAAG,EAAG,MACpE,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACC,EACD,MACC,IACD,GACC,GACD,KACA,EACA,EACA,MAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,IACC,EACD,MACC,IACD,KACC,GACD,KACA,EACA,EACA,GAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,GACA,GACA,GACC,KACD,GACC,GACD,KACA,EACA,EACA,GAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,GACA,EACA,KACC,GACD,IACC,GACD,KACA,EACA,EACA,GAEF,IAAIA,EACF,EACA,EACA,EACA,EACA,IACA,GACA,IACA,MACC,GACD,IACC,GACD,KACA,EACA,EACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,IACA,GACA,EACA,MACC,GACD,IACC,GACD,KACA,EACA,EACA,IAGJ,SAASwC,EAAiBlqC,EAAK74E,EAAGgjH,GAChC,IAAIC,EAAapqC,EAAI+B,KAAOylC,GAAU3wC,OAASmzC,EAAqBC,EAChEj0C,EAAIgK,EAAI6Z,WACRr0F,EAAK4kH,EAAWjjH,GAChBkjH,EAAID,EAAWjjH,EAAI,GACnBqV,EAAOhX,EACXA,EAAGmjH,OAASnjH,EAAGmjH,OAAS3yC,GAAKq0C,EAAE1B,OAASnjH,EAAGmjH,QAC3CnjH,EAAGojH,KAAOpjH,EAAGojH,KAAO5yC,GAAKq0C,EAAEzB,KAAOpjH,EAAGojH,MACrCpjH,EAAGqjH,YAAcrjH,EAAGqjH,YAAc7yC,GAAKq0C,EAAExB,YAAcrjH,EAAGqjH,aAC1DrjH,EAAGsjH,kBAAoBtjH,EAAGsjH,kBAAoB9yC,GAAKq0C,EAAEvB,kBAAoBtjH,EAAGsjH,mBAC5EtjH,EAAGujH,UAAYvjH,EAAGujH,UAAY/yC,GAAKq0C,EAAEtB,UAAYvjH,EAAGujH,WACpDvjH,EAAGwjH,UAAYxjH,EAAGwjH,UAAYhzC,GAAKq0C,EAAErB,UAAYxjH,EAAGwjH,WACpDxjH,EAAGyjH,gBAAkBzjH,EAAGyjH,gBAAkBjzC,GAAKq0C,EAAEpB,gBAAkBzjH,EAAGyjH,iBACtEzjH,EAAG0jH,QAAU1jH,EAAG0jH,QAAUlzC,GAAKq0C,EAAEnB,QAAU1jH,EAAG0jH,SAC9C1jH,EAAG8lF,MAAQ9lF,EAAG8lF,MAAQtV,GAAKq0C,EAAE/+B,MAAQ9lF,EAAG8lF,OACxCg/B,EAAetqC,EAAKxjE,EAAKgsG,OACV,GAAX2B,EACFnqC,EAAIyZ,WAAaj9E,EAAKi9E,WACb5uE,KAAKorC,IAAI+pB,EAAIyZ,aAAc,GAAK,IACzCzZ,EAAIyZ,WAAaj9E,EAAKi9E,YAET,GAAX0wB,EACFnqC,EAAI0Z,iBAAmBl9E,EAAKisG,aACnB59F,KAAKorC,IAAI+pB,EAAI0Z,mBAAoB,GAAK,IAC/C1Z,EAAI0Z,iBAAmBl9E,EAAKisG,cAEb,GAAbjsG,EAAKksG,OACP1oC,EAAI2Z,cAA6B,GAAbn9E,EAAKksG,MAEZ,GAAXyB,EACFnqC,EAAIE,eAAe6C,MAAMkO,WAAaz0E,EAAKmsG,OAClC99F,KAAKorC,IAAI+pB,EAAIE,eAAe6C,MAAMkO,aAAc,GAAK,IAC9DjR,EAAIE,eAAe6C,MAAMkO,WAAaz0E,EAAKmsG,QAE9B,GAAXwB,EACFnqC,EAAIE,eAAe6C,MAAMiO,aAAex0E,EAAKosG,KACpC/9F,KAAKorC,IAAI+pB,EAAIE,eAAe6C,MAAMiO,eAAgB,GAAK,IAChEhR,EAAIE,eAAe6C,MAAMiO,aAAex0E,EAAKosG,MAEhC,GAAXuB,EACFnqC,EAAIua,cAAgB/9E,EAAKqsG,YAChBh+F,KAAKorC,IAAI+pB,EAAIua,cAAgB,GAAK,IAC3Cva,EAAIua,cAAgB/9E,EAAKqsG,aAEZ,GAAXsB,EACFnqC,EAAIwa,oBAAsBh+E,EAAKssG,kBACtBj+F,KAAKorC,IAAI+pB,EAAIwa,oBAAsB,GAAK,IACjDxa,EAAIwa,oBAAsBh+E,EAAKssG,mBAElB,GAAXqB,EACFnqC,EAAIyR,UAAYj1E,EAAKusG,UAAY,GACxBl+F,KAAKorC,IAAoB,IAAf+pB,EAAIyR,SAAgB,GAAK,IAC5CzR,EAAIyR,UAAYj1E,EAAKusG,UAAY,IAEpB,GAAXoB,EACFnqC,EAAImY,SAAW37E,EAAKwsG,UACXn+F,KAAKorC,IAAI+pB,EAAImY,WAAY,GAAK,IACvCnY,EAAImY,SAAW37E,EAAKwsG,WACP,GAAXmB,EACFnqC,EAAI6a,kBAAoBr+E,EAAKysG,gBACpBp+F,KAAKorC,IAAI+pB,EAAI6a,oBAAqB,GAAK,IAChD7a,EAAI6a,kBAAoBr+E,EAAKysG,iBAE3BzsG,EAAK0sG,QAAU,IACF,GAAXiB,EACFnqC,EAAIwR,aAAeh1E,EAAK0sG,QACfr+F,KAAKorC,IAAI+pB,EAAIwR,eAAgB,GAAK,IAC3CxR,EAAIwR,aAAeh1E,EAAK0sG,UAGxB1sG,EAAK2sG,UAAY,IACnBnpC,EAAI8X,cAAgB9X,EAAI8X,cAAgBt7E,EAAK2sG,WAE3C3sG,EAAK4sG,SAAW,IAClBppC,EAAI8X,cAAgB9X,EAAI8X,cAAgBt7E,EAAK4sG,UAAY,IAE5C,GAAXe,EACFnqC,EAAIsL,MAAQ9uE,EAAK8uE,MACRzgE,KAAKorC,IAAI+pB,EAAIsL,QAAS,GAAK,IACpCtL,EAAIsL,MAAQ9uE,EAAK8uE,OACJ,GAAX6+B,IACFnqC,EAAI8Z,MAAQ3yF,EACZ64E,EAAI6Z,WAAa7jB,GAGrB,IAAIu0C,EAAiB,CACnB,IAAIlB,EACF,EACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,GACD,GACA,MACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,GACD,GACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,GACD,GACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,GACD,GACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,GACD,GACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,GACD,GACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,EACD,GACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,GACC,EACD,GACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,EACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,KACA,GAEF,IAAIA,EACF,GACA,EACA,EACA,EACA,IACA,IACA,IACA,EACA,IACA,EACA,EACA,IACA,KACA,GAEF,IAAIA,EACF,IACA,EACA,EACA,EACA,KACA,IACA,IACA,EACA,IACA,EACA,EACA,IACA,KACA,GAEF,IAAIA,EACF,IACA,EACA,EACA,EACA,KACA,IACA,IACA,EACA,IACA,EACA,EACA,EACA,KACA,GAEF,IAAIA,EACF,IACA,EACA,EACA,EACA,KACA,EACA,IACA,EACA,KACC,EACD,EACA,IACA,EACA,GAEF,IAAIA,EACF,IACA,EACA,EACA,EACA,KACA,IACA,IACA,EACA,KACC,EACD,EACA,EACA,EACA,GAEF,IAAIA,EACF,IACA,EACA,EACA,EACA,KACA,IACA,IACA,EACA,KACC,EACD,EACA,EACA,EACA,GAEF,IAAIA,EACF,IACA,EACA,EACA,EACA,IACA,IACA,IACA,EACA,GACC,EACD,GACA,EACA,EACA,GAEF,IAAIA,EACF,IACA,EACA,EACA,EACA,GACA,IACA,IACA,EACA,GACC,GACD,GACA,EACA,EACA,IAGJ,SAASmB,EAAiBxqC,EAAK4Z,EAAQuwB,GACrC,IAAIM,EAAiB7wB,EACjB58F,EAAI8sH,EAAK5H,wBAAwBtoB,GAerC,GAdA5Z,EAAI+B,IAAMylC,GAAU1wC,QACpBkJ,EAAI+Z,sBAAwB0wB,EAC5BzqC,EAAI+Z,sBAAwBlvE,KAAKC,IAAIk1D,EAAI+Z,sBAAuB,KAChE/Z,EAAI+Z,sBAAwBlvE,KAAKuU,IAAI4gD,EAAI+Z,sBAAuB,GAChE/Z,EAAIiZ,MAAQjZ,EAAI+Z,sBACZ/Z,EAAI+Z,sBAAwB,MAC9B/Z,EAAIwZ,mBAAoB,GAEtB+wB,EAAevtH,GAAGmsH,UAAY,IAChCnpC,EAAI8X,cAAoC,EAApB9X,EAAI8X,eAEtByyB,EAAevtH,GAAG6sH,QAAU,IAC9B7p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AAOe,OAGtB,SAASm5C,KACP,IAAItH,EACAzrC,EACAvlF,EACJ7L,KAAKwxF,WAAa,SAASsrC,EAAOrrC,EAAK2yC,GACrCvH,EAAOC,EACP1rC,EAAKK,EACL5lF,EAAIu4H,GAEN,IAAIC,EAAc,EACdC,EAAa,EACbC,EAAW,EACXC,EAAiB,EACjBC,EAAgBN,GAAOM,cACvBC,EAAeP,GAAOO,aACtBC,EAAgBF,EAAgB,EAAI,EAAI,EAAI,EAAI,EAChDG,EAAiBD,EAAgB,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EACjFE,EAAgB,IAChBC,EAAgB,GAChBC,EAAiB,GACjBC,EAAa,KACbC,EAAU,OACVC,EAAU,OACVC,EAAc,CAChB,EACA,MACA,MACA,IACA,MACA,IACA,IACA,MACA,MACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,MACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,KACA,MACA,MACA,IACA,MACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,MACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEF,SAASC,EAAOC,EAAI7R,GAIlB,GAHA6R,EAAGtzB,gBACHszB,EAAGh+B,KAAOmsB,EACV6R,EAAGxrH,SACCwrH,EAAGxrH,KAAOwrH,EAAGxzB,QAGbwzB,EAAGnjD,IAAMmjD,EAAG74H,OACd64H,EAAGvzB,IAAIuzB,EAAGnjD,KAAOmjD,EAAGh+B,IACpBg+B,EAAGnjD,MACHmjD,EAAGxrH,KAAO,GAERwrH,EAAGnjD,KAAOmjD,EAAG74H,MAAM,CACrB,IAAK,IAAIlL,EAAI,EAAGA,EAAI+jI,EAAG74H,KAAMlL,GAAK,EAChC+jI,EAAGvzB,IAAIxwG,EAAI,GAAK+jI,EAAGvzB,IAAIxwG,GAEzB+jI,EAAGxzB,MAAQ,EACXwzB,EAAGnjD,KAAO,GAGd,SAASojD,EAAcD,EAAIjlI,GACzB,KAAIilI,EAAGnjD,KAAO,GAEd,IAAK,IAAI5gF,EAAI,EAAGA,EAAImjI,IAAiBnjI,EAAG,CACtC,IACIikI,EACAl+B,EAFAz8E,EAAItpB,EAAImjI,EAGRe,EAAO,EAAI5nG,KAAKsyB,MAAMtlC,EAAIy6G,EAAGnjD,KAC7BsjD,EAAOH,EAAGnjD,IAAM,IAClBsjD,EAAOH,EAAGnjD,IAAM,GAClBqjD,EAAMF,EAAGvzB,IAAI0zB,GACbn+B,EAAMg+B,EAAGh+B,IACT,IAAIo+B,EAAa,EAAI,IAAMF,EAAMl+B,EAC7Bo+B,EAAa,MACfA,EAAa,KACfrlI,EAAEkB,GAAK,IAAMmkI,GASjB,SAASC,EAAeziE,EAAKo2B,GAC3B,IAAItQ,EAAsB,IAAlB9lB,EAAIo2B,EAAS,GAOrB,OANAtQ,IAAM,EACNA,GAAuB,IAAlB9lB,EAAIo2B,EAAS,GAClBtQ,IAAM,EACNA,GAAuB,IAAlB9lB,EAAIo2B,EAAS,GAClBtQ,IAAM,EACNA,GAAuB,IAAlB9lB,EAAIo2B,EAAS,GACXtQ,EAET,SAAS48C,EAAc1iE,EAAKo2B,EAAQz1F,GAClCq/D,EAAIo2B,EAAS,GAA0B,IAAdz1F,GAAS,GAClCq/D,EAAIo2B,EAAS,GAA0B,IAAdz1F,GAAS,GAClCq/D,EAAIo2B,EAAS,GAAyB,IAAbz1F,GAAS,EAClCq/D,EAAIo2B,EAAS,GAAoB,IAARz1F,EAE3B,SAASgiI,EAAY3iE,EAAKo2B,EAAQz1F,GAChCq/D,EAAIo2B,EAAS,GAAyB,IAAbz1F,GAAS,EAClCq/D,EAAIo2B,EAAS,GAAoB,IAARz1F,EAE3B,SAASiiI,EAAS5iE,EAAKo2B,GACrB,OAAO,IAAIh4F,OAAO4hE,EAAKo2B,EAAQ4rC,EAAQ1jI,SAAUyjI,GAAYc,OAAOb,IAAY,IAAI5jI,OAAO4hE,EAAKo2B,EAAQ6rC,EAAQ3jI,SAAUyjI,GAAYc,OAAOZ,GAE/I,SAASa,EAAiBh9C,EAAG5nF,EAAGkkI,GAC9B,OAAO,KAAOt8C,GAAK5nF,EAAIkkI,KAAQ,GAAKlkI,IAEtC,SAAS6kI,EAAsBjzC,EAAKrwB,GAClC,IAAIurB,EAAM8E,EAAIE,eACdvwB,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAG,KAC3CA,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAG,GAC3CA,EAAO,GAAKqjE,EACVrjE,EAAO,GACP,EACAqwB,EAAI0B,eAAiB,KAAO,EAAI,GAElC/xB,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGqwB,EAAI59D,SAC/CutC,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAG,GAC3CA,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAIqwB,EAAIsZ,iBAAuB,EAAJ,GACnE3pC,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGurB,EAAIwE,eAC/C/vB,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGurB,EAAIolB,kBAC/C3wC,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAG,GAC3CA,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGqwB,EAAI9iC,WAC/CyS,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGqwB,EAAIhwE,KAAK6lE,WACpDlmB,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGurB,EAAIyE,UAC/ChwB,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGqwB,EAAImZ,WAC/CxpC,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGqwB,EAAIoZ,UAC/CzpC,EAAO,GAAKqjE,EAAiBrjE,EAAO,GAAI,EAAGqwB,EAAIqZ,UAC/C1pC,EAAO,GAAK,IACZ,IACI8wD,EAWAyS,EAZAC,EAA2B,IAAZxjE,EAAO,GAGxB8wD,EADiB,GAAfzgC,EAAI59D,QACI0vG,EAEN9xC,EAAI0B,eAAiB,KACbswC,EAEAD,EAEV/xC,EAAI+B,KAAO3K,GAAQT,UACrB8pC,EAAUzgC,EAAIiZ,OAGdi6B,EADElzC,EAAI6Y,YACE,EAEA,IAAM,GAAKixB,EAAKjI,aAAapB,EAASzgC,EAAI59D,QAAS49D,EAAI0B,gBAE9C,GAAf1B,EAAI59D,SACNutC,EAAO,GAAK,KAAe,GAARwjE,GACnBA,EAA2B,GAAZxjE,EAAO,GACtBA,EAAO,GAAK,KAAOujE,EAAQC,KAE3BxjE,EAAO,GAAK,KAAe,EAARwjE,GACnBA,EAA2B,GAAZxjE,EAAO,GACtBA,EAAO,GAAK,KAAOujE,EAAQC,IAyG/B,SAASC,EAAgBviI,EAAO0qH,GAC9B,IAAIv8G,EAAMu8G,EAAM1qH,EAEhB,OADA0qH,EAAMA,GAAO,EAAI6W,EAAkB,IAANpzH,GACtBu8G,EAOT,SAAS8X,EAAWrzC,EAAKszC,EAAaC,EAAcC,EAAiBjY,GACnE,IAMIh9B,EAEAk1C,EAoBAC,EA5BAx4C,EAAM8E,EAAIE,eACVyzC,EAAe,EACfC,EAAW5zC,EAAIib,cACf44B,EAAa7zC,EAAIkb,gBACjBtC,EAAU,IAAM,GAAK5Y,EAAI8Z,MAAQ9Z,EAAI4Y,QACrC7vC,EAAWjwD,EAAEg4H,0BAEbgD,EAAW,EAEXC,EAAoB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvCpT,EAAU,GAAK3gC,EAAIma,YAAc,IAAM,GAAM,IAAM,IAAMna,EAAIma,YAAc,IAAM,IACjF65B,EAAsB,EACtBC,EAAkB,EAClBC,EAAuB,EACvBC,EAAen0C,EAAIE,eAAeygB,cAClCyzB,EAAa,EACbC,EAAa,EACbC,EAAa,EACbC,EAAO,EACPC,EAAW,EACXC,EAAyC,IAAN,EAApBz0C,EAAI8X,eACnB48B,EAAuC,IAAN,EAApB10C,EAAI8X,eACjB68B,GAAY,EACZC,GAAgB,EAChBC,EAAa70C,EAAIE,eAAeqiB,YAChCuyB,EAAY90C,EAAIE,eAAesiB,cAC/BuyB,EAAU/0C,EAAIgY,QACdptB,EAAQ,EAEZ,OAAQoV,EAAI+B,KACV,KAAKjL,QACH48C,EAAa1zC,EAAI+Z,sBACjB,MACF,KAAKpjB,QACH+8C,EAAa1zC,EAAIiZ,MACjB,MACF,QACEy6B,EAAa1zC,EAAIga,qBAmCrB,OAhCEzb,EADEyB,EAAI+B,IAAIlM,UAAYk+C,EAAkBvlI,OAClCulI,EAAkB/zC,EAAI+B,IAAIlM,WAE1B,EACR49C,EAAY,GAAKK,EAAWv1C,EACxBrD,EAAI4d,iBACF5d,EAAIynB,UAAY,MAClBznB,EAAIynB,UAAY,KACdznB,EAAIynB,WAAa,MACnBznB,EAAIynB,WAAa,KACnBsxB,EAAkB,KAClBA,GAAmB,KACf/4C,EAAIynB,WAAa,EACnBsxB,GAAmB/4C,EAAIynB,WAEvBsxB,GAAmB,IACnBA,IAAoB/4C,EAAIynB,YAGxBznB,EAAIunB,iBACNuxB,EAAsBnpG,KAAKorC,IACzB,EAAIilB,EAAIwnB,WAAa,MAAQ73E,KAAKk/D,IAAI,EAAG,IAAM,MAGhC,GAAf8qC,IACEC,EAAY,IACdF,GAAgB,GACdE,EAAYD,EAAa,IAC3BF,GAAY,IAEhB/pD,EAAQmqD,IAAYN,EAAc,EAAI,IAAM,KAAOC,EAAY,EAAI,IAAM,KAAOC,EAAY,EAAI,IAAM,KAAOC,EAAgB,EAAI,IAAM,GACnIh8B,EAAU,IACZA,EAAU,GACJ5Y,EAAIhwE,MACV,KAAK2tE,KACHy2C,EAAa,EACb,MACF,KAAK52C,OACH42C,EAAa,EACb,MACF,KAAK12C,aACH02C,EAAa,EACb,MACF,KAAK32C,aAED22C,EADEp0C,EAAIqC,SACO,EAEA,EACf,MACF,KAAKzE,QACL,QACEw2C,EAAa,EACb,MAGFE,EADEt0C,EAAIwY,eAAiB,KACV,EACe,MAArBxY,EAAIwY,cACE,EACNxY,EAAIwY,cAAgB,KACd,EAEA,GAEXxY,EAAI8N,cAAgBxW,GAAWf,oBAAsByJ,EAAI8N,cAAgBxW,GAAWhB,wBAA6C,GAApB0J,EAAIma,cAA0C,GAArBna,EAAIoa,cAAsBpa,EAAIyY,WAAazY,EAAI0Y,aAAe1Y,EAAIyY,WAAazY,EAAI0Y,aAAe1Y,EAAIwZ,mBAAqBxZ,EAAIiZ,MAAQ,KAAOjZ,EAAI2a,OAAS3a,EAAIya,SAAsB,GAAXs6B,GAAgB/0C,EAAIwY,eAAiB,QACvV67B,EAAa,GAEfE,EAAOJ,GAAgBC,GAAc,IAAMC,GAAc,IAAMC,GAAc,GAC7EE,EAAWt5C,EAAIgmB,UACf0xB,EAAcW,EAAcC,EAAkBG,EAAc/6B,GAC5D+6B,GAAgB,EAChB,IAAK,IAAI97G,EAAI,EAAGA,EAAI,EAAGA,IACrB07G,EAAaC,EAAkBG,EAAe97G,GAAK,IAAMkxC,EAAS1mD,OAAOwV,GAE3E87G,GAAgB,EAChBJ,EAAaC,EAAkBG,GAAgB,IAAMF,EACrDE,IACAJ,EAAaC,EAAkBG,GAAgB,IAAMhT,EACrDgT,IACAf,EACEW,EACAC,EAAkBG,EAClBK,GAEFL,GAAgB,EAChBd,EAAYU,EAAcC,EAAkBG,EAAcM,GAC1DN,GAAgB,EAChBd,EACEU,EACAC,EAAkBG,EAClBO,GAEFP,GAAgB,EAChBJ,EAAaC,EAAkBG,GAAgB,IAAM/oD,EACrD+oD,IAEEJ,EAAaC,EAAkBG,GAD7BD,GAAc,IAC+B,IAEA,IAAMA,EACvDC,IACAJ,EAAaC,EAAkBG,GAAgB,IAAMC,GAAY,EACjEL,EAAaC,EAAkBG,EAAe,GAAK,KAAOC,GAAY,IAAMC,GAAc,GAC1FN,EAAaC,EAAkBG,EAAe,GAAK,IAAME,EACzDF,GAAgB,EAChBJ,EAAaC,EAAkBG,GAAgB,IAAMY,EACrDZ,IACAJ,EAAaC,EAAkBG,KAAkB,EACjDd,EAAYU,EAAcC,EAAkBG,EAAc3zC,EAAI4Z,QAC9D+5B,GAAgB,EAChBf,EAAcW,EAAcC,EAAkBG,EAAcL,GAC5DK,GAAgB,EAChBd,EAAYU,EAAcC,EAAkBG,EAAca,GAC1Db,GAAgB,EAChB,IAAK,IAAIplI,EAAI,EAAGA,EAAIolI,EAAcplI,IAChCgtH,EAAM6X,EAAgBG,EAAaC,EAAkBjlI,GAAIgtH,GAI3D,OAFAsX,EAAYU,EAAcC,EAAkBG,EAAcpY,GAC1DoY,GAAgB,EACTA,EAET,SAASqB,EAAUC,GACjBA,EAASC,KAAK,GACd,IAEIC,EAFAC,EAAclE,GAAW,IAQ7B,OAPA+D,EAASI,UAAUD,GAKjBD,EAHG,IAAI7mI,OAAO8mI,EAAa,cAAct0H,WAAW,OAGrC,IAFmB,IAAjBs0H,EAAY,KAAa,IAAuB,IAAjBA,EAAY,KAAa,IAAuB,IAAjBA,EAAY,KAAa,EAAqB,IAAjBA,EAAY,IAAYA,EAAY5mI,OAI3I2mI,EA3WTloI,KAAKq2F,YAAc,SAAStD,GAC1B,IAAI9E,EAAM8E,EAAIE,eACVopC,EAAOgM,OAAOzoB,cAAc7sB,EAAI59D,SAAS84D,EAAIwE,eACjDyxC,GAAmC,MAA1Bj2C,EAAIonB,eAAevD,KAC5BszB,EAAOn3C,EAAIonB,eAAgBgnB,IA8E7Br8H,KAAKsoI,UAAY,SAASrlE,GACxB,IAAIslE,EAAW,IAAIC,WACfnvC,EAAS,EACbkvC,EAAS5qD,MAAQ,EACjB,IAAI8qD,EAAMxlE,EAAIo2B,EAAS,IAAM,EAAI,EAC7BqvC,EAAWzlE,EAAIo2B,EAAS,IAAM,EAAI,EAClCsvC,EAAQ1lE,EAAIo2B,EAAS,IAAM,EAAI,EAC/BuvC,EAAW3lE,EAAIo2B,EAAS,IAAM,EAAI,GAiBtC,GAhBAuvC,EAAWP,OAAOzoB,cAAc6oB,GAAKG,GACjC3lE,EAAIo2B,EAAS,IAAM,GAAK,GAC1BkvC,EAASM,SAAWR,OAAOxoB,iBAAiB,GAAG6oB,GAE/CH,EAASM,SAAWR,OAAOxoB,iBAAiB4oB,GAAKC,GAG/CrvC,GAFO,GAAPovC,EACW,GAATE,EACQ,GAEA,GAEC,GAATA,EACQ,GAEA,IAET9C,EAAS5iE,EAAKo2B,GACjB,OAAO,KACTA,GAAU,EACVkvC,EAASE,IAAMA,EACf,IAAIK,EAAaP,EAAS5qD,MAAQ+nD,EAAeziE,EAAKo2B,GAUtD,GATAA,GAAU,EACwB,IAA7ByvC,EAAazE,KAChBkE,EAASQ,OAASrD,EAAeziE,EAAKo2B,GACtCA,GAAU,GAEqB,IAA5ByvC,EAAaxE,KAChBiE,EAAS3lE,MAAQ8iE,EAAeziE,EAAKo2B,GACrCA,GAAU,GAEmB,IAA1ByvC,EAAavE,GAAgB,CAChC,GAAoB,MAAhBgE,EAASS,IACX,IAAK,IAAI1nI,EAAI,EAAGA,EAAImjI,EAAenjI,IACjCinI,EAASS,IAAI1nI,GAAK2hE,EAAIo2B,EAAS/3F,GAGnC+3F,GAAUorC,EAEZ8D,EAASU,UAAY,EACgB,IAAhCH,EAAatE,KAChB+D,EAASU,SAAWvD,EAAeziE,EAAKo2B,GACxCA,GAAU,GAEZkvC,EAASW,WAAyB,MAAXT,EAAM,GAAYG,EAAWL,EAASM,SAC7DxvC,GAAU,GACV,IAAIstC,EAAW1jE,EAAIo2B,EAAS,IAAM,EAClCstC,GAAY1jE,EAAIo2B,EAAS,IAAM,EAC/B,IAAIutC,GAAgC,GAAlB3jE,EAAIo2B,EAAS,KAAY,EAQ3C,OAPAutC,GAAgC,IAAlB3jE,EAAIo2B,EAAS,IACvBstC,EAAW,GAAKA,EAAW,OAC7BA,GAAY,IACVC,EAAa,GAAKA,EAAa,OACjCA,GAAc,GAChB2B,EAAS5B,SAAWA,EACpB4B,EAAS3B,WAAaA,EACf2B,GAETvoI,KAAK41H,WAAa,SAAS7iC,GACzB,IACIo2C,EADAl7C,EAAM8E,EAAIE,eAGZk2C,EADiB,GAAfp2C,EAAI59D,QACQ0vG,EAEV9xC,EAAI0B,eAAiB,KACTswC,EAEAD,EAEd/xC,EAAI+B,KAAO3K,GAAQT,UACrBy/C,EAAcp2C,EAAIiZ,OACpB,IAAIo9B,EAAqC,MAAnBr2C,EAAI59D,QAAU,GAAYg0G,EAAcp2C,EAAI0B,eAC9D40C,EAAap7C,EAAI0mB,aAAeiwB,EAEpC,GADA32C,EAAIonB,eAAepD,eAAiBm3B,EAChCA,EAAiBC,GAAcD,EAAiB1E,EAClD3xC,EAAIqD,cAAe,MADrB,CAIAnI,EAAIonB,eAAetD,cAAgB,EACnC9jB,EAAIonB,eAAerD,cAAgB,EACnC/jB,EAAIonB,eAAehO,IAAM,EACzBpZ,EAAIonB,eAAex7F,KAAO,EAC1Bo0E,EAAIonB,eAAexD,KAAO,EAC1B5jB,EAAIonB,eAAenzB,IAAM,EACK,MAA1B+L,EAAIonB,eAAevD,MACrB7jB,EAAIonB,eAAevD,IAAM,IAAIvM,IAAI,KACjCtX,EAAIonB,eAAe7oG,KAAO,KAE5B,IAAIk2D,EAASuhE,GAAWS,GACxBsB,EAAsBjzC,EAAKrwB,GAE3B,IADA,IAAIvhE,EAAI8sF,EAAIonB,eAAepD,eAClB3wG,EAAI,EAAGA,EAAIH,IAAKG,EACvB8vF,EAAGy/B,eAAe99B,EAAiB,IAAZrwB,EAAOphE,GAAU,KAQ5CtB,KAAKkxH,eAAiB,SAAS5C,EAAK5rD,EAAQouD,EAAWC,GACrD,IAAK,IAAIzvH,EAAI,EAAGA,EAAIyvH,IAASzvH,EAC3BgtH,EAAI,GAAK6X,EAAgBzjE,EAAOouD,EAAYxvH,GAAIgtH,EAAI,KA8KxDtuH,KAAKspI,gBAAkB,SAASv2C,EAAKrwB,GACnC,IAAIurB,EAAM8E,EAAIE,eACd,IAAKF,EAAIqD,aACP,OAAO,EAET,GAAInI,EAAI0kB,UAAY42B,KAAKvV,QACvB,OAAO,EAET,GAAI/lC,EAAIonB,eAAenzB,KAAO,EAC5B,OAAO,EAET,GAAIxf,EAAOnhE,OAAS0sF,EAAIonB,eAAepD,eACrC,OAAOhkB,EAAIonB,eAAepD,eAE5B1nB,GAAOtgB,KAAKvH,EAAQ,EAAGurB,EAAIonB,eAAepD,eAAgB,GAC1D+zB,EAAsBjzC,EAAKrwB,GAC3B,IAAIsmE,EAAM/E,GAAWQ,GACrB,GAAI1xC,EAAI6Y,YACN,IAAK,IAAItqG,EAAI,EAAGA,EAAImjI,IAAiBnjI,EACnC0nI,EAAI1nI,GAAK,IAAM,IAAMA,EAAI,SAE3BgkI,EAAcr3C,EAAIonB,eAAgB2zB,GAEpC,IAAIQ,EAAcv7C,EAAI0mB,aAClB5hB,EAAIsZ,mBACNm9B,GAAe,GACbz2C,EAAI+B,KAAO3K,GAAQT,SACrBhnB,EAAO8mE,KAAiB,IAAMtE,EAAQ9vH,OAAO,GAC7CstD,EAAO8mE,KAAiB,IAAMtE,EAAQ9vH,OAAO,GAC7CstD,EAAO8mE,KAAiB,IAAMtE,EAAQ9vH,OAAO,GAC7CstD,EAAO8mE,KAAiB,IAAMtE,EAAQ9vH,OAAO,KAE7CstD,EAAO8mE,KAAiB,IAAMvE,EAAQ7vH,OAAO,GAC7CstD,EAAO8mE,KAAiB,IAAMvE,EAAQ7vH,OAAO,GAC7CstD,EAAO8mE,KAAiB,IAAMvE,EAAQ7vH,OAAO,GAC7CstD,EAAO8mE,KAAiB,IAAMvE,EAAQ7vH,OAAO,IAE/CuwH,EACEjjE,EACA8mE,EACAnF,EAAcC,EAAaC,EAAWC,GAExCgF,GAAe,EACf7D,EAAcjjE,EAAQ8mE,EAAav7C,EAAIonB,eAAetD,eACtDy3B,GAAe,EACf,IAAIC,EAAax7C,EAAIonB,eAAerD,cAAgB/jB,EAAIonB,eAAepD,eACvE0zB,EAAcjjE,EAAQ8mE,EAAa,EAAIC,GACvCD,GAAe,EACft/C,GAAOwF,UAAUs5C,EAAK,EAAGtmE,EAAQ8mE,EAAaR,EAAIznI,QAClDioI,GAAeR,EAAIznI,OACfwxF,EAAIsZ,kBACNjb,EAAGq9B,gBAAgBxgC,EAAKvrB,GAE1B,IAAI4rD,EAAM,EACV,IAAShtH,EAAI,EAAGA,EAAIkoI,EAAaloI,IAC/BgtH,EAAM6X,EAAgBzjE,EAAOphE,GAAIgtH,GAEnC,OADAkb,GAAepD,EAAWrzC,EAAK02C,EAAY/mE,EAAQ8mE,EAAalb,GACzDrgC,EAAIonB,eAAepD,gBAE5BjyG,KAAK0pI,UAAY,SAAS32C,EAAK42C,GAC7B,IAAI17C,EAAM8E,EAAIE,eACd,GAAIhF,EAAIonB,eAAenzB,KAAO,EAC5B,OAAQ,EAEV,GADAynD,EAAO1B,KAAK0B,EAAOpoI,UACI,GAAnBooI,EAAOpoI,SACT,OAAQ,EACV,IAAI2mI,EAAeH,EAAU4B,GAC7BA,EAAO1B,KAAKC,GACZ,IAAIxlE,EAASuhE,GAAWS,GACpB9hE,EAAQ0mE,gBAAgBv2C,EAAKrwB,GACjC,OAAIE,EAAQF,EAAOnhE,QACT,GAENqhE,EAAQ,GAGZ+mE,EAAOC,MAAMlnE,EAAQ,EAAGE,GAFf,IAxvBbuhE,GAAOM,cAAgB,IACvBN,GAAOO,aAAe,KA6vBtB,IAAIj6C,GAAWR,GAAOQ,SAClBO,GAASf,GAAOe,OACpB,SAAS6+C,KACP7pI,KAAKwxF,WAAa,SAASs4C,EAAQC,KAGrC,SAASC,KACPhqI,KAAKwxF,WAAa,SAASy4C,EAAMC,EAAMC,KAGzC,SAASC,MAET,SAASC,KACPrqI,KAAKwxF,WAAa,SAAS84C,EAAO5c,KAGpC,SAAS6c,GAAaC,EAAU7V,EAAY0H,GAClB,GAApB57G,UAAUlf,SACZ8V,QAAQC,MAAM,8DACdkzH,EAAW,EACX7V,EAAa,MACb0H,EAAO,KAET,IAAIQ,EAAO,IAAIrL,GACXiZ,EAAO,IAAIZ,GACXxc,EAAK,IAAI7W,GACTplB,EAAK,IAAIwyB,GACTrrG,EAAK,IAAIiiH,GACTjpC,EAAQ,IAAI6uB,GACZ8S,EAAK,IAAI+K,GACT3sC,EAAM,IAAI6yC,GACV5W,EAAM,IAAI8V,GACVlQ,EAAM,IAAIkX,GACVruB,EAAK,IAAI4mB,GACTviB,EAAM,IAAIsG,GACV+jB,EAAQ,IAAIV,GACZ1c,EAAM,IAAI8c,GACdvN,EAAKrrC,WAAW67B,EAAIj8B,EAAI74E,EAAIg5E,EAAO2hC,EAAI5hC,EAAKi8B,EAAK4F,EAAK7F,GACtDl8B,EAAGI,WAAW67B,EAAIC,EAAKC,EAAKj8B,GAC5B6hC,EAAI3hC,WAAWJ,EAAIm8B,GACnBh1G,EAAGi5E,WAAWqrC,GACd3J,EAAG1hC,WAAWJ,EAAI4qB,EAAIzqB,EAAO8uB,GAC7B9uB,EAAMC,WAAW6uB,EAAKrE,EAAI6gB,EAAKlJ,IAAItiC,KACnC2qB,EAAGxqB,WAAWJ,GACdivB,EAAI7uB,WAAWD,GACfD,EAAIE,WAAWqrC,EAAMzrC,EAAIm8B,GACzBkd,EAAKj5C,WAAWk5C,EAAOpd,GACvBod,EAAMl5C,WAAW+7B,EAAK4F,EAAK56G,GAC3B,IAAIw6E,EAAM8pC,EAAKvE,YACfvlC,EAAIuY,aAAek/B,EACnBz3C,EAAIwY,cAAgBopB,EACpB5hC,EAAIiZ,MAAQqwB,EACZtpC,EAAIhwE,KAAOstE,GAASE,OACpBwC,EAAI4Y,QAAU,EACd5Y,EAAIqD,cAAe,EACnBrD,EAAIwZ,mBAAoB,EACxBxZ,EAAIgZ,wBAAyB,EAC7B8wB,EAAKjE,iBAAiB7lC,GACtB,IAAI43C,EAAa,KACb/2C,EAAc,EAAI,KAAO+2C,EAAa,KACtCj3C,EAASjJ,GAASmJ,GACtB5zF,KAAK4qI,aAAe,SAAS92F,EAAMmB,GACjB,GAAZu1F,IACFv1F,EAAQnB,GAEVk3C,GAAOl3C,EAAKvyC,QAAU0zC,EAAM1zC,QACxBuyC,EAAKvyC,OAASopI,IAChBA,EAAa72F,EAAKvyC,OAClBqyF,EAAc,EAAI,KAAO+2C,EAAa,KACtCj3C,EAASjJ,GAASmJ,IAEpB,IAAIi3C,EAAMhO,EAAKxC,mBACbtnC,EACAj/C,EACAmB,EACAnB,EAAKvyC,OACLmyF,EACA,EACAE,GAEF,OAAO,IAAI7M,UAAU2M,EAAOo3C,SAAS,EAAGD,KAE1C7qI,KAAKghB,MAAQ,WACX,IAAI6pH,EAAMhO,EAAKnD,kBAAkB3mC,EAAKW,EAAQ,EAAGE,GACjD,OAAO,IAAI7M,UAAU2M,EAAOo3C,SAAS,EAAGD,KAG5C,SAASE,GAAYC,GACnB,OAAOA,EAAOxpI,WAAW,IAAM,GAAKwpI,EAAOxpI,WAAW,IAAM,GAAKwpI,EAAOxpI,WAAW,IAAM,EAAIwpI,EAAOxpI,WAAW,GAEjHupI,GAAY,QACZA,GAAY,QACZA,GAAY,QACZA,GAAY,QACZ,MAAME,GACJ,YAAY/zH,GACVlX,KAAKkrI,QAAUh0H,EAAOg0H,QACtBlrI,KAAKmrI,WAAaj0H,EAAOi0H,WACzBnrI,KAAKorI,WAAa,GAClBprI,KAAKqrI,QAAU,IAAId,GAAa,EAAGvqI,KAAKmrI,WAAYnrI,KAAKkrI,SAE3D,OAAOI,GACL,MAAMX,EAAa,KACbY,EAAUvrI,KAAKwrI,eAAeF,GACpC,IAAIlkB,EAAYmkB,EAAQhqI,OACxB,IAAK,IAAID,EAAI,EAAG8lH,GAAa,EAAG9lH,GAAKqpI,EAAY,CAC/C,MAAM72F,EAAOy3F,EAAQT,SAASxpI,EAAGA,EAAIqpI,GAC/BjoE,EAAS1iE,KAAKqrI,QAAQT,aAAa92F,GACzC9zC,KAAKorI,WAAWlmI,KAAK,IAAI6hF,UAAUrkB,IACnC0kD,GAAaujB,GAGjB,SACE3qI,KAAKorI,WAAWlmI,KAAKlF,KAAKqrI,QAAQrqH,SAClC,MAAMyqH,EAAO,IAAIC,KAAK1rI,KAAKorI,WAAY,CAAEvjI,KAAM,cAE/C,OADA7H,KAAKorI,WAAa,GACX,CACL1yH,GAAIqxB,KAAKC,MACTyhG,OACArhF,IAAKhI,IAAIupF,gBAAgBF,IAG7B,iBAAiBjlE,EAAOywC,GACtB,IAAK,IAAI31G,EAAI,EAAGA,EAAIklE,EAAMjlE,OAAQD,IAAK,CACrC,MAAMigB,EAAIqc,KAAKuU,KAAK,EAAGvU,KAAKC,IAAI,EAAG2oC,EAAMllE,KACzC21G,EAAO31G,GAAKigB,EAAI,EAAQ,MAAJA,EAAgB,MAAJA,GAGpC,eAAe+pH,GACb,MAAMlqI,EAAO,IAAIimF,aAAaikD,GACxBhjD,EAAM,IAAIrB,WAAWqkD,EAAY/pI,QAEvC,OADAvB,KAAK4rI,iBAAiBxqI,EAAMknF,GACrBA,GAGX,MAAMujD,GACJ,YAAY/vH,EAAW,IACrB9b,KAAK8rI,gBAAkBhwH,EAASgwH,gBAChC9rI,KAAK+rI,eAAiBjwH,EAASiwH,eAC/B/rI,KAAKgsI,eAAiBlwH,EAASkwH,eAC/BhsI,KAAKisI,UAAYnwH,EAASmwH,UAC1BjsI,KAAKksI,eAAiB,CACpBhB,QAASpvH,EAASovH,QAClBC,WAAYrvH,EAASqvH,YAEvBnrI,KAAKmsI,WAAa,KAClBnsI,KAAKosI,QAAU,GACfpsI,KAAKqsI,SAAU,EACfrsI,KAAKssI,aAAc,EACnBtsI,KAAK8uC,SAAW,EAChB9uC,KAAKusI,OAAS,EACdvsI,KAAKwsI,UAAY,EAEnB,QACE,MAAMC,EAAc,CAClBC,OAAO,EACPC,MAAO,CACLC,aAAc,EACdC,kBAAkB,IAGtB7sI,KAAK8rI,iBAAmB9rI,KAAK8rI,gBAAgB,mBAC7CzhG,UAAUyiG,aAAaC,aAAaN,GAAan4H,KAAKtU,KAAKgtI,aAAax0H,KAAKxY,OAAOuU,MAAMvU,KAAKitI,UAAUz0H,KAAKxY,OAC9GA,KAAKqsI,SAAU,EACfrsI,KAAKssI,aAAc,EACdtsI,KAAKktI,cACRltI,KAAKktI,YAAc,IAAIjC,GAAWjrI,KAAKksI,iBAG3C,OACElsI,KAAK2pI,OAAOwD,YAAYxkI,QAASykI,GAAWA,EAAO7nI,QACnDvF,KAAKwmE,MAAMrT,aACXnzD,KAAKqtI,UAAUl6E,aACfnzD,KAAK20B,QAAQ6iB,QACb,IAAI81F,EAAS,KACbA,EAASttI,KAAKktI,YAAYK,SAC1BD,EAAOx+F,SAAW9uC,KAAK8uC,SACvB9uC,KAAKosI,QAAQlnI,KAAKooI,GAClBttI,KAAKwsI,UAAY,EACjBxsI,KAAK8uC,SAAW,EAChB9uC,KAAKqsI,SAAU,EACfrsI,KAAKssI,aAAc,EACnBtsI,KAAKgsI,gBAAkBhsI,KAAKgsI,eAAesB,GAE7C,QACEttI,KAAK2pI,OAAOwD,YAAYxkI,QAASykI,GAAWA,EAAO7nI,QACnDvF,KAAKwmE,MAAMrT,aACXnzD,KAAKqtI,UAAUl6E,aACfnzD,KAAKwsI,UAAYxsI,KAAK8uC,SACtB9uC,KAAKqsI,SAAU,EACfrsI,KAAK+rI,gBAAkB/rI,KAAK+rI,eAAe,mBAE7C,aAAapC,GACX3pI,KAAK20B,QAAU,IAAKze,OAAOs3H,cAAgBt3H,OAAOu3H,oBAClDztI,KAAK8uC,SAAW9uC,KAAKwsI,UACrBxsI,KAAKwmE,MAAQxmE,KAAK20B,QAAQ+4G,wBAAwB/D,GAClD3pI,KAAKqtI,UAAYrtI,KAAK20B,QAAQg5G,sBAAsB3tI,KAAKmsI,WAAY,EAAG,GACxEnsI,KAAK2pI,OAASA,EACd3pI,KAAKqtI,UAAUO,eAAkBj6E,IAC/B,MAAMk6E,EAASl6E,EAAGm6E,YAAYC,eAAe,GAC7C,IAAI1mC,EAAM,EACNrnG,KAAKktI,aACPltI,KAAKktI,YAAYc,OAAOH,GAE1B,IAAK,IAAIvsI,EAAI,EAAGA,EAAIusI,EAAOtsI,SAAUD,EACnC+lG,GAAOwmC,EAAOvsI,GAAKusI,EAAOvsI,GAE5BtB,KAAK8uC,SAAWl5B,WAAW5V,KAAKwsI,WAAa52H,WAAW5V,KAAK20B,QAAQ+uD,YAAYuqD,QAAQ,IACzFjuI,KAAKusI,OAAS3uG,KAAK6pE,KAAKJ,EAAMwmC,EAAOtsI,QAAQ0sI,QAAQ,IAEvDjuI,KAAKwmE,MAAM0nE,QAAQluI,KAAKqtI,WACxBrtI,KAAKqtI,UAAUa,QAAQluI,KAAK20B,QAAQw5G,aAEtC,UAAU72H,GACRtX,KAAKisI,WAAajsI,KAAKisI,UAAU30H,IAGrC,SAAS82H,KACP,IAAI9jG,EAAY+jG,KACZC,EAAgBhkG,EAAU2X,OAAO,EAAG,GACxC,MAAO,sVAAsVtuC,KAC3V22B,IACG,8+CAA8+C32B,KACj/C26H,GAGJ,SAASD,KACP,IAAI/jG,EAAYD,UAAUC,WAAaD,UAAUkkG,QAAUr4H,OAAOs4H,OAAS,KAC3E,IAAKlkG,EACH,MAAM,IAAIjrC,MAAM,8CAClB,OAAOirC,EAET,MAAMmkG,GAAc,CAClBv8H,KAAM,aACN8c,WAAY,CACV6pB,WACAonC,wBACAsB,aACA8D,oBACAU,gBACAK,cACAQ,sBAEF99D,WAAY,CACVwmC,aAAcb,IAEhBr8C,MAAO,CACLu8C,KAAM,CAAE9mD,KAAM3F,OAAQo0C,UAAU,GAChCoT,OAAQ,CAAE7hD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GAC5Co4F,YAAa,CAAE7mI,KAAMxG,OAAQ4iB,QAAS,MACtCojC,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,GACvCyC,aAAc,CAAElxC,KAAM3F,OAAQo0C,UAAU,GACxCq4F,aAAc,CAAE9mI,KAAMob,QAASqzB,UAAU,GACzCs4F,UAAW,CAAE/mI,KAAMob,QAASqzB,UAAU,GACtCu4F,UAAW,CAAEhnI,KAAMob,QAASqzB,UAAU,GACtCw4F,WAAY,CAAEjnI,KAAMob,QAASqzB,UAAU,GACvCy4F,WAAY,CAAElnI,KAAMob,QAASqzB,UAAU,GACvC04F,cAAe,CAAEnnI,KAAMxG,OAAQi1C,UAAU,GACzC24F,sBAAuB,CAAEpnI,KAAMob,QAASqzB,UAAU,GAClD44F,kBAAmB,CAAErnI,KAAMob,QAASqzB,UAAU,GAC9C64F,gBAAiB,CAAEtnI,KAAMob,QAASqzB,UAAU,GAC5C84F,wBAAyB,CAAEvnI,KAAMob,QAASqzB,UAAU,GACpD+4F,cAAe,CAAExnI,KAAM3E,MAAO+gB,QAAS,MACvCqrH,aAAc,CAAEznI,KAAMuD,OAAQkrC,UAAU,GACxCi5F,gBAAiB,CAAE1nI,KAAMuD,OAAQkrC,UAAU,GAC3Ck5F,iBAAkB,CAAE3nI,KAAM3F,OAAQ+hB,QAAS,MAC3CwrH,gBAAiB,CAAE5nI,KAAM3F,OAAQ+hB,QAAS,MAC1CyrH,aAAc,CAAE7nI,KAAM3E,MAAO+gB,QAAS,OAExC3I,MAAO,CACL,eACA,eACA,2BACA,0BACA,kBAEF,OACE,MAAO,CACL2uC,QAAS,GACT0lF,cAAe,GACftrD,aAAc,KACdurD,oBAAqB,KACrB5/E,MAAO,GACP6/E,YAAY,EACZC,mBAAoB,KACpBC,gBAAiB,KACjBC,wBAAyB,KACzBt1F,OAAQ,MACRu1F,qBAAsB,KACtBC,uBAAwB,KACxBC,4BAA6B,KAC7BC,SAAU,IAAIrsE,GACdya,aAAa,EACb6xD,kBAAkB,EAClBpqD,eAAgB,GAChBV,iBAAkB,GAClB+qD,iBAAkB,GAClBhqD,sBAAuB,GACvBiqD,SAAUvwI,KAAKwwI,eACflE,aAAa,IAGjBxjI,SAAU,CACR,iBACE,OAAQ9I,KAAKgwD,MAAMzuD,SAAWvB,KAAKiqD,QAAQj4C,QAE7C,gBACE,OAAOhS,KAAKgwD,MAAM3xC,KAAMmmB,GAAMA,EAAEg8C,UAElC,eACE,OAAO,IAAIz2C,KAA8B,IAAzB/pC,KAAKuwI,SAASzhG,UAAgBw0C,cAAcrhC,OAAO,GAAI,IAEzE,eACE,QAASjiD,KAAKimF,eAAe1kF,UAAYvB,KAAKulF,iBAAiBhkF,UAAYvB,KAAKsmF,sBAAsB/kF,UAAYvB,KAAKgwD,MAAMzuD,UAAYvB,KAAKqkF,eAGlJ1jE,MAAO,CACL,SACE3gB,KAAKywI,cAAa,GAAM,GACpBzwI,KAAK0uI,cACP1uI,KAAKiqD,QAAUjqD,KAAK0uI,YACpBv9F,WAAW,IAAMnxC,KAAK0wI,mBAG1B,QAAQpuI,GACNtC,KAAK2wI,iBAAiB/sI,MAAQtB,GAEhCosI,YAAa,CACX5tH,WAAW,EACX,QAAQxe,GACFA,IACFtC,KAAKiqD,QAAUjqD,KAAK0uI,eAG1B,cAAcpsI,GACZtC,KAAKusB,MAAM,2BAA4BjqB,EAAIwpD,MAE7C,iBAAiBxpD,GACXA,GACFtC,KAAK4wI,aAAatuI,IAGtB,gBAAgBA,GACVA,GACFtC,KAAK6wI,YAAYvuI,IAGrB,aAAaA,GACPA,GACFtC,KAAK8wI,aAAaxuI,KAIxB,UACE,MAAMkwD,EAAW47E,KACjB,IAAI2C,GAAa,EACjB/wI,KAAK2wI,iBAAiBhmG,iBAAiB,QAAUnG,IACjC,UAAVA,EAAEzhC,KAAoByhC,EAAEmQ,UAAa30C,KAAK6vI,aACxCr9E,GACFxyD,KAAKiqD,QAAUjqD,KAAKiqD,QAAU,KAC9B9Y,WAAW,IAAMnxC,KAAK0wI,mBACbK,GAAe/wI,KAAKimF,eAAe1kF,QAAWvB,KAAKulF,iBAAiBhkF,QAAWvB,KAAKsmF,sBAAsB/kF,QACnHvB,KAAKgxI,eAGTD,GAAcvsG,EAAEysG,YAChB9/F,WAAW,KACTnxC,KAAKkxI,qBACJ,MAELlxI,KAAK2wI,iBAAiBhmG,iBAAiB,QAAS,KAC1C6nB,IACFxyD,KAAKqwI,kBAAmB,GAC1BrwI,KAAKkxI,sBAEPlxI,KAAK2wI,iBAAiBhmG,iBAAiB,OAAQ,KAC7CwG,WAAW,KACTnxC,KAAKmxI,mBACJ,KACC3+E,GACFrhB,WAAW,IAAMnxC,KAAKqwI,kBAAmB,MAG/C,gBACErwI,KAAKoxI,gBAEPzjH,QAAS,CACP,iBACE,OAAO3tB,KAAKmsB,MAAMklH,cAEpB,cAAcC,GACRlD,MAAkBkD,GAEjBtxI,KAAK2wI,mBAEV3wI,KAAK2wI,iBAAiBj4D,QAClB14E,KAAK4vI,qBACPz+F,WAAW,KACTnxC,KAAK2wI,iBAAiBY,kBACpBvxI,KAAK4vI,oBACL5vI,KAAK4vI,qBAEP5vI,KAAK4vI,oBAAsB,SAIjC,gBACE,IAAI9/E,EAAIC,EAAInzC,IACyB,OAA/BkzC,EAAK9vD,KAAK2wI,uBAA4B,EAAS7gF,EAAGlsD,QAAyE,MAA9B,OAA/BmsD,EAAK/vD,KAAK2wI,uBAA4B,EAAS5gF,EAAGnsD,UACpH5D,KAAKiqD,QAA0C,OAA/BrtC,EAAK5c,KAAK2wI,uBAA4B,EAAS/zH,EAAGhZ,OAEpE5D,KAAKqwI,kBAAmB,EACxBrwI,KAAKwxI,iBACLxxI,KAAKusB,MAAM,iBAAkBvsB,KAAKiqD,UAEpC,iBACE,MAAMj2C,EAAKhU,KAAK2wI,iBAChB,IAAK38H,EACH,OACF,MAAMsgF,EAAUp+E,OAAOw7B,iBAAiB19B,EAAI,MAAMslE,iBAAiB,eAAexkE,QAAQ,KAAM,IAChGd,EAAGzB,MAAMmmC,OAAS,EAClB1kC,EAAGzB,MAAMmmC,OAAS1kC,EAAGy9H,aAAyB,EAAVn9C,EAAc,MAEpD,iBACMt0F,KAAKimF,eAAe1kF,OACtBvB,KAAKimF,eAAiB,GACfjmF,KAAKulF,iBAAiBhkF,OAC7BvB,KAAKulF,iBAAmB,GACjBvlF,KAAKsmF,sBAAsB/kF,OAClCvB,KAAKsmF,sBAAwB,GAE7BtmF,KAAKywI,gBAET,aAAaiB,GACX,IAAI5hF,EACJ,MAAM3G,EAA2C,OAAlC2G,EAAK4hF,EAAWC,oBAAyB,EAAS7hF,EAAG3G,MAChEA,GACFjmD,MAAMsnB,KAAK2+B,GAAOxgD,QAAS2I,IACzB,GAAIA,EAAKzJ,KAAKqR,SAAS,SAAU,CAC/B,MAAMuyH,EAAOn6H,EAAKsgI,YAClB5xI,KAAK8wI,aAAa,CAACrF,QAK3B,qBAAqBoG,GACf7xI,KAAKimF,eAAe1kF,OACtBvB,KAAKiwI,qBAAuB4B,EACnB7xI,KAAKulF,iBAAiBhkF,OAC/BvB,KAAKkwI,uBAAyB2B,EACrB7xI,KAAKsmF,sBAAsB/kF,SACpCvB,KAAKmwI,4BAA8B0B,IAGvC,aACM7xI,KAAKimF,eAAe1kF,OACtBvB,KAAK+vI,iBAAkB,EACd/vI,KAAKulF,iBAAiBhkF,OAC/BvB,KAAK8vI,oBAAqB,EACjB9vI,KAAKsmF,sBAAsB/kF,SACpCvB,KAAKgwI,yBAA0B,IAGnC,YAAYp4F,GAEV,GADA53C,KAAK+vI,iBAAkB,GAClBn4F,EACH,OACF,MAAM,SAAEk6F,EAAQ,YAAEC,GAAgB/xI,KAAKgyI,gBAAgB,KACvDhyI,KAAKiqD,QAAUjqD,KAAKiqD,QAAQhI,OAAO,EAAG6vF,EAAW,GAAKl6F,EAAQ53C,KAAKiqD,QAAQhI,OAAO8vF,EAAa/xI,KAAKiqD,QAAQ1oD,OAAS,GACrHvB,KAAK4vI,oBAAsBkC,EAC3B9xI,KAAKiyI,iBAEP,mBAAmBptG,GAEjB,GADA7kC,KAAKgwI,yBAA0B,GAC1BnrG,EACH,OACF,MAAM,SAAEitG,EAAQ,YAAEC,GAAgB/xI,KAAKgyI,gBAAgB,KACjDz8F,EAAQv1C,KAAKiqD,QAAQhI,OAAO8vF,EAAaA,GAAaxwI,OAAS,GAAK,IAC1EvB,KAAKiqD,QAAUjqD,KAAKiqD,QAAQhI,OAAO,EAAG6vF,EAAW,GAAKjtG,EAASohC,KAAO1wB,EAAQv1C,KAAKiqD,QAAQhI,OAAO8vF,EAAa/xI,KAAKiqD,QAAQ1oD,OAAS,GACrIvB,KAAK4vI,oBAAsBkC,EAAWjtG,EAASohC,KAAK1kE,OAASg0C,EAAMh0C,OAAS,EAC5EvB,KAAKiyI,iBAEP,SAASr6F,GACP53C,KAAKiqD,SAAWrS,EAAM0gB,QACtBt4D,KAAKiyI,eAAc,IAErB,mBACEjyI,KAAKmsB,MAAMsrB,KAAK7zC,MAAQ,GACxB5D,KAAKmsB,MAAMsrB,KAAKy6F,SAElB,mBAAmBliF,GACjBhwD,KAAK6vI,YAAa,EAClB7vI,KAAKiyI,gBACL/uI,MAAMsnB,KAAKwlC,GAAOrnD,QAAQ+wD,MAAOjiB,IAC/B,MAAM06F,EAAU/vF,IAAIupF,gBAAgBl0F,GAC9B26F,EAAY36F,EAAKvlC,KAAKy4C,YAAY,KACxC3qD,KAAKgwD,MAAM9qD,KAAK,CACds7E,SAAS,EACTtuE,KAAMulC,EAAKvlC,KAAK24C,UAAU,EAAGunF,GAC7B5lI,KAAMirC,EAAKjrC,KACX3E,KAAM4vC,EAAK5vC,KACXooD,UAAWxY,EAAKvlC,KAAK24C,UAAUunF,EAAY,GAC3C1xD,SAAUyxD,IAEZ,MAAME,QAAiB/vE,MAAM6vE,GAAS79H,KAAMtK,GAAQA,EAAIyhI,QACxD,IAAI6G,EAAatyI,KAAKgwD,MAAMtJ,KAAM6rF,GAAUA,EAAM7xD,WAAayxD,GAC3DG,IACFA,EAAW7G,KAAO4G,EAClBC,EAAW9xD,SAAU,SACd8xD,EAAW9xD,WAGtBrvC,WAAW,IAAMnxC,KAAK6vI,YAAa,EAAO,MAE5C,WAAW7qI,GACThF,KAAKgwD,MAAM97C,OAAOlP,EAAO,GACzBhF,KAAKiyI,iBAEP,eAAeO,GAEb,GADAxyI,KAAKssI,YAAckG,EACdxyI,KAAKuwI,SAASjE,YAGjB,IACEtsI,KAAKuwI,SAAShrI,OACd,MAAM+nI,EAASttI,KAAKuwI,SAASnE,QAAQ,GACrCpsI,KAAKgwD,MAAM9qD,KAAK,CACdumI,KAAM6B,EAAO7B,KACbv5H,KAAM,SAASlS,KAAK06C,OACpBluC,KAAM8gI,EAAO7B,KAAKj/H,KAClBsiC,SAAUw+F,EAAOx+F,SACjBjnC,KAAMylI,EAAO7B,KAAK5jI,KAClB8kI,OAAO,EACPjsD,SAAUt+B,IAAIupF,gBAAgB2B,EAAO7B,QAEvCzrI,KAAKuwI,SAAWvwI,KAAKwwI,eACrBxwI,KAAKgxI,cACL,MACA7/F,WAAW,IAAMnxC,KAAKoxI,eAAgB,UAjBxCjgG,WAAW,IAAMnxC,KAAKuwI,SAAS7wF,QAAS,MAqB5C,eACE,GAAI1/C,KAAKuwI,SAASjE,YAChB,IACEtsI,KAAKuwI,SAAShrI,OACdvF,KAAKuwI,SAAWvwI,KAAKwwI,eACrB,MACAr/F,WAAW,IAAMnxC,KAAKoxI,eAAgB,OAI5C,wBACEpxI,KAAKusB,MAAM,0BAA2BvsB,KAAKiqD,UAE7C,cACE,IAAI6F,EACJ,IAAI7F,EAAUjqD,KAAKiqD,QAAQj4C,OAC3B,IAAKhS,KAAKgwD,MAAMzuD,SAAW0oD,EACzB,OACF,GAAIjqD,KAAKyyI,cACP,OACFzyI,KAAKswI,iBAAiB3nI,QAASijD,IAC7B3B,EAAUA,EAAQn1C,QAChB,IAAI82C,EAAKI,SACT,YAAYJ,EAAKE,mBAGrB,MAAMkE,EAAQhwD,KAAKgwD,MAAMzuD,OAASvB,KAAKgwD,MAAQ,KAC3ChwD,KAAK2vI,cAAc7jF,KACjB9rD,KAAK2vI,cAAcjoG,UAAYuiB,IAA+C,OAAlC6F,EAAK9vD,KAAK2vI,cAAc3/E,YAAiB,EAASF,EAAGvuD,SAAWvB,KAAKgwD,MAAMzuD,SACzHvB,KAAKusB,MAAM,eAAgB,CACzBgqB,UAAWv2C,KAAK2vI,cAAc7jF,IAC9B4mF,WAAYzoF,EACZ+F,QACA4gF,aAAc5wI,KAAKqkF,aACnBsuD,SAAU3yI,KAAKswI,mBAInBtwI,KAAKusB,MAAM,eAAgB,CACzBmb,QAASuiB,EACT+F,QACA4gF,aAAc5wI,KAAKqkF,aACnBsuD,SAAU3yI,KAAKswI,mBAGnBtwI,KAAKywI,cAAa,IAEpB,YAAYxmF,GACVjqD,KAAKywI,eACLzwI,KAAK2vI,cAAgB,IAAK1lF,GAC1B,IAAI2oF,EAAiB3oF,EAAQviB,QAC7B,MAAMgkB,EAAiBknF,EACjBtnF,EAAW,YACXC,EAAY,aACZC,EAAW,IACZonF,EAAennF,SAAS,IAAI1O,OAAOuO,EAAU,QAChDrpD,IAAKiY,GAAMA,EAAElV,OACfwmD,EAAS7iD,QAAS3D,IAChB,MAAM2mD,EAASD,EAAeb,UAC5B7lD,EAAQsmD,EAAS/pD,OACjBmqD,EAAez3C,QAAQs3C,EAAWvmD,IAE9B4mD,EAAO5rD,KAAK2uD,KAAK/E,MAAMlD,KAAMmF,GAAUA,EAAMC,MAAQH,GAC3DinF,EAAiBA,EAAe99H,QAC9B,GAAGw2C,IAAWK,IAASJ,IACvB,MAAa,MAARK,OAAe,EAASA,EAAKI,WAAa,YAEjDhsD,KAAK6yI,cAAcjnF,GAAM,KAE3B5rD,KAAKiqD,QAAU2oF,EACX3oF,EAAQ+F,QACVhwD,KAAKgwD,MAAQ,IAAI/F,EAAQ+F,QAE3B7e,WAAW,IAAMnxC,KAAKwxI,mBAExB,aAAavnF,GACXjqD,KAAK2vI,cAAgB,GACrB3vI,KAAKqkF,aAAep6B,EACpBjqD,KAAKiyI,iBAEP,oBACEjyI,KAAK8yI,iBAAiB,KACtB9yI,KAAK8yI,iBAAiB,KACtB9yI,KAAK8yI,iBAAiB,MAExB,iBAAiBC,GACf,IAAK/yI,KAAK2wI,iBACR,OACF,GAAgB,MAAZoC,IAAoB/yI,KAAKovI,wBAC3B,OAEF,GAAgB,MAAZ2D,KAAqB/yI,KAAKmvI,kBAAoBnvI,KAAK2uD,KAAK/E,OAC1D,OAEF,GAAgB,MAAZmpF,IAAoB/yI,KAAKqvI,cAC3B,OAEF,MAAM2D,EAAyBhzI,KAAK2wI,iBAAiBsC,eACrD,IAAInB,EAAWkB,EACf,MAAOlB,EAAW,GAAK9xI,KAAKiqD,QAAQ70C,OAAO08H,EAAW,KAAOiB,IAAkD,MAAtC/yI,KAAKiqD,QAAQ70C,OAAO08H,EAAW,IAA0B,MAAZiB,GACpHjB,IAEF,MAAMoB,EAAYlzI,KAAKiqD,QAAQ70C,OAAO08H,EAAW,GAC3CqB,GAAmBD,EAAUlgH,MAAM,kBACzC,GAAIhzB,KAAKiqD,QAAQ70C,OAAO08H,EAAW,KAAOiB,GAAaG,GAA2B,MAAdA,IAAqBC,EAUvFnzI,KAAKmxI,gBAAgB4B,OAVoF,CACzG,MAAMl0E,EAAQ7+D,KAAKiqD,QAAQY,UAAUinF,EAAUkB,GAC/B,MAAZD,EACF/yI,KAAKq8E,aAAaxd,GACG,MAAZk0E,EACT/yI,KAAKozI,mBAAmBv0E,GACH,MAAZk0E,GACT/yI,KAAKqzI,wBAAwBx0E,KAMnC,mBAAmBA,GACjB7+D,KAAKulF,iBAAmBpzB,GACtBnyD,KAAK2uD,KAAK/E,MACV,WACAiV,GACA,GACAx1D,OAAQuiD,GAASA,EAAKE,MAAQ9rD,KAAK4uD,gBAEvC,cAAchD,EAAM0nF,GAAW,GAE7B,GADAtzI,KAAK8vI,oBAAqB,GACrBlkF,EACH,OACF,MAAM,SAAEkmF,EAAQ,YAAEC,GAAgB/xI,KAAKgyI,gBAAgB,KACjDz8F,EAAQv1C,KAAKiqD,QAAQhI,OAAO8vF,EAAaA,GAAaxwI,OAAS,GAAK,IAC1EvB,KAAKiqD,QAAUjqD,KAAKiqD,QAAQhI,OAAO,EAAG6vF,GAAYlmF,EAAKI,SAAWzW,EAAQv1C,KAAKiqD,QAAQhI,OAAO8vF,EAAa/xI,KAAKiqD,QAAQ1oD,OAAS,GACjIvB,KAAKswI,iBAAmB,IAAItwI,KAAKswI,iBAAkB,IAAK1kF,IACnD0nF,IACHtzI,KAAK4vI,oBAAsBkC,EAAWlmF,EAAKI,SAASzqD,OAASg0C,EAAMh0C,OAAS,GAE9EvB,KAAKiyI,iBAEP,wBAAwBpzE,GACtB7+D,KAAKsmF,sBAAwBn0B,GAC3BnyD,KAAKqvI,cACL,MACAxwE,GACA,IAGJ,gBAAgBk0E,GACd,MAAMQ,EAAiBvzI,KAAK2wI,iBAAiBsC,eAC7C,IAAInB,EAAWyB,EACf,MAAOzB,EAAW,GAAK9xI,KAAKiqD,QAAQ70C,OAAO08H,EAAW,KAAOiB,EAC3DjB,IAEF,MAAMC,EAAc/xI,KAAK2wI,iBAAiB6C,aAC1C,MAAO,CAAE1B,WAAUC,gBAErB,mBAAmBlzE,GACjB,IAAKA,EACH,OACF,MAAMxG,QAAer4D,KAAKowI,SAASxxE,sBAAsBC,GACzD7+D,KAAKimF,eAAiB5tB,EAAOp2D,IAAK21C,GAAUA,EAAM0gB,UAEpD,gBAAgBy6E,EAAU,MACR,MAAZA,EACF/yI,KAAKimF,eAAiB,GACD,MAAZ8sD,EACT/yI,KAAKulF,iBAAmB,IACH,MAAZwtD,IAGT/yI,KAAKimF,eAAiB,GACtBjmF,KAAKulF,iBAAmB,IAHxBvlF,KAAKsmF,sBAAwB,KAOjC,aAAagrD,GAAqB,EAAOmC,GAAW,GAC7CA,GACHzzI,KAAKusB,MAAM,iBAAkB,MAE/BvsB,KAAKswI,iBAAmB,GACxBtwI,KAAKmxI,kBACLnxI,KAAK0zI,oBACL1zI,KAAKiqD,QAAU,GACfjqD,KAAK2vI,cAAgB,GACrB3vI,KAAKqkF,aAAe,KACpBrkF,KAAKgwD,MAAQ,GACbhwD,KAAKw+E,aAAc,EACnBx+E,KAAK2zI,8BACD3zI,KAAKkvI,mBAAsBuE,GAC7BtiG,WAAW,IAAMnxC,KAAKiyI,cAAcX,KAGxC,oBACMtxI,KAAK2wI,mBACP3wI,KAAK2wI,iBAAiBp+H,MAAMmmC,OAAS,SAGzC,6BACM14C,KAAKqwI,kBACPrwI,KAAK2wI,iBAAiBj4D,SAE1B,eAEE,OADA14E,KAAKssI,aAAc,EACZ,IAAIT,GAAS,CAClBX,QAAS9/H,OAAOpL,KAAKsvI,cACrBnE,WAAY//H,OAAOpL,KAAKuvI,iBACxBzD,gBAAiB,KACjBE,eAAgB,KAChBD,eAAgB,KAChBE,UAAWjsI,KAAKisI,aAGpB,YACEjsI,KAAKssI,aAAc,EACnBtsI,KAAKuwI,SAAWvwI,KAAKwwI,kBAIrBoD,GAAe,CACnB7wI,IAAK,EACLsP,MAAO,0BAEHwhI,GAA+BtyG,GAAgB,MAAO,CAAElvB,MAAO,wBAA0B,MAAO,GAChGyhI,GAAe,CAAEzhI,MAAO,6BACxB0hI,GAAe,CAAC,eAChBC,GAAe,CAAE3hI,MAAO,qBACxB4hI,GAAe,CAAElxI,IAAK,GACtBmxI,GAAe,CAAC,UACtB,SAASC,GAAczgH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM4nH,EAAyBxqH,GAAiB,eAC1CyqH,EAA4BzqH,GAAiB,kBAC7C0qH,EAAiC1qH,GAAiB,uBAClD2qH,EAAgC3qH,GAAiB,sBACjD4qH,EAAwB5qH,GAAiB,cACzC2vB,EAAsB3vB,GAAiB,YACvC6qH,EAAoC7qH,GAAiB,0BACrDwnC,EAA2BnnC,GAAiB,iBAClD,OAAOpB,IAAgBoC,KAAaqW,GAAmB,MAAO,CAC5D5oB,GAAI,cACJrG,MAAOJ,GAAe,CAAC,kBAAmB,CACxC,qBAAsBua,EAASkoH,iBAEhC,CACDz2H,GAAYm2H,EAAwB,CAClC,kBAAmBroH,EAAMk6D,eACzB,cAAel6D,EAAMgkH,gBACrB,oBAAqBhkH,EAAMkkH,qBAC3B0E,cAAe59F,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAASooH,YAAYh7F,IAC1Ei7F,eAAgB99F,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMkkH,qBAAuB,IAClF,KAAM,EAAG,CAAC,kBAAmB,cAAe,sBAC/ChyH,GAAYo2H,EAA2B,CACrC,qBAAsBtoH,EAAMw5D,iBAC5B,cAAex5D,EAAM+jH,mBACrB,oBAAqB/jH,EAAMmkH,uBAC3B4E,gBAAiB/9F,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAASqmH,cAAcj5F,IAC9Ei7F,eAAgB99F,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMmkH,uBAAyB,IACpF,KAAM,EAAG,CAAC,qBAAsB,cAAe,sBAClDjyH,GAAYq2H,EAAgC,CAC1C,0BAA2BvoH,EAAMu6D,sBACjC,cAAev6D,EAAMikH,wBACrB,oBAAqBjkH,EAAMokH,4BAC3B4E,qBAAsBh+F,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAASwoH,mBAAmBp7F,IACxFi7F,eAAgB99F,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMokH,4BAA8B,IACzF,KAAM,EAAG,CAAC,0BAA2B,cAAe,sBACvDlyH,GAAYs2H,EAA+B,CACzC5lF,KAAM3iC,EAAO2iC,KACb,gBAAiB5iC,EAAMs4D,aACvB,kBAAmBr4D,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvBkrF,eAAgBzoH,EAASikH,cACxBhmH,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC5qB,EAAG4Q,KACnB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,OAAQ,gBAAiB,kBAAmB,eAAgB,mBACvE6c,GAAYu2H,EAAuB,CACjCxkF,MAAOjkC,EAAMikC,MACbsxB,aAAc90D,EAAS0oH,WACvBD,eAAgBzoH,EAASikH,cACxBhmH,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC5qB,EAAG4Q,KACnB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,QAAS,eAAgB,mBACpCmgC,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,iBAAkB,CAAE,yBAA0B8Z,EAAMikC,MAAMzuD,WAChF,CACDyqB,EAAO6iH,YAAc9iH,EAAMikC,MAAMzuD,QAAU0pB,KAAaqW,GAAmB,MAAOsyG,GAAc,CAC9F7nH,EAAMugH,aAAerhH,KAAaqW,GAAmBva,GAAU,CAAEhkB,IAAK,GAAK,CACzEw+B,GAAgB,MAAO,CACrBlvB,MAAO,qCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAAS4kH,cAAgB5kH,EAAS4kH,gBAAgBvnI,KACjG,CACDghB,GAAW6I,EAAKxH,OAAQ,kBAAmB,GAAI,IAAM,CACnDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,sBAG7C2hI,GACAtyG,GAAgB,MAAOuyG,GAActhI,GAAgBga,EAAS2oH,cAAe,GAC7E5zG,GAAgB,MAAO,CACrBlvB,MAAO,wCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAAS4oH,gBAAe,KACtE,CACDvqH,GAAW6I,EAAKxH,OAAQ,mBAAoB,GAAI,IAAM,CACpDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,mBAG5C,MAAQ+Y,KAAaqW,GAAmB,MAAO,CAChDv+B,IAAK,EACLsP,MAAO,iBACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAAS4oH,gBAAe,KACtE,CACDvqH,GAAW6I,EAAKxH,OAAQ,kBAAmB,GAAI,IAAM,CACnDjO,GAAYs7B,EAAqB,CAC/BrnC,KAAM,aACNG,MAAO,gCAIT2wB,GAAmB,IAAI,GAC7BzB,GAAgB,WAAY,CAC1B7oB,GAAI,eACJ9I,IAAK,eACLysB,YAAarQ,EAAO+sB,aAAas8F,aACjChjI,MAAOJ,GAAe,CAAC,eAAgB,CACrC,uBAAwB8Z,EAAM4jH,cAAc7jF,OAE9Cv5C,MAAO,CACL,aAAc,OACd,eAAgB,QAElBonC,QAAS5C,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAASkkH,eAAiBlkH,EAASkkH,iBAAiB7mI,IACpGyrI,UAAW,CACTv+F,EAAO,MAAQA,EAAO,IAAMrB,GAAS,IAAI7rC,IAAS2iB,EAAS+oH,gBAAkB/oH,EAAS+oH,kBAAkB1rI,GAAO,CAAC,SAChHktC,EAAO,MAAQA,EAAO,IAAMrB,GAASP,GAAc,IAAItrC,IAAS2iB,EAASg5D,YAAch5D,EAASg5D,cAAc37E,GAAO,CAAC,QAAS,YAAa,CAAC,WAC7IktC,EAAO,MAAQA,EAAO,IAAMrB,GAASP,GAAc,OAChD,CAAC,QAAS,YAAa,CAAC,SAC3B4B,EAAO,MAAQA,EAAO,IAAMrB,GAAS,IAAI7rC,IAAS2iB,EAASg5D,YAAch5D,EAASg5D,cAAc37E,GAAO,CAAC,SACxGktC,EAAO,MAAQA,EAAO,IAAMrB,GAASP,GAAc,OAChD,CAAC,QAAS,YAAa,CAAC,QAC3B4B,EAAO,MAAQA,EAAO,IAAMrB,GAAUkE,GAAWptB,EAASgpH,sBAAsB,GAAI,CAAC,QACrFz+F,EAAO,MAAQA,EAAO,IAAMrB,GAASP,GAAc,OAChD,CAAC,QAAS,YAAa,CAAC,UAC3B4B,EAAO,MAAQA,EAAO,IAAMrB,GAAUkE,GAAWptB,EAASgpH,qBAAqB,GAAI,CAAC,WAEtFC,QAAS1+F,EAAO,MAAQA,EAAO,IAAM,IAAIltC,IAAS2iB,EAASkpH,cAAgBlpH,EAASkpH,gBAAgB7rI,KACnG,KAAM,GAAIkqI,IACbxyG,GAAgB,MAAOyyG,GAAc,CACnCjoH,EAAM4jH,cAAc7jF,KAAO7gC,KAAaqW,GAAmB,MAAO,CAChEv+B,IAAK,EACLsP,MAAO,iBACPwnC,QAAS9C,EAAO,MAAQA,EAAO,IAAM,IAAIltC,IAAS2iB,EAASikH,cAAgBjkH,EAASikH,gBAAgB5mI,KACnG,CACDghB,GAAW6I,EAAKxH,OAAQ,kBAAmB,GAAI,IAAM,CACnDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,uBAEvC8wB,GAAmB,IAAI,GAC7BhX,EAAO8iH,WAAajmH,IAAgBoC,KAAaqW,GAAmB,MAAO2yG,GAAc,CACvFppH,GAAW6I,EAAKxH,OAAQ,eAAgB0W,GAAW,CAAE47C,YAAazyD,EAAMyyD,aAAe,CAAEm3D,SAAUnpH,EAASmpH,WAAa,IAAM,CAC7H13H,GAAYw2H,EAAmC,CAC7C,eAAgB1oH,EAAMyyD,YACtB,gBAAgB,EAChBo3D,WAAYppH,EAASmpH,SACrBE,YAAa9+F,EAAO,MAAQA,EAAO,IAAO6C,GAAW7tB,EAAMyyD,YAAc5kC,IACxE,CACD,oBAAqBx9B,GAAQ,IAAM,CACjCyO,GAAW6I,EAAKxH,OAAQ,uBAE1BnX,EAAG,GACF,EAAG,CAAC,eAAgB,oBAEtB,CACH,CAACq8C,EAA0B,IAAMrlC,EAAMyyD,aAAc,KAClDx7C,GAAmB,IAAI,GAC5BhX,EAAO4iH,WAAa3jH,KAAaqW,GAAmB,MAAO,CACzDv+B,IAAK,EACLsP,MAAO,iBACPwnC,QAAS9C,EAAO,MAAQA,EAAO,IAAM,IAAIltC,IAAS2iB,EAASspH,kBAAoBtpH,EAASspH,oBAAoBjsI,KAC3G,CACDghB,GAAW6I,EAAKxH,OAAQ,iBAAkB,GAAI,IAAM,CAClDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,mBAEvC8wB,GAAmB,IAAI,GAC7BhX,EAAOijH,uBAAyBhkH,KAAaqW,GAAmB,MAAO,CACrEv+B,IAAK,EACLsP,MAAO,iBACPwnC,QAAS9C,EAAO,MAAQA,EAAO,IAAM,IAAIltC,IAAS2iB,EAASupH,uBAAyBvpH,EAASupH,yBAAyBlsI,KACrH,CACDghB,GAAW6I,EAAKxH,OAAQ,qBAAsB,GAAI,IAAM,CACtDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,iBAEvC8wB,GAAmB,IAAI,GAC7BhX,EAAO4iH,WAAa3jH,KAAaqW,GAAmB,QAAS,CAC3Dv+B,IAAK,EACL6M,IAAK,OACL/H,KAAM,OACNq/B,SAAU,GACV8uG,OAAQhqH,EAAOgjH,cACfz8H,MAAO,CAAE,QAAW,QACpB0jI,SAAUl/F,EAAO,MAAQA,EAAO,IAAO6C,GAAWptB,EAASskH,aAAal3F,EAAOhyC,OAAOooD,SACrF,KAAM,GAAIkkF,KAAiBlxG,GAAmB,IAAI,GACrDhX,EAAO2iH,cAAgB1jH,KAAaqW,GAAmB,MAAO,CAC5Dv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,iBAAkB,CAAE,oBAAqBua,EAAS0pH,kBACzEr8F,QAAS9C,EAAO,MAAQA,EAAO,IAAM,IAAIltC,IAAS2iB,EAASwkH,aAAexkH,EAASwkH,eAAennI,KACjG,CACDghB,GAAW6I,EAAKxH,OAAQ,YAAa,GAAI,IAAM,CAC7CjO,GAAYs7B,EAAqB,CAC/BrnC,KAAM,OACNilC,MAAO3qB,EAAS0pH,gBAAkB1pH,EAASimH,cAAgB,WAAa,IACvE,KAAM,EAAG,CAAC,aAEd,IAAMzvG,GAAmB,IAAI,MAEjC,IACF,IAAK,CACN,CAAC4S,GAAO1zC,OAAOkc,KAAK4N,EAAO2iC,MAAMptD,QAAUyqB,EAAO+iH,cAGtD,IAAIoH,GAA6BlgG,GAAYw4F,GAAa,CAAC,CAAC,SAAU0F,MACtE,MAAMiC,GAAc,CAClBlkI,KAAM,eACN8c,WAAY,CAAEm1D,eAAatrC,WAASiU,kBACpC16C,MAAO,CACL63C,QAAS,CAAEpiD,KAAM3F,OAAQo0C,UAAU,GACnC+Q,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,GACvC+/F,UAAW,CAAExuI,KAAM3E,MAAOozC,UAAU,IAEtCxtC,SAAU,CACR,gBACE,MAAM,SAAE6mD,GAAa3vD,KAAKiqD,QAAQ2mF,aAC5B0F,EAAYt2I,KAAKq2I,UAAU3vF,KAAMkF,GAASA,EAAKE,MAAQ6D,GAC7D,OAAO2mF,EAAYA,EAAUtqF,SAAW,IAE1C,YACE,IAAI8D,EAAIC,EACR,OAA+E,OAAtEA,EAAyC,OAAnCD,EAAK9vD,KAAKiqD,QAAQ2mF,mBAAwB,EAAS9gF,EAAGE,YAAiB,EAASD,EAAGxuD,QAAUvB,KAAKiqD,QAAQ2mF,aAAa5gF,MAAM,GAAK,IAEnJ,UACE,OAAOZ,GAAYpvD,KAAKskF,YAE1B,UACE,OAAOr1B,GAAYjvD,KAAKskF,YAE1B,UACE,OAAOp1B,GAAYlvD,KAAKskF,YAE1B,cACE,IAAIx0B,EACJ,OAAkD,OAAzCA,EAAK9vD,KAAKiqD,QAAQ2mF,aAAa5gF,YAAiB,EAASF,EAAGvuD,UAAYvB,KAAK2xD,UAAY3xD,KAAK2gF,UAAY3gF,KAAKygF,WAIxH81D,GAAe,CAAElkI,MAAO,qBACxBmkI,GAAe,CAAEnkI,MAAO,sBACxBokI,GAAe,CACnB1zI,IAAK,EACLsP,MAAO,6BAEHqkI,GAAe,CACnB3zI,IAAK,EACLsP,MAAO,6BAEHskI,GAAe,CAAE/1D,SAAU,IAC3Bg2D,GAAe,CAAC,OAChBC,GAAe,CACnB9zI,IAAK,EACLsP,MAAO,sBAEHykI,GAAe,CAAEzkI,MAAO,qBACxB0kI,GAAe,CACnBh0I,IAAK,EACLsP,MAAO,wCAEH2kI,GAAgB,CAAE3kI,MAAO,qBAC/B,SAAS4kI,GAAcvjH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM24D,EAA0Bv7D,GAAiB,gBAC3C2vB,EAAsB3vB,GAAiB,YACvCunC,EAA4BvnC,GAAiB,kBACnD,OAAOqB,KAAaqW,GAAmB,MAAOi1G,GAAc,CAC1Dh1G,GAAgB,MAAOi1G,GAAchkI,GAAgBga,EAAS0qH,eAAgB,GAC9E1qH,EAASi0D,SAAWx1D,KAAaqW,GAAmB,MAAOm1G,GAAc,CACvEl1G,GAAgB,MAAO,CACrBlvB,MAAO,4CACPE,MAAOnB,GAAe,CACpB,mBAAoB,QAAQob,EAAS83D,UAAUl6B,WAEhD,KAAM,MACL59B,EAASm0D,SAAW11D,KAAaqW,GAAmB,MAAOo1G,GAAc,CAC7En1G,GAAgB,QAASo1G,GAAc,CACrCp1G,GAAgB,SAAU,CACxB8pB,IAAK7+B,EAAS83D,UAAUl6B,KACvB,KAAM,EAAGwsF,SAEVpqH,EAASmlC,SAAW1mC,KAAaI,GAAY85D,EAAyB,CAC1EpiF,IAAK,EACLsoD,IAAK7+B,EAAS83D,UAAUl6B,IACxB,6BAA6B,EAC7B+sF,qBAAsBpgG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAK0jH,aAAex9F,GAChFsqC,qBAAsBntC,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAK2jH,mBAAqBz9F,IACrFnvB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,SAAWorB,EAAS44D,aAAen6D,KAAaqW,GAAmB,MAAOu1G,GAAc,CACjGt1G,GAAgB,MAAO,KAAM,CAC3B1W,GAAW6I,EAAKxH,OAAQ,YAAa,GAAI,IAAM,CAC7CjO,GAAYs7B,EAAqB,CAAErnC,KAAM,aAG7CqvB,GAAgB,MAAOu1G,GAActkI,GAAgBga,EAAS83D,UAAUpyE,MAAO,GAC/Esa,EAAS83D,UAAUr0B,WAAahlC,KAAaqW,GAAmB,MAAOy1G,GAAcvkI,GAAgBga,EAAS83D,UAAUr0B,WAAY,IAAMjtB,GAAmB,IAAI,MAC7JA,GAAmB,IAAI,GAC7BzB,GAAgB,MAAOy1G,GAAe,CACpC/4H,GAAYkzC,EAA2B,CACrC,aAAcnlC,EAAOi+B,QAAQ2mF,aAAa9kF,IAC1CpkB,QAAS1b,EAAOi+B,QAAQ2mF,aAAalpG,QACrCkiB,MAAO59B,EAAOqqH,UACd,kBAAmBrqH,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvBD,OAAO,GACN,KAAM,EAAG,CAAC,aAAc,UAAW,QAAS,kBAAmB,qBAIxE,IAAIwtF,GAA+BrhG,GAAYmgG,GAAa,CAAC,CAAC,SAAUa,MACxE,MAAMM,GAAc,CAClBrlI,KAAM,cACNE,MAAO,CACLyvE,SAAU,CAAEh6E,KAAMuD,OAAQ6Y,QAAS,IAErC,OACE,MAAMuzH,EAAS,GACTC,EAAS,EACTC,EAAmBF,EAAkB,EAATC,EAC5BE,EAAmC,EAAnBD,EAAuB95G,KAAK87D,GAClD,MAAO,CACL89C,SACAC,SACAC,mBACAC,kBAGJ7uI,SAAU,CACR,mBACE,OAAO9I,KAAK23I,cAAgB33I,KAAK6hF,SAAW,IAAM7hF,KAAK23I,iBAIvDC,GAAe,CACnBhoI,IAAK,WACLyC,MAAO,wBAEHwlI,GAAe,CAAC,SAAU,SAC1BC,GAAe,CAAC,mBAAoB,eAAgB,IAAK,KAAM,MAC/DC,GAAe,CAAE1lI,MAAO,qBACxB2lI,GAA+Bz2G,GAAgB,OAAQ,CAAElvB,MAAO,yBAA2B,KAAM,GACvG,SAAS4lI,GAAcvkH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAOvB,KAAaI,GAAYsjB,GAAY,CAC1Cz8B,KAAM,mBACN8Q,OAAQ,IACP,CACDiB,QAAS7H,GAAQ,IAAM,CACrBmlB,GAAgB,MAAOq2G,GAAc,EAClC3sH,KAAaqW,GAAmB,MAAO,CACtCoX,OAAuB,EAAf3sB,EAAMyrH,OACd/+F,MAAsB,EAAf1sB,EAAMyrH,QACZ,CACDj2G,GAAgB,SAAU,CACxBk2G,OAAQ,2BACR,mBAAoB1rH,EAAM4rH,cAAgB,IAAM5rH,EAAM4rH,cACtDplI,MAAOnB,GAAe,CACpB8mI,iBAAkB1rH,EAAS0rH,iBAC3BC,cAAe,UAEjB,eAAgBpsH,EAAM0rH,OACtBxtE,KAAM,cACNl6D,EAAGgc,EAAM2rH,iBACT7rD,GAAI9/D,EAAMyrH,OACVY,GAAIrsH,EAAMyrH,QACT,KAAM,GAAIM,KACZ,EAAGD,KACNt2G,GAAgB,MAAO,CACrBlvB,MAAO,uBACPE,MAAOnB,GAAe,CACpBsnC,OAAuB,EAAf3sB,EAAMyrH,OAAa,GAAK,KAChC/+F,MAAsB,EAAf1sB,EAAMyrH,OAAa,GAAK,QAEhC,CACDj2G,GAAgB,MAAOw2G,GAAc,CACnCl1G,GAAgBrwB,GAAgBwZ,EAAO61D,UAAW,GAClDm2D,MAED,IACF,OAELjjI,EAAG,IAGP,IAAIsjI,GAA8BpiG,GAAYshG,GAAa,CAAC,CAAC,SAAUU,MACvE,MAAMK,GAAc,CAClBpmI,KAAM,cACN8c,WAAY,CAAE6pB,WAAS5B,UAAQohG,gBAC/BjmI,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnD2T,QAAS,CAAEpiD,KAAM3F,OAAQo0C,UAAU,GACnCmB,KAAM,CAAE5vC,KAAM3F,OAAQo0C,UAAU,GAChCtxC,MAAO,CAAE6C,KAAMuD,OAAQkrC,UAAU,GACjC0e,wBAAyB,CAAEntD,KAAMob,QAASqzB,UAAU,IAEtDh7B,MAAO,CAAC,aACR,OACE,MAAO,CACLi9H,gBAAiB,GACjBC,cAAc,EACdC,YAAY,IAGhB3vI,SAAU,CACR,iBACE,OAA+C,IAAxC9I,KAAKy3C,KAAK2S,IAAIn2C,QAAQ,cAAuBjU,KAAKw4I,cAE3D,UACE,OAAOvpF,GAAYjvD,KAAKy3C,OAE1B,UACE,OAAOyX,GAAYlvD,KAAKy3C,QAG5B92B,MAAO,CACL82B,KAAM,CACJ32B,WAAW,EACX,UACE9gB,KAAK04I,kBAIX,UACE,MAAM9oI,EAAM5P,KAAKmsB,MAAM,WAAansB,KAAKgF,OACrC4K,IACF5P,KAAKu4I,gBAAkB,CACrBI,UAAW/oI,EAAIgpI,YAAc,GAC7BC,UAAWjpI,EAAImxE,aAAe,EAAI,KAIxCpzD,QAAS,CACP,eACE,IAAKshC,GAAYjvD,KAAKy3C,MACpB,OACFz3C,KAAKw4I,cAAe,EACpB,MAAMhuF,EAAQ,IAAIQ,MAClBR,EAAMa,IAAMrrD,KAAKy3C,KAAK2S,IACtBI,EAAM7f,iBAAiB,OAAQ,IAAM3qC,KAAKw4I,cAAe,IAE3D,SAASl+H,EAAO61C,GACTnwD,KAAKg1D,0BACR16C,EAAM85B,kBACNp0C,KAAKusB,MAAM,YAAa,CAAEkrB,KAAMz3C,KAAKy3C,KAAM0Y,eAK7C2oF,GAAe,CAAEzmI,MAAO,8BACxB0mI,GAAe,CACnBh2I,IAAK,EACLsP,MAAO,qBAEH2mI,GAAe,CAAEp4D,SAAU,IAC3Bq4D,GAAe,CAAC,OACtB,SAASC,GAAcxlH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM2sH,EAA0BvvH,GAAiB,gBAC3CsqC,EAAoBtqC,GAAiB,UACrC2vB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaqW,GAAmB,MAAOw3G,GAAc,CAC1DtsH,EAASi0D,SAAWx1D,KAAaqW,GAAmB,MAAO,CACzDv+B,IAAK,EACL6M,IAAK,WAAaoc,EAAOhnB,MACzBqN,MAAO,8BACPowE,YAAa1rC,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAM0sH,YAAa,GACtEW,aAAcriG,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAM0sH,YAAa,GACvE5+F,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAAS6sH,SAASz/F,EAAQ,aACxE,CACD5tB,EAAOyrB,KAAKoqC,UAAY,GAAK52D,KAAaI,GAAY8tH,EAAyB,CAC7Ep2I,IAAK,EACL8+E,SAAU71D,EAAOyrB,KAAKoqC,SACtBtvE,MAAOnB,GAAe,CAAE4iC,IAAQjoB,EAAMwsH,gBAAgBM,UAAzB,QAC5B,KAAM,EAAG,CAAC,WAAY,YAAc5tH,KAAaI,GAAY6oC,EAAmB,CACjFnxD,IAAK,EACLqzC,KAAM5pB,EAAS8sH,eACfzxI,KAAM,eACN,aAAcmkB,EAAOi+B,QAAQ6B,IAC7Bv5C,MAAOnB,GAAe,CAAE4iC,IAAQjoB,EAAMwsH,gBAAgBM,UAAzB,QAC5BpuH,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,OAAQ,aAAc,WACjCmgC,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,oBAAqB,CAC1C,mBAAoBua,EAAS8sH,gBAAkBttH,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,iBAEpFr8C,MAAOnB,GAAe,CACpB,mBAAoB,QAAQob,EAAS8sH,gBAAiBttH,EAAOyrB,KAAK8hG,SAA6BvtH,EAAOyrB,KAAK2S,QAC3G,aAAiBr+B,EAAMwsH,gBAAgBI,UAAzB,QAEf,CACD16H,GAAY0wB,GAAY,CAAEz8B,KAAM,kBAAoB,CAClD+R,QAAS7H,GAAQ,IAAM,CACpB4P,EAAOgpC,0BAA2BjpC,EAAM0sH,YAAejsH,EAAS8sH,eAiB3Dt2G,GAAmB,IAAI,IAjBsD/X,KAAaqW,GAAmB,MAAOy3G,GAAc,CACtIx3G,GAAgB,MAAO,CACrBlvB,MAAO,iCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAAS6sH,SAASz/F,EAAQ,aACxE,CACD/uB,GAAW6I,EAAKxH,OAAQ,YAAcF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CAClE7tC,GAAYs7B,EAAqB,CAAErnC,KAAM,YAG7CqvB,GAAgB,MAAO,CACrBlvB,MAAO,qCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWptB,EAAS6sH,SAASz/F,EAAQ,cACxE,CACD/uB,GAAW6I,EAAKxH,OAAQ,iBAAmBF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CACvE7tC,GAAYs7B,EAAqB,CAAErnC,KAAM,sBAKjD6C,EAAG,KAEJ,IACF,MAAQyX,EAASm0D,SAAW11D,KAAaqW,GAAmB,MAAO,CACpEv+B,IAAK,EACLsP,MAAO,sBACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAK5B,GAAeyE,GAAWptB,EAAS6sH,SAASz/F,EAAQ,WAAY,CAAC,cACnG,CACD5tB,EAAOyrB,KAAKoqC,UAAY,GAAK52D,KAAaI,GAAY8tH,EAAyB,CAC7Ep2I,IAAK,EACL8+E,SAAU71D,EAAOyrB,KAAKoqC,UACrB,KAAM,EAAG,CAAC,cAAgB7+C,GAAmB,IAAI,GACpDzB,GAAgB,QAASy3G,GAAc,CACrCz3G,GAAgB,SAAU,CACxB8pB,IAAKr/B,EAAOyrB,KAAK2S,KAChB,KAAM,EAAG6uF,SAEVj2G,GAAmB,IAAI,KAGjC,IAAIw2G,GAA8BvjG,GAAYqiG,GAAa,CAAC,CAAC,SAAUY,MACvE,MAAMO,GAAc,CAClBvnI,KAAM,eACN8c,WAAY,CAAE6pB,WAASiU,iBAAeurF,eAAamB,gBACnDpnI,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnD2T,QAAS,CAAEpiD,KAAM3F,OAAQo0C,UAAU,GACnC+/F,UAAW,CAAExuI,KAAM3E,MAAOozC,UAAU,GACpC+Q,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,GACvC0e,wBAAyB,CAAEntD,KAAMob,QAASqzB,UAAU,IAEtDh7B,MAAO,CAAC,YAAa,iBACrBxS,SAAU,CACR,kBACE,OAAO9I,KAAKiqD,QAAQ+F,MAAM3mD,OAAQouC,GAAS0X,GAAiB1X,KAE9D,aACE,OAAOz3C,KAAKiqD,QAAQ+F,MAAM3mD,OAAQouC,IAAU0X,GAAiB1X,MAGjE9pB,QAAS,CACP,SAASrT,EAAOm9B,EAAM0Y,GACfnwD,KAAKg1D,0BACR16C,EAAM85B,kBACNp0C,KAAKusB,MAAM,YAAa,CAAEkrB,OAAM0Y,eAKlCupF,GAAe,CAAErnI,MAAO,+BACxBsnI,GAAe,CAAC,WAChBC,GAAe,CAAEvnI,MAAO,kBACxBwnI,GAAe,CAAExnI,MAAO,qBACxBynI,GAAe,CACnB/2I,IAAK,EACLsP,MAAO,wCAET,SAAS0nI,GAAcrmH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAMwtH,EAA0BpwH,GAAiB,gBAC3CuvH,EAA0BvvH,GAAiB,gBAC3C2vB,EAAsB3vB,GAAiB,YACvCunC,EAA4BvnC,GAAiB,kBACnD,OAAOqB,KAAaqW,GAAmB,MAAOo4G,GAAc,EACzDzuH,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAWkC,EAASytH,gBAAiB,CAACxiG,EAAMn2C,KACxF2pB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKzB,EAAI,MACR,CACD2c,GAAY+7H,EAAyB,CACnCviG,OACA,kBAAmBzrB,EAAO4iC,cAC1B3E,QAASj+B,EAAOi+B,QAChBjlD,MAAO1D,EACP,4BAA6B0qB,EAAOgpC,wBACpCklF,WAAYnjG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,YAAaqtB,KACzEnvB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,OAAQ,kBAAmB,UAAW,QAAS,kCAE1D,OACH6pB,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAWkC,EAAS2tH,WAAY,CAAC1iG,EAAMn2C,KACnF2pB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKzB,EAAI,IACT+Q,MAAO,oBACN,CACDolC,EAAKoqC,UAAY,GAAK52D,KAAaI,GAAY8tH,EAAyB,CACtEp2I,IAAK,EACL8+E,SAAUpqC,EAAKoqC,SACftvE,MAAO,CAAEyhC,IAAK,SACb,KAAM,EAAG,CAAC,cAAgBhR,GAAmB,IAAI,GACpDzB,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,qBAAsB,CAAE,8BAA+BwlC,EAAKoqC,UAAY,KAC/FhoC,QAAUD,GAAWptB,EAAS6sH,SAASz/F,EAAQnC,EAAM,aACpD,CACDlW,GAAgB,MAAOq4G,GAAc,CACnC/uH,GAAW6I,EAAKxH,OAAQ,gBAAiB,GAAI,IAAM,CACjDjO,GAAYs7B,EAAqB,CAAErnC,KAAM,iBAG7CqvB,GAAgB,MAAOs4G,GAAcrnI,GAAgBilC,EAAKvlC,MAAO,GACjEulC,EAAKwY,WAAahlC,KAAaqW,GAAmB,MAAOw4G,GAActnI,GAAgBilC,EAAKwY,WAAY,IAAMjtB,GAAmB,IAAI,IACpI,GAAI22G,QAEP,MACJ17H,GAAYkzC,EAA2B,CACrC,aAAcnlC,EAAOi+B,QAAQ6B,IAC7BpkB,QAAS1b,EAAOi+B,QAAQviB,QACxBkiB,MAAO59B,EAAOqqH,UACd,kBAAmBrqH,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvBqwF,cAAerjG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,gBAAiBqtB,KAChF,KAAM,EAAG,CAAC,aAAc,UAAW,QAAS,kBAAmB,mBAGtE,IAAIygG,GAA+BpkG,GAAYwjG,GAAa,CAAC,CAAC,SAAUM,MACxE,MAAMO,GAAc,CAClBpoI,KAAM,iBACN8c,WAAY,CAAE6pB,WAASonC,yBACvBn3D,WAAY,CACVwmC,aAAcb,IAEhBr8C,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnD2T,QAAS,CAAEpiD,KAAM3F,OAAQo0C,UAAU,GACnCikG,eAAgB,CAAE1yI,KAAM3E,MAAOozC,UAAU,GACzCkkG,mBAAoB,CAAE3yI,KAAMob,QAASqzB,UAAU,GAC/CmkG,aAAc,CAAE5yI,KAAMob,QAASqzB,UAAU,GACzCokG,eAAgB,CAAE7yI,KAAM,CAACxG,OAAQ+J,QAAS6Y,QAAS,MACnDozH,mBAAoB,CAAExvI,KAAMob,QAASqzB,UAAU,IAEjDh7B,MAAO,CACL,sBACA,wBACA,uBACA,yBACA,yBAEF,OACE,MAAO,CACLq/H,eAAgB,EAChBC,eAAe,EACfC,gBAAgB,EAChBr8D,aAAa,IAGjB11E,SAAU,CACR,mBACE,OAAO9I,KAAK86I,uBAAuBv5I,QAAUvB,KAAKy6I,eAAiBz6I,KAAKiqD,QAAQhS,UAAYj4C,KAAKiqD,QAAQ8wF,iBAAmB/6I,KAAKq3I,oBAEnI,qBACE,OAAOr3I,KAAKw6I,oBAAsBx6I,KAAKy6I,eAAiBz6I,KAAKiqD,QAAQhS,UAAYj4C,KAAKiqD,QAAQ+wF,mBAAqBh7I,KAAKq3I,oBAE1H,yBACE,OAAOr3I,KAAKiqD,QAAQ0F,WAAa3vD,KAAK4uD,cAAgB5uD,KAAKu6I,eAAiBv6I,KAAKu6I,eAAelxI,OAAQ4gD,IAAaA,EAAQgxF,UAGjIt6H,MAAO,CACL,YAAYre,GACVtC,KAAKusB,MAAM,sBAAuBjqB,GAC9BA,IACFtC,KAAK46I,eAAgB,IAEzB,cAAct4I,GACZtC,KAAKusB,MAAM,wBAAyBjqB,KAGxCqrB,QAAS,CACP,cACM3tB,KAAK66I,iBAET76I,KAAK46I,eAAiB56I,KAAK46I,cACtB56I,KAAK46I,eAEVzpG,WAAW,KACT,MAAMuuC,EAAgB/4C,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,eAC5F,IAAKqsB,IAAkB1/E,KAAKmsB,MAAM+uH,cAAgBl7I,KAAKmsB,MAAMgvH,WAC3D,OAEF,MAAMR,EAAiB36I,KAAKmsB,MAAM+uH,YAAYznG,wBAAwBiF,OAChE0iG,EAAgBp7I,KAAKmsB,MAAMgvH,WAAW1nG,wBAAwBO,IAC9D2rC,EAAgBD,EAAcjsC,wBAAwBO,IACtDqnG,EAAqB17D,EAAgBy7D,EAAgBT,EAAiB,GAE1E36I,KAAK26I,eADHU,EACoB,IAECV,MAG7B,eACE36I,KAAK46I,eAAgB,EACrB56I,KAAK66I,gBAAiB,EACtB76I,KAAKs7I,qBACLnqG,WAAW,IAAMnxC,KAAK66I,gBAAiB,EAAO,MAEhD,YACE76I,KAAKw+E,aAAex+E,KAAKw+E,aAE3B,aACEx+E,KAAKw+E,aAAc,EACnBx+E,KAAKs7I,sBAEP,qBACMt7I,KAAK06I,iBAAmB16I,KAAKiqD,QAAQ6B,KACvC9rD,KAAKusB,MAAM,wBAAwB,IAGvC,qBAAqB4jC,GACnBnwD,KAAKu7I,eACLv7I,KAAKusB,MAAM,yBAA0B4jC,IAEvC,oBAAoBvY,EAAO4jG,GACzBx7I,KAAKusB,MAAM,wBAAyB,CAAEqrB,QAAO4jG,aAC7Cx7I,KAAKy7I,gBAILC,GAAe,CAAErpI,MAAO,+BACxBspI,GAAe,CAAE54I,IAAK,KACtB64I,GAAe,CAAEvpI,MAAO,iBACxBwpI,GAAe,CAAC,WACtB,SAASC,GAAcpoH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YACvC6qH,EAAoC7qH,GAAiB,0BACrDwnC,EAA2BnnC,GAAiB,iBAClD,OAAOgB,KAAaqW,GAAmB,MAAOo6G,GAAc,CAC1Dn6G,GAAgB,MAAO,CACrBlvB,MAAO,wBACPE,MAAOnB,GAAe,CACpBw3B,QAAS5c,EAAOqrH,mBAAqB,OAAS,UAC9C5+F,MAAOjsB,EAASsuH,uBAAuBv5I,QAAUyqB,EAAOwuH,mBAAqB,OAAS,UAEvF,CACDv8H,GAAYy1B,GAAiB,CAC3BxhC,KAAM,iBACN80B,IAAK,QACJ,CACD/iB,QAAS7H,GAAQ,IAAM,CACrBoQ,EAASuvH,kBAAoBvvH,EAASwvH,oBAAsB/wH,KAAaqW,GAAmB,MAAO,CACjGv+B,IAAK,IACLsP,MAAOJ,GAAe,CAAC,qBAAsB,CAC3C,iBAAkB+Z,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,kBAEtD,KAAM,IAAM5rB,GAAmB,IAAI,GACtCxW,EAASuvH,kBAAoB9wH,KAAaqW,GAAmB,MAAO,CAClE1xB,IAAK,aACL7M,IAAK,IACLsP,MAAO,qCACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAASyvH,aAAezvH,EAASyvH,eAAepyI,KAC/F,CACDghB,GAAW6I,EAAKxH,OAAQ,iBAAmBF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CACvE7tC,GAAYs7B,EAAqB,CAC/BrnC,KAAM,WACNilC,MAAO,eAGV,MAAQnU,GAAmB,IAAI,GAClCxW,EAASwvH,mBAAqBnzH,IAAgBoC,KAAaqW,GAAmB,MAAOq6G,GAAc,CACjG9wH,GAAW6I,EAAKxH,OAAQ,eAAgB0W,GAAW,CAAE47C,YAAazyD,EAAMyyD,aAAe,CAAEm3D,SAAUnpH,EAAS0vH,sBAAwB,IAAM,CACxIj+H,GAAYw2H,EAAmC,CAC7CpiI,MAAO,qBACPE,MAAOnB,GAAe,CAAE6jC,MAAOzoB,EAASuvH,iBAAmB,OAAS,QACpE,eAAgBhwH,EAAMyyD,YACtB,kBAAkB,EAClB,iBAAkBxyD,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,cACrD,aAAc5iC,EAAOi+B,QAAQ6B,IAC7B8pF,WAAYppH,EAAS0vH,oBACrBrG,YAAarpH,EAASwzD,WACrBv1D,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,QAAS,eAAgB,iBAAkB,aAAc,aAAc,qBAEjF,CACH,CAACgwD,EAA0B5kC,EAASivH,cACjCz4G,GAAmB,IAAI,KAE9BjuB,EAAG,KAEJ,GACHyX,EAASsuH,uBAAuBv5I,QAAU0pB,KAAaI,GAAYsjB,GAAY,CAC7E5rC,IAAK,EACLmP,KAAM8Z,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,cAAgB,iBAAmB,mBAC3E,CACD3qC,QAAS7H,GAAQ,IAAM,CACrB2P,EAAM6uH,cAAgB/xH,IAAgBoC,KAAaqW,GAAmB,MAAO,CAC3Ev+B,IAAK,EACL6M,IAAK,cACLyC,MAAOJ,GAAe,CAAC,mBAAoB,CACzC,gBAAiB+Z,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,iBAEtDr8C,MAAOnB,GAAe,CAAE4iC,IAAQjoB,EAAM4uH,eAAT,QAC5B,CACDp5G,GAAgB,MAAOq6G,GAAc,EAClC3wH,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAWkC,EAASsuH,uBAAyB3qF,IACzFllC,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKotD,EAAOj+C,MACX,CACDqvB,GAAgB,MAAO,CACrBlvB,MAAO,gBACPwnC,QAAUD,GAAWptB,EAAS2vH,qBAAqBhsF,IAClD39C,GAAgB29C,EAAO8B,OAAQ,EAAG4pF,QAErC,SAEL,IAAK,CACN,CAACzqF,EAA0B5kC,EAAS+uH,gBACjCv4G,GAAmB,IAAI,KAE9BjuB,EAAG,GACF,EAAG,CAAC,UAAYiuB,GAAmB,IAAI,KAG9C,IAAIo5G,GAAiCnmG,GAAYqkG,GAAa,CAAC,CAAC,SAAUwB,MAC1E,MAAMO,GAAc,CAClBnqI,KAAM,mBACNE,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnD2T,QAAS,CAAEpiD,KAAM3F,OAAQo0C,UAAU,IAErCh7B,MAAO,CAAC,yBACRqS,QAAS,CACP,oBAAoBiqB,EAAO4jG,GACzBx7I,KAAKusB,MAAM,wBAAyB,CAAEqrB,QAAO4jG,gBAI7Cc,GAAe,CAAC,WACtB,SAASC,GAAc7oH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,OAAQR,EAAOi+B,QAAQhS,QAyBjBjV,GAAmB,IAAI,IAzBK/X,KAAaI,GAAYqoB,GAAiB,CAC1E3wC,IAAK,EACLmP,KAAM,iBACN80B,IAAK,QACJ,CACD/iB,QAAS7H,GAAQ,IAAM,EACpB6O,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOi+B,QAAQuyF,UAAW,CAAChB,EAAUz4I,IAC5F8lB,IAAgBoC,KAAaqW,GAAmB,SAAU,CAC/Dv+B,IAAKA,EAAM,EACXsP,MAAOJ,GAAe,CAAC,sBAAuB,CAC5C,mBAA+D,IAA5CupI,EAASvnI,QAAQ+X,EAAO4iC,kBAE7Cr8C,MAAOnB,GAAe,CACpBk0F,MAAOt5E,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,cAAgB,QAAU,SAEtE/U,QAAUD,GAAWptB,EAAS0vH,oBAAoB,CAAE5jF,QAASv1D,GAAOy4I,IACnE,CACD34G,GAAgBrwB,GAAgBzP,GAAM,GACtCw+B,GAAgB,OAAQ,KAAM/uB,GAAgBgpI,EAASj6I,QAAS,IAC/D,GAAI+6I,KAAgB,CACrB,CAAC1mG,GAAO4lG,EAASj6I,WAEjB,QAENwT,EAAG,KAGP,IAAI0nI,GAAmCxmG,GAAYomG,GAAa,CAAC,CAAC,SAAUE,MAC5E,SAASG,GAAgBr4I,GACvB,MAAMs4I,EAAgB,CACpB,CAAE55I,IAAK,SAAU8E,KAAM,CAAC,SAAU,WAClC,CAAE9E,IAAK,WAAY8E,KAAM,CAAC,WAC1B,CAAE9E,IAAK,QAAS8E,KAAM,CAAC,WAEnBkzC,EAAW,CAAC6hG,EAAMxqI,IACfA,EAAMyT,MAAO6M,IAClB,IAAImqH,GAAY,EAMhB,OALqB,UAAjBnqH,EAAK7qB,KAAK,IAAkB3E,MAAMC,QAAQy5I,EAAKlqH,EAAK3vB,OAE7C2vB,EAAK7qB,KAAK6+C,KAAMtmD,GAAMA,WAAaw8I,EAAKlqH,EAAK3vB,SADtD85I,GAAY,GAIPA,GAAaC,GAAiBF,EAAMlqH,EAAK3vB,OAGpD,IAAKg4C,EAAS12C,EAAKs4I,GACjB,MAAM,IAAIt9I,MACR,qGAIN,SAAS09I,GAAsB14I,GAC7B,MAAM24I,EAAuB,CAC3B,CAAEj6I,IAAK,MAAO8E,KAAM,CAAC,SAAU,WAC/B,CAAE9E,IAAK,WAAY8E,KAAM,CAAC,YAEtBkzC,EAAW,CAAC6hG,EAAMxqI,IACfA,EAAMyT,MAAO6M,IAClB,MAAMmqH,EAAYnqH,EAAK7qB,KAAK6+C,KAAMtmD,GAAMA,WAAaw8I,EAAKlqH,EAAK3vB,MAC/D,OAAO85I,GAAaC,GAAiBF,EAAMlqH,EAAK3vB,OAGpD,IAAKg4C,EAAS12C,EAAK24I,GACjB,MAAM,IAAI39I,MACR,2FAIN,SAAS49I,GAAmB54I,GAC1B,MAAM64I,EAAmB,CACvB,CAAEn6I,IAAK,MAAO8E,KAAM,CAAC,SAAU,WAC/B,CAAE9E,IAAK,UAAW8E,KAAM,CAAC,SAAU,WACnC,CAAE9E,IAAK,WAAY8E,KAAM,CAAC,SAAU,YAEhCkzC,EAAW,CAAC6hG,EAAMxqI,IACfA,EAAMyT,MAAO6M,IAClB,MAAMmqH,EAAYnqH,EAAK7qB,KAAK6+C,KAAMtmD,GAAMA,WAAaw8I,EAAKlqH,EAAK3vB,MAC/D,OAAO85I,GAAaC,GAAiBF,EAAMlqH,EAAK3vB,OAGpD,IAAKg4C,EAAS12C,EAAK64I,GACjB,MAAM,IAAI79I,MACR,wHAIN,SAASy9I,GAAiBz4I,EAAKtB,GAC7B,OAAOb,OAAOU,UAAUC,eAAeG,KAAKqB,EAAKtB,IAAqB,OAAbsB,EAAItB,SAA8B,IAAbsB,EAAItB,GAEpF,MAAMo6I,GAAc,CAClBjrI,KAAM,cACN8c,WAAY,CACV6pB,WACAiU,iBACAq3B,eACAmzD,gBACA+C,gBACA+B,kBACAK,qBAEFrqI,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnDyC,aAAc,CAAElxC,KAAM3F,OAAQo0C,UAAU,GACxCtxC,MAAO,CAAE6C,KAAMuD,OAAQkrC,UAAU,GACjC2T,QAAS,CAAEpiD,KAAM3F,OAAQo0C,UAAU,GACnC8mG,SAAU,CAAEv1I,KAAM3E,MAAOozC,UAAU,GACnC+mG,gBAAiB,CAAEx1I,KAAM,CAACxG,OAAQ+J,QAAS6Y,QAAS,MACpDoyH,UAAW,CAAExuI,KAAM3E,MAAO+gB,QAAS,IAAM,IACzCs2H,eAAgB,CAAE1yI,KAAM3E,MAAOozC,UAAU,GACzCgnG,YAAa,CAAEz1I,KAAM3E,MAAO+gB,QAAS,IAAM,IAC3Cu2H,mBAAoB,CAAE3yI,KAAMob,QAASqzB,UAAU,GAC/CinG,uBAAwB,CAAE11I,KAAMob,QAASqzB,UAAU,GACnD+Q,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,GACvCknG,gBAAiB,CAAE31I,KAAM3F,OAAQo0C,UAAU,GAC3C0e,wBAAyB,CAAEntD,KAAMob,QAASqzB,UAAU,GACpDmnG,iBAAkB,CAAE51I,KAAM3E,MAAO+gB,QAAS,IAAM,KAElD3I,MAAO,CACL,gBACA,YACA,gBACA,sBACA,yBACA,wBACA,iBACA,oBAEF,OACE,MAAO,CACLo/H,eAAgB,KAChBD,cAAc,EACdG,eAAe,EACfp8D,aAAa,EACbk/D,WAAY,GACZtG,aAAc,QACdC,oBAAoB,IAGxBvuI,SAAU,CACR,eACE,SAAK9I,KAAKw9I,gBAAgBG,aAAe39I,KAAKiqD,QAAQ0F,WAAa3vD,KAAK4uD,gBAG/D5uD,KAAKq2I,UAAU90I,QAAUvB,KAAKw9I,gBAAgBI,UAGzD,WACE,OAAO59I,KAAKgF,MAAQ,GAAKhF,KAAKiqD,QAAQ4zF,OAAS79I,KAAKo9I,SAASp9I,KAAKgF,MAAQ,GAAG64I,MAE/E,gBACE,OAAO79I,KAAKgF,MAAQ,GAAKhF,KAAKiqD,QAAQ0F,WAAa3vD,KAAKo9I,SAASp9I,KAAKgF,MAAQ,GAAG2qD,UAEnF,iBACE,OAAO3vD,KAAKq9I,kBAAoBr9I,KAAKiqD,QAAQ6B,KAAO9rD,KAAK06I,iBAAmB16I,KAAKiqD,QAAQ6B,KAE3F,UACE,IAAIgE,EACJ,OAAoC,OAA5BA,EAAK9vD,KAAKiqD,QAAQ+F,YAAiB,EAASF,EAAGzxC,KAAMo5B,GAAS2X,GAAY3X,KAEpF,qBACE,OAAOz3C,KAAKiqD,QAAQ0F,WAAa3vD,KAAK4uD,gBAAkB5uD,KAAKiqD,QAAQhS,UAAYj4C,KAAKiqD,QAAQ2F,OAAS5vD,KAAKiqD,QAAQ4F,aAAe7vD,KAAKiqD,QAAQpwC,OAElJ,uBACE,OAAO7Z,KAAKo9I,SAAS/+H,KAClB4rC,GAAYA,EAAQ0F,WAAa3vD,KAAK4uD,eAAiB3E,EAAQoH,SAGpE,sBACE,OAAOrxD,KAAKo9I,SAAS/+H,KAClB4rC,GAAYA,EAAQ0F,WAAa3vD,KAAK4uD,eAAiB3E,EAAQoH,SAGpE,oBACE,OAAOrxD,KAAKg1D,2BAA6Bh1D,KAAKy9I,iBAAiB/2F,KAC5DuD,GAAYA,EAAQ6B,MAAQ9rD,KAAKiqD,QAAQ6B,OAIhDnrC,MAAO,CACL28H,YAAa,CACXx8H,WAAW,EACXC,MAAM,EACN,QAAQze,GACDA,EAAIf,QAAWvB,KAAKu9I,uBAIzBv9I,KAAK09I,WAAap7I,EAAI2Q,OACpB,CAACjJ,EAAK3F,IAAQA,EAAIW,MAAQgF,EAAIhF,MAAQX,EAAM2F,GAJ5ChK,KAAK09I,WAAa,KAQxB,0BACE19I,KAAK89I,sBAGT,UACEb,GAAmBj9I,KAAKiqD,SACxBjqD,KAAKusB,MAAM,gBAAiB,CAC1B09B,QAASjqD,KAAKiqD,QACdjlD,MAAOhF,KAAKgF,MACZ4K,IAAK5P,KAAKmsB,MAAM89B,WAGpBt8B,QAAS,CACP,iBACO3tB,KAAKg1D,0BACRh1D,KAAKy6I,cAAe,EAChBz6I,KAAK+9I,mBACP/9I,KAAK06I,eAAiB16I,KAAKiqD,QAAQ6B,OAGzC,iBACE,OAAQ9rD,KAAKiqD,QAAQhS,SAEvB,iBACOj4C,KAAKg1D,0BACHh1D,KAAK46I,eAAkB56I,KAAKw+E,cAC/Bx+E,KAAKy6I,cAAe,GACtBz6I,KAAK06I,eAAiB,OAG1B,oBACE16I,KAAKy6I,cAAe,EACpBz6I,KAAK06I,eAAiB,MAExB,SAASjjG,GACPz3C,KAAKusB,MAAM,YAAa,CAAE09B,QAASjqD,KAAKiqD,QAASxS,UAEnD,YAAYmU,GACV5rD,KAAKusB,MAAM,gBAAiB,CAAEq/B,UAEhC,qBAAqBuE,GACnBnwD,KAAK89I,oBACL3sG,WAAW,KACTnxC,KAAKusB,MAAM,yBAA0B,CAAE4jC,SAAQlG,QAASjqD,KAAKiqD,WAC5D,MAEL,qBAAoB,MAAErS,EAAK,SAAE4jG,IAC3Bx7I,KAAKusB,MAAM,wBAAyB,CAClCgqB,UAAWv2C,KAAKiqD,QAAQ6B,IACxB0vF,SAAU5jG,EACV7jC,OAAQynI,IAAsD,IAA1CA,EAASvnI,QAAQjU,KAAK4uD,iBAE5C5uD,KAAKy6I,cAAe,GAEtB,gBACMz6I,KAAKg1D,0BACHh1D,KAAKg+I,kBACPh+I,KAAKusB,MAAM,mBAAoBvsB,KAAKiqD,QAAQ6B,KAE5C9rD,KAAKusB,MAAM,iBAAkBvsB,KAAKiqD,aAMtCg0F,GAAe,CAAC,MAChBC,GAAe,CACnBn7I,IAAK,EACLsP,MAAO,+BAEH8rI,GAAe,CACnBp7I,IAAK,EACLsP,MAAO,gBAEH+rI,GAAe,CACnBr7I,IAAK,EACLsP,MAAO,iCAEHgsI,GAAe,CACnBt7I,IAAK,EACLsP,MAAO,qBAEHisI,GAAe,CACnBv7I,IAAK,EACLsP,MAAO,qBAEHksI,GAAe,CAAElsI,MAAO,sBACxBmsI,GAAa,CACjBz7I,IAAK,EACLsP,MAAO,mBAEHosI,GAAa,CAAE17I,IAAK,GACpB27I,GAA8Bn9G,GAAgB,MAAO,CAAElvB,MAAO,oBAAsB,KAAM,GAC1FssI,GAAc,CAClBD,IAEIE,GAAc,CAClB77I,IAAK,EACLsP,MAAO,6BAET,SAASwsI,GAAcnrH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM2kC,EAA4BvnC,GAAiB,kBAC7Ck1H,EAA2Bl1H,GAAiB,iBAC5Cm1H,EAA2Bn1H,GAAiB,iBAC5Cu7D,EAA0Bv7D,GAAiB,gBAC3C2vB,EAAsB3vB,GAAiB,YACvCo1H,EAA6Bp1H,GAAiB,mBAC9Cq1H,EAA+Br1H,GAAiB,qBACtD,OAAOqB,KAAaqW,GAAmB,MAAO,CAC5C5oB,GAAIsT,EAAOi+B,QAAQ6B,IACnBl8C,IAAK,UACLyC,MAAO,uBACN,CACDma,EAAS0yH,UAAYj0H,KAAaqW,GAAmB,MAAO48G,GAAc1rI,GAAgBwZ,EAAOi+B,QAAQ4zF,MAAO,IAAM76G,GAAmB,IAAI,GAC7IjX,EAAM2xH,WAAW5xF,MAAQ9/B,EAAOi+B,QAAQ6B,KAAO7gC,KAAaqW,GAAmB,MAAO68G,GAAc3rI,GAAgBwZ,EAAO+sB,aAAaomG,cAAe,IAAMn8G,GAAmB,IAAI,GACpLhX,EAAOi+B,QAAQm1F,QAAUn0H,KAAaqW,GAAmB,MAAO88G,GAAc,CAC5EvzH,GAAW6I,EAAKxH,OAAQ,WAAaF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CACjE7tC,GAAYkzC,EAA2B,CACrC,aAAcnlC,EAAOi+B,QAAQ6B,IAC7BpkB,QAAS1b,EAAOi+B,QAAQviB,QACxBuQ,UAAWjsB,EAAOi+B,QAAQhS,QAC1B2R,MAAO59B,EAAOqqH,UACd,gBAAiBrqH,EAAO+sB,aACxB,kBAAmB/sB,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvBqwF,cAAe5tH,EAAS6yH,aACvB50H,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,aAAc,UAAW,UAAW,QAAS,gBAAiB,kBAAmB,eAAgB,wBAEzG6pB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,kBAAmB,CAAE,qBAAsB+Z,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,iBACrG/U,QAAS9C,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAAS8yH,eAAiB9yH,EAAS8yH,iBAAiBz1I,KACnG,CACDghB,GAAW6I,EAAKxH,OAAQ,WAAaF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CACjE9/B,EAAOi+B,QAAQoH,QAAUrlC,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,cAAgB/jC,GAAW6I,EAAKxH,OAAQ,kBAAoBF,EAAOi+B,QAAQ6B,IAAK,CAAE/oD,IAAK,GAAK,IAAM,CAC5Jw+B,GAAgB,MAAO,CACrBlvB,MAAO,aACPE,MAAOnB,GAAe,CAAE,mBAAoB,QAAQ4a,EAAOi+B,QAAQoH,cAClE,KAAM,KACNruB,GAAmB,IAAI,GAC5BxW,EAAS+yH,sBAAwBvzH,EAAOi+B,QAAQoH,QAAUpmC,KAAaqW,GAAmB,MAAO+8G,KAAiBr7G,GAAmB,IAAI,GACzIzB,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,wBAAyB,CAC9C,+BAAgCua,EAASgzH,kBAE1C,CACDj+G,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAC,mBAAoB,CACzC,wBAAyBua,EAASizH,eAClC,sBAAuBzzH,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,cAC1D,sBAAuB5iC,EAAOi+B,QAAQhS,QACtC,qBAAsBjsB,EAAOgpC,wBAC7B,uBAAwBxoC,EAASwxH,qBAEnCv7D,YAAa1rC,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAASkzH,gBAAkBlzH,EAASkzH,kBAAkB71I,IAC1GuvI,aAAcriG,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAASmzH,gBAAkBnzH,EAASmzH,kBAAkB91I,KAC1G,CACD2iB,EAASozH,cAAgB30H,KAAaqW,GAAmB,MAAO,CAC9Dv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,oBAAqB,CAC1C,sBAAuB+Z,EAAOi+B,QAAQhS,SAAWjsB,EAAOi+B,QAAQ2mF,iBAEjE,CACDrvG,GAAgB,OAAQ,KAAM/uB,GAAgBwZ,EAAOi+B,QAAQ+B,UAAW,IACvE,IAAMhpB,GAAmB,IAAI,IAC/BhX,EAAOi+B,QAAQhS,SAAWjsB,EAAOi+B,QAAQ2mF,cAAgB3lH,KAAaI,GAAYyzH,EAA0B,CAC3G/7I,IAAK,EACLknD,QAASj+B,EAAOi+B,QAChB,aAAcj+B,EAAOqqH,UACrB,kBAAmBrqH,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,aACtBt/B,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC5qB,EAAG4Q,KACnB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,UAAW,aAAc,kBAAmB,kBAAoB4hC,GAAmB,IAAI,IAChGhX,EAAOi+B,QAAQhS,SAAYjsB,EAAOi+B,QAAQ+F,OAAUhkC,EAAOi+B,QAAQ+F,MAAMzuD,QAmBuDirB,EAASmlC,SAAW3lC,EAAOi+B,QAAQ+F,MAAMzuD,OAAS,GAAK0pB,KAAaI,GAAY0zH,EAA0B,CAC1Oh8I,IAAK,EACL,kBAAmBipB,EAAO4iC,cAC1B3E,QAASj+B,EAAOi+B,QAChB,aAAcj+B,EAAOqqH,UACrB,kBAAmBrqH,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvB,4BAA6B/9B,EAAOgpC,wBACpCklF,WAAY1tH,EAAS6sH,SACrBe,cAAe5tH,EAAS6yH,aACvB50H,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC5qB,EAAG4Q,KACnB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,kBAAmB,UAAW,aAAc,kBAAmB,eAAgB,4BAA6B,aAAc,oBAAsB6pB,KAAaqW,GAAmBva,GAAU,CAAEhkB,IAAK,GAAK,CAC/Mkb,GAAYknE,EAAyB,CACnC,aAAcn5D,EAAOi+B,QAAQ6B,IAC7BT,IAAKr/B,EAAOi+B,QAAQ+F,MAAM,GAAG5F,IAC7B,4BAA6Bp+B,EAAOgpC,wBACpCmiF,qBAAsBpgG,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMqrH,aAAex9F,GACjFsqC,qBAAsBntC,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMsrH,mBAAqBz9F,IACtFnvB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC5qB,EAAG4Q,KACnB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,aAAc,MAAO,8BAC/B4qB,EAAOi+B,QAAQhS,QAA2GjV,GAAmB,IAAI,IAAvH/X,KAAaqW,GAAmB,MAAOg9G,GAAc9rI,GAAgBuZ,EAAMqrH,cAAe,KACpH,MAxDkFnsH,KAAaI,GAAY8lC,EAA2B,CACvIpuD,IAAK,EACL,aAAcipB,EAAOi+B,QAAQ6B,IAC7BpkB,QAAS1b,EAAOi+B,QAAQviB,QACxBuQ,UAAWjsB,EAAOi+B,QAAQhS,QAC1B2R,MAAO59B,EAAOqqH,UACd,kBAAmBrqH,EAAOq7B,eAC1B,gBAAiBr7B,EAAO+sB,aACxB,eAAgB/sB,EAAO+9B,YACvBqwF,cAAe5tH,EAAS6yH,aACvB50H,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,aAAc,UAAW,UAAW,QAAS,kBAAmB,gBAAiB,eAAgB,mBAsC5GmgC,GAAgB,MAAOg9G,GAAc,CACnCvyH,EAAOi+B,QAAQ41F,SAAW7zH,EAAOi+B,QAAQhS,SAAWhtB,KAAaqW,GAAmB,MAAOk9G,GAAY,CACrG3zH,GAAW6I,EAAKxH,OAAQ,eAAiBF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CACrE7tC,GAAYs7B,EAAqB,CAAErnC,KAAM,gBAEvC8wB,GAAmB,IAAI,GAC7BzB,GAAgB,OAAQ,KAAM/uB,GAAgBwZ,EAAOi+B,QAAQuH,WAAY,GACzEhlC,EAASszH,oBAAsB70H,KAAaqW,GAAmB,OAAQm9G,GAAY,CACjF5zH,GAAW6I,EAAKxH,OAAQ,kBAAoBF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CACxE7tC,GAAYs7B,EAAqB,CAC/BrnC,KAAM8Z,EAAOi+B,QAAQ4F,YAAc,mBAAqB,YACxD1Y,MAAOnrB,EAAOi+B,QAAQpwC,KAAO,OAAS,GACtCxH,MAAO,kBACN,KAAM,EAAG,CAAC,OAAQ,eAEnB2wB,GAAmB,IAAI,KAE/B/kB,GAAY+gI,EAA4B,CACtC,kBAAmBhzH,EAAO4iC,cAC1B3E,QAASj+B,EAAOi+B,QAChB,kBAAmBj+B,EAAOuuH,eAC1B,uBAAwBvuH,EAAOwuH,mBAC/B,gBAAiBzuH,EAAM0uH,aACvB,mBAAoB1uH,EAAM2uH,eAC1B,uBAAwB3uH,EAAMsrH,mBAC9B0I,qBAAsBhpG,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAM0uH,aAAe7gG,GACjFomG,sBAAuBjpG,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAM6uH,cAAgBhhG,GACnFqmG,oBAAqBlpG,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMyyD,YAAc5kC,GAC/EsmG,uBAAwB1zH,EAAS2vH,qBACjCgE,sBAAuB3zH,EAAS0vH,qBAC/BzxH,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC5qB,EAAG4Q,KACnB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,kBAAmB,UAAW,kBAAmB,uBAAwB,gBAAiB,mBAAoB,uBAAwB,yBAA0B,2BAC1K,IACH6c,GAAYghI,EAA8B,CACxC,kBAAmBjzH,EAAO4iC,cAC1B3E,QAASj+B,EAAOi+B,QAChBk2F,sBAAuB3zH,EAAS0vH,qBAC/B,KAAM,EAAG,CAAC,kBAAmB,UAAW,2BAC1C,GACHrxH,GAAW6I,EAAKxH,OAAQ,mBAAqBF,EAAOi+B,QAAQ6B,IAAK,GAAI,IAAM,CACzE9/B,EAAOi+B,QAAQm2F,SAAWp0H,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,eAAiB3jC,KAAaqW,GAAmB,MAAO,CACnHv+B,IAAK,EACLsP,MAAOJ,GAAe,CAAC,uCAAwC,CAC7D,+BAAgC+Z,EAAOi+B,QAAQoH,QAAUrlC,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,iBAE9F/U,QAAS9C,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,sBAAuB,CAAE09B,QAASj+B,EAAOi+B,YAClG00F,GAAa,IAAM37G,GAAmB,IAAI,KAE/ChX,EAAOi+B,QAAQoH,QAAUrlC,EAAOi+B,QAAQ0F,WAAa3jC,EAAO4iC,cAAgB/jC,GAAW6I,EAAKxH,OAAQ,kBAAoBF,EAAOi+B,QAAQ6B,IAAK,CAAE/oD,IAAK,GAAK,IAAM,CAC5Jw+B,GAAgB,MAAO,CACrBlvB,MAAO,gCACPE,MAAOnB,GAAe,CAAE,mBAAoB,QAAQ4a,EAAOi+B,QAAQoH,cAClE,KAAM,KACNruB,GAAmB,IAAI,GAC5BxW,EAAS6zH,uBAAyBr0H,EAAOi+B,QAAQoH,QAAUpmC,KAAaqW,GAAmB,MAAOs9G,KAAgB57G,GAAmB,IAAI,MAE1I,KACF,EAAGi7G,IAER,IAAIqC,GAA8BrqG,GAAYknG,GAAa,CAAC,CAAC,SAAU0B,MACvE,MAAM0B,GAAc,CAClBruI,KAAM,WACN8c,WAAY,CACVioB,UACA4B,WACA6d,cACAy/E,cACAmK,gBAEFluI,MAAO,CACLw8C,cAAe,CAAE/mD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GACnDyC,aAAc,CAAElxC,KAAM3F,OAAQo0C,UAAU,GACxCue,WAAY,CAAEhtD,KAAMob,QAASqzB,UAAU,GACvCic,cAAe,CAAE1qD,KAAMob,QAASqzB,UAAU,GAC1Ckc,SAAU,CAAE3qD,KAAMob,QAASqzB,UAAU,GACrC4C,MAAO,CAAErxC,KAAM3E,MAAOozC,UAAU,GAChCoT,OAAQ,CAAE7hD,KAAM,CAACxG,OAAQ+J,QAASkrC,UAAU,GAC5CkqG,cAAe,CAAE34I,KAAMob,QAASqzB,UAAU,GAC1C8mG,SAAU,CAAEv1I,KAAM3E,MAAOozC,UAAU,GACnCo4F,YAAa,CAAE7mI,KAAMxG,OAAQ4iB,QAAS,MACtCw8H,eAAgB,CAAE54I,KAAMob,QAASqzB,UAAU,GAC3Cye,YAAa,CAAEltD,KAAM3E,MAAOozC,UAAU,GACtCikG,eAAgB,CAAE1yI,KAAM3E,MAAOozC,UAAU,GACzC2e,wBAAyB,CAAEptD,KAAM3E,MAAOozC,UAAU,GAClDoqG,WAAY,CAAE74I,KAAM3F,OAAQo0C,UAAU,GACtCq4F,aAAc,CAAE9mI,KAAMob,QAASqzB,UAAU,GACzCs4F,UAAW,CAAE/mI,KAAMob,QAASqzB,UAAU,GACtCu4F,UAAW,CAAEhnI,KAAMob,QAASqzB,UAAU,GACtCg5F,aAAc,CAAEznI,KAAMuD,OAAQkrC,UAAU,GACxCi5F,gBAAiB,CAAE1nI,KAAMuD,OAAQkrC,UAAU,GAC3Cw4F,WAAY,CAAEjnI,KAAMob,QAASqzB,UAAU,GACvCkkG,mBAAoB,CAAE3yI,KAAMob,QAASqzB,UAAU,GAC/CinG,uBAAwB,CAAE11I,KAAMob,QAASqzB,UAAU,GACnDy4F,WAAY,CAAElnI,KAAMob,QAASqzB,UAAU,GACvC04F,cAAe,CAAEnnI,KAAMxG,OAAQi1C,UAAU,GACzC+Q,eAAgB,CAAEx/C,KAAM3F,OAAQo0C,UAAU,GAC1CyT,YAAa,CAAEliD,KAAM3F,OAAQo0C,UAAU,GACvC6C,aAAc,CAAEtxC,KAAMob,QAASqzB,UAAU,GACzCwe,gBAAiB,CAAEjtD,KAAMob,QAASqzB,UAAU,GAC5C24F,sBAAuB,CAAEpnI,KAAMob,QAASqzB,UAAU,GAClD44F,kBAAmB,CAAErnI,KAAMob,QAASqzB,UAAU,GAC9C64F,gBAAiB,CAAEtnI,KAAMob,QAASqzB,UAAU,GAC5C84F,wBAAyB,CAAEvnI,KAAMob,QAASqzB,UAAU,GACpDqc,eAAgB,CAAE9qD,KAAMuD,OAAQkrC,UAAU,GAC1C+4F,cAAe,CAAExnI,KAAM3E,MAAO+gB,QAAS,MACvCu5H,gBAAiB,CAAE31I,KAAM3F,OAAQo0C,UAAU,IAE7Ch7B,MAAO,CACL,oBACA,YACA,sBACA,mCACA,eACA,eACA,iBACA,yBACA,iBACA,wBACA,iBACA,YACA,gBACA,sBACA,2BAEF,OACE,MAAO,CACL+hI,gBAAiB,KACjB7N,iBAAkB,KAClBC,gBAAiB,KACjBkR,iBAAiB,EACjB9tF,SAAU,KACVC,YAAY,EACZ8tF,qBAAqB,EACrBC,YAAY,EACZC,oBAAqB,EACrBxD,YAAa,GACbtoF,yBAAyB,EACzByoF,iBAAkB,GAClB/N,aAAc,KAGlB5mI,SAAU,CACR,OACE,OAAO9I,KAAKk5C,MAAMwN,KAAMiI,GAASA,EAAKjF,SAAW1pD,KAAK0pD,SAAW,IAEnE,iBACE,OAAO1pD,KAAK0pD,SAAW1pD,KAAKo9I,SAAS77I,SAAWvB,KAAK2gJ,kBAAoB3gJ,KAAKm5C,cAEhF,aACE,MAAM4nG,GAAkB/gJ,KAAKk5C,MAAM33C,SAAWvB,KAAKm5C,eAAiBn5C,KAAK0pD,SAAW1pD,KAAKwgJ,cAIzF,OAHIO,GACF/gJ,KAAKghJ,uBAAsB,GAEtBD,GAET,sBACE,OAAO/gJ,KAAKo9I,SAAS77I,QAAUvB,KAAKygJ,iBAGxC9/H,MAAO,CACL+oC,OAAQ,CACN5oC,WAAW,EACX,UACE9gB,KAAKihJ,kBAGT7D,SAAU,CACRr8H,MAAM,EACN,QAAQjR,EAAQmjD,GACdnjD,EAAOnH,QAAQ,CAACshD,EAAS3oD,KACnBtB,KAAKu9I,yBAA2BtzF,EAAQpwC,MAAQowC,EAAQ0F,WAAa3vD,KAAK4uD,eAC5E5uD,KAAKs9I,YAAYp4I,KAAK,CACpB4mD,IAAK7B,EAAQ6B,IACb9mD,MAAO1D,OAIE,MAAV2xD,OAAiB,EAASA,EAAO1xD,WAAuB,MAAVuO,OAAiB,EAASA,EAAOvO,QAAU,IAC5FvB,KAAKs9I,YAAc,IAErBnsG,WAAW,IAAMnxC,KAAK4gJ,qBAAsB,KAGhD,eAAet+I,GACTA,GACFtC,KAAKghJ,uBAAsB,KAGjC,UACEhhJ,KAAKs9I,YAAc,IAErB3vH,QAAS,CACP,sBAAsBrrB,GACpBtC,KAAK2gJ,gBAAkBr+I,EAClBA,GACH6uC,WAAW,IAAMnxC,KAAKkzD,6BAG1B,2BACMlzD,KAAK6yD,WACP7yD,KAAK8yD,YAAa,EAClB9yD,KAAK6yD,SAASM,cAEhB,MAAMC,EAASzsB,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,4BACrF,GAAID,EAAQ,CACV,MAAMt3C,EAAW,CACfqC,KAAMwoB,SAASa,cAAc,qBAAqBqF,WAAWwmB,eAAe,iBAC5EC,WAAetzD,KAAK2yD,eAAR,KACZY,UAAW,GAEbvzD,KAAK6yD,SAAW,IAAIW,qBAAsBxgD,IACpCA,EAAQ,GAAGygD,gBACbzzD,KAAKkhJ,oBAENplI,GACH9b,KAAK6yD,SAASxlB,QAAQ+lB,KAG1B,mBACE,MAAM36B,EAAYz4B,KAAKmsB,MAAMg1H,gBACvBC,EAAmB3oH,EAAUg5G,aAC7B5+E,EAAW,IAAIyb,eAAgBv5D,IAC/B0jB,EAAUg5G,eAAiB2P,GACzBphJ,KAAKmsB,MAAMg1H,kBACbnhJ,KAAKmsB,MAAMg1H,gBAAgBE,SAAS,CAClCrtG,IAAKvb,EAAUg5G,aAAe2P,IAEhCvuF,EAASM,gBAIf,IAAK,IAAI7xD,EAAI,EAAGA,EAAIm3B,EAAUzZ,SAASzd,OAAQD,IAC7CuxD,EAASxlB,QAAQ5U,EAAUzZ,SAAS1d,KAGxC,WAAWggJ,GACT,IAAIthJ,KAAK60D,YAEgC,IAArCysF,EAAWC,eAAehgJ,OAAc,CAC1C,MAAMigJ,EAAYF,EAAWC,eAAe,GAAGp/D,QACzCs/D,EAAYH,EAAWC,eAAe,GAAGliE,QAC/C10C,iBACE,WACC+2G,GAAgB1hJ,KAAK2hJ,SAASD,EAAaF,EAAWC,GACvD,CAAEtkE,MAAM,MAId,SAASmkE,EAAYE,EAAWC,GAC9B,GAAyC,IAArCH,EAAWC,eAAehgJ,OAAc,CAC1C,MAAMqgJ,EAAUN,EAAWC,eAAe,GAAGp/D,QACvC0/D,EAAUP,EAAWC,eAAe,GAAGliE,QACvCyiE,EAAeF,EAAUJ,EAAY,IACrCO,EAAoBnkH,KAAKorC,IAAI64E,EAAUJ,GAAa,GACtDK,IAAiBC,GACnB/hJ,KAAKusB,MAAM,uBAIjB,gBACEvsB,KAAKghJ,uBAAsB,GAC3BhhJ,KAAK6gJ,YAAa,EAClB7gJ,KAAK8gJ,oBAAsB,EAC3B9gJ,KAAKgiJ,wBACL,MAAMC,EAAUjiJ,KAAK4sB,OACnB,IAAM5sB,KAAKo9I,SACV96I,IACC,IAAKA,IAAQA,EAAIf,OACf,OACF,MAAM43E,EAAWn5E,KAAKmsB,MAAMg1H,gBACvBhoE,IAEL8oE,IACA9wG,WAAW,KACTgoC,EAASkoE,SAAS,CAAErtG,IAAKmlC,EAASs4D,eAClCzxI,KAAKghJ,uBAAsB,SAKnC,wBACEhhJ,KAAKg1D,yBAA0B,EAC/Bh1D,KAAKy9I,iBAAmB,IAE1B,cAAcxzF,GACZjqD,KAAKy9I,iBAAiBv4I,KAAK+kD,IAE7B,gBAAgB1T,GACdv2C,KAAKy9I,iBAAmBz9I,KAAKy9I,iBAAiBp0I,OAC3C4gD,GAAYA,EAAQ6B,MAAQvV,IAGjC,gBAAe,QAAE0T,EAAO,MAAEjlD,EAAK,IAAE4K,IAC/B,GAAI5K,IAAUhF,KAAKo9I,SAAS77I,OAAS,EACnC,OACF,MAAM2gJ,EAAmBtyI,EAAI6iC,aAAe,GAC5CtB,WAAW,KACT,MAAMgxG,EAAaniJ,KAAKoiJ,gBAAgBpiJ,KAAKmsB,MAAMg1H,iBAAmBe,EAClEj4F,EAAQ0F,WAAa3vD,KAAK4uD,cACxBuzF,EACEniJ,KAAK0gJ,WAAW/oG,KAAK0qG,kBACvBriJ,KAAKsiJ,iBAGHtiJ,KAAK0gJ,WAAW/oG,KAAK8Z,KACvBzxD,KAAKsiJ,iBAILH,EACEniJ,KAAK0gJ,WAAW6B,QAAQF,iBAC1BriJ,KAAKsiJ,kBAELtiJ,KAAK6gJ,YAAa,EAClB7gJ,KAAK8gJ,uBAGH9gJ,KAAK0gJ,WAAW6B,QAAQ9wF,IAC1BzxD,KAAKsiJ,kBAELtiJ,KAAK6gJ,YAAa,EAClB7gJ,KAAK8gJ,0BAMf,kBAAkBt8G,GAChB,IAAKA,EAAE58B,OACL,OACF,MAAM46I,EAAexiJ,KAAKoiJ,gBAAgB59G,EAAE58B,QACxC46I,EAAe,KACjBxiJ,KAAK8gJ,oBAAsB,GAC7B9gJ,KAAK6gJ,WAAa2B,EAAe,KAAOxiJ,KAAK8gJ,qBAE/C,mBACM9gJ,KAAK2gJ,iBAETxvG,WACE,KACE,IAAInxC,KAAK4gJ,oBAAT,CAEA,GAAI5gJ,KAAKygJ,iBAAmBzgJ,KAAK0pD,OAG/B,OAFA1pD,KAAK4gJ,qBAAsB,OAC3B5gJ,KAAK8yD,YAAa,GAGpB9yD,KAAKyiJ,mBACLziJ,KAAKusB,MAAM,kBACXvsB,KAAK4gJ,qBAAsB,IAE7B,MAGJ,sBAAqB,OAAEzwF,EAAM,QAAElG,IAC7B,OAAQkG,EAAOj+C,MACb,IAAK,eAKH,OAJAlS,KAAKwvI,iBAAmBvlF,OACxB9Y,WAAW,KACTnxC,KAAKwvI,iBAAmB,OAG5B,IAAK,cAKH,OAJAxvI,KAAKyvI,gBAAkBxlF,OACvB9Y,WAAW,KACTnxC,KAAKyvI,gBAAkB,OAG3B,IAAK,gBACH,OAAOzvI,KAAKusB,MAAM,iBAAkB09B,GACtC,IAAK,iBAGH,OAFAjqD,KAAKy9I,iBAAmB,CAACxzF,QACzBjqD,KAAKg1D,yBAA0B,GAEjC,QACE,OAAOh1D,KAAKusB,MAAM,yBAA0B,CAAE4jC,SAAQlG,cAG5D,8BAA8BkG,GAC5BnwD,KAAKusB,MAAM,mCAAoC,CAC7C4jC,SACAitF,SAAUp9I,KAAKy9I,mBAEjBz9I,KAAKgiJ,yBAEP,oBAAoBU,GAClB1iJ,KAAKusB,MAAM,wBAAyBm2H,IAEtC,gBAAgBvpE,GACd,MAAM,aAAEs4D,EAAY,aAAE1wD,EAAY,UAAE/D,GAAc7D,EAClD,OAAOs4D,EAAe1wD,EAAe/D,GAEvC,iBACE7rC,WAAW,KACT,MAAMgoC,EAAWn5E,KAAKmsB,MAAMg1H,gBAC5BhoE,EAASvoC,UAAUtoC,IAAI,qBACvB6wE,EAASkoE,SAAS,CAAErtG,IAAKmlC,EAASs4D,aAAckR,SAAU,WAC1DxxG,WAAW,IAAMgoC,EAASvoC,UAAU78B,OAAO,uBAC1C,KAEL,UAAS,QAAEk2C,EAAO,KAAExS,IAClBz3C,KAAKusB,MAAM,YAAa,CAAE09B,UAASxS,UAErC,YAAYmU,GACV5rD,KAAKusB,MAAM,gBAAiBq/B,IAE9B,YAAYtxC,GACVta,KAAK0vI,aAAep1H,EAAMsoI,aAAa5yF,SAIvC6yF,GAAe,CAAExwI,MAAO,uCACxBywI,GAAe,CAAEzwI,MAAO,0BACxB0wI,GAAe,CACnBhgJ,IAAK,EACLsP,MAAO,oBAEH2wI,GAAe,CACnBjgJ,IAAK,EACLsP,MAAO,oBAEH4wI,GAAe,CACnBlgJ,IAAK,EACL2V,GAAI,4BAEAwqI,GAAa,CAAEngJ,IAAK,GACpBogJ,GAAa,CACjBpgJ,IAAK,EACLsP,MAAO,wCAET,SAAS+wI,GAAc1vH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM62H,EAAyBz5H,GAAiB,eAC1CsqC,EAAoBtqC,GAAiB,UACrC05H,EAA0B15H,GAAiB,gBAC3C2vB,EAAsB3vB,GAAiB,YACvC25H,EAAyB35H,GAAiB,eAChD,OAAOf,IAAgBoC,KAAaqW,GAAmB,MAAO,CAC5DjvB,MAAO,mBACPmxI,OAAQzsG,EAAO,MAAQA,EAAO,IAAM5B,GAAc,IAAItrC,IAAS2iB,EAASi3H,aAAej3H,EAASi3H,eAAe55I,GAAO,CAAC,aACvH65I,YAAa3sG,EAAO,MAAQA,EAAO,IAAM5B,GAAc,OACpD,CAAC,aACJwuG,WAAY5sG,EAAO,MAAQA,EAAO,IAAM5B,GAAc,OACnD,CAAC,aACJyuG,YAAa7sG,EAAO,MAAQA,EAAO,IAAM5B,GAAc,OACpD,CAAC,aACJ0uG,aAAc9sG,EAAO,MAAQA,EAAO,IAAM,IAAIltC,IAAS2iB,EAASs3H,YAAct3H,EAASs3H,cAAcj6I,KACpG,CACD2iB,EAASu3H,WAAal5H,GAAW6I,EAAKxH,OAAQ,mBAAoB,CAAEnpB,IAAK,GAAK,IAAM,CAClFw+B,GAAgB,MAAOshH,GAAc,CACnCthH,GAAgB,MAAO,KAAM/uB,GAAgBwZ,EAAO+sB,aAAairG,YAAa,QAE5E/4H,KAAaI,GAAYg4H,EAAwB,CACrDtgJ,IAAK,EACL,kBAAmBipB,EAAO4iC,cAC1B,gBAAiB5iC,EAAO+sB,aACxB,cAAe/sB,EAAO6oC,WACtB,kBAAmB7oC,EAAOumC,cAC1B,YAAavmC,EAAOwmC,SACpB,oBAAqBxmC,EAAO8oC,gBAC5B,eAAgB9oC,EAAO+oC,YACvBpG,KAAMniC,EAASmiC,KACf,4BAA6B5iC,EAAMipC,wBACnC,4BAA6BhpC,EAAOipC,wBACpC,0BAA2BlpC,EAAM0xH,iBAAiBl8I,OAClD0iJ,kBAAmBltG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,sBACpE23H,WAAYntG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,cAC7D43H,oBAAqBptG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,sBAAuBqtB,IAC7FwqG,gCAAiC53H,EAAS+pC,8BAC1C8tF,yBAA0BttG,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMipC,yBAA0B,IAC/FvqC,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC5qB,EAAG4Q,KACnB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,kBAAmB,gBAAiB,cAAe,kBAAmB,YAAa,oBAAqB,eAAgB,OAAQ,4BAA6B,4BAA6B,0BAA2B,qCAChOmgC,GAAgB,MAAO,CACrB7oB,GAAI,gBACJ9I,IAAK,kBACLyC,MAAO,uBACPiyI,SAAUvtG,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAAS+3H,mBAAqB/3H,EAAS+3H,qBAAqB16I,KAC5G,CACDoU,GAAYi2C,EAAmB,CAC7B9d,KAAMrqB,EAAM40H,gBACZ94I,KAAM,YACL4iB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,SACXmgC,GAAgB,MAAOuhH,GAAc,CACnCvhH,GAAgB,MAAO,CACrBlvB,MAAOJ,GAAe,CAAE,sBAAuB8Z,EAAM40H,mBACpD,CACD1iI,GAAY0wB,GAAY,CAAEz8B,KAAM,oBAAsB,CACpD+R,QAAS7H,GAAQ,IAAM,CACrBmlB,GAAgB,MAAO,KAAM,CAC3B/U,EAASg4H,gBAAkBv5H,KAAaqW,GAAmB,MAAOyhH,GAAc,CAC9El4H,GAAW6I,EAAKxH,OAAQ,iBAAkB,GAAI,IAAM,CAClD2W,GAAgBrwB,GAAgBwZ,EAAO+sB,aAAa0rG,gBAAiB,QAEnEzhH,GAAmB,IAAI,GAC7BxW,EAASk4H,qBAAuBz5H,KAAaqW,GAAmB,MAAO0hH,GAAcxwI,GAAgBwZ,EAAO+sB,aAAa4rG,sBAAwB,IAAMnyI,GAAgBwZ,EAAOoxH,SAAS,GAAGS,MAAO,IAAM76G,GAAmB,IAAI,OAGlOjuB,EAAG,IAELiX,EAAOoxH,SAAS77I,SAAWyqB,EAAOy0H,gBAAkBx1H,KAAaqW,GAAmB,MAAO2hH,GAAc,CACvGhlI,GAAYi2C,EAAmB,CAC7B9d,MAAM,EACNC,UAAU,EACVxuC,KAAM,qBACL4iB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,SACA4hC,GAAmB,IAAI,IAC5B/X,KAAaI,GAAYqoB,GAAiB,CACzC3wC,IAAKipB,EAAO09B,OACZx3C,KAAM,mBACN80B,IAAK,QACJ,CACD/iB,QAAS7H,GAAQ,IAAM,EACpB6O,IAAU,GAAOqW,GAAmBva,GAAU,KAAMuD,GAAW0B,EAAOoxH,SAAU,CAAC9sH,EAAGhvB,KAC5E2pB,KAAaqW,GAAmB,MAAO,CAC5Cv+B,IAAKutB,EAAEs0H,SAAWt0H,EAAEw7B,KACnB,CACD7tC,GAAYqlI,EAAyB,CACnC,kBAAmBt3H,EAAO4iC,cAC1B3E,QAAS35B,EACTtrB,MAAO1D,EACP87I,SAAUpxH,EAAOoxH,SACjB,oBAAqBrxH,EAAMsxH,gBAC3B,kBAAmBrxH,EAAOuuH,eAC1B,aAAc/tH,EAASmiC,KAAK/E,MAC5B,gBAAiB59B,EAAO+sB,aACxB,eAAgBhtB,EAAMuxH,YACtB,uBAAwBtxH,EAAOwuH,mBAC/B,4BAA6BxuH,EAAOuxH,uBACpC,kBAAmBvxH,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvB,mBAAoB/9B,EAAOwxH,gBAC3B,4BAA6BzxH,EAAMipC,wBACnC,oBAAqBjpC,EAAM0xH,iBAC3BoH,eAAgBr4H,EAASq4H,eACzB3E,uBAAwB1zH,EAAS2vH,qBACjCjC,WAAY1tH,EAAS6sH,SACrBe,cAAe5tH,EAAS6yH,YACxByF,oBAAqB/tG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,sBAAuBqtB,IAC7FumG,sBAAuB3zH,EAAS0vH,oBAChC6I,gBAAiBv4H,EAAS8yH,cAC1B0F,kBAAmBx4H,EAASy4H,iBAC3Bx6H,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,kBAAmB,UAAW,QAAS,WAAY,oBAAqB,kBAAmB,aAAc,gBAAiB,eAAgB,uBAAwB,4BAA6B,kBAAmB,eAAgB,mBAAoB,4BAA6B,oBAAqB,iBAAkB,yBAA0B,aAAc,gBAAiB,wBAAyB,kBAAmB,0BAE1a,QAEN2T,EAAG,MAEJ,MAEJ,KACFgX,EAAM40H,gBAwBD39G,GAAmB,IAAI,IAxBH/X,KAAaqW,GAAmB,MAAO4hH,GAAY,CAC3EjlI,GAAY0wB,GAAY,CAAEz8B,KAAM,cAAgB,CAC9C+R,QAAS7H,GAAQ,IAAM,CACrB2P,EAAM80H,YAAc51H,KAAaqW,GAAmB,MAAO,CACzDv+B,IAAK,EACLsP,MAAO,kBACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAK,IAAIltC,IAAS2iB,EAAS81H,gBAAkB91H,EAAS81H,kBAAkBz4I,KACrG,CACDoU,GAAY0wB,GAAY,CAAEz8B,KAAM,cAAgB,CAC9C+R,QAAS7H,GAAQ,IAAM,CACrB2P,EAAM+0H,qBAAuB71H,KAAaqW,GAAmB,MAAO6hH,GAAY3wI,GAAgBuZ,EAAM+0H,qBAAsB,IAAM99G,GAAmB,IAAI,KAE3JjuB,EAAG,IAEL8V,GAAW6I,EAAKxH,OAAQ,cAAe,GAAI,IAAM,CAC/CjO,GAAYs7B,EAAqB,CAC/BrnC,KAAM,WACNilC,MAAO,gBAGPnU,GAAmB,IAAI,KAE/BjuB,EAAG,OAGPkJ,GAAYslI,EAAwB,CAClC50F,KAAMniC,EAASmiC,KACf,UAAW3iC,EAAO09B,OAClB,eAAgB19B,EAAO0iH,YACvB,gBAAiB1iH,EAAO+sB,aACxB,iBAAkB/sB,EAAO2iH,aACzB,aAAc3iH,EAAO4iH,UACrB,aAAc5iH,EAAO6iH,UACrB,cAAe7iH,EAAO8iH,WACtB,cAAe9iH,EAAO+iH,WACtB,iBAAkB/iH,EAAOgjH,cACzB,0BAA2BhjH,EAAOijH,sBAClC,sBAAuBjjH,EAAOkjH,kBAC9B,oBAAqBljH,EAAOmjH,gBAC5B,4BAA6BnjH,EAAOojH,wBACpC,iBAAkBpjH,EAAOqjH,cACzB,kBAAmBrjH,EAAOq7B,eAC1B,eAAgBr7B,EAAO+9B,YACvB,iBAAkB/9B,EAAOsjH,aACzB,oBAAqBtjH,EAAOujH,gBAC5B,qBAAsBxjH,EAAMyjH,iBAC5B,oBAAqBzjH,EAAM0jH,gBAC3B,gBAAiB1jH,EAAM2jH,aACvBwV,wBAAyBnuG,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMsxH,gBAAkBzjG,GACvFurG,cAAepuG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,eAAgBqtB,IAChFwrG,cAAeruG,EAAO,KAAOA,EAAO,GAAM6C,GAAWlmB,EAAKnH,MAAM,eAAgBqtB,IAChFyrG,gBAAiBtuG,EAAO,MAAQA,EAAO,IAAO6C,GAAWlmB,EAAKnH,MAAM,iBAAkBqtB,IACtF0rG,wBAAyBvuG,EAAO,MAAQA,EAAO,IAAO6C,GAAWlmB,EAAKnH,MAAM,0BAA2BqtB,KACtGnvB,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWoJ,EAAKxH,OAAQ,CAAC4lC,EAAK5/C,KACrB,CACLA,OACA/M,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQha,EAAMC,GAAeqwB,GAAmBphC,YAIpE,KAAM,CAAC,OAAQ,UAAW,eAAgB,gBAAiB,iBAAkB,aAAc,aAAc,cAAe,cAAe,iBAAkB,0BAA2B,sBAAuB,oBAAqB,4BAA6B,iBAAkB,kBAAmB,eAAgB,iBAAkB,oBAAqB,qBAAsB,oBAAqB,mBACvY,MAAO,CACR,CAACw0C,GAAO5pB,EAAOwmC,WAAaxmC,EAAOumC,gBAAkBvmC,EAAOwmC,UAAYxmC,EAAO6oC,cAGnF,IAAI0wF,GAAuBtvG,GAAYsqG,GAAa,CAAC,CAAC,SAAU6C,MAChE,MAAMoC,GAAc,CAClBtzI,KAAM,eACN8c,WAAY,CACV6pB,YAEFzmC,MAAO,CACLqlC,KAAM,CAAE5vC,KAAM3F,OAAQo0C,UAAU,IAElCh7B,MAAO,CAAC,uBACRxS,SAAU,CACR,UACE,OAAOmmD,GAAYjvD,KAAKy3C,OAE1B,UACE,OAAOyX,GAAYlvD,KAAKy3C,QAG5B,UACEz3C,KAAKmsB,MAAMs5H,MAAM/sE,SAEnB/qD,QAAS,CACP,aACE3tB,KAAKusB,MAAM,0BAIXm5H,GAAe,CACnB3iJ,IAAK,EACLsP,MAAO,+BAEHszI,GAAa,CACjB5iJ,IAAK,EACLsP,MAAO,+BAEHuzI,GAAa,CACjBhlE,SAAU,GACVilE,SAAU,IAENC,GAAa,CAAC,OACdC,GAAa,CAAE1zI,MAAO,kBAC5B,SAAS2zI,GAActyH,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GAC1D,MAAM+sB,EAAsB3vB,GAAiB,YAC7C,OAAOqB,KAAaqW,GAAmB,MAAO,CAC5C1xB,IAAK,QACLq2I,SAAU,IACV5zI,MAAO,oBACPwnC,QAAS9C,EAAO,KAAOA,EAAO,GAAK5B,GAAc,IAAItrC,IAAS2iB,EAAS05H,YAAc15H,EAAS05H,cAAcr8I,GAAO,CAAC,UACpHyrI,UAAWv+F,EAAO,KAAOA,EAAO,GAAKrB,GAAS,IAAI7rC,IAAS2iB,EAAS05H,YAAc15H,EAAS05H,cAAcr8I,GAAO,CAAC,UAChH,CACDoU,GAAY0wB,GAAY,CACtBz8B,KAAM,qBACN8Q,OAAQ,IACP,CACDiB,QAAS7H,GAAQ,IAAM,CACrBoQ,EAASi0D,SAAWx1D,KAAaqW,GAAmB,MAAOokH,GAAc,CACvEnkH,GAAgB,MAAO,CACrBlvB,MAAO,oBACPE,MAAOnB,GAAe,CACpB,mBAAoB,QAAQ4a,EAAOyrB,KAAK2S,WAEzC,KAAM,MACL59B,EAASm0D,SAAW11D,KAAaqW,GAAmB,MAAOqkH,GAAY,CAC3EpkH,GAAgB,QAASqkH,GAAY,CACnCrkH,GAAgB,SAAU,CACxB8pB,IAAKr/B,EAAOyrB,KAAK2S,KAChB,KAAM,EAAG07F,SAEV9iH,GAAmB,IAAI,KAE/BjuB,EAAG,IAELwsB,GAAgB,MAAOwkH,GAAY,CACjCl7H,GAAW6I,EAAKxH,OAAQ,qBAAsB,GAAI,IAAM,CACtDjO,GAAYs7B,EAAqB,CAC/BrnC,KAAM,gBACNilC,MAAO,iBAIZ,KAEL,IAAIgvG,GAA+BlwG,GAAYuvG,GAAa,CAAC,CAAC,SAAUQ,MACpEI,GAAU,CACZ7xF,YAAa,WACbyvF,WAAY,mBACZ7E,aAAc,eACdn1F,gBAAiB,2BACjBy6F,eAAgB,cAChBE,qBAAsB,2BACtBtP,aAAc,eACd57F,OAAQ,SACR4b,UAAW,YACXE,UAAW,aACXxG,UAAW,gBACXyH,sBAAuB,UAEzB,MAAM6vF,GAAqB,CACzBC,MAAO,CACLC,QAAS,CACPx6E,MAAO,UACPy6E,iBAAkB,UAClBC,YAAa,OACbC,sBAAuB,UACvBC,gBAAiB,OACjBC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,OACdC,YAAa,oBACbC,qBAAsB,QAExBvuH,UAAW,CACTwuH,OAAQ,OACRC,aAAc,MACdC,UAAW,4EAEbvyC,OAAQ,CACNwyC,WAAY,OACZC,cAAe,UACfC,cAAe,WAEjBC,OAAQ,CACNH,WAAY,UACZI,iBAAkB,oBAClBC,oBAAqB,UACrBC,gBAAiB,UACjBC,oBAAqB,UACrBC,cAAe,WAEjBlgH,QAAS,CACP0/G,WAAY,WAEdS,SAAU,CACRT,WAAY,OACZU,gBAAiB,UACjBC,iBAAkB,UAClBC,YAAa,UACbC,kBAAmB,WAErBjwG,SAAU,CACRovG,WAAY,OACZU,gBAAiB,WAEnB79F,QAAS,CACPm9F,WAAY,OACZc,aAAc,UACdn8E,MAAO,UACPo8E,aAAc,UACdC,kBAAmB,UACnBC,mBAAoB,UACpBC,aAAc,UACdC,cAAe,UACfC,eAAgB,UAChBC,eAAgB,UAChBC,UAAW,UACXC,iBAAkB,UAClBC,YAAa,UACbC,gBAAiB,sBACjBnB,gBAAiB,sBACjBoB,mBAAoB,UACpBC,WAAY,UACZC,SAAU,UACVC,gBAAiB,OACjBC,iBAAkB,UAClBC,wBAAyB,UACzBC,mBAAoB,OACpBC,mBAAoB,OACpBC,oBAAqB,iBACrBC,wBAAyB,OACzBC,yBAA0B,iBAC1BC,qBAAsB,UACtBC,qBAAsB,UACtBC,sBAAuB,oBACvBC,0BAA2B,UAC3BC,2BAA4B,oBAC5BC,uBAAwB,UACxBC,sBAAuB,UACvBC,oBAAqB,sBACrBC,wBAAyB,UACzBC,gCAAiC,UACjCC,mBAAoB,WAEtBC,SAAU,CACRhD,WAAY,2BACZH,OAAQ,2BACRl7E,MAAO,UACPs+E,WAAY,WAEd17F,KAAM,CACJ45F,cAAe,UACf+B,aAAc,UACd9B,eAAgB,UAChB+B,iBAAkB,UAClBC,kBAAmB,UACnBC,uBAAwB,UACxBC,kBAAmB,QAErB9yG,MAAO,CACLwvG,WAAY,QAEduD,MAAO,CACLtzG,OAAQ,UACR/uC,IAAK,UACLgvC,OAAQ,UACRC,KAAM,UACNC,MAAO,UACPozG,WAAY,OACZnzG,KAAM,UACNC,UAAW,UACXmzG,aAAc,OACdC,aAAc,OACdnzG,KAAM,UACNozG,aAAc,UACdnzG,MAAO,UACP6mC,cAAe,qBACf93C,SAAU,UACVkR,OAAQ,UACRC,UAAW,UACXkzG,cAAe,UACfjzG,IAAK,OACLkzG,gBAAiB,OACjBC,0BAA2B,sBAC3BC,aAAc,UACdC,eAAgB,UAChBlzG,WAAY,UACZmzG,UAAW,UACXC,WAAY,UACZC,YAAa,UACbC,aAAc,YAGlBC,KAAM,CACJlF,QAAS,CACPx6E,MAAO,OACPy6E,iBAAkB,OAClBC,YAAa,OACbC,sBAAuB,UACvBC,gBAAiB,UACjBC,iBAAkB,UAClBC,WAAY,OACZC,aAAc,OACdC,YAAa,OACbC,qBAAsB,QAExBvuH,UAAW,CACTwuH,OAAQ,OACRC,aAAc,MACdC,UAAW,4EAEbvyC,OAAQ,CACNwyC,WAAY,UACZC,cAAe,OACfC,cAAe,WAEjBC,OAAQ,CACNH,WAAY,UACZI,iBAAkB,OAClBC,oBAAqB,UACrBC,gBAAiB,UACjBC,oBAAqB,UACrBC,cAAe,WAEjBlgH,QAAS,CACP0/G,WAAY,WAEdS,SAAU,CACRT,WAAY,UACZU,gBAAiB,UACjBC,iBAAkB,UAClBC,YAAa,OACbC,kBAAmB,WAErBjwG,SAAU,CACRovG,WAAY,UACZU,gBAAiB,WAEnB79F,QAAS,CACPm9F,WAAY,UACZc,aAAc,UACdn8E,MAAO,OACPo8E,aAAc,UACdC,kBAAmB,UACnBC,mBAAoB,UACpBC,aAAc,UACdC,cAAe,UACfC,eAAgB,UAChBC,eAAgB,qBAChBC,UAAW,UACXC,iBAAkB,qBAClBC,YAAa,UACbC,gBAAiB,sBACjBnB,gBAAiB,sBACjBoB,mBAAoB,OACpBC,WAAY,UACZC,SAAU,UACVC,gBAAiB,OACjBC,iBAAkB,OAClBC,wBAAyB,UACzBC,mBAAoB,OACpBC,mBAAoB,OACpBC,oBAAqB,OACrBC,wBAAyB,UACzBC,yBAA0B,OAC1BC,qBAAsB,OACtBC,qBAAsB,UACtBC,sBAAuB,OACvBC,0BAA2B,UAC3BC,2BAA4B,OAC5BC,uBAAwB,OACxBC,sBAAuB,UACvBC,oBAAqB,4BACrBC,wBAAyB,UACzBC,gCAAiC,UACjCC,mBAAoB,WAEtBC,SAAU,CACRhD,WAAY,2BACZH,OAAQ,2BACRl7E,MAAO,UACPs+E,WAAY,WAEd17F,KAAM,CACJ45F,cAAe,OACf+B,aAAc,UACd9B,eAAgB,UAChB+B,iBAAkB,UAClBC,kBAAmB,UACnBC,uBAAwB,UACxBC,kBAAmB,QAErB9yG,MAAO,CACLwvG,WAAY,WAEduD,MAAO,CACLtzG,OAAQ,UACR/uC,IAAK,OACLgvC,OAAQ,OACRC,KAAM,OACNC,MAAO,UACPozG,WAAY,OACZnzG,KAAM,UACNC,UAAW,OACXmzG,aAAc,OACdC,aAAc,OACdnzG,KAAM,OACNozG,aAAc,UACdnzG,MAAO,OACP6mC,cAAe,OACf93C,SAAU,UACVkR,OAAQ,UACRC,UAAW,UACXkzG,cAAe,UACfjzG,IAAK,OACLkzG,gBAAiB,OACjBC,0BAA2B,sBAC3BC,aAAc,OACdC,eAAgB,UAChBlzG,WAAY,OACZmzG,UAAW,UACXC,WAAY,UACZC,YAAa,UACbC,aAAc,aAIdE,GAAe,EACnBnF,UACA9tH,YACAm8E,SACA2yC,SACAM,WACAngH,UACAsQ,WACAiS,UACAmgG,WACAz7F,OACA/W,QACA+yG,YAEO,CACL,eAAgBpE,EAAQx6E,MACxB,4BAA6Bw6E,EAAQC,iBACrC,sBAAuBD,EAAQE,YAC/B,yBAA0BF,EAAQG,sBAClC,wBAAyBH,EAAQI,gBACjC,uBAAwBJ,EAAQO,aAChC,2BAA4BP,EAAQK,iBACpC,qBAAsBL,EAAQM,WAC9B,sBAAuBN,EAAQQ,YAC/B,wBAAyBR,EAAQS,qBACjC,0BAA2BvuH,EAAUwuH,OACrC,iCAAkCxuH,EAAUyuH,aAC5C,8BAA+BzuH,EAAU0uH,UACzC,yBAA0BvyC,EAAOwyC,WACjC,2BAA4BxyC,EAAOyyC,cACnC,2BAA4BzyC,EAAO0yC,cACnC,yBAA0BC,EAAOH,WACjC,4BAA6BG,EAAOC,iBACpC,qCAAsCD,EAAOE,oBAC7C,+BAAgCF,EAAOG,gBACvC,oCAAqCH,EAAOI,oBAC5C,6BAA8BJ,EAAOK,cACrC,0BAA2BlgH,EAAQ0/G,WACnC,2BAA4BS,EAAST,WACrC,iCAAkCS,EAASC,gBAC3C,kCAAmCD,EAASE,iBAC5C,+BAAgCF,EAASG,YACzC,sCAAuCH,EAASI,kBAChD,2BAA4BjwG,EAASovG,WACrC,iCAAkCpvG,EAAS8vG,gBAC3C,0BAA2B79F,EAAQm9F,WACnC,6BAA8Bn9F,EAAQi+F,aACtC,+BAAgCj+F,EAAQk+F,aACxC,kCAAmCl+F,EAAQm+F,kBAC3C,mCAAoCn+F,EAAQo+F,mBAC5C,+BAAgCp+F,EAAQq+F,aACxC,gCAAiCr+F,EAAQs+F,cACzC,iCAAkCt+F,EAAQu+F,eAC1C,+BAAgCv+F,EAAQw+F,eACxC,4BAA6Bx+F,EAAQy+F,UACrC,iCAAkCz+F,EAAQ0+F,iBAC1C,8BAA+B1+F,EAAQ2+F,YACvC,uBAAwB3+F,EAAQ8hB,MAChC,gCAAiC9hB,EAAQ4+F,gBACzC,gCAAiC5+F,EAAQy9F,gBACzC,sCAAuCz9F,EAAQ6+F,mBAC/C,qCAAsC7+F,EAAQ8+F,WAC9C,2BAA4B9+F,EAAQ++F,SACpC,gCAAiC/+F,EAAQg/F,gBACzC,oCAAqCh/F,EAAQi/F,iBAC7C,yCAA0Cj/F,EAAQk/F,wBAClD,sCAAuCl/F,EAAQm/F,mBAC/C,mCAAoCn/F,EAAQo/F,mBAC5C,uCAAwCp/F,EAAQq/F,oBAChD,yCAA0Cr/F,EAAQs/F,wBAClD,6CAA8Ct/F,EAAQu/F,yBACtD,wCAAyCv/F,EAAQw/F,qBACjD,sCAAuCx/F,EAAQy/F,qBAC/C,0CAA2Cz/F,EAAQ0/F,sBACnD,4CAA6C1/F,EAAQ2/F,0BACrD,gDAAiD3/F,EAAQ4/F,2BACzD,2CAA4C5/F,EAAQ6/F,uBACpD,uCAAwC7/F,EAAQ8/F,sBAChD,qCAAsC9/F,EAAQ+/F,oBAC9C,yCAA0C//F,EAAQggG,wBAClD,kDAAmDhgG,EAAQigG,gCAC3D,sCAAuCjgG,EAAQkgG,mBAC/C,qBAAsBC,EAAShD,WAC/B,yBAA0BgD,EAASnD,OACnC,wBAAyBmD,EAASr+E,MAClC,8BAA+Bq+E,EAASC,WACxC,6BAA8B17F,EAAK45F,cACnC,4BAA6B55F,EAAK27F,aAClC,8BAA+B37F,EAAK65F,eACpC,2BAA4B75F,EAAK47F,iBACjC,4BAA6B57F,EAAK67F,kBAClC,6BAA8B77F,EAAK87F,uBACnC,0BAA2B97F,EAAK+7F,kBAChC,wBAAyB9yG,EAAMwvG,WAC/B,2BAA4BuD,EAAMtzG,OAClC,wBAAyBszG,EAAMriJ,IAC/B,2BAA4BqiJ,EAAMrzG,OAClC,yBAA0BqzG,EAAMpzG,KAChC,0BAA2BozG,EAAMnzG,MACjC,gCAAiCmzG,EAAMC,WACvC,yBAA0BD,EAAMlzG,KAChC,8BAA+BkzG,EAAMjzG,UACrC,kCAAmCizG,EAAME,aACzC,kCAAmCF,EAAMG,aACzC,yBAA0BH,EAAMhzG,KAChC,kCAAmCgzG,EAAMI,aACzC,0BAA2BJ,EAAM/yG,MACjC,mCAAoC+yG,EAAMlsE,cAC1C,6BAA8BksE,EAAMhkH,SACpC,2BAA4BgkH,EAAM9yG,OAClC,8BAA+B8yG,EAAM7yG,UACrC,mCAAoC6yG,EAAMK,cAC1C,wBAAyBL,EAAM5yG,IAC/B,qCAAsC4yG,EAAMM,gBAC5C,kCAAmCN,EAAMO,0BACzC,kCAAmCP,EAAMQ,aACzC,oCAAqCR,EAAMS,eAC3C,+BAAgCT,EAAMzyG,WACtC,+BAAgCyyG,EAAMU,UACtC,gCAAiCV,EAAMW,WACvC,iCAAkCX,EAAMY,YACxC,kCAAmCZ,EAAMa,eAG7C,IAAIG,GAAW,qgoCACf,MAAMC,GAAY,CAChB15I,KAAM,gBACN8c,WAAY,CACV2lC,aACA4wF,QACAY,iBAEF/zI,MAAO,CACLsmC,OAAQ,CAAE7wC,KAAMxG,OAAQ4iB,QAAS,SACjC4nI,MAAO,CAAEhkJ,KAAMxG,OAAQ4iB,QAAS,SAChCupB,OAAQ,CAAE3lC,KAAM,CAAC3F,OAAQb,QAAS4iB,QAAS,KAAM,KACjD6nI,qBAAsB,CAAEjkJ,KAAMuD,OAAQ6Y,QAAS,KAC/C4wC,WAAY,CAAEhtD,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAChD8nI,gBAAiB,CAAElkJ,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACrD80B,aAAc,CAAElxC,KAAM,CAAC3F,OAAQb,QAAS4iB,QAAS,KAAM,KACvD2qC,cAAe,CAAE/mD,KAAMxG,OAAQ4iB,QAAS,IACxCi1B,MAAO,CAAErxC,KAAM,CAAC3E,MAAO7B,QAAS4iB,QAAS,IAAM,IAC/C+nI,WAAY,CAAEnkJ,KAAMxG,OAAQ4iB,QAAS,QACrCk1B,aAAc,CAAEtxC,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAClDwuC,YAAa,CAAE5qD,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACjDylC,OAAQ,CAAE7hD,KAAMxG,OAAQ4iB,QAAS,MACjCu8H,cAAe,CAAE34I,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACnDm5H,SAAU,CAAEv1I,KAAM,CAAC3E,MAAO7B,QAAS4iB,QAAS,IAAM,IAClDw8H,eAAgB,CAAE54I,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACpDsrC,YAAa,CAAE1nD,KAAM,CAAC3E,MAAO7B,QAAS4iB,QAAS,IAAM,IACrD8wC,YAAa,CAAEltD,KAAM,CAAC3E,MAAO7B,QAAS4iB,QAAS,IAAM,IACrDs2H,eAAgB,CACd1yI,KAAM,CAAC3E,MAAO7B,QACd4iB,QAAS,IAAM,CACb,CAAE/R,KAAM,eAAgB+/C,MAAO,SAC/B,CAAE//C,KAAM,cAAe+/C,MAAO,eAAgBgpF,QAAQ,GACtD,CAAE/oI,KAAM,gBAAiB+/C,MAAO,iBAAkBgpF,QAAQ,GAC1D,CAAE/oI,KAAM,iBAAkB+/C,MAAO,YAGrCgD,wBAAyB,CAAEptD,KAAM,CAAC3E,MAAO7B,QAAS4iB,QAAS,IAAM,IACjEy8H,WAAY,CACV74I,KAAM,CAAC3F,OAAQb,QACf4iB,QAAS,KACA,CACL0zB,KAAM,CACJ8Z,KAAK,EACL4wF,kBAAkB,GAEpBE,QAAS,CACP9wF,KAAK,EACL4wF,kBAAkB,MAK1B3vF,wBAAyB,CAAE7qD,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAC7D+0B,WAAY,CAAEnxC,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAChDg1B,YAAa,CAAEpxC,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACjD0qH,aAAc,CAAE9mI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAClD2qH,UAAW,CAAE/mI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAC/C4qH,UAAW,CAAEhnI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAC/CqrH,aAAc,CAAEznI,KAAMuD,OAAQ6Y,QAAS,KACvCsrH,gBAAiB,CAAE1nI,KAAMuD,OAAQ6Y,QAAS,OAC1C6qH,WAAY,CAAEjnI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAChDu2H,mBAAoB,CAAE3yI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACxDs5H,uBAAwB,CAAE11I,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAC5D8qH,WAAY,CAAElnI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAChDojC,eAAgB,CACdx/C,KAAM,CAAC3F,OAAQb,QACf4iB,QAAS,KAAM,CACbkmC,UAAU,EACV3C,OAAQ,IACRD,KAAM,IACNE,OAAQ,IACRC,UAAW,IACXC,cAAe,MACfC,WAAY,OAGhBmC,YAAa,CACXliD,KAAM,CAAC3F,OAAQb,QACf4iB,QAAS,KAAM,CAAGkmC,UAAU,EAAOviD,OAAQ,SAAUglD,IAAK,QAE5DkI,gBAAiB,CAAEjtD,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACrDgrH,sBAAuB,CAAEpnI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAC3DirH,kBAAmB,CAAErnI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACvDkrH,gBAAiB,CAAEtnI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACrDmrH,wBAAyB,CAAEvnI,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GAC7DyqH,YAAa,CAAE7mI,KAAMxG,OAAQ4iB,QAAS,IACtC0uC,eAAgB,CAAE9qD,KAAMuD,OAAQ6Y,QAAS,IACzC+qH,cAAe,CAAEnnI,KAAMxG,OAAQ4iB,QAAS,KACxCorH,cAAe,CAAExnI,KAAM,CAAC3E,MAAO7B,QAAS4iB,QAAS,IAAM,IACvDgoI,oBAAqB,CAAEpkJ,KAAM,CAACob,QAAS5hB,QAAS4iB,SAAS,GACzDu5H,gBAAiB,CACf31I,KAAM,CAAC3F,OAAQb,QACf4iB,QAAS,KAAM,CAAG25H,SAAU,EAAGD,aAAa,MAGhDriI,MAAO,CACL,oBACA,YACA,iBACA,eACA,eACA,iBACA,YACA,gBACA,sBACA,sBACA,yBACA,wBACA,iBACA,0BACA,mBACA,WACA,cACA,sBACA,oCAEF,OACE,MAAO,CACL2B,MAAO,GACP0xC,KAAM,GACNoE,kBAAkB,EAClBR,eAAe,EACfC,UAAU,EACV05F,kBAAkB,EAClBC,YAAa,KAGjBrjJ,SAAU,CACR,IACE,MAAO,IACFs9I,MACApmJ,KAAKosJ,qBAGZ,UACE,MAAMC,EAAgBhG,GAAmBrmJ,KAAK6rJ,OACxCS,EAAe,GAOrB,OANApqJ,OAAOkc,KAAKiuI,GAAepqJ,IAAKc,IAC9BupJ,EAAavpJ,GAAO,IACfspJ,EAActpJ,MACd/C,KAAKusJ,aAAaxpJ,IAAQ,MAG1B2oJ,GAAaY,IAEtB,eACE,OAAOtsJ,KAAKwsJ,YAAY1oJ,QAAQmW,KAAK,CAACC,EAAGC,KACvC,MAAMsyI,EAAOvyI,EAAElV,OAAS,EAClB0nJ,EAAOvyI,EAAEnV,OAAS,EACxB,MAAwB,QAApBhF,KAAKgsJ,WACAS,EAAOC,GAAQ,EAAIA,EAAOD,EAAO,EAAI,EAEvCA,EAAOC,GAAQ,EAAIA,EAAOD,EAAO,EAAI,KAGhD,mBACE,OAAOzsJ,KAAK2sJ,YAAY3sJ,KAAK60D,aAE/B,wBACE,OAAO70D,KAAK2sJ,YAAY3sJ,KAAK+rJ,kBAE/B,qBACE,OAAO/rJ,KAAK2sJ,YAAY3sJ,KAAKm5C,eAE/B,oBACE,OAAOn5C,KAAK2sJ,YAAY3sJ,KAAKyyD,cAE/B,sBACE,OAAOzyD,KAAK2sJ,YAAY3sJ,KAAKwgJ,gBAE/B,uBACE,OAAOxgJ,KAAK2sJ,YAAY3sJ,KAAKygJ,iBAE/B,mBACE,OAAOzgJ,KAAK2sJ,YAAY3sJ,KAAKg5C,aAE/B,oBACE,OAAOh5C,KAAK2sJ,YAAY3sJ,KAAKi5C,cAE/B,qBACE,OAAOj5C,KAAK2sJ,YAAY3sJ,KAAK2uI,eAE/B,kBACE,OAAO3uI,KAAK2sJ,YAAY3sJ,KAAK4uI,YAE/B,kBACE,OAAO5uI,KAAK2sJ,YAAY3sJ,KAAK6uI,YAE/B,mBACE,OAAO7uI,KAAK2sJ,YAAY3sJ,KAAK8uI,aAE/B,2BACE,OAAO9uI,KAAK2sJ,YAAY3sJ,KAAKw6I,qBAE/B,+BACE,OAAOx6I,KAAK2sJ,YAAY3sJ,KAAKu9I,yBAE/B,mBACE,OAAOv9I,KAAK2sJ,YAAY3sJ,KAAK+uI,aAE/B,wBACE,OAAO/uI,KAAK2sJ,YAAY3sJ,KAAK80D,kBAE/B,8BACE,OAAO90D,KAAK2sJ,YAAY3sJ,KAAKivI,wBAE/B,0BACE,OAAOjvI,KAAK2sJ,YAAY3sJ,KAAKkvI,oBAE/B,wBACE,OAAOlvI,KAAK2sJ,YAAY3sJ,KAAKmvI,kBAE/B,gCACE,OAAOnvI,KAAK2sJ,YAAY3sJ,KAAKovI,0BAE/B,4BACE,OAAOpvI,KAAK2sJ,YAAY3sJ,KAAKisJ,sBAE/B,cACE,OAAOjsJ,KAAK4sJ,UAAU5sJ,KAAKk5C,QAE7B,iBACE,OAAOl5C,KAAK4sJ,UAAU5sJ,KAAKo9I,WAE7B,oBACE,OAAOp9I,KAAK4sJ,UAAU5sJ,KAAKuvD,cAE7B,oBACE,OAAOvvD,KAAK4sJ,UAAU5sJ,KAAK+0D,cAE7B,uBACE,OAAO/0D,KAAK4sJ,UAAU5sJ,KAAKu6I,iBAE7B,gCACE,OAAOv6I,KAAK4sJ,UAAU5sJ,KAAKi1D,0BAE7B,sBACE,OAAOj1D,KAAK4sJ,UAAU5sJ,KAAKqvI,gBAE7B,eACE,OAAOrvI,KAAK6sJ,WAAW7sJ,KAAKwtC,SAE9B,qBACE,OAAOxtC,KAAK6sJ,WAAW7sJ,KAAK+4C,eAE9B,mBACE,OAAO/4C,KAAK6sJ,WAAW7sJ,KAAK0gJ,aAE9B,uBACE,OAAO1gJ,KAAK6sJ,WAAW7sJ,KAAKqnD,iBAE9B,oBACE,OAAOrnD,KAAK6sJ,WAAW7sJ,KAAK+pD,cAE9B,wBACE,OAAO/pD,KAAK6sJ,WAAW7sJ,KAAKw9I,mBAGhC78H,MAAO,CACL6rI,YAAa,CACX1rI,WAAW,EACXC,MAAM,EACN,QAAQjR,EAAQmjD,GAId,GAHKnjD,EAAO,IAAOA,EAAO42C,KAAMiI,GAASA,EAAKjF,SAAW1pD,KAAK2uD,KAAKjF,UACjE1pD,KAAKuyD,eAAgB,IAElBvyD,KAAK+yD,kBAAoB/yD,KAAK8sJ,qBAAuBh9I,EAAO,MAAQmjD,GAAUnjD,EAAOvO,SAAW0xD,EAAO1xD,QAC1G,GAAIvB,KAAK0pD,OAAQ,CACf,MAAMiF,EAAO7+C,EAAO42C,KAAM32C,GAAMA,EAAE25C,SAAW1pD,KAAK0pD,SAAW,GAC7D1pD,KAAK+sJ,UAAU,CAAEp+F,cACP3uD,KAAKwyD,UAAYxyD,KAAKgtJ,iBAChChtJ,KAAK+sJ,UAAU,CAAEp+F,KAAM3uD,KAAKitJ,aAAa,KAEzCjtJ,KAAKuyD,eAAgB,IAK7B,mBAAmBjwD,GACbA,IACFtC,KAAK2uD,KAAO,KAEhBjF,OAAQ,CACN5oC,WAAW,EACX,QAAQhR,EAAQmjD,GACd,GAAInjD,IAAW9P,KAAKktJ,oBAAsBltJ,KAAKwsJ,YAAYjrJ,OAAQ,CACjE,MAAMotD,EAAO3uD,KAAKwsJ,YAAY9lG,KAAM32C,GAAMA,EAAE25C,SAAW55C,GACvD9P,KAAK+sJ,UAAU,CAAEp+F,cACRsE,IAAWnjD,IACpB9P,KAAK2uD,KAAO,MAIlB,KAAKrsD,GACEA,GAAsC,IAA/BJ,OAAO8Q,QAAQ1Q,GAAKf,SAEhCm7I,GAAgBp6I,GAChBA,EAAIsnD,MAAMjhD,QAASijD,IACjBmxF,GAAsBnxF,OAG1BuhG,sBAAuB,CACrBrsI,WAAW,EACX,QAAQxe,GACNtC,KAAKuyD,cAAgBjwD,KAI3B,UACEtC,KAAKotJ,mBACLl3I,OAAOy0B,iBAAiB,SAAWgpB,IAC7BA,EAAG05F,WACLrtJ,KAAKotJ,sBAGX,UACE,MAAMnwI,EAAQ0pB,SAAS2mH,iBAAiB,UACpCttJ,KAAKid,MAAM1b,SAAW0b,EAAM1b,SAC9BvB,KAAKid,MAAQA,IAGjB0Q,QAAS,CACP,YAAYrrB,GACV,MAAe,SAARA,IAA0B,IAARA,GAE3B,UAAUA,GACR,OAAQA,EAAWY,MAAMC,QAAQb,GAAOA,EAAMqQ,KAAK+3H,MAAMpoI,GAA3C,IAEhB,WAAWA,GACT,OAAQA,EAA0B,kBAARA,EAAmBA,EAAMqQ,KAAK+3H,MAAMpoI,GAAhD,IAEhB,mBACEtC,KAAKwyD,SAAWt8C,OAAOqpE,WAAan0E,OAAOpL,KAAK8rJ,uBAElD,kBACE9rJ,KAAKuyD,eAAiBvyD,KAAKuyD,cACvBvyD,KAAKwyD,WACPxyD,KAAK2uD,KAAO,IACd3uD,KAAKusB,MAAM,oBAAqB,CAAEghI,OAAQvtJ,KAAKuyD,iBAEjD,WAAU,KAAE5D,IACV3uD,KAAK2uD,KAAOA,EACZ3uD,KAAKwtJ,cAAc,CAAEhjH,OAAO,IACxBxqC,KAAKwyD,WACPxyD,KAAKuyD,eAAgB,IAEzB,iBACEvyD,KAAKusB,MAAM,qBAEb,WACEvsB,KAAKusB,MAAM,YAAavsB,KAAK2uD,OAE/B,UACE3uD,KAAKusB,MAAM,aAEb,WAAWjqB,GACTtC,KAAKusB,MAAM,cAAe,CAAE3oB,MAAOtB,EAAKonD,OAAQ1pD,KAAK2uD,KAAKjF,UAE5D,cAAc5tC,GACZ9b,KAAKusB,MAAM,iBAAkB,CAAEoiC,KAAM3uD,KAAK2uD,KAAMlI,QAAS3qC,KAE3D,YAAYmuC,GACVjqD,KAAKusB,MAAM,eAAgB,IAAK09B,EAASP,OAAQ1pD,KAAK2uD,KAAKjF,UAE7D,YAAYO,GACVjqD,KAAKusB,MAAM,eAAgB,IAAK09B,EAASP,OAAQ1pD,KAAK2uD,KAAKjF,UAE7D,cAAcO,GACZjqD,KAAKusB,MAAM,iBAAkB,CAAE09B,UAASP,OAAQ1pD,KAAK2uD,KAAKjF,UAE5D,UAAS,QAAEO,EAAO,KAAExS,IACdz3C,KAAKytJ,2BAA6C,YAAhBh2G,EAAK0Y,QACzCnwD,KAAKmsJ,YAAc10G,EAAKA,KACxBz3C,KAAKksJ,kBAAmB,GAExBlsJ,KAAKusB,MAAM,YAAa,CAAE09B,UAASxS,UAGvC,aAAY,KAAEmU,IACZ5rD,KAAKusB,MAAM,gBAAiB,CAAEq/B,UAEhC,mBAAkB,QAAE3B,IAClBjqD,KAAKusB,MAAM,sBAAuB,CAChC09B,UACAP,OAAQ1pD,KAAK2uD,KAAKjF,UAGtB,kBAAkBiK,GAChB3zD,KAAKusB,MAAM,sBAAuB,CAChC4jC,OAAQwD,EACRjK,OAAQ1pD,KAAK2uD,KAAKjF,UAGtB,mBAAkB,OAAEyG,EAAM,OAAEzG,IAC1B1pD,KAAKusB,MAAM,sBAAuB,CAChC4jC,SACAzG,YAGJ,qBAAqBiK,GACnB3zD,KAAKusB,MAAM,yBAA0B,IAChConC,EACHjK,OAAQ1pD,KAAK2uD,KAAKjF,UAGtB,8BAA8BiK,GAC5B3zD,KAAKusB,MAAM,mCAAoC,IAC1ConC,EACHjK,OAAQ1pD,KAAK2uD,KAAKjF,UAGtB,oBAAoBg5F,GAClB1iJ,KAAKusB,MAAM,wBAAyB,IAC/Bm2H,EACHh5F,OAAQ1pD,KAAK2uD,KAAKjF,UAGtB,cAAcO,GACZjqD,KAAKusB,MAAM,iBAAkB,CAC3B09B,UACAP,OAAQ1pD,KAAK2uD,KAAKjF,UAGtB,sBAAsBO,GACpBjqD,KAAKusB,MAAM,0BAA2B,CACpC09B,UACAP,OAAQ1pD,KAAK2uD,KAAKjF,YAKpBgkG,GAAa,CAAEr7I,MAAO,sBAC5B,SAASs7I,GAAYj6H,EAAMqjB,EAAQ/qB,EAAQgrB,EAAQjrB,EAAOS,GACxD,MAAMohI,EAAwBhkI,GAAiB,cACzCikI,EAAkBjkI,GAAiB,QACnCkkI,EAA2BlkI,GAAiB,iBAClD,OAAOqB,KAAaqW,GAAmB,MAAO,CAC5CjvB,MAAO,kBACPE,MAAOnB,GAAe,CAAC,CAAEsnC,OAAQ1sB,EAAO0sB,QAAUlsB,EAASuhI,WAC1D,CACDxsH,GAAgB,MAAOmsH,GAAY,CAChClhI,EAASwgI,iBAgCsVhqH,GAAmB,IAAI,IAhCzV/X,KAAaI,GAAYuiI,EAAuB,CAC5E7qJ,IAAK,EACL,kBAAmBipB,EAAO4iC,cAC1B1V,MAAO1sB,EAASygI,aAChB,gBAAiBzgI,EAAS0gI,mBAC1B,eAAgB1gI,EAASwhI,kBACzBr/F,KAAM5iC,EAAM4iC,KACZ,eAAgBniC,EAASyhI,kBACzB,6BAA8BjiI,EAAO0mC,wBACrC,gBAAiBlmC,EAASpsB,EAC1B,cAAeosB,EAAS0hI,iBACxB,gBAAiB1hI,EAAS2hI,kBAC1B,kBAAmBpiI,EAAMwmC,eAAiB/lC,EAAS2gI,sBACnD,kBAAmB3gI,EAAS4hI,qBAC5B,eAAgB5hI,EAAS6hI,kBACzB,YAAatiI,EAAMymC,SACnB,kBAAmBxmC,EAAO2mC,eAC1B27F,YAAa9hI,EAASugI,UACtBwB,iBAAkB/hI,EAASgiI,eAC3BC,mBAAoB13G,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMgnC,iBAAmBnZ,GACnF0a,UAAW9nC,EAASkiI,QACpBt6F,aAAc5nC,EAAS6nC,WACvBK,oBAAqBloC,EAASwlC,mBAC7BvnC,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWyB,EAAM9O,MAAQjJ,IAChB,CACL9B,KAAM8B,EAAG2W,KACTxlB,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQlY,EAAG2W,KAAMxY,GAAeqwB,GAAmBphC,YAIvE,KAAM,CAAC,kBAAmB,QAAS,gBAAiB,eAAgB,OAAQ,eAAgB,6BAA8B,gBAAiB,cAAe,gBAAiB,kBAAmB,kBAAmB,eAAgB,YAAa,kBAAmB,cAAe,mBAAoB,YAAa,eAAgB,yBACrU6c,GAAY4vI,EAAiB,CAC3B,kBAAmB7hI,EAAO4iC,cAC1B1V,MAAO1sB,EAASggI,YAChB,UAAWzgI,EAAM4iC,KAAKjF,QAAU,GAChC,kBAAmBl9B,EAASsgI,oBAC5B1P,SAAU5wH,EAASmiI,eACnB,eAAgB3iI,EAAO0iH,YACvB,kBAAmBliH,EAASoiI,qBAC5B,eAAgBpiI,EAASqiI,kBACzB,kBAAmBriI,EAASsiI,qBAC5B,4BAA6BtiI,EAASuiI,8BACtC,cAAeviI,EAASwiI,iBACxB,iBAAkBxiI,EAASyiI,mBAC3B,aAAcziI,EAAS0iI,gBACvB,aAAc1iI,EAAS2iI,gBACvB,iBAAkBnjI,EAAOsjH,aACzB,oBAAqBtjH,EAAOujH,gBAC5B,cAAe/iH,EAAS4iI,iBACxB,uBAAwB5iI,EAAS6iI,yBACjC,4BAA6B7iI,EAAS8iI,6BACtC,cAAe9iI,EAAS+iI,iBACxB,gBAAiB/iI,EAASpsB,EAC1B,cAAeosB,EAASwgI,iBACxB,kBAAmBjhI,EAAMwmC,eAAiB/lC,EAAS2gI,sBACnD,kBAAmB3gI,EAAS4hI,qBAC5B,eAAgB5hI,EAAS6hI,kBACzB,YAAatiI,EAAMymC,SACnB,gBAAiBhmC,EAAS0gI,mBAC1B,oBAAqB1gI,EAASgjI,sBAC9B,0BAA2BhjI,EAASijI,4BACpC,sBAAuBjjI,EAASkjI,wBAChC,oBAAqBljI,EAASmjI,sBAC9B,4BAA6BnjI,EAASojI,8BACtC,kBAAmB5jI,EAAO2mC,eAC1B,iBAAkB3mC,EAAOgjH,cACzB,iBAAkBxiH,EAASqjI,oBAC3B,mBAAoBrjI,EAASsjI,sBAC7B7L,kBAAmBz3H,EAASujI,gBAC5B7L,WAAY13H,EAASwjI,SACrBC,gBAAiBzjI,EAASghI,cAC1BpI,cAAe54H,EAASwkH,YACxBmU,cAAe34H,EAASqkH,YACxBqf,gBAAiB1jI,EAAS2jI,cAC1BjW,WAAY1tH,EAAS6sH,SACrBe,cAAe5tH,EAAS6yH,YACxByF,oBAAqBt4H,EAAS4jI,kBAC9BjM,oBAAqB33H,EAASiqC,kBAC9BypF,uBAAwB1zH,EAAS2vH,qBACjCiI,gCAAiC53H,EAAS+pC,8BAC1C4pF,sBAAuB3zH,EAAS0vH,oBAChCmJ,gBAAiB74H,EAAS6jI,cAC1B/K,wBAAyB94H,EAASupH,uBACjCtrH,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWyB,EAAM9O,MAAQjJ,IAChB,CACL9B,KAAM8B,EAAG2W,KACTxlB,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQlY,EAAG2W,KAAMxY,GAAeqwB,GAAmBphC,YAIvE,KAAM,CAAC,kBAAmB,QAAS,UAAW,kBAAmB,WAAY,eAAgB,kBAAmB,eAAgB,kBAAmB,4BAA6B,cAAe,iBAAkB,aAAc,aAAc,iBAAkB,oBAAqB,cAAe,uBAAwB,4BAA6B,cAAe,gBAAiB,cAAe,kBAAmB,kBAAmB,eAAgB,YAAa,gBAAiB,oBAAqB,0BAA2B,sBAAuB,oBAAqB,4BAA6B,kBAAmB,iBAAkB,iBAAkB,mBAAoB,oBAAqB,aAAc,kBAAmB,gBAAiB,gBAAiB,kBAAmB,aAAc,gBAAiB,sBAAuB,sBAAuB,yBAA0B,kCAAmC,wBAAyB,kBAAmB,8BAEt8B6c,GAAY0wB,GAAY,CACtBz8B,KAAM,mBACN8Q,OAAQ,IACP,CACDiB,QAAS7H,GAAQ,IAAM,CACrB2P,EAAMmgI,kBAAoBjhI,KAAaI,GAAYyiI,EAA0B,CAC3E/qJ,IAAK,EACL00C,KAAM1rB,EAAMogI,YACZmE,oBAAqBv5G,EAAO,KAAOA,EAAO,GAAM6C,GAAW7tB,EAAMmgI,kBAAmB,IACnFzhI,GAAY,CAAE1V,EAAG,GAAK,CACvBuV,GAAWyB,EAAM9O,MAAQjJ,IAChB,CACL9B,KAAM8B,EAAG2W,KACTxlB,GAAIiX,GAAShb,GAAS,CACpBypB,GAAW6I,EAAKxH,OAAQlY,EAAG2W,KAAMxY,GAAeqwB,GAAmBphC,YAIvE,KAAM,CAAC,UAAY4hC,GAAmB,IAAI,KAEhDjuB,EAAG,KAEJ,GAEL,IAAIw7I,GAA6Bt6G,GAAY21G,GAAW,CAAC,CAAC,SAAU+B,IAAc,CAAC,SAAU,CAAChC,OAC9F,MAAM6E,GAAkBvkH,GAAoBskH,IACtCE,GAAe,oBACrB,SAASC,KACFpyE,eAAev2E,IAAI0oJ,KACtBnyE,eAAe1+E,OAAO6wJ,GAAcD,O,0FCj16BlCn+I,MAAM,Q,gHAAXs+I,gCAoCM,MApCNjD,EAoCM,CANE3hI,YAAQ,yBADf6kI,yBAMEC,G,MAJAC,kBAAiBtkI,gBACjBq/H,MAAO9/H,QACPglI,YAAWhlI,WACXilI,eAAgBhlI,kB,mJC1BpB,MAAMilI,EAAa,QAEbC,EAAU,CAACtiG,EAAerY,EAAW46G,IACnCvhJ,eAAIwhJ,OAAU,GAAEH,KAAcriG,KAAiBrY,KAAa46G,KAGvDE,EAAa,CAACziG,EAAerY,EAAWkB,IAC7C65G,eACNJ,EACCtiG,EACArY,EACC,GAAEkB,EAAKvlC,QAAQulC,EAAKwY,WAAaxY,EAAK5vC,SAK7B0pJ,EAAqB3hJ,GAC1B4hJ,eAAe5hJ,GAGV6hJ,EAAiB,CAAC7iG,EAAerY,EAAWkB,EAAM5vC,KAC9D,MAAM6pJ,EAAgBR,EACrBtiG,EACArY,EACC,GAAEkB,EAAKvlC,QAAQrK,KAGjB,OAAO8pJ,eAAqBD,EAAej6G,EAAKg0F,KAAM,CACrDmmB,YAAa/pJ,KAIFgqJ,EAA4B,CACxCjjG,EACArY,EACAkB,EACA5vC,EACAmF,EACAsK,EACAw6I,KAEA,MAAMC,EAAaN,EAAe7iG,EAAerY,EAAWkB,EAAM5vC,GAElEkqJ,EAAW/tH,GACV,gBACAguH,IACC,MAAMnwE,EAAWjkD,KAAKwtB,MACpB4mG,EAAKC,iBAAmBD,EAAKE,WAAc,KAE7CllJ,EAAS60E,IAEVswE,IACC76I,EAAM66I,IAEPz4F,UACC,MAAMtP,QAAYmnG,EAAmBQ,EAAWK,SAASxiJ,KACzDkiJ,EAAQ1nG,M,gRChEVumG,gCAgFM,OAhFDt+I,MAAK,6BAAC,mBAAkB,iBAA4B2Z,e,CAqCxDqmI,gCAmCE,qBAlCDziJ,IAAI,aACH8oC,OAAQlsB,eACRq/H,MAAO7/H,QACPwhB,OAAQ76B,KAAKC,UAAUmZ,UACvB+kI,kBAAiB9kI,gBACjBsmI,UAASvmI,SACTmtB,MAAOvmC,KAAKC,UAAU4Z,eACtB+lI,gBAAexmI,eACfymI,eAAczmI,cACdqxH,SAAUzqI,KAAKC,UAAUmZ,YACzB0mI,kBAAiB1mI,iBACjB2mI,eAAc3mI,cACd4mI,eAAchgJ,KAAKC,UAAUmZ,eAC7B6mI,eAAcjgJ,KAAKC,UAAUmZ,eAC7B8mI,4BAA2BlgJ,KAAKC,UAAUmZ,2BAC1C+mI,iBAAgBngJ,KAAKC,UAAUmZ,iBAC/BgnI,iBAAe,EAEfxE,iBAAgB,oBAAE/hI,0CAClByjI,gBAAc,eAAEzjI,gBAAcotB,EAAOtL,OAAO,KAC5C82G,cAAY,eAAE54H,cAAYotB,EAAOtL,OAAO,KACxC62G,cAAY,eAAE34H,cAAYotB,EAAOtL,OAAO,KACxC4hH,gBAAc,eAAE1jI,gBAAcotB,EAAOtL,OAAO,KAC5C4rG,WAAS,eAAE1tH,WAASotB,EAAOtL,OAAO,KAClC8rG,cAAa,eAAE5tH,cAAYotB,EAAOtL,OAAO,KACzCgmB,UAAQ,eAAE9nC,UAAQotB,EAAOtL,OAAO,KAChComB,oBAAmB,eAAEloC,oBAAkBotB,EAAOtL,OAAO,KACrD61G,oBAAmB,eAAE33H,oBAAkBotB,EAAOtL,OAAO,KACrD81G,gCAAgC,iBAAO53H,gCAA8BotB,EAAOtL,OAAM,KAGlF6xG,sBAAqB,iBAAE3zH,sBAAoBotB,EAAOtL,OAAO,KACzD+2G,gBAAc,iBAAE74H,gBAAcotB,EAAOtL,OAAO,KAC5C21G,kBAAiB,iBAAEvwH,QAAM,oBAAqBkmB,EAAOtL,OAAO,GAAGi/G,U,6DC9D5D,MAAMyF,EAAmBC,OAEnBC,EAAgBvnG,GACrB/7C,eAAIujJ,OAAY,WAAaxnG,GAGxBynG,EAAyBxkG,IACrC,MAAMykG,EAAgB,CACrBvyJ,MAAO,UACPw0D,YAAag+F,kBAGRC,EAAe,CACpBzyJ,MAAO,SACPw0D,YAAag+F,kBAGRE,EAAe5jJ,eAAIujJ,OAAY,mBAErCF,eAAQO,EAAcxB,KACF,IAAfA,EAAK1vJ,OACRmxJ,eAAaP,EAActkG,IACzB5mD,IAAIqrJ,GACJ/+I,KAAK,KACLtM,eAAIkrJ,EAActkG,GAAgB2kG,QClCjCG,EAAU,CAACC,EAAKC,IACdvyJ,OAAOsyJ,GAAKE,SAASD,EAAK,KAG5BE,EAAY,CAACC,EAAIC,IAErBD,EAAGE,gBAAkBD,EAAGC,eACxBF,EAAGG,aAAeF,EAAGE,YACrBH,EAAGI,YAAcH,EAAGG,UAITC,EAAiB,CAAC5iG,EAAW9W,EAAS,MAClD,IAAK8W,EAAW,OAEhB,MAAMqsF,EAAOrsF,EAAU6xB,QACpB,IAAIt5C,KAAyB,IAApBynB,EAAU6xB,SACnB7xB,EAEH,GAAe,UAAX9W,EACH,MAAQ,GAAEg5G,EAAQ7V,EAAKwW,WAAY,MAAMX,EAAQ7V,EAAKyW,aAAc,KAC9D,GAAe,iBAAX55G,EAA2B,CACrC,MAAM+L,EAAU,CAAE8tG,MAAO,OAAQC,KAAM,UAAWC,IAAK,WACvD,MAAQ,GAAE,IAAIC,KAAKC,eAAe,QAASluG,GAAS/L,OAAOmjG,GACrD,GAAe,aAAXnjG,EAAuB,CACjC,MAAM+L,EAAU,CAAE8tG,MAAO,UAAWC,KAAM,UAAWC,IAAK,WAC1D,MAAQ,GAAE,IAAIC,KAAKC,eAAe,QAASluG,GAAS/L,OAAOmjG,GACrD,GAAe,mBAAXnjG,EAA6B,CACvC,MAAM+L,EAAU,CAAE8tG,MAAO,OAAQE,IAAK,WACtC,MAAQ,GAAE,IAAIC,KAAKC,eAAe,QAASluG,GAAS/L,OACnDmjG,OACK6V,EAAQ7V,EAAKwW,WAAY,MAAMX,EAAQ7V,EAAKyW,aAAc,KAGjE,OAAOzW,GAGK+W,EAAkB,CAAC/W,EAAMrsF,KACrC,MAAMqjG,EAAkBf,EAAUjW,EAAM,IAAI9zG,MAAU,QAAU,WAC1D1+B,EAAS+oJ,EAAe5iG,EAAWqjG,GACzC,MAA2B,UAApBA,EAA+B,UAASxpJ,EAAWA,G,iDFyD3DqlJ,iBAGA,IAAIoE,EAAwB//I,IAAE8vB,SAAS,8lBAEnCkwH,EAAqBhgJ,IAAE8vB,SAAS,8aAEpC,SAASmwH,EAAahpG,EAAUnkD,GAAM,MAChC0yC,EAAW,CACb06G,iBAAkBC,EAAmBlpG,GACrCmpG,iBAAkB,UAClBC,iBAAkB,UAClBppG,SAAUA,EAEVqpG,iBAAyB,OAARrpG,QAAQ,IAARA,GAAmB,QAAX,EAARA,EAAU52C,OAAO,UAAE,WAAX,EAAR,EAAqBJ,gBAAiB,GACvDsgJ,aAAcJ,EAAmBlpG,IAGnC,OAAInkD,EACKitJ,EAAsBv6G,GAExBw6G,EAAmBx6G,GAG5B,SAAS26G,EAAoBp1J,GAC3B,IAAIy1J,EAAMC,EAAY11J,GAGtB,IAFA,IAAU2B,EAAE8f,EAAEjc,IAEN,CAEN7D,EAAI8zJ,IACJh0I,EAAU,GAANg0I,IAAS,GAIbjwJ,EAAIiwJ,KAAO,GAAG,IAAI,GAKlB,IAAIE,EAASC,EAASj0J,EAAG8f,EAAGjc,GAE5B,OAAOmwJ,GAIX,SAASC,EAASj0J,EAAG8f,EAAGjc,GACpB,IAAIyK,EAAG4lJ,EAAGx7I,EAEV,GAAQ,GAALoH,EACCxR,EAAI4lJ,EAAIx7I,EAAI7U,MACX,CACD,IAAIswJ,EAAU,SAAiBz1H,EAAGi9F,EAAGh9H,GAGjC,OAFGA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAE,EAAU+/B,EAAc,GAATi9F,EAAIj9F,GAAS//B,EAClCA,EAAI,GAAYg9H,EAChBh9H,EAAI,EAAE,EAAU+/B,GAAKi9F,EAAIj9F,IAAM,EAAE,EAAI//B,GAAK,EACtC+/B,GAGPi9F,EAAI93H,EAAI,GAAMA,GAAK,EAAIic,GAAKjc,EAAIic,EAAIjc,EAAIic,EACxC4e,EAAI,EAAI76B,EAAI83H,EAChBrtH,EAAI6lJ,EAAQz1H,EAAGi9F,EAAG37H,EAAI,EAAE,GACxBk0J,EAAIC,EAAQz1H,EAAGi9F,EAAG37H,GAClB0Y,EAAIy7I,EAAQz1H,EAAGi9F,EAAG37H,EAAI,EAAE,GAI5B,MAAO,KAAO,SACXm8B,KAAKwtB,MAAU,IAAJr7C,GAAUpM,SAAS,IAC5Bi6B,KAAKwtB,MAAU,IAAJuqG,GAAUhyJ,SAAS,IAC5Bi6B,KAAKwtB,MAAU,IAAJjxC,GAAUxW,SAAS,KAAKG,OAAO,GAKtC,OACdsO,MAAO,CACNw8C,cAAe,CAAE/mD,KAAMxG,OAAQi1C,UAAU,GACzCu1G,MAAO,CAAEhkJ,KAAMxG,OAAQi1C,UAAU,GACjCu/G,SAAU,CAAEhuJ,KAAMob,QAASqzB,UAAU,GACrC06G,eAAgB,CAAEnpJ,KAAMxG,OAAQ4iB,QAAS,OAG1C3I,MAAO,CAAC,qBAERla,OACC,MAAO,CACN00J,aAAc,GACd58G,MAAO,GACPwQ,OAAQ,GACRqsG,WAAY,KACZC,SAAU,KACVvjG,aAAa,EACbtZ,cAAc,EACd88G,SAAU,GACVC,yBAA0B,EAC1BC,iBAAkB,EAClBC,aAAc,KACdC,gBAAiB,GACjBjZ,SAAU,GACVqD,gBAAgB,EAChB/R,YAAa,GACb4nB,kBAAmB,KACnBC,0BAA2B,KAC3BC,eAAgB,GAChB57F,UAAW,GAEX67F,mBAAoB,GACpBC,aAAa,EACbC,WAAY,KACZC,gBAAiB,GACjBC,aAAc,KACdC,gBAAiB,GACjBC,aAAc,KACdC,aAAc,GACdC,YAAa,GACb1nG,YAAa,GAKbwF,YAAa,GAKbE,wBAAyB,CAAC,CAAE/iD,KAAM,iBAAkB+/C,MAAO,WAE3DzkB,OAAQ,CAAE/U,UAAW,CAAEyuH,aAAc,QACrC7X,cAAe,CACd,CACCroG,IAAK,OACLi/B,KAAM,oBAEP,CACCj/B,IAAK,SACLi/B,KAAM,sBAEP,CACCj/B,IAAK,WACLi/B,KAAM,gCAOVn9D,SAAU,CACTouJ,cACC,MAAMC,EAASxkJ,KAAK+3H,MAAM/3H,KAAKC,UAAU5S,KAAKo3J,0BAC9C,IAAIl+G,EAAQl5C,KAAKk5C,MAAMp1C,MAAM,EAAG9D,KAAKm2J,kBACrC,IAAI,IAAIxnG,KAAQzV,EACY,OAAxBi+G,EAAOxoG,EAAKjF,SAAmD,qBAAxBytG,EAAOxoG,EAAKjF,UACrDiF,EAAKoD,YAAcolG,EAAOxoG,EAAKjF,SAGjC,OAAOxQ,GAERk+G,0BACC,OAAOp3J,KAAKq3J,OAAOC,QAAQF,yBAE5BG,eACC,OAAQrhJ,OAAOqpE,WAAa,IAAO,QAAU,uBAI/C5+D,MAAO,CACNy2I,wBAAwBtnJ,EAAQmjD,GAC/BjzD,KAAK2sB,UAAU,KACdtV,QAAQmxE,IAAI,+CAAgD14E,MAG9DiR,MAAM,GAGPqI,UACCppB,KAAKw3J,SACLngJ,QAAQmxE,IAAIxoF,KAAKgxJ,gBACbhxJ,KAAKgxJ,iBACRhxJ,KAAK0pD,OAAS1pD,KAAKgxJ,gBAEpBhxJ,KAAKy3J,aACLC,EAAuC13J,KAAK4uD,gBAG7CjhC,QAAS,CACRgqI,WAAW/rG,GAEV,MAAO,6BAA+B11C,OAAOytD,KAAKi0F,SAASC,mBAAmB7C,EAAappG,EAAKI,cAGjG,iBAQA8rG,aACC93J,KAAKm5C,cAAe,EACpBn5C,KAAKk2J,yBAA2B,EAChCl2J,KAAKm2J,iBAAmB,EACxBn2J,KAAKk5C,MAAQ,GACbl5C,KAAKyyD,aAAc,EACnBzyD,KAAK+1J,WAAa,KAClB/1J,KAAKg2J,SAAW,KAChBh2J,KAAKw2J,eAAe7tJ,QAAQkyD,GAAYA,KACxC76D,KAAKw2J,eAAiB,GACtBx2J,KAAK+3J,iBAGNA,gBACC/3J,KAAKo9I,SAAW,GAChBp9I,KAAKygJ,gBAAiB,EACtBzgJ,KAAKs2J,kBAAoB,KACzBt2J,KAAKu2J,0BAA4B,KACjCv2J,KAAK46D,UAAUjyD,QAAQkyD,GAAYA,KACnC76D,KAAK46D,UAAY,IAMlB68F,aACCz3J,KAAK83J,aACL93J,KAAKwuJ,kBAGN,uBAEC,GAAgC,oBAAtBxuJ,KAAK4uD,eAAsD,MAAtB5uD,KAAK4uD,cAAuB,OAI3E,GAAI5uD,KAAKg2J,WAAah2J,KAAK+1J,WAE1B,YADA/1J,KAAKyyD,aAAc,GASpB,MAAMoM,EAAQm5F,OACbh4J,KAAK4uD,cACL5uD,KAAK81J,aACL91J,KAAK+1J,aAKA,KAAE30J,EAAI,KAAE62J,SAAeD,OAA0Bn5F,GAGvD7+D,KAAKyyD,YAA8B,IAAhBrxD,EAAKG,QAAgBH,EAAKG,OAASvB,KAAK81J,aAEvD91J,KAAK+1J,aAAY/1J,KAAKg2J,SAAWh2J,KAAK+1J,YAC1C/1J,KAAK+1J,WAAakC,EAAKA,EAAK12J,OAAS,GAErC,MAAM22J,EAAc,GACpB92J,EAAKuH,QAAQgmD,IACZA,EAAK/E,MAAMjhD,QAAQgjD,IAClB,MAAMwsG,EAAYn4J,KAAKi2J,SAASvvG,KAAKkF,IAAY,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAME,OAAQH,GACtDwsG,IAA8C,IAAjCD,EAAYjkJ,QAAQ03C,IACrCusG,EAAYhzJ,KAAKymD,OAOpB,MAAMysG,EAAW,GACjBF,EAAYvvJ,QAAQgjD,IACnB,MAAM0sG,EAAUL,OAAyBrsG,GACzCysG,EAASlzJ,KAAKmzJ,KAIfr4J,KAAKi2J,SAAW,IAAIj2J,KAAKi2J,kBAAoB/9I,QAAQslD,IAAI46F,IAIzD,MAAMzuG,EAAW,GACjBvoD,EAAKuH,QAAQgmD,IACZhF,EAASgF,EAAKj2C,IAAM,IAAKi2C,EAAM/E,MAAO,IAEtC+E,EAAK/E,MAAMjhD,QAAQgjD,IAClB,MAAMwsG,EAAYn4J,KAAKi2J,SAASvvG,KAAKkF,IAAY,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAME,OAAQH,GACvDwsG,GAAWxuG,EAASgF,EAAKj2C,IAAIkxC,MAAM1kD,KAAKizJ,OAI9C,MAAMG,EAAiB,GAEvBp2J,OAAOkc,KAAKurC,GAAUhhD,QAAQ5F,IAC7B,MAAM4rD,EAAOhF,EAAS5mD,GAEhBw1J,EAAe5pG,EAAK/E,MAAMvgD,OAC/BuiD,GAAQA,EAAKE,MAAQ9rD,KAAK4uD,eAK3BD,EAAK4C,SACJgnG,EAAat2J,IAAI2pD,GAAQA,EAAKI,UAAU3jB,KAAK,OAAS,SAEvD,MAAMmwH,EACmB,IAAxBD,EAAah3J,QAAgBg3J,EAAa,GAAGlnG,OAC1CknG,EAAa,GAAGlnG,OAChBrxD,KAAK23J,WAAWY,EAAa,IAEjCD,EAAepzJ,KAAK,IAChBypD,EACHjF,OAAQ3mD,EACRsuD,OAAQmnG,EACRxzJ,MAAO2pD,EAAK8pG,YAAYp1E,QACxB3zB,YAAa,CACZhoB,QAAS,eACT8pB,UAAWojG,EACV,IAAI7qH,KAAK4kB,EAAK8pG,YAAYp1E,SAC1B10B,EAAK8pG,kBAMTz4J,KAAKk5C,MAAQl5C,KAAKk5C,MAAMz6B,OAAO65I,GAE/BjhJ,QAAQmxE,IAAI,YAEZ8vE,EAAe3vJ,QAAQgmD,GAAQ3uD,KAAK04J,kBAAkB/pG,IAEjD3uD,KAAKk5C,MAAM33C,SACfvB,KAAKm5C,cAAe,EACpBn5C,KAAKm2J,iBAAmB,GAGzB9+I,QAAQmxE,IAAI,YAEZxoF,KAAK24J,wBAAwBL,GAE7BjhJ,QAAQmxE,IAAI,YACZxoF,KAAK44J,YAAY/5F,GACjBxnD,QAAQmxE,IAAI,aAIbkwE,kBAAkB/pG,GACjB,MAAMkM,EAAWm9F,OAChBrpG,EAAKjF,OACL0zF,IAECA,EAASz0I,QAAQshD,IAChB,MAAMyF,EAAc1vD,KAAK64J,kBAAkB5uG,EAAS0E,GAC9CmqG,EAAY94J,KAAKk5C,MAAM/lB,UAC5BpjB,GAAK4+C,EAAKjF,SAAW35C,EAAE25C,QAExB1pD,KAAKk5C,MAAM4/G,GAAWppG,YAAcA,EACpC1vD,KAAKk5C,MAAQ,IAAIl5C,KAAKk5C,SAEnBl5C,KAAKk2J,yBAA2Bl2J,KAAKk5C,MAAM33C,SAC9CvB,KAAKk2J,2BAEDl2J,KAAKk2J,2BAA6Bl2J,KAAKk5C,MAAM33C,SAChDvB,KAAKm5C,cAAe,EACpBn5C,KAAKm2J,iBAAmBn2J,KAAKk5C,MAAM33C,WAMvCvB,KAAKw2J,eAAetxJ,KAAK21D,IAG1Bg+F,kBAAkB5uG,EAAS0E,GAAM,QAChC,IAAK1E,EAAQuH,UAAW,OAExB,IAAI9pB,EAAUuiB,EAAQviB,QACtB,GAAiB,QAAjB,EAAIuiB,EAAQ+F,aAAK,OAAb,EAAezuD,OAAQ,CAC1B,MAAMk2C,EAAOwS,EAAQ+F,MAAM,GAC3BtoB,EAAW,GAAE+P,EAAKvlC,QAAQulC,EAAKwY,WAAaxY,EAAK5vC,OAGlD,MAAMmkD,EACL/B,EAAQ8uG,YAAc/4J,KAAK4uD,cAC+B,QADnB,EACpCD,EAAK/E,MAAMlD,KAAKkF,GAAQ3B,EAAQ8uG,YAAcntG,EAAKE,YAAI,aAAvD,EAAyDE,SACzD,GAEJ,MAAO,IACH/B,EAEF6B,IAAK7B,EAAQvxC,GACbgvB,UACAioB,SAAU1F,EAAQ8uG,UAClBvnG,UAAWojG,EACV,IAAI7qH,KAAiC,IAA5BkgB,EAAQuH,UAAU6xB,SAC3Bp5B,EAAQuH,WAETxF,SAAUA,EACV6D,aAAa,EACbh2C,KAAMowC,EAAQ8uG,YAAc/4J,KAAK4uD,cAAgB3E,EAAQpwC,KAAO,KAChE43C,IACCxH,EAAQ8uG,YAAc/4J,KAAK4uD,iBACzB3E,EAAQpwC,OAASowC,EAAQpwC,KAAK7Z,KAAK4uD,gBACtCc,YAAa,IACTzF,EAAQyF,YACX5D,IAAK7B,EAAQvxC,GACbi3C,SAAU1F,EAAQ8uG,aAMtBvL,eAAc,KAAE7+F,EAAI,QAAElI,EAAU,KAC/BzmD,KAAKusB,MAAM,qBAAqB,GAE5Bk6B,EAAQjc,OACXxqC,KAAK+3J,gBAGN1gJ,QAAQmxE,IAAI,gBAAiB75B,EAAKjF,SAE9B1pD,KAAKu2J,2BAA8Bv2J,KAAKs2J,mBAK5Ct2J,KAAKo2J,aAAeznG,EAAKjF,OAEzBsuG,OACcrpG,EAAKjF,OAAQ1pD,KAAKq2J,gBAAiBr2J,KAAKs2J,mBACpDhiJ,KAAK,EAAGlT,OAAM62J,WAEVj4J,KAAKo2J,eAAiBznG,EAAKjF,UAEX,IAAhBtoD,EAAKG,QAAgBH,EAAKG,OAASvB,KAAKq2J,kBAC3CllH,WAAW,KACVnxC,KAAKygJ,gBAAiB,GACpB,GAGAh6F,EAAQjc,QAAOxqC,KAAKo9I,SAAW,IAEnCh8I,EAAKuH,QAAQshD,IACZ,MAAM+uG,EAAmBh5J,KAAKi5J,cAActqG,EAAM1E,GAClDjqD,KAAKo9I,SAASj1H,QAAQ6wI,KAGnBh5J,KAAKs2J,oBACRt2J,KAAKu2J,0BAA4Bv2J,KAAKs2J,mBAEvCt2J,KAAKs2J,kBAAoB2B,EAAKA,EAAK12J,OAAS,GAE5CvB,KAAKk5J,eAAevqG,OA9BrB3uD,KAAKygJ,gBAAiB,GAkCxByY,eAAevqG,GACdt3C,QAAQmxE,IAAI,kBAAmB75B,EAAKjF,QAEpC,MAAMmR,EAAWm9F,OAChBrpG,EAAKjF,OACL1pD,KAAKs2J,kBACLt2J,KAAKu2J,0BACLnZ,IAEC,IAAI+b,EAAoB,KAExB/b,EAASz0I,QAAQ+wD,MAAOzP,EAAS3oD,KAChC,MAAM03J,EAAmBh5J,KAAKi5J,cAActqG,EAAM1E,GAC5CmvG,EAAep5J,KAAKo9I,SAASjqH,UAClC7C,GAAKA,EAAEw7B,MAAQ7B,EAAQvxC,KAGF,IAAlB0gJ,EACHp5J,KAAKo9I,SAAWp9I,KAAKo9I,SAAS3+H,OAAO,CAACu6I,KAEtCh5J,KAAKo9I,SAASgc,GAAgBJ,EAC9Bh5J,KAAKo9I,SAAW,IAAIp9I,KAAKo9I,WAIvBzuF,EAAKjF,SAAW1pD,KAAKo2J,eACvB/+I,QAAQmxE,IAAI,sBAETv+B,EAAQ8uG,WAAa/4J,KAAK4uD,eAAmB3E,EAAQpwC,MAASowC,EAAQpwC,KAAK7Z,KAAK4uD,iBAClFuqG,EAAoBlvG,GAGlB3oD,IAAM87I,EAAS77I,OAAS,GAAK43J,IAC/B9hJ,QAAQmxE,IAAI,iBAAkBv+B,SAExB+tG,OAAwCrpG,EAAKjF,OAAQ1pD,KAAK4uD,cAAeuqG,EAAkB3nG,aAInGxxD,KAAKq5J,iBAAiB1qG,EAAM1E,OAO/BjqD,KAAK46D,UAAU11D,KAAK21D,IAGrB,uBAAuBlM,EAAM1E,GAG3BA,EAAQ8uG,WAAa/4J,KAAK4uD,eACxB3E,EAAQpwC,MAASowC,EAAQpwC,KAAK7Z,KAAK4uD,iBAErCv3C,QAAQmxE,IAAI75B,SACNqpG,OAA+BrpG,EAAKjF,OAAQO,EAAQvxC,GAAI,CAC7D,CAAE,QAAO1Y,KAAK4uD,eAAkB,IAAI7kB,SAOvCkvH,cAActqG,EAAM1E,GAAS,MAE5B,MAAM+uG,EAAmB,IACrB/uG,EAEF0F,SAAU1F,EAAQ8uG,UAClBjtG,IAAK7B,EAAQvxC,GACb2qE,QAASp5B,EAAQuH,UAAU6xB,QAC3B7xB,UAAW4iG,EAAenqG,EAAQuH,UAAW,SAC7CqsF,KAAMuW,EAAenqG,EAAQuH,UAAW,gBACxCxF,SAAgE,QAAxD,EAAE2C,EAAK/E,MAAMlD,KAAKkF,GAAQ3B,EAAQ8uG,YAAcntG,EAAKE,YAAG,aAAtD,EACPE,SAEH6D,aAAa,EACbH,YAAa,IAAKzF,EAAQyF,YAAaC,SAAU1F,EAAQ8uG,YAa3D,OATI9uG,EAAQ2mF,eACXooB,EAAiBpoB,aAAe,IAC5B3mF,EAAQ2mF,aAEVjhF,SAAU1F,EAAQ2mF,aAAamoB,YAK3BC,GAGR,mBAAkB,QAAEtxH,EAAO,OAAEgiB,EAAM,MAAEsG,EAAK,aAAE4gF,IAC3C,MAAM3mF,EAAU,CACf8uG,UAAW/4J,KAAK4uD,cAChBlnB,UACA8pB,UAAW,IAAIznB,MAGZimB,IACH/F,EAAQ+F,MAAQhwD,KAAKs5J,eAAetpG,IAGjC4gF,IACH3mF,EAAQ2mF,aAAe,CACtB9kF,IAAK8kF,EAAa9kF,IAClBpkB,QAASkpG,EAAalpG,QACtBqxH,UAAWnoB,EAAajhF,UAGrBihF,EAAa5gF,QAChB/F,EAAQ2mF,aAAa5gF,MAAQ4gF,EAAa5gF,QAI5C,MAAM,GAAEt3C,SAAas/I,OAA4BtuG,EAAQO,GAEzD,GAAI+F,EACH,IAAK,IAAIhrD,EAAQ,EAAGA,EAAQgrD,EAAMzuD,OAAQyD,UACnChF,KAAKu5J,WAAW,CAAE9hH,KAAMuY,EAAMhrD,GAAQuxC,UAAW79B,EAAIgxC,WAI7DsuG,OAA4BtuG,EAAQ,CAAE+uG,YAAa,IAAI1uH,QAGxD,mBAAkB,UAAEwM,EAAS,WAAEm8F,EAAU,OAAEhpF,EAAM,MAAEsG,IAClD,MAAM0tF,EAAa,CAAEmC,OAAQ,IAAI91G,MAWjC,GAVA2zG,EAAWh2G,QAAUgrG,EAGpBgL,EAAW1tF,MADRA,EACgBhwD,KAAKs5J,eAAetpG,GAEpBgoG,aAGdA,OAA+BtuG,EAAQnT,EAAWmnG,GAEpD1tF,EACH,IAAK,IAAIhrD,EAAQ,EAAGA,EAAQgrD,EAAMzuD,OAAQyD,IAAS,OAClC,QAAhB,EAAIgrD,EAAMhrD,UAAM,OAAZ,EAAcymI,YACXzrI,KAAKu5J,WAAW,CAAE9hH,KAAMuY,EAAMhrD,GAAQuxC,YAAWmT,aAM3D,qBAAoB,QAAEO,EAAO,OAAEP,UACxBsuG,OAA+BtuG,EAAQO,EAAQ6B,IAAK,CACzD7T,QAAS,IAAIlO,OAGd,MAAM,MAAEimB,GAAU/F,EAEd+F,GACHA,EAAMrnD,QAAQ8uC,IACb+hH,EAA0Bx5J,KAAK4uD,cAAe3E,EAAQ6B,IAAKrU,MAK9D,kBAAiB,KAAEA,EAAI,UAAElB,EAAS,OAAEmT,IACnC,OAAO,IAAIxxC,QAAQC,IAClB,IAAItQ,EAAO4vC,EAAKwY,WAAaxY,EAAK5vC,KACrB,QAATA,GAA2B,QAATA,IACrBA,EAAO4vC,EAAK5vC,MAGb2xJ,EACCx5J,KAAK4uD,cACLrY,EACAkB,EACA5vC,EACAg6E,IACC7hF,KAAKy5J,mBAAmBljH,EAAWkB,EAAKipC,SAAUmB,IAEnDswE,IACCh6I,GAAQ,IAETuhD,UACC,MAAMzP,QAAgB+tG,OAA4BtuG,EAAQnT,GAE1D0T,EAAQ+F,MAAMrnD,QAAQjI,IACjBA,EAAE0pD,MAAQ3S,EAAKipC,WAClBhgF,EAAE0pD,IAAMA,WAIJ4tG,OAA+BtuG,EAAQnT,EAAW,CACvDyZ,MAAO/F,EAAQ+F,QAEhB73C,GAAQ,QAMZshJ,mBAAmBljH,EAAWmjH,EAAS73E,GACtC,MAAM53B,EAAUjqD,KAAKo9I,SAAS12F,KAAKuD,GAAWA,EAAQ6B,MAAQvV,GAEzD0T,GAAYA,EAAQ+F,QAEzB/F,EAAQ+F,MAAMtJ,KAAKjP,GAAQA,EAAK2S,MAAQsvG,GAAS73E,SAAWA,EAC5D7hF,KAAKo9I,SAAW,IAAIp9I,KAAKo9I,YAG1Bkc,eAAetpG,GACd,MAAMspG,EAAiB,GAmBvB,OAjBAtpG,EAAMrnD,QAAQ8uC,IACb,MAAMkiH,EAAc,CACnBznJ,KAAMulC,EAAKvlC,KACX1F,KAAMirC,EAAKjrC,KACX3E,KAAM4vC,EAAK5vC,KACXooD,UAAWxY,EAAKwY,WAAaxY,EAAK5vC,KAClCuiD,IAAK3S,EAAK2S,KAAO3S,EAAKipC,UAGnBjpC,EAAKk1F,QACRgtB,EAAYhtB,OAAQ,EACpBgtB,EAAY7qH,SAAW2I,EAAK3I,UAG7BwqH,EAAep0J,KAAKy0J,KAGdL,GAGRjgB,UAAS,KAAE5hG,IACVvhC,OAAO4jD,KAAKriB,EAAKA,KAAK2S,IAAK,WAG5B,mBAAkB,KAAEwB,IACnB,IAAIlC,EAeJ,GAbA1pD,KAAKk5C,MAAMvwC,QAAQgmD,IAClB,GAA0B,IAAtBA,EAAK/E,MAAMroD,OAAc,CAC5B,MAAMq4J,EAAUjrG,EAAK/E,MAAM,GAAGkC,IACxB+tG,EAAUlrG,EAAK/E,MAAM,GAAGkC,IAE5B8tG,IAAYhuG,EAAKE,KAAO8tG,IAAY55J,KAAK4uD,eACzCirG,IAAYjuG,EAAKE,KAAO+tG,IAAY75J,KAAK4uD,gBAE1ClF,EAASiF,EAAKjF,WAKbA,EAEH,YADA1pD,KAAK0pD,OAASA,GAIf,MAAMowG,QAAe9B,OACpBh4J,KAAK4uD,cACLhD,EAAKE,KAGN,GAAIguG,EAAO14J,KAAKG,OACf,OAAOvB,KAAK+5J,SAASD,GAGtB,MAAME,QAAehC,OACpBpsG,EAAKE,IACL9rD,KAAK4uD,eAGN,OAAIorG,EAAO54J,KAAKG,OACRvB,KAAK+5J,SAASC,QADtB,GAkBD,eAAen7F,GACdA,EAAMl2D,QAAQ+wD,UACT15D,KAAKm5C,qBACH6+G,OAA4BrpG,EAAKj2C,GAAI,CAAE+/I,YAAa,IAAI1uH,OAC9D/pC,KAAK0pD,OAASiF,EAAKj2C,GACnB1Y,KAAKy3J,iBAIPhhG,mBAAkB,OAAEtG,EAAM,OAAEzG,IAC3B,OAAQyG,EAAOj+C,MACd,IAAK,aACJ,OAAOlS,KAAKi6J,WAAWvwG,GACxB,IAAK,aACJ,OAAO1pD,KAAKk6J,WAAWxwG,GACxB,IAAK,aACJ,OAAO1pD,KAAKm6J,WAAWzwG,KAI1B6M,+BAA8B,OAAEpG,EAAM,SAAEitF,EAAQ,OAAE1zF,IACjD,OAAQyG,EAAOj+C,MACd,IAAK,iBACJkrI,EAASz0I,QAAQshD,IAChBjqD,KAAKmwJ,cAAc,CAAElmG,UAASP,eAKlC,2BAA0B,SAAE8xF,EAAQ,OAAEznI,EAAM,UAAEwiC,EAAS,OAAEmT,IACxDsuG,OACCtuG,EACAnT,EACAv2C,KAAK4uD,cACL4sF,EAASljF,QACTvkD,EAAS,SAAW,QAItBs8I,eAAc,QAAEpmG,EAAO,OAAEP,IACxB,GAAIA,EAAQ,CACX,IAAW,OAAPO,QAAO,IAAPA,OAAO,EAAPA,EAAS1oD,QAAS,EAErB,YADAvB,KAAKy2J,mBAAqBxsG,GAI3B,GAAwB,KAAb,OAAPA,QAAO,IAAPA,OAAO,EAAPA,EAAS1oD,SAAgBvB,KAAKy2J,mBAEjC,YADAz2J,KAAKy2J,mBAAqBxsG,GAI3BjqD,KAAKy2J,mBAAqBxsG,EAE1B+tG,OACCtuG,EACA1pD,KAAK4uD,cACL3E,EAAU,MAAQ,YAKrB,kBAAkB4U,GACjB,MAAMhE,EAAWm9F,OAA6Bn5F,EAAO3lB,IAEpDA,EAAMvwC,QAAQgmD,IACb,MAAMyrG,EAAYp6J,KAAKk5C,MAAMwN,KAAK32C,GAAKA,EAAE25C,SAAWiF,EAAKj2C,IACrD0hJ,IACHA,EAAUvrG,YAAcF,EAAKE,YAC7BurG,EAAUp1J,MAAQ2pD,EAAK8pG,YAAYp1E,aAItCrjF,KAAKw2J,eAAetxJ,KAAK21D,IAG1B89F,wBAAwBz/G,GACvBA,EAAMvwC,QAAQgmD,IACbA,EAAK/E,MAAMjhD,QAAQijD,IAClB,MAAMiP,EAAW68F,EAChBA,EAA8B9rG,EAAKE,KACnCsmG,IACC,IAAKA,IAAaA,EAAS9vJ,MAAO,OAElC,MAAMgzD,EAAcs/F,EACnB,IAAI7qH,KAAKqoH,EAAS9vJ,MAAMgzD,aACxB,IAAIvrB,KAAKqoH,EAAS9vJ,MAAMgzD,cAGzB1J,EAAKkD,OAAS,IAAKsjG,EAAS9vJ,MAAOgzD,eAEnC,MAAMwjG,EAAY94J,KAAKk5C,MAAM/lB,UAC5BpjB,GAAK4+C,EAAKjF,SAAW35C,EAAE25C,QAGxB1pD,KAAKk5C,MAAM4/G,GAAanqG,EACxB3uD,KAAKk5C,MAAQ,IAAIl5C,KAAKk5C,SAGxBl5C,KAAKw2J,eAAetxJ,KAAK21D,QAK5B6zF,UACC1uJ,KAAKq6J,aACLr6J,KAAK22J,YAAa,GAGnB,mBACC32J,KAAK02J,aAAc,EAEnB,MAAM,GAAEh+I,SAAas/I,OAAyB,CAC7ChsG,SAAUhsD,KAAK42J,wBAEVoB,OAA4Bt/I,EAAI,CAAEozC,IAAKpzC,UAEvCs/I,OAAyB,CAC9BpuG,MAAO,CAAClxC,EAAI1Y,KAAK4uD,eACjB6pG,YAAa,IAAI1uH,OAGlB/pC,KAAK22J,YAAa,EAClB32J,KAAK42J,gBAAkB,GACvB52J,KAAKy3J,cAGNwC,WAAWvwG,GACV1pD,KAAKq6J,aACLr6J,KAAK62J,aAAentG,GAGrB,oBACC1pD,KAAK02J,aAAc,EAEnB,MAAM,GAAEh+I,SAAas/I,OAAyB,CAC7ChsG,SAAUhsD,KAAK82J,wBAEVkB,OAA4Bt/I,EAAI,CAAEozC,IAAKpzC,UAEvCs/I,OAA6Bh4J,KAAK62J,aAAcn+I,GAEtD1Y,KAAK62J,aAAe,KACpB72J,KAAK82J,gBAAkB,GACvB92J,KAAKy3J,cAGNyC,WAAWxwG,GACV1pD,KAAKq6J,aACLr6J,KAAK+2J,aAAertG,EACpB1pD,KAAKi3J,YAAcj3J,KAAKk5C,MAAMwN,KAAKiI,GAAQA,EAAKjF,SAAWA,GAAQE,OAGpE,uBACC5pD,KAAK02J,aAAc,QAEbsB,OACLh4J,KAAK+2J,aACL/2J,KAAKg3J,cAGNh3J,KAAK+2J,aAAe,KACpB/2J,KAAKg3J,aAAe,GACpBh3J,KAAKy3J,cAGN,iBAAiB/tG,GAChB,MAAMiF,EAAO3uD,KAAKk5C,MAAMwN,KAAK32C,GAAKA,EAAE25C,SAAWA,GAC/C,GACCiF,EAAK/E,MAAMlD,KAAKkF,GAAqB,yBAAbA,EAAKE,MAC7B6C,EAAK/E,MAAMlD,KAAKkF,GAAqB,yBAAbA,EAAKE,KAE7B,OAAOwuG,MAAM,uDAGdtC,OAA6BtuG,GAAQp1C,KAAK,EAAGlT,WAC5CA,EAAKuH,QAAQshD,IACZ+tG,OAA+BtuG,EAAQO,EAAQvxC,IAC3CuxC,EAAQ+F,OACX/F,EAAQ+F,MAAMrnD,QAAQ8uC,IACrB+hH,EAA0Bx5J,KAAK4uD,cAAe3E,EAAQvxC,GAAI++B,eAMxDugH,OAA4BtuG,GAElC1pD,KAAKy3J,cAGN4C,aACCr6J,KAAK02J,aAAc,EACnB12J,KAAK22J,WAAa,KAClB32J,KAAK42J,gBAAkB,GACvB52J,KAAK62J,aAAe,KACpB72J,KAAK82J,gBAAkB,GACvB92J,KAAK+2J,aAAe,KACpB/2J,KAAKg3J,aAAe,M,iCG5gCvB,MAAMuD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,QLoCA,GACdnoJ,MAAO,CACN4+I,eAAgB,CACfnpJ,KAAMxG,OACN4iB,QAAS,OAGX+K,WAAY,CACXwrI,iBAEDp5J,OACC,MAAO,CACNyqJ,MAAO,OACP4O,UAAU,EAmBV5E,UAAU,EACV6E,cAAc,IAGhB5xJ,SAAU,CACT6xJ,UACC,OAAO36J,KAAKq3J,OAAOC,QAAQqD,SAE5B/rG,gBAAgB,MACf,OAAOvtD,QAAmB,QAAZ,EAAArB,KAAK26J,eAAO,aAAZ,EAAcjiJ,KAAM,QAMpCiI,MAAO,CACNg6I,UACC36J,KAAKy6J,UAAW,EAChBtpH,WAAW,IAAOnxC,KAAKy6J,UAAW,EAAO,OAG3C,gBACKvkJ,OAAO0kJ,cACV1kJ,OAAO0kJ,eAER56J,KAAK61J,SAAW3/I,OAAOqpE,WAAa,IACpCrpE,OAAOy0B,iBAAiB,SAAUgpB,IAC7BA,EAAG05F,YAAWrtJ,KAAK61J,SAAW3/I,OAAOqpE,WAAa,OAGvD,UACOv/E,KAAKq3J,OAAOwD,SAAS,cAC1B,MAAMr2H,GACPxkC,KAAK86J,OAAOt2H,KAGd/V,YACKvY,OAAO6kJ,WACV7kJ,OAAO6kJ,aAGTptI,QAAS,I,UM/GV,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAStQ,GAAQ,CAAC,YAAY,qBAE1E,gB,wCCTf,YACAle,EAAOC,QAAU47J,I,mDCAjB,IAAInvI,EAAI,EAAQ,QACZi3B,EAAW,EAAQ,QACnBm4G,EAAoB,EAAQ,QAC5BC,EAAiB,EAAQ,QACzBC,EAAwB,EAAQ,QAChCC,EAA2B,EAAQ,QAGnCC,EAAqC,IAAlB,GAAGlzI,QAAQ,GAG9BmzI,GAAiC,WACnC,IAEEp5J,OAAOoC,eAAe,GAAI,SAAU,CAAEi3J,UAAU,IAASpzI,UACzD,MAAO7Q,GACP,OAAOA,aAAiB9X,WALS,GAWrCqsB,EAAE,CAAEjkB,OAAQ,QAAS6E,OAAO,EAAM+uJ,MAAO,EAAGC,OAAQJ,GAAoBC,GAAiC,CAEvGnzI,QAAS,SAAiB7W,GACxB,IAAI7R,EAAIqjD,EAAS9iD,MACb6gC,EAAMo6H,EAAkBx7J,GACxBi8J,EAAWj7I,UAAUlf,OACzB,GAAIm6J,EAAU,CACZN,EAAyBv6H,EAAM66H,GAC/B,IAAIllI,EAAIqK,EACR,MAAOrK,IAAK,CACV,IAAIhG,EAAKgG,EAAIklI,EACTllI,KAAK/2B,EAAGA,EAAE+wB,GAAM/wB,EAAE+2B,GACjB2kI,EAAsB17J,EAAG+wB,GAEhC,IAAK,IAAI5F,EAAI,EAAGA,EAAI8wI,EAAU9wI,IAC5BnrB,EAAEmrB,GAAKnK,UAAUmK,GAEnB,OAAOswI,EAAez7J,EAAGohC,EAAM66H,O,qBC5BrC,IAAIh6J,EAAO,EAAQ,QAKfi6J,EAAS,EAAQ,QAKjBC,EAAS,EAAQ,QAQjBC,EAAY,EAAQ,QASpBC,EAAU,EAAQ,QAOlBC,EAAS,EAAQ,QAIjBC,EAAK,EAAQ,QAEjBA,EAAGt6J,KAAOA,EACVs6J,EAAGL,OAASA,EACZK,EAAGJ,OAASA,EACZI,EAAGH,UAAYA,EACfG,EAAGF,QAAUA,EACbE,EAAGD,OAASA,EAEZ58J,EAAOC,QAAU48J,G,wBC3DjB,mBAyBA,SAAUr8J,EAAQR,EAAQS,GAE1B,SAASq8J,EAAOn8J,GACd,IAAIC,EAAKC,KAsBT,SAASkqE,EAAKnqE,EAAID,GAChB,IAAIM,EAAGyL,EAAGvK,EAAGspB,EAAG5kB,EAAGk2J,EAAI,GAAIv8F,EAAQ,IAYnC,IAXI7/D,KAAiB,EAAPA,IAEZ+L,EAAI/L,EACJA,EAAO,OAGPA,GAAc,KACd+L,EAAI,EACJ8zD,EAAQ/hC,KAAKuU,IAAIwtB,EAAO7/D,EAAKyB,SAG1BD,EAAI,EAAGspB,GAAK,GAAIA,EAAI+0C,IAAS/0C,EAE5B9qB,IAAM+L,GAAK/L,EAAK0B,YAAYopB,EAAI,IAAM9qB,EAAKyB,SAErC,IAANqpB,IAAS5kB,EAAI6F,GACjBA,GAAKA,GAAK,GACVA,GAAKA,IAAM,GACXA,GAAKA,GAAK,EACVA,GAAKA,IAAM,GACP+e,GAAK,IACP5kB,EAAKA,EAAI,WAAc,EACvB5F,EAAK87J,EAAM,IAAJtxI,IAAa/e,EAAI7F,EACxB1E,EAAK,GAAKlB,EAAKkB,EAAI,EAAI,GAW3B,IAPIA,GAAK,MACP46J,EAA+B,KAA5Bp8J,GAAQA,EAAKyB,QAAU,KAAa,GAKzCD,EAAI,IACCspB,EAAI,IAASA,EAAI,IAAKA,EACzB/e,EAAIqwJ,EAAG56J,EAAI,GAAM,KACjBlB,EAAI87J,EAAE56J,EAAMA,EAAI,EAAK,KACrBuK,GAAKA,GAAK,GACVzL,GAAKA,GAAK,GACVyL,GAAKA,IAAM,GACXzL,GAAKA,IAAM,GACX87J,EAAE56J,GAAKuK,EAAIzL,EAGbL,EAAGiG,EAAIA,EACPjG,EAAGm8J,EAAIA,EACPn8J,EAAGuB,EAAIA,EAnETvB,EAAGI,KAAO,WACR,IACwBC,EAAGyL,EADvB7F,EAAIjG,EAAGiG,EACPk2J,EAAIn8J,EAAGm8J,EAAG56J,EAAIvB,EAAGuB,EAcrB,OAZAvB,EAAGiG,EAAIA,EAAKA,EAAI,WAAc,EAE9B6F,EAAIqwJ,EAAG56J,EAAI,GAAM,KACjBlB,EAAI87J,EAAE56J,EAAMA,EAAI,EAAK,KACrBuK,GAAKA,GAAK,GACVzL,GAAKA,GAAK,GACVyL,GAAKA,IAAM,GACXzL,GAAKA,IAAM,GAEXyL,EAAIqwJ,EAAE56J,GAAKuK,EAAIzL,EACfL,EAAGuB,EAAIA,EAECuK,GAAK7F,EAAKA,IAAM,IAAQ,GAsDlCkkE,EAAKnqE,EAAID,GAGX,SAASW,EAAKC,EAAGN,GAIf,OAHAA,EAAEkB,EAAIZ,EAAEY,EACRlB,EAAE4F,EAAItF,EAAEsF,EACR5F,EAAE87J,EAAIx7J,EAAEw7J,EAAEp4J,QACH1D,EAGT,SAASO,EAAKb,EAAMc,GACN,MAARd,IAAcA,GAAQ,IAAKiqC,MAC/B,IAAIlpC,EAAK,IAAIo7J,EAAOn8J,GAChBgB,EAAQF,GAAQA,EAAKE,MACrBC,EAAO,WAAa,OAAQF,EAAGV,SAAW,GAAK,YAenD,OAdAY,EAAKE,OAAS,WACZ,GACE,IAAI+yC,EAAMnzC,EAAGV,SAAW,GACpBg8J,GAAOt7J,EAAGV,SAAW,GAAK,WAC1BkL,GAAU2oC,EAAMmoH,IAAQ,GAAK,UACf,IAAX9wJ,GACT,OAAOA,GAETtK,EAAKC,MAAQH,EAAGV,KAChBY,EAAKG,MAAQH,EACTD,IACEA,EAAMo7J,GAAGz7J,EAAKK,EAAOD,GACzBE,EAAKD,MAAQ,WAAa,OAAOL,EAAKI,EAAI,MAErCE,EAGL5B,GAAUA,EAAOC,QACnBD,EAAOC,QAAUuB,EACR,WAAU,WACnB,aAAoB,OAAOA,GAAO,yCAElCX,KAAK87J,QAAUn7J,GAjHjB,CAqHEX,EAC+Bb,EAC/B,a,iDChJF,mBAIA,SAAUQ,EAAQR,EAAQS,GAE1B,SAASq8J,EAAOn8J,GACd,IAAIC,EAAKC,KAAMo8J,EAAU,GAGzBr8J,EAAGI,KAAO,WACR,IAAIga,EAAIpa,EAAGoa,EAAG7Z,EAAIP,EAAGO,EAAGgyC,EAAIvyC,EAAGuyC,EAAGp4B,EAAIna,EAAGma,EAQzC,OAPAC,EAAKA,GAAK,GAAOA,IAAM,EAAK7Z,EAC5BA,EAAKA,EAAIgyC,EAAK,EACdA,EAAKA,GAAK,GAAOA,IAAM,EAAKp4B,EAC5BA,EAAKA,EAAIC,EAAK,EACdpa,EAAGoa,EAAIA,EAAKA,GAAK,GAAOA,IAAM,GAAM7Z,EACpCP,EAAGO,EAAIA,EAAKA,EAAIgyC,EAAK,EACrBvyC,EAAGuyC,EAAKA,GAAK,GAAOhyC,IAAM,GAAM4Z,EACzBna,EAAGma,EAAKA,EAAIC,EAAK,GAmB1Bpa,EAAGma,EAAI,EACPna,EAAGoa,EAAI,EACPpa,EAAGO,GAAI,WACPP,EAAGuyC,EAAI,WAEHxyC,IAAS89B,KAAKsyB,MAAMpwD,IAEtBC,EAAGma,EAAKpa,EAAO,WAAe,EAC9BC,EAAGoa,EAAW,EAAPra,GAGPs8J,GAAWt8J,EAIb,IAAK,IAAI02B,EAAI,EAAGA,EAAI4lI,EAAQ76J,OAAS,GAAIi1B,IACvCz2B,EAAGoa,GAA6B,EAAxBiiJ,EAAQ56J,WAAWg1B,GAC3Bz2B,EAAGI,OAIP,SAASM,EAAKC,EAAGN,GAKf,OAJAA,EAAE8Z,EAAIxZ,EAAEwZ,EACR9Z,EAAE+Z,EAAIzZ,EAAEyZ,EACR/Z,EAAEE,EAAII,EAAEJ,EACRF,EAAEkyC,EAAI5xC,EAAE4xC,EACDlyC,EAGT,SAASO,EAAKb,EAAMc,GAClB,IAAIC,EAAK,IAAIo7J,EAAOn8J,GAChBgB,EAAQF,GAAQA,EAAKE,MACrBC,EAAO,WAAa,OAAQF,EAAGV,SAAW,GAAK,YAenD,OAdAY,EAAKE,OAAS,WACZ,GACE,IAAI+yC,EAAMnzC,EAAGV,SAAW,GACpBg8J,GAAOt7J,EAAGV,SAAW,GAAK,WAC1BkL,GAAU2oC,EAAMmoH,IAAQ,GAAK,UACf,IAAX9wJ,GACT,OAAOA,GAETtK,EAAKC,MAAQH,EAAGV,KAChBY,EAAKG,MAAQH,EACTD,IACmB,iBAAX,GAAqBL,EAAKK,EAAOD,GAC3CE,EAAKD,MAAQ,WAAa,OAAOL,EAAKI,EAAI,MAErCE,EAGL5B,GAAUA,EAAOC,QACnBD,EAAOC,QAAUuB,EACR,WAAU,WACnB,aAAoB,OAAOA,GAAO,yCAElCX,KAAK+7J,OAASp7J,GAzFhB,CA6FEX,EAC+Bb,EAC/B,a,8CCnGF,OAwBA,SAAWQ,EAAQ08J,EAAMC,GAKzB,IAQIC,EARA9jH,EAAQ,IACR+jH,EAAS,EACTC,EAAS,GACTC,EAAU,SACVC,EAAaL,EAAKx/D,IAAIrkD,EAAO+jH,GAC7BI,EAAeN,EAAKx/D,IAAI,EAAG2/D,GAC3BI,EAA0B,EAAfD,EACXrgC,EAAO9jF,EAAQ,EAOnB,SAAS+8G,EAAW11J,EAAM2mD,EAASz5C,GACjC,IAAIjK,EAAM,GACV0jD,EAAsB,GAAXA,EAAmB,CAAEq2G,SAAS,GAAUr2G,GAAW,GAG9D,IAAIs2G,EAAYC,EAAOC,EACrBx2G,EAAQq2G,QAAU,CAACh9J,EAAMo9J,EAASb,IACzB,MAARv8J,EAAgBq9J,IAAar9J,EAAM,GAAIiD,GAGtCq6J,EAAO,IAAIC,EAAKt6J,GAIhBhC,EAAO,WACT,IAAII,EAAIi8J,EAAKzH,EAAE6G,GACXlqH,EAAIqqH,EACJ5zE,EAAI,EACR,MAAO5nF,EAAIy7J,EACTz7J,GAAKA,EAAI4nF,GAAKtwC,EACdnG,GAAKmG,EACLswC,EAAIq0E,EAAKzH,EAAE,GAEb,MAAOx0J,GAAK07J,EACV17J,GAAK,EACLmxC,GAAK,EACLy2C,KAAO,EAET,OAAQ5nF,EAAI4nF,GAAKz2C,GAWnB,OARAvxC,EAAKC,MAAQ,WAAa,OAAmB,EAAZo8J,EAAKzH,EAAE,IACxC50J,EAAKG,MAAQ,WAAa,OAAOk8J,EAAKzH,EAAE,GAAK,YAC7C50J,EAAKE,OAASF,EAGdi8J,EAAOE,EAASE,EAAKE,GAAIjB,IAGjB51G,EAAQ82G,MAAQvwJ,GACpB,SAASjM,EAAMjB,EAAM09J,EAAc18J,GAUjC,OATIA,IAEEA,EAAMw8J,GAAK78J,EAAKK,EAAOs8J,GAE3Br8J,EAAKD,MAAQ,WAAa,OAAOL,EAAK28J,EAAM,MAK1CI,GAAgBlB,EAAKI,GAAW37J,EAAajB,GAIrCiB,IAElBA,EACAg8J,EACA,WAAYt2G,EAAUA,EAAQ9mD,OAAUK,MAAQs8J,EAChD71G,EAAQ3lD,OAaV,SAASu8J,EAAKt6J,GACZ,IAAI3C,EAAGq9J,EAAS16J,EAAIxB,OAChBxB,EAAKC,KAAMsB,EAAI,EAAGspB,EAAI7qB,EAAGuB,EAAIvB,EAAG6qB,EAAI,EAAGrJ,EAAIxhB,EAAGu9J,EAAI,GAGjDG,IAAU16J,EAAM,CAAC06J,MAGtB,MAAOn8J,EAAIm3C,EACTl3B,EAAEjgB,GAAKA,IAET,IAAKA,EAAI,EAAGA,EAAIm3C,EAAOn3C,IACrBigB,EAAEjgB,GAAKigB,EAAEqJ,EAAI2xG,EAAQ3xG,EAAI7nB,EAAIzB,EAAIm8J,IAAWr9J,EAAImhB,EAAEjgB,KAClDigB,EAAEqJ,GAAKxqB,GAIRL,EAAG41J,EAAI,SAAS7uE,GAEf,IAAI1mF,EAAG2P,EAAI,EACPzO,EAAIvB,EAAGuB,EAAGspB,EAAI7qB,EAAG6qB,EAAGrJ,EAAIxhB,EAAGu9J,EAC/B,MAAOx2E,IACL1mF,EAAImhB,EAAEjgB,EAAIi7H,EAAQj7H,EAAI,GACtByO,EAAIA,EAAI0oC,EAAQl3B,EAAEg7G,GAASh7G,EAAEjgB,GAAKigB,EAAEqJ,EAAI2xG,EAAQ3xG,EAAIxqB,KAAQmhB,EAAEqJ,GAAKxqB,IAGrE,OADAL,EAAGuB,EAAIA,EAAGvB,EAAG6qB,EAAIA,EACV7a,IAIN0oC,GAOL,SAASh4C,EAAKC,EAAGN,GAIf,OAHAA,EAAEkB,EAAIZ,EAAEY,EACRlB,EAAEwqB,EAAIlqB,EAAEkqB,EACRxqB,EAAEk9J,EAAI58J,EAAE48J,EAAEx5J,QACH1D,EAOT,SAAS68J,EAAQ54J,EAAKq5J,GACpB,IAAqChrI,EAAjCrnB,EAAS,GAAIsyJ,SAAct5J,EAC/B,GAAIq5J,GAAgB,UAAPC,EACX,IAAKjrI,KAAQruB,EACX,IAAMgH,EAAOnG,KAAK+3J,EAAQ54J,EAAIquB,GAAOgrI,EAAQ,IAAO,MAAOl5H,IAG/D,OAAQn5B,EAAO9J,OAAS8J,EAAgB,UAAPsyJ,EAAkBt5J,EAAMA,EAAM,KAQjE,SAAS24J,EAAOl9J,EAAMiD,GACpB,IAA4B66J,EAAxBC,EAAa/9J,EAAO,GAAW8qB,EAAI,EACvC,MAAOA,EAAIizI,EAAWt8J,OACpBwB,EAAIw5H,EAAO3xG,GACT2xG,GAASqhC,GAAyB,GAAhB76J,EAAIw5H,EAAO3xG,IAAWizI,EAAWr8J,WAAWopB,KAElE,OAAOsyI,EAASn6J,GAQlB,SAASo6J,IACP,IACE,IAAI70E,EAQJ,OAPIi0E,IAAej0E,EAAMi0E,EAAWuB,aAElCx1E,EAAMA,EAAI7vC,IAEV6vC,EAAM,IAAIzlB,WAAWpqB,IACpB94C,EAAO4jE,QAAU5jE,EAAOo+J,UAAUC,gBAAgB11E,IAE9C40E,EAAS50E,GAChB,MAAO9jD,GACP,IAAIy5H,EAAUt+J,EAAO0qC,UACjB6zH,EAAUD,GAAWA,EAAQC,QACjC,MAAO,EAAE,IAAIn0H,KAAMpqC,EAAQu+J,EAASv+J,EAAOw+J,OAAQjB,EAASb,KAQhE,SAASa,EAAShjJ,GAChB,OAAO7Y,OAAO0hE,aAAa94D,MAAM,EAAGiQ,GAgBtC,GANA8iJ,EAAOV,EAAK8B,SAAU/B,GAMal9J,EAAOC,QAAS,CACjDD,EAAOC,QAAUo2J,EAEjB,IACE+G,EAAa,EAAQ,GACrB,MAAO8B,UAET,aAAoB,OAAO7I,GAAa,yCAtN1C,CAiOmB,qBAATv/I,KAAwBA,KAAOjW,KACvC,GACA49B,O,sBC3PF,mBAGA,SAAUj+B,EAAQR,EAAQS,GAE1B,SAASq8J,EAAOn8J,GACd,IAAIC,EAAKC,KAAMo8J,EAAU,GAGzBr8J,EAAGI,KAAO,WACR,IAAIC,EAAKL,EAAGgpF,EAAKhpF,EAAGgpF,IAAM,EAE1B,OADAhpF,EAAGgpF,EAAIhpF,EAAGmpF,EAAGnpF,EAAGmpF,EAAInpF,EAAGu+J,EAAGv+J,EAAGu+J,EAAIv+J,EAAGiG,EAAGjG,EAAGiG,EAAIjG,EAAG8L,GACzC9L,EAAGuyC,EAAKvyC,EAAGuyC,EAAI,OAAS,IAC5BvyC,EAAG8L,EAAK9L,EAAG8L,EAAK9L,EAAG8L,GAAK,EAAOzL,EAAKA,GAAK,GAAO,GAGtDL,EAAGgpF,EAAI,EACPhpF,EAAGmpF,EAAI,EACPnpF,EAAGu+J,EAAI,EACPv+J,EAAGiG,EAAI,EACPjG,EAAG8L,EAAI,EAEH/L,KAAiB,EAAPA,GAEZC,EAAGgpF,EAAIjpF,EAGPs8J,GAAWt8J,EAIb,IAAK,IAAI02B,EAAI,EAAGA,EAAI4lI,EAAQ76J,OAAS,GAAIi1B,IACvCz2B,EAAGgpF,GAA6B,EAAxBqzE,EAAQ56J,WAAWg1B,GACvBA,GAAK4lI,EAAQ76J,SACfxB,EAAGuyC,EAAIvyC,EAAGgpF,GAAK,GAAKhpF,EAAGgpF,IAAM,GAE/BhpF,EAAGI,OAIP,SAASM,EAAKC,EAAGN,GAOf,OANAA,EAAE2oF,EAAIroF,EAAEqoF,EACR3oF,EAAE8oF,EAAIxoF,EAAEwoF,EACR9oF,EAAEk+J,EAAI59J,EAAE49J,EACRl+J,EAAE4F,EAAItF,EAAEsF,EACR5F,EAAEyL,EAAInL,EAAEmL,EACRzL,EAAEkyC,EAAI5xC,EAAE4xC,EACDlyC,EAGT,SAASO,EAAKb,EAAMc,GAClB,IAAIC,EAAK,IAAIo7J,EAAOn8J,GAChBgB,EAAQF,GAAQA,EAAKE,MACrBC,EAAO,WAAa,OAAQF,EAAGV,SAAW,GAAK,YAenD,OAdAY,EAAKE,OAAS,WACZ,GACE,IAAI+yC,EAAMnzC,EAAGV,SAAW,GACpBg8J,GAAOt7J,EAAGV,SAAW,GAAK,WAC1BkL,GAAU2oC,EAAMmoH,IAAQ,GAAK,UACf,IAAX9wJ,GACT,OAAOA,GAETtK,EAAKC,MAAQH,EAAGV,KAChBY,EAAKG,MAAQH,EACTD,IACmB,iBAAX,GAAqBL,EAAKK,EAAOD,GAC3CE,EAAKD,MAAQ,WAAa,OAAOL,EAAKI,EAAI,MAErCE,EAGL5B,GAAUA,EAAOC,QACnBD,EAAOC,QAAUuB,EACR,WAAU,WACnB,aAAoB,OAAOA,GAAO,yCAElCX,KAAK47J,OAASj7J,GAzEhB,CA6EEX,EAC+Bb,EAC/B,a,kFCjFF,IAAI0sB,EAAI,EAAQ,QACZlsB,EAAS,EAAQ,QACjB4+J,EAAa,EAAQ,QACrBC,EAA2B,EAAQ,QACnCl6J,EAAiB,EAAQ,QAAuC5D,EAChEyT,EAAS,EAAQ,QACjBsqJ,EAAa,EAAQ,QACrBC,EAAoB,EAAQ,QAC5BC,EAA0B,EAAQ,QAClCC,EAAwB,EAAQ,QAChCC,EAAkB,EAAQ,QAC1BC,EAAc,EAAQ,QACtBC,EAAU,EAAQ,QAElBC,EAAgB,eAChB3/J,EAAQk/J,EAAW,SACnBU,EAAqBV,EAAWS,GAEhCE,EAAgB,WAClBT,EAAWz+J,KAAMm/J,GACjB,IAAIC,EAAkB3+I,UAAUlf,OAC5B0oD,EAAU00G,EAAwBS,EAAkB,OAAIC,EAAY5+I,UAAU,IAC9EvO,EAAOysJ,EAAwBS,EAAkB,OAAIC,EAAY5+I,UAAU,GAAI,SAC/E6+I,EAAO,IAAIL,EAAmBh1G,EAAS/3C,GACvCoF,EAAQjY,EAAM4qD,GAIlB,OAHA3yC,EAAMpF,KAAO8sJ,EACb16J,EAAeg7J,EAAM,QAASd,EAAyB,EAAGK,EAAgBvnJ,EAAMioJ,MAAO,KACvFb,EAAkBY,EAAMt/J,KAAMk/J,GACvBI,GAGLH,EAAwBD,EAAct8J,UAAYq8J,EAAmBr8J,UAErE48J,EAAkB,UAAWngK,EAAM2/J,GACnCS,EAA0B,UAAW,IAAIR,EAAmB,EAAG,GAG/D5xI,EAAa4xI,GAAsBH,GAAe58J,OAAOw9J,yBAAyB//J,EAAQq/J,GAI1FW,IAAqBtyI,KAAgBA,EAAWkuI,UAAYluI,EAAW9oB,cAEvEq7J,EAAqBJ,IAAoBG,IAAqBF,EAIlE5zI,EAAE,CAAElsB,QAAQ,EAAMw6C,aAAa,EAAMshH,OAAQsD,GAAWa,GAAsB,CAC5EC,aAAcD,EAAqBV,EAAgBD,IAGrD,IAAIa,EAAyBvB,EAAWS,GACpCe,EAAkCD,EAAuBl9J,UAE7D,GAAIm9J,EAAgC5lH,cAAgB2lH,EAKlD,IAAK,IAAI/8J,KAJJg8J,GACHz6J,EAAey7J,EAAiC,cAAevB,EAAyB,EAAGsB,IAG7ElB,EAAuB,GAAIzqJ,EAAOyqJ,EAAuB77J,GAAM,CAC7E,IAAIi9J,EAAWpB,EAAsB77J,GACjCk9J,EAAeD,EAASz+I,EACvBpN,EAAO2rJ,EAAwBG,IAClC37J,EAAew7J,EAAwBG,EAAczB,EAAyB,EAAGwB,EAAS1/J,M,sBChEhG,mBAGA,SAAUX,EAAQR,EAAQS,GAE1B,SAASq8J,EAAOn8J,GACd,IAAIC,EAAKC,KAAMo8J,EAAU,GAEzBr8J,EAAGgpF,EAAI,EACPhpF,EAAGmpF,EAAI,EACPnpF,EAAGu+J,EAAI,EACPv+J,EAAGiG,EAAI,EAGPjG,EAAGI,KAAO,WACR,IAAIC,EAAIL,EAAGgpF,EAAKhpF,EAAGgpF,GAAK,GAIxB,OAHAhpF,EAAGgpF,EAAIhpF,EAAGmpF,EACVnpF,EAAGmpF,EAAInpF,EAAGu+J,EACVv+J,EAAGu+J,EAAIv+J,EAAGiG,EACHjG,EAAGiG,GAAMjG,EAAGiG,IAAM,GAAM5F,EAAKA,IAAM,GAGxCN,KAAiB,EAAPA,GAEZC,EAAGgpF,EAAIjpF,EAGPs8J,GAAWt8J,EAIb,IAAK,IAAI02B,EAAI,EAAGA,EAAI4lI,EAAQ76J,OAAS,GAAIi1B,IACvCz2B,EAAGgpF,GAA6B,EAAxBqzE,EAAQ56J,WAAWg1B,GAC3Bz2B,EAAGI,OAIP,SAASM,EAAKC,EAAGN,GAKf,OAJAA,EAAE2oF,EAAIroF,EAAEqoF,EACR3oF,EAAE8oF,EAAIxoF,EAAEwoF,EACR9oF,EAAEk+J,EAAI59J,EAAE49J,EACRl+J,EAAE4F,EAAItF,EAAEsF,EACD5F,EAGT,SAASO,EAAKb,EAAMc,GAClB,IAAIC,EAAK,IAAIo7J,EAAOn8J,GAChBgB,EAAQF,GAAQA,EAAKE,MACrBC,EAAO,WAAa,OAAQF,EAAGV,SAAW,GAAK,YAenD,OAdAY,EAAKE,OAAS,WACZ,GACE,IAAI+yC,EAAMnzC,EAAGV,SAAW,GACpBg8J,GAAOt7J,EAAGV,SAAW,GAAK,WAC1BkL,GAAU2oC,EAAMmoH,IAAQ,GAAK,UACf,IAAX9wJ,GACT,OAAOA,GAETtK,EAAKC,MAAQH,EAAGV,KAChBY,EAAKG,MAAQH,EACTD,IACmB,iBAAX,GAAqBL,EAAKK,EAAOD,GAC3CE,EAAKD,MAAQ,WAAa,OAAOL,EAAKI,EAAI,MAErCE,EAGL5B,GAAUA,EAAOC,QACnBD,EAAOC,QAAUuB,EACR,WAAU,WACnB,aAAoB,OAAOA,GAAO,yCAElCX,KAAK27J,OAASh7J,GApEhB,CAwEEX,EAC+Bb,EAC/B,a,2DC7EF,W,sBCAA,mBAKA,SAAUQ,EAAQR,EAAQS,GAE1B,SAASq8J,EAAOn8J,GACd,IAAIC,EAAKC,KAgBT,SAASkqE,EAAKnqE,EAAID,GAChB,IAAI8qB,EAAMsxI,EAAI,GAEd,GAAIp8J,KAAiB,EAAPA,GAERo8J,EAAE,GAAKp8J,OAIX,IADAA,EAAO,GAAKA,EACP8qB,EAAI,EAAGA,EAAI9qB,EAAKyB,SAAUqpB,EAC7BsxI,EAAM,EAAJtxI,GAAUsxI,EAAM,EAAJtxI,IAAU,GACnB9qB,EAAK0B,WAAWopB,GAAKsxI,EAAGtxI,EAAI,EAAK,IAAM,GAIhD,MAAOsxI,EAAE36J,OAAS,EAAG26J,EAAEh3J,KAAK,GAC5B,IAAK0lB,EAAI,EAAGA,EAAI,GAAc,IAATsxI,EAAEtxI,KAAYA,GAOnC,IANS,GAALA,EAAYsxI,EAAE,IAAM,EAAYA,EAAEtxI,GAEtC7qB,EAAGgpF,EAAImzE,EACPn8J,EAAGuB,EAAI,EAGFspB,EAAI,IAAKA,EAAI,IAAKA,EACrB7qB,EAAGI,OArCPJ,EAAGI,KAAO,WAER,IAAwBC,EAAGyL,EAAvBqwJ,EAAIn8J,EAAGgpF,EAAGznF,EAAIvB,EAAGuB,EAQrB,OAPAlB,EAAI87J,EAAE56J,GAAIlB,GAAMA,IAAM,EAAIyL,EAAIzL,EAAKA,GAAK,GACxCA,EAAI87J,EAAG56J,EAAI,EAAK,GAAIuK,GAAKzL,EAAKA,IAAM,GACpCA,EAAI87J,EAAG56J,EAAI,EAAK,GAAIuK,GAAKzL,EAAKA,IAAM,EACpCA,EAAI87J,EAAG56J,EAAI,EAAK,GAAIuK,GAAKzL,EAAKA,GAAK,EACnCA,EAAI87J,EAAG56J,EAAI,EAAK,GAAIlB,GAASA,GAAK,GAAKyL,GAAKzL,EAAKA,GAAK,EACtD87J,EAAE56J,GAAKuK,EACP9L,EAAGuB,EAAKA,EAAI,EAAK,EACVuK,GA+BTq+D,EAAKnqE,EAAID,GAGX,SAASW,EAAKC,EAAGN,GAGf,OAFAA,EAAE2oF,EAAIroF,EAAEqoF,EAAEjlF,QACV1D,EAAEkB,EAAIZ,EAAEY,EACDlB,EAGT,SAASO,EAAKb,EAAMc,GACN,MAARd,IAAcA,GAAQ,IAAKiqC,MAC/B,IAAIlpC,EAAK,IAAIo7J,EAAOn8J,GAChBgB,EAAQF,GAAQA,EAAKE,MACrBC,EAAO,WAAa,OAAQF,EAAGV,SAAW,GAAK,YAenD,OAdAY,EAAKE,OAAS,WACZ,GACE,IAAI+yC,EAAMnzC,EAAGV,SAAW,GACpBg8J,GAAOt7J,EAAGV,SAAW,GAAK,WAC1BkL,GAAU2oC,EAAMmoH,IAAQ,GAAK,UACf,IAAX9wJ,GACT,OAAOA,GAETtK,EAAKC,MAAQH,EAAGV,KAChBY,EAAKG,MAAQH,EACTD,IACEA,EAAMioF,GAAGtoF,EAAKK,EAAOD,GACzBE,EAAKD,MAAQ,WAAa,OAAOL,EAAKI,EAAI,MAErCE,EAGL5B,GAAUA,EAAOC,QACnBD,EAAOC,QAAUuB,EACR,WAAU,WACnB,aAAoB,OAAOA,GAAO,yCAElCX,KAAK67J,UAAYl7J,GAnFnB,CAuFEX,EAC+Bb,EAC/B,a,4CC9FFA,EAAOC,QAAU,CACf8gK,eAAgB,CAAE3+I,EAAG,iBAAkBjhB,EAAG,EAAGgwB,EAAG,GAChD6vI,mBAAoB,CAAE5+I,EAAG,qBAAsBjhB,EAAG,EAAGgwB,EAAG,GACxD8vI,sBAAuB,CAAE7+I,EAAG,wBAAyBjhB,EAAG,EAAGgwB,EAAG,GAC9D+vI,mBAAoB,CAAE9+I,EAAG,qBAAsBjhB,EAAG,EAAGgwB,EAAG,GACxDgwI,sBAAuB,CAAE/+I,EAAG,wBAAyBjhB,EAAG,EAAGgwB,EAAG,GAC9DiwI,mBAAoB,CAAEh/I,EAAG,sBAAuBjhB,EAAG,EAAGgwB,EAAG,GACzDkwI,2BAA4B,CAAEj/I,EAAG,8BAA+BjhB,EAAG,EAAGgwB,EAAG,GACzEmwI,cAAe,CAAEl/I,EAAG,gBAAiBjhB,EAAG,EAAGgwB,EAAG,GAC9CowI,kBAAmB,CAAEn/I,EAAG,oBAAqBjhB,EAAG,EAAGgwB,EAAG,GACtDqwI,oBAAqB,CAAEp/I,EAAG,sBAAuBjhB,EAAG,GAAIgwB,EAAG,GAC3DswI,kBAAmB,CAAEr/I,EAAG,oBAAqBjhB,EAAG,GAAIgwB,EAAG,GACvDuwI,YAAa,CAAEt/I,EAAG,aAAcjhB,EAAG,GAAIgwB,EAAG,GAC1CwwI,yBAA0B,CAAEv/I,EAAG,2BAA4BjhB,EAAG,GAAIgwB,EAAG,GACrEywI,eAAgB,CAAEx/I,EAAG,gBAAiBjhB,EAAG,GAAIgwB,EAAG,GAChD0wI,mBAAoB,CAAEz/I,EAAG,qBAAsBjhB,EAAG,GAAIgwB,EAAG,GACzD2wI,gBAAiB,CAAE1/I,EAAG,iBAAkBjhB,EAAG,GAAIgwB,EAAG,GAClD4wI,kBAAmB,CAAE3/I,EAAG,oBAAqBjhB,EAAG,GAAIgwB,EAAG,GACvD6wI,cAAe,CAAE5/I,EAAG,eAAgBjhB,EAAG,GAAIgwB,EAAG,GAC9C8wI,aAAc,CAAE7/I,EAAG,cAAejhB,EAAG,GAAIgwB,EAAG,GAC5C+wI,WAAY,CAAE9/I,EAAG,YAAajhB,EAAG,GAAIgwB,EAAG,GACxCgxI,iBAAkB,CAAE//I,EAAG,mBAAoBjhB,EAAG,GAAIgwB,EAAG,GACrDixI,mBAAoB,CAAEhgJ,EAAG,qBAAsBjhB,EAAG,GAAIgwB,EAAG,GACzDkxI,aAAc,CAAEjgJ,EAAG,cAAejhB,EAAG,GAAIgwB,EAAG,GAC5CmxI,qBAAsB,CAAElgJ,EAAG,wBAAyBjhB,EAAG,GAAIgwB,EAAG,GAC9DoxI,eAAgB,CAAEngJ,EAAG,iBAAkBjhB,EAAG,GAAIgwB,EAAG","file":"js/chunk-705a206a.c5eff109.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ChatContainer.vue?vue&type=style&index=0&id=7d514256&lang=scss&scoped=true\"","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","var isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw $TypeError('Incorrect invocation');\n};\n","function makeMap$2(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\nconst NOOP$1 = () => {\n};\nconst extend$2 = Object.assign;\nconst hasOwnProperty$1 = Object.prototype.hasOwnProperty;\nconst hasOwn$1 = (val, key) => hasOwnProperty$1.call(val, key);\nconst isArray$2 = Array.isArray;\nconst isMap$1 = (val) => toTypeString$1(val) === \"[object Map]\";\nconst isFunction$2 = (val) => typeof val === \"function\";\nconst isString$2 = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject$2 = (val) => val !== null && typeof val === \"object\";\nconst objectToString$1 = Object.prototype.toString;\nconst toTypeString$1 = (value) => objectToString$1.call(value);\nconst toRawType = (value) => {\n  return toTypeString$1(value).slice(8, -1);\n};\nconst isIntegerKey = (key) => isString$2(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst hasChanged$1 = (value, oldValue) => !Object.is(value, oldValue);\nconst def$1 = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    value\n  });\n};\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.active = true;\n    this.effects = [];\n    this.cleanups = [];\n    if (!detached && activeEffectScope) {\n      this.parent = activeEffectScope;\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;\n    }\n  }\n  run(fn) {\n    if (this.active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    }\n  }\n  on() {\n    activeEffectScope = this;\n  }\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this.active) {\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n      }\n      if (this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.active = false;\n    }\n  }\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n  if (scope && scope.active) {\n    scope.effects.push(effect);\n  }\n}\nconst createDep = (effects) => {\n  const dep = new Set(effects);\n  dep.w = 0;\n  dep.n = 0;\n  return dep;\n};\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\nconst initDepMarkers = ({ deps }) => {\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].w |= trackOpBit;\n    }\n  }\n};\nconst finalizeDepMarkers = (effect) => {\n  const { deps } = effect;\n  if (deps.length) {\n    let ptr = 0;\n    for (let i = 0; i < deps.length; i++) {\n      const dep = deps[i];\n      if (wasTracked(dep) && !newTracked(dep)) {\n        dep.delete(effect);\n      } else {\n        deps[ptr++] = dep;\n      }\n      dep.w &= ~trackOpBit;\n      dep.n &= ~trackOpBit;\n    }\n    deps.length = ptr;\n  }\n};\nconst targetMap = /* @__PURE__ */ new WeakMap();\nlet effectTrackDepth = 0;\nlet trackOpBit = 1;\nconst maxMarkerBits = 30;\nlet activeEffect;\nconst ITERATE_KEY = Symbol(\"\");\nconst MAP_KEY_ITERATE_KEY = Symbol(\"\");\nclass ReactiveEffect {\n  constructor(fn, scheduler = null, scope) {\n    this.fn = fn;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.deps = [];\n    this.parent = void 0;\n    recordEffectScope(this, scope);\n  }\n  run() {\n    if (!this.active) {\n      return this.fn();\n    }\n    let parent = activeEffect;\n    let lastShouldTrack = shouldTrack;\n    while (parent) {\n      if (parent === this) {\n        return;\n      }\n      parent = parent.parent;\n    }\n    try {\n      this.parent = activeEffect;\n      activeEffect = this;\n      shouldTrack = true;\n      trackOpBit = 1 << ++effectTrackDepth;\n      if (effectTrackDepth <= maxMarkerBits) {\n        initDepMarkers(this);\n      } else {\n        cleanupEffect(this);\n      }\n      return this.fn();\n    } finally {\n      if (effectTrackDepth <= maxMarkerBits) {\n        finalizeDepMarkers(this);\n      }\n      trackOpBit = 1 << --effectTrackDepth;\n      activeEffect = this.parent;\n      shouldTrack = lastShouldTrack;\n      this.parent = void 0;\n      if (this.deferStop) {\n        this.stop();\n      }\n    }\n  }\n  stop() {\n    if (activeEffect === this) {\n      this.deferStop = true;\n    } else if (this.active) {\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\nfunction cleanupEffect(effect) {\n  const { deps } = effect;\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].delete(effect);\n    }\n    deps.length = 0;\n  }\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = createDep());\n    }\n    trackEffects(dep);\n  }\n}\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n  let shouldTrack2 = false;\n  if (effectTrackDepth <= maxMarkerBits) {\n    if (!newTracked(dep)) {\n      dep.n |= trackOpBit;\n      shouldTrack2 = !wasTracked(dep);\n    }\n  } else {\n    shouldTrack2 = !dep.has(activeEffect);\n  }\n  if (shouldTrack2) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let deps = [];\n  if (type === \"clear\") {\n    deps = [...depsMap.values()];\n  } else if (key === \"length\" && isArray$2(target)) {\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || key2 >= newValue) {\n        deps.push(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      deps.push(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray$2(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap$1(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          deps.push(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray$2(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap$1(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap$1(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  if (deps.length === 1) {\n    if (deps[0]) {\n      {\n        triggerEffects(deps[0]);\n      }\n    }\n  } else {\n    const effects = [];\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep);\n      }\n    }\n    {\n      triggerEffects(createDep(effects));\n    }\n  }\n}\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\n  const effects = isArray$2(dep) ? dep : [...dep];\n  for (const effect of effects) {\n    if (effect.computed) {\n      triggerEffect(effect);\n    }\n  }\n  for (const effect of effects) {\n    if (!effect.computed) {\n      triggerEffect(effect);\n    }\n  }\n}\nfunction triggerEffect(effect, debuggerEventExtraInfo) {\n  if (effect !== activeEffect || effect.allowRecurse) {\n    if (effect.scheduler) {\n      effect.scheduler();\n    } else {\n      effect.run();\n    }\n  }\n}\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap$2(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nconst get$1 = /* @__PURE__ */ createGetter();\nconst shallowGet = /* @__PURE__ */ createGetter(false, true);\nconst readonlyGet = /* @__PURE__ */ createGetter(true);\nconst arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n  const instrumentations = {};\n  [\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      const arr = toRaw(this);\n      for (let i = 0, l = this.length; i < l; i++) {\n        track(arr, \"get\", i + \"\");\n      }\n      const res = arr[key](...args);\n      if (res === -1 || res === false) {\n        return arr[key](...args.map(toRaw));\n      } else {\n        return res;\n      }\n    };\n  });\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      pauseTracking();\n      const res = toRaw(this)[key].apply(this, args);\n      resetTracking();\n      return res;\n    };\n  });\n  return instrumentations;\n}\nfunction createGetter(isReadonly2 = false, shallow = false) {\n  return function get3(target, key, receiver) {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return shallow;\n    } else if (key === \"__v_raw\" && receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {\n      return target;\n    }\n    const targetIsArray = isArray$2(target);\n    if (!isReadonly2 && targetIsArray && hasOwn$1(arrayInstrumentations, key)) {\n      return Reflect.get(arrayInstrumentations, key, receiver);\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (shallow) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject$2(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  };\n}\nconst set$1 = /* @__PURE__ */ createSetter();\nconst shallowSet = /* @__PURE__ */ createSetter(true);\nfunction createSetter(shallow = false) {\n  return function set2(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\n      return false;\n    }\n    if (!shallow && !isReadonly(value)) {\n      if (!isShallow(value)) {\n        value = toRaw(value);\n        oldValue = toRaw(oldValue);\n      }\n      if (!isArray$2(target) && isRef(oldValue) && !isRef(value)) {\n        oldValue.value = value;\n        return true;\n      }\n    }\n    const hadKey = isArray$2(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn$1(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged$1(value, oldValue)) {\n        trigger(target, \"set\", key, value);\n      }\n    }\n    return result;\n  };\n}\nfunction deleteProperty(target, key) {\n  const hadKey = hasOwn$1(target, key);\n  target[key];\n  const result = Reflect.deleteProperty(target, key);\n  if (result && hadKey) {\n    trigger(target, \"delete\", key, void 0);\n  }\n  return result;\n}\nfunction has(target, key) {\n  const result = Reflect.has(target, key);\n  if (!isSymbol(key) || !builtInSymbols.has(key)) {\n    track(target, \"has\", key);\n  }\n  return result;\n}\nfunction ownKeys(target) {\n  track(target, \"iterate\", isArray$2(target) ? \"length\" : ITERATE_KEY);\n  return Reflect.ownKeys(target);\n}\nconst mutableHandlers = {\n  get: get$1,\n  set: set$1,\n  deleteProperty,\n  has,\n  ownKeys\n};\nconst readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key) {\n    return true;\n  },\n  deleteProperty(target, key) {\n    return true;\n  }\n};\nconst shallowReactiveHandlers = /* @__PURE__ */ extend$2({}, mutableHandlers, {\n  get: shallowGet,\n  set: shallowSet\n});\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get$1$1(target, key, isReadonly2 = false, isShallow2 = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly2) {\n    if (key !== rawKey) {\n      track(rawTarget, \"get\", key);\n    }\n    track(rawTarget, \"get\", rawKey);\n  }\n  const { has: has2 } = getProto(rawTarget);\n  const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has$1(key, isReadonly2 = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly2) {\n    if (key !== rawKey) {\n      track(rawTarget, \"has\", key);\n    }\n    track(rawTarget, \"has\", rawKey);\n  }\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly2 = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly2 && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set$1$1(key, value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const { has: has2, get: get3 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  }\n  const oldValue = get3.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged$1(value, oldValue)) {\n    trigger(target, \"set\", key, value);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const { has: has2, get: get3 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  }\n  get3 ? get3.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0);\n  }\n  return result;\n}\nfunction createForEach(isReadonly2, isShallow2) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n    !isReadonly2 && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly2, isShallow2) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap$1(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n    !isReadonly2 && track(rawTarget, \"iterate\", isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\n    return {\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    return type === \"delete\" ? false : this;\n  };\n}\nfunction createInstrumentations() {\n  const mutableInstrumentations2 = {\n    get(key) {\n      return get$1$1(this, key);\n    },\n    get size() {\n      return size(this);\n    },\n    has: has$1,\n    add,\n    set: set$1$1,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, false)\n  };\n  const shallowInstrumentations2 = {\n    get(key) {\n      return get$1$1(this, key, false, true);\n    },\n    get size() {\n      return size(this);\n    },\n    has: has$1,\n    add,\n    set: set$1$1,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, true)\n  };\n  const readonlyInstrumentations2 = {\n    get(key) {\n      return get$1$1(this, key, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has$1.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, false)\n  };\n  const shallowReadonlyInstrumentations2 = {\n    get(key) {\n      return get$1$1(this, key, true, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has$1.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, true)\n  };\n  const iteratorMethods = [\"keys\", \"values\", \"entries\", Symbol.iterator];\n  iteratorMethods.forEach((method) => {\n    mutableInstrumentations2[method] = createIterableMethod(method, false, false);\n    readonlyInstrumentations2[method] = createIterableMethod(method, true, false);\n    shallowInstrumentations2[method] = createIterableMethod(method, false, true);\n    shallowReadonlyInstrumentations2[method] = createIterableMethod(method, true, true);\n  });\n  return [\n    mutableInstrumentations2,\n    readonlyInstrumentations2,\n    shallowInstrumentations2,\n    shallowReadonlyInstrumentations2\n  ];\n}\nconst [mutableInstrumentations, readonlyInstrumentations, shallowInstrumentations, shallowReadonlyInstrumentations] = /* @__PURE__ */ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly2, shallow) {\n  const instrumentations = shallow ? isReadonly2 ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly2 ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(hasOwn$1(instrumentations, key) && key in target ? instrumentations : target, key, receiver);\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);\n}\nfunction readonly(target) {\n  return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject$2(target)) {\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0) {\n    return target;\n  }\n  const proxy = new Proxy(target, targetType === 2 ? collectionHandlers : baseHandlers);\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  def$1(value, \"__v_skip\", true);\n  return value;\n}\nconst toReactive = (value) => isObject$2(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject$2(value) ? readonly(value) : value;\nfunction trackRefValue(ref) {\n  if (shouldTrack && activeEffect) {\n    ref = toRaw(ref);\n    {\n      trackEffects(ref.dep || (ref.dep = createDep()));\n    }\n  }\n}\nfunction triggerRefValue(ref, newVal) {\n  ref = toRaw(ref);\n  if (ref.dep) {\n    {\n      triggerEffects(ref.dep);\n    }\n  }\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction unref(ref) {\n  return isRef(ref) ? ref.value : ref;\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass ComputedRefImpl {\n  constructor(getter, _setter, isReadonly2, isSSR) {\n    this._setter = _setter;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this._dirty = true;\n    this.effect = new ReactiveEffect(getter, () => {\n      if (!this._dirty) {\n        this._dirty = true;\n        triggerRefValue(this);\n      }\n    });\n    this.effect.computed = this;\n    this.effect.active = this._cacheable = !isSSR;\n    this[\"__v_isReadonly\"] = isReadonly2;\n  }\n  get value() {\n    const self2 = toRaw(this);\n    trackRefValue(self2);\n    if (self2._dirty || !self2._cacheable) {\n      self2._dirty = false;\n      self2._value = self2.effect.run();\n    }\n    return self2._value;\n  }\n  set value(newValue) {\n    this._setter(newValue);\n  }\n}\nfunction computed$1(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  const onlyGetter = isFunction$2(getterOrOptions);\n  if (onlyGetter) {\n    getter = getterOrOptions;\n    setter = NOOP$1;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n  return cRef;\n}\nfunction makeMap$1(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\nfunction normalizeStyle(value) {\n  if (isArray$1(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString$1(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString$1(value)) {\n    return value;\n  } else if (isObject$1(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:(.+)/;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString$1(value)) {\n    res = value;\n  } else if (isArray$1(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject$1(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props)\n    return null;\n  let { class: klass, style } = props;\n  if (klass && !isString$1(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\nconst toDisplayString = (val) => {\n  return isString$1(val) ? val : val == null ? \"\" : isArray$1(val) || isObject$1(val) && (val.toString === objectToString || !isFunction$1(val.toString)) ? JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (val && val.__v_isRef) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val2]) => {\n        entries[`${key} =>`] = val2;\n        return entries;\n      }, {})\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()]\n    };\n  } else if (isObject$1(val) && !isArray$1(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\nconst EMPTY_OBJ = {};\nconst EMPTY_ARR = [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst onRE$1 = /^on[^a-z]/;\nconst isOn$1 = (key) => onRE$1.test(key);\nconst isModelListener$1 = (key) => key.startsWith(\"onUpdate:\");\nconst extend$1 = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray$1 = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isFunction$1 = (val) => typeof val === \"function\";\nconst isString$1 = (val) => typeof val === \"string\";\nconst isObject$1 = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return isObject$1(val) && isFunction$1(val.then) && isFunction$1(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isReservedProp = /* @__PURE__ */ makeMap$1(\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst cacheStringFunction$1 = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE$1 = /-(\\w)/g;\nconst camelize$1 = cacheStringFunction$1((str) => {\n  return str.replace(camelizeRE$1, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE$1 = /\\B([A-Z])/g;\nconst hyphenate$1 = cacheStringFunction$1((str) => str.replace(hyphenateRE$1, \"-$1\").toLowerCase());\nconst capitalize$1 = cacheStringFunction$1((str) => str.charAt(0).toUpperCase() + str.slice(1));\nconst toHandlerKey = cacheStringFunction$1((str) => str ? `on${capitalize$1(str)}` : ``);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](arg);\n  }\n};\nconst def = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    value\n  });\n};\nconst toNumber$1 = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nfunction callWithErrorHandling(fn, instance2, type, args) {\n  let res;\n  try {\n    res = args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance2, type);\n  }\n  return res;\n}\nfunction callWithAsyncErrorHandling(fn, instance2, type, args) {\n  if (isFunction$1(fn)) {\n    const res = callWithErrorHandling(fn, instance2, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance2, type);\n      });\n    }\n    return res;\n  }\n  const values = [];\n  for (let i = 0; i < fn.length; i++) {\n    values.push(callWithAsyncErrorHandling(fn[i], instance2, type, args));\n  }\n  return values;\n}\nfunction handleError(err, instance2, type, throwInDev = true) {\n  const contextVNode = instance2 ? instance2.vnode : null;\n  if (instance2) {\n    let cur = instance2.parent;\n    const exposedInstance = instance2.proxy;\n    const errorInfo = type;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    const appErrorHandler = instance2.appContext.config.errorHandler;\n    if (appErrorHandler) {\n      callWithErrorHandling(appErrorHandler, null, 10, [err, exposedInstance, errorInfo]);\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev);\n}\nfunction logError(err, type, contextVNode, throwInDev = true) {\n  {\n    console.error(err);\n  }\n}\nlet isFlushing = false;\nlet isFlushPending = false;\nconst queue = [];\nlet flushIndex = 0;\nconst pendingPreFlushCbs = [];\nlet activePreFlushCbs = null;\nlet preFlushIndex = 0;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nlet currentPreFlushParentJob = null;\nfunction nextTick(fn) {\n  const p2 = currentFlushPromise || resolvedPromise;\n  return fn ? p2.then(this ? fn.bind(this) : fn) : p2;\n}\nfunction findInsertionIndex(id) {\n  let start2 = flushIndex + 1;\n  let end = queue.length;\n  while (start2 < end) {\n    const middle = start2 + end >>> 1;\n    const middleJobId = getId(queue[middle]);\n    middleJobId < id ? start2 = middle + 1 : end = middle;\n  }\n  return start2;\n}\nfunction queueJob(job) {\n  if ((!queue.length || !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) && job !== currentPreFlushParentJob) {\n    if (job.id == null) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(job.id), 0, job);\n    }\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!isFlushing && !isFlushPending) {\n    isFlushPending = true;\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction invalidateJob(job) {\n  const i = queue.indexOf(job);\n  if (i > flushIndex) {\n    queue.splice(i, 1);\n  }\n}\nfunction queueCb(cb, activeQueue, pendingQueue, index) {\n  if (!isArray$1(cb)) {\n    if (!activeQueue || !activeQueue.includes(cb, cb.allowRecurse ? index + 1 : index)) {\n      pendingQueue.push(cb);\n    }\n  } else {\n    pendingQueue.push(...cb);\n  }\n  queueFlush();\n}\nfunction queuePreFlushCb(cb) {\n  queueCb(cb, activePreFlushCbs, pendingPreFlushCbs, preFlushIndex);\n}\nfunction queuePostFlushCb(cb) {\n  queueCb(cb, activePostFlushCbs, pendingPostFlushCbs, postFlushIndex);\n}\nfunction flushPreFlushCbs(seen, parentJob = null) {\n  if (pendingPreFlushCbs.length) {\n    currentPreFlushParentJob = parentJob;\n    activePreFlushCbs = [...new Set(pendingPreFlushCbs)];\n    pendingPreFlushCbs.length = 0;\n    for (preFlushIndex = 0; preFlushIndex < activePreFlushCbs.length; preFlushIndex++) {\n      activePreFlushCbs[preFlushIndex]();\n    }\n    activePreFlushCbs = null;\n    preFlushIndex = 0;\n    currentPreFlushParentJob = null;\n    flushPreFlushCbs(seen, parentJob);\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  flushPreFlushCbs();\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)];\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      activePostFlushCbs[postFlushIndex]();\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? Infinity : job.id;\nfunction flushJobs(seen) {\n  isFlushPending = false;\n  isFlushing = true;\n  flushPreFlushCbs(seen);\n  queue.sort((a, b) => getId(a) - getId(b));\n  const check2 = NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && job.active !== false) {\n        if (false)\n          ;\n        callWithErrorHandling(job, null, 14);\n      }\n    }\n  } finally {\n    flushIndex = 0;\n    queue.length = 0;\n    flushPostFlushCbs();\n    isFlushing = false;\n    currentFlushPromise = null;\n    if (queue.length || pendingPreFlushCbs.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction emit$1(instance2, event, ...rawArgs) {\n  if (instance2.isUnmounted)\n    return;\n  const props = instance2.vnode.props || EMPTY_OBJ;\n  let args = rawArgs;\n  const isModelListener2 = event.startsWith(\"update:\");\n  const modelArg = isModelListener2 && event.slice(7);\n  if (modelArg && modelArg in props) {\n    const modifiersKey = `${modelArg === \"modelValue\" ? \"model\" : modelArg}Modifiers`;\n    const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\n    if (trim) {\n      args = rawArgs.map((a) => a.trim());\n    }\n    if (number) {\n      args = rawArgs.map(toNumber$1);\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || props[handlerName = toHandlerKey(camelize$1(event))];\n  if (!handler && isModelListener2) {\n    handler = props[handlerName = toHandlerKey(hyphenate$1(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(handler, instance2, 6, args);\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance2.emitted) {\n      instance2.emitted = {};\n    } else if (instance2.emitted[handlerName]) {\n      return;\n    }\n    instance2.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(onceHandler, instance2, 6, args);\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (!isFunction$1(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend$1(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    cache.set(comp, null);\n    return null;\n  }\n  if (isArray$1(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend$1(normalized, raw);\n  }\n  cache.set(comp, normalized);\n  return normalized;\n}\nfunction isEmitListener(options2, key) {\n  if (!options2 || !isOn$1(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options2, key[0].toLowerCase() + key.slice(1)) || hasOwn(options2, hyphenate$1(key)) || hasOwn(options2, key);\n}\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance2) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance2;\n  currentScopeId = instance2 && instance2.type.__scopeId || null;\n  return prev;\n}\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx)\n    return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    const res = fn(...args);\n    setCurrentRenderingInstance(prevInstance);\n    if (renderFnWithContext._d) {\n      setBlockTracking(1);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\nfunction markAttrsAccessed() {\n}\nfunction renderComponentRoot(instance2) {\n  const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit: emit2, render: render2, renderCache, data, setupState, ctx, inheritAttrs } = instance2;\n  let result;\n  let fallthroughAttrs;\n  const prev = setCurrentRenderingInstance(instance2);\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      result = normalizeVNode(render2.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));\n      fallthroughAttrs = attrs;\n    } else {\n      const render3 = Component;\n      if (false)\n        ;\n      result = normalizeVNode(render3.length > 1 ? render3(props, false ? {\n        get attrs() {\n          markAttrsAccessed();\n          return attrs;\n        },\n        slots,\n        emit: emit2\n      } : { attrs, slots, emit: emit2 }) : render3(props, null));\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance2, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener$1)) {\n          fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);\n        }\n        root = cloneVNode(root, fallthroughAttrs);\n      }\n    }\n  }\n  if (vnode.dirs) {\n    root = cloneVNode(root);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    root.transition = vnode.transition;\n  }\n  {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn$1(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener$1(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent && parent.subTree === vnode) {\n    (vnode = parent.vnode).el = el;\n    parent = parent.parent;\n  }\n}\nconst isSuspense = (type) => type.__isSuspense;\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray$1(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction provide(key, value) {\n  if (!currentInstance)\n    ;\n  else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance2 = currentInstance || currentRenderingInstance;\n  if (instance2) {\n    const provides = instance2.parent == null ? instance2.vnode.appContext && instance2.vnode.appContext.provides : instance2.parent.provides;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction$1(defaultValue) ? defaultValue.call(instance2.proxy) : defaultValue;\n    } else\n      ;\n  }\n}\nconst INITIAL_WATCHER_VALUE = {};\nfunction watch(source, cb, options2) {\n  return doWatch(source, cb, options2);\n}\nfunction doWatch(source, cb, { immediate, deep, flush: flush2, onTrack, onTrigger } = EMPTY_OBJ) {\n  const instance2 = currentInstance;\n  let getter;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow(source);\n  } else if (isReactive(source)) {\n    getter = () => source;\n    deep = true;\n  } else if (isArray$1(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return traverse(s);\n      } else if (isFunction$1(s)) {\n        return callWithErrorHandling(s, instance2, 2);\n      } else\n        ;\n    });\n  } else if (isFunction$1(source)) {\n    if (cb) {\n      getter = () => callWithErrorHandling(source, instance2, 2);\n    } else {\n      getter = () => {\n        if (instance2 && instance2.isUnmounted) {\n          return;\n        }\n        if (cleanup) {\n          cleanup();\n        }\n        return callWithAsyncErrorHandling(source, instance2, 3, [onCleanup]);\n      };\n    }\n  } else {\n    getter = NOOP;\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    getter = () => traverse(baseGetter());\n  }\n  let cleanup;\n  let onCleanup = (fn) => {\n    cleanup = effect.onStop = () => {\n      callWithErrorHandling(fn, instance2, 4);\n    };\n  };\n  if (isInSSRComponentSetup) {\n    onCleanup = NOOP;\n    if (!cb) {\n      getter();\n    } else if (immediate) {\n      callWithAsyncErrorHandling(cb, instance2, 3, [\n        getter(),\n        isMultiSource ? [] : void 0,\n        onCleanup\n      ]);\n    }\n    return NOOP;\n  }\n  let oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;\n  const job = () => {\n    if (!effect.active) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some((v, i) => hasChanged(v, oldValue[i])) : hasChanged(newValue, oldValue)) || false) {\n        if (cleanup) {\n          cleanup();\n        }\n        callWithAsyncErrorHandling(cb, instance2, 3, [\n          newValue,\n          oldValue === INITIAL_WATCHER_VALUE ? void 0 : oldValue,\n          onCleanup\n        ]);\n        oldValue = newValue;\n      }\n    } else {\n      effect.run();\n    }\n  };\n  job.allowRecurse = !!cb;\n  let scheduler;\n  if (flush2 === \"sync\") {\n    scheduler = job;\n  } else if (flush2 === \"post\") {\n    scheduler = () => queuePostRenderEffect(job, instance2 && instance2.suspense);\n  } else {\n    scheduler = () => queuePreFlushCb(job);\n  }\n  const effect = new ReactiveEffect(getter, scheduler);\n  if (cb) {\n    if (immediate) {\n      job();\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (flush2 === \"post\") {\n    queuePostRenderEffect(effect.run.bind(effect), instance2 && instance2.suspense);\n  } else {\n    effect.run();\n  }\n  return () => {\n    effect.stop();\n    if (instance2 && instance2.scope) {\n      remove(instance2.scope.effects, effect);\n    }\n  };\n}\nfunction instanceWatch(source, value, options2) {\n  const publicThis = this.proxy;\n  const getter = isString$1(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction$1(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options2 = value;\n  }\n  const cur = currentInstance;\n  setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options2);\n  if (cur) {\n    setCurrentInstance(cur);\n  } else {\n    unsetCurrentInstance();\n  }\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\nfunction traverse(value, seen) {\n  if (!isObject$1(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  if (isRef(value)) {\n    traverse(value.value, seen);\n  } else if (isArray$1(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], seen);\n    }\n  }\n  return value;\n}\nfunction useTransitionState() {\n  const state2 = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state2.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state2.isUnmounting = true;\n  });\n  return state2;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: {\n    mode: String,\n    appear: Boolean,\n    persisted: Boolean,\n    onBeforeEnter: TransitionHookValidator,\n    onEnter: TransitionHookValidator,\n    onAfterEnter: TransitionHookValidator,\n    onEnterCancelled: TransitionHookValidator,\n    onBeforeLeave: TransitionHookValidator,\n    onLeave: TransitionHookValidator,\n    onAfterLeave: TransitionHookValidator,\n    onLeaveCancelled: TransitionHookValidator,\n    onBeforeAppear: TransitionHookValidator,\n    onAppear: TransitionHookValidator,\n    onAfterAppear: TransitionHookValidator,\n    onAppearCancelled: TransitionHookValidator\n  },\n  setup(props, { slots }) {\n    const instance2 = getCurrentInstance();\n    const state2 = useTransitionState();\n    let prevTransitionKey;\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      let child = children[0];\n      if (children.length > 1) {\n        for (const c of children) {\n          if (c.type !== Comment) {\n            child = c;\n            break;\n          }\n        }\n      }\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (state2.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getKeepAliveChild(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      const enterHooks = resolveTransitionHooks(innerChild, rawProps, state2, instance2);\n      setTransitionHooks(innerChild, enterHooks);\n      const oldChild = instance2.subTree;\n      const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\n      let transitionKeyChanged = false;\n      const { getTransitionKey } = innerChild.type;\n      if (getTransitionKey) {\n        const key = getTransitionKey();\n        if (prevTransitionKey === void 0) {\n          prevTransitionKey = key;\n        } else if (key !== prevTransitionKey) {\n          prevTransitionKey = key;\n          transitionKeyChanged = true;\n        }\n      }\n      if (oldInnerChild && oldInnerChild.type !== Comment && (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\n        const leavingHooks = resolveTransitionHooks(oldInnerChild, rawProps, state2, instance2);\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\") {\n          state2.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state2.isLeaving = false;\n            instance2.update();\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(state2, oldInnerChild);\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el._leaveCb = () => {\n              earlyRemove();\n              el._leaveCb = void 0;\n              delete enterHooks.delayedLeave;\n            };\n            enterHooks.delayedLeave = delayedLeave;\n          };\n        }\n      }\n      return child;\n    };\n  }\n};\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state2, vnode) {\n  const { leavingVNodes } = state2;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state2, instance2) {\n  const { appear, mode, persisted = false, onBeforeEnter, onEnter, onAfterEnter, onEnterCancelled, onBeforeLeave, onLeave, onAfterLeave, onLeaveCancelled, onBeforeAppear, onAppear, onAfterAppear, onAppearCancelled } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state2, vnode);\n  const callHook2 = (hook, args) => {\n    hook && callWithAsyncErrorHandling(hook, instance2, 9, args);\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook2(hook, args);\n    if (isArray$1(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1))\n        done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state2.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el._leaveCb) {\n        el._leaveCb(true);\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el._leaveCb) {\n        leavingVNode.el._leaveCb();\n      }\n      callHook2(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state2.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el._enterCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        if (cancelled) {\n          callHook2(cancelHook, [el]);\n        } else {\n          callHook2(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el._enterCb = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove2) {\n      const key2 = String(vnode.key);\n      if (el._enterCb) {\n        el._enterCb(true);\n      }\n      if (state2.isUnmounting) {\n        return remove2();\n      }\n      callHook2(onBeforeLeave, [el]);\n      let called = false;\n      const done = el._leaveCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        remove2();\n        if (cancelled) {\n          callHook2(onLeaveCancelled, [el]);\n        } else {\n          callHook2(onAfterLeave, [el]);\n        }\n        el._leaveCb = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      return resolveTransitionHooks(vnode2, props, state2, instance2);\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getKeepAliveChild(vnode) {\n  return isKeepAlive(vnode) ? vnode.children ? vnode.children[0] : void 0 : vnode;\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128)\n        keyedFragmentCount++;\n      ret = ret.concat(getTransitionRawChildren(child.children, keepComment, key));\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\nfunction defineComponent(options2) {\n  return isFunction$1(options2) ? { setup: options2, name: options2.name } : options2;\n}\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(type, hook, keepAliveRoot, true);\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      if (target.isUnmounted) {\n        return;\n      }\n      pauseTracking();\n      setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      unsetCurrentInstance();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => (!isInSSRComponentSetup || lifecycle === \"sp\") && injectHook(lifecycle, hook, target);\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\"bu\");\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\"bum\");\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\"sp\");\nconst onRenderTriggered = createHook(\"rtg\");\nconst onRenderTracked = createHook(\"rtc\");\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\nfunction withDirectives(vnode, directives) {\n  const internalInstance = currentRenderingInstance;\n  if (internalInstance === null) {\n    return vnode;\n  }\n  const instance2 = getExposeProxy(internalInstance) || internalInstance.proxy;\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (isFunction$1(dir)) {\n      dir = {\n        mounted: dir,\n        updated: dir\n      };\n    }\n    if (dir.deep) {\n      traverse(value);\n    }\n    bindings.push({\n      dir,\n      instance: instance2,\n      value,\n      oldValue: void 0,\n      arg,\n      modifiers\n    });\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance2, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance2, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol();\nfunction resolveDynamicComponent(component) {\n  if (isString$1(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance2 = currentRenderingInstance || currentInstance;\n  if (instance2) {\n    const Component = instance2.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(Component, false);\n      if (selfName && (selfName === name || selfName === camelize$1(name) || selfName === capitalize$1(camelize$1(name)))) {\n        return Component;\n      }\n    }\n    const res = resolve(instance2[type] || Component[type], name) || resolve(instance2.appContext[type], name);\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    return res;\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize$1(name)] || registry[capitalize$1(camelize$1(name))]);\n}\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  if (isArray$1(source) || isString$1(source)) {\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(source[i], i, void 0, cached && cached[i]);\n    }\n  } else if (typeof source === \"number\") {\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject$1(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(source, (item, i) => renderItem(item, i, void 0, cached && cached[i]));\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray$1(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.fn;\n    }\n  }\n  return slots;\n}\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE) {\n    return createVNode(\"slot\", name === \"default\" ? null : { name }, fallback && fallback());\n  }\n  let slot = slots[name];\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const rendered = createBlock(Fragment, { key: props.key || `_${name}` }, validSlotContent || (fallback ? fallback() : []), validSlotContent && slots._ === 1 ? 64 : -2);\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child))\n      return true;\n    if (child.type === Comment)\n      return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\nconst getPublicInstance = (i) => {\n  if (!i)\n    return null;\n  if (isStatefulComponent(i))\n    return getExposeProxy(i) || i.proxy;\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = /* @__PURE__ */ extend$1(/* @__PURE__ */ Object.create(null), {\n  $: (i) => i,\n  $el: (i) => i.vnode.el,\n  $data: (i) => i.data,\n  $props: (i) => i.props,\n  $attrs: (i) => i.attrs,\n  $slots: (i) => i.slots,\n  $refs: (i) => i.refs,\n  $parent: (i) => getPublicInstance(i.parent),\n  $root: (i) => getPublicInstance(i.root),\n  $emit: (i) => i.emit,\n  $options: (i) => resolveMergedOptions(i),\n  $forceUpdate: (i) => i.f || (i.f = () => queueJob(i.update)),\n  $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n  $watch: (i) => instanceWatch.bind(i)\n});\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance2 }, key) {\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance2;\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1:\n            return setupState[key];\n          case 2:\n            return data[key];\n          case 4:\n            return ctx[key];\n          case 3:\n            return props[key];\n        }\n      } else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\n        accessCache[key] = 1;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2;\n        return data[key];\n      } else if ((normalizedProps = instance2.propsOptions[0]) && hasOwn(normalizedProps, key)) {\n        accessCache[key] = 3;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4;\n        return ctx[key];\n      } else if (shouldCacheAccess) {\n        accessCache[key] = 0;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance2, \"get\", key);\n      }\n      return publicGetter(instance2);\n    } else if ((cssModule = type.__cssModules) && (cssModule = cssModule[key])) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4;\n      return ctx[key];\n    } else if (globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)) {\n      {\n        return globalProperties[key];\n      }\n    } else\n      ;\n  },\n  set({ _: instance2 }, key, value) {\n    const { data, setupState, ctx } = instance2;\n    if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance2.props, key)) {\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance2) {\n      return false;\n    } else {\n      {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || setupState !== EMPTY_OBJ && hasOwn(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nlet shouldCacheAccess = true;\nfunction applyOptions(instance2) {\n  const options2 = resolveMergedOptions(instance2);\n  const publicThis = instance2.proxy;\n  const ctx = instance2.ctx;\n  shouldCacheAccess = false;\n  if (options2.beforeCreate) {\n    callHook$1(options2.beforeCreate, instance2, \"bc\");\n  }\n  const {\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    created,\n    beforeMount: beforeMount2,\n    mounted,\n    beforeUpdate,\n    updated: updated2,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted: unmounted2,\n    render: render2,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    expose,\n    inheritAttrs,\n    components,\n    directives,\n    filters\n  } = options2;\n  const checkDuplicateProperties = null;\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties, instance2.appContext.config.unwrapInjectedRef);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction$1(methodHandler)) {\n        {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n      }\n    }\n  }\n  if (dataOptions) {\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!isObject$1(data))\n      ;\n    else {\n      instance2.data = reactive(data);\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get3 = isFunction$1(opt) ? opt.bind(publicThis, publicThis) : isFunction$1(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      const set2 = !isFunction$1(opt) && isFunction$1(opt.set) ? opt.set.bind(publicThis) : NOOP;\n      const c = computed({\n        get: get3,\n        set: set2\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction$1(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook$1(created, instance2, \"c\");\n  }\n  function registerLifecycleHook(register2, hook) {\n    if (isArray$1(hook)) {\n      hook.forEach((_hook) => register2(_hook.bind(publicThis)));\n    } else if (hook) {\n      register2(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount2);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated2);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted2);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray$1(expose)) {\n    if (expose.length) {\n      const exposed = instance2.exposed || (instance2.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance2.exposed) {\n      instance2.exposed = {};\n    }\n  }\n  if (render2 && instance2.render === NOOP) {\n    instance2.render = render2;\n  }\n  if (inheritAttrs != null) {\n    instance2.inheritAttrs = inheritAttrs;\n  }\n  if (components)\n    instance2.components = components;\n  if (directives)\n    instance2.directives = directives;\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP, unwrapRef = false) {\n  if (isArray$1(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject$1(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(opt.from || key, opt.default, true);\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      if (unwrapRef) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          get: () => injected.value,\n          set: (v) => injected.value = v\n        });\n      } else {\n        ctx[key] = injected;\n      }\n    } else {\n      ctx[key] = injected;\n    }\n  }\n}\nfunction callHook$1(hook, instance2, type) {\n  callWithAsyncErrorHandling(isArray$1(hook) ? hook.map((h2) => h2.bind(instance2.proxy)) : hook.bind(instance2.proxy), instance2, type);\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  const getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString$1(raw)) {\n    const handler = ctx[raw];\n    if (isFunction$1(handler)) {\n      watch(getter, handler);\n    }\n  } else if (isFunction$1(raw)) {\n    watch(getter, raw.bind(publicThis));\n  } else if (isObject$1(raw)) {\n    if (isArray$1(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction$1(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction$1(handler)) {\n        watch(getter, handler, raw);\n      }\n    }\n  } else\n    ;\n}\nfunction resolveMergedOptions(instance2) {\n  const base = instance2.type;\n  const { mixins, extends: extendsOptions } = base;\n  const { mixins: globalMixins, optionsCache: cache, config: { optionMergeStrategies } } = instance2.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach((m) => mergeOptions(resolved, m, optionMergeStrategies, true));\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  cache.set(base, resolved);\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach((m) => mergeOptions(to, m, strats, true));\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\")\n      ;\n    else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeObjectOptions,\n  emits: mergeObjectOptions,\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  watch: mergeWatchOptions,\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return extend$1(isFunction$1(to) ? to.call(this, this) : to, isFunction$1(from) ? from.call(this, this) : from);\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray$1(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend$1(extend$1(/* @__PURE__ */ Object.create(null), to), from) : from;\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to)\n    return from;\n  if (!from)\n    return to;\n  const merged = extend$1(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\nfunction initProps(instance2, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = {};\n  def(attrs, InternalObjectKey, 1);\n  instance2.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance2, rawProps, props, attrs);\n  for (const key in instance2.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (isStateful) {\n    instance2.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance2.type.props) {\n      instance2.props = attrs;\n    } else {\n      instance2.props = props;\n    }\n  }\n  instance2.attrs = attrs;\n}\nfunction updateProps(instance2, rawProps, rawPrevProps, optimized) {\n  const { props, attrs, vnode: { patchFlag } } = instance2;\n  const rawCurrentProps = toRaw(props);\n  const [options2] = instance2.propsOptions;\n  let hasAttrsChanged = false;\n  if ((optimized || patchFlag > 0) && !(patchFlag & 16)) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance2.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance2.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options2) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize$1(key);\n            props[camelizedKey] = resolvePropValue(options2, rawCurrentProps, camelizedKey, value, instance2, false);\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance2, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || !hasOwn(rawProps, key) && ((kebabKey = hyphenate$1(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options2) {\n          if (rawPrevProps && (rawPrevProps[key] !== void 0 || rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(options2, rawCurrentProps, key, void 0, instance2, true);\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance2, \"set\", \"$attrs\");\n  }\n}\nfunction setFullProps(instance2, rawProps, props, attrs) {\n  const [options2, needCastKeys] = instance2.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options2 && hasOwn(options2, camelKey = camelize$1(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance2.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(options2, rawCurrentProps, key, castValues[key], instance2, !hasOwn(castValues, key));\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options2, props, key, value, instance2, isAbsent) {\n  const opt = options2[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && isFunction$1(defaultValue)) {\n        const { propsDefaults } = instance2;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          setCurrentInstance(instance2);\n          value = propsDefaults[key] = defaultValue.call(null, props);\n          unsetCurrentInstance();\n        }\n      } else {\n        value = defaultValue;\n      }\n    }\n    if (opt[0]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1] && (value === \"\" || value === hyphenate$1(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (!isFunction$1(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend$1(normalized, props);\n      if (keys)\n        needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    cache.set(comp, EMPTY_ARR);\n    return EMPTY_ARR;\n  }\n  if (isArray$1(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      const normalizedKey = camelize$1(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    for (const key in raw) {\n      const normalizedKey = camelize$1(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray$1(opt) || isFunction$1(opt) ? { type: opt } : opt;\n        if (prop) {\n          const booleanIndex = getTypeIndex(Boolean, prop.type);\n          const stringIndex = getTypeIndex(String, prop.type);\n          prop[0] = booleanIndex > -1;\n          prop[1] = stringIndex < 0 || booleanIndex < stringIndex;\n          if (booleanIndex > -1 || hasOwn(prop, \"default\")) {\n            needCastKeys.push(normalizedKey);\n          }\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  cache.set(comp, res);\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\") {\n    return true;\n  }\n  return false;\n}\nfunction getType(ctor) {\n  const match = ctor && ctor.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ctor === null ? \"null\" : \"\";\n}\nfunction isSameType(a, b) {\n  return getType(a) === getType(b);\n}\nfunction getTypeIndex(type, expectedTypes) {\n  if (isArray$1(expectedTypes)) {\n    return expectedTypes.findIndex((t) => isSameType(t, type));\n  } else if (isFunction$1(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1;\n  }\n  return -1;\n}\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray$1(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance2) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key))\n      continue;\n    const value = rawSlots[key];\n    if (isFunction$1(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance2, children) => {\n  const normalized = normalizeSlotValue(children);\n  instance2.slots.default = () => normalized;\n};\nconst initSlots = (instance2, children) => {\n  if (instance2.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      instance2.slots = toRaw(children);\n      def(children, \"_\", type);\n    } else {\n      normalizeObjectSlots(children, instance2.slots = {});\n    }\n  } else {\n    instance2.slots = {};\n    if (children) {\n      normalizeVNodeSlots(instance2, children);\n    }\n  }\n  def(instance2.slots, InternalObjectKey, 1);\n};\nconst updateSlots = (instance2, children, optimized) => {\n  const { vnode, slots } = instance2;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        extend$1(slots, children);\n        if (!optimized && type === 1) {\n          delete slots._;\n        }\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance2, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\n        delete slots[key];\n      }\n    }\n  }\n};\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid = 0;\nfunction createAppAPI(render2, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction$1(rootComponent)) {\n      rootComponent = Object.assign({}, rootComponent);\n    }\n    if (rootProps != null && !isObject$1(rootProps)) {\n      rootProps = null;\n    }\n    const context = createAppContext();\n    const installedPlugins = /* @__PURE__ */ new Set();\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n      },\n      use(plugin, ...options2) {\n        if (installedPlugins.has(plugin))\n          ;\n        else if (plugin && isFunction$1(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options2);\n        } else if (isFunction$1(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options2);\n        } else\n          ;\n        return app;\n      },\n      mixin(mixin) {\n        {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          }\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!component) {\n          return context.components[name];\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive2) {\n        if (!directive2) {\n          return context.directives[name];\n        }\n        context.directives[name] = directive2;\n        return app;\n      },\n      mount(rootContainer, isHydrate, isSVG) {\n        if (!isMounted) {\n          const vnode = createVNode(rootComponent, rootProps);\n          vnode.appContext = context;\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render2(vnode, rootContainer, isSVG);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          return getExposeProxy(vnode.component) || vnode.component.proxy;\n        }\n      },\n      unmount() {\n        if (isMounted) {\n          render2(null, app._container);\n          delete app._container.__vue_app__;\n        }\n      },\n      provide(key, value) {\n        context.provides[key] = value;\n        return app;\n      }\n    };\n    return app;\n  };\n}\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray$1(rawRef)) {\n    rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray$1(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount));\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getExposeProxy(vnode.component) || vnode.component.proxy : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  if (oldRef != null && oldRef !== ref) {\n    if (isString$1(oldRef)) {\n      refs[oldRef] = null;\n      if (hasOwn(setupState, oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction$1(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString$1(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray$1(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray$1(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (hasOwn(setupState, ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k)\n                  refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (hasOwn(setupState, ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k)\n            refs[rawRef.k] = value;\n        } else\n          ;\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    }\n  }\n}\nconst queuePostRenderEffect = queueEffectWithSuspense;\nfunction createRenderer(options2) {\n  return baseCreateRenderer(options2);\n}\nfunction baseCreateRenderer(options2, createHydrationFns) {\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options2;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, isSVG);\n        }\n        break;\n      case Fragment:\n        processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        } else if (shapeFlag & 6) {\n          processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        } else if (shapeFlag & 64) {\n          type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\n        } else if (shapeFlag & 128) {\n          type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\n        } else\n          ;\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(n2.el = hostCreateText(n2.children), container, anchor);\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(n2.el = hostCreateComment(n2.children || \"\"), container, anchor);\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, isSVG) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG, n2.el, n2.anchor);\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next2;\n    while (el && el !== anchor) {\n      next2 = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next2;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next2;\n    while (el && el !== anchor) {\n      next2 = hostNextSibling(el);\n      hostRemove(el);\n      el = next2;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    isSVG = isSVG || n2.type === \"svg\";\n    if (n1 == null) {\n      mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n    } else {\n      patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;\n    if (vnode.el && hostCloneNode !== void 0 && patchFlag === -1) {\n      el = vnode.el = hostCloneNode(vnode.el);\n    } else {\n      el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);\n      if (shapeFlag & 8) {\n        hostSetElementText(el, vnode.children);\n      } else if (shapeFlag & 16) {\n        mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== \"foreignObject\", slotScopeIds, optimized);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      if (props) {\n        for (const key in props) {\n          if (key !== \"value\" && !isReservedProp(key)) {\n            hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\n          }\n        }\n        if (\"value\" in props) {\n          hostPatchProp(el, \"value\", null, props.value);\n        }\n        if (vnodeHook = props.onVnodeBeforeMount) {\n          invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        }\n      }\n      setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (vnode === subTree) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start2 = 0) => {\n    for (let i = start2; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    const areChildrenSVG = isSVG && n2.type !== \"foreignObject\";\n    if (dynamicChildren) {\n      patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);\n    } else if (!optimized) {\n      patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, isSVG);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, isSVG);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next2 = newProps[key];\n            if (next2 !== prev || key === \"value\") {\n              hostPatchProp(el, key, prev, next2, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = oldVNode.el && (oldVNode.type === Fragment || !isSameVNodeType(oldVNode, newVNode) || oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : fallbackContainer;\n      patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);\n    }\n  };\n  const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\n    if (oldProps !== newProps) {\n      for (const key in newProps) {\n        if (isReservedProp(key))\n          continue;\n        const next2 = newProps[key];\n        const prev = oldProps[key];\n        if (next2 !== prev && key !== \"value\") {\n          hostPatchProp(el, key, prev, next2, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\n        }\n      }\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\n          }\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && n1.dynamicChildren) {\n        patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);\n        if (n2.key != null || parentComponent && n2 === parentComponent.subTree) {\n          traverseStaticChildren(n1, n2, true);\n        }\n      } else {\n        patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);\n      } else {\n        mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\n    const instance2 = initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense);\n    if (isKeepAlive(initialVNode)) {\n      instance2.ctx.renderer = internals;\n    }\n    {\n      setupComponent(instance2);\n    }\n    if (instance2.asyncDep) {\n      parentSuspense && parentSuspense.registerDep(instance2, setupRenderEffect);\n      if (!initialVNode.el) {\n        const placeholder = instance2.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n      return;\n    }\n    setupRenderEffect(instance2, initialVNode, container, anchor, parentSuspense, isSVG, optimized);\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance2 = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance2.asyncDep && !instance2.asyncResolved) {\n        updateComponentPreRender(instance2, n2, optimized);\n        return;\n      } else {\n        instance2.next = n2;\n        invalidateJob(instance2.update);\n        instance2.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance2.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance2, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance2.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent } = instance2;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance2, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance2, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            instance2.subTree = renderComponentRoot(instance2);\n            hydrateNode(el, instance2.subTree, instance2, parentSuspense, null);\n          };\n          if (isAsyncWrapperVNode) {\n            initialVNode.type.__asyncLoader().then(\n              () => !instance2.isUnmounted && hydrateSubTree()\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          const subTree = instance2.subTree = renderComponentRoot(instance2);\n          patch(null, subTree, container, anchor, instance2, parentSuspense, isSVG);\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode), parentSuspense);\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance2.a && queuePostRenderEffect(instance2.a, parentSuspense);\n        }\n        instance2.isMounted = true;\n        initialVNode = container = anchor = null;\n      } else {\n        let { next: next2, bu, u, parent, vnode } = instance2;\n        let originNext = next2;\n        let vnodeHook;\n        toggleRecurse(instance2, false);\n        if (next2) {\n          next2.el = vnode.el;\n          updateComponentPreRender(instance2, next2, optimized);\n        } else {\n          next2 = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next2.props && next2.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next2, vnode);\n        }\n        toggleRecurse(instance2, true);\n        const nextTree = renderComponentRoot(instance2);\n        const prevTree = instance2.subTree;\n        instance2.subTree = nextTree;\n        patch(\n          prevTree,\n          nextTree,\n          hostParentNode(prevTree.el),\n          getNextHostNode(prevTree),\n          instance2,\n          parentSuspense,\n          isSVG\n        );\n        next2.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance2, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next2.props && next2.props.onVnodeUpdated) {\n          queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, next2, vnode), parentSuspense);\n        }\n      }\n    };\n    const effect = instance2.effect = new ReactiveEffect(\n      componentUpdateFn,\n      () => queueJob(update2),\n      instance2.scope\n    );\n    const update2 = instance2.update = () => effect.run();\n    update2.id = instance2.uid;\n    toggleRecurse(instance2, true);\n    update2();\n  };\n  const updateComponentPreRender = (instance2, nextVNode, optimized) => {\n    nextVNode.component = instance2;\n    const prevProps = instance2.vnode.props;\n    instance2.vnode = nextVNode;\n    instance2.next = null;\n    updateProps(instance2, nextVNode.props, prevProps, optimized);\n    updateSlots(instance2, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs(void 0, instance2.update);\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n    }\n    if (oldLength > newLength) {\n      unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);\n    } else {\n      mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(null, c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++)\n        newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove3 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove3();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove3, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);\n      } else if (dynamicChildren && (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove2(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove2 = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next2;\n    while (cur !== end) {\n      next2 = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next2;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance2, parentSuspense, doRemove) => {\n    const { bum, scope, update: update2, subTree, um } = instance2;\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (update2) {\n      update2.active = false;\n      unmount(subTree, instance2, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance2.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance2.asyncDep && !instance2.asyncResolved && instance2.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start2 = 0) => {\n    for (let i = start2; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    return hostNextSibling(vnode.anchor || vnode.el);\n  };\n  const render2 = (vnode, container, isSVG) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(container._vnode || null, vnode, container, null, null, null, isSVG);\n    }\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove2,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options2\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(internals);\n  }\n  return {\n    render: render2,\n    hydrate,\n    createApp: createAppAPI(render2, hydrate)\n  };\n}\nfunction toggleRecurse({ effect, update: update2 }, allowed) {\n  effect.allowRecurse = update2.allowRecurse = allowed;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray$1(ch1) && isArray$1(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow)\n          traverseStaticChildren(c1, c2);\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p2 = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p2[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p2[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p2[v];\n  }\n  return result;\n}\nconst isTeleport = (type) => type.__isTeleport;\nconst Fragment = Symbol(void 0);\nconst Text = Symbol(void 0);\nconst Comment = Symbol(void 0);\nconst Static = Symbol(void 0);\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value) {\n  isBlockTreeEnabled += value;\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, true));\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(createVNode(type, props, children, patchFlag, dynamicProps, true));\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  return n1.type === n2.type && n1.key === n2.key;\n}\nconst InternalObjectKey = `__vInternal`;\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({ ref, ref_key, ref_for }) => {\n  return ref != null ? isString$1(ref) || isRef(ref) || isFunction$1(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString$1(children) ? 8 : 16;\n  }\n  if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock && (vnode.patchFlag > 0 || shapeFlag & 6) && vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(type, props, true);\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag |= -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString$1(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject$1(style)) {\n      if (isProxy(style) && !isArray$1(style)) {\n        style = extend$1({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString$1(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject$1(type) ? 4 : isFunction$1(type) ? 2 : 0;\n  return createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, isBlockNode, true);\n}\nfunction guardReactiveProps(props) {\n  if (!props)\n    return null;\n  return isProxy(props) || InternalObjectKey in props ? extend$1({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\n  const { props, ref, patchFlag, children } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? mergeRef && ref ? isArray$1(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children,\n    target: vnode.target,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition: vnode.transition,\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor\n  };\n  return cloned;\n}\nfunction createTextVNode(text2 = \" \", flag = 0) {\n  return createVNode(Text, null, text2, flag);\n}\nfunction createCommentVNode(text2 = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text2)) : createVNode(Comment, null, text2);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray$1(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      child.slice()\n    );\n  } else if (typeof child === \"object\") {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray$1(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !(InternalObjectKey in children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction$1(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn$1(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray$1(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance2, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance2, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\nconst emptyAppContext = createAppContext();\nlet uid$1 = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance2 = {\n    uid: uid$1++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    next: null,\n    subTree: null,\n    effect: null,\n    update: null,\n    scope: new EffectScope(true),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    accessCache: null,\n    renderCache: [],\n    components: null,\n    directives: null,\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    emit: null,\n    emitted: null,\n    propsDefaults: EMPTY_OBJ,\n    inheritAttrs: type.inheritAttrs,\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  {\n    instance2.ctx = { _: instance2 };\n  }\n  instance2.root = parent ? parent.root : instance2;\n  instance2.emit = emit$1.bind(null, instance2);\n  if (vnode.ce) {\n    vnode.ce(instance2);\n  }\n  return instance2;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nconst setCurrentInstance = (instance2) => {\n  currentInstance = instance2;\n  instance2.scope.on();\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  currentInstance = null;\n};\nfunction isStatefulComponent(instance2) {\n  return instance2.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance2, isSSR = false) {\n  isInSSRComponentSetup = isSSR;\n  const { props, children } = instance2.vnode;\n  const isStateful = isStatefulComponent(instance2);\n  initProps(instance2, props, isStateful, isSSR);\n  initSlots(instance2, children);\n  const setupResult = isStateful ? setupStatefulComponent(instance2, isSSR) : void 0;\n  isInSSRComponentSetup = false;\n  return setupResult;\n}\nfunction setupStatefulComponent(instance2, isSSR) {\n  const Component = instance2.type;\n  instance2.accessCache = /* @__PURE__ */ Object.create(null);\n  instance2.proxy = markRaw(new Proxy(instance2.ctx, PublicInstanceProxyHandlers));\n  const { setup } = Component;\n  if (setup) {\n    const setupContext = instance2.setupContext = setup.length > 1 ? createSetupContext(instance2) : null;\n    setCurrentInstance(instance2);\n    pauseTracking();\n    const setupResult = callWithErrorHandling(setup, instance2, 0, [instance2.props, setupContext]);\n    resetTracking();\n    unsetCurrentInstance();\n    if (isPromise(setupResult)) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance2, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance2, 0);\n        });\n      } else {\n        instance2.asyncDep = setupResult;\n      }\n    } else {\n      handleSetupResult(instance2, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance2, isSSR);\n  }\n}\nfunction handleSetupResult(instance2, setupResult, isSSR) {\n  if (isFunction$1(setupResult)) {\n    if (instance2.type.__ssrInlineRender) {\n      instance2.ssrRender = setupResult;\n    } else {\n      instance2.render = setupResult;\n    }\n  } else if (isObject$1(setupResult)) {\n    instance2.setupState = proxyRefs(setupResult);\n  } else\n    ;\n  finishComponentSetup(instance2, isSSR);\n}\nlet compile;\nfunction finishComponentSetup(instance2, isSSR, skipOptions) {\n  const Component = instance2.type;\n  if (!instance2.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template;\n      if (template) {\n        const { isCustomElement, compilerOptions } = instance2.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend$1(extend$1({\n          isCustomElement,\n          delimiters\n        }, compilerOptions), componentCompilerOptions);\n        Component.render = compile(template, finalCompilerOptions);\n      }\n    }\n    instance2.render = Component.render || NOOP;\n  }\n  {\n    setCurrentInstance(instance2);\n    pauseTracking();\n    applyOptions(instance2);\n    resetTracking();\n    unsetCurrentInstance();\n  }\n}\nfunction createAttrsProxy(instance2) {\n  return new Proxy(instance2.attrs, {\n    get(target, key) {\n      track(instance2, \"get\", \"$attrs\");\n      return target[key];\n    }\n  });\n}\nfunction createSetupContext(instance2) {\n  const expose = (exposed) => {\n    instance2.exposed = exposed || {};\n  };\n  let attrs;\n  {\n    return {\n      get attrs() {\n        return attrs || (attrs = createAttrsProxy(instance2));\n      },\n      slots: instance2.slots,\n      emit: instance2.emit,\n      expose\n    };\n  }\n}\nfunction getExposeProxy(instance2) {\n  if (instance2.exposed) {\n    return instance2.exposeProxy || (instance2.exposeProxy = new Proxy(proxyRefs(markRaw(instance2.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance2);\n        }\n      }\n    }));\n  }\n}\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction$1(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction isClassComponent(value) {\n  return isFunction$1(value) && \"__vccOpts\" in value;\n}\nconst computed = (getterOrOptions, debugOptions) => {\n  return computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n};\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject$1(propsOrChildren) && !isArray$1(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\nconst version = \"3.2.37\";\nfunction makeMap(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst onRE = /^on[^a-z]/;\nconst isOn = (key) => onRE.test(key);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst isArray = Array.isArray;\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, \"-$1\").toLowerCase());\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\nconst toNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, isSVG, is, props) => {\n    const el = isSVG ? doc.createElementNS(svgNS, tag) : doc.createElement(tag, is ? { is } : void 0);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text2) => doc.createTextNode(text2),\n  createComment: (text2) => doc.createComment(text2),\n  setText: (node, text2) => {\n    node.nodeValue = text2;\n  },\n  setElementText: (el, text2) => {\n    el.textContent = text2;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  cloneNode(el) {\n    const cloned = el.cloneNode(true);\n    if (`_value` in el) {\n      cloned._value = el._value;\n    }\n    return cloned;\n  },\n  insertStaticContent(content, parent, anchor, isSVG, start2, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start2 && (start2 === end || start2.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start2.cloneNode(true), anchor);\n        if (start2 === end || !(start2 = start2.nextSibling))\n          break;\n      }\n    } else {\n      templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;\n      const template = templateContainer.content;\n      if (isSVG) {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      before ? before.nextSibling : parent.firstChild,\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el._vtc;\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\nfunction patchStyle(el, prev, next2) {\n  const style = el.style;\n  const isCssString = isString(next2);\n  if (next2 && !isCssString) {\n    for (const key in next2) {\n      setStyle(style, key, next2[key]);\n    }\n    if (prev && !isString(prev)) {\n      for (const key in prev) {\n        if (next2[key] == null) {\n          setStyle(style, key, \"\");\n        }\n      }\n    }\n  } else {\n    const currentDisplay = style.display;\n    if (isCssString) {\n      if (prev !== next2) {\n        style.cssText = next2;\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n    if (\"_vod\" in el) {\n      style.display = currentDisplay;\n    }\n  }\n}\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null)\n      val = \"\";\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(hyphenate(prefixed), val.replace(importantRE, \"\"), \"important\");\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize$1(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance2) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    const isBoolean = isSpecialBooleanAttr(key);\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(key, isBoolean ? \"\" : value);\n    }\n  }\n}\nfunction patchDOMProp(el, key, value, prevChildren, parentComponent, parentSuspense, unmountChildren) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (prevChildren) {\n      unmountChildren(prevChildren, parentComponent, parentSuspense);\n    }\n    el[key] = value == null ? \"\" : value;\n    return;\n  }\n  if (key === \"value\" && el.tagName !== \"PROGRESS\" && !el.tagName.includes(\"-\")) {\n    el._value = value;\n    const newValue = value == null ? \"\" : value;\n    if (el.value !== newValue || el.tagName === \"OPTION\") {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n  }\n  needRemove && el.removeAttribute(key);\n}\nconst [_getNow, skipTimestampCheck] = /* @__PURE__ */ (() => {\n  let _getNow2 = Date.now;\n  let skipTimestampCheck2 = false;\n  if (typeof window !== \"undefined\") {\n    if (Date.now() > document.createEvent(\"Event\").timeStamp) {\n      _getNow2 = performance.now.bind(performance);\n    }\n    const ffMatch = navigator.userAgent.match(/firefox\\/(\\d+)/i);\n    skipTimestampCheck2 = !!(ffMatch && Number(ffMatch[1]) <= 53);\n  }\n  return [_getNow2, skipTimestampCheck2];\n})();\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst reset = () => {\n  cachedNow = 0;\n};\nconst getNow = () => cachedNow || (p.then(reset), cachedNow = _getNow());\nfunction addEventListener$1(el, event, handler, options2) {\n  el.addEventListener(event, handler, options2);\n}\nfunction removeEventListener(el, event, handler, options2) {\n  el.removeEventListener(event, handler, options2);\n}\nfunction patchEvent(el, rawName, prevValue, nextValue, instance2 = null) {\n  const invokers = el._vei || (el._vei = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = nextValue;\n  } else {\n    const [name, options2] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(nextValue, instance2);\n      addEventListener$1(el, name, invoker, options2);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options2);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options2;\n  if (optionsModifierRE.test(name)) {\n    options2 = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options2[m[0].toLowerCase()] = true;\n    }\n  }\n  return [hyphenate(name.slice(2)), options2];\n}\nfunction createInvoker(initialValue, instance2) {\n  const invoker = (e) => {\n    const timeStamp = e.timeStamp || _getNow();\n    if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {\n      callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance2, 5, [e]);\n    }\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map((fn) => (e2) => !e2._stopped && fn && fn(e2));\n  } else {\n    return value;\n  }\n}\nconst nativeOnRE = /^on[a-z]/;\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && nativeOnRE.test(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (nativeOnRE.test(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\nfunction defineCustomElement(options2, hydrate) {\n  const Comp = defineComponent(options2);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, hydrate);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, hydrate) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    this._instance = null;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    if (this.shadowRoot && hydrate) {\n      hydrate(this._createVNode(), this.shadowRoot);\n    } else {\n      this.attachShadow({ mode: \"open\" });\n    }\n  }\n  connectedCallback() {\n    this._connected = true;\n    if (!this._instance) {\n      this._resolveDef();\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        render(null, this.shadowRoot);\n        this._instance = null;\n      }\n    });\n  }\n  _resolveDef() {\n    if (this._resolved) {\n      return;\n    }\n    this._resolved = true;\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    }).observe(this, { attributes: true });\n    const resolve3 = (def2) => {\n      const { props, styles } = def2;\n      const hasOptions = !isArray(props);\n      const rawKeys = props ? hasOptions ? Object.keys(props) : props : [];\n      let numberProps;\n      if (hasOptions) {\n        for (const key in this._props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            this._props[key] = toNumber(this._props[key]);\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[key] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      for (const key of Object.keys(this)) {\n        if (key[0] !== \"_\") {\n          this._setProp(key, this[key], true, false);\n        }\n      }\n      for (const key of rawKeys.map(camelize)) {\n        Object.defineProperty(this, key, {\n          get() {\n            return this._getProp(key);\n          },\n          set(val) {\n            this._setProp(key, val);\n          }\n        });\n      }\n      this._applyStyles(styles);\n      this._update();\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      asyncDef().then(resolve3);\n    } else {\n      resolve3(this._def);\n    }\n  }\n  _setAttr(key) {\n    let value = this.getAttribute(key);\n    if (this._numberProps && this._numberProps[key]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelize(key), value, false);\n  }\n  _getProp(key) {\n    return this._props[key];\n  }\n  _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\n    if (val !== this._props[key]) {\n      this._props[key] = val;\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this.shadowRoot);\n  }\n  _createVNode() {\n    const vnode = createVNode(this._def, extend({}, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance2) => {\n        this._instance = instance2;\n        instance2.isCE = true;\n        instance2.emit = (event, ...args) => {\n          this.dispatchEvent(new CustomEvent(event, {\n            detail: args\n          }));\n        };\n        let parent = this;\n        while (parent = parent && (parent.parentNode || parent.host)) {\n          if (parent instanceof VueElement) {\n            instance2.parent = parent._instance;\n            break;\n          }\n        }\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles) {\n    if (styles) {\n      styles.forEach((css) => {\n        const s = document.createElement(\"style\");\n        s.textContent = css;\n        this.shadowRoot.appendChild(s);\n      });\n    }\n  }\n}\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\nTransition.displayName = \"Transition\";\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = Transition.props = /* @__PURE__ */ extend({}, BaseTransition.props, DOMTransitionPropsValidators);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const { name = \"v\", type, duration, enterFromClass = `${name}-enter-from`, enterActiveClass = `${name}-enter-active`, enterToClass = `${name}-enter-to`, appearFromClass = enterFromClass, appearActiveClass = enterActiveClass, appearToClass = enterToClass, leaveFromClass = `${name}-leave-from`, leaveActiveClass = `${name}-leave-active`, leaveToClass = `${name}-leave-to` } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const { onBeforeEnter, onEnter, onEnterCancelled, onLeave, onLeaveCancelled, onBeforeAppear = onBeforeEnter, onAppear = onEnter, onAppearCancelled = onEnterCancelled } = baseProps;\n  const finishEnter = (el, isAppear, done) => {\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve3 = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve3]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve3);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve3 = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      forceReflow();\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve3);\n        }\n      });\n      callHook(onLeave, [el, resolve3]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el._vtc || (el._vtc = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const { _vtc } = el;\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el._vtc = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve3) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve3();\n    }\n  };\n  if (explicitTimeout) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve3();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(TRANSITION + \"Delay\");\n  const transitionDurations = getStyleProperties(TRANSITION + \"Duration\");\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(ANIMATION + \"Delay\");\n  const animationDurations = getStyleProperties(ANIMATION + \"Duration\");\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(styles[TRANSITION + \"Property\"]);\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst TransitionGroupImpl = {\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance2 = getCurrentInstance();\n    const state2 = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(prevChildren[0].el, instance2.vnode.el, moveClass)) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el._moveCb = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = children;\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state2, instance2));\n        }\n      }\n      if (prevChildren) {\n        for (let i = 0; i < prevChildren.length; i++) {\n          const child = prevChildren[i];\n          setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state2, instance2));\n          positionMap.set(child, child.el.getBoundingClientRect());\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n};\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el._moveCb) {\n    el._moveCb();\n  }\n  if (el._enterCb) {\n    el._enterCb();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  if (el._vtc) {\n    el._vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  return (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers))\n        return;\n    }\n    return fn(event, ...args);\n  };\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  return (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some((k) => k === eventKey || keyNames[k] === eventKey)) {\n      return fn(event);\n    }\n  };\n};\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el._vod = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue)\n      return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nfunction setDisplay(el, value) {\n  el.style.display = value ? el._vod : \"none\";\n}\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nvar _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\nconst _sfc_main$q = {\n  name: \"AppLoader\",\n  props: {\n    show: { type: Boolean, default: false },\n    infinite: { type: Boolean, default: false },\n    type: { type: String, required: true },\n    messageId: { type: String, default: \"\" }\n  }\n};\nconst _hoisted_1$q = /* @__PURE__ */ createBaseVNode(\"div\", { id: \"vac-circle\" }, null, -1);\nconst _hoisted_2$n = /* @__PURE__ */ createBaseVNode(\"div\", { id: \"vac-circle\" }, null, -1);\nconst _hoisted_3$i = /* @__PURE__ */ createBaseVNode(\"div\", { id: \"vac-circle\" }, null, -1);\nconst _hoisted_4$g = /* @__PURE__ */ createBaseVNode(\"div\", { id: \"vac-circle\" }, null, -1);\nconst _hoisted_5$a = /* @__PURE__ */ createBaseVNode(\"div\", { id: \"vac-circle\" }, null, -1);\nconst _hoisted_6$7 = /* @__PURE__ */ createBaseVNode(\"div\", { id: \"vac-circle\" }, null, -1);\nfunction _sfc_render$q(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"vac-fade-spinner\",\n    appear: \"\"\n  }, {\n    default: withCtx(() => [\n      $props.show ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([\"vac-loader-wrapper\", {\n          \"vac-container-center\": !$props.infinite,\n          \"vac-container-top\": $props.infinite\n        }])\n      }, [\n        $props.type === \"rooms\" ? renderSlot(_ctx.$slots, \"spinner-icon-rooms\", { key: 0 }, () => [\n          _hoisted_1$q\n        ]) : createCommentVNode(\"\", true),\n        $props.type === \"infinite-rooms\" ? renderSlot(_ctx.$slots, \"spinner-icon-infinite-rooms\", { key: 1 }, () => [\n          _hoisted_2$n\n        ]) : createCommentVNode(\"\", true),\n        $props.type === \"message-file\" ? renderSlot(_ctx.$slots, \"spinner-icon-message-file_\" + $props.messageId, { key: 2 }, () => [\n          _hoisted_3$i\n        ]) : createCommentVNode(\"\", true),\n        $props.type === \"room-file\" ? renderSlot(_ctx.$slots, \"spinner-icon-room-file\", { key: 3 }, () => [\n          _hoisted_4$g\n        ]) : createCommentVNode(\"\", true),\n        $props.type === \"messages\" ? renderSlot(_ctx.$slots, \"spinner-icon-messages\", { key: 4 }, () => [\n          _hoisted_5$a\n        ]) : createCommentVNode(\"\", true),\n        $props.type === \"infinite-messages\" ? renderSlot(_ctx.$slots, \"spinner-icon-infinite-messages\", { key: 5 }, () => [\n          _hoisted_6$7\n        ]) : createCommentVNode(\"\", true)\n      ], 2)) : createCommentVNode(\"\", true)\n    ]),\n    _: 3\n  });\n}\nvar Loader = /* @__PURE__ */ _export_sfc(_sfc_main$q, [[\"render\", _sfc_render$q]]);\nconst _sfc_main$p = {\n  name: \"SvgIcon\",\n  props: {\n    name: { type: String, default: null },\n    param: { type: String, default: null }\n  },\n  data() {\n    return {\n      svgItem: {\n        search: {\n          path: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\"\n        },\n        add: {\n          path: \"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\"\n        },\n        toggle: {\n          path: \"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z\"\n        },\n        menu: {\n          path: \"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z\"\n        },\n        close: {\n          path: \"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z\"\n        },\n        file: {\n          path: \"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\"\n        },\n        paperclip: {\n          path: \"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z\"\n        },\n        \"close-outline\": {\n          path: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"\n        },\n        send: {\n          path: \"M2,21L23,12L2,3V10L17,12L2,14V21Z\"\n        },\n        emoji: {\n          path: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z\"\n        },\n        document: {\n          path: \"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z\"\n        },\n        pencil: {\n          path: \"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z\"\n        },\n        checkmark: {\n          path: \"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"\n        },\n        \"double-checkmark\": {\n          path: \"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z\"\n        },\n        eye: {\n          path: \"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z\"\n        },\n        dropdown: {\n          path: \"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\"\n        },\n        deleted: {\n          path: \"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z\"\n        },\n        microphone: {\n          size: \"large\",\n          path: \"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z\"\n        },\n        \"audio-play\": {\n          size: \"medium\",\n          path: \"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z\"\n        },\n        \"audio-pause\": {\n          size: \"medium\",\n          path: \"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z\",\n          path2: \"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z\"\n        }\n      }\n    };\n  },\n  computed: {\n    svgId() {\n      const param = this.param ? \"-\" + this.param : \"\";\n      return `vac-icon-${this.name}${param}`;\n    },\n    size() {\n      const item = this.svgItem[this.name];\n      if (item.size === \"large\")\n        return 512;\n      else if (item.size === \"medium\")\n        return 48;\n      else\n        return 24;\n    }\n  }\n};\nconst _hoisted_1$p = [\"viewBox\"];\nconst _hoisted_2$m = [\"id\", \"d\"];\nconst _hoisted_3$h = [\"id\", \"d\"];\nfunction _sfc_render$p(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n    version: \"1.1\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: `0 0 ${$options.size} ${$options.size}`\n  }, [\n    createBaseVNode(\"path\", {\n      id: $options.svgId,\n      d: $data.svgItem[$props.name].path\n    }, null, 8, _hoisted_2$m),\n    $data.svgItem[$props.name].path2 ? (openBlock(), createElementBlock(\"path\", {\n      key: 0,\n      id: $options.svgId,\n      d: $data.svgItem[$props.name].path2\n    }, null, 8, _hoisted_3$h)) : createCommentVNode(\"\", true)\n  ], 8, _hoisted_1$p);\n}\nvar SvgIcon = /* @__PURE__ */ _export_sfc(_sfc_main$p, [[\"render\", _sfc_render$p]]);\nconst _sfc_main$o = {\n  name: \"RoomsSearch\",\n  components: { SvgIcon },\n  props: {\n    textMessages: { type: Object, required: true },\n    showSearch: { type: Boolean, required: true },\n    showAddRoom: { type: Boolean, required: true },\n    rooms: { type: Array, required: true },\n    loadingRooms: { type: Boolean, required: true }\n  },\n  emits: [\"search-room\", \"add-room\"],\n  computed: {\n    showSearchBar() {\n      return this.showSearch || this.showAddRoom;\n    }\n  }\n};\nconst _hoisted_1$o = {\n  key: 0,\n  class: \"vac-icon-search\"\n};\nconst _hoisted_2$l = [\"placeholder\"];\nfunction _sfc_render$o(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass({\n      \"vac-box-search\": $options.showSearchBar,\n      \"vac-box-empty\": !$options.showSearchBar\n    })\n  }, [\n    $props.showSearch ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n      !$props.loadingRooms && $props.rooms.length ? (openBlock(), createElementBlock(\"div\", _hoisted_1$o, [\n        renderSlot(_ctx.$slots, \"search-icon\", {}, () => [\n          createVNode(_component_svg_icon, { name: \"search\" })\n        ])\n      ])) : createCommentVNode(\"\", true),\n      !$props.loadingRooms && $props.rooms.length ? (openBlock(), createElementBlock(\"input\", {\n        key: 1,\n        type: \"search\",\n        placeholder: $props.textMessages.SEARCH,\n        autocomplete: \"off\",\n        class: \"vac-input\",\n        onInput: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"search-room\", $event))\n      }, null, 40, _hoisted_2$l)) : createCommentVNode(\"\", true)\n    ], 64)) : createCommentVNode(\"\", true),\n    $props.showAddRoom ? (openBlock(), createElementBlock(\"div\", {\n      key: 1,\n      class: \"vac-svg-button vac-add-icon\",\n      onClick: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"add-room\"))\n    }, [\n      renderSlot(_ctx.$slots, \"add-icon\", {}, () => [\n        createVNode(_component_svg_icon, { name: \"add\" })\n      ])\n    ])) : createCommentVNode(\"\", true)\n  ], 2);\n}\nvar RoomsSearch = /* @__PURE__ */ _export_sfc(_sfc_main$o, [[\"render\", _sfc_render$o]]);\nvar linkify = {};\nvar _class$4 = {};\n_class$4.__esModule = true;\n_class$4.inherits = inherits;\nfunction inherits(parent, child) {\n  var props = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var extended = Object.create(parent.prototype);\n  for (var p2 in props) {\n    extended[p2] = props[p2];\n  }\n  extended.constructor = child;\n  child.prototype = extended;\n  return child;\n}\nvar options$1 = {};\noptions$1.__esModule = true;\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function(obj) {\n  return typeof obj;\n} : function(obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nvar defaults = {\n  defaultProtocol: \"http\",\n  events: null,\n  format: noop$1,\n  formatHref: noop$1,\n  nl2br: false,\n  tagName: \"a\",\n  target: typeToTarget,\n  validate: true,\n  ignoreTags: [],\n  attributes: null,\n  className: \"linkified\"\n};\noptions$1.defaults = defaults;\noptions$1.Options = Options;\noptions$1.contains = contains;\nfunction Options(opts) {\n  opts = opts || {};\n  this.defaultProtocol = opts.hasOwnProperty(\"defaultProtocol\") ? opts.defaultProtocol : defaults.defaultProtocol;\n  this.events = opts.hasOwnProperty(\"events\") ? opts.events : defaults.events;\n  this.format = opts.hasOwnProperty(\"format\") ? opts.format : defaults.format;\n  this.formatHref = opts.hasOwnProperty(\"formatHref\") ? opts.formatHref : defaults.formatHref;\n  this.nl2br = opts.hasOwnProperty(\"nl2br\") ? opts.nl2br : defaults.nl2br;\n  this.tagName = opts.hasOwnProperty(\"tagName\") ? opts.tagName : defaults.tagName;\n  this.target = opts.hasOwnProperty(\"target\") ? opts.target : defaults.target;\n  this.validate = opts.hasOwnProperty(\"validate\") ? opts.validate : defaults.validate;\n  this.ignoreTags = [];\n  this.attributes = opts.attributes || opts.linkAttributes || defaults.attributes;\n  this.className = opts.hasOwnProperty(\"className\") ? opts.className : opts.linkClass || defaults.className;\n  var ignoredTags = opts.hasOwnProperty(\"ignoreTags\") ? opts.ignoreTags : defaults.ignoreTags;\n  for (var i = 0; i < ignoredTags.length; i++) {\n    this.ignoreTags.push(ignoredTags[i].toUpperCase());\n  }\n}\nOptions.prototype = {\n  resolve: function resolve2(token) {\n    var href = token.toHref(this.defaultProtocol);\n    return {\n      formatted: this.get(\"format\", token.toString(), token),\n      formattedHref: this.get(\"formatHref\", href, token),\n      tagName: this.get(\"tagName\", href, token),\n      className: this.get(\"className\", href, token),\n      target: this.get(\"target\", href, token),\n      events: this.getObject(\"events\", href, token),\n      attributes: this.getObject(\"attributes\", href, token)\n    };\n  },\n  check: function check(token) {\n    return this.get(\"validate\", token.toString(), token);\n  },\n  get: function get(key, operator, token) {\n    var optionValue = void 0, option = this[key];\n    if (!option) {\n      return option;\n    }\n    switch (typeof option === \"undefined\" ? \"undefined\" : _typeof(option)) {\n      case \"function\":\n        return option(operator, token.type);\n      case \"object\":\n        optionValue = option.hasOwnProperty(token.type) ? option[token.type] : defaults[key];\n        return typeof optionValue === \"function\" ? optionValue(operator, token.type) : optionValue;\n    }\n    return option;\n  },\n  getObject: function getObject(key, operator, token) {\n    var option = this[key];\n    return typeof option === \"function\" ? option(operator, token.type) : option;\n  }\n};\nfunction contains(arr, value) {\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i] === value) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction noop$1(val) {\n  return val;\n}\nfunction typeToTarget(href, type) {\n  return type === \"url\" ? \"_blank\" : null;\n}\nvar scanner$1 = {};\nvar state = {};\nstate.__esModule = true;\nstate.stateify = state.TokenState = state.CharacterState = void 0;\nvar _class$3 = _class$4;\nfunction createStateClass() {\n  return function(tClass) {\n    this.j = [];\n    this.T = tClass || null;\n  };\n}\nvar BaseState = createStateClass();\nBaseState.prototype = {\n  defaultTransition: false,\n  on: function on(symbol, state2) {\n    if (symbol instanceof Array) {\n      for (var i = 0; i < symbol.length; i++) {\n        this.j.push([symbol[i], state2]);\n      }\n      return this;\n    }\n    this.j.push([symbol, state2]);\n    return this;\n  },\n  next: function next(item) {\n    for (var i = 0; i < this.j.length; i++) {\n      var jump2 = this.j[i];\n      var symbol = jump2[0];\n      var state2 = jump2[1];\n      if (this.test(item, symbol)) {\n        return state2;\n      }\n    }\n    return this.defaultTransition;\n  },\n  accepts: function accepts() {\n    return !!this.T;\n  },\n  test: function test(item, symbol) {\n    return item === symbol;\n  },\n  emit: function emit() {\n    return this.T;\n  }\n};\nvar CharacterState = (0, _class$3.inherits)(BaseState, createStateClass(), {\n  test: function test2(character, charOrRegExp) {\n    return character === charOrRegExp || charOrRegExp instanceof RegExp && charOrRegExp.test(character);\n  }\n});\nvar TokenState = (0, _class$3.inherits)(BaseState, createStateClass(), {\n  jump: function jump(token) {\n    var tClass = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n    var state2 = this.next(new token(\"\"));\n    if (state2 === this.defaultTransition) {\n      state2 = new this.constructor(tClass);\n      this.on(token, state2);\n    } else if (tClass) {\n      state2.T = tClass;\n    }\n    return state2;\n  },\n  test: function test3(token, tokenClass) {\n    return token instanceof tokenClass;\n  }\n});\nfunction stateify(str, start2, endToken, defaultToken) {\n  var i = 0, len = str.length, state2 = start2, newStates = [], nextState = void 0;\n  while (i < len && (nextState = state2.next(str[i]))) {\n    state2 = nextState;\n    i++;\n  }\n  if (i >= len) {\n    return [];\n  }\n  while (i < len - 1) {\n    nextState = new CharacterState(defaultToken);\n    newStates.push(nextState);\n    state2.on(str[i], nextState);\n    state2 = nextState;\n    i++;\n  }\n  nextState = new CharacterState(endToken);\n  newStates.push(nextState);\n  state2.on(str[len - 1], nextState);\n  return newStates;\n}\nstate.CharacterState = CharacterState;\nstate.TokenState = TokenState;\nstate.stateify = stateify;\nvar text$1 = {};\nvar createTokenClass$1 = {};\ncreateTokenClass$1.__esModule = true;\nfunction createTokenClass() {\n  return function(value) {\n    if (value) {\n      this.v = value;\n    }\n  };\n}\ncreateTokenClass$1.createTokenClass = createTokenClass;\ntext$1.__esModule = true;\ntext$1.AMPERSAND = text$1.CLOSEPAREN = text$1.CLOSEANGLEBRACKET = text$1.CLOSEBRACKET = text$1.CLOSEBRACE = text$1.OPENPAREN = text$1.OPENANGLEBRACKET = text$1.OPENBRACKET = text$1.OPENBRACE = text$1.WS = text$1.TLD = text$1.SYM = text$1.UNDERSCORE = text$1.SLASH = text$1.MAILTO = text$1.PROTOCOL = text$1.QUERY = text$1.POUND = text$1.PLUS = text$1.NUM = text$1.NL = text$1.LOCALHOST = text$1.PUNCTUATION = text$1.DOT = text$1.COLON = text$1.AT = text$1.DOMAIN = text$1.Base = void 0;\nvar _createTokenClass$1 = createTokenClass$1;\nvar _class$2 = _class$4;\nvar TextToken = (0, _createTokenClass$1.createTokenClass)();\nTextToken.prototype = {\n  toString: function toString() {\n    return this.v + \"\";\n  }\n};\nfunction inheritsToken(value) {\n  var props = value ? { v: value } : {};\n  return (0, _class$2.inherits)(TextToken, (0, _createTokenClass$1.createTokenClass)(), props);\n}\nvar DOMAIN = inheritsToken();\nvar AT = inheritsToken(\"@\");\nvar COLON = inheritsToken(\":\");\nvar DOT = inheritsToken(\".\");\nvar PUNCTUATION = inheritsToken();\nvar LOCALHOST = inheritsToken();\nvar NL$1 = inheritsToken(\"\\n\");\nvar NUM = inheritsToken();\nvar PLUS = inheritsToken(\"+\");\nvar POUND = inheritsToken(\"#\");\nvar PROTOCOL = inheritsToken();\nvar MAILTO = inheritsToken(\"mailto:\");\nvar QUERY = inheritsToken(\"?\");\nvar SLASH = inheritsToken(\"/\");\nvar UNDERSCORE = inheritsToken(\"_\");\nvar SYM = inheritsToken();\nvar TLD = inheritsToken();\nvar WS = inheritsToken();\nvar OPENBRACE = inheritsToken(\"{\");\nvar OPENBRACKET = inheritsToken(\"[\");\nvar OPENANGLEBRACKET = inheritsToken(\"<\");\nvar OPENPAREN = inheritsToken(\"(\");\nvar CLOSEBRACE = inheritsToken(\"}\");\nvar CLOSEBRACKET = inheritsToken(\"]\");\nvar CLOSEANGLEBRACKET = inheritsToken(\">\");\nvar CLOSEPAREN = inheritsToken(\")\");\nvar AMPERSAND = inheritsToken(\"&\");\ntext$1.Base = TextToken;\ntext$1.DOMAIN = DOMAIN;\ntext$1.AT = AT;\ntext$1.COLON = COLON;\ntext$1.DOT = DOT;\ntext$1.PUNCTUATION = PUNCTUATION;\ntext$1.LOCALHOST = LOCALHOST;\ntext$1.NL = NL$1;\ntext$1.NUM = NUM;\ntext$1.PLUS = PLUS;\ntext$1.POUND = POUND;\ntext$1.QUERY = QUERY;\ntext$1.PROTOCOL = PROTOCOL;\ntext$1.MAILTO = MAILTO;\ntext$1.SLASH = SLASH;\ntext$1.UNDERSCORE = UNDERSCORE;\ntext$1.SYM = SYM;\ntext$1.TLD = TLD;\ntext$1.WS = WS;\ntext$1.OPENBRACE = OPENBRACE;\ntext$1.OPENBRACKET = OPENBRACKET;\ntext$1.OPENANGLEBRACKET = OPENANGLEBRACKET;\ntext$1.OPENPAREN = OPENPAREN;\ntext$1.CLOSEBRACE = CLOSEBRACE;\ntext$1.CLOSEBRACKET = CLOSEBRACKET;\ntext$1.CLOSEANGLEBRACKET = CLOSEANGLEBRACKET;\ntext$1.CLOSEPAREN = CLOSEPAREN;\ntext$1.AMPERSAND = AMPERSAND;\nscanner$1.__esModule = true;\nscanner$1.start = scanner$1.run = scanner$1.TOKENS = scanner$1.State = void 0;\nvar _state$1 = state;\nvar _text$2 = text$1;\nvar TOKENS = _interopRequireWildcard$2(_text$2);\nfunction _interopRequireWildcard$2(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key))\n          newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nvar tlds = \"aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw\".split(\"|\");\nvar NUMBERS = \"0123456789\".split(\"\");\nvar ALPHANUM = \"0123456789abcdefghijklmnopqrstuvwxyz\".split(\"\");\nvar WHITESPACE = [\" \", \"\\f\", \"\\r\", \"\t\", \"\\v\", \"\\xA0\", \"\\u1680\", \"\\u180E\"];\nvar domainStates = [];\nvar makeState$1 = function makeState(tokenClass) {\n  return new _state$1.CharacterState(tokenClass);\n};\nvar S_START$1 = makeState$1();\nvar S_NUM = makeState$1(_text$2.NUM);\nvar S_DOMAIN$1 = makeState$1(_text$2.DOMAIN);\nvar S_DOMAIN_HYPHEN = makeState$1();\nvar S_WS = makeState$1(_text$2.WS);\nS_START$1.on(\"@\", makeState$1(_text$2.AT)).on(\".\", makeState$1(_text$2.DOT)).on(\"+\", makeState$1(_text$2.PLUS)).on(\"#\", makeState$1(_text$2.POUND)).on(\"?\", makeState$1(_text$2.QUERY)).on(\"/\", makeState$1(_text$2.SLASH)).on(\"_\", makeState$1(_text$2.UNDERSCORE)).on(\":\", makeState$1(_text$2.COLON)).on(\"{\", makeState$1(_text$2.OPENBRACE)).on(\"[\", makeState$1(_text$2.OPENBRACKET)).on(\"<\", makeState$1(_text$2.OPENANGLEBRACKET)).on(\"(\", makeState$1(_text$2.OPENPAREN)).on(\"}\", makeState$1(_text$2.CLOSEBRACE)).on(\"]\", makeState$1(_text$2.CLOSEBRACKET)).on(\">\", makeState$1(_text$2.CLOSEANGLEBRACKET)).on(\")\", makeState$1(_text$2.CLOSEPAREN)).on(\"&\", makeState$1(_text$2.AMPERSAND)).on([\",\", \";\", \"!\", '\"', \"'\"], makeState$1(_text$2.PUNCTUATION));\nS_START$1.on(\"\\n\", makeState$1(_text$2.NL)).on(WHITESPACE, S_WS);\nS_WS.on(WHITESPACE, S_WS);\nfor (var i = 0; i < tlds.length; i++) {\n  var newStates = (0, _state$1.stateify)(tlds[i], S_START$1, _text$2.TLD, _text$2.DOMAIN);\n  domainStates.push.apply(domainStates, newStates);\n}\nvar partialProtocolFileStates = (0, _state$1.stateify)(\"file\", S_START$1, _text$2.DOMAIN, _text$2.DOMAIN);\nvar partialProtocolFtpStates = (0, _state$1.stateify)(\"ftp\", S_START$1, _text$2.DOMAIN, _text$2.DOMAIN);\nvar partialProtocolHttpStates = (0, _state$1.stateify)(\"http\", S_START$1, _text$2.DOMAIN, _text$2.DOMAIN);\nvar partialProtocolMailtoStates = (0, _state$1.stateify)(\"mailto\", S_START$1, _text$2.DOMAIN, _text$2.DOMAIN);\ndomainStates.push.apply(domainStates, partialProtocolFileStates);\ndomainStates.push.apply(domainStates, partialProtocolFtpStates);\ndomainStates.push.apply(domainStates, partialProtocolHttpStates);\ndomainStates.push.apply(domainStates, partialProtocolMailtoStates);\nvar S_PROTOCOL_FILE = partialProtocolFileStates.pop();\nvar S_PROTOCOL_FTP = partialProtocolFtpStates.pop();\nvar S_PROTOCOL_HTTP = partialProtocolHttpStates.pop();\nvar S_MAILTO$1 = partialProtocolMailtoStates.pop();\nvar S_PROTOCOL_SECURE = makeState$1(_text$2.DOMAIN);\nvar S_FULL_PROTOCOL = makeState$1(_text$2.PROTOCOL);\nvar S_FULL_MAILTO = makeState$1(_text$2.MAILTO);\nS_PROTOCOL_FTP.on(\"s\", S_PROTOCOL_SECURE).on(\":\", S_FULL_PROTOCOL);\nS_PROTOCOL_HTTP.on(\"s\", S_PROTOCOL_SECURE).on(\":\", S_FULL_PROTOCOL);\ndomainStates.push(S_PROTOCOL_SECURE);\nS_PROTOCOL_FILE.on(\":\", S_FULL_PROTOCOL);\nS_PROTOCOL_SECURE.on(\":\", S_FULL_PROTOCOL);\nS_MAILTO$1.on(\":\", S_FULL_MAILTO);\nvar partialLocalhostStates = (0, _state$1.stateify)(\"localhost\", S_START$1, _text$2.LOCALHOST, _text$2.DOMAIN);\ndomainStates.push.apply(domainStates, partialLocalhostStates);\nS_START$1.on(NUMBERS, S_NUM);\nS_NUM.on(\"-\", S_DOMAIN_HYPHEN).on(NUMBERS, S_NUM).on(ALPHANUM, S_DOMAIN$1);\nS_DOMAIN$1.on(\"-\", S_DOMAIN_HYPHEN).on(ALPHANUM, S_DOMAIN$1);\nfor (var _i = 0; _i < domainStates.length; _i++) {\n  domainStates[_i].on(\"-\", S_DOMAIN_HYPHEN).on(ALPHANUM, S_DOMAIN$1);\n}\nS_DOMAIN_HYPHEN.on(\"-\", S_DOMAIN_HYPHEN).on(NUMBERS, S_DOMAIN$1).on(ALPHANUM, S_DOMAIN$1);\nS_START$1.defaultTransition = makeState$1(_text$2.SYM);\nvar run$2 = function run(str) {\n  var lowerStr = str.replace(/[A-Z]/g, function(c) {\n    return c.toLowerCase();\n  });\n  var len = str.length;\n  var tokens = [];\n  var cursor = 0;\n  while (cursor < len) {\n    var state2 = S_START$1;\n    var nextState = null;\n    var tokenLength = 0;\n    var latestAccepting = null;\n    var sinceAccepts = -1;\n    while (cursor < len && (nextState = state2.next(lowerStr[cursor]))) {\n      state2 = nextState;\n      if (state2.accepts()) {\n        sinceAccepts = 0;\n        latestAccepting = state2;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts++;\n      }\n      tokenLength++;\n      cursor++;\n    }\n    if (sinceAccepts < 0) {\n      continue;\n    }\n    cursor -= sinceAccepts;\n    tokenLength -= sinceAccepts;\n    var TOKEN = latestAccepting.emit();\n    tokens.push(new TOKEN(str.substr(cursor - tokenLength, tokenLength)));\n  }\n  return tokens;\n};\nvar start = S_START$1;\nscanner$1.State = _state$1.CharacterState;\nscanner$1.TOKENS = TOKENS;\nscanner$1.run = run$2;\nscanner$1.start = start;\nvar parser$1 = {};\nvar multi = {};\nmulti.__esModule = true;\nmulti.URL = multi.TEXT = multi.NL = multi.EMAIL = multi.MAILTOEMAIL = multi.Base = void 0;\nvar _createTokenClass = createTokenClass$1;\nvar _class$1 = _class$4;\nvar _text$1 = text$1;\nfunction isDomainToken(token) {\n  return token instanceof _text$1.DOMAIN || token instanceof _text$1.TLD;\n}\nvar MultiToken = (0, _createTokenClass.createTokenClass)();\nMultiToken.prototype = {\n  type: \"token\",\n  isLink: false,\n  toString: function toString2() {\n    var result = [];\n    for (var i = 0; i < this.v.length; i++) {\n      result.push(this.v[i].toString());\n    }\n    return result.join(\"\");\n  },\n  toHref: function toHref() {\n    return this.toString();\n  },\n  toObject: function toObject() {\n    var protocol = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"http\";\n    return {\n      type: this.type,\n      value: this.toString(),\n      href: this.toHref(protocol)\n    };\n  }\n};\nvar MAILTOEMAIL = (0, _class$1.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), {\n  type: \"email\",\n  isLink: true\n});\nvar EMAIL = (0, _class$1.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), {\n  type: \"email\",\n  isLink: true,\n  toHref: function toHref2() {\n    return \"mailto:\" + this.toString();\n  }\n});\nvar TEXT = (0, _class$1.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), { type: \"text\" });\nvar NL = (0, _class$1.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), { type: \"nl\" });\nvar URL$1 = (0, _class$1.inherits)(MultiToken, (0, _createTokenClass.createTokenClass)(), {\n  type: \"url\",\n  isLink: true,\n  toHref: function toHref3() {\n    var protocol = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"http\";\n    var hasProtocol2 = false;\n    var hasSlashSlash = false;\n    var tokens = this.v;\n    var result = [];\n    var i = 0;\n    while (tokens[i] instanceof _text$1.PROTOCOL) {\n      hasProtocol2 = true;\n      result.push(tokens[i].toString().toLowerCase());\n      i++;\n    }\n    while (tokens[i] instanceof _text$1.SLASH) {\n      hasSlashSlash = true;\n      result.push(tokens[i].toString());\n      i++;\n    }\n    while (isDomainToken(tokens[i])) {\n      result.push(tokens[i].toString().toLowerCase());\n      i++;\n    }\n    for (; i < tokens.length; i++) {\n      result.push(tokens[i].toString());\n    }\n    result = result.join(\"\");\n    if (!(hasProtocol2 || hasSlashSlash)) {\n      result = protocol + \"://\" + result;\n    }\n    return result;\n  },\n  hasProtocol: function hasProtocol() {\n    return this.v[0] instanceof _text$1.PROTOCOL;\n  }\n});\nmulti.Base = MultiToken;\nmulti.MAILTOEMAIL = MAILTOEMAIL;\nmulti.EMAIL = EMAIL;\nmulti.NL = NL;\nmulti.TEXT = TEXT;\nmulti.URL = URL$1;\nparser$1.__esModule = true;\nparser$1.start = parser$1.run = parser$1.TOKENS = parser$1.State = void 0;\nvar _state = state;\nvar _multi = multi;\nvar MULTI_TOKENS = _interopRequireWildcard$1(_multi);\nvar _text = text$1;\nfunction _interopRequireWildcard$1(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key))\n          newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nvar makeState2 = function makeState3(tokenClass) {\n  return new _state.TokenState(tokenClass);\n};\nvar S_START = makeState2();\nvar S_PROTOCOL = makeState2();\nvar S_MAILTO = makeState2();\nvar S_PROTOCOL_SLASH = makeState2();\nvar S_PROTOCOL_SLASH_SLASH = makeState2();\nvar S_DOMAIN = makeState2();\nvar S_DOMAIN_DOT = makeState2();\nvar S_TLD = makeState2(_multi.URL);\nvar S_TLD_COLON = makeState2();\nvar S_TLD_PORT = makeState2(_multi.URL);\nvar S_URL = makeState2(_multi.URL);\nvar S_URL_NON_ACCEPTING = makeState2();\nvar S_URL_OPENBRACE = makeState2();\nvar S_URL_OPENBRACKET = makeState2();\nvar S_URL_OPENANGLEBRACKET = makeState2();\nvar S_URL_OPENPAREN = makeState2();\nvar S_URL_OPENBRACE_Q = makeState2(_multi.URL);\nvar S_URL_OPENBRACKET_Q = makeState2(_multi.URL);\nvar S_URL_OPENANGLEBRACKET_Q = makeState2(_multi.URL);\nvar S_URL_OPENPAREN_Q = makeState2(_multi.URL);\nvar S_URL_OPENBRACE_SYMS = makeState2();\nvar S_URL_OPENBRACKET_SYMS = makeState2();\nvar S_URL_OPENANGLEBRACKET_SYMS = makeState2();\nvar S_URL_OPENPAREN_SYMS = makeState2();\nvar S_EMAIL_DOMAIN = makeState2();\nvar S_EMAIL_DOMAIN_DOT = makeState2();\nvar S_EMAIL = makeState2(_multi.EMAIL);\nvar S_EMAIL_COLON = makeState2();\nvar S_EMAIL_PORT = makeState2(_multi.EMAIL);\nvar S_MAILTO_EMAIL = makeState2(_multi.MAILTOEMAIL);\nvar S_MAILTO_EMAIL_NON_ACCEPTING = makeState2();\nvar S_LOCALPART = makeState2();\nvar S_LOCALPART_AT = makeState2();\nvar S_LOCALPART_DOT = makeState2();\nvar S_NL = makeState2(_multi.NL);\nS_START.on(_text.NL, S_NL).on(_text.PROTOCOL, S_PROTOCOL).on(_text.MAILTO, S_MAILTO).on(_text.SLASH, S_PROTOCOL_SLASH);\nS_PROTOCOL.on(_text.SLASH, S_PROTOCOL_SLASH);\nS_PROTOCOL_SLASH.on(_text.SLASH, S_PROTOCOL_SLASH_SLASH);\nS_START.on(_text.TLD, S_DOMAIN).on(_text.DOMAIN, S_DOMAIN).on(_text.LOCALHOST, S_TLD).on(_text.NUM, S_DOMAIN);\nS_PROTOCOL_SLASH_SLASH.on(_text.TLD, S_URL).on(_text.DOMAIN, S_URL).on(_text.NUM, S_URL).on(_text.LOCALHOST, S_URL);\nS_DOMAIN.on(_text.DOT, S_DOMAIN_DOT);\nS_EMAIL_DOMAIN.on(_text.DOT, S_EMAIL_DOMAIN_DOT);\nS_DOMAIN_DOT.on(_text.TLD, S_TLD).on(_text.DOMAIN, S_DOMAIN).on(_text.NUM, S_DOMAIN).on(_text.LOCALHOST, S_DOMAIN);\nS_EMAIL_DOMAIN_DOT.on(_text.TLD, S_EMAIL).on(_text.DOMAIN, S_EMAIL_DOMAIN).on(_text.NUM, S_EMAIL_DOMAIN).on(_text.LOCALHOST, S_EMAIL_DOMAIN);\nS_TLD.on(_text.DOT, S_DOMAIN_DOT);\nS_EMAIL.on(_text.DOT, S_EMAIL_DOMAIN_DOT);\nS_TLD.on(_text.COLON, S_TLD_COLON).on(_text.SLASH, S_URL);\nS_TLD_COLON.on(_text.NUM, S_TLD_PORT);\nS_TLD_PORT.on(_text.SLASH, S_URL);\nS_EMAIL.on(_text.COLON, S_EMAIL_COLON);\nS_EMAIL_COLON.on(_text.NUM, S_EMAIL_PORT);\nvar qsAccepting = [_text.DOMAIN, _text.AT, _text.LOCALHOST, _text.NUM, _text.PLUS, _text.POUND, _text.PROTOCOL, _text.SLASH, _text.TLD, _text.UNDERSCORE, _text.SYM, _text.AMPERSAND];\nvar qsNonAccepting = [_text.COLON, _text.DOT, _text.QUERY, _text.PUNCTUATION, _text.CLOSEBRACE, _text.CLOSEBRACKET, _text.CLOSEANGLEBRACKET, _text.CLOSEPAREN, _text.OPENBRACE, _text.OPENBRACKET, _text.OPENANGLEBRACKET, _text.OPENPAREN];\nS_URL.on(_text.OPENBRACE, S_URL_OPENBRACE).on(_text.OPENBRACKET, S_URL_OPENBRACKET).on(_text.OPENANGLEBRACKET, S_URL_OPENANGLEBRACKET).on(_text.OPENPAREN, S_URL_OPENPAREN);\nS_URL_NON_ACCEPTING.on(_text.OPENBRACE, S_URL_OPENBRACE).on(_text.OPENBRACKET, S_URL_OPENBRACKET).on(_text.OPENANGLEBRACKET, S_URL_OPENANGLEBRACKET).on(_text.OPENPAREN, S_URL_OPENPAREN);\nS_URL_OPENBRACE.on(_text.CLOSEBRACE, S_URL);\nS_URL_OPENBRACKET.on(_text.CLOSEBRACKET, S_URL);\nS_URL_OPENANGLEBRACKET.on(_text.CLOSEANGLEBRACKET, S_URL);\nS_URL_OPENPAREN.on(_text.CLOSEPAREN, S_URL);\nS_URL_OPENBRACE_Q.on(_text.CLOSEBRACE, S_URL);\nS_URL_OPENBRACKET_Q.on(_text.CLOSEBRACKET, S_URL);\nS_URL_OPENANGLEBRACKET_Q.on(_text.CLOSEANGLEBRACKET, S_URL);\nS_URL_OPENPAREN_Q.on(_text.CLOSEPAREN, S_URL);\nS_URL_OPENBRACE_SYMS.on(_text.CLOSEBRACE, S_URL);\nS_URL_OPENBRACKET_SYMS.on(_text.CLOSEBRACKET, S_URL);\nS_URL_OPENANGLEBRACKET_SYMS.on(_text.CLOSEANGLEBRACKET, S_URL);\nS_URL_OPENPAREN_SYMS.on(_text.CLOSEPAREN, S_URL);\nS_URL_OPENBRACE.on(qsAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET.on(qsAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET.on(qsAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN.on(qsAccepting, S_URL_OPENPAREN_Q);\nS_URL_OPENBRACE.on(qsNonAccepting, S_URL_OPENBRACE_SYMS);\nS_URL_OPENBRACKET.on(qsNonAccepting, S_URL_OPENBRACKET_SYMS);\nS_URL_OPENANGLEBRACKET.on(qsNonAccepting, S_URL_OPENANGLEBRACKET_SYMS);\nS_URL_OPENPAREN.on(qsNonAccepting, S_URL_OPENPAREN_SYMS);\nS_URL_OPENBRACE_Q.on(qsAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET_Q.on(qsAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET_Q.on(qsAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN_Q.on(qsAccepting, S_URL_OPENPAREN_Q);\nS_URL_OPENBRACE_Q.on(qsNonAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET_Q.on(qsNonAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET_Q.on(qsNonAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN_Q.on(qsNonAccepting, S_URL_OPENPAREN_Q);\nS_URL_OPENBRACE_SYMS.on(qsAccepting, S_URL_OPENBRACE_Q);\nS_URL_OPENBRACKET_SYMS.on(qsAccepting, S_URL_OPENBRACKET_Q);\nS_URL_OPENANGLEBRACKET_SYMS.on(qsAccepting, S_URL_OPENANGLEBRACKET_Q);\nS_URL_OPENPAREN_SYMS.on(qsAccepting, S_URL_OPENPAREN_Q);\nS_URL_OPENBRACE_SYMS.on(qsNonAccepting, S_URL_OPENBRACE_SYMS);\nS_URL_OPENBRACKET_SYMS.on(qsNonAccepting, S_URL_OPENBRACKET_SYMS);\nS_URL_OPENANGLEBRACKET_SYMS.on(qsNonAccepting, S_URL_OPENANGLEBRACKET_SYMS);\nS_URL_OPENPAREN_SYMS.on(qsNonAccepting, S_URL_OPENPAREN_SYMS);\nS_URL.on(qsAccepting, S_URL);\nS_URL_NON_ACCEPTING.on(qsAccepting, S_URL);\nS_URL.on(qsNonAccepting, S_URL_NON_ACCEPTING);\nS_URL_NON_ACCEPTING.on(qsNonAccepting, S_URL_NON_ACCEPTING);\nS_MAILTO.on(_text.TLD, S_MAILTO_EMAIL).on(_text.DOMAIN, S_MAILTO_EMAIL).on(_text.NUM, S_MAILTO_EMAIL).on(_text.LOCALHOST, S_MAILTO_EMAIL);\nS_MAILTO_EMAIL.on(qsAccepting, S_MAILTO_EMAIL).on(qsNonAccepting, S_MAILTO_EMAIL_NON_ACCEPTING);\nS_MAILTO_EMAIL_NON_ACCEPTING.on(qsAccepting, S_MAILTO_EMAIL).on(qsNonAccepting, S_MAILTO_EMAIL_NON_ACCEPTING);\nvar localpartAccepting = [_text.DOMAIN, _text.NUM, _text.PLUS, _text.POUND, _text.QUERY, _text.UNDERSCORE, _text.SYM, _text.AMPERSAND, _text.TLD];\nS_DOMAIN.on(localpartAccepting, S_LOCALPART).on(_text.AT, S_LOCALPART_AT);\nS_TLD.on(localpartAccepting, S_LOCALPART).on(_text.AT, S_LOCALPART_AT);\nS_DOMAIN_DOT.on(localpartAccepting, S_LOCALPART);\nS_LOCALPART.on(localpartAccepting, S_LOCALPART).on(_text.AT, S_LOCALPART_AT).on(_text.DOT, S_LOCALPART_DOT);\nS_LOCALPART_DOT.on(localpartAccepting, S_LOCALPART);\nS_LOCALPART_AT.on(_text.TLD, S_EMAIL_DOMAIN).on(_text.DOMAIN, S_EMAIL_DOMAIN).on(_text.LOCALHOST, S_EMAIL);\nvar run$1 = function run2(tokens) {\n  var len = tokens.length;\n  var cursor = 0;\n  var multis = [];\n  var textTokens = [];\n  while (cursor < len) {\n    var state2 = S_START;\n    var secondState = null;\n    var nextState = null;\n    var multiLength = 0;\n    var latestAccepting = null;\n    var sinceAccepts = -1;\n    while (cursor < len && !(secondState = state2.next(tokens[cursor]))) {\n      textTokens.push(tokens[cursor++]);\n    }\n    while (cursor < len && (nextState = secondState || state2.next(tokens[cursor]))) {\n      secondState = null;\n      state2 = nextState;\n      if (state2.accepts()) {\n        sinceAccepts = 0;\n        latestAccepting = state2;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts++;\n      }\n      cursor++;\n      multiLength++;\n    }\n    if (sinceAccepts < 0) {\n      for (var i = cursor - multiLength; i < cursor; i++) {\n        textTokens.push(tokens[i]);\n      }\n    } else {\n      if (textTokens.length > 0) {\n        multis.push(new _multi.TEXT(textTokens));\n        textTokens = [];\n      }\n      cursor -= sinceAccepts;\n      multiLength -= sinceAccepts;\n      var MULTI = latestAccepting.emit();\n      multis.push(new MULTI(tokens.slice(cursor - multiLength, cursor)));\n    }\n  }\n  if (textTokens.length > 0) {\n    multis.push(new _multi.TEXT(textTokens));\n  }\n  return multis;\n};\nparser$1.State = _state.TokenState;\nparser$1.TOKENS = MULTI_TOKENS;\nparser$1.run = run$1;\nparser$1.start = S_START;\nlinkify.__esModule = true;\nlinkify.tokenize = linkify.test = linkify.scanner = linkify.parser = linkify.options = linkify.inherits = linkify.find = void 0;\nvar _class = _class$4;\nvar _options = options$1;\nvar options = _interopRequireWildcard(_options);\nvar _scanner = scanner$1;\nvar scanner = _interopRequireWildcard(_scanner);\nvar _parser = parser$1;\nvar parser = _interopRequireWildcard(_parser);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key))\n          newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nif (!Array.isArray) {\n  Array.isArray = function(arg) {\n    return Object.prototype.toString.call(arg) === \"[object Array]\";\n  };\n}\nvar tokenize = function tokenize2(str) {\n  return parser.run(scanner.run(str));\n};\nvar find = function find2(str) {\n  var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n  var tokens = tokenize(str);\n  var filtered = [];\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n    if (token.isLink && (!type || token.type === type)) {\n      filtered.push(token.toObject());\n    }\n  }\n  return filtered;\n};\nvar test4 = function test5(str) {\n  var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n  var tokens = tokenize(str);\n  return tokens.length === 1 && tokens[0].isLink && (!type || tokens[0].type === type);\n};\nlinkify.find = find;\nlinkify.inherits = _class.inherits;\nlinkify.options = options;\nlinkify.parser = parser;\nlinkify.scanner = scanner;\nlinkify.test = test4;\nlinkify.tokenize = tokenize;\nvar linkifyjs = linkify;\nvar formatString$1 = (text2, doLinkify, textFormatting) => {\n  const typeMarkdown = {\n    bold: textFormatting.bold,\n    italic: textFormatting.italic,\n    strike: textFormatting.strike,\n    underline: textFormatting.underline,\n    multilineCode: textFormatting.multilineCode,\n    inlineCode: textFormatting.inlineCode\n  };\n  const pseudoMarkdown = {\n    [typeMarkdown.bold]: {\n      end: \"\\\\\" + typeMarkdown.bold,\n      allowed_chars: \".\",\n      type: \"bold\"\n    },\n    [typeMarkdown.italic]: {\n      end: typeMarkdown.italic,\n      allowed_chars: \".\",\n      type: \"italic\"\n    },\n    [typeMarkdown.strike]: {\n      end: typeMarkdown.strike,\n      allowed_chars: \".\",\n      type: \"strike\"\n    },\n    [typeMarkdown.underline]: {\n      end: typeMarkdown.underline,\n      allowed_chars: \".\",\n      type: \"underline\"\n    },\n    [typeMarkdown.multilineCode]: {\n      end: typeMarkdown.multilineCode,\n      allowed_chars: \"(.|\\n)\",\n      type: \"multiline-code\"\n    },\n    [typeMarkdown.inlineCode]: {\n      end: typeMarkdown.inlineCode,\n      allowed_chars: \".\",\n      type: \"inline-code\"\n    },\n    \"<usertag>\": {\n      allowed_chars: \".\",\n      end: \"</usertag>\",\n      type: \"tag\"\n    }\n  };\n  const json = compileToJSON(text2, pseudoMarkdown);\n  const html = compileToHTML(json, pseudoMarkdown);\n  const result = [].concat.apply([], html);\n  if (doLinkify)\n    linkifyResult(result);\n  return result;\n};\nfunction compileToJSON(str, pseudoMarkdown) {\n  let result = [];\n  let minIndexOf = -1;\n  let minIndexOfKey = null;\n  let links = linkifyjs.find(str);\n  let minIndexFromLink = false;\n  if (links.length > 0) {\n    minIndexOf = str.indexOf(links[0].value);\n    minIndexFromLink = true;\n  }\n  Object.keys(pseudoMarkdown).forEach((startingValue) => {\n    const io = str.indexOf(startingValue);\n    if (io >= 0 && (minIndexOf < 0 || io < minIndexOf)) {\n      minIndexOf = io;\n      minIndexOfKey = startingValue;\n      minIndexFromLink = false;\n    }\n  });\n  if (minIndexFromLink && minIndexOfKey !== -1) {\n    let strLeft = str.substr(0, minIndexOf);\n    let strLink = str.substr(minIndexOf, links[0].value.length);\n    let strRight = str.substr(minIndexOf + links[0].value.length);\n    result.push(strLeft);\n    result.push(strLink);\n    result = result.concat(compileToJSON(strRight, pseudoMarkdown));\n    return result;\n  }\n  if (minIndexOfKey) {\n    let strLeft = str.substr(0, minIndexOf);\n    const char = minIndexOfKey;\n    let strRight = str.substr(minIndexOf + char.length);\n    if (str.replace(/\\s/g, \"\").length === char.length * 2) {\n      return [str];\n    }\n    const match = strRight.match(\n      new RegExp(\n        \"^(\" + (pseudoMarkdown[char].allowed_chars || \".\") + \"*\" + (pseudoMarkdown[char].end ? \"?\" : \"\") + \")\" + (pseudoMarkdown[char].end ? \"(\" + pseudoMarkdown[char].end + \")\" : \"\"),\n        \"m\"\n      )\n    );\n    if (!match || !match[1]) {\n      strLeft = strLeft + char;\n      result.push(strLeft);\n    } else {\n      if (strLeft) {\n        result.push(strLeft);\n      }\n      const object = {\n        start: char,\n        content: compileToJSON(match[1], pseudoMarkdown),\n        end: match[2],\n        type: pseudoMarkdown[char].type\n      };\n      result.push(object);\n      strRight = strRight.substr(match[0].length);\n    }\n    result = result.concat(compileToJSON(strRight, pseudoMarkdown));\n    return result;\n  } else {\n    if (str) {\n      return [str];\n    } else {\n      return [];\n    }\n  }\n}\nfunction compileToHTML(json, pseudoMarkdown) {\n  const result = [];\n  json.forEach((item) => {\n    if (typeof item === \"string\") {\n      result.push({ types: [], value: item });\n    } else {\n      if (pseudoMarkdown[item.start]) {\n        result.push(parseContent(item));\n      }\n    }\n  });\n  return result;\n}\nfunction parseContent(item) {\n  const result = [];\n  iterateContent(item, result, []);\n  return result;\n}\nfunction iterateContent(item, result, types) {\n  item.content.forEach((it) => {\n    if (typeof it === \"string\") {\n      result.push({\n        types: removeDuplicates(types.concat([item.type])),\n        value: it\n      });\n    } else {\n      iterateContent(\n        it,\n        result,\n        removeDuplicates([it.type].concat([item.type]).concat(types))\n      );\n    }\n  });\n}\nfunction removeDuplicates(items) {\n  return [...new Set(items)];\n}\nfunction linkifyResult(array) {\n  const result = [];\n  array.forEach((arr) => {\n    const links = linkifyjs.find(arr.value);\n    if (links.length) {\n      const spaces = arr.value.replace(links[0].value, \"\");\n      result.push({ types: arr.types, value: spaces });\n      arr.types = [\"url\"].concat(arr.types);\n      arr.href = links[0].href;\n      arr.value = links[0].value;\n    }\n    result.push(arr);\n  });\n  return result;\n}\nconst IMAGE_TYPES = [\"png\", \"jpg\", \"jpeg\", \"webp\", \"svg\", \"gif\"];\nconst VIDEO_TYPES = [\"mp4\", \"video/ogg\", \"webm\", \"quicktime\"];\nconst AUDIO_TYPES = [\"mp3\", \"audio/ogg\", \"wav\", \"mpeg\"];\nconst _sfc_main$n = {\n  name: \"FormatMessage\",\n  components: { SvgIcon },\n  props: {\n    messageId: { type: String, default: \"\" },\n    roomId: { type: String, default: \"\" },\n    roomList: { type: Boolean, default: false },\n    content: { type: [String, Number], required: true },\n    deleted: { type: Boolean, default: false },\n    users: { type: Array, default: () => [] },\n    linkify: { type: Boolean, default: true },\n    singleLine: { type: Boolean, default: false },\n    reply: { type: Boolean, default: false },\n    textFormatting: { type: Object, required: true },\n    textMessages: { type: Object, default: () => {\n    } },\n    linkOptions: { type: Object, required: true }\n  },\n  emits: [\"open-user-tag\"],\n  computed: {\n    linkifiedMessage() {\n      if (this.deleted) {\n        return [{ value: this.textMessages.MESSAGE_DELETED }];\n      }\n      const message = formatString$1(\n        this.formatTags(this.content),\n        this.linkify && !this.linkOptions.disabled,\n        this.textFormatting\n      );\n      message.forEach((m) => {\n        m.url = this.checkType(m, \"url\");\n        m.bold = this.checkType(m, \"bold\");\n        m.italic = this.checkType(m, \"italic\");\n        m.strike = this.checkType(m, \"strike\");\n        m.underline = this.checkType(m, \"underline\");\n        m.inline = this.checkType(m, \"inline-code\");\n        m.multiline = this.checkType(m, \"multiline-code\");\n        m.tag = this.checkType(m, \"tag\");\n        m.image = this.checkImageType(m);\n        m.value = this.replaceEmojiByElement(m.value);\n      });\n      return message;\n    },\n    formattedContent() {\n      if (this.deleted) {\n        return this.textMessages.MESSAGE_DELETED;\n      } else {\n        return this.formatTags(this.content);\n      }\n    }\n  },\n  methods: {\n    checkType(message, type) {\n      return message.types && message.types.indexOf(type) !== -1;\n    },\n    checkImageType(message) {\n      let index = message.value.lastIndexOf(\".\");\n      const slashIndex = message.value.lastIndexOf(\"/\");\n      if (slashIndex > index)\n        index = -1;\n      const type = message.value.substring(index + 1, message.value.length);\n      const isMedia = index > 0 && IMAGE_TYPES.some((t) => type.toLowerCase().includes(t));\n      if (isMedia)\n        this.setImageSize(message);\n      return isMedia;\n    },\n    setImageSize(message) {\n      const image = new Image();\n      image.src = message.value;\n      image.addEventListener(\"load\", onLoad);\n      function onLoad(img) {\n        const ratio = img.path[0].width / 150;\n        message.height = Math.round(img.path[0].height / ratio) + \"px\";\n        image.removeEventListener(\"load\", onLoad);\n      }\n    },\n    formatTags(content) {\n      const firstTag = \"<usertag>\";\n      const secondTag = \"</usertag>\";\n      const usertags = [...content.matchAll(new RegExp(firstTag, \"gi\"))].map(\n        (a) => a.index\n      );\n      const initialContent = content;\n      usertags.forEach((index) => {\n        const userId = initialContent.substring(\n          index + firstTag.length,\n          initialContent.indexOf(secondTag, index)\n        );\n        const user = this.users.find((user2) => user2._id === userId);\n        content = content.replaceAll(userId, `@${(user == null ? void 0 : user.username) || \"unknown\"}`);\n      });\n      return content;\n    },\n    openTag(message) {\n      if (!this.singleLine && this.checkType(message, \"tag\")) {\n        const user = this.users.find(\n          (u) => message.value.indexOf(u.username) !== -1\n        );\n        this.$emit(\"open-user-tag\", user);\n      }\n    },\n    replaceEmojiByElement(value) {\n      let emojiSize;\n      if (this.singleLine) {\n        emojiSize = 16;\n      } else {\n        const onlyEmojis = this.containsOnlyEmojis();\n        emojiSize = onlyEmojis ? 28 : 20;\n      }\n      return value.replaceAll(\n        /[\\p{Extended_Pictographic}\\u{1F3FB}-\\u{1F3FF}\\u{1F9B0}-\\u{1F9B3}]/gu,\n        (v) => {\n          return `<span style=\"font-size: ${emojiSize}px\">${v}</span>`;\n        }\n      );\n    },\n    containsOnlyEmojis() {\n      const onlyEmojis = this.content.replace(\n        new RegExp(\"[\\0-\\u1EEFf]\", \"g\"),\n        \"\"\n      );\n      const visibleChars = this.content.replace(\n        new RegExp(\"[\\n\\rs]+|( )+\", \"g\"),\n        \"\"\n      );\n      return onlyEmojis.length === visibleChars.length;\n    }\n  }\n};\nconst _hoisted_1$n = { class: \"vac-image-link-container\" };\nconst _hoisted_2$k = { class: \"vac-image-link-message\" };\nconst _hoisted_3$g = [\"innerHTML\"];\nconst _hoisted_4$f = [\"innerHTML\"];\nfunction _sfc_render$n(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"vac-format-message-wrapper\", { \"vac-text-ellipsis\": $props.singleLine }])\n  }, [\n    !$props.textFormatting.disabled ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: normalizeClass({ \"vac-text-ellipsis\": $props.singleLine })\n    }, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList($options.linkifiedMessage, (message, i) => {\n        return openBlock(), createElementBlock(\"div\", {\n          key: i,\n          class: \"vac-format-container\"\n        }, [\n          (openBlock(), createBlock(resolveDynamicComponent(message.url ? \"a\" : \"span\"), {\n            class: normalizeClass({\n              \"vac-text-ellipsis\": $props.singleLine,\n              \"vac-text-bold\": message.bold,\n              \"vac-text-italic\": $props.deleted || message.italic,\n              \"vac-text-strike\": message.strike,\n              \"vac-text-underline\": message.underline,\n              \"vac-text-inline-code\": !$props.singleLine && message.inline,\n              \"vac-text-multiline-code\": !$props.singleLine && message.multiline,\n              \"vac-text-tag\": !$props.singleLine && !$props.reply && message.tag\n            }),\n            href: message.href,\n            target: message.href ? $props.linkOptions.target : null,\n            rel: message.href ? $props.linkOptions.rel : null,\n            onClick: ($event) => $options.openTag(message)\n          }, {\n            default: withCtx(() => [\n              $props.deleted ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                renderSlot(\n                  _ctx.$slots,\n                  $props.roomList ? \"deleted-icon-room_\" + $props.roomId : \"deleted-icon_\" + $props.messageId,\n                  {},\n                  () => [\n                    createVNode(_component_svg_icon, {\n                      name: \"deleted\",\n                      class: normalizeClass([\"vac-icon-deleted\", { \"vac-icon-deleted-room\": $props.roomList }])\n                    }, null, 8, [\"class\"])\n                  ]\n                ),\n                createTextVNode(\" \" + toDisplayString($props.textMessages.MESSAGE_DELETED), 1)\n              ], 64)) : message.url && message.image ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n                createBaseVNode(\"div\", _hoisted_1$n, [\n                  createBaseVNode(\"div\", {\n                    class: \"vac-image-link\",\n                    style: normalizeStyle({\n                      \"background-image\": `url('${message.value}')`,\n                      height: message.height\n                    })\n                  }, null, 4)\n                ]),\n                createBaseVNode(\"div\", _hoisted_2$k, [\n                  createBaseVNode(\"span\", null, toDisplayString(message.value), 1)\n                ])\n              ], 64)) : (openBlock(), createElementBlock(\"span\", {\n                key: 2,\n                innerHTML: message.value\n              }, null, 8, _hoisted_3$g))\n            ]),\n            _: 2\n          }, 1032, [\"class\", \"href\", \"target\", \"rel\", \"onClick\"]))\n        ]);\n      }), 128))\n    ], 2)) : (openBlock(), createElementBlock(\"div\", {\n      key: 1,\n      innerHTML: $options.formattedContent\n    }, null, 8, _hoisted_4$f))\n  ], 2);\n}\nvar FormatMessage = /* @__PURE__ */ _export_sfc(_sfc_main$n, [[\"render\", _sfc_render$n]]);\nconst HANDLERS_PROPERTY = \"__v-click-outside\";\nconst HAS_WINDOWS = typeof window !== \"undefined\";\nconst HAS_NAVIGATOR = typeof navigator !== \"undefined\";\nconst IS_TOUCH = HAS_WINDOWS && (\"ontouchstart\" in window || HAS_NAVIGATOR && navigator.msMaxTouchPoints > 0);\nconst EVENTS = IS_TOUCH ? [\"touchstart\"] : [\"click\"];\nconst processDirectiveArguments = (bindingValue) => {\n  const isFunction2 = typeof bindingValue === \"function\";\n  if (!isFunction2 && typeof bindingValue !== \"object\") {\n    throw new Error(\n      \"v-click-outside: Binding value must be a function or an object\"\n    );\n  }\n  return {\n    handler: isFunction2 ? bindingValue : bindingValue.handler,\n    middleware: bindingValue.middleware || ((item) => item),\n    events: bindingValue.events || EVENTS,\n    isActive: !(bindingValue.isActive === false),\n    detectIframe: !(bindingValue.detectIframe === false),\n    capture: Boolean(bindingValue.capture)\n  };\n};\nconst execHandler = ({ event, handler, middleware }) => {\n  if (middleware(event)) {\n    handler(event);\n  }\n};\nconst onFauxIframeClick = ({ el, event, handler, middleware }) => {\n  setTimeout(() => {\n    const { activeElement } = document;\n    if (activeElement && activeElement.tagName === \"IFRAME\" && !el.contains(activeElement)) {\n      execHandler({ event, handler, middleware });\n    }\n  }, 0);\n};\nconst onEvent = ({ el, event, handler, middleware }) => {\n  const path = event.path || event.composedPath && event.composedPath();\n  const isClickOutside = path ? path.indexOf(el) < 0 : !el.contains(event.target);\n  if (!isClickOutside) {\n    return;\n  }\n  execHandler({ event, handler, middleware });\n};\nconst beforeMount = (el, { value }) => {\n  const {\n    events,\n    handler,\n    middleware,\n    isActive,\n    detectIframe,\n    capture\n  } = processDirectiveArguments(value);\n  if (!isActive) {\n    return;\n  }\n  el[HANDLERS_PROPERTY] = events.map((eventName) => ({\n    event: eventName,\n    srcTarget: document.documentElement,\n    handler: (event) => onEvent({ el, event, handler, middleware }),\n    capture\n  }));\n  if (detectIframe) {\n    const detectIframeEvent = {\n      event: \"blur\",\n      srcTarget: window,\n      handler: (event) => onFauxIframeClick({ el, event, handler, middleware }),\n      capture\n    };\n    el[HANDLERS_PROPERTY] = [...el[HANDLERS_PROPERTY], detectIframeEvent];\n  }\n  el[HANDLERS_PROPERTY].forEach(\n    ({ event, srcTarget, handler: thisHandler }) => setTimeout(() => {\n      if (!el[HANDLERS_PROPERTY]) {\n        return;\n      }\n      srcTarget.addEventListener(event, thisHandler, capture);\n    }, 0)\n  );\n};\nconst unmounted = (el) => {\n  const handlers = el[HANDLERS_PROPERTY] || [];\n  handlers.forEach(\n    ({ event, srcTarget, handler, capture }) => srcTarget.removeEventListener(event, handler, capture)\n  );\n  delete el[HANDLERS_PROPERTY];\n};\nconst updated = (el, { value, oldValue }) => {\n  if (JSON.stringify(value) === JSON.stringify(oldValue)) {\n    return;\n  }\n  unmounted(el);\n  beforeMount(el, { value });\n};\nconst directive = {\n  beforeMount,\n  updated,\n  unmounted\n};\nvar vClickOutside = HAS_WINDOWS ? directive : {};\nvar typingText = (room, currentUserId, textMessages) => {\n  if (room.typingUsers && room.typingUsers.length) {\n    const typingUsers = room.users.filter((user) => {\n      if (user._id === currentUserId)\n        return;\n      if (room.typingUsers.indexOf(user._id) === -1)\n        return;\n      if (user.status && user.status.state === \"offline\")\n        return;\n      return true;\n    });\n    if (!typingUsers.length)\n      return;\n    if (room.users.length === 2) {\n      return textMessages.IS_TYPING;\n    } else {\n      return typingUsers.map((user) => user.username).join(\", \") + \" \" + textMessages.IS_TYPING;\n    }\n  }\n};\nfunction checkMediaType(types, file) {\n  if (!file || !file.type)\n    return;\n  return types.some((t) => file.type.toLowerCase().includes(t));\n}\nfunction isImageFile(file) {\n  return checkMediaType(IMAGE_TYPES, file);\n}\nfunction isVideoFile(file) {\n  return checkMediaType(VIDEO_TYPES, file);\n}\nfunction isImageVideoFile(file) {\n  return checkMediaType(IMAGE_TYPES, file) || checkMediaType(VIDEO_TYPES, file);\n}\nfunction isAudioFile(file) {\n  return checkMediaType(AUDIO_TYPES, file);\n}\nconst _sfc_main$m = {\n  name: \"RoomsContent\",\n  components: {\n    SvgIcon,\n    FormatMessage\n  },\n  directives: {\n    clickOutside: vClickOutside\n  },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    room: { type: Object, required: true },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true },\n    textMessages: { type: Object, required: true },\n    roomActions: { type: Array, required: true }\n  },\n  emits: [\"room-action-handler\"],\n  data() {\n    return {\n      roomMenuOpened: null\n    };\n  },\n  computed: {\n    getLastMessage() {\n      const isTyping = this.typingUsers;\n      if (isTyping)\n        return isTyping;\n      const content = this.room.lastMessage.content;\n      if (this.room.users.length <= 2) {\n        return content;\n      }\n      const user = this.room.users.find(\n        (user2) => user2._id === this.room.lastMessage.senderId\n      );\n      if (this.room.lastMessage.username) {\n        return `${this.room.lastMessage.username} - ${content}`;\n      } else if (!user || user._id === this.currentUserId) {\n        return content;\n      }\n      return `${user.username} - ${content}`;\n    },\n    userStatus() {\n      if (!this.room.users || this.room.users.length !== 2)\n        return;\n      const user = this.room.users.find((u) => u._id !== this.currentUserId);\n      if (user && user.status)\n        return user.status.state;\n      return null;\n    },\n    typingUsers() {\n      return typingText(this.room, this.currentUserId, this.textMessages);\n    },\n    isMessageCheckmarkVisible() {\n      return !this.typingUsers && this.room.lastMessage && !this.room.lastMessage.deleted && this.room.lastMessage.senderId === this.currentUserId && (this.room.lastMessage.saved || this.room.lastMessage.distributed || this.room.lastMessage.seen);\n    },\n    formattedDuration() {\n      var _a, _b;\n      const file = (_b = (_a = this.room.lastMessage) == null ? void 0 : _a.files) == null ? void 0 : _b[0];\n      if (file) {\n        if (!file.duration) {\n          return `${file.name}.${file.extension}`;\n        }\n        let s = Math.floor(file.duration);\n        return (s - (s %= 60)) / 60 + (s > 9 ? \":\" : \":0\") + s;\n      }\n      return \"\";\n    },\n    isAudio() {\n      return this.room.lastMessage.files ? isAudioFile(this.room.lastMessage.files[0]) : false;\n    }\n  },\n  methods: {\n    roomActionHandler(action) {\n      this.closeRoomMenu();\n      this.$emit(\"room-action-handler\", { action, roomId: this.room.roomId });\n    },\n    closeRoomMenu() {\n      this.roomMenuOpened = null;\n    }\n  }\n};\nconst _hoisted_1$m = { class: \"vac-room-container\" };\nconst _hoisted_2$j = { class: \"vac-name-container vac-text-ellipsis\" };\nconst _hoisted_3$f = { class: \"vac-title-container\" };\nconst _hoisted_4$e = { class: \"vac-room-name vac-text-ellipsis\" };\nconst _hoisted_5$9 = {\n  key: 1,\n  class: \"vac-text-date\"\n};\nconst _hoisted_6$6 = { key: 0 };\nconst _hoisted_7$6 = {\n  key: 1,\n  class: \"vac-text-ellipsis\"\n};\nconst _hoisted_8$4 = {\n  key: 3,\n  class: \"vac-text-ellipsis\"\n};\nconst _hoisted_9$4 = { class: \"vac-room-options-container\" };\nconst _hoisted_10$4 = {\n  key: 0,\n  class: \"vac-badge-counter vac-room-badge\"\n};\nconst _hoisted_11$3 = {\n  key: 0,\n  class: \"vac-menu-options\"\n};\nconst _hoisted_12$2 = { class: \"vac-menu-list\" };\nconst _hoisted_13$1 = [\"onClick\"];\nfunction _sfc_render$m(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_format_message = resolveComponent(\"format-message\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$m, [\n    renderSlot(_ctx.$slots, \"room-list-item_\" + $props.room.roomId, {}, () => [\n      renderSlot(_ctx.$slots, \"room-list-avatar_\" + $props.room.roomId, {}, () => [\n        $props.room.avatar ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: \"vac-avatar\",\n          style: normalizeStyle({ \"background-image\": `url('${$props.room.avatar}')` })\n        }, null, 4)) : createCommentVNode(\"\", true)\n      ]),\n      createBaseVNode(\"div\", _hoisted_2$j, [\n        createBaseVNode(\"div\", _hoisted_3$f, [\n          $options.userStatus ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass([\"vac-state-circle\", { \"vac-state-online\": $options.userStatus === \"online\" }])\n          }, null, 2)) : createCommentVNode(\"\", true),\n          createBaseVNode(\"div\", _hoisted_4$e, toDisplayString($props.room.roomName), 1),\n          $props.room.lastMessage ? (openBlock(), createElementBlock(\"div\", _hoisted_5$9, toDisplayString($props.room.lastMessage.timestamp), 1)) : createCommentVNode(\"\", true)\n        ]),\n        createBaseVNode(\"div\", {\n          class: normalizeClass([\"vac-text-last\", {\n            \"vac-message-new\": $props.room.lastMessage && $props.room.lastMessage.new && !$options.typingUsers\n          }])\n        }, [\n          $options.isMessageCheckmarkVisible ? (openBlock(), createElementBlock(\"span\", _hoisted_6$6, [\n            renderSlot(_ctx.$slots, \"checkmark-icon_\" + $props.room.roomId, {}, () => [\n              createVNode(_component_svg_icon, {\n                name: $props.room.lastMessage.distributed ? \"double-checkmark\" : \"checkmark\",\n                param: $props.room.lastMessage.seen ? \"seen\" : \"\",\n                class: \"vac-icon-check\"\n              }, null, 8, [\"name\", \"param\"])\n            ])\n          ])) : createCommentVNode(\"\", true),\n          $props.room.lastMessage && !$props.room.lastMessage.deleted && $options.isAudio ? (openBlock(), createElementBlock(\"div\", _hoisted_7$6, [\n            renderSlot(_ctx.$slots, \"microphone-icon_\" + $props.room.roomId, {}, () => [\n              createVNode(_component_svg_icon, {\n                name: \"microphone\",\n                class: \"vac-icon-microphone\"\n              })\n            ]),\n            createTextVNode(\" \" + toDisplayString($options.formattedDuration), 1)\n          ])) : $props.room.lastMessage ? (openBlock(), createBlock(_component_format_message, {\n            key: 2,\n            \"message-id\": $props.room.lastMessage._id,\n            \"room-id\": $props.room.roomId,\n            \"room-list\": true,\n            content: $options.getLastMessage,\n            deleted: !!$props.room.lastMessage.deleted && !$options.typingUsers,\n            users: $props.room.users,\n            \"text-messages\": $props.textMessages,\n            linkify: false,\n            \"text-formatting\": $props.textFormatting,\n            \"link-options\": $props.linkOptions,\n            \"single-line\": true\n          }, createSlots({ _: 2 }, [\n            renderList(_ctx.$slots, (idx, name) => {\n              return {\n                name,\n                fn: withCtx((data) => [\n                  renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                ])\n              };\n            })\n          ]), 1032, [\"message-id\", \"room-id\", \"content\", \"deleted\", \"users\", \"text-messages\", \"text-formatting\", \"link-options\"])) : createCommentVNode(\"\", true),\n          !$props.room.lastMessage && $options.typingUsers ? (openBlock(), createElementBlock(\"div\", _hoisted_8$4, toDisplayString($options.typingUsers), 1)) : createCommentVNode(\"\", true),\n          createBaseVNode(\"div\", _hoisted_9$4, [\n            $props.room.unreadCount ? (openBlock(), createElementBlock(\"div\", _hoisted_10$4, toDisplayString($props.room.unreadCount), 1)) : createCommentVNode(\"\", true),\n            renderSlot(_ctx.$slots, \"room-list-options_\" + $props.room.roomId, {}, () => [\n              $props.roomActions.length ? (openBlock(), createElementBlock(\"div\", {\n                key: 0,\n                class: \"vac-svg-button vac-list-room-options\",\n                onClick: _cache[0] || (_cache[0] = withModifiers(($event) => $data.roomMenuOpened = $props.room.roomId, [\"stop\"]))\n              }, [\n                renderSlot(_ctx.$slots, \"room-list-options-icon_\" + $props.room.roomId, {}, () => [\n                  createVNode(_component_svg_icon, {\n                    name: \"dropdown\",\n                    param: \"room\"\n                  })\n                ])\n              ])) : createCommentVNode(\"\", true),\n              $props.roomActions.length ? (openBlock(), createBlock(Transition, {\n                key: 1,\n                name: \"vac-slide-left\"\n              }, {\n                default: withCtx(() => [\n                  $data.roomMenuOpened === $props.room.roomId ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_11$3, [\n                    createBaseVNode(\"div\", _hoisted_12$2, [\n                      (openBlock(true), createElementBlock(Fragment, null, renderList($props.roomActions, (action) => {\n                        return openBlock(), createElementBlock(\"div\", {\n                          key: action.name\n                        }, [\n                          createBaseVNode(\"div\", {\n                            class: \"vac-menu-item\",\n                            onClick: withModifiers(($event) => $options.roomActionHandler(action), [\"stop\"])\n                          }, toDisplayString(action.title), 9, _hoisted_13$1)\n                        ]);\n                      }), 128))\n                    ])\n                  ])), [\n                    [_directive_click_outside, $options.closeRoomMenu]\n                  ]) : createCommentVNode(\"\", true)\n                ]),\n                _: 1\n              })) : createCommentVNode(\"\", true)\n            ])\n          ])\n        ], 2)\n      ])\n    ])\n  ]);\n}\nvar RoomContent = /* @__PURE__ */ _export_sfc(_sfc_main$m, [[\"render\", _sfc_render$m]]);\nvar filteredItems = (items, prop, val, startsWith = false) => {\n  if (!val || val === \"\")\n    return items;\n  return items.filter((v) => {\n    if (startsWith)\n      return formatString(v[prop]).startsWith(formatString(val));\n    return formatString(v[prop]).includes(formatString(val));\n  });\n};\nfunction formatString(string) {\n  return string.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\nconst _sfc_main$l = {\n  name: \"RoomsList\",\n  components: {\n    Loader,\n    RoomsSearch,\n    RoomContent\n  },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    textMessages: { type: Object, required: true },\n    showRoomsList: { type: Boolean, required: true },\n    showSearch: { type: Boolean, required: true },\n    showAddRoom: { type: Boolean, required: true },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true },\n    isMobile: { type: Boolean, required: true },\n    rooms: { type: Array, required: true },\n    loadingRooms: { type: Boolean, required: true },\n    roomsLoaded: { type: Boolean, required: true },\n    room: { type: Object, required: true },\n    customSearchRoomEnabled: { type: [Boolean, String], default: false },\n    roomActions: { type: Array, required: true },\n    scrollDistance: { type: Number, required: true }\n  },\n  emits: [\n    \"add-room\",\n    \"search-room\",\n    \"room-action-handler\",\n    \"loading-more-rooms\",\n    \"fetch-room\",\n    \"fetch-more-rooms\"\n  ],\n  data() {\n    return {\n      filteredRooms: this.rooms || [],\n      observer: null,\n      showLoader: true,\n      loadingMoreRooms: false,\n      selectedRoomId: \"\"\n    };\n  },\n  watch: {\n    rooms: {\n      deep: true,\n      handler(newVal, oldVal) {\n        this.filteredRooms = newVal;\n        if (newVal.length !== oldVal.length || this.roomsLoaded) {\n          this.loadingMoreRooms = false;\n        }\n      }\n    },\n    loadingRooms(val) {\n      if (!val) {\n        setTimeout(() => this.initIntersectionObserver());\n      }\n    },\n    loadingMoreRooms(val) {\n      this.$emit(\"loading-more-rooms\", val);\n    },\n    roomsLoaded: {\n      immediate: true,\n      handler(val) {\n        if (val) {\n          this.loadingMoreRooms = false;\n          if (!this.loadingRooms) {\n            this.showLoader = false;\n          }\n        }\n      }\n    },\n    room: {\n      immediate: true,\n      handler(val) {\n        if (val && !this.isMobile)\n          this.selectedRoomId = val.roomId;\n      }\n    }\n  },\n  methods: {\n    initIntersectionObserver() {\n      if (this.observer) {\n        this.showLoader = true;\n        this.observer.disconnect();\n      }\n      const loader = document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"infinite-loader-rooms\");\n      if (loader) {\n        const options2 = {\n          root: document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"rooms-list\"),\n          rootMargin: `${this.scrollDistance}px`,\n          threshold: 0\n        };\n        this.observer = new IntersectionObserver((entries) => {\n          if (entries[0].isIntersecting) {\n            this.loadMoreRooms();\n          }\n        }, options2);\n        this.observer.observe(loader);\n      }\n    },\n    searchRoom(ev) {\n      if (this.customSearchRoomEnabled) {\n        this.$emit(\"search-room\", ev.target.value);\n      } else {\n        this.filteredRooms = filteredItems(\n          this.rooms,\n          \"roomName\",\n          ev.target.value\n        );\n      }\n    },\n    openRoom(room) {\n      if (room.roomId === this.room.roomId && !this.isMobile)\n        return;\n      if (!this.isMobile)\n        this.selectedRoomId = room.roomId;\n      this.$emit(\"fetch-room\", { room });\n    },\n    loadMoreRooms() {\n      if (this.loadingMoreRooms)\n        return;\n      if (this.roomsLoaded) {\n        this.loadingMoreRooms = false;\n        this.showLoader = false;\n        return;\n      }\n      this.$emit(\"fetch-more-rooms\");\n      this.loadingMoreRooms = true;\n    }\n  }\n};\nconst _hoisted_1$l = {\n  key: 0,\n  class: \"vac-rooms-empty\"\n};\nconst _hoisted_2$i = {\n  key: 1,\n  id: \"rooms-list\",\n  class: \"vac-room-list\"\n};\nconst _hoisted_3$e = [\"id\", \"onClick\"];\nconst _hoisted_4$d = {\n  key: 0,\n  id: \"infinite-loader-rooms\"\n};\nfunction _sfc_render$l(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_rooms_search = resolveComponent(\"rooms-search\");\n  const _component_loader = resolveComponent(\"loader\");\n  const _component_room_content = resolveComponent(\"room-content\");\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"vac-rooms-container\", {\n      \"vac-rooms-container-full\": $props.isMobile,\n      \"vac-app-border-r\": !$props.isMobile\n    }])\n  }, [\n    renderSlot(_ctx.$slots, \"rooms-header\"),\n    renderSlot(_ctx.$slots, \"rooms-list-search\", {}, () => [\n      createVNode(_component_rooms_search, {\n        rooms: $props.rooms,\n        \"loading-rooms\": $props.loadingRooms,\n        \"text-messages\": $props.textMessages,\n        \"show-search\": $props.showSearch,\n        \"show-add-room\": $props.showAddRoom,\n        onSearchRoom: $options.searchRoom,\n        onAddRoom: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"add-room\"))\n      }, createSlots({ _: 2 }, [\n        renderList(_ctx.$slots, (idx, name) => {\n          return {\n            name,\n            fn: withCtx((data) => [\n              renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n            ])\n          };\n        })\n      ]), 1032, [\"rooms\", \"loading-rooms\", \"text-messages\", \"show-search\", \"show-add-room\", \"onSearchRoom\"])\n    ]),\n    createVNode(_component_loader, {\n      show: $props.loadingRooms,\n      type: \"rooms\"\n    }, createSlots({ _: 2 }, [\n      renderList(_ctx.$slots, (idx, name) => {\n        return {\n          name,\n          fn: withCtx((data) => [\n            renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n          ])\n        };\n      })\n    ]), 1032, [\"show\"]),\n    !$props.loadingRooms && !$props.rooms.length ? (openBlock(), createElementBlock(\"div\", _hoisted_1$l, [\n      renderSlot(_ctx.$slots, \"rooms-empty\", {}, () => [\n        createTextVNode(toDisplayString($props.textMessages.ROOMS_EMPTY), 1)\n      ])\n    ])) : createCommentVNode(\"\", true),\n    !$props.loadingRooms ? (openBlock(), createElementBlock(\"div\", _hoisted_2$i, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList($data.filteredRooms, (fRoom) => {\n        return openBlock(), createElementBlock(\"div\", {\n          id: fRoom.roomId,\n          key: fRoom.roomId,\n          class: normalizeClass([\"vac-room-item\", { \"vac-room-selected\": $data.selectedRoomId === fRoom.roomId }]),\n          onClick: ($event) => $options.openRoom(fRoom)\n        }, [\n          createVNode(_component_room_content, {\n            \"current-user-id\": $props.currentUserId,\n            room: fRoom,\n            \"text-formatting\": $props.textFormatting,\n            \"link-options\": $props.linkOptions,\n            \"text-messages\": $props.textMessages,\n            \"room-actions\": $props.roomActions,\n            onRoomActionHandler: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"room-action-handler\", $event))\n          }, createSlots({ _: 2 }, [\n            renderList(_ctx.$slots, (idx, name) => {\n              return {\n                name,\n                fn: withCtx((data) => [\n                  renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                ])\n              };\n            })\n          ]), 1032, [\"current-user-id\", \"room\", \"text-formatting\", \"link-options\", \"text-messages\", \"room-actions\"])\n        ], 10, _hoisted_3$e);\n      }), 128)),\n      createVNode(Transition, { name: \"vac-fade-message\" }, {\n        default: withCtx(() => [\n          $props.rooms.length && !$props.loadingRooms ? (openBlock(), createElementBlock(\"div\", _hoisted_4$d, [\n            createVNode(_component_loader, {\n              show: $data.showLoader,\n              infinite: true,\n              type: \"infinite-rooms\"\n            }, createSlots({ _: 2 }, [\n              renderList(_ctx.$slots, (idx, name) => {\n                return {\n                  name,\n                  fn: withCtx((data) => [\n                    renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                  ])\n                };\n              })\n            ]), 1032, [\"show\"])\n          ])) : createCommentVNode(\"\", true)\n        ]),\n        _: 3\n      })\n    ])) : createCommentVNode(\"\", true)\n  ], 2)), [\n    [vShow, $props.showRoomsList]\n  ]);\n}\nvar RoomsList = /* @__PURE__ */ _export_sfc(_sfc_main$l, [[\"render\", _sfc_render$l]]);\nconst _sfc_main$k = {\n  name: \"RoomHeader\",\n  components: {\n    SvgIcon\n  },\n  directives: {\n    clickOutside: vClickOutside\n  },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    textMessages: { type: Object, required: true },\n    singleRoom: { type: Boolean, required: true },\n    showRoomsList: { type: Boolean, required: true },\n    isMobile: { type: Boolean, required: true },\n    roomInfoEnabled: { type: Boolean, required: true },\n    menuActions: { type: Array, required: true },\n    room: { type: Object, required: true },\n    messageSelectionEnabled: { type: Boolean, required: true },\n    messageSelectionActions: { type: Array, required: true },\n    selectedMessagesTotal: { type: Number, required: true }\n  },\n  emits: [\n    \"toggle-rooms-list\",\n    \"room-info\",\n    \"menu-action-handler\",\n    \"cancel-message-selection\",\n    \"message-selection-action-handler\"\n  ],\n  data() {\n    return {\n      menuOpened: false,\n      messageSelectionAnimationEnded: true\n    };\n  },\n  computed: {\n    typingUsers() {\n      return typingText(this.room, this.currentUserId, this.textMessages);\n    },\n    userStatus() {\n      if (!this.room.users || this.room.users.length !== 2)\n        return;\n      const user = this.room.users.find((u) => u._id !== this.currentUserId);\n      if (!user.status)\n        return;\n      let text2 = \"\";\n      if (user.status.state === \"online\") {\n        text2 = this.textMessages.IS_ONLINE;\n      } else if (user.status.lastChanged) {\n        text2 = this.textMessages.LAST_SEEN + user.status.lastChanged;\n      }\n      return text2;\n    }\n  },\n  watch: {\n    messageSelectionEnabled(val) {\n      if (val) {\n        this.messageSelectionAnimationEnded = false;\n      } else {\n        setTimeout(() => {\n          this.messageSelectionAnimationEnded = true;\n        }, 300);\n      }\n    }\n  },\n  methods: {\n    menuActionHandler(action) {\n      this.closeMenu();\n      this.$emit(\"menu-action-handler\", action);\n    },\n    closeMenu() {\n      this.menuOpened = false;\n    },\n    messageSelectionActionHandler(action) {\n      this.$emit(\"message-selection-action-handler\", action);\n    }\n  }\n};\nconst _hoisted_1$k = { class: \"vac-room-header vac-app-border-b\" };\nconst _hoisted_2$h = { class: \"vac-room-wrapper\" };\nconst _hoisted_3$d = {\n  key: 0,\n  class: \"vac-room-selection\"\n};\nconst _hoisted_4$c = [\"id\"];\nconst _hoisted_5$8 = [\"onClick\"];\nconst _hoisted_6$5 = { class: \"vac-selection-button-count\" };\nconst _hoisted_7$5 = { class: \"vac-text-ellipsis\" };\nconst _hoisted_8$3 = { class: \"vac-room-name vac-text-ellipsis\" };\nconst _hoisted_9$3 = {\n  key: 0,\n  class: \"vac-room-info vac-text-ellipsis\"\n};\nconst _hoisted_10$3 = {\n  key: 1,\n  class: \"vac-room-info vac-text-ellipsis\"\n};\nconst _hoisted_11$2 = {\n  key: 0,\n  class: \"vac-menu-options\"\n};\nconst _hoisted_12$1 = { class: \"vac-menu-list\" };\nconst _hoisted_13 = [\"onClick\"];\nfunction _sfc_render$k(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$k, [\n    renderSlot(_ctx.$slots, \"room-header\", {}, () => [\n      createBaseVNode(\"div\", _hoisted_2$h, [\n        createVNode(Transition, { name: \"vac-slide-up\" }, {\n          default: withCtx(() => [\n            $props.messageSelectionEnabled ? (openBlock(), createElementBlock(\"div\", _hoisted_3$d, [\n              (openBlock(true), createElementBlock(Fragment, null, renderList($props.messageSelectionActions, (action) => {\n                return openBlock(), createElementBlock(\"div\", {\n                  id: action.name,\n                  key: action.name\n                }, [\n                  createBaseVNode(\"div\", {\n                    class: \"vac-selection-button\",\n                    onClick: ($event) => $options.messageSelectionActionHandler(action)\n                  }, [\n                    createTextVNode(toDisplayString(action.title) + \" \", 1),\n                    createBaseVNode(\"span\", _hoisted_6$5, toDisplayString($props.selectedMessagesTotal), 1)\n                  ], 8, _hoisted_5$8)\n                ], 8, _hoisted_4$c);\n              }), 128)),\n              createBaseVNode(\"div\", {\n                class: \"vac-selection-cancel vac-item-clickable\",\n                onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"cancel-message-selection\"))\n              }, toDisplayString($props.textMessages.CANCEL_SELECT_MESSAGE), 1)\n            ])) : createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }),\n        !$props.messageSelectionEnabled && $data.messageSelectionAnimationEnded ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          !$props.singleRoom ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass([\"vac-svg-button vac-toggle-button\", {\n              \"vac-rotate-icon-init\": !$props.isMobile,\n              \"vac-rotate-icon\": !$props.showRoomsList && !$props.isMobile\n            }]),\n            onClick: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"toggle-rooms-list\"))\n          }, [\n            renderSlot(_ctx.$slots, \"toggle-icon\", {}, () => [\n              createVNode(_component_svg_icon, { name: \"toggle\" })\n            ])\n          ], 2)) : createCommentVNode(\"\", true),\n          createBaseVNode(\"div\", {\n            class: normalizeClass([\"vac-info-wrapper\", { \"vac-item-clickable\": $props.roomInfoEnabled }]),\n            onClick: _cache[2] || (_cache[2] = ($event) => _ctx.$emit(\"room-info\"))\n          }, [\n            renderSlot(_ctx.$slots, \"room-header-avatar\", {}, () => [\n              $props.room.avatar ? (openBlock(), createElementBlock(\"div\", {\n                key: 0,\n                class: \"vac-avatar\",\n                style: normalizeStyle({ \"background-image\": `url('${$props.room.avatar}')` })\n              }, null, 4)) : createCommentVNode(\"\", true)\n            ]),\n            renderSlot(_ctx.$slots, \"room-header-info\", {}, () => [\n              createBaseVNode(\"div\", _hoisted_7$5, [\n                createBaseVNode(\"div\", _hoisted_8$3, toDisplayString($props.room.roomName), 1),\n                $options.typingUsers ? (openBlock(), createElementBlock(\"div\", _hoisted_9$3, toDisplayString($options.typingUsers), 1)) : (openBlock(), createElementBlock(\"div\", _hoisted_10$3, toDisplayString($options.userStatus), 1))\n              ])\n            ])\n          ], 2),\n          $props.room.roomId ? renderSlot(_ctx.$slots, \"room-options\", { key: 1 }, () => [\n            $props.menuActions.length ? (openBlock(), createElementBlock(\"div\", {\n              key: 0,\n              class: \"vac-svg-button vac-room-options\",\n              onClick: _cache[3] || (_cache[3] = ($event) => $data.menuOpened = !$data.menuOpened)\n            }, [\n              renderSlot(_ctx.$slots, \"menu-icon\", {}, () => [\n                createVNode(_component_svg_icon, { name: \"menu\" })\n              ])\n            ])) : createCommentVNode(\"\", true),\n            $props.menuActions.length ? (openBlock(), createBlock(Transition, {\n              key: 1,\n              name: \"vac-slide-left\"\n            }, {\n              default: withCtx(() => [\n                $data.menuOpened ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_11$2, [\n                  createBaseVNode(\"div\", _hoisted_12$1, [\n                    (openBlock(true), createElementBlock(Fragment, null, renderList($props.menuActions, (action) => {\n                      return openBlock(), createElementBlock(\"div\", {\n                        key: action.name\n                      }, [\n                        createBaseVNode(\"div\", {\n                          class: \"vac-menu-item\",\n                          onClick: ($event) => $options.menuActionHandler(action)\n                        }, toDisplayString(action.title), 9, _hoisted_13)\n                      ]);\n                    }), 128))\n                  ])\n                ])), [\n                  [_directive_click_outside, $options.closeMenu]\n                ]) : createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            })) : createCommentVNode(\"\", true)\n          ]) : createCommentVNode(\"\", true)\n        ], 64)) : createCommentVNode(\"\", true)\n      ])\n    ])\n  ]);\n}\nvar RoomHeader = /* @__PURE__ */ _export_sfc(_sfc_main$k, [[\"render\", _sfc_render$k]]);\nfunction assertNonEmptyString(str) {\n  if (typeof str !== \"string\" || !str) {\n    throw new Error(\"expected a non-empty string, got: \" + str);\n  }\n}\nfunction assertNumber(number) {\n  if (typeof number !== \"number\") {\n    throw new Error(\"expected a number, got: \" + number);\n  }\n}\nconst DB_VERSION_CURRENT = 1;\nconst DB_VERSION_INITIAL = 1;\nconst STORE_EMOJI = \"emoji\";\nconst STORE_KEYVALUE = \"keyvalue\";\nconst STORE_FAVORITES = \"favorites\";\nconst FIELD_TOKENS = \"tokens\";\nconst INDEX_TOKENS = \"tokens\";\nconst FIELD_UNICODE = \"unicode\";\nconst INDEX_COUNT = \"count\";\nconst FIELD_GROUP = \"group\";\nconst FIELD_ORDER = \"order\";\nconst INDEX_GROUP_AND_ORDER = \"group-order\";\nconst KEY_ETAG = \"eTag\";\nconst KEY_URL = \"url\";\nconst KEY_PREFERRED_SKINTONE = \"skinTone\";\nconst MODE_READONLY = \"readonly\";\nconst MODE_READWRITE = \"readwrite\";\nconst INDEX_SKIN_UNICODE = \"skinUnicodes\";\nconst FIELD_SKIN_UNICODE = \"skinUnicodes\";\nconst DEFAULT_DATA_SOURCE$1 = \"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json\";\nconst DEFAULT_LOCALE$1 = \"en\";\nfunction uniqBy$1(arr, func) {\n  const set2 = /* @__PURE__ */ new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set2.has(key)) {\n      set2.add(key);\n      res.push(item);\n    }\n  }\n  return res;\n}\nfunction uniqEmoji(emojis) {\n  return uniqBy$1(emojis, (_) => _.unicode);\n}\nfunction initialMigration(db) {\n  function createObjectStore(name, keyPath, indexes) {\n    const store = keyPath ? db.createObjectStore(name, { keyPath }) : db.createObjectStore(name);\n    if (indexes) {\n      for (const [indexName, [keyPath2, multiEntry]] of Object.entries(indexes)) {\n        store.createIndex(indexName, keyPath2, { multiEntry });\n      }\n    }\n    return store;\n  }\n  createObjectStore(STORE_KEYVALUE);\n  createObjectStore(STORE_EMOJI, FIELD_UNICODE, {\n    [INDEX_TOKENS]: [FIELD_TOKENS, true],\n    [INDEX_GROUP_AND_ORDER]: [[FIELD_GROUP, FIELD_ORDER]],\n    [INDEX_SKIN_UNICODE]: [FIELD_SKIN_UNICODE, true]\n  });\n  createObjectStore(STORE_FAVORITES, void 0, {\n    [INDEX_COUNT]: [\"\"]\n  });\n}\nconst openReqs = {};\nconst databaseCache = {};\nconst onCloseListeners = {};\nfunction handleOpenOrDeleteReq(resolve3, reject, req) {\n  req.onerror = () => reject(req.error);\n  req.onblocked = () => reject(new Error(\"IDB blocked\"));\n  req.onsuccess = () => resolve3(req.result);\n}\nasync function createDatabase(dbName) {\n  const db = await new Promise((resolve3, reject) => {\n    const req = indexedDB.open(dbName, DB_VERSION_CURRENT);\n    openReqs[dbName] = req;\n    req.onupgradeneeded = (e) => {\n      if (e.oldVersion < DB_VERSION_INITIAL) {\n        initialMigration(req.result);\n      }\n    };\n    handleOpenOrDeleteReq(resolve3, reject, req);\n  });\n  db.onclose = () => closeDatabase(dbName);\n  return db;\n}\nfunction openDatabase(dbName) {\n  if (!databaseCache[dbName]) {\n    databaseCache[dbName] = createDatabase(dbName);\n  }\n  return databaseCache[dbName];\n}\nfunction dbPromise(db, storeName, readOnlyOrReadWrite, cb) {\n  return new Promise((resolve3, reject) => {\n    const txn = db.transaction(storeName, readOnlyOrReadWrite, { durability: \"relaxed\" });\n    const store = typeof storeName === \"string\" ? txn.objectStore(storeName) : storeName.map((name) => txn.objectStore(name));\n    let res;\n    cb(store, txn, (result) => {\n      res = result;\n    });\n    txn.oncomplete = () => resolve3(res);\n    txn.onerror = () => reject(txn.error);\n  });\n}\nfunction closeDatabase(dbName) {\n  const req = openReqs[dbName];\n  const db = req && req.result;\n  if (db) {\n    db.close();\n    const listeners = onCloseListeners[dbName];\n    if (listeners) {\n      for (const listener of listeners) {\n        listener();\n      }\n    }\n  }\n  delete openReqs[dbName];\n  delete databaseCache[dbName];\n  delete onCloseListeners[dbName];\n}\nfunction deleteDatabase(dbName) {\n  return new Promise((resolve3, reject) => {\n    closeDatabase(dbName);\n    const req = indexedDB.deleteDatabase(dbName);\n    handleOpenOrDeleteReq(resolve3, reject, req);\n  });\n}\nfunction addOnCloseListener(dbName, listener) {\n  let listeners = onCloseListeners[dbName];\n  if (!listeners) {\n    listeners = onCloseListeners[dbName] = [];\n  }\n  listeners.push(listener);\n}\nconst irregularEmoticons = /* @__PURE__ */ new Set([\n  \":D\",\n  \"XD\",\n  \":'D\",\n  \"O:)\",\n  \":X\",\n  \":P\",\n  \";P\",\n  \"XP\",\n  \":L\",\n  \":Z\",\n  \":j\",\n  \"8D\",\n  \"XO\",\n  \"8)\",\n  \":B\",\n  \":O\",\n  \":S\",\n  \":'o\",\n  \"Dx\",\n  \"X(\",\n  \"D:\",\n  \":C\",\n  \">0)\",\n  \":3\",\n  \"</3\",\n  \"<3\",\n  \"\\\\M/\",\n  \":E\",\n  \"8#\"\n]);\nfunction extractTokens(str) {\n  return str.split(/[\\s_]+/).map((word) => {\n    if (!word.match(/\\w/) || irregularEmoticons.has(word)) {\n      return word.toLowerCase();\n    }\n    return word.replace(/[)(:,]/g, \"\").replace(/’/g, \"'\").toLowerCase();\n  }).filter(Boolean);\n}\nconst MIN_SEARCH_TEXT_LENGTH$1 = 2;\nfunction normalizeTokens(str) {\n  return str.filter(Boolean).map((_) => _.toLowerCase()).filter((_) => _.length >= MIN_SEARCH_TEXT_LENGTH$1);\n}\nfunction transformEmojiData(emojiData) {\n  const res = emojiData.map(({ annotation, emoticon, group, order, shortcodes, skins, tags, emoji, version: version2 }) => {\n    const tokens = [...new Set(\n      normalizeTokens([\n        ...(shortcodes || []).map(extractTokens).flat(),\n        ...tags.map(extractTokens).flat(),\n        ...extractTokens(annotation),\n        emoticon\n      ])\n    )].sort();\n    const res2 = {\n      annotation,\n      group,\n      order,\n      tags,\n      tokens,\n      unicode: emoji,\n      version: version2\n    };\n    if (emoticon) {\n      res2.emoticon = emoticon;\n    }\n    if (shortcodes) {\n      res2.shortcodes = shortcodes;\n    }\n    if (skins) {\n      res2.skinTones = [];\n      res2.skinUnicodes = [];\n      res2.skinVersions = [];\n      for (const { tone, emoji: emoji2, version: version3 } of skins) {\n        res2.skinTones.push(tone);\n        res2.skinUnicodes.push(emoji2);\n        res2.skinVersions.push(version3);\n      }\n    }\n    return res2;\n  });\n  return res;\n}\nfunction callStore(store, method, key, cb) {\n  store[method](key).onsuccess = (e) => cb && cb(e.target.result);\n}\nfunction getIDB(store, key, cb) {\n  callStore(store, \"get\", key, cb);\n}\nfunction getAllIDB(store, key, cb) {\n  callStore(store, \"getAll\", key, cb);\n}\nfunction commit(txn) {\n  if (txn.commit) {\n    txn.commit();\n  }\n}\nfunction minBy(array, func) {\n  let minItem = array[0];\n  for (let i = 1; i < array.length; i++) {\n    const item = array[i];\n    if (func(minItem) > func(item)) {\n      minItem = item;\n    }\n  }\n  return minItem;\n}\nfunction findCommonMembers(arrays, uniqByFunc) {\n  const shortestArray = minBy(arrays, (_) => _.length);\n  const results = [];\n  for (const item of shortestArray) {\n    if (!arrays.some((array) => array.findIndex((_) => uniqByFunc(_) === uniqByFunc(item)) === -1)) {\n      results.push(item);\n    }\n  }\n  return results;\n}\nasync function isEmpty(db) {\n  return !await get2(db, STORE_KEYVALUE, KEY_URL);\n}\nasync function hasData(db, url, eTag) {\n  const [oldETag, oldUrl] = await Promise.all([KEY_ETAG, KEY_URL].map((key) => get2(db, STORE_KEYVALUE, key)));\n  return oldETag === eTag && oldUrl === url;\n}\nasync function doFullDatabaseScanForSingleResult(db, predicate) {\n  const BATCH_SIZE = 50;\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => {\n    let lastKey;\n    const processNextBatch = () => {\n      emojiStore.getAll(lastKey && IDBKeyRange.lowerBound(lastKey, true), BATCH_SIZE).onsuccess = (e) => {\n        const results = e.target.result;\n        for (const result of results) {\n          lastKey = result.unicode;\n          if (predicate(result)) {\n            return cb(result);\n          }\n        }\n        if (results.length < BATCH_SIZE) {\n          return cb();\n        }\n        processNextBatch();\n      };\n    };\n    processNextBatch();\n  });\n}\nasync function loadData(db, emojiData, url, eTag) {\n  try {\n    const transformedData = transformEmojiData(emojiData);\n    await dbPromise(db, [STORE_EMOJI, STORE_KEYVALUE], MODE_READWRITE, ([emojiStore, metaStore], txn) => {\n      let oldETag;\n      let oldUrl;\n      let todo = 0;\n      function checkFetched() {\n        if (++todo === 2) {\n          onFetched();\n        }\n      }\n      function onFetched() {\n        if (oldETag === eTag && oldUrl === url) {\n          return;\n        }\n        emojiStore.clear();\n        for (const data of transformedData) {\n          emojiStore.put(data);\n        }\n        metaStore.put(eTag, KEY_ETAG);\n        metaStore.put(url, KEY_URL);\n        commit(txn);\n      }\n      getIDB(metaStore, KEY_ETAG, (result) => {\n        oldETag = result;\n        checkFetched();\n      });\n      getIDB(metaStore, KEY_URL, (result) => {\n        oldUrl = result;\n        checkFetched();\n      });\n    });\n  } finally {\n  }\n}\nasync function getEmojiByGroup(db, group) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => {\n    const range = IDBKeyRange.bound([group, 0], [group + 1, 0], false, true);\n    getAllIDB(emojiStore.index(INDEX_GROUP_AND_ORDER), range, cb);\n  });\n}\nasync function getEmojiBySearchQuery(db, query) {\n  const tokens = normalizeTokens(extractTokens(query));\n  if (!tokens.length) {\n    return [];\n  }\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => {\n    const intermediateResults = [];\n    const checkDone = () => {\n      if (intermediateResults.length === tokens.length) {\n        onDone();\n      }\n    };\n    const onDone = () => {\n      const results = findCommonMembers(intermediateResults, (_) => _.unicode);\n      cb(results.sort((a, b) => a.order < b.order ? -1 : 1));\n    };\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      const range = i === tokens.length - 1 ? IDBKeyRange.bound(token, token + \"\\uFFFF\", false, true) : IDBKeyRange.only(token);\n      getAllIDB(emojiStore.index(INDEX_TOKENS), range, (result) => {\n        intermediateResults.push(result);\n        checkDone();\n      });\n    }\n  });\n}\nasync function getEmojiByShortcode(db, shortcode) {\n  const emojis = await getEmojiBySearchQuery(db, shortcode);\n  if (!emojis.length) {\n    const predicate = (_) => (_.shortcodes || []).includes(shortcode.toLowerCase());\n    return await doFullDatabaseScanForSingleResult(db, predicate) || null;\n  }\n  return emojis.filter((_) => {\n    const lowerShortcodes = (_.shortcodes || []).map((_2) => _2.toLowerCase());\n    return lowerShortcodes.includes(shortcode.toLowerCase());\n  })[0] || null;\n}\nasync function getEmojiByUnicode(db, unicode) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => getIDB(emojiStore, unicode, (result) => {\n    if (result) {\n      return cb(result);\n    }\n    getIDB(emojiStore.index(INDEX_SKIN_UNICODE), unicode, (result2) => cb(result2 || null));\n  }));\n}\nfunction get2(db, storeName, key) {\n  return dbPromise(db, storeName, MODE_READONLY, (store, txn, cb) => getIDB(store, key, cb));\n}\nfunction set(db, storeName, key, value) {\n  return dbPromise(db, storeName, MODE_READWRITE, (store, txn) => {\n    store.put(value, key);\n    commit(txn);\n  });\n}\nfunction incrementFavoriteEmojiCount(db, unicode) {\n  return dbPromise(db, STORE_FAVORITES, MODE_READWRITE, (store, txn) => getIDB(store, unicode, (result) => {\n    store.put((result || 0) + 1, unicode);\n    commit(txn);\n  }));\n}\nfunction getTopFavoriteEmoji(db, customEmojiIndex2, limit) {\n  if (limit === 0) {\n    return [];\n  }\n  return dbPromise(db, [STORE_FAVORITES, STORE_EMOJI], MODE_READONLY, ([favoritesStore, emojiStore], txn, cb) => {\n    const results = [];\n    favoritesStore.index(INDEX_COUNT).openCursor(void 0, \"prev\").onsuccess = (e) => {\n      const cursor = e.target.result;\n      if (!cursor) {\n        return cb(results);\n      }\n      function addResult(result) {\n        results.push(result);\n        if (results.length === limit) {\n          return cb(results);\n        }\n        cursor.continue();\n      }\n      const unicodeOrName = cursor.primaryKey;\n      const custom = customEmojiIndex2.byName(unicodeOrName);\n      if (custom) {\n        return addResult(custom);\n      }\n      getIDB(emojiStore, unicodeOrName, (emoji) => {\n        if (emoji) {\n          return addResult(emoji);\n        }\n        cursor.continue();\n      });\n    };\n  });\n}\nconst CODA_MARKER = \"\";\nfunction trie(arr, itemToTokens) {\n  const map = /* @__PURE__ */ new Map();\n  for (const item of arr) {\n    const tokens = itemToTokens(item);\n    for (const token of tokens) {\n      let currentMap = map;\n      for (let i = 0; i < token.length; i++) {\n        const char = token.charAt(i);\n        let nextMap = currentMap.get(char);\n        if (!nextMap) {\n          nextMap = /* @__PURE__ */ new Map();\n          currentMap.set(char, nextMap);\n        }\n        currentMap = nextMap;\n      }\n      let valuesAtCoda = currentMap.get(CODA_MARKER);\n      if (!valuesAtCoda) {\n        valuesAtCoda = [];\n        currentMap.set(CODA_MARKER, valuesAtCoda);\n      }\n      valuesAtCoda.push(item);\n    }\n  }\n  const search = (query, exact) => {\n    let currentMap = map;\n    for (let i = 0; i < query.length; i++) {\n      const char = query.charAt(i);\n      const nextMap = currentMap.get(char);\n      if (nextMap) {\n        currentMap = nextMap;\n      } else {\n        return [];\n      }\n    }\n    if (exact) {\n      const results2 = currentMap.get(CODA_MARKER);\n      return results2 || [];\n    }\n    const results = [];\n    const queue2 = [currentMap];\n    while (queue2.length) {\n      const currentMap2 = queue2.shift();\n      const entriesSortedByKey = [...currentMap2.entries()].sort((a, b) => a[0] < b[0] ? -1 : 1);\n      for (const [key, value] of entriesSortedByKey) {\n        if (key === CODA_MARKER) {\n          results.push(...value);\n        } else {\n          queue2.push(value);\n        }\n      }\n    }\n    return results;\n  };\n  return search;\n}\nconst requiredKeys$1 = [\n  \"name\",\n  \"url\"\n];\nfunction assertCustomEmojis(customEmojis) {\n  const isArray2 = customEmojis && Array.isArray(customEmojis);\n  const firstItemIsFaulty = isArray2 && customEmojis.length && (!customEmojis[0] || requiredKeys$1.some((key) => !(key in customEmojis[0])));\n  if (!isArray2 || firstItemIsFaulty) {\n    throw new Error(\"Custom emojis are in the wrong format\");\n  }\n}\nfunction customEmojiIndex(customEmojis) {\n  assertCustomEmojis(customEmojis);\n  const sortByName = (a, b) => a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1;\n  const all = customEmojis.sort(sortByName);\n  const emojiToTokens = (emoji) => [...new Set((emoji.shortcodes || []).map((shortcode) => extractTokens(shortcode)).flat())];\n  const searchTrie = trie(customEmojis, emojiToTokens);\n  const searchByExactMatch = (_) => searchTrie(_, true);\n  const searchByPrefix = (_) => searchTrie(_, false);\n  const search = (query) => {\n    const tokens = extractTokens(query);\n    const intermediateResults = tokens.map((token, i) => (i < tokens.length - 1 ? searchByExactMatch : searchByPrefix)(token));\n    return findCommonMembers(intermediateResults, (_) => _.name).sort(sortByName);\n  };\n  const shortcodeToEmoji = /* @__PURE__ */ new Map();\n  const nameToEmoji = /* @__PURE__ */ new Map();\n  for (const customEmoji of customEmojis) {\n    nameToEmoji.set(customEmoji.name.toLowerCase(), customEmoji);\n    for (const shortcode of customEmoji.shortcodes || []) {\n      shortcodeToEmoji.set(shortcode.toLowerCase(), customEmoji);\n    }\n  }\n  const byShortcode = (shortcode) => shortcodeToEmoji.get(shortcode.toLowerCase());\n  const byName = (name) => nameToEmoji.get(name.toLowerCase());\n  return {\n    all,\n    search,\n    byShortcode,\n    byName\n  };\n}\nfunction cleanEmoji(emoji) {\n  if (!emoji) {\n    return emoji;\n  }\n  delete emoji.tokens;\n  if (emoji.skinTones) {\n    const len = emoji.skinTones.length;\n    emoji.skins = Array(len);\n    for (let i = 0; i < len; i++) {\n      emoji.skins[i] = {\n        tone: emoji.skinTones[i],\n        unicode: emoji.skinUnicodes[i],\n        version: emoji.skinVersions[i]\n      };\n    }\n    delete emoji.skinTones;\n    delete emoji.skinUnicodes;\n    delete emoji.skinVersions;\n  }\n  return emoji;\n}\nfunction warnETag(eTag) {\n  if (!eTag) {\n    console.warn(\"emoji-picker-element is more efficient if the dataSource server exposes an ETag header.\");\n  }\n}\nconst requiredKeys = [\n  \"annotation\",\n  \"emoji\",\n  \"group\",\n  \"order\",\n  \"tags\",\n  \"version\"\n];\nfunction assertEmojiData(emojiData) {\n  if (!emojiData || !Array.isArray(emojiData) || !emojiData[0] || typeof emojiData[0] !== \"object\" || requiredKeys.some((key) => !(key in emojiData[0]))) {\n    throw new Error(\"Emoji data is in the wrong format\");\n  }\n}\nfunction assertStatus(response, dataSource) {\n  if (Math.floor(response.status / 100) !== 2) {\n    throw new Error(\"Failed to fetch: \" + dataSource + \":  \" + response.status);\n  }\n}\nasync function getETag(dataSource) {\n  const response = await fetch(dataSource, { method: \"HEAD\" });\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get(\"etag\");\n  warnETag(eTag);\n  return eTag;\n}\nasync function getETagAndData(dataSource) {\n  const response = await fetch(dataSource);\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get(\"etag\");\n  warnETag(eTag);\n  const emojiData = await response.json();\n  assertEmojiData(emojiData);\n  return [eTag, emojiData];\n}\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = \"\";\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  var i = -1;\n  while (++i < length) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\nfunction binaryStringToArrayBuffer(binary) {\n  var length = binary.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  var i = -1;\n  while (++i < length) {\n    arr[i] = binary.charCodeAt(i);\n  }\n  return buf;\n}\nasync function jsonChecksum(object) {\n  const inString = JSON.stringify(object);\n  const inBuffer = binaryStringToArrayBuffer(inString);\n  const outBuffer = await crypto.subtle.digest(\"SHA-1\", inBuffer);\n  const outBinString = arrayBufferToBinaryString(outBuffer);\n  const res = btoa(outBinString);\n  return res;\n}\nasync function checkForUpdates(db, dataSource) {\n  let emojiData;\n  let eTag = await getETag(dataSource);\n  if (!eTag) {\n    const eTagAndData = await getETagAndData(dataSource);\n    eTag = eTagAndData[0];\n    emojiData = eTagAndData[1];\n    if (!eTag) {\n      eTag = await jsonChecksum(emojiData);\n    }\n  }\n  if (await hasData(db, dataSource, eTag))\n    ;\n  else {\n    if (!emojiData) {\n      const eTagAndData = await getETagAndData(dataSource);\n      emojiData = eTagAndData[1];\n    }\n    await loadData(db, emojiData, dataSource, eTag);\n  }\n}\nasync function loadDataForFirstTime(db, dataSource) {\n  let [eTag, emojiData] = await getETagAndData(dataSource);\n  if (!eTag) {\n    eTag = await jsonChecksum(emojiData);\n  }\n  await loadData(db, emojiData, dataSource, eTag);\n}\nclass Database {\n  constructor({ dataSource = DEFAULT_DATA_SOURCE$1, locale = DEFAULT_LOCALE$1, customEmoji = [] } = {}) {\n    this.dataSource = dataSource;\n    this.locale = locale;\n    this._dbName = `emoji-picker-element-${this.locale}`;\n    this._db = void 0;\n    this._lazyUpdate = void 0;\n    this._custom = customEmojiIndex(customEmoji);\n    this._clear = this._clear.bind(this);\n    this._ready = this._init();\n  }\n  async _init() {\n    const db = this._db = await openDatabase(this._dbName);\n    addOnCloseListener(this._dbName, this._clear);\n    const dataSource = this.dataSource;\n    const empty = await isEmpty(db);\n    if (empty) {\n      await loadDataForFirstTime(db, dataSource);\n    } else {\n      this._lazyUpdate = checkForUpdates(db, dataSource);\n    }\n  }\n  async ready() {\n    const checkReady = async () => {\n      if (!this._ready) {\n        this._ready = this._init();\n      }\n      return this._ready;\n    };\n    await checkReady();\n    if (!this._db) {\n      await checkReady();\n    }\n  }\n  async getEmojiByGroup(group) {\n    assertNumber(group);\n    await this.ready();\n    return uniqEmoji(await getEmojiByGroup(this._db, group)).map(cleanEmoji);\n  }\n  async getEmojiBySearchQuery(query) {\n    assertNonEmptyString(query);\n    await this.ready();\n    const customs = this._custom.search(query);\n    const natives = uniqEmoji(await getEmojiBySearchQuery(this._db, query)).map(cleanEmoji);\n    return [\n      ...customs,\n      ...natives\n    ];\n  }\n  async getEmojiByShortcode(shortcode) {\n    assertNonEmptyString(shortcode);\n    await this.ready();\n    const custom = this._custom.byShortcode(shortcode);\n    if (custom) {\n      return custom;\n    }\n    return cleanEmoji(await getEmojiByShortcode(this._db, shortcode));\n  }\n  async getEmojiByUnicodeOrName(unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    const custom = this._custom.byName(unicodeOrName);\n    if (custom) {\n      return custom;\n    }\n    return cleanEmoji(await getEmojiByUnicode(this._db, unicodeOrName));\n  }\n  async getPreferredSkinTone() {\n    await this.ready();\n    return await get2(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE) || 0;\n  }\n  async setPreferredSkinTone(skinTone) {\n    assertNumber(skinTone);\n    await this.ready();\n    return set(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE, skinTone);\n  }\n  async incrementFavoriteEmojiCount(unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    return incrementFavoriteEmojiCount(this._db, unicodeOrName);\n  }\n  async getTopFavoriteEmoji(limit) {\n    assertNumber(limit);\n    await this.ready();\n    return (await getTopFavoriteEmoji(this._db, this._custom, limit)).map(cleanEmoji);\n  }\n  set customEmoji(customEmojis) {\n    this._custom = customEmojiIndex(customEmojis);\n  }\n  get customEmoji() {\n    return this._custom.all;\n  }\n  async _shutdown() {\n    await this.ready();\n    try {\n      await this._lazyUpdate;\n    } catch (err) {\n    }\n  }\n  _clear() {\n    this._db = this._ready = this._lazyUpdate = void 0;\n  }\n  async close() {\n    await this._shutdown();\n    await closeDatabase(this._dbName);\n  }\n  async delete() {\n    await this._shutdown();\n    await deleteDatabase(this._dbName);\n  }\n}\nfunction noop() {\n}\nfunction run3(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run3);\n}\nfunction is_function(thing) {\n  return typeof thing === \"function\";\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || (a && typeof a === \"object\" || typeof a === \"function\");\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n  if (!src_url_equal_anchor) {\n    src_url_equal_anchor = document.createElement(\"a\");\n  }\n  src_url_equal_anchor.href = url;\n  return element_src === src_url_equal_anchor.href;\n}\nfunction is_empty(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction action_destroyer(action_result) {\n  return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction append(target, node) {\n  target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n  target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n  node.parentNode.removeChild(node);\n}\nfunction element(name) {\n  return document.createElement(name);\n}\nfunction text(data) {\n  return document.createTextNode(data);\n}\nfunction listen(node, event, handler, options2) {\n  node.addEventListener(event, handler, options2);\n  return () => node.removeEventListener(event, handler, options2);\n}\nfunction attr(node, attribute, value) {\n  if (value == null)\n    node.removeAttribute(attribute);\n  else if (node.getAttribute(attribute) !== value)\n    node.setAttribute(attribute, value);\n}\nfunction set_data(text2, data) {\n  data = \"\" + data;\n  if (text2.wholeText !== data)\n    text2.data = data;\n}\nfunction set_input_value(input, value) {\n  input.value = value == null ? \"\" : value;\n}\nfunction set_style(node, key, value, important) {\n  if (value === null) {\n    node.style.removeProperty(key);\n  } else {\n    node.style.setProperty(key, value, important ? \"important\" : \"\");\n  }\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n  if (!update_scheduled) {\n    update_scheduled = true;\n    resolved_promise.then(flush);\n  }\n}\nfunction tick() {\n  schedule_update();\n  return resolved_promise;\n}\nfunction add_render_callback(fn) {\n  render_callbacks.push(fn);\n}\nconst seen_callbacks = /* @__PURE__ */ new Set();\nlet flushidx = 0;\nfunction flush() {\n  const saved_component = current_component;\n  do {\n    while (flushidx < dirty_components.length) {\n      const component = dirty_components[flushidx];\n      flushidx++;\n      set_current_component(component);\n      update(component.$$);\n    }\n    set_current_component(null);\n    dirty_components.length = 0;\n    flushidx = 0;\n    while (binding_callbacks.length)\n      binding_callbacks.pop()();\n    for (let i = 0; i < render_callbacks.length; i += 1) {\n      const callback = render_callbacks[i];\n      if (!seen_callbacks.has(callback)) {\n        seen_callbacks.add(callback);\n        callback();\n      }\n    }\n    render_callbacks.length = 0;\n  } while (dirty_components.length);\n  while (flush_callbacks.length) {\n    flush_callbacks.pop()();\n  }\n  update_scheduled = false;\n  seen_callbacks.clear();\n  set_current_component(saved_component);\n}\nfunction update($$) {\n  if ($$.fragment !== null) {\n    $$.update();\n    run_all($$.before_update);\n    const dirty = $$.dirty;\n    $$.dirty = [-1];\n    $$.fragment && $$.fragment.p($$.ctx, dirty);\n    $$.after_update.forEach(add_render_callback);\n  }\n}\nconst outroing = /* @__PURE__ */ new Set();\nfunction transition_in(block, local) {\n  if (block && block.i) {\n    outroing.delete(block);\n    block.i(local);\n  }\n}\nconst globals = typeof window !== \"undefined\" ? window : typeof globalThis !== \"undefined\" ? globalThis : global;\nfunction destroy_block(block, lookup) {\n  block.d(1);\n  lookup.delete(block.key);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block2, next2, get_context) {\n  let o = old_blocks.length;\n  let n = list.length;\n  let i = o;\n  const old_indexes = {};\n  while (i--)\n    old_indexes[old_blocks[i].key] = i;\n  const new_blocks = [];\n  const new_lookup = /* @__PURE__ */ new Map();\n  const deltas = /* @__PURE__ */ new Map();\n  i = n;\n  while (i--) {\n    const child_ctx = get_context(ctx, list, i);\n    const key = get_key(child_ctx);\n    let block = lookup.get(key);\n    if (!block) {\n      block = create_each_block2(key, child_ctx);\n      block.c();\n    } else if (dynamic) {\n      block.p(child_ctx, dirty);\n    }\n    new_lookup.set(key, new_blocks[i] = block);\n    if (key in old_indexes)\n      deltas.set(key, Math.abs(i - old_indexes[key]));\n  }\n  const will_move = /* @__PURE__ */ new Set();\n  const did_move = /* @__PURE__ */ new Set();\n  function insert2(block) {\n    transition_in(block, 1);\n    block.m(node, next2);\n    lookup.set(block.key, block);\n    next2 = block.first;\n    n--;\n  }\n  while (o && n) {\n    const new_block = new_blocks[n - 1];\n    const old_block = old_blocks[o - 1];\n    const new_key = new_block.key;\n    const old_key = old_block.key;\n    if (new_block === old_block) {\n      next2 = new_block.first;\n      o--;\n      n--;\n    } else if (!new_lookup.has(old_key)) {\n      destroy(old_block, lookup);\n      o--;\n    } else if (!lookup.has(new_key) || will_move.has(new_key)) {\n      insert2(new_block);\n    } else if (did_move.has(old_key)) {\n      o--;\n    } else if (deltas.get(new_key) > deltas.get(old_key)) {\n      did_move.add(new_key);\n      insert2(new_block);\n    } else {\n      will_move.add(old_key);\n      o--;\n    }\n  }\n  while (o--) {\n    const old_block = old_blocks[o];\n    if (!new_lookup.has(old_block.key))\n      destroy(old_block, lookup);\n  }\n  while (n)\n    insert2(new_blocks[n - 1]);\n  return new_blocks;\n}\nfunction mount_component(component, target, anchor, customElement) {\n  const { fragment, on_mount, on_destroy, after_update } = component.$$;\n  fragment && fragment.m(target, anchor);\n  if (!customElement) {\n    add_render_callback(() => {\n      const new_on_destroy = on_mount.map(run3).filter(is_function);\n      if (on_destroy) {\n        on_destroy.push(...new_on_destroy);\n      } else {\n        run_all(new_on_destroy);\n      }\n      component.$$.on_mount = [];\n    });\n  }\n  after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n  const $$ = component.$$;\n  if ($$.fragment !== null) {\n    run_all($$.on_destroy);\n    $$.fragment && $$.fragment.d(detaching);\n    $$.on_destroy = $$.fragment = null;\n    $$.ctx = [];\n  }\n}\nfunction make_dirty(component, i) {\n  if (component.$$.dirty[0] === -1) {\n    dirty_components.push(component);\n    schedule_update();\n    component.$$.dirty.fill(0);\n  }\n  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n}\nfunction init(component, options2, instance2, create_fragment2, not_equal, props, append_styles, dirty = [-1]) {\n  const parent_component = current_component;\n  set_current_component(component);\n  const $$ = component.$$ = {\n    fragment: null,\n    ctx: null,\n    props,\n    update: noop,\n    not_equal,\n    bound: blank_object(),\n    on_mount: [],\n    on_destroy: [],\n    on_disconnect: [],\n    before_update: [],\n    after_update: [],\n    context: new Map(parent_component ? parent_component.$$.context : []),\n    callbacks: blank_object(),\n    dirty,\n    skip_bound: false,\n    root: options2.target || parent_component.$$.root\n  };\n  append_styles && append_styles($$.root);\n  let ready = false;\n  $$.ctx = instance2 ? instance2(component, options2.props || {}, (i, ret, ...rest) => {\n    const value = rest.length ? rest[0] : ret;\n    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n      if (!$$.skip_bound && $$.bound[i])\n        $$.bound[i](value);\n      if (ready)\n        make_dirty(component, i);\n    }\n    return ret;\n  }) : [];\n  $$.update();\n  ready = true;\n  run_all($$.before_update);\n  $$.fragment = create_fragment2 ? create_fragment2($$.ctx) : false;\n  if (options2.target) {\n    {\n      $$.fragment && $$.fragment.c();\n    }\n    mount_component(component, options2.target, void 0, void 0);\n    flush();\n  }\n  set_current_component(parent_component);\n}\nclass SvelteComponent {\n  $destroy() {\n    destroy_component(this, 1);\n    this.$destroy = noop;\n  }\n  $on(type, callback) {\n    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n    callbacks.push(callback);\n    return () => {\n      const index = callbacks.indexOf(callback);\n      if (index !== -1)\n        callbacks.splice(index, 1);\n    };\n  }\n  $set($$props) {\n    if (this.$$set && !is_empty($$props)) {\n      this.$$.skip_bound = true;\n      this.$$set($$props);\n      this.$$.skip_bound = false;\n    }\n  }\n}\nconst allGroups = [\n  [-1, \"\\u2728\", \"custom\"],\n  [0, \"\\u{1F600}\", \"smileys-emotion\"],\n  [1, \"\\u{1F44B}\", \"people-body\"],\n  [3, \"\\u{1F431}\", \"animals-nature\"],\n  [4, \"\\u{1F34E}\", \"food-drink\"],\n  [5, \"\\u{1F3E0}\\uFE0F\", \"travel-places\"],\n  [6, \"\\u26BD\", \"activities\"],\n  [7, \"\\u{1F4DD}\", \"objects\"],\n  [8, \"\\u26D4\\uFE0F\", \"symbols\"],\n  [9, \"\\u{1F3C1}\", \"flags\"]\n].map(([id, emoji, name]) => ({ id, emoji, name }));\nconst groups = allGroups.slice(1);\nconst customGroup = allGroups[0];\nconst MIN_SEARCH_TEXT_LENGTH = 2;\nconst NUM_SKIN_TONES = 6;\nconst rIC = typeof requestIdleCallback === \"function\" ? requestIdleCallback : setTimeout;\nfunction hasZwj(emoji) {\n  return emoji.unicode.includes(\"\\u200D\");\n}\nconst versionsAndTestEmoji = {\n  \"\\u{1FAE0}\": 14,\n  \"\\u{1F972}\": 13.1,\n  \"\\u{1F97B}\": 12.1,\n  \"\\u{1F970}\": 11,\n  \"\\u{1F929}\": 5,\n  \"\\u{1F471}\\u200D\\u2640\\uFE0F\": 4,\n  \"\\u{1F923}\": 3,\n  \"\\u{1F441}\\uFE0F\\u200D\\u{1F5E8}\\uFE0F\": 2,\n  \"\\u{1F600}\": 1,\n  \"\\u{1F610}\\uFE0F\": 0.7,\n  \"\\u{1F603}\": 0.6\n};\nconst TIMEOUT_BEFORE_LOADING_MESSAGE = 1e3;\nconst DEFAULT_SKIN_TONE_EMOJI = \"\\u{1F590}\\uFE0F\";\nconst DEFAULT_NUM_COLUMNS = 8;\nconst MOST_COMMONLY_USED_EMOJI = [\n  \"\\u{1F60A}\",\n  \"\\u{1F612}\",\n  \"\\u2665\\uFE0F\",\n  \"\\u{1F44D}\\uFE0F\",\n  \"\\u{1F60D}\",\n  \"\\u{1F602}\",\n  \"\\u{1F62D}\",\n  \"\\u263A\\uFE0F\",\n  \"\\u{1F614}\",\n  \"\\u{1F629}\",\n  \"\\u{1F60F}\",\n  \"\\u{1F495}\",\n  \"\\u{1F64C}\",\n  \"\\u{1F618}\"\n];\nconst FONT_FAMILY = '\"Twemoji Mozilla\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\nconst DEFAULT_CATEGORY_SORTING = (a, b) => a < b ? -1 : a > b ? 1 : 0;\nconst getTextFeature = (text2, color) => {\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = canvas.height = 1;\n  const ctx = canvas.getContext(\"2d\");\n  ctx.textBaseline = \"top\";\n  ctx.font = `100px ${FONT_FAMILY}`;\n  ctx.fillStyle = color;\n  ctx.scale(0.01, 0.01);\n  ctx.fillText(text2, 0, 0);\n  return ctx.getImageData(0, 0, 1, 1).data;\n};\nconst compareFeatures = (feature1, feature2) => {\n  const feature1Str = [...feature1].join(\",\");\n  const feature2Str = [...feature2].join(\",\");\n  return feature1Str === feature2Str && !feature1Str.startsWith(\"0,0,0,\");\n};\nfunction testColorEmojiSupported(text2) {\n  const feature1 = getTextFeature(text2, \"#000\");\n  const feature2 = getTextFeature(text2, \"#fff\");\n  return feature1 && feature2 && compareFeatures(feature1, feature2);\n}\nfunction determineEmojiSupportLevel() {\n  const entries = Object.entries(versionsAndTestEmoji);\n  try {\n    for (const [emoji, version2] of entries) {\n      if (testColorEmojiSupported(emoji)) {\n        return version2;\n      }\n    }\n  } catch (e) {\n  } finally {\n  }\n  return entries[0][1];\n}\nconst emojiSupportLevelPromise = new Promise((resolve3) => rIC(() => resolve3(determineEmojiSupportLevel())));\nconst supportedZwjEmojis = /* @__PURE__ */ new Map();\nconst VARIATION_SELECTOR = \"\\uFE0F\";\nconst SKINTONE_MODIFIER = \"\\uD83C\";\nconst ZWJ = \"\\u200D\";\nconst LIGHT_SKIN_TONE = 127995;\nconst LIGHT_SKIN_TONE_MODIFIER = 57339;\nfunction applySkinTone(str, skinTone) {\n  if (skinTone === 0) {\n    return str;\n  }\n  const zwjIndex = str.indexOf(ZWJ);\n  if (zwjIndex !== -1) {\n    return str.substring(0, zwjIndex) + String.fromCodePoint(LIGHT_SKIN_TONE + skinTone - 1) + str.substring(zwjIndex);\n  }\n  if (str.endsWith(VARIATION_SELECTOR)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str + SKINTONE_MODIFIER + String.fromCodePoint(LIGHT_SKIN_TONE_MODIFIER + skinTone - 1);\n}\nfunction halt(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction incrementOrDecrement(decrement, val, arr) {\n  val += decrement ? -1 : 1;\n  if (val < 0) {\n    val = arr.length - 1;\n  } else if (val >= arr.length) {\n    val = 0;\n  }\n  return val;\n}\nfunction uniqBy(arr, func) {\n  const set2 = /* @__PURE__ */ new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set2.has(key)) {\n      set2.add(key);\n      res.push(item);\n    }\n  }\n  return res;\n}\nfunction summarizeEmojisForUI(emojis, emojiSupportLevel) {\n  const toSimpleSkinsMap = (skins) => {\n    const res = {};\n    for (const skin of skins) {\n      if (typeof skin.tone === \"number\" && skin.version <= emojiSupportLevel) {\n        res[skin.tone] = skin.unicode;\n      }\n    }\n    return res;\n  };\n  return emojis.map(({ unicode, skins, shortcodes, url, name, category }) => ({\n    unicode,\n    name,\n    shortcodes,\n    url,\n    category,\n    id: unicode || name,\n    skins: skins && toSimpleSkinsMap(skins),\n    title: (shortcodes || []).join(\", \")\n  }));\n}\nconst rAF = requestAnimationFrame;\nlet resizeObserverSupported = typeof ResizeObserver === \"function\";\nfunction calculateWidth(node, onUpdate) {\n  let resizeObserver;\n  if (resizeObserverSupported) {\n    resizeObserver = new ResizeObserver((entries) => onUpdate(entries[0].contentRect.width));\n    resizeObserver.observe(node);\n  } else {\n    rAF(() => onUpdate(node.getBoundingClientRect().width));\n  }\n  return {\n    destroy() {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  };\n}\nfunction calculateTextWidth(node) {\n  {\n    const range = document.createRange();\n    range.selectNode(node.firstChild);\n    return range.getBoundingClientRect().width;\n  }\n}\nlet baselineEmojiWidth;\nfunction checkZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n  for (const emoji of zwjEmojisToCheck) {\n    const domNode = emojiToDomNode(emoji);\n    const emojiWidth = calculateTextWidth(domNode);\n    if (typeof baselineEmojiWidth === \"undefined\") {\n      baselineEmojiWidth = calculateTextWidth(baselineEmoji);\n    }\n    const supported = emojiWidth / 1.8 < baselineEmojiWidth;\n    supportedZwjEmojis.set(emoji.unicode, supported);\n  }\n}\nfunction uniq(arr) {\n  return uniqBy(arr, (_) => _);\n}\nconst { Map: Map_1 } = globals;\nfunction get_each_context(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[63] = list[i];\n  child_ctx[65] = i;\n  return child_ctx;\n}\nfunction get_each_context_1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[66] = list[i];\n  child_ctx[65] = i;\n  return child_ctx;\n}\nfunction get_each_context_2(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[63] = list[i];\n  child_ctx[65] = i;\n  return child_ctx;\n}\nfunction get_each_context_3(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[69] = list[i];\n  return child_ctx;\n}\nfunction get_each_context_4(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[72] = list[i];\n  child_ctx[65] = i;\n  return child_ctx;\n}\nfunction create_each_block_4(key_1, ctx) {\n  let div;\n  let t_value = ctx[72] + \"\";\n  let t;\n  let div_id_value;\n  let div_class_value;\n  let div_aria_selected_value;\n  let div_title_value;\n  let div_aria_label_value;\n  return {\n    key: key_1,\n    first: null,\n    c() {\n      div = element(\"div\");\n      t = text(t_value);\n      attr(div, \"id\", div_id_value = \"skintone-\" + ctx[65]);\n      attr(div, \"class\", div_class_value = \"emoji hide-focus \" + (ctx[65] === ctx[20] ? \"active\" : \"\"));\n      attr(div, \"aria-selected\", div_aria_selected_value = ctx[65] === ctx[20]);\n      attr(div, \"role\", \"option\");\n      attr(div, \"title\", div_title_value = ctx[0].skinTones[ctx[65]]);\n      attr(div, \"tabindex\", \"-1\");\n      attr(div, \"aria-label\", div_aria_label_value = ctx[0].skinTones[ctx[65]]);\n      this.first = div;\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, t);\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (dirty[0] & 512 && t_value !== (t_value = ctx[72] + \"\"))\n        set_data(t, t_value);\n      if (dirty[0] & 512 && div_id_value !== (div_id_value = \"skintone-\" + ctx[65])) {\n        attr(div, \"id\", div_id_value);\n      }\n      if (dirty[0] & 1049088 && div_class_value !== (div_class_value = \"emoji hide-focus \" + (ctx[65] === ctx[20] ? \"active\" : \"\"))) {\n        attr(div, \"class\", div_class_value);\n      }\n      if (dirty[0] & 1049088 && div_aria_selected_value !== (div_aria_selected_value = ctx[65] === ctx[20])) {\n        attr(div, \"aria-selected\", div_aria_selected_value);\n      }\n      if (dirty[0] & 513 && div_title_value !== (div_title_value = ctx[0].skinTones[ctx[65]])) {\n        attr(div, \"title\", div_title_value);\n      }\n      if (dirty[0] & 513 && div_aria_label_value !== (div_aria_label_value = ctx[0].skinTones[ctx[65]])) {\n        attr(div, \"aria-label\", div_aria_label_value);\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div);\n    }\n  };\n}\nfunction create_each_block_3(key_1, ctx) {\n  let button;\n  let div;\n  let t_value = ctx[69].emoji + \"\";\n  let t;\n  let button_aria_controls_value;\n  let button_aria_label_value;\n  let button_aria_selected_value;\n  let button_title_value;\n  let mounted;\n  let dispose;\n  function click_handler() {\n    return ctx[49](ctx[69]);\n  }\n  return {\n    key: key_1,\n    first: null,\n    c() {\n      button = element(\"button\");\n      div = element(\"div\");\n      t = text(t_value);\n      attr(div, \"class\", \"nav-emoji emoji\");\n      attr(button, \"role\", \"tab\");\n      attr(button, \"class\", \"nav-button\");\n      attr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + ctx[69].id);\n      attr(button, \"aria-label\", button_aria_label_value = ctx[0].categories[ctx[69].name]);\n      attr(button, \"aria-selected\", button_aria_selected_value = !ctx[4] && ctx[13].id === ctx[69].id);\n      attr(button, \"title\", button_title_value = ctx[0].categories[ctx[69].name]);\n      this.first = button;\n    },\n    m(target, anchor) {\n      insert(target, button, anchor);\n      append(button, div);\n      append(div, t);\n      if (!mounted) {\n        dispose = listen(button, \"click\", click_handler);\n        mounted = true;\n      }\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (dirty[0] & 4096 && t_value !== (t_value = ctx[69].emoji + \"\"))\n        set_data(t, t_value);\n      if (dirty[0] & 4096 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + ctx[69].id)) {\n        attr(button, \"aria-controls\", button_aria_controls_value);\n      }\n      if (dirty[0] & 4097 && button_aria_label_value !== (button_aria_label_value = ctx[0].categories[ctx[69].name])) {\n        attr(button, \"aria-label\", button_aria_label_value);\n      }\n      if (dirty[0] & 12304 && button_aria_selected_value !== (button_aria_selected_value = !ctx[4] && ctx[13].id === ctx[69].id)) {\n        attr(button, \"aria-selected\", button_aria_selected_value);\n      }\n      if (dirty[0] & 4097 && button_title_value !== (button_title_value = ctx[0].categories[ctx[69].name])) {\n        attr(button, \"title\", button_title_value);\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(button);\n      mounted = false;\n      dispose();\n    }\n  };\n}\nfunction create_else_block_1(ctx) {\n  let img;\n  let img_src_value;\n  return {\n    c() {\n      img = element(\"img\");\n      attr(img, \"class\", \"custom-emoji\");\n      if (!src_url_equal(img.src, img_src_value = ctx[63].url))\n        attr(img, \"src\", img_src_value);\n      attr(img, \"alt\", \"\");\n      attr(img, \"loading\", \"lazy\");\n    },\n    m(target, anchor) {\n      insert(target, img, anchor);\n    },\n    p(ctx2, dirty) {\n      if (dirty[0] & 32768 && !src_url_equal(img.src, img_src_value = ctx2[63].url)) {\n        attr(img, \"src\", img_src_value);\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(img);\n    }\n  };\n}\nfunction create_if_block_1(ctx) {\n  let t_value = ctx[27](ctx[63], ctx[8]) + \"\";\n  let t;\n  return {\n    c() {\n      t = text(t_value);\n    },\n    m(target, anchor) {\n      insert(target, t, anchor);\n    },\n    p(ctx2, dirty) {\n      if (dirty[0] & 33024 && t_value !== (t_value = ctx2[27](ctx2[63], ctx2[8]) + \"\"))\n        set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(t);\n    }\n  };\n}\nfunction create_each_block_2(key_1, ctx) {\n  let button;\n  let button_role_value;\n  let button_aria_selected_value;\n  let button_aria_label_value;\n  let button_title_value;\n  let button_class_value;\n  let button_id_value;\n  function select_block_type(ctx2, dirty) {\n    if (ctx2[63].unicode)\n      return create_if_block_1;\n    return create_else_block_1;\n  }\n  let current_block_type = select_block_type(ctx);\n  let if_block = current_block_type(ctx);\n  return {\n    key: key_1,\n    first: null,\n    c() {\n      button = element(\"button\");\n      if_block.c();\n      attr(button, \"role\", button_role_value = ctx[4] ? \"option\" : \"menuitem\");\n      attr(button, \"aria-selected\", button_aria_selected_value = ctx[4] ? ctx[65] == ctx[5] : \"\");\n      attr(button, \"aria-label\", button_aria_label_value = ctx[28](ctx[63], ctx[8]));\n      attr(button, \"title\", button_title_value = ctx[63].title);\n      attr(button, \"class\", button_class_value = \"emoji \" + (ctx[4] && ctx[65] === ctx[5] ? \"active\" : \"\"));\n      attr(button, \"id\", button_id_value = \"emo-\" + ctx[63].id);\n      this.first = button;\n    },\n    m(target, anchor) {\n      insert(target, button, anchor);\n      if_block.m(button, null);\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n        if_block.p(ctx, dirty);\n      } else {\n        if_block.d(1);\n        if_block = current_block_type(ctx);\n        if (if_block) {\n          if_block.c();\n          if_block.m(button, null);\n        }\n      }\n      if (dirty[0] & 16 && button_role_value !== (button_role_value = ctx[4] ? \"option\" : \"menuitem\")) {\n        attr(button, \"role\", button_role_value);\n      }\n      if (dirty[0] & 32816 && button_aria_selected_value !== (button_aria_selected_value = ctx[4] ? ctx[65] == ctx[5] : \"\")) {\n        attr(button, \"aria-selected\", button_aria_selected_value);\n      }\n      if (dirty[0] & 33024 && button_aria_label_value !== (button_aria_label_value = ctx[28](ctx[63], ctx[8]))) {\n        attr(button, \"aria-label\", button_aria_label_value);\n      }\n      if (dirty[0] & 32768 && button_title_value !== (button_title_value = ctx[63].title)) {\n        attr(button, \"title\", button_title_value);\n      }\n      if (dirty[0] & 32816 && button_class_value !== (button_class_value = \"emoji \" + (ctx[4] && ctx[65] === ctx[5] ? \"active\" : \"\"))) {\n        attr(button, \"class\", button_class_value);\n      }\n      if (dirty[0] & 32768 && button_id_value !== (button_id_value = \"emo-\" + ctx[63].id)) {\n        attr(button, \"id\", button_id_value);\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(button);\n      if_block.d();\n    }\n  };\n}\nfunction create_each_block_1(key_1, ctx) {\n  let div0;\n  let t_value = (ctx[4] ? ctx[0].searchResultsLabel : ctx[66].category ? ctx[66].category : ctx[15].length > 1 ? ctx[0].categories.custom : ctx[0].categories[ctx[13].name]) + \"\";\n  let t;\n  let div0_id_value;\n  let div0_class_value;\n  let div1;\n  let each_blocks = [];\n  let each_1_lookup = new Map_1();\n  let div1_role_value;\n  let div1_aria_labelledby_value;\n  let div1_id_value;\n  let each_value_2 = ctx[66].emojis;\n  const get_key = (ctx2) => ctx2[63].id;\n  for (let i = 0; i < each_value_2.length; i += 1) {\n    let child_ctx = get_each_context_2(ctx, each_value_2, i);\n    let key = get_key(child_ctx);\n    each_1_lookup.set(key, each_blocks[i] = create_each_block_2(key, child_ctx));\n  }\n  return {\n    key: key_1,\n    first: null,\n    c() {\n      div0 = element(\"div\");\n      t = text(t_value);\n      div1 = element(\"div\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div0, \"id\", div0_id_value = \"menu-label-\" + ctx[65]);\n      attr(div0, \"class\", div0_class_value = \"category \" + (ctx[15].length === 1 && ctx[15][0].category === \"\" ? \"gone\" : \"\"));\n      attr(div0, \"aria-hidden\", \"true\");\n      attr(div1, \"class\", \"emoji-menu\");\n      attr(div1, \"role\", div1_role_value = ctx[4] ? \"listbox\" : \"menu\");\n      attr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + ctx[65]);\n      attr(div1, \"id\", div1_id_value = ctx[4] ? \"search-results\" : \"\");\n      this.first = div0;\n    },\n    m(target, anchor) {\n      insert(target, div0, anchor);\n      append(div0, t);\n      insert(target, div1, anchor);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].m(div1, null);\n      }\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (dirty[0] & 40977 && t_value !== (t_value = (ctx[4] ? ctx[0].searchResultsLabel : ctx[66].category ? ctx[66].category : ctx[15].length > 1 ? ctx[0].categories.custom : ctx[0].categories[ctx[13].name]) + \"\"))\n        set_data(t, t_value);\n      if (dirty[0] & 32768 && div0_id_value !== (div0_id_value = \"menu-label-\" + ctx[65])) {\n        attr(div0, \"id\", div0_id_value);\n      }\n      if (dirty[0] & 32768 && div0_class_value !== (div0_class_value = \"category \" + (ctx[15].length === 1 && ctx[15][0].category === \"\" ? \"gone\" : \"\"))) {\n        attr(div0, \"class\", div0_class_value);\n      }\n      if (dirty[0] & 402686256) {\n        each_value_2 = ctx[66].emojis;\n        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, destroy_block, create_each_block_2, null, get_each_context_2);\n      }\n      if (dirty[0] & 16 && div1_role_value !== (div1_role_value = ctx[4] ? \"listbox\" : \"menu\")) {\n        attr(div1, \"role\", div1_role_value);\n      }\n      if (dirty[0] & 32768 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + ctx[65])) {\n        attr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n      }\n      if (dirty[0] & 16 && div1_id_value !== (div1_id_value = ctx[4] ? \"search-results\" : \"\")) {\n        attr(div1, \"id\", div1_id_value);\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div0);\n      if (detaching)\n        detach(div1);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].d();\n      }\n    }\n  };\n}\nfunction create_else_block(ctx) {\n  let img;\n  let img_src_value;\n  return {\n    c() {\n      img = element(\"img\");\n      attr(img, \"class\", \"custom-emoji\");\n      if (!src_url_equal(img.src, img_src_value = ctx[63].url))\n        attr(img, \"src\", img_src_value);\n      attr(img, \"alt\", \"\");\n      attr(img, \"loading\", \"lazy\");\n    },\n    m(target, anchor) {\n      insert(target, img, anchor);\n    },\n    p(ctx2, dirty) {\n      if (dirty[0] & 1024 && !src_url_equal(img.src, img_src_value = ctx2[63].url)) {\n        attr(img, \"src\", img_src_value);\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(img);\n    }\n  };\n}\nfunction create_if_block(ctx) {\n  let t_value = ctx[27](ctx[63], ctx[8]) + \"\";\n  let t;\n  return {\n    c() {\n      t = text(t_value);\n    },\n    m(target, anchor) {\n      insert(target, t, anchor);\n    },\n    p(ctx2, dirty) {\n      if (dirty[0] & 1280 && t_value !== (t_value = ctx2[27](ctx2[63], ctx2[8]) + \"\"))\n        set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(t);\n    }\n  };\n}\nfunction create_each_block(key_1, ctx) {\n  let button;\n  let button_aria_label_value;\n  let button_title_value;\n  let button_id_value;\n  function select_block_type_1(ctx2, dirty) {\n    if (ctx2[63].unicode)\n      return create_if_block;\n    return create_else_block;\n  }\n  let current_block_type = select_block_type_1(ctx);\n  let if_block = current_block_type(ctx);\n  return {\n    key: key_1,\n    first: null,\n    c() {\n      button = element(\"button\");\n      if_block.c();\n      attr(button, \"role\", \"menuitem\");\n      attr(button, \"aria-label\", button_aria_label_value = ctx[28](ctx[63], ctx[8]));\n      attr(button, \"title\", button_title_value = ctx[63].title);\n      attr(button, \"class\", \"emoji\");\n      attr(button, \"id\", button_id_value = \"fav-\" + ctx[63].id);\n      this.first = button;\n    },\n    m(target, anchor) {\n      insert(target, button, anchor);\n      if_block.m(button, null);\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) {\n        if_block.p(ctx, dirty);\n      } else {\n        if_block.d(1);\n        if_block = current_block_type(ctx);\n        if (if_block) {\n          if_block.c();\n          if_block.m(button, null);\n        }\n      }\n      if (dirty[0] & 1280 && button_aria_label_value !== (button_aria_label_value = ctx[28](ctx[63], ctx[8]))) {\n        attr(button, \"aria-label\", button_aria_label_value);\n      }\n      if (dirty[0] & 1024 && button_title_value !== (button_title_value = ctx[63].title)) {\n        attr(button, \"title\", button_title_value);\n      }\n      if (dirty[0] & 1024 && button_id_value !== (button_id_value = \"fav-\" + ctx[63].id)) {\n        attr(button, \"id\", button_id_value);\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(button);\n      if_block.d();\n    }\n  };\n}\nfunction create_fragment(ctx) {\n  let section;\n  let div0;\n  let div4;\n  let div1;\n  let input;\n  let input_placeholder_value;\n  let input_aria_expanded_value;\n  let input_aria_activedescendant_value;\n  let label;\n  let t0_value = ctx[0].searchLabel + \"\";\n  let t0;\n  let span0;\n  let t1_value = ctx[0].searchDescription + \"\";\n  let t1;\n  let div2;\n  let button0;\n  let t2;\n  let button0_class_value;\n  let div2_class_value;\n  let span1;\n  let t3_value = ctx[0].skinToneDescription + \"\";\n  let t3;\n  let div3;\n  let each_blocks_3 = [];\n  let each0_lookup = new Map_1();\n  let div3_class_value;\n  let div3_aria_label_value;\n  let div3_aria_activedescendant_value;\n  let div3_aria_hidden_value;\n  let div5;\n  let each_blocks_2 = [];\n  let each1_lookup = new Map_1();\n  let div5_aria_label_value;\n  let div7;\n  let div6;\n  let div8;\n  let t4;\n  let div8_class_value;\n  let div10;\n  let div9;\n  let each_blocks_1 = [];\n  let each2_lookup = new Map_1();\n  let div10_class_value;\n  let div10_role_value;\n  let div10_aria_label_value;\n  let div10_id_value;\n  let div11;\n  let each_blocks = [];\n  let each3_lookup = new Map_1();\n  let div11_class_value;\n  let div11_aria_label_value;\n  let button1;\n  let section_aria_label_value;\n  let mounted;\n  let dispose;\n  let each_value_4 = ctx[9];\n  const get_key = (ctx2) => ctx2[72];\n  for (let i = 0; i < each_value_4.length; i += 1) {\n    let child_ctx = get_each_context_4(ctx, each_value_4, i);\n    let key = get_key(child_ctx);\n    each0_lookup.set(key, each_blocks_3[i] = create_each_block_4(key, child_ctx));\n  }\n  let each_value_3 = ctx[12];\n  const get_key_1 = (ctx2) => ctx2[69].id;\n  for (let i = 0; i < each_value_3.length; i += 1) {\n    let child_ctx = get_each_context_3(ctx, each_value_3, i);\n    let key = get_key_1(child_ctx);\n    each1_lookup.set(key, each_blocks_2[i] = create_each_block_3(key, child_ctx));\n  }\n  let each_value_1 = ctx[15];\n  const get_key_2 = (ctx2) => ctx2[66].category;\n  for (let i = 0; i < each_value_1.length; i += 1) {\n    let child_ctx = get_each_context_1(ctx, each_value_1, i);\n    let key = get_key_2(child_ctx);\n    each2_lookup.set(key, each_blocks_1[i] = create_each_block_1(key, child_ctx));\n  }\n  let each_value = ctx[10];\n  const get_key_3 = (ctx2) => ctx2[63].id;\n  for (let i = 0; i < each_value.length; i += 1) {\n    let child_ctx = get_each_context(ctx, each_value, i);\n    let key = get_key_3(child_ctx);\n    each3_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));\n  }\n  return {\n    c() {\n      section = element(\"section\");\n      div0 = element(\"div\");\n      div4 = element(\"div\");\n      div1 = element(\"div\");\n      input = element(\"input\");\n      label = element(\"label\");\n      t0 = text(t0_value);\n      span0 = element(\"span\");\n      t1 = text(t1_value);\n      div2 = element(\"div\");\n      button0 = element(\"button\");\n      t2 = text(ctx[21]);\n      span1 = element(\"span\");\n      t3 = text(t3_value);\n      div3 = element(\"div\");\n      for (let i = 0; i < each_blocks_3.length; i += 1) {\n        each_blocks_3[i].c();\n      }\n      div5 = element(\"div\");\n      for (let i = 0; i < each_blocks_2.length; i += 1) {\n        each_blocks_2[i].c();\n      }\n      div7 = element(\"div\");\n      div6 = element(\"div\");\n      div8 = element(\"div\");\n      t4 = text(ctx[18]);\n      div10 = element(\"div\");\n      div9 = element(\"div\");\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        each_blocks_1[i].c();\n      }\n      div11 = element(\"div\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      button1 = element(\"button\");\n      button1.textContent = \"\\u{1F600}\";\n      attr(div0, \"class\", \"pad-top\");\n      attr(input, \"id\", \"search\");\n      attr(input, \"class\", \"search\");\n      attr(input, \"type\", \"search\");\n      attr(input, \"role\", \"combobox\");\n      attr(input, \"enterkeyhint\", \"search\");\n      attr(input, \"placeholder\", input_placeholder_value = ctx[0].searchLabel);\n      attr(input, \"autocapitalize\", \"none\");\n      attr(input, \"autocomplete\", \"off\");\n      attr(input, \"spellcheck\", \"true\");\n      attr(input, \"aria-expanded\", input_aria_expanded_value = !!(ctx[4] && ctx[1].length));\n      attr(input, \"aria-controls\", \"search-results\");\n      attr(input, \"aria-describedby\", \"search-description\");\n      attr(input, \"aria-autocomplete\", \"list\");\n      attr(input, \"aria-activedescendant\", input_aria_activedescendant_value = ctx[26] ? `emo-${ctx[26]}` : \"\");\n      attr(label, \"class\", \"sr-only\");\n      attr(label, \"for\", \"search\");\n      attr(span0, \"id\", \"search-description\");\n      attr(span0, \"class\", \"sr-only\");\n      attr(div1, \"class\", \"search-wrapper\");\n      attr(button0, \"id\", \"skintone-button\");\n      attr(button0, \"class\", button0_class_value = \"emoji \" + (ctx[6] ? \"hide-focus\" : \"\"));\n      attr(button0, \"aria-label\", ctx[23]);\n      attr(button0, \"title\", ctx[23]);\n      attr(button0, \"aria-describedby\", \"skintone-description\");\n      attr(button0, \"aria-haspopup\", \"listbox\");\n      attr(button0, \"aria-expanded\", ctx[6]);\n      attr(button0, \"aria-controls\", \"skintone-list\");\n      attr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + (ctx[19] ? \"expanded\" : \"\"));\n      attr(span1, \"id\", \"skintone-description\");\n      attr(span1, \"class\", \"sr-only\");\n      attr(div3, \"id\", \"skintone-list\");\n      attr(div3, \"class\", div3_class_value = \"skintone-list \" + (ctx[6] ? \"\" : \"hidden no-animate\"));\n      set_style(div3, \"transform\", \"translateY(\" + (ctx[6] ? 0 : \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n      attr(div3, \"role\", \"listbox\");\n      attr(div3, \"aria-label\", div3_aria_label_value = ctx[0].skinTonesLabel);\n      attr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + ctx[20]);\n      attr(div3, \"aria-hidden\", div3_aria_hidden_value = !ctx[6]);\n      attr(div4, \"class\", \"search-row\");\n      attr(div5, \"class\", \"nav\");\n      attr(div5, \"role\", \"tablist\");\n      set_style(div5, \"grid-template-columns\", \"repeat(\" + ctx[12].length + \", 1fr)\");\n      attr(div5, \"aria-label\", div5_aria_label_value = ctx[0].categoriesLabel);\n      attr(div6, \"class\", \"indicator\");\n      set_style(div6, \"transform\", \"translateX(\" + (ctx[24] ? -1 : 1) * ctx[11] * 100 + \"%)\");\n      attr(div7, \"class\", \"indicator-wrapper\");\n      attr(div8, \"class\", div8_class_value = \"message \" + (ctx[18] ? \"\" : \"gone\"));\n      attr(div8, \"role\", \"alert\");\n      attr(div8, \"aria-live\", \"polite\");\n      attr(div10, \"class\", div10_class_value = \"tabpanel \" + (!ctx[14] || ctx[18] ? \"gone\" : \"\"));\n      attr(div10, \"role\", div10_role_value = ctx[4] ? \"region\" : \"tabpanel\");\n      attr(div10, \"aria-label\", div10_aria_label_value = ctx[4] ? ctx[0].searchResultsLabel : ctx[0].categories[ctx[13].name]);\n      attr(div10, \"id\", div10_id_value = ctx[4] ? \"\" : `tab-${ctx[13].id}`);\n      attr(div10, \"tabindex\", \"0\");\n      attr(div11, \"class\", div11_class_value = \"favorites emoji-menu \" + (ctx[18] ? \"gone\" : \"\"));\n      attr(div11, \"role\", \"menu\");\n      attr(div11, \"aria-label\", div11_aria_label_value = ctx[0].favoritesLabel);\n      set_style(div11, \"padding-inline-end\", ctx[25] + \"px\");\n      attr(button1, \"aria-hidden\", \"true\");\n      attr(button1, \"tabindex\", \"-1\");\n      attr(button1, \"class\", \"abs-pos hidden emoji\");\n      attr(section, \"class\", \"picker\");\n      attr(section, \"aria-label\", section_aria_label_value = ctx[0].regionLabel);\n      attr(section, \"style\", ctx[22]);\n    },\n    m(target, anchor) {\n      insert(target, section, anchor);\n      append(section, div0);\n      append(section, div4);\n      append(div4, div1);\n      append(div1, input);\n      set_input_value(input, ctx[2]);\n      append(div1, label);\n      append(label, t0);\n      append(div1, span0);\n      append(span0, t1);\n      append(div4, div2);\n      append(div2, button0);\n      append(button0, t2);\n      append(div4, span1);\n      append(span1, t3);\n      append(div4, div3);\n      for (let i = 0; i < each_blocks_3.length; i += 1) {\n        each_blocks_3[i].m(div3, null);\n      }\n      ctx[48](div3);\n      append(section, div5);\n      for (let i = 0; i < each_blocks_2.length; i += 1) {\n        each_blocks_2[i].m(div5, null);\n      }\n      append(section, div7);\n      append(div7, div6);\n      append(section, div8);\n      append(div8, t4);\n      append(section, div10);\n      append(div10, div9);\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        each_blocks_1[i].m(div9, null);\n      }\n      ctx[50](div10);\n      append(section, div11);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].m(div11, null);\n      }\n      append(section, button1);\n      ctx[51](button1);\n      ctx[52](section);\n      if (!mounted) {\n        dispose = [\n          listen(input, \"input\", ctx[47]),\n          listen(input, \"keydown\", ctx[30]),\n          listen(button0, \"click\", ctx[35]),\n          listen(div3, \"focusout\", ctx[38]),\n          listen(div3, \"click\", ctx[34]),\n          listen(div3, \"keydown\", ctx[36]),\n          listen(div3, \"keyup\", ctx[37]),\n          listen(div5, \"keydown\", ctx[32]),\n          action_destroyer(ctx[29].call(null, div9)),\n          listen(div10, \"click\", ctx[33]),\n          listen(div11, \"click\", ctx[33])\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      if (dirty[0] & 1 && input_placeholder_value !== (input_placeholder_value = ctx2[0].searchLabel)) {\n        attr(input, \"placeholder\", input_placeholder_value);\n      }\n      if (dirty[0] & 18 && input_aria_expanded_value !== (input_aria_expanded_value = !!(ctx2[4] && ctx2[1].length))) {\n        attr(input, \"aria-expanded\", input_aria_expanded_value);\n      }\n      if (dirty[0] & 67108864 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = ctx2[26] ? `emo-${ctx2[26]}` : \"\")) {\n        attr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n      }\n      if (dirty[0] & 4) {\n        set_input_value(input, ctx2[2]);\n      }\n      if (dirty[0] & 1 && t0_value !== (t0_value = ctx2[0].searchLabel + \"\"))\n        set_data(t0, t0_value);\n      if (dirty[0] & 1 && t1_value !== (t1_value = ctx2[0].searchDescription + \"\"))\n        set_data(t1, t1_value);\n      if (dirty[0] & 2097152)\n        set_data(t2, ctx2[21]);\n      if (dirty[0] & 64 && button0_class_value !== (button0_class_value = \"emoji \" + (ctx2[6] ? \"hide-focus\" : \"\"))) {\n        attr(button0, \"class\", button0_class_value);\n      }\n      if (dirty[0] & 8388608) {\n        attr(button0, \"aria-label\", ctx2[23]);\n      }\n      if (dirty[0] & 8388608) {\n        attr(button0, \"title\", ctx2[23]);\n      }\n      if (dirty[0] & 64) {\n        attr(button0, \"aria-expanded\", ctx2[6]);\n      }\n      if (dirty[0] & 524288 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + (ctx2[19] ? \"expanded\" : \"\"))) {\n        attr(div2, \"class\", div2_class_value);\n      }\n      if (dirty[0] & 1 && t3_value !== (t3_value = ctx2[0].skinToneDescription + \"\"))\n        set_data(t3, t3_value);\n      if (dirty[0] & 1049089) {\n        each_value_4 = ctx2[9];\n        each_blocks_3 = update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx2, each_value_4, each0_lookup, div3, destroy_block, create_each_block_4, null, get_each_context_4);\n      }\n      if (dirty[0] & 64 && div3_class_value !== (div3_class_value = \"skintone-list \" + (ctx2[6] ? \"\" : \"hidden no-animate\"))) {\n        attr(div3, \"class\", div3_class_value);\n      }\n      if (dirty[0] & 64) {\n        set_style(div3, \"transform\", \"translateY(\" + (ctx2[6] ? 0 : \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n      }\n      if (dirty[0] & 1 && div3_aria_label_value !== (div3_aria_label_value = ctx2[0].skinTonesLabel)) {\n        attr(div3, \"aria-label\", div3_aria_label_value);\n      }\n      if (dirty[0] & 1048576 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + ctx2[20])) {\n        attr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n      }\n      if (dirty[0] & 64 && div3_aria_hidden_value !== (div3_aria_hidden_value = !ctx2[6])) {\n        attr(div3, \"aria-hidden\", div3_aria_hidden_value);\n      }\n      if (dirty[0] & 12305 | dirty[1] & 1) {\n        each_value_3 = ctx2[12];\n        each_blocks_2 = update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx2, each_value_3, each1_lookup, div5, destroy_block, create_each_block_3, null, get_each_context_3);\n      }\n      if (dirty[0] & 4096) {\n        set_style(div5, \"grid-template-columns\", \"repeat(\" + ctx2[12].length + \", 1fr)\");\n      }\n      if (dirty[0] & 1 && div5_aria_label_value !== (div5_aria_label_value = ctx2[0].categoriesLabel)) {\n        attr(div5, \"aria-label\", div5_aria_label_value);\n      }\n      if (dirty[0] & 16779264) {\n        set_style(div6, \"transform\", \"translateX(\" + (ctx2[24] ? -1 : 1) * ctx2[11] * 100 + \"%)\");\n      }\n      if (dirty[0] & 262144)\n        set_data(t4, ctx2[18]);\n      if (dirty[0] & 262144 && div8_class_value !== (div8_class_value = \"message \" + (ctx2[18] ? \"\" : \"gone\"))) {\n        attr(div8, \"class\", div8_class_value);\n      }\n      if (dirty[0] & 402694449) {\n        each_value_1 = ctx2[15];\n        each_blocks_1 = update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx2, each_value_1, each2_lookup, div9, destroy_block, create_each_block_1, null, get_each_context_1);\n      }\n      if (dirty[0] & 278528 && div10_class_value !== (div10_class_value = \"tabpanel \" + (!ctx2[14] || ctx2[18] ? \"gone\" : \"\"))) {\n        attr(div10, \"class\", div10_class_value);\n      }\n      if (dirty[0] & 16 && div10_role_value !== (div10_role_value = ctx2[4] ? \"region\" : \"tabpanel\")) {\n        attr(div10, \"role\", div10_role_value);\n      }\n      if (dirty[0] & 8209 && div10_aria_label_value !== (div10_aria_label_value = ctx2[4] ? ctx2[0].searchResultsLabel : ctx2[0].categories[ctx2[13].name])) {\n        attr(div10, \"aria-label\", div10_aria_label_value);\n      }\n      if (dirty[0] & 8208 && div10_id_value !== (div10_id_value = ctx2[4] ? \"\" : `tab-${ctx2[13].id}`)) {\n        attr(div10, \"id\", div10_id_value);\n      }\n      if (dirty[0] & 402654464) {\n        each_value = ctx2[10];\n        each_blocks = update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx2, each_value, each3_lookup, div11, destroy_block, create_each_block, null, get_each_context);\n      }\n      if (dirty[0] & 262144 && div11_class_value !== (div11_class_value = \"favorites emoji-menu \" + (ctx2[18] ? \"gone\" : \"\"))) {\n        attr(div11, \"class\", div11_class_value);\n      }\n      if (dirty[0] & 1 && div11_aria_label_value !== (div11_aria_label_value = ctx2[0].favoritesLabel)) {\n        attr(div11, \"aria-label\", div11_aria_label_value);\n      }\n      if (dirty[0] & 33554432) {\n        set_style(div11, \"padding-inline-end\", ctx2[25] + \"px\");\n      }\n      if (dirty[0] & 1 && section_aria_label_value !== (section_aria_label_value = ctx2[0].regionLabel)) {\n        attr(section, \"aria-label\", section_aria_label_value);\n      }\n      if (dirty[0] & 4194304) {\n        attr(section, \"style\", ctx2[22]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(section);\n      for (let i = 0; i < each_blocks_3.length; i += 1) {\n        each_blocks_3[i].d();\n      }\n      ctx[48](null);\n      for (let i = 0; i < each_blocks_2.length; i += 1) {\n        each_blocks_2[i].d();\n      }\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        each_blocks_1[i].d();\n      }\n      ctx[50](null);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].d();\n      }\n      ctx[51](null);\n      ctx[52](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance($$self, $$props, $$invalidate) {\n  let { skinToneEmoji } = $$props;\n  let { i18n } = $$props;\n  let { database } = $$props;\n  let { customEmoji } = $$props;\n  let { customCategorySorting } = $$props;\n  let initialLoad = true;\n  let currentEmojis = [];\n  let currentEmojisWithCategories = [];\n  let rawSearchText = \"\";\n  let searchText = \"\";\n  let rootElement;\n  let baselineEmoji;\n  let tabpanelElement;\n  let searchMode = false;\n  let activeSearchItem = -1;\n  let message;\n  let skinTonePickerExpanded = false;\n  let skinTonePickerExpandedAfterAnimation = false;\n  let skinToneDropdown;\n  let currentSkinTone = 0;\n  let activeSkinTone = 0;\n  let skinToneButtonText;\n  let pickerStyle;\n  let skinToneButtonLabel = \"\";\n  let skinTones = [];\n  let currentFavorites = [];\n  let defaultFavoriteEmojis;\n  let numColumns = DEFAULT_NUM_COLUMNS;\n  let isRtl = false;\n  let scrollbarWidth = 0;\n  let currentGroupIndex = 0;\n  let groups$1 = groups;\n  let currentGroup;\n  let databaseLoaded = false;\n  let activeSearchItemId;\n  const focus = (id) => {\n    rootElement.getRootNode().getElementById(id).focus();\n  };\n  const fireEvent = (name, detail) => {\n    rootElement.dispatchEvent(new CustomEvent(name, { detail, bubbles: true, composed: true }));\n  };\n  const unicodeWithSkin = (emoji, currentSkinTone2) => currentSkinTone2 && emoji.skins && emoji.skins[currentSkinTone2] || emoji.unicode;\n  const labelWithSkin = (emoji, currentSkinTone2) => uniq([\n    emoji.name || unicodeWithSkin(emoji, currentSkinTone2),\n    ...emoji.shortcodes || []\n  ]).join(\", \");\n  const isSkinToneOption = (element2) => /^skintone-/.test(element2.id);\n  emojiSupportLevelPromise.then((level) => {\n    if (!level) {\n      $$invalidate(18, message = i18n.emojiUnsupportedMessage);\n    }\n  });\n  function calculateEmojiGridStyle(node) {\n    return calculateWidth(node, (width) => {\n      {\n        const style = getComputedStyle(rootElement);\n        const newNumColumns = parseInt(style.getPropertyValue(\"--num-columns\"), 10);\n        const newIsRtl = style.getPropertyValue(\"direction\") === \"rtl\";\n        const parentWidth = node.parentElement.getBoundingClientRect().width;\n        const newScrollbarWidth = parentWidth - width;\n        $$invalidate(46, numColumns = newNumColumns);\n        $$invalidate(25, scrollbarWidth = newScrollbarWidth);\n        $$invalidate(24, isRtl = newIsRtl);\n      }\n    });\n  }\n  function checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n    const rootNode = rootElement.getRootNode();\n    const emojiToDomNode = (emoji) => rootNode.getElementById(`emo-${emoji.id}`);\n    checkZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n    $$invalidate(1, currentEmojis = currentEmojis);\n  }\n  function isZwjSupported(emoji) {\n    return !emoji.unicode || !hasZwj(emoji) || supportedZwjEmojis.get(emoji.unicode);\n  }\n  async function filterEmojisByVersion(emojis) {\n    const emojiSupportLevel = await emojiSupportLevelPromise;\n    return emojis.filter(({ version: version2 }) => !version2 || version2 <= emojiSupportLevel);\n  }\n  async function summarizeEmojis(emojis) {\n    return summarizeEmojisForUI(emojis, await emojiSupportLevelPromise);\n  }\n  async function getEmojisByGroup(group) {\n    if (typeof group === \"undefined\") {\n      return [];\n    }\n    const emoji = group === -1 ? customEmoji : await database.getEmojiByGroup(group);\n    return summarizeEmojis(await filterEmojisByVersion(emoji));\n  }\n  async function getEmojisBySearchQuery(query) {\n    return summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n  }\n  function onSearchKeydown(event) {\n    if (!searchMode || !currentEmojis.length) {\n      return;\n    }\n    const goToNextOrPrevious = (previous) => {\n      halt(event);\n      $$invalidate(5, activeSearchItem = incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n    };\n    switch (event.key) {\n      case \"ArrowDown\":\n        return goToNextOrPrevious(false);\n      case \"ArrowUp\":\n        return goToNextOrPrevious(true);\n      case \"Enter\":\n        if (activeSearchItem !== -1) {\n          halt(event);\n          return clickEmoji(currentEmojis[activeSearchItem].id);\n        } else if (currentEmojis.length) {\n          $$invalidate(5, activeSearchItem = 0);\n        }\n    }\n  }\n  function onNavClick(group) {\n    $$invalidate(2, rawSearchText = \"\");\n    $$invalidate(44, searchText = \"\");\n    $$invalidate(5, activeSearchItem = -1);\n    $$invalidate(11, currentGroupIndex = groups$1.findIndex((_) => _.id === group.id));\n  }\n  function onNavKeydown(event) {\n    const { target, key } = event;\n    const doFocus = (el) => {\n      if (el) {\n        halt(event);\n        el.focus();\n      }\n    };\n    switch (key) {\n      case \"ArrowLeft\":\n        return doFocus(target.previousSibling);\n      case \"ArrowRight\":\n        return doFocus(target.nextSibling);\n      case \"Home\":\n        return doFocus(target.parentElement.firstChild);\n      case \"End\":\n        return doFocus(target.parentElement.lastChild);\n    }\n  }\n  async function clickEmoji(unicodeOrName) {\n    const emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n    const emojiSummary = [...currentEmojis, ...currentFavorites].find((_) => _.id === unicodeOrName);\n    const skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n    await database.incrementFavoriteEmojiCount(unicodeOrName);\n    fireEvent(\"emoji-click\", {\n      emoji,\n      skinTone: currentSkinTone,\n      ...skinTonedUnicode && { unicode: skinTonedUnicode },\n      ...emojiSummary.name && { name: emojiSummary.name }\n    });\n  }\n  async function onEmojiClick(event) {\n    const { target } = event;\n    if (!target.classList.contains(\"emoji\")) {\n      return;\n    }\n    halt(event);\n    const id = target.id.substring(4);\n    clickEmoji(id);\n  }\n  async function onSkinToneOptionsClick(event) {\n    const { target } = event;\n    if (!isSkinToneOption(target)) {\n      return;\n    }\n    halt(event);\n    const skinTone = parseInt(target.id.slice(9), 10);\n    $$invalidate(8, currentSkinTone = skinTone);\n    $$invalidate(6, skinTonePickerExpanded = false);\n    focus(\"skintone-button\");\n    fireEvent(\"skin-tone-change\", { skinTone });\n    database.setPreferredSkinTone(skinTone);\n  }\n  async function onClickSkinToneButton(event) {\n    $$invalidate(6, skinTonePickerExpanded = !skinTonePickerExpanded);\n    $$invalidate(20, activeSkinTone = currentSkinTone);\n    if (skinTonePickerExpanded) {\n      halt(event);\n      rAF(() => focus(`skintone-${activeSkinTone}`));\n    }\n  }\n  function onSkinToneOptionsKeydown(event) {\n    if (!skinTonePickerExpanded) {\n      return;\n    }\n    const changeActiveSkinTone = async (nextSkinTone) => {\n      halt(event);\n      $$invalidate(20, activeSkinTone = nextSkinTone);\n      await tick();\n      focus(`skintone-${activeSkinTone}`);\n    };\n    switch (event.key) {\n      case \"ArrowUp\":\n        return changeActiveSkinTone(incrementOrDecrement(true, activeSkinTone, skinTones));\n      case \"ArrowDown\":\n        return changeActiveSkinTone(incrementOrDecrement(false, activeSkinTone, skinTones));\n      case \"Home\":\n        return changeActiveSkinTone(0);\n      case \"End\":\n        return changeActiveSkinTone(skinTones.length - 1);\n      case \"Enter\":\n        return onSkinToneOptionsClick(event);\n      case \"Escape\":\n        halt(event);\n        $$invalidate(6, skinTonePickerExpanded = false);\n        return focus(\"skintone-button\");\n    }\n  }\n  function onSkinToneOptionsKeyup(event) {\n    if (!skinTonePickerExpanded) {\n      return;\n    }\n    switch (event.key) {\n      case \" \":\n        return onSkinToneOptionsClick(event);\n    }\n  }\n  async function onSkinToneOptionsFocusOut(event) {\n    const { relatedTarget } = event;\n    if (!relatedTarget || !isSkinToneOption(relatedTarget)) {\n      $$invalidate(6, skinTonePickerExpanded = false);\n    }\n  }\n  function input_input_handler() {\n    rawSearchText = this.value;\n    $$invalidate(2, rawSearchText);\n  }\n  function div3_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      skinToneDropdown = $$value;\n      $$invalidate(7, skinToneDropdown);\n    });\n  }\n  const click_handler = (group) => onNavClick(group);\n  function div10_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      tabpanelElement = $$value;\n      $$invalidate(3, tabpanelElement);\n    });\n  }\n  function button1_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      baselineEmoji = $$value;\n      $$invalidate(17, baselineEmoji);\n    });\n  }\n  function section_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      rootElement = $$value;\n      $$invalidate(16, rootElement);\n    });\n  }\n  $$self.$$set = ($$props2) => {\n    if (\"skinToneEmoji\" in $$props2)\n      $$invalidate(40, skinToneEmoji = $$props2.skinToneEmoji);\n    if (\"i18n\" in $$props2)\n      $$invalidate(0, i18n = $$props2.i18n);\n    if (\"database\" in $$props2)\n      $$invalidate(39, database = $$props2.database);\n    if (\"customEmoji\" in $$props2)\n      $$invalidate(41, customEmoji = $$props2.customEmoji);\n    if (\"customCategorySorting\" in $$props2)\n      $$invalidate(42, customCategorySorting = $$props2.customCategorySorting);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty[1] & 1280) {\n      {\n        if (customEmoji && database) {\n          $$invalidate(39, database.customEmoji = customEmoji, database);\n        }\n      }\n    }\n    if ($$self.$$.dirty[0] & 1 | $$self.$$.dirty[1] & 256) {\n      {\n        async function handleDatabaseLoading() {\n          let showingLoadingMessage = false;\n          const timeoutHandle = setTimeout(\n            () => {\n              showingLoadingMessage = true;\n              $$invalidate(18, message = i18n.loadingMessage);\n            },\n            TIMEOUT_BEFORE_LOADING_MESSAGE\n          );\n          try {\n            await database.ready();\n            $$invalidate(14, databaseLoaded = true);\n          } catch (err) {\n            console.error(err);\n            $$invalidate(18, message = i18n.networkErrorMessage);\n          } finally {\n            clearTimeout(timeoutHandle);\n            if (showingLoadingMessage) {\n              showingLoadingMessage = false;\n              $$invalidate(18, message = \"\");\n            }\n          }\n        }\n        if (database) {\n          handleDatabaseLoading();\n        }\n      }\n    }\n    if ($$self.$$.dirty[0] & 6144 | $$self.$$.dirty[1] & 1024) {\n      {\n        if (customEmoji && customEmoji.length) {\n          $$invalidate(12, groups$1 = [customGroup, ...groups]);\n        } else if (groups$1 !== groups) {\n          if (currentGroupIndex) {\n            $$invalidate(11, currentGroupIndex--, currentGroupIndex);\n          }\n          $$invalidate(12, groups$1 = groups);\n        }\n      }\n    }\n    if ($$self.$$.dirty[0] & 4) {\n      {\n        rIC(() => {\n          $$invalidate(44, searchText = (rawSearchText || \"\").trim());\n          $$invalidate(5, activeSearchItem = -1);\n        });\n      }\n    }\n    if ($$self.$$.dirty[0] & 6144) {\n      $$invalidate(13, currentGroup = groups$1[currentGroupIndex]);\n    }\n    if ($$self.$$.dirty[0] & 24576 | $$self.$$.dirty[1] & 8192) {\n      {\n        async function updateEmojis() {\n          if (!databaseLoaded) {\n            $$invalidate(1, currentEmojis = []);\n            $$invalidate(4, searchMode = false);\n          } else if (searchText.length >= MIN_SEARCH_TEXT_LENGTH) {\n            const currentSearchText = searchText;\n            const newEmojis = await getEmojisBySearchQuery(currentSearchText);\n            if (currentSearchText === searchText) {\n              $$invalidate(1, currentEmojis = newEmojis);\n              $$invalidate(4, searchMode = true);\n            }\n          } else if (currentGroup) {\n            const currentGroupId = currentGroup.id;\n            const newEmojis = await getEmojisByGroup(currentGroupId);\n            if (currentGroupId === currentGroup.id) {\n              $$invalidate(1, currentEmojis = newEmojis);\n              $$invalidate(4, searchMode = false);\n            }\n          }\n        }\n        updateEmojis();\n      }\n    }\n    if ($$self.$$.dirty[0] & 4112) {\n      $$invalidate(22, pickerStyle = `\n  --font-family: ${FONT_FAMILY};\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${NUM_SKIN_TONES};`);\n    }\n    if ($$self.$$.dirty[0] & 16384 | $$self.$$.dirty[1] & 256) {\n      {\n        async function updatePreferredSkinTone() {\n          if (databaseLoaded) {\n            $$invalidate(8, currentSkinTone = await database.getPreferredSkinTone());\n          }\n        }\n        updatePreferredSkinTone();\n      }\n    }\n    if ($$self.$$.dirty[1] & 512) {\n      $$invalidate(9, skinTones = Array(NUM_SKIN_TONES).fill().map((_, i) => applySkinTone(skinToneEmoji, i)));\n    }\n    if ($$self.$$.dirty[0] & 768) {\n      $$invalidate(21, skinToneButtonText = skinTones[currentSkinTone]);\n    }\n    if ($$self.$$.dirty[0] & 257) {\n      $$invalidate(23, skinToneButtonLabel = i18n.skinToneLabel.replace(\"{skinTone}\", i18n.skinTones[currentSkinTone]));\n    }\n    if ($$self.$$.dirty[0] & 16384 | $$self.$$.dirty[1] & 256) {\n      {\n        async function updateDefaultFavoriteEmojis() {\n          $$invalidate(45, defaultFavoriteEmojis = (await Promise.all(MOST_COMMONLY_USED_EMOJI.map((unicode) => database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean));\n        }\n        if (databaseLoaded) {\n          updateDefaultFavoriteEmojis();\n        }\n      }\n    }\n    if ($$self.$$.dirty[0] & 16384 | $$self.$$.dirty[1] & 49408) {\n      {\n        async function updateFavorites() {\n          const dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n          const favorites = await summarizeEmojis(uniqBy([...dbFavorites, ...defaultFavoriteEmojis], (_) => _.unicode || _.name).slice(0, numColumns));\n          $$invalidate(10, currentFavorites = favorites);\n        }\n        if (databaseLoaded && defaultFavoriteEmojis) {\n          updateFavorites();\n        }\n      }\n    }\n    if ($$self.$$.dirty[0] & 10) {\n      {\n        const zwjEmojisToCheck = currentEmojis.filter((emoji) => emoji.unicode).filter((emoji) => hasZwj(emoji) && !supportedZwjEmojis.has(emoji.unicode));\n        if (zwjEmojisToCheck.length) {\n          rAF(() => checkZwjSupportAndUpdate(zwjEmojisToCheck));\n        } else {\n          $$invalidate(1, currentEmojis = currentEmojis.filter(isZwjSupported));\n          rAF(() => {\n            (tabpanelElement || {}).scrollTop = 0;\n          });\n        }\n      }\n    }\n    if ($$self.$$.dirty[0] & 1026 | $$self.$$.dirty[1] & 4096)\n      ;\n    if ($$self.$$.dirty[0] & 18 | $$self.$$.dirty[1] & 2048) {\n      {\n        let calculateCurrentEmojisWithCategories = function() {\n          if (searchMode) {\n            return [{ category: \"\", emojis: currentEmojis }];\n          }\n          const categoriesToEmoji = /* @__PURE__ */ new Map();\n          for (const emoji of currentEmojis) {\n            const category = emoji.category || \"\";\n            let emojis = categoriesToEmoji.get(category);\n            if (!emojis) {\n              emojis = [];\n              categoriesToEmoji.set(category, emojis);\n            }\n            emojis.push(emoji);\n          }\n          return [...categoriesToEmoji.entries()].map(([category, emojis]) => ({ category, emojis })).sort((a, b) => customCategorySorting(a.category, b.category));\n        };\n        $$invalidate(15, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n      }\n    }\n    if ($$self.$$.dirty[0] & 34) {\n      $$invalidate(26, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n    }\n    if ($$self.$$.dirty[0] & 192) {\n      {\n        if (skinTonePickerExpanded) {\n          skinToneDropdown.addEventListener(\n            \"transitionend\",\n            () => {\n              $$invalidate(19, skinTonePickerExpandedAfterAnimation = true);\n            },\n            { once: true }\n          );\n        } else {\n          $$invalidate(19, skinTonePickerExpandedAfterAnimation = false);\n        }\n      }\n    }\n  };\n  return [\n    i18n,\n    currentEmojis,\n    rawSearchText,\n    tabpanelElement,\n    searchMode,\n    activeSearchItem,\n    skinTonePickerExpanded,\n    skinToneDropdown,\n    currentSkinTone,\n    skinTones,\n    currentFavorites,\n    currentGroupIndex,\n    groups$1,\n    currentGroup,\n    databaseLoaded,\n    currentEmojisWithCategories,\n    rootElement,\n    baselineEmoji,\n    message,\n    skinTonePickerExpandedAfterAnimation,\n    activeSkinTone,\n    skinToneButtonText,\n    pickerStyle,\n    skinToneButtonLabel,\n    isRtl,\n    scrollbarWidth,\n    activeSearchItemId,\n    unicodeWithSkin,\n    labelWithSkin,\n    calculateEmojiGridStyle,\n    onSearchKeydown,\n    onNavClick,\n    onNavKeydown,\n    onEmojiClick,\n    onSkinToneOptionsClick,\n    onClickSkinToneButton,\n    onSkinToneOptionsKeydown,\n    onSkinToneOptionsKeyup,\n    onSkinToneOptionsFocusOut,\n    database,\n    skinToneEmoji,\n    customEmoji,\n    customCategorySorting,\n    initialLoad,\n    searchText,\n    defaultFavoriteEmojis,\n    numColumns,\n    input_input_handler,\n    div3_binding,\n    click_handler,\n    div10_binding,\n    button1_binding,\n    section_binding\n  ];\n}\nclass Picker extends SvelteComponent {\n  constructor(options2) {\n    super();\n    init(\n      this,\n      options2,\n      instance,\n      create_fragment,\n      safe_not_equal,\n      {\n        skinToneEmoji: 40,\n        i18n: 0,\n        database: 39,\n        customEmoji: 41,\n        customCategorySorting: 42\n      },\n      null,\n      [-1, -1, -1]\n    );\n  }\n}\nconst DEFAULT_DATA_SOURCE = \"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json\";\nconst DEFAULT_LOCALE = \"en\";\nvar enI18n = {\n  categoriesLabel: \"Categories\",\n  emojiUnsupportedMessage: \"Your browser does not support color emoji.\",\n  favoritesLabel: \"Favorites\",\n  loadingMessage: \"Loading\\u2026\",\n  networkErrorMessage: \"Could not load emoji.\",\n  regionLabel: \"Emoji picker\",\n  searchDescription: \"When search results are available, press up or down to select and enter to choose.\",\n  searchLabel: \"Search\",\n  searchResultsLabel: \"Search results\",\n  skinToneDescription: \"When expanded, press up or down to select and enter to choose.\",\n  skinToneLabel: \"Choose a skin tone (currently {skinTone})\",\n  skinTonesLabel: \"Skin tones\",\n  skinTones: [\n    \"Default\",\n    \"Light\",\n    \"Medium-Light\",\n    \"Medium\",\n    \"Medium-Dark\",\n    \"Dark\"\n  ],\n  categories: {\n    custom: \"Custom\",\n    \"smileys-emotion\": \"Smileys and emoticons\",\n    \"people-body\": \"People and body\",\n    \"animals-nature\": \"Animals and nature\",\n    \"food-drink\": \"Food and drink\",\n    \"travel-places\": \"Travel and places\",\n    activities: \"Activities\",\n    objects: \"Objects\",\n    symbols: \"Symbols\",\n    flags: \"Flags\"\n  }\n};\nconst PROPS = [\n  \"customEmoji\",\n  \"customCategorySorting\",\n  \"database\",\n  \"dataSource\",\n  \"i18n\",\n  \"locale\",\n  \"skinToneEmoji\"\n];\nclass PickerElement extends HTMLElement {\n  constructor(props) {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    const style = document.createElement(\"style\");\n    style.textContent = \":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}\";\n    this.shadowRoot.appendChild(style);\n    this._ctx = {\n      locale: DEFAULT_LOCALE,\n      dataSource: DEFAULT_DATA_SOURCE,\n      skinToneEmoji: DEFAULT_SKIN_TONE_EMOJI,\n      customCategorySorting: DEFAULT_CATEGORY_SORTING,\n      customEmoji: null,\n      i18n: enI18n,\n      ...props\n    };\n    for (const prop of PROPS) {\n      if (prop !== \"database\" && Object.prototype.hasOwnProperty.call(this, prop)) {\n        this._ctx[prop] = this[prop];\n        delete this[prop];\n      }\n    }\n    this._dbFlush();\n  }\n  connectedCallback() {\n    this._cmp = new Picker({\n      target: this.shadowRoot,\n      props: this._ctx\n    });\n  }\n  disconnectedCallback() {\n    this._cmp.$destroy();\n    this._cmp = void 0;\n    const { database } = this._ctx;\n    if (database) {\n      database.close().catch((err) => console.error(err));\n    }\n  }\n  static get observedAttributes() {\n    return [\"locale\", \"data-source\", \"skin-tone-emoji\"];\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    this._set(\n      attrName.replace(/-([a-z])/g, (_, up) => up.toUpperCase()),\n      newValue\n    );\n  }\n  _set(prop, newValue) {\n    this._ctx[prop] = newValue;\n    if (this._cmp) {\n      this._cmp.$set({ [prop]: newValue });\n    }\n    if ([\"locale\", \"dataSource\"].includes(prop)) {\n      this._dbFlush();\n    }\n  }\n  _dbCreate() {\n    const { locale, dataSource, database } = this._ctx;\n    if (!database || database.locale !== locale || database.dataSource !== dataSource) {\n      this._set(\"database\", new Database({ locale, dataSource }));\n    }\n  }\n  _dbFlush() {\n    Promise.resolve().then(() => this._dbCreate());\n  }\n}\nconst definitions = {};\nfor (const prop of PROPS) {\n  definitions[prop] = {\n    get() {\n      if (prop === \"database\") {\n        this._dbCreate();\n      }\n      return this._ctx[prop];\n    },\n    set(val) {\n      if (prop === \"database\") {\n        throw new Error(\"database is read-only\");\n      }\n      this._set(prop, val);\n    }\n  };\n}\nObject.defineProperties(PickerElement.prototype, definitions);\nif (!customElements.get(\"emoji-picker\")) {\n  customElements.define(\"emoji-picker\", PickerElement);\n}\nconst _sfc_main$j = {\n  name: \"EmojiPickerContainer\",\n  components: {\n    SvgIcon\n  },\n  props: {\n    emojiOpened: { type: Boolean, default: false },\n    emojiReaction: { type: Boolean, default: false },\n    positionTop: { type: Boolean, default: false },\n    positionRight: { type: Boolean, default: false },\n    messageId: { type: String, default: \"\" }\n  },\n  emits: [\"add-emoji\", \"open-emoji\"],\n  data() {\n    return {\n      emojiPickerHeight: 320,\n      emojiPickerTop: 0,\n      emojiPickerRight: \"\"\n    };\n  },\n  watch: {\n    emojiOpened(val) {\n      if (val) {\n        setTimeout(() => {\n          this.addCustomStyling();\n          this.$refs.emojiPicker.shadowRoot.addEventListener(\n            \"emoji-click\",\n            ({ detail }) => {\n              this.$emit(\"add-emoji\", {\n                unicode: detail.unicode\n              });\n            }\n          );\n        }, 0);\n      }\n    }\n  },\n  methods: {\n    addCustomStyling() {\n      const picker = `.picker {\n\t\t\t\tborder: none;\n\t\t\t}`;\n      const nav = `.nav {\n\t\t\t\toverflow-x: auto;\n\t\t\t}`;\n      const searchBox = `.search-wrapper {\n\t\t\t\tpadding-right: 2px;\n\t\t\t\tpadding-left: 2px;\n\t\t\t}`;\n      const search = `input.search {\n\t\t\t\theight: 32px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tborder-radius: 10rem;\n\t\t\t\tborder: var(--chat-border-style);\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\toutline: none;\n\t\t\t\tbackground: var(--chat-bg-color-input);\n\t\t\t\tcolor: var(--chat-color);\n\t\t\t}`;\n      const style = document.createElement(\"style\");\n      style.textContent = picker + nav + searchBox + search;\n      this.$refs.emojiPicker.shadowRoot.appendChild(style);\n    },\n    openEmoji(ev) {\n      this.$emit(\"open-emoji\", !this.emojiOpened);\n      this.setEmojiPickerPosition(\n        ev.clientY,\n        ev.view.innerWidth,\n        ev.view.innerHeight\n      );\n    },\n    setEmojiPickerPosition(clientY, innerWidth, innerHeight) {\n      const mobileSize = innerWidth < 500 || innerHeight < 700;\n      const roomFooterRef = document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"room-footer\");\n      if (!roomFooterRef) {\n        if (mobileSize)\n          this.emojiPickerRight = \"-50px\";\n        return;\n      }\n      if (mobileSize) {\n        this.emojiPickerRight = innerWidth / 2 - (this.positionTop ? 200 : 150) + \"px\";\n        this.emojiPickerTop = 100;\n        this.emojiPickerHeight = innerHeight - 200;\n      } else {\n        const roomFooterTop = roomFooterRef.getBoundingClientRect().top;\n        const pickerTopPosition = roomFooterTop - clientY > this.emojiPickerHeight - 50;\n        if (pickerTopPosition)\n          this.emojiPickerTop = clientY + 10;\n        else\n          this.emojiPickerTop = clientY - this.emojiPickerHeight - 10;\n        this.emojiPickerRight = this.positionTop ? \"0px\" : this.positionRight ? \"60px\" : \"\";\n      }\n    }\n  }\n};\nconst _hoisted_1$j = { class: \"vac-emoji-wrapper\" };\nconst _hoisted_2$g = {\n  ref: \"emojiPicker\",\n  \"v-if\": \"emojiOpened\"\n};\nfunction _sfc_render$j(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$j, [\n    createBaseVNode(\"div\", {\n      class: normalizeClass([\"vac-svg-button\", { \"vac-emoji-reaction\": $props.emojiReaction }]),\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.openEmoji && $options.openEmoji(...args))\n    }, [\n      renderSlot(\n        _ctx.$slots,\n        $props.messageId ? \"emoji-picker-reaction-icon_\" + $props.messageId : \"emoji-picker-icon\",\n        {},\n        () => [\n          createVNode(_component_svg_icon, {\n            name: \"emoji\",\n            param: $props.emojiReaction ? \"reaction\" : \"\"\n          }, null, 8, [\"param\"])\n        ]\n      )\n    ], 2),\n    $props.emojiOpened ? (openBlock(), createBlock(Transition, {\n      key: 0,\n      name: \"vac-slide-up\",\n      appear: \"\"\n    }, {\n      default: withCtx(() => [\n        createBaseVNode(\"div\", {\n          class: normalizeClass([\"vac-emoji-picker\", { \"vac-picker-reaction\": $props.emojiReaction }]),\n          style: normalizeStyle({\n            height: `${$data.emojiPickerHeight}px`,\n            top: $props.positionTop ? $data.emojiPickerHeight : `${$data.emojiPickerTop}px`,\n            right: $data.emojiPickerRight,\n            display: $data.emojiPickerTop || !$props.emojiReaction ? \"initial\" : \"none\"\n          })\n        }, [\n          createBaseVNode(\"emoji-picker\", _hoisted_2$g, null, 512)\n        ], 6)\n      ]),\n      _: 1\n    })) : createCommentVNode(\"\", true)\n  ]);\n}\nvar EmojiPickerContainer = /* @__PURE__ */ _export_sfc(_sfc_main$j, [[\"render\", _sfc_render$j]]);\nconst _sfc_main$i = {\n  name: \"RoomFiles\",\n  components: {\n    Loader,\n    SvgIcon\n  },\n  props: {\n    file: { type: Object, required: true },\n    index: { type: Number, required: true }\n  },\n  emits: [\"remove-file\"],\n  computed: {\n    isImage() {\n      return isImageFile(this.file);\n    },\n    isVideo() {\n      return isVideoFile(this.file);\n    }\n  }\n};\nconst _hoisted_1$i = { class: \"vac-room-file-container\" };\nconst _hoisted_2$f = [\"src\"];\nconst _hoisted_3$c = { class: \"vac-text-ellipsis\" };\nconst _hoisted_4$b = {\n  key: 0,\n  class: \"vac-text-ellipsis vac-text-extension\"\n};\nfunction _sfc_render$i(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_loader = resolveComponent(\"loader\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$i, [\n    createVNode(_component_loader, {\n      show: $props.file.loading,\n      type: \"room-file\"\n    }, createSlots({ _: 2 }, [\n      renderList(_ctx.$slots, (idx, name) => {\n        return {\n          name,\n          fn: withCtx((data) => [\n            renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n          ])\n        };\n      })\n    ]), 1032, [\"show\"]),\n    createBaseVNode(\"div\", {\n      class: \"vac-svg-button vac-icon-remove\",\n      onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"remove-file\", $props.index))\n    }, [\n      renderSlot(_ctx.$slots, \"image-close-icon\", {}, () => [\n        createVNode(_component_svg_icon, {\n          name: \"close\",\n          param: \"image\"\n        })\n      ])\n    ]),\n    $options.isImage ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: normalizeClass([\"vac-message-image\", { \"vac-blur-loading\": $props.file.loading }]),\n      style: normalizeStyle({\n        \"background-image\": `url('${$props.file.localUrl || $props.file.url}')`\n      })\n    }, null, 6)) : $options.isVideo ? (openBlock(), createElementBlock(\"video\", {\n      key: 1,\n      controls: \"\",\n      class: normalizeClass({ \"vac-blur-loading\": $props.file.loading })\n    }, [\n      createBaseVNode(\"source\", {\n        src: $props.file.localUrl || $props.file.url\n      }, null, 8, _hoisted_2$f)\n    ], 2)) : (openBlock(), createElementBlock(\"div\", {\n      key: 2,\n      class: normalizeClass([\"vac-file-container\", { \"vac-blur-loading\": $props.file.loading }])\n    }, [\n      createBaseVNode(\"div\", null, [\n        renderSlot(_ctx.$slots, \"file-icon\", {}, () => [\n          createVNode(_component_svg_icon, { name: \"file\" })\n        ])\n      ]),\n      createBaseVNode(\"div\", _hoisted_3$c, toDisplayString($props.file.name), 1),\n      $props.file.extension ? (openBlock(), createElementBlock(\"div\", _hoisted_4$b, toDisplayString($props.file.extension), 1)) : createCommentVNode(\"\", true)\n    ], 2))\n  ]);\n}\nvar RoomFile = /* @__PURE__ */ _export_sfc(_sfc_main$i, [[\"render\", _sfc_render$i]]);\nconst _sfc_main$h = {\n  name: \"RoomFiles\",\n  components: {\n    SvgIcon,\n    RoomFile\n  },\n  props: {\n    files: { type: Array, required: true }\n  },\n  emits: [\"remove-file\", \"reset-message\"],\n  computed: {\n    footerHeight() {\n      return document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"room-footer\").clientHeight;\n    }\n  }\n};\nconst _hoisted_1$h = { class: \"vac-files-box\" };\nconst _hoisted_2$e = { class: \"vac-icon-close\" };\nfunction _sfc_render$h(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_room_file = resolveComponent(\"room-file\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createBlock(Transition, { name: \"vac-slide-up\" }, {\n    default: withCtx(() => [\n      $props.files.length ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"vac-room-files-container\",\n        style: normalizeStyle({ bottom: `${$options.footerHeight}px` })\n      }, [\n        createBaseVNode(\"div\", _hoisted_1$h, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList($props.files, (file, i) => {\n            return openBlock(), createElementBlock(\"div\", { key: i }, [\n              createVNode(_component_room_file, {\n                file,\n                index: i,\n                onRemoveFile: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"remove-file\", $event))\n              }, createSlots({ _: 2 }, [\n                renderList(_ctx.$slots, (idx, name) => {\n                  return {\n                    name,\n                    fn: withCtx((data) => [\n                      renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                    ])\n                  };\n                })\n              ]), 1032, [\"file\", \"index\"])\n            ]);\n          }), 128))\n        ]),\n        createBaseVNode(\"div\", _hoisted_2$e, [\n          createBaseVNode(\"div\", {\n            class: \"vac-svg-button\",\n            onClick: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"reset-message\"))\n          }, [\n            renderSlot(_ctx.$slots, \"files-close-icon\", {}, () => [\n              createVNode(_component_svg_icon, { name: \"close-outline\" })\n            ])\n          ])\n        ])\n      ], 4)) : createCommentVNode(\"\", true)\n    ]),\n    _: 3\n  });\n}\nvar RoomFiles = /* @__PURE__ */ _export_sfc(_sfc_main$h, [[\"render\", _sfc_render$h]]);\nconst _sfc_main$g = {\n  props: {\n    percentage: { type: Number, default: 0 },\n    messageSelectionEnabled: { type: Boolean, required: true }\n  },\n  emits: [\"hover-audio-progress\", \"change-linehead\"],\n  data() {\n    return {\n      isMouseDown: false\n    };\n  },\n  methods: {\n    onMouseDown(ev) {\n      if (this.messageSelectionEnabled)\n        return;\n      this.isMouseDown = true;\n      const seekPos = this.calculateLineHeadPosition(ev, this.$refs.progress);\n      this.$emit(\"change-linehead\", seekPos);\n      document.addEventListener(\"mousemove\", this.onMouseMove);\n      document.addEventListener(\"mouseup\", this.onMouseUp);\n    },\n    onMouseUp(ev) {\n      if (this.messageSelectionEnabled)\n        return;\n      this.isMouseDown = false;\n      document.removeEventListener(\"mouseup\", this.onMouseUp);\n      document.removeEventListener(\"mousemove\", this.onMouseMove);\n      const seekPos = this.calculateLineHeadPosition(ev, this.$refs.progress);\n      this.$emit(\"change-linehead\", seekPos);\n    },\n    onMouseMove(ev) {\n      if (this.messageSelectionEnabled)\n        return;\n      const seekPos = this.calculateLineHeadPosition(ev, this.$refs.progress);\n      this.$emit(\"change-linehead\", seekPos);\n    },\n    calculateLineHeadPosition(ev, element2) {\n      const progressWidth = element2.getBoundingClientRect().width;\n      const leftPosition = element2.getBoundingClientRect().left;\n      let pos = (ev.clientX - leftPosition) / progressWidth;\n      pos = pos < 0 ? 0 : pos;\n      pos = pos > 1 ? 1 : pos;\n      return pos;\n    }\n  }\n};\nconst _hoisted_1$g = { class: \"vac-player-progress\" };\nconst _hoisted_2$d = { class: \"vac-line-container\" };\nfunction _sfc_render$g(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"progress\",\n    class: \"vac-player-bar\",\n    onMousedown: _cache[0] || (_cache[0] = (...args) => $options.onMouseDown && $options.onMouseDown(...args)),\n    onMouseover: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"hover-audio-progress\", true)),\n    onMouseout: _cache[2] || (_cache[2] = ($event) => _ctx.$emit(\"hover-audio-progress\", false))\n  }, [\n    createBaseVNode(\"div\", _hoisted_1$g, [\n      createBaseVNode(\"div\", _hoisted_2$d, [\n        createBaseVNode(\"div\", {\n          class: \"vac-line-progress\",\n          style: normalizeStyle({ width: `${$props.percentage}%` })\n        }, null, 4),\n        createBaseVNode(\"div\", {\n          class: normalizeClass([\"vac-line-dot\", { \"vac-line-dot__active\": $data.isMouseDown }]),\n          style: normalizeStyle({ left: `${$props.percentage}%` })\n        }, null, 6)\n      ])\n    ])\n  ], 544);\n}\nvar AudioControl = /* @__PURE__ */ _export_sfc(_sfc_main$g, [[\"render\", _sfc_render$g]]);\nconst _sfc_main$f = {\n  name: \"AudioPlayer\",\n  components: {\n    SvgIcon,\n    AudioControl\n  },\n  props: {\n    messageId: { type: [String, Number], default: null },\n    src: { type: String, default: null },\n    messageSelectionEnabled: { type: Boolean, required: true }\n  },\n  emits: [\"hover-audio-progress\", \"update-progress-time\"],\n  data() {\n    return {\n      isPlaying: false,\n      duration: this.convertTimeMMSS(0),\n      playedTime: this.convertTimeMMSS(0),\n      progress: 0\n    };\n  },\n  computed: {\n    playerUniqId() {\n      return `audio-player${this.messageId}`;\n    },\n    audioSource() {\n      if (this.src)\n        return this.src;\n      this.resetProgress();\n      return null;\n    }\n  },\n  mounted() {\n    this.player = document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(this.playerUniqId);\n    this.player.addEventListener(\"ended\", () => {\n      this.isPlaying = false;\n    });\n    this.player.addEventListener(\"loadeddata\", () => {\n      this.resetProgress();\n      this.duration = this.convertTimeMMSS(this.player.duration);\n      this.updateProgressTime();\n    });\n    this.player.addEventListener(\"timeupdate\", this.onTimeUpdate);\n  },\n  methods: {\n    convertTimeMMSS(seconds) {\n      return new Date(seconds * 1e3).toISOString().substr(14, 5);\n    },\n    playback() {\n      if (this.messageSelectionEnabled || !this.audioSource)\n        return;\n      if (this.isPlaying)\n        this.player.pause();\n      else\n        setTimeout(() => this.player.play());\n      this.isPlaying = !this.isPlaying;\n    },\n    resetProgress() {\n      if (this.isPlaying)\n        this.player.pause();\n      this.duration = this.convertTimeMMSS(0);\n      this.playedTime = this.convertTimeMMSS(0);\n      this.progress = 0;\n      this.isPlaying = false;\n      this.updateProgressTime();\n    },\n    onTimeUpdate() {\n      this.playedTime = this.convertTimeMMSS(this.player.currentTime);\n      this.progress = this.player.currentTime / this.player.duration * 100;\n      this.updateProgressTime();\n    },\n    onUpdateProgress(pos) {\n      if (pos)\n        this.player.currentTime = pos * this.player.duration;\n    },\n    updateProgressTime() {\n      this.$emit(\n        \"update-progress-time\",\n        this.progress > 1 ? this.playedTime : this.duration\n      );\n    }\n  }\n};\nconst _hoisted_1$f = { class: \"vac-audio-player\" };\nconst _hoisted_2$c = [\"id\", \"src\"];\nfunction _sfc_render$f(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_audio_control = resolveComponent(\"audio-control\");\n  return openBlock(), createElementBlock(\"div\", null, [\n    createBaseVNode(\"div\", _hoisted_1$f, [\n      createBaseVNode(\"div\", {\n        class: \"vac-svg-button\",\n        onClick: _cache[0] || (_cache[0] = (...args) => $options.playback && $options.playback(...args))\n      }, [\n        $data.isPlaying ? renderSlot(_ctx.$slots, \"audio-pause-icon_\" + $props.messageId, { key: 0 }, () => [\n          createVNode(_component_svg_icon, { name: \"audio-pause\" })\n        ]) : renderSlot(_ctx.$slots, \"audio-play-icon_\" + $props.messageId, { key: 1 }, () => [\n          createVNode(_component_svg_icon, { name: \"audio-play\" })\n        ])\n      ]),\n      createVNode(_component_audio_control, {\n        percentage: $data.progress,\n        \"message-selection-enabled\": $props.messageSelectionEnabled,\n        onChangeLinehead: $options.onUpdateProgress,\n        onHoverAudioProgress: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"hover-audio-progress\", $event))\n      }, null, 8, [\"percentage\", \"message-selection-enabled\", \"onChangeLinehead\"]),\n      createBaseVNode(\"audio\", {\n        id: $options.playerUniqId,\n        src: $options.audioSource\n      }, null, 8, _hoisted_2$c)\n    ])\n  ]);\n}\nvar AudioPlayer = /* @__PURE__ */ _export_sfc(_sfc_main$f, [[\"render\", _sfc_render$f]]);\nconst _sfc_main$e = {\n  name: \"RoomMessageReply\",\n  components: {\n    SvgIcon,\n    FormatMessage,\n    AudioPlayer\n  },\n  props: {\n    room: { type: Object, required: true },\n    messageReply: { type: Object, default: null },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true }\n  },\n  emits: [\"reset-message\"],\n  computed: {\n    footerHeight() {\n      return document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"room-footer\").clientHeight;\n    },\n    firstFile() {\n      var _a, _b;\n      return ((_b = (_a = this.messageReply) == null ? void 0 : _a.files) == null ? void 0 : _b.length) ? this.messageReply.files[0] : {};\n    },\n    isImage() {\n      return isImageFile(this.firstFile);\n    },\n    isVideo() {\n      return isVideoFile(this.firstFile);\n    },\n    isAudio() {\n      return isAudioFile(this.firstFile);\n    },\n    isOtherFile() {\n      var _a, _b;\n      return ((_b = (_a = this.messageReply) == null ? void 0 : _a.files) == null ? void 0 : _b.length) && !this.isAudio && !this.isVideo && !this.isImage;\n    }\n  }\n};\nconst _hoisted_1$e = { class: \"vac-reply-box\" };\nconst _hoisted_2$b = { class: \"vac-reply-info\" };\nconst _hoisted_3$b = { class: \"vac-reply-username\" };\nconst _hoisted_4$a = { class: \"vac-reply-content\" };\nconst _hoisted_5$7 = [\"src\"];\nconst _hoisted_6$4 = {\n  key: 1,\n  controls: \"\",\n  class: \"vac-image-reply\"\n};\nconst _hoisted_7$4 = [\"src\"];\nconst _hoisted_8$2 = {\n  key: 3,\n  class: \"vac-image-reply vac-file-container\"\n};\nconst _hoisted_9$2 = { class: \"vac-text-ellipsis\" };\nconst _hoisted_10$2 = {\n  key: 0,\n  class: \"vac-text-ellipsis vac-text-extension\"\n};\nconst _hoisted_11$1 = { class: \"vac-icon-reply\" };\nfunction _sfc_render$e(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_format_message = resolveComponent(\"format-message\");\n  const _component_audio_player = resolveComponent(\"audio-player\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createBlock(Transition, { name: \"vac-slide-up\" }, {\n    default: withCtx(() => [\n      $props.messageReply ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"vac-reply-container\",\n        style: normalizeStyle({ bottom: `${$options.footerHeight}px` })\n      }, [\n        createBaseVNode(\"div\", _hoisted_1$e, [\n          createBaseVNode(\"div\", _hoisted_2$b, [\n            createBaseVNode(\"div\", _hoisted_3$b, toDisplayString($props.messageReply.username), 1),\n            createBaseVNode(\"div\", _hoisted_4$a, [\n              createVNode(_component_format_message, {\n                \"message-id\": $props.messageReply._id,\n                content: $props.messageReply.content,\n                users: $props.room.users,\n                \"text-formatting\": $props.textFormatting,\n                \"link-options\": $props.linkOptions,\n                reply: true\n              }, null, 8, [\"message-id\", \"content\", \"users\", \"text-formatting\", \"link-options\"])\n            ])\n          ]),\n          $options.isImage ? (openBlock(), createElementBlock(\"img\", {\n            key: 0,\n            src: $options.firstFile.url,\n            class: \"vac-image-reply\"\n          }, null, 8, _hoisted_5$7)) : $options.isVideo ? (openBlock(), createElementBlock(\"video\", _hoisted_6$4, [\n            createBaseVNode(\"source\", {\n              src: $options.firstFile.url\n            }, null, 8, _hoisted_7$4)\n          ])) : $options.isAudio ? (openBlock(), createBlock(_component_audio_player, {\n            key: 2,\n            src: $options.firstFile.url,\n            \"message-selection-enabled\": false,\n            class: \"vac-audio-reply\"\n          }, createSlots({ _: 2 }, [\n            renderList(_ctx.$slots, (idx, name) => {\n              return {\n                name,\n                fn: withCtx((data) => [\n                  renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                ])\n              };\n            })\n          ]), 1032, [\"src\"])) : $options.isOtherFile ? (openBlock(), createElementBlock(\"div\", _hoisted_8$2, [\n            createBaseVNode(\"div\", null, [\n              renderSlot(_ctx.$slots, \"file-icon\", {}, () => [\n                createVNode(_component_svg_icon, { name: \"file\" })\n              ])\n            ]),\n            createBaseVNode(\"div\", _hoisted_9$2, toDisplayString($options.firstFile.name), 1),\n            $options.firstFile.extension ? (openBlock(), createElementBlock(\"div\", _hoisted_10$2, toDisplayString($options.firstFile.extension), 1)) : createCommentVNode(\"\", true)\n          ])) : createCommentVNode(\"\", true)\n        ]),\n        createBaseVNode(\"div\", _hoisted_11$1, [\n          createBaseVNode(\"div\", {\n            class: \"vac-svg-button\",\n            onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"reset-message\"))\n          }, [\n            renderSlot(_ctx.$slots, \"reply-close-icon\", {}, () => [\n              createVNode(_component_svg_icon, { name: \"close-outline\" })\n            ])\n          ])\n        ])\n      ], 4)) : createCommentVNode(\"\", true)\n    ]),\n    _: 3\n  });\n}\nvar RoomMessageReply = /* @__PURE__ */ _export_sfc(_sfc_main$e, [[\"render\", _sfc_render$e]]);\nconst _sfc_main$d = {\n  name: \"RoomUsersTag\",\n  props: {\n    filteredUsersTag: { type: Array, required: true },\n    selectItem: { type: Boolean, default: null },\n    activeUpOrDown: { type: Number, default: null }\n  },\n  emits: [\"select-user-tag\", \"activate-item\"],\n  data() {\n    return {\n      activeItem: null\n    };\n  },\n  computed: {\n    footerHeight() {\n      return document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"room-footer\").clientHeight;\n    }\n  },\n  watch: {\n    filteredUsersTag(val, oldVal) {\n      if (!oldVal.length || val.length !== oldVal.length) {\n        this.activeItem = 0;\n      }\n    },\n    selectItem(val) {\n      if (val) {\n        this.$emit(\"select-user-tag\", this.filteredUsersTag[this.activeItem]);\n      }\n    },\n    activeUpOrDown() {\n      if (this.activeUpOrDown > 0 && this.activeItem < this.filteredUsersTag.length - 1) {\n        this.activeItem++;\n      } else if (this.activeUpOrDown < 0 && this.activeItem > 0) {\n        this.activeItem--;\n      }\n      this.$emit(\"activate-item\");\n    }\n  }\n};\nconst _hoisted_1$d = [\"onMouseover\", \"onClick\"];\nconst _hoisted_2$a = { class: \"vac-tags-info\" };\nconst _hoisted_3$a = { class: \"vac-tags-username\" };\nfunction _sfc_render$d(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"vac-slide-up\" }, {\n    default: withCtx(() => [\n      $props.filteredUsersTag.length ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"vac-tags-container\",\n        style: normalizeStyle({ bottom: `${$options.footerHeight}px` })\n      }, [\n        (openBlock(true), createElementBlock(Fragment, null, renderList($props.filteredUsersTag, (user, index) => {\n          return openBlock(), createElementBlock(\"div\", {\n            key: user._id,\n            class: normalizeClass([\"vac-tags-box\", { \"vac-tags-box-active\": index === $data.activeItem }]),\n            onMouseover: ($event) => $data.activeItem = index,\n            onClick: ($event) => _ctx.$emit(\"select-user-tag\", user)\n          }, [\n            createBaseVNode(\"div\", _hoisted_2$a, [\n              user.avatar ? (openBlock(), createElementBlock(\"div\", {\n                key: 0,\n                class: \"vac-avatar vac-tags-avatar\",\n                style: normalizeStyle({ \"background-image\": `url('${user.avatar}')` })\n              }, null, 4)) : createCommentVNode(\"\", true),\n              createBaseVNode(\"div\", _hoisted_3$a, toDisplayString(user.username), 1)\n            ])\n          ], 42, _hoisted_1$d);\n        }), 128))\n      ], 4)) : createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  });\n}\nvar RoomUsersTag = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"render\", _sfc_render$d]]);\nconst _sfc_main$c = {\n  name: \"RoomEmojis\",\n  props: {\n    filteredEmojis: { type: Array, required: true },\n    selectItem: { type: Boolean, default: null },\n    activeUpOrDown: { type: Number, default: null }\n  },\n  emits: [\"select-emoji\", \"activate-item\"],\n  data() {\n    return {\n      activeItem: null\n    };\n  },\n  computed: {\n    footerHeight() {\n      return document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"room-footer\").clientHeight;\n    }\n  },\n  watch: {\n    filteredEmojis(val, oldVal) {\n      if (!oldVal.length || val.length !== oldVal.length) {\n        this.activeItem = 0;\n      }\n    },\n    selectItem(val) {\n      if (val) {\n        this.$emit(\"select-emoji\", this.filteredEmojis[this.activeItem]);\n      }\n    },\n    activeUpOrDown() {\n      if (this.activeUpOrDown > 0 && this.activeItem < this.filteredEmojis.length - 1) {\n        this.activeItem++;\n      } else if (this.activeUpOrDown < 0 && this.activeItem > 0) {\n        this.activeItem--;\n      }\n      this.$emit(\"activate-item\");\n    }\n  }\n};\nconst _hoisted_1$c = [\"onMouseover\", \"onClick\"];\nfunction _sfc_render$c(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"vac-slide-up\" }, {\n    default: withCtx(() => [\n      $props.filteredEmojis.length ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"vac-emojis-container\",\n        style: normalizeStyle({ bottom: `${$options.footerHeight}px` })\n      }, [\n        (openBlock(true), createElementBlock(Fragment, null, renderList($props.filteredEmojis, (emoji, index) => {\n          return openBlock(), createElementBlock(\"div\", {\n            key: emoji,\n            class: normalizeClass([\"vac-emoji-element\", { \"vac-emoji-element-active\": index === $data.activeItem }]),\n            onMouseover: ($event) => $data.activeItem = index,\n            onClick: ($event) => _ctx.$emit(\"select-emoji\", emoji)\n          }, toDisplayString(emoji), 43, _hoisted_1$c);\n        }), 128))\n      ], 4)) : createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  });\n}\nvar RoomEmojis = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"render\", _sfc_render$c]]);\nconst _sfc_main$b = {\n  name: \"RoomTemplatesText\",\n  props: {\n    filteredTemplatesText: { type: Array, required: true },\n    selectItem: { type: Boolean, default: null },\n    activeUpOrDown: { type: Number, default: null }\n  },\n  emits: [\"select-template-text\", \"activate-item\"],\n  data() {\n    return {\n      activeItem: null\n    };\n  },\n  computed: {\n    footerHeight() {\n      return document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"room-footer\").clientHeight;\n    }\n  },\n  watch: {\n    filteredTemplatesText(val, oldVal) {\n      if (!oldVal.length || val.length !== oldVal.length) {\n        this.activeItem = 0;\n      }\n    },\n    selectItem(val) {\n      if (val) {\n        this.$emit(\n          \"select-template-text\",\n          this.filteredTemplatesText[this.activeItem]\n        );\n      }\n    },\n    activeUpOrDown() {\n      if (this.activeUpOrDown > 0 && this.activeItem < this.filteredTemplatesText.length - 1) {\n        this.activeItem++;\n      } else if (this.activeUpOrDown < 0 && this.activeItem > 0) {\n        this.activeItem--;\n      }\n      this.$emit(\"activate-item\");\n    }\n  }\n};\nconst _hoisted_1$b = [\"onMouseover\", \"onClick\"];\nconst _hoisted_2$9 = { class: \"vac-template-info\" };\nconst _hoisted_3$9 = { class: \"vac-template-tag\" };\nconst _hoisted_4$9 = { class: \"vac-template-text\" };\nfunction _sfc_render$b(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"vac-slide-up\" }, {\n    default: withCtx(() => [\n      $props.filteredTemplatesText.length ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"vac-template-container vac-app-box-shadow\",\n        style: normalizeStyle({ bottom: `${$options.footerHeight}px` })\n      }, [\n        (openBlock(true), createElementBlock(Fragment, null, renderList($props.filteredTemplatesText, (template, index) => {\n          return openBlock(), createElementBlock(\"div\", {\n            key: index,\n            class: normalizeClass([\"vac-template-box\", { \"vac-template-active\": index === $data.activeItem }]),\n            onMouseover: ($event) => $data.activeItem = index,\n            onClick: ($event) => _ctx.$emit(\"select-template-text\", template)\n          }, [\n            createBaseVNode(\"div\", _hoisted_2$9, [\n              createBaseVNode(\"div\", _hoisted_3$9, \" /\" + toDisplayString(template.tag), 1),\n              createBaseVNode(\"div\", _hoisted_4$9, toDisplayString(template.text), 1)\n            ])\n          ], 42, _hoisted_1$b);\n        }), 128))\n      ], 4)) : createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  });\n}\nvar RoomTemplatesText = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"render\", _sfc_render$b]]);\nfunction new_byte$4(count) {\n  return new Int8Array(count);\n}\nfunction new_short(count) {\n  return new Int16Array(count);\n}\nfunction new_int$d(count) {\n  return new Int32Array(count);\n}\nfunction new_float$f(count) {\n  return new Float32Array(count);\n}\nfunction new_double$1(count) {\n  return new Float64Array(count);\n}\nfunction new_float_n$6(args) {\n  if (args.length == 1) {\n    return new_float$f(args[0]);\n  }\n  var sz = args[0];\n  args = args.slice(1);\n  var A = [];\n  for (var i = 0; i < sz; i++) {\n    A.push(new_float_n$6(args));\n  }\n  return A;\n}\nfunction new_int_n$2(args) {\n  if (args.length == 1) {\n    return new_int$d(args[0]);\n  }\n  var sz = args[0];\n  args = args.slice(1);\n  var A = [];\n  for (var i = 0; i < sz; i++) {\n    A.push(new_int_n$2(args));\n  }\n  return A;\n}\nfunction new_short_n$1(args) {\n  if (args.length == 1) {\n    return new_short(args[0]);\n  }\n  var sz = args[0];\n  args = args.slice(1);\n  var A = [];\n  for (var i = 0; i < sz; i++) {\n    A.push(new_short_n$1(args));\n  }\n  return A;\n}\nfunction new_array_n$1(args) {\n  if (args.length == 1) {\n    return new Array(args[0]);\n  }\n  var sz = args[0];\n  args = args.slice(1);\n  var A = [];\n  for (var i = 0; i < sz; i++) {\n    A.push(new_array_n$1(args));\n  }\n  return A;\n}\nvar Arrays$7 = {};\nArrays$7.fill = function(a, fromIndex, toIndex, val) {\n  if (arguments.length == 2) {\n    for (var i = 0; i < a.length; i++) {\n      a[i] = arguments[1];\n    }\n  } else {\n    for (var i = fromIndex; i < toIndex; i++) {\n      a[i] = val;\n    }\n  }\n};\nvar System$a = {};\nSystem$a.arraycopy = function(src, srcPos, dest, destPos, length) {\n  var srcEnd = srcPos + length;\n  while (srcPos < srcEnd)\n    dest[destPos++] = src[srcPos++];\n};\nSystem$a.out = {};\nSystem$a.out.println = function(message) {\n  console.log(message);\n};\nSystem$a.out.printf = function() {\n  console.log.apply(console, arguments);\n};\nvar Util$5 = {};\nUtil$5.SQRT2 = 1.4142135623730951;\nUtil$5.FAST_LOG10 = function(x) {\n  return Math.log10(x);\n};\nUtil$5.FAST_LOG10_X = function(x, y) {\n  return Math.log10(x) * y;\n};\nfunction ShortBlock$3(ordinal) {\n  this.ordinal = ordinal;\n}\nShortBlock$3.short_block_allowed = new ShortBlock$3(0);\nShortBlock$3.short_block_coupled = new ShortBlock$3(1);\nShortBlock$3.short_block_dispensed = new ShortBlock$3(2);\nShortBlock$3.short_block_forced = new ShortBlock$3(3);\nvar Float$2 = {};\nFloat$2.MAX_VALUE = 34028235e31;\nfunction VbrMode$7(ordinal) {\n  this.ordinal = ordinal;\n}\nVbrMode$7.vbr_off = new VbrMode$7(0);\nVbrMode$7.vbr_mt = new VbrMode$7(1);\nVbrMode$7.vbr_rh = new VbrMode$7(2);\nVbrMode$7.vbr_abr = new VbrMode$7(3);\nVbrMode$7.vbr_mtrh = new VbrMode$7(4);\nVbrMode$7.vbr_default = VbrMode$7.vbr_mtrh;\nvar assert$b = function(x) {\n};\nvar common = {\n  System: System$a,\n  VbrMode: VbrMode$7,\n  Float: Float$2,\n  ShortBlock: ShortBlock$3,\n  Util: Util$5,\n  Arrays: Arrays$7,\n  new_array_n: new_array_n$1,\n  new_byte: new_byte$4,\n  new_double: new_double$1,\n  new_float: new_float$f,\n  new_float_n: new_float_n$6,\n  new_int: new_int$d,\n  new_int_n: new_int_n$2,\n  new_short,\n  new_short_n: new_short_n$1,\n  assert: assert$b\n};\nvar System$9 = common.System;\nvar Util$4 = common.Util;\nvar Arrays$6 = common.Arrays;\nvar new_float$e = common.new_float;\nfunction NewMDCT() {\n  var enwindow = [\n    -477e-9 * 0.740951125354959 / 2384e-9,\n    103951e-9 * 0.740951125354959 / 2384e-9,\n    953674e-9 * 0.740951125354959 / 2384e-9,\n    2841473e-9 * 0.740951125354959 / 2384e-9,\n    0.035758972 * 0.740951125354959 / 2384e-9,\n    3401756e-9 * 0.740951125354959 / 2384e-9,\n    983715e-9 * 0.740951125354959 / 2384e-9,\n    99182e-9 * 0.740951125354959 / 2384e-9,\n    12398e-9 * 0.740951125354959 / 2384e-9,\n    191212e-9 * 0.740951125354959 / 2384e-9,\n    2283096e-9 * 0.740951125354959 / 2384e-9,\n    0.016994476 * 0.740951125354959 / 2384e-9,\n    -0.018756866 * 0.740951125354959 / 2384e-9,\n    -2630711e-9 * 0.740951125354959 / 2384e-9,\n    -247478e-9 * 0.740951125354959 / 2384e-9,\n    -14782e-9 * 0.740951125354959 / 2384e-9,\n    0.9063471690191471,\n    0.1960342806591213,\n    -477e-9 * 0.773010453362737 / 2384e-9,\n    105858e-9 * 0.773010453362737 / 2384e-9,\n    930786e-9 * 0.773010453362737 / 2384e-9,\n    2521515e-9 * 0.773010453362737 / 2384e-9,\n    0.035694122 * 0.773010453362737 / 2384e-9,\n    3643036e-9 * 0.773010453362737 / 2384e-9,\n    991821e-9 * 0.773010453362737 / 2384e-9,\n    96321e-9 * 0.773010453362737 / 2384e-9,\n    11444e-9 * 0.773010453362737 / 2384e-9,\n    165462e-9 * 0.773010453362737 / 2384e-9,\n    2110004e-9 * 0.773010453362737 / 2384e-9,\n    0.016112804 * 0.773010453362737 / 2384e-9,\n    -0.019634247 * 0.773010453362737 / 2384e-9,\n    -2803326e-9 * 0.773010453362737 / 2384e-9,\n    -277042e-9 * 0.773010453362737 / 2384e-9,\n    -16689e-9 * 0.773010453362737 / 2384e-9,\n    0.8206787908286602,\n    0.3901806440322567,\n    -477e-9 * 0.803207531480645 / 2384e-9,\n    107288e-9 * 0.803207531480645 / 2384e-9,\n    902653e-9 * 0.803207531480645 / 2384e-9,\n    2174854e-9 * 0.803207531480645 / 2384e-9,\n    0.035586357 * 0.803207531480645 / 2384e-9,\n    3858566e-9 * 0.803207531480645 / 2384e-9,\n    995159e-9 * 0.803207531480645 / 2384e-9,\n    9346e-8 * 0.803207531480645 / 2384e-9,\n    10014e-9 * 0.803207531480645 / 2384e-9,\n    14019e-8 * 0.803207531480645 / 2384e-9,\n    1937389e-9 * 0.803207531480645 / 2384e-9,\n    0.015233517 * 0.803207531480645 / 2384e-9,\n    -0.020506859 * 0.803207531480645 / 2384e-9,\n    -2974033e-9 * 0.803207531480645 / 2384e-9,\n    -30756e-8 * 0.803207531480645 / 2384e-9,\n    -1812e-8 * 0.803207531480645 / 2384e-9,\n    0.7416505462720353,\n    0.5805693545089249,\n    -477e-9 * 0.831469612302545 / 2384e-9,\n    108242e-9 * 0.831469612302545 / 2384e-9,\n    868797e-9 * 0.831469612302545 / 2384e-9,\n    1800537e-9 * 0.831469612302545 / 2384e-9,\n    0.0354352 * 0.831469612302545 / 2384e-9,\n    4049301e-9 * 0.831469612302545 / 2384e-9,\n    994205e-9 * 0.831469612302545 / 2384e-9,\n    90599e-9 * 0.831469612302545 / 2384e-9,\n    906e-8 * 0.831469612302545 / 2384e-9,\n    116348e-9 * 0.831469612302545 / 2384e-9,\n    1766682e-9 * 0.831469612302545 / 2384e-9,\n    0.014358521 * 0.831469612302545 / 2384e-9,\n    -0.021372318 * 0.831469612302545 / 2384e-9,\n    -314188e-8 * 0.831469612302545 / 2384e-9,\n    -339031e-9 * 0.831469612302545 / 2384e-9,\n    -1955e-8 * 0.831469612302545 / 2384e-9,\n    0.6681786379192989,\n    0.7653668647301797,\n    -477e-9 * 0.857728610000272 / 2384e-9,\n    108719e-9 * 0.857728610000272 / 2384e-9,\n    82922e-8 * 0.857728610000272 / 2384e-9,\n    1399517e-9 * 0.857728610000272 / 2384e-9,\n    0.035242081 * 0.857728610000272 / 2384e-9,\n    421524e-8 * 0.857728610000272 / 2384e-9,\n    989437e-9 * 0.857728610000272 / 2384e-9,\n    87261e-9 * 0.857728610000272 / 2384e-9,\n    8106e-9 * 0.857728610000272 / 2384e-9,\n    93937e-9 * 0.857728610000272 / 2384e-9,\n    1597881e-9 * 0.857728610000272 / 2384e-9,\n    0.013489246 * 0.857728610000272 / 2384e-9,\n    -0.022228718 * 0.857728610000272 / 2384e-9,\n    -3306866e-9 * 0.857728610000272 / 2384e-9,\n    -371456e-9 * 0.857728610000272 / 2384e-9,\n    -21458e-9 * 0.857728610000272 / 2384e-9,\n    0.5993769336819237,\n    0.9427934736519954,\n    -477e-9 * 0.881921264348355 / 2384e-9,\n    108719e-9 * 0.881921264348355 / 2384e-9,\n    78392e-8 * 0.881921264348355 / 2384e-9,\n    971317e-9 * 0.881921264348355 / 2384e-9,\n    0.035007 * 0.881921264348355 / 2384e-9,\n    4357815e-9 * 0.881921264348355 / 2384e-9,\n    980854e-9 * 0.881921264348355 / 2384e-9,\n    83923e-9 * 0.881921264348355 / 2384e-9,\n    7629e-9 * 0.881921264348355 / 2384e-9,\n    72956e-9 * 0.881921264348355 / 2384e-9,\n    1432419e-9 * 0.881921264348355 / 2384e-9,\n    0.012627602 * 0.881921264348355 / 2384e-9,\n    -0.02307415 * 0.881921264348355 / 2384e-9,\n    -3467083e-9 * 0.881921264348355 / 2384e-9,\n    -404358e-9 * 0.881921264348355 / 2384e-9,\n    -23365e-9 * 0.881921264348355 / 2384e-9,\n    0.5345111359507916,\n    1.111140466039205,\n    -954e-9 * 0.903989293123443 / 2384e-9,\n    108242e-9 * 0.903989293123443 / 2384e-9,\n    731945e-9 * 0.903989293123443 / 2384e-9,\n    515938e-9 * 0.903989293123443 / 2384e-9,\n    0.034730434 * 0.903989293123443 / 2384e-9,\n    4477024e-9 * 0.903989293123443 / 2384e-9,\n    968933e-9 * 0.903989293123443 / 2384e-9,\n    80585e-9 * 0.903989293123443 / 2384e-9,\n    6676e-9 * 0.903989293123443 / 2384e-9,\n    52929e-9 * 0.903989293123443 / 2384e-9,\n    1269817e-9 * 0.903989293123443 / 2384e-9,\n    0.011775017 * 0.903989293123443 / 2384e-9,\n    -0.023907185 * 0.903989293123443 / 2384e-9,\n    -3622532e-9 * 0.903989293123443 / 2384e-9,\n    -438213e-9 * 0.903989293123443 / 2384e-9,\n    -25272e-9 * 0.903989293123443 / 2384e-9,\n    0.4729647758913199,\n    1.268786568327291,\n    -954e-9 * 0.9238795325112867 / 2384e-9,\n    106812e-9 * 0.9238795325112867 / 2384e-9,\n    674248e-9 * 0.9238795325112867 / 2384e-9,\n    33379e-9 * 0.9238795325112867 / 2384e-9,\n    0.034412861 * 0.9238795325112867 / 2384e-9,\n    4573822e-9 * 0.9238795325112867 / 2384e-9,\n    954151e-9 * 0.9238795325112867 / 2384e-9,\n    76771e-9 * 0.9238795325112867 / 2384e-9,\n    6199e-9 * 0.9238795325112867 / 2384e-9,\n    34332e-9 * 0.9238795325112867 / 2384e-9,\n    1111031e-9 * 0.9238795325112867 / 2384e-9,\n    0.010933399 * 0.9238795325112867 / 2384e-9,\n    -0.024725437 * 0.9238795325112867 / 2384e-9,\n    -3771782e-9 * 0.9238795325112867 / 2384e-9,\n    -472546e-9 * 0.9238795325112867 / 2384e-9,\n    -27657e-9 * 0.9238795325112867 / 2384e-9,\n    0.41421356237309503,\n    1.414213562373095,\n    -954e-9 * 0.941544065183021 / 2384e-9,\n    105381e-9 * 0.941544065183021 / 2384e-9,\n    610352e-9 * 0.941544065183021 / 2384e-9,\n    -475883e-9 * 0.941544065183021 / 2384e-9,\n    0.03405571 * 0.941544065183021 / 2384e-9,\n    4649162e-9 * 0.941544065183021 / 2384e-9,\n    935555e-9 * 0.941544065183021 / 2384e-9,\n    73433e-9 * 0.941544065183021 / 2384e-9,\n    5245e-9 * 0.941544065183021 / 2384e-9,\n    17166e-9 * 0.941544065183021 / 2384e-9,\n    956535e-9 * 0.941544065183021 / 2384e-9,\n    0.010103703 * 0.941544065183021 / 2384e-9,\n    -0.025527 * 0.941544065183021 / 2384e-9,\n    -3914356e-9 * 0.941544065183021 / 2384e-9,\n    -507355e-9 * 0.941544065183021 / 2384e-9,\n    -30041e-9 * 0.941544065183021 / 2384e-9,\n    0.3578057213145241,\n    1.546020906725474,\n    -954e-9 * 0.956940335732209 / 2384e-9,\n    10252e-8 * 0.956940335732209 / 2384e-9,\n    539303e-9 * 0.956940335732209 / 2384e-9,\n    -1011848e-9 * 0.956940335732209 / 2384e-9,\n    0.033659935 * 0.956940335732209 / 2384e-9,\n    4703045e-9 * 0.956940335732209 / 2384e-9,\n    915051e-9 * 0.956940335732209 / 2384e-9,\n    70095e-9 * 0.956940335732209 / 2384e-9,\n    4768e-9 * 0.956940335732209 / 2384e-9,\n    954e-9 * 0.956940335732209 / 2384e-9,\n    806808e-9 * 0.956940335732209 / 2384e-9,\n    9287834e-9 * 0.956940335732209 / 2384e-9,\n    -0.026310921 * 0.956940335732209 / 2384e-9,\n    -4048824e-9 * 0.956940335732209 / 2384e-9,\n    -542164e-9 * 0.956940335732209 / 2384e-9,\n    -32425e-9 * 0.956940335732209 / 2384e-9,\n    0.3033466836073424,\n    1.66293922460509,\n    -1431e-9 * 0.970031253194544 / 2384e-9,\n    99182e-9 * 0.970031253194544 / 2384e-9,\n    462532e-9 * 0.970031253194544 / 2384e-9,\n    -1573563e-9 * 0.970031253194544 / 2384e-9,\n    0.033225536 * 0.970031253194544 / 2384e-9,\n    4737377e-9 * 0.970031253194544 / 2384e-9,\n    891685e-9 * 0.970031253194544 / 2384e-9,\n    6628e-8 * 0.970031253194544 / 2384e-9,\n    4292e-9 * 0.970031253194544 / 2384e-9,\n    -13828e-9 * 0.970031253194544 / 2384e-9,\n    66185e-8 * 0.970031253194544 / 2384e-9,\n    8487225e-9 * 0.970031253194544 / 2384e-9,\n    -0.02707386 * 0.970031253194544 / 2384e-9,\n    -4174709e-9 * 0.970031253194544 / 2384e-9,\n    -576973e-9 * 0.970031253194544 / 2384e-9,\n    -34809e-9 * 0.970031253194544 / 2384e-9,\n    0.2504869601913055,\n    1.76384252869671,\n    -1431e-9 * 0.98078528040323 / 2384e-9,\n    95367e-9 * 0.98078528040323 / 2384e-9,\n    378609e-9 * 0.98078528040323 / 2384e-9,\n    -2161503e-9 * 0.98078528040323 / 2384e-9,\n    0.032754898 * 0.98078528040323 / 2384e-9,\n    4752159e-9 * 0.98078528040323 / 2384e-9,\n    866413e-9 * 0.98078528040323 / 2384e-9,\n    62943e-9 * 0.98078528040323 / 2384e-9,\n    3815e-9 * 0.98078528040323 / 2384e-9,\n    -2718e-8 * 0.98078528040323 / 2384e-9,\n    522137e-9 * 0.98078528040323 / 2384e-9,\n    7703304e-9 * 0.98078528040323 / 2384e-9,\n    -0.027815342 * 0.98078528040323 / 2384e-9,\n    -4290581e-9 * 0.98078528040323 / 2384e-9,\n    -611782e-9 * 0.98078528040323 / 2384e-9,\n    -3767e-8 * 0.98078528040323 / 2384e-9,\n    0.198912367379658,\n    1.847759065022573,\n    -1907e-9 * 0.989176509964781 / 2384e-9,\n    90122e-9 * 0.989176509964781 / 2384e-9,\n    288486e-9 * 0.989176509964781 / 2384e-9,\n    -2774239e-9 * 0.989176509964781 / 2384e-9,\n    0.03224802 * 0.989176509964781 / 2384e-9,\n    4748821e-9 * 0.989176509964781 / 2384e-9,\n    838757e-9 * 0.989176509964781 / 2384e-9,\n    59605e-9 * 0.989176509964781 / 2384e-9,\n    3338e-9 * 0.989176509964781 / 2384e-9,\n    -39577e-9 * 0.989176509964781 / 2384e-9,\n    388145e-9 * 0.989176509964781 / 2384e-9,\n    6937027e-9 * 0.989176509964781 / 2384e-9,\n    -0.028532982 * 0.989176509964781 / 2384e-9,\n    -4395962e-9 * 0.989176509964781 / 2384e-9,\n    -646591e-9 * 0.989176509964781 / 2384e-9,\n    -40531e-9 * 0.989176509964781 / 2384e-9,\n    0.1483359875383474,\n    1.913880671464418,\n    -1907e-9 * 0.995184726672197 / 2384e-9,\n    844e-7 * 0.995184726672197 / 2384e-9,\n    191689e-9 * 0.995184726672197 / 2384e-9,\n    -3411293e-9 * 0.995184726672197 / 2384e-9,\n    0.03170681 * 0.995184726672197 / 2384e-9,\n    4728317e-9 * 0.995184726672197 / 2384e-9,\n    809669e-9 * 0.995184726672197 / 2384e-9,\n    5579e-8 * 0.995184726672197 / 2384e-9,\n    3338e-9 * 0.995184726672197 / 2384e-9,\n    -50545e-9 * 0.995184726672197 / 2384e-9,\n    259876e-9 * 0.995184726672197 / 2384e-9,\n    6189346e-9 * 0.995184726672197 / 2384e-9,\n    -0.029224873 * 0.995184726672197 / 2384e-9,\n    -4489899e-9 * 0.995184726672197 / 2384e-9,\n    -680923e-9 * 0.995184726672197 / 2384e-9,\n    -43392e-9 * 0.995184726672197 / 2384e-9,\n    0.09849140335716425,\n    1.961570560806461,\n    -2384e-9 * 0.998795456205172 / 2384e-9,\n    77724e-9 * 0.998795456205172 / 2384e-9,\n    88215e-9 * 0.998795456205172 / 2384e-9,\n    -4072189e-9 * 0.998795456205172 / 2384e-9,\n    0.031132698 * 0.998795456205172 / 2384e-9,\n    4691124e-9 * 0.998795456205172 / 2384e-9,\n    779152e-9 * 0.998795456205172 / 2384e-9,\n    52929e-9 * 0.998795456205172 / 2384e-9,\n    2861e-9 * 0.998795456205172 / 2384e-9,\n    -60558e-9 * 0.998795456205172 / 2384e-9,\n    137329e-9 * 0.998795456205172 / 2384e-9,\n    546217e-8 * 0.998795456205172 / 2384e-9,\n    -0.02989006 * 0.998795456205172 / 2384e-9,\n    -4570484e-9 * 0.998795456205172 / 2384e-9,\n    -714302e-9 * 0.998795456205172 / 2384e-9,\n    -46253e-9 * 0.998795456205172 / 2384e-9,\n    0.04912684976946725,\n    1.990369453344394,\n    0.035780907 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    0.017876148 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    3134727e-9 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    2457142e-9 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    971317e-9 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    218868e-9 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    101566e-9 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    13828e-9 * Util$4.SQRT2 * 0.5 / 2384e-9,\n    0.030526638 / 2384e-9,\n    4638195e-9 / 2384e-9,\n    747204e-9 / 2384e-9,\n    49591e-9 / 2384e-9,\n    4756451e-9 / 2384e-9,\n    21458e-9 / 2384e-9,\n    -69618e-9 / 2384e-9\n  ];\n  var NS = 12;\n  var NL2 = 36;\n  var win = [\n    [\n      2382191739347913e-28,\n      6423305872147834e-28,\n      9400849094049688e-28,\n      1122435026096556e-27,\n      1183840321267481e-27,\n      1122435026096556e-27,\n      940084909404969e-27,\n      6423305872147839e-28,\n      2382191739347918e-28,\n      5456116108943412e-27,\n      4878985199565852e-27,\n      4240448995017367e-27,\n      3559909094758252e-27,\n      2858043359288075e-27,\n      2156177623817898e-27,\n      1475637723558783e-27,\n      8371015190102974e-28,\n      2599706096327376e-28,\n      -5456116108943412e-27,\n      -4878985199565852e-27,\n      -4240448995017367e-27,\n      -3559909094758252e-27,\n      -2858043359288076e-27,\n      -2156177623817898e-27,\n      -1475637723558783e-27,\n      -8371015190102975e-28,\n      -2599706096327376e-28,\n      -2382191739347923e-28,\n      -6423305872147843e-28,\n      -9400849094049696e-28,\n      -1122435026096556e-27,\n      -1183840321267481e-27,\n      -1122435026096556e-27,\n      -9400849094049694e-28,\n      -642330587214784e-27,\n      -2382191739347918e-28\n    ],\n    [\n      2382191739347913e-28,\n      6423305872147834e-28,\n      9400849094049688e-28,\n      1122435026096556e-27,\n      1183840321267481e-27,\n      1122435026096556e-27,\n      9400849094049688e-28,\n      6423305872147841e-28,\n      2382191739347918e-28,\n      5456116108943413e-27,\n      4878985199565852e-27,\n      4240448995017367e-27,\n      3559909094758253e-27,\n      2858043359288075e-27,\n      2156177623817898e-27,\n      1475637723558782e-27,\n      8371015190102975e-28,\n      2599706096327376e-28,\n      -5461314069809755e-27,\n      -4921085770524055e-27,\n      -4343405037091838e-27,\n      -3732668368707687e-27,\n      -3093523840190885e-27,\n      -2430835727329465e-27,\n      -1734679010007751e-27,\n      -974825365660928e-27,\n      -2797435120168326e-28,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      -2283748241799531e-28,\n      -4037858874020686e-28,\n      -2146547464825323e-28\n    ],\n    [\n      0.1316524975873958,\n      0.414213562373095,\n      0.7673269879789602,\n      1.091308501069271,\n      1.303225372841206,\n      1.56968557711749,\n      1.920982126971166,\n      2.414213562373094,\n      3.171594802363212,\n      4.510708503662055,\n      7.595754112725146,\n      22.90376554843115,\n      0.984807753012208,\n      0.6427876096865394,\n      0.3420201433256688,\n      0.9396926207859084,\n      -0.1736481776669303,\n      -0.7660444431189779,\n      0.8660254037844387,\n      0.5,\n      -0.5144957554275265,\n      -0.4717319685649723,\n      -0.3133774542039019,\n      -0.1819131996109812,\n      -0.09457419252642064,\n      -0.04096558288530405,\n      -0.01419856857247115,\n      -0.003699974673760037,\n      0.8574929257125442,\n      0.8817419973177052,\n      0.9496286491027329,\n      0.9833145924917901,\n      0.9955178160675857,\n      0.9991605581781475,\n      0.999899195244447,\n      0.9999931550702802\n    ],\n    [\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      2283748241799531e-28,\n      4037858874020686e-28,\n      2146547464825323e-28,\n      5461314069809755e-27,\n      4921085770524055e-27,\n      4343405037091838e-27,\n      3732668368707687e-27,\n      3093523840190885e-27,\n      2430835727329466e-27,\n      1734679010007751e-27,\n      974825365660928e-27,\n      2797435120168326e-28,\n      -5456116108943413e-27,\n      -4878985199565852e-27,\n      -4240448995017367e-27,\n      -3559909094758253e-27,\n      -2858043359288075e-27,\n      -2156177623817898e-27,\n      -1475637723558782e-27,\n      -8371015190102975e-28,\n      -2599706096327376e-28,\n      -2382191739347913e-28,\n      -6423305872147834e-28,\n      -9400849094049688e-28,\n      -1122435026096556e-27,\n      -1183840321267481e-27,\n      -1122435026096556e-27,\n      -9400849094049688e-28,\n      -6423305872147841e-28,\n      -2382191739347918e-28\n    ]\n  ];\n  var tantab_l = win[Encoder.SHORT_TYPE];\n  var cx = win[Encoder.SHORT_TYPE];\n  var ca = win[Encoder.SHORT_TYPE];\n  var cs = win[Encoder.SHORT_TYPE];\n  var order = [\n    0,\n    1,\n    16,\n    17,\n    8,\n    9,\n    24,\n    25,\n    4,\n    5,\n    20,\n    21,\n    12,\n    13,\n    28,\n    29,\n    2,\n    3,\n    18,\n    19,\n    10,\n    11,\n    26,\n    27,\n    6,\n    7,\n    22,\n    23,\n    14,\n    15,\n    30,\n    31\n  ];\n  function window_subband(x1, x1Pos, a) {\n    var wp = 10;\n    var x2 = x1Pos + 238 - 14 - 286;\n    for (var i = -15; i < 0; i++) {\n      var w, s, t;\n      w = enwindow[wp + -10];\n      s = x1[x2 + -224] * w;\n      t = x1[x1Pos + 224] * w;\n      w = enwindow[wp + -9];\n      s += x1[x2 + -160] * w;\n      t += x1[x1Pos + 160] * w;\n      w = enwindow[wp + -8];\n      s += x1[x2 + -96] * w;\n      t += x1[x1Pos + 96] * w;\n      w = enwindow[wp + -7];\n      s += x1[x2 + -32] * w;\n      t += x1[x1Pos + 32] * w;\n      w = enwindow[wp + -6];\n      s += x1[x2 + 32] * w;\n      t += x1[x1Pos + -32] * w;\n      w = enwindow[wp + -5];\n      s += x1[x2 + 96] * w;\n      t += x1[x1Pos + -96] * w;\n      w = enwindow[wp + -4];\n      s += x1[x2 + 160] * w;\n      t += x1[x1Pos + -160] * w;\n      w = enwindow[wp + -3];\n      s += x1[x2 + 224] * w;\n      t += x1[x1Pos + -224] * w;\n      w = enwindow[wp + -2];\n      s += x1[x1Pos + -256] * w;\n      t -= x1[x2 + 256] * w;\n      w = enwindow[wp + -1];\n      s += x1[x1Pos + -192] * w;\n      t -= x1[x2 + 192] * w;\n      w = enwindow[wp + 0];\n      s += x1[x1Pos + -128] * w;\n      t -= x1[x2 + 128] * w;\n      w = enwindow[wp + 1];\n      s += x1[x1Pos + -64] * w;\n      t -= x1[x2 + 64] * w;\n      w = enwindow[wp + 2];\n      s += x1[x1Pos + 0] * w;\n      t -= x1[x2 + 0] * w;\n      w = enwindow[wp + 3];\n      s += x1[x1Pos + 64] * w;\n      t -= x1[x2 + -64] * w;\n      w = enwindow[wp + 4];\n      s += x1[x1Pos + 128] * w;\n      t -= x1[x2 + -128] * w;\n      w = enwindow[wp + 5];\n      s += x1[x1Pos + 192] * w;\n      t -= x1[x2 + -192] * w;\n      s *= enwindow[wp + 6];\n      w = t - s;\n      a[30 + i * 2] = t + s;\n      a[31 + i * 2] = enwindow[wp + 7] * w;\n      wp += 18;\n      x1Pos--;\n      x2++;\n    }\n    {\n      var s, t, u, v;\n      t = x1[x1Pos + -16] * enwindow[wp + -10];\n      s = x1[x1Pos + -32] * enwindow[wp + -2];\n      t += (x1[x1Pos + -48] - x1[x1Pos + 16]) * enwindow[wp + -9];\n      s += x1[x1Pos + -96] * enwindow[wp + -1];\n      t += (x1[x1Pos + -80] + x1[x1Pos + 48]) * enwindow[wp + -8];\n      s += x1[x1Pos + -160] * enwindow[wp + 0];\n      t += (x1[x1Pos + -112] - x1[x1Pos + 80]) * enwindow[wp + -7];\n      s += x1[x1Pos + -224] * enwindow[wp + 1];\n      t += (x1[x1Pos + -144] + x1[x1Pos + 112]) * enwindow[wp + -6];\n      s -= x1[x1Pos + 32] * enwindow[wp + 2];\n      t += (x1[x1Pos + -176] - x1[x1Pos + 144]) * enwindow[wp + -5];\n      s -= x1[x1Pos + 96] * enwindow[wp + 3];\n      t += (x1[x1Pos + -208] + x1[x1Pos + 176]) * enwindow[wp + -4];\n      s -= x1[x1Pos + 160] * enwindow[wp + 4];\n      t += (x1[x1Pos + -240] - x1[x1Pos + 208]) * enwindow[wp + -3];\n      s -= x1[x1Pos + 224];\n      u = s - t;\n      v = s + t;\n      t = a[14];\n      s = a[15] - t;\n      a[31] = v + t;\n      a[30] = u + s;\n      a[15] = u - s;\n      a[14] = v - t;\n    }\n    {\n      var xr;\n      xr = a[28] - a[0];\n      a[0] += a[28];\n      a[28] = xr * enwindow[wp + -2 * 18 + 7];\n      xr = a[29] - a[1];\n      a[1] += a[29];\n      a[29] = xr * enwindow[wp + -2 * 18 + 7];\n      xr = a[26] - a[2];\n      a[2] += a[26];\n      a[26] = xr * enwindow[wp + -4 * 18 + 7];\n      xr = a[27] - a[3];\n      a[3] += a[27];\n      a[27] = xr * enwindow[wp + -4 * 18 + 7];\n      xr = a[24] - a[4];\n      a[4] += a[24];\n      a[24] = xr * enwindow[wp + -6 * 18 + 7];\n      xr = a[25] - a[5];\n      a[5] += a[25];\n      a[25] = xr * enwindow[wp + -6 * 18 + 7];\n      xr = a[22] - a[6];\n      a[6] += a[22];\n      a[22] = xr * Util$4.SQRT2;\n      xr = a[23] - a[7];\n      a[7] += a[23];\n      a[23] = xr * Util$4.SQRT2 - a[7];\n      a[7] -= a[6];\n      a[22] -= a[7];\n      a[23] -= a[22];\n      xr = a[6];\n      a[6] = a[31] - xr;\n      a[31] = a[31] + xr;\n      xr = a[7];\n      a[7] = a[30] - xr;\n      a[30] = a[30] + xr;\n      xr = a[22];\n      a[22] = a[15] - xr;\n      a[15] = a[15] + xr;\n      xr = a[23];\n      a[23] = a[14] - xr;\n      a[14] = a[14] + xr;\n      xr = a[20] - a[8];\n      a[8] += a[20];\n      a[20] = xr * enwindow[wp + -10 * 18 + 7];\n      xr = a[21] - a[9];\n      a[9] += a[21];\n      a[21] = xr * enwindow[wp + -10 * 18 + 7];\n      xr = a[18] - a[10];\n      a[10] += a[18];\n      a[18] = xr * enwindow[wp + -12 * 18 + 7];\n      xr = a[19] - a[11];\n      a[11] += a[19];\n      a[19] = xr * enwindow[wp + -12 * 18 + 7];\n      xr = a[16] - a[12];\n      a[12] += a[16];\n      a[16] = xr * enwindow[wp + -14 * 18 + 7];\n      xr = a[17] - a[13];\n      a[13] += a[17];\n      a[17] = xr * enwindow[wp + -14 * 18 + 7];\n      xr = -a[20] + a[24];\n      a[20] += a[24];\n      a[24] = xr * enwindow[wp + -12 * 18 + 7];\n      xr = -a[21] + a[25];\n      a[21] += a[25];\n      a[25] = xr * enwindow[wp + -12 * 18 + 7];\n      xr = a[4] - a[8];\n      a[4] += a[8];\n      a[8] = xr * enwindow[wp + -12 * 18 + 7];\n      xr = a[5] - a[9];\n      a[5] += a[9];\n      a[9] = xr * enwindow[wp + -12 * 18 + 7];\n      xr = a[0] - a[12];\n      a[0] += a[12];\n      a[12] = xr * enwindow[wp + -4 * 18 + 7];\n      xr = a[1] - a[13];\n      a[1] += a[13];\n      a[13] = xr * enwindow[wp + -4 * 18 + 7];\n      xr = a[16] - a[28];\n      a[16] += a[28];\n      a[28] = xr * enwindow[wp + -4 * 18 + 7];\n      xr = -a[17] + a[29];\n      a[17] += a[29];\n      a[29] = xr * enwindow[wp + -4 * 18 + 7];\n      xr = Util$4.SQRT2 * (a[2] - a[10]);\n      a[2] += a[10];\n      a[10] = xr;\n      xr = Util$4.SQRT2 * (a[3] - a[11]);\n      a[3] += a[11];\n      a[11] = xr;\n      xr = Util$4.SQRT2 * (-a[18] + a[26]);\n      a[18] += a[26];\n      a[26] = xr - a[18];\n      xr = Util$4.SQRT2 * (-a[19] + a[27]);\n      a[19] += a[27];\n      a[27] = xr - a[19];\n      xr = a[2];\n      a[19] -= a[3];\n      a[3] -= xr;\n      a[2] = a[31] - xr;\n      a[31] += xr;\n      xr = a[3];\n      a[11] -= a[19];\n      a[18] -= xr;\n      a[3] = a[30] - xr;\n      a[30] += xr;\n      xr = a[18];\n      a[27] -= a[11];\n      a[19] -= xr;\n      a[18] = a[15] - xr;\n      a[15] += xr;\n      xr = a[19];\n      a[10] -= xr;\n      a[19] = a[14] - xr;\n      a[14] += xr;\n      xr = a[10];\n      a[11] -= xr;\n      a[10] = a[23] - xr;\n      a[23] += xr;\n      xr = a[11];\n      a[26] -= xr;\n      a[11] = a[22] - xr;\n      a[22] += xr;\n      xr = a[26];\n      a[27] -= xr;\n      a[26] = a[7] - xr;\n      a[7] += xr;\n      xr = a[27];\n      a[27] = a[6] - xr;\n      a[6] += xr;\n      xr = Util$4.SQRT2 * (a[0] - a[4]);\n      a[0] += a[4];\n      a[4] = xr;\n      xr = Util$4.SQRT2 * (a[1] - a[5]);\n      a[1] += a[5];\n      a[5] = xr;\n      xr = Util$4.SQRT2 * (a[16] - a[20]);\n      a[16] += a[20];\n      a[20] = xr;\n      xr = Util$4.SQRT2 * (a[17] - a[21]);\n      a[17] += a[21];\n      a[21] = xr;\n      xr = -Util$4.SQRT2 * (a[8] - a[12]);\n      a[8] += a[12];\n      a[12] = xr - a[8];\n      xr = -Util$4.SQRT2 * (a[9] - a[13]);\n      a[9] += a[13];\n      a[13] = xr - a[9];\n      xr = -Util$4.SQRT2 * (a[25] - a[29]);\n      a[25] += a[29];\n      a[29] = xr - a[25];\n      xr = -Util$4.SQRT2 * (a[24] + a[28]);\n      a[24] -= a[28];\n      a[28] = xr - a[24];\n      xr = a[24] - a[16];\n      a[24] = xr;\n      xr = a[20] - xr;\n      a[20] = xr;\n      xr = a[28] - xr;\n      a[28] = xr;\n      xr = a[25] - a[17];\n      a[25] = xr;\n      xr = a[21] - xr;\n      a[21] = xr;\n      xr = a[29] - xr;\n      a[29] = xr;\n      xr = a[17] - a[1];\n      a[17] = xr;\n      xr = a[9] - xr;\n      a[9] = xr;\n      xr = a[25] - xr;\n      a[25] = xr;\n      xr = a[5] - xr;\n      a[5] = xr;\n      xr = a[21] - xr;\n      a[21] = xr;\n      xr = a[13] - xr;\n      a[13] = xr;\n      xr = a[29] - xr;\n      a[29] = xr;\n      xr = a[1] - a[0];\n      a[1] = xr;\n      xr = a[16] - xr;\n      a[16] = xr;\n      xr = a[17] - xr;\n      a[17] = xr;\n      xr = a[8] - xr;\n      a[8] = xr;\n      xr = a[9] - xr;\n      a[9] = xr;\n      xr = a[24] - xr;\n      a[24] = xr;\n      xr = a[25] - xr;\n      a[25] = xr;\n      xr = a[4] - xr;\n      a[4] = xr;\n      xr = a[5] - xr;\n      a[5] = xr;\n      xr = a[20] - xr;\n      a[20] = xr;\n      xr = a[21] - xr;\n      a[21] = xr;\n      xr = a[12] - xr;\n      a[12] = xr;\n      xr = a[13] - xr;\n      a[13] = xr;\n      xr = a[28] - xr;\n      a[28] = xr;\n      xr = a[29] - xr;\n      a[29] = xr;\n      xr = a[0];\n      a[0] += a[31];\n      a[31] -= xr;\n      xr = a[1];\n      a[1] += a[30];\n      a[30] -= xr;\n      xr = a[16];\n      a[16] += a[15];\n      a[15] -= xr;\n      xr = a[17];\n      a[17] += a[14];\n      a[14] -= xr;\n      xr = a[8];\n      a[8] += a[23];\n      a[23] -= xr;\n      xr = a[9];\n      a[9] += a[22];\n      a[22] -= xr;\n      xr = a[24];\n      a[24] += a[7];\n      a[7] -= xr;\n      xr = a[25];\n      a[25] += a[6];\n      a[6] -= xr;\n      xr = a[4];\n      a[4] += a[27];\n      a[27] -= xr;\n      xr = a[5];\n      a[5] += a[26];\n      a[26] -= xr;\n      xr = a[20];\n      a[20] += a[11];\n      a[11] -= xr;\n      xr = a[21];\n      a[21] += a[10];\n      a[10] -= xr;\n      xr = a[12];\n      a[12] += a[19];\n      a[19] -= xr;\n      xr = a[13];\n      a[13] += a[18];\n      a[18] -= xr;\n      xr = a[28];\n      a[28] += a[3];\n      a[3] -= xr;\n      xr = a[29];\n      a[29] += a[2];\n      a[2] -= xr;\n    }\n  }\n  function mdct_short(inout, inoutPos) {\n    for (var l = 0; l < 3; l++) {\n      var tc0, tc1, tc2, ts0, ts1, ts2;\n      ts0 = inout[inoutPos + 2 * 3] * win[Encoder.SHORT_TYPE][0] - inout[inoutPos + 5 * 3];\n      tc0 = inout[inoutPos + 0 * 3] * win[Encoder.SHORT_TYPE][2] - inout[inoutPos + 3 * 3];\n      tc1 = ts0 + tc0;\n      tc2 = ts0 - tc0;\n      ts0 = inout[inoutPos + 5 * 3] * win[Encoder.SHORT_TYPE][0] + inout[inoutPos + 2 * 3];\n      tc0 = inout[inoutPos + 3 * 3] * win[Encoder.SHORT_TYPE][2] + inout[inoutPos + 0 * 3];\n      ts1 = ts0 + tc0;\n      ts2 = -ts0 + tc0;\n      tc0 = (inout[inoutPos + 1 * 3] * win[Encoder.SHORT_TYPE][1] - inout[inoutPos + 4 * 3]) * 2069978111953089e-26;\n      ts0 = (inout[inoutPos + 4 * 3] * win[Encoder.SHORT_TYPE][1] + inout[inoutPos + 1 * 3]) * 2069978111953089e-26;\n      inout[inoutPos + 3 * 0] = tc1 * 190752519173728e-25 + tc0;\n      inout[inoutPos + 3 * 5] = -ts1 * 190752519173728e-25 + ts0;\n      tc2 = tc2 * 0.8660254037844387 * 1907525191737281e-26;\n      ts1 = ts1 * 0.5 * 1907525191737281e-26 + ts0;\n      inout[inoutPos + 3 * 1] = tc2 - ts1;\n      inout[inoutPos + 3 * 2] = tc2 + ts1;\n      tc1 = tc1 * 0.5 * 1907525191737281e-26 - tc0;\n      ts2 = ts2 * 0.8660254037844387 * 1907525191737281e-26;\n      inout[inoutPos + 3 * 3] = tc1 + ts2;\n      inout[inoutPos + 3 * 4] = tc1 - ts2;\n      inoutPos++;\n    }\n  }\n  function mdct_long(out, outPos, _in) {\n    var ct, st;\n    {\n      var tc1, tc2, tc3, tc4, ts5, ts6, ts7, ts8;\n      tc1 = _in[17] - _in[9];\n      tc3 = _in[15] - _in[11];\n      tc4 = _in[14] - _in[12];\n      ts5 = _in[0] + _in[8];\n      ts6 = _in[1] + _in[7];\n      ts7 = _in[2] + _in[6];\n      ts8 = _in[3] + _in[5];\n      out[outPos + 17] = ts5 + ts7 - ts8 - (ts6 - _in[4]);\n      st = (ts5 + ts7 - ts8) * cx[12 + 7] + (ts6 - _in[4]);\n      ct = (tc1 - tc3 - tc4) * cx[12 + 6];\n      out[outPos + 5] = ct + st;\n      out[outPos + 6] = ct - st;\n      tc2 = (_in[16] - _in[10]) * cx[12 + 6];\n      ts6 = ts6 * cx[12 + 7] + _in[4];\n      ct = tc1 * cx[12 + 0] + tc2 + tc3 * cx[12 + 1] + tc4 * cx[12 + 2];\n      st = -ts5 * cx[12 + 4] + ts6 - ts7 * cx[12 + 5] + ts8 * cx[12 + 3];\n      out[outPos + 1] = ct + st;\n      out[outPos + 2] = ct - st;\n      ct = tc1 * cx[12 + 1] - tc2 - tc3 * cx[12 + 2] + tc4 * cx[12 + 0];\n      st = -ts5 * cx[12 + 5] + ts6 - ts7 * cx[12 + 3] + ts8 * cx[12 + 4];\n      out[outPos + 9] = ct + st;\n      out[outPos + 10] = ct - st;\n      ct = tc1 * cx[12 + 2] - tc2 + tc3 * cx[12 + 0] - tc4 * cx[12 + 1];\n      st = ts5 * cx[12 + 3] - ts6 + ts7 * cx[12 + 4] - ts8 * cx[12 + 5];\n      out[outPos + 13] = ct + st;\n      out[outPos + 14] = ct - st;\n    }\n    {\n      var ts1, ts2, ts3, ts4, tc5, tc6, tc7, tc8;\n      ts1 = _in[8] - _in[0];\n      ts3 = _in[6] - _in[2];\n      ts4 = _in[5] - _in[3];\n      tc5 = _in[17] + _in[9];\n      tc6 = _in[16] + _in[10];\n      tc7 = _in[15] + _in[11];\n      tc8 = _in[14] + _in[12];\n      out[outPos + 0] = tc5 + tc7 + tc8 + (tc6 + _in[13]);\n      ct = (tc5 + tc7 + tc8) * cx[12 + 7] - (tc6 + _in[13]);\n      st = (ts1 - ts3 + ts4) * cx[12 + 6];\n      out[outPos + 11] = ct + st;\n      out[outPos + 12] = ct - st;\n      ts2 = (_in[7] - _in[1]) * cx[12 + 6];\n      tc6 = _in[13] - tc6 * cx[12 + 7];\n      ct = tc5 * cx[12 + 3] - tc6 + tc7 * cx[12 + 4] + tc8 * cx[12 + 5];\n      st = ts1 * cx[12 + 2] + ts2 + ts3 * cx[12 + 0] + ts4 * cx[12 + 1];\n      out[outPos + 3] = ct + st;\n      out[outPos + 4] = ct - st;\n      ct = -tc5 * cx[12 + 5] + tc6 - tc7 * cx[12 + 3] - tc8 * cx[12 + 4];\n      st = ts1 * cx[12 + 1] + ts2 - ts3 * cx[12 + 2] - ts4 * cx[12 + 0];\n      out[outPos + 7] = ct + st;\n      out[outPos + 8] = ct - st;\n      ct = -tc5 * cx[12 + 4] + tc6 - tc7 * cx[12 + 5] - tc8 * cx[12 + 3];\n      st = ts1 * cx[12 + 0] - ts2 + ts3 * cx[12 + 1] - ts4 * cx[12 + 2];\n      out[outPos + 15] = ct + st;\n      out[outPos + 16] = ct - st;\n    }\n  }\n  this.mdct_sub48 = function(gfc, w0, w1) {\n    var wk = w0;\n    var wkPos = 286;\n    for (var ch = 0; ch < gfc.channels_out; ch++) {\n      for (var gr = 0; gr < gfc.mode_gr; gr++) {\n        var band;\n        var gi = gfc.l3_side.tt[gr][ch];\n        var mdct_enc = gi.xr;\n        var mdct_encPos = 0;\n        var samp = gfc.sb_sample[ch][1 - gr];\n        var sampPos = 0;\n        for (var k = 0; k < 18 / 2; k++) {\n          window_subband(wk, wkPos, samp[sampPos]);\n          window_subband(wk, wkPos + 32, samp[sampPos + 1]);\n          sampPos += 2;\n          wkPos += 64;\n          for (band = 1; band < 32; band += 2) {\n            samp[sampPos - 1][band] *= -1;\n          }\n        }\n        for (band = 0; band < 32; band++, mdct_encPos += 18) {\n          var type = gi.block_type;\n          var band0 = gfc.sb_sample[ch][gr];\n          var band1 = gfc.sb_sample[ch][1 - gr];\n          if (gi.mixed_block_flag != 0 && band < 2)\n            type = 0;\n          if (gfc.amp_filter[band] < 1e-12) {\n            Arrays$6.fill(mdct_enc, mdct_encPos + 0, mdct_encPos + 18, 0);\n          } else {\n            if (gfc.amp_filter[band] < 1) {\n              for (var k = 0; k < 18; k++) {\n                band1[k][order[band]] *= gfc.amp_filter[band];\n              }\n            }\n            if (type == Encoder.SHORT_TYPE) {\n              for (var k = -NS / 4; k < 0; k++) {\n                var w = win[Encoder.SHORT_TYPE][k + 3];\n                mdct_enc[mdct_encPos + k * 3 + 9] = band0[9 + k][order[band]] * w - band0[8 - k][order[band]];\n                mdct_enc[mdct_encPos + k * 3 + 18] = band0[14 - k][order[band]] * w + band0[15 + k][order[band]];\n                mdct_enc[mdct_encPos + k * 3 + 10] = band0[15 + k][order[band]] * w - band0[14 - k][order[band]];\n                mdct_enc[mdct_encPos + k * 3 + 19] = band1[2 - k][order[band]] * w + band1[3 + k][order[band]];\n                mdct_enc[mdct_encPos + k * 3 + 11] = band1[3 + k][order[band]] * w - band1[2 - k][order[band]];\n                mdct_enc[mdct_encPos + k * 3 + 20] = band1[8 - k][order[band]] * w + band1[9 + k][order[band]];\n              }\n              mdct_short(mdct_enc, mdct_encPos);\n            } else {\n              var work = new_float$e(18);\n              for (var k = -NL2 / 4; k < 0; k++) {\n                var a, b;\n                a = win[type][k + 27] * band1[k + 9][order[band]] + win[type][k + 36] * band1[8 - k][order[band]];\n                b = win[type][k + 9] * band0[k + 9][order[band]] - win[type][k + 18] * band0[8 - k][order[band]];\n                work[k + 9] = a - b * tantab_l[3 + k + 9];\n                work[k + 18] = a * tantab_l[3 + k + 9] + b;\n              }\n              mdct_long(mdct_enc, mdct_encPos, work);\n            }\n          }\n          if (type != Encoder.SHORT_TYPE && band != 0) {\n            for (var k = 7; k >= 0; --k) {\n              var bu, bd;\n              bu = mdct_enc[mdct_encPos + k] * ca[20 + k] + mdct_enc[mdct_encPos + -1 - k] * cs[28 + k];\n              bd = mdct_enc[mdct_encPos + k] * cs[28 + k] - mdct_enc[mdct_encPos + -1 - k] * ca[20 + k];\n              mdct_enc[mdct_encPos + -1 - k] = bu;\n              mdct_enc[mdct_encPos + k] = bd;\n            }\n          }\n        }\n      }\n      wk = w1;\n      wkPos = 286;\n      if (gfc.mode_gr == 1) {\n        for (var i = 0; i < 18; i++) {\n          System$9.arraycopy(\n            gfc.sb_sample[ch][1][i],\n            0,\n            gfc.sb_sample[ch][0][i],\n            0,\n            32\n          );\n        }\n      }\n    }\n  };\n}\nvar System$8 = common.System;\nvar new_float$d = common.new_float;\nvar new_float_n$5 = common.new_float_n;\nfunction III_psy_xmin() {\n  this.l = new_float$d(Encoder.SBMAX_l);\n  this.s = new_float_n$5([Encoder.SBMAX_s, 3]);\n  var self2 = this;\n  this.assign = function(iii_psy_xmin) {\n    System$8.arraycopy(iii_psy_xmin.l, 0, self2.l, 0, Encoder.SBMAX_l);\n    for (var i = 0; i < Encoder.SBMAX_s; i++) {\n      for (var j = 0; j < 3; j++) {\n        self2.s[i][j] = iii_psy_xmin.s[i][j];\n      }\n    }\n  };\n}\nfunction III_psy_ratio() {\n  this.thm = new III_psy_xmin();\n  this.en = new III_psy_xmin();\n}\nfunction MPEGMode(ordinal) {\n  var _ordinal = ordinal;\n  this.ordinal = function() {\n    return _ordinal;\n  };\n}\nMPEGMode.STEREO = new MPEGMode(0);\nMPEGMode.JOINT_STEREO = new MPEGMode(1);\nMPEGMode.DUAL_CHANNEL = new MPEGMode(2);\nMPEGMode.MONO = new MPEGMode(3);\nMPEGMode.NOT_SET = new MPEGMode(4);\nvar System$7 = common.System;\nvar VbrMode$6 = common.VbrMode;\nvar new_array_n = common.new_array_n;\nvar new_float$c = common.new_float;\nvar new_float_n$4 = common.new_float_n;\nvar new_int$c = common.new_int;\nvar assert$a = common.assert;\nEncoder.ENCDELAY = 576;\nEncoder.POSTDELAY = 1152;\nEncoder.MDCTDELAY = 48;\nEncoder.FFTOFFSET = 224 + Encoder.MDCTDELAY;\nEncoder.DECDELAY = 528;\nEncoder.SBLIMIT = 32;\nEncoder.CBANDS = 64;\nEncoder.SBPSY_l = 21;\nEncoder.SBPSY_s = 12;\nEncoder.SBMAX_l = 22;\nEncoder.SBMAX_s = 13;\nEncoder.PSFB21 = 6;\nEncoder.PSFB12 = 6;\nEncoder.BLKSIZE = 1024;\nEncoder.HBLKSIZE = Encoder.BLKSIZE / 2 + 1;\nEncoder.BLKSIZE_s = 256;\nEncoder.HBLKSIZE_s = Encoder.BLKSIZE_s / 2 + 1;\nEncoder.NORM_TYPE = 0;\nEncoder.START_TYPE = 1;\nEncoder.SHORT_TYPE = 2;\nEncoder.STOP_TYPE = 3;\nEncoder.MPG_MD_LR_LR = 0;\nEncoder.MPG_MD_LR_I = 1;\nEncoder.MPG_MD_MS_LR = 2;\nEncoder.MPG_MD_MS_I = 3;\nEncoder.fircoef = [\n  -0.0207887 * 5,\n  -0.0378413 * 5,\n  -0.0432472 * 5,\n  -0.031183 * 5,\n  779609e-23 * 5,\n  0.0467745 * 5,\n  0.10091 * 5,\n  0.151365 * 5,\n  0.187098 * 5\n];\nfunction Encoder() {\n  var FFTOFFSET = Encoder.FFTOFFSET;\n  var MPG_MD_MS_LR = Encoder.MPG_MD_MS_LR;\n  var bs = null;\n  this.psy = null;\n  var psy = null;\n  var vbr = null;\n  var qupvt = null;\n  this.setModules = function(_bs, _psy, _qupvt, _vbr) {\n    bs = _bs;\n    this.psy = _psy;\n    psy = _psy;\n    vbr = _vbr;\n    qupvt = _qupvt;\n  };\n  var newMDCT = new NewMDCT();\n  function adjust_ATH(gfc) {\n    var gr2_max, max_pow;\n    if (gfc.ATH.useAdjust == 0) {\n      gfc.ATH.adjust = 1;\n      return;\n    }\n    max_pow = gfc.loudness_sq[0][0];\n    gr2_max = gfc.loudness_sq[1][0];\n    if (gfc.channels_out == 2) {\n      max_pow += gfc.loudness_sq[0][1];\n      gr2_max += gfc.loudness_sq[1][1];\n    } else {\n      max_pow += max_pow;\n      gr2_max += gr2_max;\n    }\n    if (gfc.mode_gr == 2) {\n      max_pow = Math.max(max_pow, gr2_max);\n    }\n    max_pow *= 0.5;\n    max_pow *= gfc.ATH.aaSensitivityP;\n    if (max_pow > 0.03125) {\n      if (gfc.ATH.adjust >= 1) {\n        gfc.ATH.adjust = 1;\n      } else {\n        if (gfc.ATH.adjust < gfc.ATH.adjustLimit) {\n          gfc.ATH.adjust = gfc.ATH.adjustLimit;\n        }\n      }\n      gfc.ATH.adjustLimit = 1;\n    } else {\n      var adj_lim_new = 31.98 * max_pow + 625e-6;\n      if (gfc.ATH.adjust >= adj_lim_new) {\n        gfc.ATH.adjust *= adj_lim_new * 0.075 + 0.925;\n        if (gfc.ATH.adjust < adj_lim_new) {\n          gfc.ATH.adjust = adj_lim_new;\n        }\n      } else {\n        if (gfc.ATH.adjustLimit >= adj_lim_new) {\n          gfc.ATH.adjust = adj_lim_new;\n        } else {\n          if (gfc.ATH.adjust < gfc.ATH.adjustLimit) {\n            gfc.ATH.adjust = gfc.ATH.adjustLimit;\n          }\n        }\n      }\n      gfc.ATH.adjustLimit = adj_lim_new;\n    }\n  }\n  function updateStats(gfc) {\n    var gr, ch;\n    assert$a(gfc.bitrate_index >= 0 && gfc.bitrate_index < 16);\n    assert$a(gfc.mode_ext >= 0 && gfc.mode_ext < 4);\n    gfc.bitrate_stereoMode_Hist[gfc.bitrate_index][4]++;\n    gfc.bitrate_stereoMode_Hist[15][4]++;\n    if (gfc.channels_out == 2) {\n      gfc.bitrate_stereoMode_Hist[gfc.bitrate_index][gfc.mode_ext]++;\n      gfc.bitrate_stereoMode_Hist[15][gfc.mode_ext]++;\n    }\n    for (gr = 0; gr < gfc.mode_gr; ++gr) {\n      for (ch = 0; ch < gfc.channels_out; ++ch) {\n        var bt = gfc.l3_side.tt[gr][ch].block_type | 0;\n        if (gfc.l3_side.tt[gr][ch].mixed_block_flag != 0)\n          bt = 4;\n        gfc.bitrate_blockType_Hist[gfc.bitrate_index][bt]++;\n        gfc.bitrate_blockType_Hist[gfc.bitrate_index][5]++;\n        gfc.bitrate_blockType_Hist[15][bt]++;\n        gfc.bitrate_blockType_Hist[15][5]++;\n      }\n    }\n  }\n  function lame_encode_frame_init(gfp, inbuf) {\n    var gfc = gfp.internal_flags;\n    var ch, gr;\n    if (gfc.lame_encode_frame_init == 0) {\n      var i, j;\n      var primebuff0 = new_float$c(286 + 1152 + 576);\n      var primebuff1 = new_float$c(286 + 1152 + 576);\n      gfc.lame_encode_frame_init = 1;\n      for (i = 0, j = 0; i < 286 + 576 * (1 + gfc.mode_gr); ++i) {\n        if (i < 576 * gfc.mode_gr) {\n          primebuff0[i] = 0;\n          if (gfc.channels_out == 2)\n            primebuff1[i] = 0;\n        } else {\n          primebuff0[i] = inbuf[0][j];\n          if (gfc.channels_out == 2)\n            primebuff1[i] = inbuf[1][j];\n          ++j;\n        }\n      }\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          gfc.l3_side.tt[gr][ch].block_type = Encoder.SHORT_TYPE;\n        }\n      }\n      newMDCT.mdct_sub48(gfc, primebuff0, primebuff1);\n      assert$a(gfc.mf_size >= Encoder.BLKSIZE + gfp.framesize - Encoder.FFTOFFSET);\n      assert$a(gfc.mf_size >= 512 + gfp.framesize - 32);\n    }\n  }\n  this.lame_encode_mp3_frame = function(gfp, inbuf_l, inbuf_r, mp3buf, mp3bufPos, mp3buf_size) {\n    var mp3count;\n    var masking_LR = new_array_n([2, 2]);\n    masking_LR[0][0] = new III_psy_ratio();\n    masking_LR[0][1] = new III_psy_ratio();\n    masking_LR[1][0] = new III_psy_ratio();\n    masking_LR[1][1] = new III_psy_ratio();\n    var masking_MS = new_array_n([2, 2]);\n    masking_MS[0][0] = new III_psy_ratio();\n    masking_MS[0][1] = new III_psy_ratio();\n    masking_MS[1][0] = new III_psy_ratio();\n    masking_MS[1][1] = new III_psy_ratio();\n    var masking;\n    var inbuf = [null, null];\n    var gfc = gfp.internal_flags;\n    var tot_ener = new_float_n$4([2, 4]);\n    var ms_ener_ratio = [0.5, 0.5];\n    var pe = [\n      [0, 0],\n      [0, 0]\n    ];\n    var pe_MS = [\n      [0, 0],\n      [0, 0]\n    ];\n    var pe_use;\n    var ch, gr;\n    inbuf[0] = inbuf_l;\n    inbuf[1] = inbuf_r;\n    if (gfc.lame_encode_frame_init == 0) {\n      lame_encode_frame_init(gfp, inbuf);\n    }\n    gfc.padding = 0;\n    if ((gfc.slot_lag -= gfc.frac_SpF) < 0) {\n      gfc.slot_lag += gfp.out_samplerate;\n      gfc.padding = 1;\n    }\n    if (gfc.psymodel != 0) {\n      var ret;\n      var bufp = [null, null];\n      var bufpPos = 0;\n      var blocktype = new_int$c(2);\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          bufp[ch] = inbuf[ch];\n          bufpPos = 576 + gr * 576 - Encoder.FFTOFFSET;\n        }\n        if (gfp.VBR == VbrMode$6.vbr_mtrh || gfp.VBR == VbrMode$6.vbr_mt) {\n          ret = psy.L3psycho_anal_vbr(\n            gfp,\n            bufp,\n            bufpPos,\n            gr,\n            masking_LR,\n            masking_MS,\n            pe[gr],\n            pe_MS[gr],\n            tot_ener[gr],\n            blocktype\n          );\n        } else {\n          ret = psy.L3psycho_anal_ns(\n            gfp,\n            bufp,\n            bufpPos,\n            gr,\n            masking_LR,\n            masking_MS,\n            pe[gr],\n            pe_MS[gr],\n            tot_ener[gr],\n            blocktype\n          );\n        }\n        if (ret != 0)\n          return -4;\n        if (gfp.mode == MPEGMode.JOINT_STEREO) {\n          ms_ener_ratio[gr] = tot_ener[gr][2] + tot_ener[gr][3];\n          if (ms_ener_ratio[gr] > 0) {\n            ms_ener_ratio[gr] = tot_ener[gr][3] / ms_ener_ratio[gr];\n          }\n        }\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          var cod_info = gfc.l3_side.tt[gr][ch];\n          cod_info.block_type = blocktype[ch];\n          cod_info.mixed_block_flag = 0;\n        }\n      }\n    } else {\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          gfc.l3_side.tt[gr][ch].block_type = Encoder.NORM_TYPE;\n          gfc.l3_side.tt[gr][ch].mixed_block_flag = 0;\n          pe_MS[gr][ch] = pe[gr][ch] = 700;\n        }\n      }\n    }\n    adjust_ATH(gfc);\n    newMDCT.mdct_sub48(gfc, inbuf[0], inbuf[1]);\n    gfc.mode_ext = Encoder.MPG_MD_LR_LR;\n    if (gfp.force_ms) {\n      gfc.mode_ext = Encoder.MPG_MD_MS_LR;\n    } else if (gfp.mode == MPEGMode.JOINT_STEREO) {\n      var sum_pe_MS = 0;\n      var sum_pe_LR = 0;\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          sum_pe_MS += pe_MS[gr][ch];\n          sum_pe_LR += pe[gr][ch];\n        }\n      }\n      if (sum_pe_MS <= 1 * sum_pe_LR) {\n        var gi0 = gfc.l3_side.tt[0];\n        var gi1 = gfc.l3_side.tt[gfc.mode_gr - 1];\n        if (gi0[0].block_type == gi0[1].block_type && gi1[0].block_type == gi1[1].block_type) {\n          gfc.mode_ext = Encoder.MPG_MD_MS_LR;\n        }\n      }\n    }\n    if (gfc.mode_ext == MPG_MD_MS_LR) {\n      masking = masking_MS;\n      pe_use = pe_MS;\n    } else {\n      masking = masking_LR;\n      pe_use = pe;\n    }\n    if (gfp.analysis && gfc.pinfo != null) {\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          gfc.pinfo.ms_ratio[gr] = gfc.ms_ratio[gr];\n          gfc.pinfo.ms_ener_ratio[gr] = ms_ener_ratio[gr];\n          gfc.pinfo.blocktype[gr][ch] = gfc.l3_side.tt[gr][ch].block_type;\n          gfc.pinfo.pe[gr][ch] = pe_use[gr][ch];\n          System$7.arraycopy(\n            gfc.l3_side.tt[gr][ch].xr,\n            0,\n            gfc.pinfo.xr[gr][ch],\n            0,\n            576\n          );\n          if (gfc.mode_ext == MPG_MD_MS_LR) {\n            gfc.pinfo.ers[gr][ch] = gfc.pinfo.ers[gr][ch + 2];\n            System$7.arraycopy(\n              gfc.pinfo.energy[gr][ch + 2],\n              0,\n              gfc.pinfo.energy[gr][ch],\n              0,\n              gfc.pinfo.energy[gr][ch].length\n            );\n          }\n        }\n      }\n    }\n    if (gfp.VBR == VbrMode$6.vbr_off || gfp.VBR == VbrMode$6.vbr_abr) {\n      var i;\n      var f;\n      for (i = 0; i < 18; i++)\n        gfc.nsPsy.pefirbuf[i] = gfc.nsPsy.pefirbuf[i + 1];\n      f = 0;\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++)\n          f += pe_use[gr][ch];\n      }\n      gfc.nsPsy.pefirbuf[18] = f;\n      f = gfc.nsPsy.pefirbuf[9];\n      for (i = 0; i < 9; i++) {\n        f += (gfc.nsPsy.pefirbuf[i] + gfc.nsPsy.pefirbuf[18 - i]) * Encoder.fircoef[i];\n      }\n      f = 670 * 5 * gfc.mode_gr * gfc.channels_out / f;\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          pe_use[gr][ch] *= f;\n        }\n      }\n    }\n    gfc.iteration_loop.iteration_loop(gfp, pe_use, ms_ener_ratio, masking);\n    bs.format_bitstream(gfp);\n    mp3count = bs.copy_buffer(gfc, mp3buf, mp3bufPos, mp3buf_size, 1);\n    if (gfp.bWriteVbrTag)\n      vbr.addVbrFrame(gfp);\n    if (gfp.analysis && gfc.pinfo != null) {\n      for (ch = 0; ch < gfc.channels_out; ch++) {\n        var j;\n        for (j = 0; j < FFTOFFSET; j++) {\n          gfc.pinfo.pcmdata[ch][j] = gfc.pinfo.pcmdata[ch][j + gfp.framesize];\n        }\n        for (j = FFTOFFSET; j < 1600; j++) {\n          gfc.pinfo.pcmdata[ch][j] = inbuf[ch][j - FFTOFFSET];\n        }\n      }\n      qupvt.set_frame_pinfo(gfp, masking);\n    }\n    updateStats(gfc);\n    return mp3count;\n  };\n}\nvar Util$3 = common.Util;\nvar new_float$b = common.new_float;\nfunction FFT() {\n  var window2 = new_float$b(Encoder.BLKSIZE);\n  var window_s = new_float$b(Encoder.BLKSIZE_s / 2);\n  var costab = [\n    0.9238795325112867,\n    0.3826834323650898,\n    0.9951847266721969,\n    0.0980171403295606,\n    0.9996988186962042,\n    0.02454122852291229,\n    0.9999811752826011,\n    0.006135884649154475\n  ];\n  function fht(fz, fzPos, n) {\n    var tri = 0;\n    var k4;\n    var fi;\n    var gi;\n    n <<= 1;\n    var fn = fzPos + n;\n    k4 = 4;\n    do {\n      var s1, c1;\n      var i, k1, k2, k3, kx;\n      kx = k4 >> 1;\n      k1 = k4;\n      k2 = k4 << 1;\n      k3 = k2 + k1;\n      k4 = k2 << 1;\n      fi = fzPos;\n      gi = fi + kx;\n      do {\n        var f0, f1, f2, f3;\n        f1 = fz[fi + 0] - fz[fi + k1];\n        f0 = fz[fi + 0] + fz[fi + k1];\n        f3 = fz[fi + k2] - fz[fi + k3];\n        f2 = fz[fi + k2] + fz[fi + k3];\n        fz[fi + k2] = f0 - f2;\n        fz[fi + 0] = f0 + f2;\n        fz[fi + k3] = f1 - f3;\n        fz[fi + k1] = f1 + f3;\n        f1 = fz[gi + 0] - fz[gi + k1];\n        f0 = fz[gi + 0] + fz[gi + k1];\n        f3 = Util$3.SQRT2 * fz[gi + k3];\n        f2 = Util$3.SQRT2 * fz[gi + k2];\n        fz[gi + k2] = f0 - f2;\n        fz[gi + 0] = f0 + f2;\n        fz[gi + k3] = f1 - f3;\n        fz[gi + k1] = f1 + f3;\n        gi += k4;\n        fi += k4;\n      } while (fi < fn);\n      c1 = costab[tri + 0];\n      s1 = costab[tri + 1];\n      for (i = 1; i < kx; i++) {\n        var c2, s2;\n        c2 = 1 - 2 * s1 * s1;\n        s2 = 2 * s1 * c1;\n        fi = fzPos + i;\n        gi = fzPos + k1 - i;\n        do {\n          var a, b, g0, f0, f1, g1, f2, g2, f3, g3;\n          b = s2 * fz[fi + k1] - c2 * fz[gi + k1];\n          a = c2 * fz[fi + k1] + s2 * fz[gi + k1];\n          f1 = fz[fi + 0] - a;\n          f0 = fz[fi + 0] + a;\n          g1 = fz[gi + 0] - b;\n          g0 = fz[gi + 0] + b;\n          b = s2 * fz[fi + k3] - c2 * fz[gi + k3];\n          a = c2 * fz[fi + k3] + s2 * fz[gi + k3];\n          f3 = fz[fi + k2] - a;\n          f2 = fz[fi + k2] + a;\n          g3 = fz[gi + k2] - b;\n          g2 = fz[gi + k2] + b;\n          b = s1 * f2 - c1 * g3;\n          a = c1 * f2 + s1 * g3;\n          fz[fi + k2] = f0 - a;\n          fz[fi + 0] = f0 + a;\n          fz[gi + k3] = g1 - b;\n          fz[gi + k1] = g1 + b;\n          b = c1 * g2 - s1 * f3;\n          a = s1 * g2 + c1 * f3;\n          fz[gi + k2] = g0 - a;\n          fz[gi + 0] = g0 + a;\n          fz[fi + k3] = f1 - b;\n          fz[fi + k1] = f1 + b;\n          gi += k4;\n          fi += k4;\n        } while (fi < fn);\n        c2 = c1;\n        c1 = c2 * costab[tri + 0] - s1 * costab[tri + 1];\n        s1 = c2 * costab[tri + 1] + s1 * costab[tri + 0];\n      }\n      tri += 2;\n    } while (k4 < n);\n  }\n  var rv_tbl = [\n    0,\n    128,\n    64,\n    192,\n    32,\n    160,\n    96,\n    224,\n    16,\n    144,\n    80,\n    208,\n    48,\n    176,\n    112,\n    240,\n    8,\n    136,\n    72,\n    200,\n    40,\n    168,\n    104,\n    232,\n    24,\n    152,\n    88,\n    216,\n    56,\n    184,\n    120,\n    248,\n    4,\n    132,\n    68,\n    196,\n    36,\n    164,\n    100,\n    228,\n    20,\n    148,\n    84,\n    212,\n    52,\n    180,\n    116,\n    244,\n    12,\n    140,\n    76,\n    204,\n    44,\n    172,\n    108,\n    236,\n    28,\n    156,\n    92,\n    220,\n    60,\n    188,\n    124,\n    252,\n    2,\n    130,\n    66,\n    194,\n    34,\n    162,\n    98,\n    226,\n    18,\n    146,\n    82,\n    210,\n    50,\n    178,\n    114,\n    242,\n    10,\n    138,\n    74,\n    202,\n    42,\n    170,\n    106,\n    234,\n    26,\n    154,\n    90,\n    218,\n    58,\n    186,\n    122,\n    250,\n    6,\n    134,\n    70,\n    198,\n    38,\n    166,\n    102,\n    230,\n    22,\n    150,\n    86,\n    214,\n    54,\n    182,\n    118,\n    246,\n    14,\n    142,\n    78,\n    206,\n    46,\n    174,\n    110,\n    238,\n    30,\n    158,\n    94,\n    222,\n    62,\n    190,\n    126,\n    254\n  ];\n  this.fft_short = function(gfc, x_real, chn, buffer, bufPos) {\n    for (var b = 0; b < 3; b++) {\n      var x = Encoder.BLKSIZE_s / 2;\n      var k = 65535 & 576 / 3 * (b + 1);\n      var j = Encoder.BLKSIZE_s / 8 - 1;\n      do {\n        var f0, f1, f2, f3, w;\n        var i = rv_tbl[j << 2] & 255;\n        f0 = window_s[i] * buffer[chn][bufPos + i + k];\n        w = window_s[127 - i] * buffer[chn][bufPos + i + k + 128];\n        f1 = f0 - w;\n        f0 = f0 + w;\n        f2 = window_s[i + 64] * buffer[chn][bufPos + i + k + 64];\n        w = window_s[63 - i] * buffer[chn][bufPos + i + k + 192];\n        f3 = f2 - w;\n        f2 = f2 + w;\n        x -= 4;\n        x_real[b][x + 0] = f0 + f2;\n        x_real[b][x + 2] = f0 - f2;\n        x_real[b][x + 1] = f1 + f3;\n        x_real[b][x + 3] = f1 - f3;\n        f0 = window_s[i + 1] * buffer[chn][bufPos + i + k + 1];\n        w = window_s[126 - i] * buffer[chn][bufPos + i + k + 129];\n        f1 = f0 - w;\n        f0 = f0 + w;\n        f2 = window_s[i + 65] * buffer[chn][bufPos + i + k + 65];\n        w = window_s[62 - i] * buffer[chn][bufPos + i + k + 193];\n        f3 = f2 - w;\n        f2 = f2 + w;\n        x_real[b][x + Encoder.BLKSIZE_s / 2 + 0] = f0 + f2;\n        x_real[b][x + Encoder.BLKSIZE_s / 2 + 2] = f0 - f2;\n        x_real[b][x + Encoder.BLKSIZE_s / 2 + 1] = f1 + f3;\n        x_real[b][x + Encoder.BLKSIZE_s / 2 + 3] = f1 - f3;\n      } while (--j >= 0);\n      fht(x_real[b], x, Encoder.BLKSIZE_s / 2);\n    }\n  };\n  this.fft_long = function(gfc, y, chn, buffer, bufPos) {\n    var jj = Encoder.BLKSIZE / 8 - 1;\n    var x = Encoder.BLKSIZE / 2;\n    do {\n      var f0, f1, f2, f3, w;\n      var i = rv_tbl[jj] & 255;\n      f0 = window2[i] * buffer[chn][bufPos + i];\n      w = window2[i + 512] * buffer[chn][bufPos + i + 512];\n      f1 = f0 - w;\n      f0 = f0 + w;\n      f2 = window2[i + 256] * buffer[chn][bufPos + i + 256];\n      w = window2[i + 768] * buffer[chn][bufPos + i + 768];\n      f3 = f2 - w;\n      f2 = f2 + w;\n      x -= 4;\n      y[x + 0] = f0 + f2;\n      y[x + 2] = f0 - f2;\n      y[x + 1] = f1 + f3;\n      y[x + 3] = f1 - f3;\n      f0 = window2[i + 1] * buffer[chn][bufPos + i + 1];\n      w = window2[i + 513] * buffer[chn][bufPos + i + 513];\n      f1 = f0 - w;\n      f0 = f0 + w;\n      f2 = window2[i + 257] * buffer[chn][bufPos + i + 257];\n      w = window2[i + 769] * buffer[chn][bufPos + i + 769];\n      f3 = f2 - w;\n      f2 = f2 + w;\n      y[x + Encoder.BLKSIZE / 2 + 0] = f0 + f2;\n      y[x + Encoder.BLKSIZE / 2 + 2] = f0 - f2;\n      y[x + Encoder.BLKSIZE / 2 + 1] = f1 + f3;\n      y[x + Encoder.BLKSIZE / 2 + 3] = f1 - f3;\n    } while (--jj >= 0);\n    fht(y, x, Encoder.BLKSIZE / 2);\n  };\n  this.init_fft = function(gfc) {\n    for (var i = 0; i < Encoder.BLKSIZE; i++) {\n      window2[i] = 0.42 - 0.5 * Math.cos(2 * Math.PI * (i + 0.5) / Encoder.BLKSIZE) + 0.08 * Math.cos(4 * Math.PI * (i + 0.5) / Encoder.BLKSIZE);\n    }\n    for (var i = 0; i < Encoder.BLKSIZE_s / 2; i++) {\n      window_s[i] = 0.5 * (1 - Math.cos(2 * Math.PI * (i + 0.5) / Encoder.BLKSIZE_s));\n    }\n  };\n}\nvar VbrMode$5 = common.VbrMode;\nvar Float$1 = common.Float;\nvar ShortBlock$2 = common.ShortBlock;\nvar Util$2 = common.Util;\nvar Arrays$5 = common.Arrays;\nvar new_float$a = common.new_float;\nvar new_float_n$3 = common.new_float_n;\nvar new_int$b = common.new_int;\nvar assert$9 = common.assert;\nfunction PsyModel() {\n  var fft = new FFT();\n  var LOG10 = 2.302585092994046;\n  var rpelev = 2;\n  var rpelev2 = 16;\n  var rpelev_s = 2;\n  var rpelev2_s = 16;\n  var DELBARK = 0.34;\n  var VO_SCALE = 1 / (14752 * 14752) / (Encoder.BLKSIZE / 2);\n  var temporalmask_sustain_sec = 0.01;\n  var NS_PREECHO_ATT0 = 0.8;\n  var NS_PREECHO_ATT1 = 0.6;\n  var NS_PREECHO_ATT2 = 0.3;\n  var NS_MSFIX = 3.5;\n  var NSFIRLEN = 21;\n  var LN_TO_LOG10 = 0.2302585093;\n  function NON_LINEAR_SCALE_ENERGY(x) {\n    return x;\n  }\n  function psycho_loudness_approx(energy, gfc) {\n    var loudness_power = 0;\n    for (var i = 0; i < Encoder.BLKSIZE / 2; ++i) {\n      loudness_power += energy[i] * gfc.ATH.eql_w[i];\n    }\n    loudness_power *= VO_SCALE;\n    return loudness_power;\n  }\n  function compute_ffts(gfp, fftenergy, fftenergy_s, wsamp_l, wsamp_lPos, wsamp_s, wsamp_sPos, gr_out, chn, buffer, bufPos) {\n    var gfc = gfp.internal_flags;\n    if (chn < 2) {\n      fft.fft_long(gfc, wsamp_l[wsamp_lPos], chn, buffer, bufPos);\n      fft.fft_short(gfc, wsamp_s[wsamp_sPos], chn, buffer, bufPos);\n    } else if (chn == 2) {\n      for (var j = Encoder.BLKSIZE - 1; j >= 0; --j) {\n        var l = wsamp_l[wsamp_lPos + 0][j];\n        var r = wsamp_l[wsamp_lPos + 1][j];\n        wsamp_l[wsamp_lPos + 0][j] = (l + r) * Util$2.SQRT2 * 0.5;\n        wsamp_l[wsamp_lPos + 1][j] = (l - r) * Util$2.SQRT2 * 0.5;\n      }\n      for (var b = 2; b >= 0; --b) {\n        for (var j = Encoder.BLKSIZE_s - 1; j >= 0; --j) {\n          var l = wsamp_s[wsamp_sPos + 0][b][j];\n          var r = wsamp_s[wsamp_sPos + 1][b][j];\n          wsamp_s[wsamp_sPos + 0][b][j] = (l + r) * Util$2.SQRT2 * 0.5;\n          wsamp_s[wsamp_sPos + 1][b][j] = (l - r) * Util$2.SQRT2 * 0.5;\n        }\n      }\n    }\n    fftenergy[0] = NON_LINEAR_SCALE_ENERGY(wsamp_l[wsamp_lPos + 0][0]);\n    fftenergy[0] *= fftenergy[0];\n    for (var j = Encoder.BLKSIZE / 2 - 1; j >= 0; --j) {\n      var re = wsamp_l[wsamp_lPos + 0][Encoder.BLKSIZE / 2 - j];\n      var im = wsamp_l[wsamp_lPos + 0][Encoder.BLKSIZE / 2 + j];\n      fftenergy[Encoder.BLKSIZE / 2 - j] = NON_LINEAR_SCALE_ENERGY(\n        (re * re + im * im) * 0.5\n      );\n    }\n    for (var b = 2; b >= 0; --b) {\n      fftenergy_s[b][0] = wsamp_s[wsamp_sPos + 0][b][0];\n      fftenergy_s[b][0] *= fftenergy_s[b][0];\n      for (var j = Encoder.BLKSIZE_s / 2 - 1; j >= 0; --j) {\n        var re = wsamp_s[wsamp_sPos + 0][b][Encoder.BLKSIZE_s / 2 - j];\n        var im = wsamp_s[wsamp_sPos + 0][b][Encoder.BLKSIZE_s / 2 + j];\n        fftenergy_s[b][Encoder.BLKSIZE_s / 2 - j] = NON_LINEAR_SCALE_ENERGY(\n          (re * re + im * im) * 0.5\n        );\n      }\n    }\n    {\n      var totalenergy = 0;\n      for (var j = 11; j < Encoder.HBLKSIZE; j++)\n        totalenergy += fftenergy[j];\n      gfc.tot_ener[chn] = totalenergy;\n    }\n    if (gfp.analysis) {\n      for (var j = 0; j < Encoder.HBLKSIZE; j++) {\n        gfc.pinfo.energy[gr_out][chn][j] = gfc.pinfo.energy_save[chn][j];\n        gfc.pinfo.energy_save[chn][j] = fftenergy[j];\n      }\n      gfc.pinfo.pe[gr_out][chn] = gfc.pe[chn];\n    }\n    if (gfp.athaa_loudapprox == 2 && chn < 2) {\n      gfc.loudness_sq[gr_out][chn] = gfc.loudness_sq_save[chn];\n      gfc.loudness_sq_save[chn] = psycho_loudness_approx(fftenergy, gfc);\n    }\n  }\n  var I1LIMIT = 8;\n  var I2LIMIT = 23;\n  var MLIMIT = 15;\n  var ma_max_i1;\n  var ma_max_i2;\n  var ma_max_m;\n  var tab = [\n    1,\n    0.79433,\n    0.63096,\n    0.63096,\n    0.63096,\n    0.63096,\n    0.63096,\n    0.25119,\n    0.11749\n  ];\n  function init_mask_add_max_values() {\n    ma_max_i1 = Math.pow(10, (I1LIMIT + 1) / 16);\n    ma_max_i2 = Math.pow(10, (I2LIMIT + 1) / 16);\n    ma_max_m = Math.pow(10, MLIMIT / 10);\n  }\n  var table1 = [\n    3.3246 * 3.3246,\n    3.23837 * 3.23837,\n    3.15437 * 3.15437,\n    3.00412 * 3.00412,\n    2.86103 * 2.86103,\n    2.65407 * 2.65407,\n    2.46209 * 2.46209,\n    2.284 * 2.284,\n    2.11879 * 2.11879,\n    1.96552 * 1.96552,\n    1.82335 * 1.82335,\n    1.69146 * 1.69146,\n    1.56911 * 1.56911,\n    1.46658 * 1.46658,\n    1.37074 * 1.37074,\n    1.31036 * 1.31036,\n    1.25264 * 1.25264,\n    1.20648 * 1.20648,\n    1.16203 * 1.16203,\n    1.12765 * 1.12765,\n    1.09428 * 1.09428,\n    1.0659 * 1.0659,\n    1.03826 * 1.03826,\n    1.01895 * 1.01895,\n    1\n  ];\n  var table2 = [\n    1.33352 * 1.33352,\n    1.35879 * 1.35879,\n    1.38454 * 1.38454,\n    1.39497 * 1.39497,\n    1.40548 * 1.40548,\n    1.3537 * 1.3537,\n    1.30382 * 1.30382,\n    1.22321 * 1.22321,\n    1.14758 * 1.14758,\n    1\n  ];\n  var table3 = [\n    2.35364 * 2.35364,\n    2.29259 * 2.29259,\n    2.23313 * 2.23313,\n    2.12675 * 2.12675,\n    2.02545 * 2.02545,\n    1.87894 * 1.87894,\n    1.74303 * 1.74303,\n    1.61695 * 1.61695,\n    1.49999 * 1.49999,\n    1.39148 * 1.39148,\n    1.29083 * 1.29083,\n    1.19746 * 1.19746,\n    1.11084 * 1.11084,\n    1.03826 * 1.03826\n  ];\n  function mask_add(m1, m2, kk, b, gfc, shortblock) {\n    var ratio;\n    if (m2 > m1) {\n      if (m2 < m1 * ma_max_i2)\n        ratio = m2 / m1;\n      else\n        return m1 + m2;\n    } else {\n      if (m1 >= m2 * ma_max_i2)\n        return m1 + m2;\n      ratio = m1 / m2;\n    }\n    m1 += m2;\n    if (b + 3 <= 3 + 3) {\n      if (ratio >= ma_max_i1) {\n        return m1;\n      }\n      var i = 0 | Util$2.FAST_LOG10_X(ratio, 16);\n      return m1 * table2[i];\n    }\n    var i = 0 | Util$2.FAST_LOG10_X(ratio, 16);\n    if (shortblock != 0) {\n      m2 = gfc.ATH.cb_s[kk] * gfc.ATH.adjust;\n    } else {\n      m2 = gfc.ATH.cb_l[kk] * gfc.ATH.adjust;\n    }\n    if (m1 < ma_max_m * m2) {\n      if (m1 > m2) {\n        var f, r;\n        f = 1;\n        if (i <= 13)\n          f = table3[i];\n        r = Util$2.FAST_LOG10_X(m1 / m2, 10 / 15);\n        return m1 * ((table1[i] - f) * r + f);\n      }\n      if (i > 13)\n        return m1;\n      return m1 * table3[i];\n    }\n    return m1 * table1[i];\n  }\n  var table2_ = [\n    1.33352 * 1.33352,\n    1.35879 * 1.35879,\n    1.38454 * 1.38454,\n    1.39497 * 1.39497,\n    1.40548 * 1.40548,\n    1.3537 * 1.3537,\n    1.30382 * 1.30382,\n    1.22321 * 1.22321,\n    1.14758 * 1.14758,\n    1\n  ];\n  function vbrpsy_mask_add(m1, m2, b) {\n    var ratio;\n    if (m1 < 0) {\n      m1 = 0;\n    }\n    if (m2 < 0) {\n      m2 = 0;\n    }\n    if (m1 <= 0) {\n      return m2;\n    }\n    if (m2 <= 0) {\n      return m1;\n    }\n    if (m2 > m1) {\n      ratio = m2 / m1;\n    } else {\n      ratio = m1 / m2;\n    }\n    if (b >= -2 && b <= 2) {\n      if (ratio >= ma_max_i1) {\n        return m1 + m2;\n      } else {\n        var i = 0 | Util$2.FAST_LOG10_X(ratio, 16);\n        return (m1 + m2) * table2_[i];\n      }\n    }\n    if (ratio < ma_max_i2) {\n      return m1 + m2;\n    }\n    if (m1 < m2) {\n      m1 = m2;\n    }\n    return m1;\n  }\n  function calc_interchannel_masking(gfp, ratio) {\n    var gfc = gfp.internal_flags;\n    if (gfc.channels_out > 1) {\n      for (var sb = 0; sb < Encoder.SBMAX_l; sb++) {\n        var l = gfc.thm[0].l[sb];\n        var r = gfc.thm[1].l[sb];\n        gfc.thm[0].l[sb] += r * ratio;\n        gfc.thm[1].l[sb] += l * ratio;\n      }\n      for (var sb = 0; sb < Encoder.SBMAX_s; sb++) {\n        for (var sblock = 0; sblock < 3; sblock++) {\n          var l = gfc.thm[0].s[sb][sblock];\n          var r = gfc.thm[1].s[sb][sblock];\n          gfc.thm[0].s[sb][sblock] += r * ratio;\n          gfc.thm[1].s[sb][sblock] += l * ratio;\n        }\n      }\n    }\n  }\n  function msfix1(gfc) {\n    for (var sb = 0; sb < Encoder.SBMAX_l; sb++) {\n      if (gfc.thm[0].l[sb] > 1.58 * gfc.thm[1].l[sb] || gfc.thm[1].l[sb] > 1.58 * gfc.thm[0].l[sb]) {\n        continue;\n      }\n      var mld = gfc.mld_l[sb] * gfc.en[3].l[sb];\n      var rmid = Math.max(gfc.thm[2].l[sb], Math.min(gfc.thm[3].l[sb], mld));\n      mld = gfc.mld_l[sb] * gfc.en[2].l[sb];\n      var rside = Math.max(gfc.thm[3].l[sb], Math.min(gfc.thm[2].l[sb], mld));\n      gfc.thm[2].l[sb] = rmid;\n      gfc.thm[3].l[sb] = rside;\n    }\n    for (var sb = 0; sb < Encoder.SBMAX_s; sb++) {\n      for (var sblock = 0; sblock < 3; sblock++) {\n        if (gfc.thm[0].s[sb][sblock] > 1.58 * gfc.thm[1].s[sb][sblock] || gfc.thm[1].s[sb][sblock] > 1.58 * gfc.thm[0].s[sb][sblock]) {\n          continue;\n        }\n        var mld = gfc.mld_s[sb] * gfc.en[3].s[sb][sblock];\n        var rmid = Math.max(\n          gfc.thm[2].s[sb][sblock],\n          Math.min(gfc.thm[3].s[sb][sblock], mld)\n        );\n        mld = gfc.mld_s[sb] * gfc.en[2].s[sb][sblock];\n        var rside = Math.max(\n          gfc.thm[3].s[sb][sblock],\n          Math.min(gfc.thm[2].s[sb][sblock], mld)\n        );\n        gfc.thm[2].s[sb][sblock] = rmid;\n        gfc.thm[3].s[sb][sblock] = rside;\n      }\n    }\n  }\n  function ns_msfix(gfc, msfix, athadjust) {\n    var msfix2 = msfix;\n    var athlower = Math.pow(10, athadjust);\n    msfix *= 2;\n    msfix2 *= 2;\n    for (var sb = 0; sb < Encoder.SBMAX_l; sb++) {\n      var thmLR, thmM, thmS, ath;\n      ath = gfc.ATH.cb_l[gfc.bm_l[sb]] * athlower;\n      thmLR = Math.min(\n        Math.max(gfc.thm[0].l[sb], ath),\n        Math.max(gfc.thm[1].l[sb], ath)\n      );\n      thmM = Math.max(gfc.thm[2].l[sb], ath);\n      thmS = Math.max(gfc.thm[3].l[sb], ath);\n      if (thmLR * msfix < thmM + thmS) {\n        var f = thmLR * msfix2 / (thmM + thmS);\n        thmM *= f;\n        thmS *= f;\n      }\n      gfc.thm[2].l[sb] = Math.min(thmM, gfc.thm[2].l[sb]);\n      gfc.thm[3].l[sb] = Math.min(thmS, gfc.thm[3].l[sb]);\n    }\n    athlower *= Encoder.BLKSIZE_s / Encoder.BLKSIZE;\n    for (var sb = 0; sb < Encoder.SBMAX_s; sb++) {\n      for (var sblock = 0; sblock < 3; sblock++) {\n        var thmLR, thmM, thmS, ath;\n        ath = gfc.ATH.cb_s[gfc.bm_s[sb]] * athlower;\n        thmLR = Math.min(\n          Math.max(gfc.thm[0].s[sb][sblock], ath),\n          Math.max(gfc.thm[1].s[sb][sblock], ath)\n        );\n        thmM = Math.max(gfc.thm[2].s[sb][sblock], ath);\n        thmS = Math.max(gfc.thm[3].s[sb][sblock], ath);\n        if (thmLR * msfix < thmM + thmS) {\n          var f = thmLR * msfix / (thmM + thmS);\n          thmM *= f;\n          thmS *= f;\n        }\n        gfc.thm[2].s[sb][sblock] = Math.min(gfc.thm[2].s[sb][sblock], thmM);\n        gfc.thm[3].s[sb][sblock] = Math.min(gfc.thm[3].s[sb][sblock], thmS);\n      }\n    }\n  }\n  function convert_partition2scalefac_s(gfc, eb, thr, chn, sblock) {\n    var sb, b;\n    var enn = 0;\n    var thmm = 0;\n    for (sb = b = 0; sb < Encoder.SBMAX_s; ++b, ++sb) {\n      var bo_s_sb = gfc.bo_s[sb];\n      var npart_s = gfc.npart_s;\n      var b_lim = bo_s_sb < npart_s ? bo_s_sb : npart_s;\n      while (b < b_lim) {\n        assert$9(eb[b] >= 0);\n        assert$9(thr[b] >= 0);\n        enn += eb[b];\n        thmm += thr[b];\n        b++;\n      }\n      gfc.en[chn].s[sb][sblock] = enn;\n      gfc.thm[chn].s[sb][sblock] = thmm;\n      if (b >= npart_s) {\n        ++sb;\n        break;\n      }\n      assert$9(eb[b] >= 0);\n      assert$9(thr[b] >= 0);\n      {\n        var w_curr = gfc.PSY.bo_s_weight[sb];\n        var w_next = 1 - w_curr;\n        enn = w_curr * eb[b];\n        thmm = w_curr * thr[b];\n        gfc.en[chn].s[sb][sblock] += enn;\n        gfc.thm[chn].s[sb][sblock] += thmm;\n        enn = w_next * eb[b];\n        thmm = w_next * thr[b];\n      }\n    }\n    for (; sb < Encoder.SBMAX_s; ++sb) {\n      gfc.en[chn].s[sb][sblock] = 0;\n      gfc.thm[chn].s[sb][sblock] = 0;\n    }\n  }\n  function convert_partition2scalefac_l(gfc, eb, thr, chn) {\n    var sb, b;\n    var enn = 0;\n    var thmm = 0;\n    for (sb = b = 0; sb < Encoder.SBMAX_l; ++b, ++sb) {\n      var bo_l_sb = gfc.bo_l[sb];\n      var npart_l = gfc.npart_l;\n      var b_lim = bo_l_sb < npart_l ? bo_l_sb : npart_l;\n      while (b < b_lim) {\n        assert$9(eb[b] >= 0);\n        assert$9(thr[b] >= 0);\n        enn += eb[b];\n        thmm += thr[b];\n        b++;\n      }\n      gfc.en[chn].l[sb] = enn;\n      gfc.thm[chn].l[sb] = thmm;\n      if (b >= npart_l) {\n        ++sb;\n        break;\n      }\n      assert$9(eb[b] >= 0);\n      assert$9(thr[b] >= 0);\n      {\n        var w_curr = gfc.PSY.bo_l_weight[sb];\n        var w_next = 1 - w_curr;\n        enn = w_curr * eb[b];\n        thmm = w_curr * thr[b];\n        gfc.en[chn].l[sb] += enn;\n        gfc.thm[chn].l[sb] += thmm;\n        enn = w_next * eb[b];\n        thmm = w_next * thr[b];\n      }\n    }\n    for (; sb < Encoder.SBMAX_l; ++sb) {\n      gfc.en[chn].l[sb] = 0;\n      gfc.thm[chn].l[sb] = 0;\n    }\n  }\n  function compute_masking_s(gfp, fftenergy_s, eb, thr, chn, sblock) {\n    var gfc = gfp.internal_flags;\n    var j, b;\n    for (b = j = 0; b < gfc.npart_s; ++b) {\n      var ebb = 0;\n      var n = gfc.numlines_s[b];\n      for (var i = 0; i < n; ++i, ++j) {\n        var el = fftenergy_s[sblock][j];\n        ebb += el;\n      }\n      eb[b] = ebb;\n    }\n    assert$9(b == gfc.npart_s);\n    for (j = b = 0; b < gfc.npart_s; b++) {\n      var kk = gfc.s3ind_s[b][0];\n      var ecb = gfc.s3_ss[j++] * eb[kk];\n      ++kk;\n      while (kk <= gfc.s3ind_s[b][1]) {\n        ecb += gfc.s3_ss[j] * eb[kk];\n        ++j;\n        ++kk;\n      }\n      {\n        var x = rpelev_s * gfc.nb_s1[chn][b];\n        thr[b] = Math.min(ecb, x);\n      }\n      if (gfc.blocktype_old[chn & 1] == Encoder.SHORT_TYPE) {\n        var x = rpelev2_s * gfc.nb_s2[chn][b];\n        var y = thr[b];\n        thr[b] = Math.min(x, y);\n      }\n      gfc.nb_s2[chn][b] = gfc.nb_s1[chn][b];\n      gfc.nb_s1[chn][b] = ecb;\n      assert$9(thr[b] >= 0);\n    }\n    for (; b <= Encoder.CBANDS; ++b) {\n      eb[b] = 0;\n      thr[b] = 0;\n    }\n  }\n  function block_type_set(gfp, uselongblock, blocktype_d, blocktype) {\n    var gfc = gfp.internal_flags;\n    if (gfp.short_blocks == ShortBlock$2.short_block_coupled && !(uselongblock[0] != 0 && uselongblock[1] != 0)) {\n      uselongblock[0] = uselongblock[1] = 0;\n    }\n    for (var chn = 0; chn < gfc.channels_out; chn++) {\n      blocktype[chn] = Encoder.NORM_TYPE;\n      if (gfp.short_blocks == ShortBlock$2.short_block_dispensed) {\n        uselongblock[chn] = 1;\n      }\n      if (gfp.short_blocks == ShortBlock$2.short_block_forced) {\n        uselongblock[chn] = 0;\n      }\n      if (uselongblock[chn] != 0) {\n        assert$9(gfc.blocktype_old[chn] != Encoder.START_TYPE);\n        if (gfc.blocktype_old[chn] == Encoder.SHORT_TYPE) {\n          blocktype[chn] = Encoder.STOP_TYPE;\n        }\n      } else {\n        blocktype[chn] = Encoder.SHORT_TYPE;\n        if (gfc.blocktype_old[chn] == Encoder.NORM_TYPE) {\n          gfc.blocktype_old[chn] = Encoder.START_TYPE;\n        }\n        if (gfc.blocktype_old[chn] == Encoder.STOP_TYPE) {\n          gfc.blocktype_old[chn] = Encoder.SHORT_TYPE;\n        }\n      }\n      blocktype_d[chn] = gfc.blocktype_old[chn];\n      gfc.blocktype_old[chn] = blocktype[chn];\n    }\n  }\n  function NS_INTERP(x, y, r) {\n    if (r >= 1) {\n      return x;\n    }\n    if (r <= 0)\n      return y;\n    if (y > 0) {\n      return Math.pow(x / y, r) * y;\n    }\n    return 0;\n  }\n  var regcoef_s = [\n    11.8,\n    13.6,\n    17.2,\n    32,\n    46.5,\n    51.3,\n    57.5,\n    67.1,\n    71.5,\n    84.6,\n    97.6,\n    130\n  ];\n  function pecalc_s(mr, masking_lower) {\n    var pe_s = 1236.28 / 4;\n    for (var sb = 0; sb < Encoder.SBMAX_s - 1; sb++) {\n      for (var sblock = 0; sblock < 3; sblock++) {\n        var thm = mr.thm.s[sb][sblock];\n        if (thm > 0) {\n          var x = thm * masking_lower;\n          var en = mr.en.s[sb][sblock];\n          if (en > x) {\n            if (en > x * 1e10) {\n              pe_s += regcoef_s[sb] * (10 * LOG10);\n            } else {\n              pe_s += regcoef_s[sb] * Util$2.FAST_LOG10(en / x);\n            }\n          }\n        }\n      }\n    }\n    return pe_s;\n  }\n  var regcoef_l = [\n    6.8,\n    5.8,\n    5.8,\n    6.4,\n    6.5,\n    9.9,\n    12.1,\n    14.4,\n    15,\n    18.9,\n    21.6,\n    26.9,\n    34.2,\n    40.2,\n    46.8,\n    56.5,\n    60.7,\n    73.9,\n    85.7,\n    93.4,\n    126.1\n  ];\n  function pecalc_l(mr, masking_lower) {\n    var pe_l = 1124.23 / 4;\n    for (var sb = 0; sb < Encoder.SBMAX_l - 1; sb++) {\n      var thm = mr.thm.l[sb];\n      if (thm > 0) {\n        var x = thm * masking_lower;\n        var en = mr.en.l[sb];\n        if (en > x) {\n          if (en > x * 1e10) {\n            pe_l += regcoef_l[sb] * (10 * LOG10);\n          } else {\n            pe_l += regcoef_l[sb] * Util$2.FAST_LOG10(en / x);\n          }\n        }\n      }\n    }\n    return pe_l;\n  }\n  function calc_energy(gfc, fftenergy, eb, max, avg) {\n    var b, j;\n    for (b = j = 0; b < gfc.npart_l; ++b) {\n      var ebb = 0;\n      var m = 0;\n      var i;\n      for (i = 0; i < gfc.numlines_l[b]; ++i, ++j) {\n        var el = fftenergy[j];\n        ebb += el;\n        if (m < el)\n          m = el;\n      }\n      eb[b] = ebb;\n      max[b] = m;\n      avg[b] = ebb * gfc.rnumlines_l[b];\n      assert$9(gfc.rnumlines_l[b] >= 0);\n      assert$9(eb[b] >= 0);\n      assert$9(max[b] >= 0);\n      assert$9(avg[b] >= 0);\n    }\n  }\n  function calc_mask_index_l(gfc, max, avg, mask_idx) {\n    var last_tab_entry = tab.length - 1;\n    var b = 0;\n    var a = avg[b] + avg[b + 1];\n    if (a > 0) {\n      var m = max[b];\n      if (m < max[b + 1])\n        m = max[b + 1];\n      assert$9(gfc.numlines_l[b] + gfc.numlines_l[b + 1] - 1 > 0);\n      a = 20 * (m * 2 - a) / (a * (gfc.numlines_l[b] + gfc.numlines_l[b + 1] - 1));\n      var k = 0 | a;\n      if (k > last_tab_entry)\n        k = last_tab_entry;\n      mask_idx[b] = k;\n    } else {\n      mask_idx[b] = 0;\n    }\n    for (b = 1; b < gfc.npart_l - 1; b++) {\n      a = avg[b - 1] + avg[b] + avg[b + 1];\n      if (a > 0) {\n        var m = max[b - 1];\n        if (m < max[b])\n          m = max[b];\n        if (m < max[b + 1])\n          m = max[b + 1];\n        assert$9(\n          gfc.numlines_l[b - 1] + gfc.numlines_l[b] + gfc.numlines_l[b + 1] - 1 > 0\n        );\n        a = 20 * (m * 3 - a) / (a * (gfc.numlines_l[b - 1] + gfc.numlines_l[b] + gfc.numlines_l[b + 1] - 1));\n        var k = 0 | a;\n        if (k > last_tab_entry)\n          k = last_tab_entry;\n        mask_idx[b] = k;\n      } else {\n        mask_idx[b] = 0;\n      }\n    }\n    assert$9(b == gfc.npart_l - 1);\n    a = avg[b - 1] + avg[b];\n    if (a > 0) {\n      var m = max[b - 1];\n      if (m < max[b])\n        m = max[b];\n      assert$9(gfc.numlines_l[b - 1] + gfc.numlines_l[b] - 1 > 0);\n      a = 20 * (m * 2 - a) / (a * (gfc.numlines_l[b - 1] + gfc.numlines_l[b] - 1));\n      var k = 0 | a;\n      if (k > last_tab_entry)\n        k = last_tab_entry;\n      mask_idx[b] = k;\n    } else {\n      mask_idx[b] = 0;\n    }\n    assert$9(b == gfc.npart_l - 1);\n  }\n  var fircoef = [\n    -865163e-23 * 2,\n    -851586e-8 * 2,\n    -674764e-23 * 2,\n    0.0209036 * 2,\n    -336639e-22 * 2,\n    -0.0438162 * 2,\n    -154175e-22 * 2,\n    0.0931738 * 2,\n    -552212e-22 * 2,\n    -0.313819 * 2\n  ];\n  this.L3psycho_anal_ns = function(gfp, buffer, bufPos, gr_out, masking_ratio, masking_MS_ratio, percep_entropy, percep_MS_entropy, energy, blocktype_d) {\n    var gfc = gfp.internal_flags;\n    var wsamp_L = new_float_n$3([2, Encoder.BLKSIZE]);\n    var wsamp_S = new_float_n$3([2, 3, Encoder.BLKSIZE_s]);\n    var eb_l = new_float$a(Encoder.CBANDS + 1);\n    var eb_s = new_float$a(Encoder.CBANDS + 1);\n    var thr = new_float$a(Encoder.CBANDS + 2);\n    var blocktype = new_int$b(2);\n    var uselongblock = new_int$b(2);\n    var numchn, chn;\n    var b, i, j, k;\n    var sb, sblock;\n    var ns_hpfsmpl = new_float_n$3([2, 576]);\n    var pcfact;\n    var mask_idx_l = new_int$b(Encoder.CBANDS + 2);\n    var mask_idx_s = new_int$b(Encoder.CBANDS + 2);\n    Arrays$5.fill(mask_idx_s, 0);\n    numchn = gfc.channels_out;\n    if (gfp.mode == MPEGMode.JOINT_STEREO)\n      numchn = 4;\n    if (gfp.VBR == VbrMode$5.vbr_off) {\n      pcfact = gfc.ResvMax == 0 ? 0 : gfc.ResvSize / gfc.ResvMax * 0.5;\n    } else if (gfp.VBR == VbrMode$5.vbr_rh || gfp.VBR == VbrMode$5.vbr_mtrh || gfp.VBR == VbrMode$5.vbr_mt) {\n      pcfact = 0.6;\n    } else\n      pcfact = 1;\n    for (chn = 0; chn < gfc.channels_out; chn++) {\n      var firbuf2 = buffer[chn];\n      var firbufPos = bufPos + 576 - 350 - NSFIRLEN + 192;\n      for (i = 0; i < 576; i++) {\n        var sum1, sum2;\n        sum1 = firbuf2[firbufPos + i + 10];\n        sum2 = 0;\n        for (j = 0; j < (NSFIRLEN - 1) / 2 - 1; j += 2) {\n          sum1 += fircoef[j] * (firbuf2[firbufPos + i + j] + firbuf2[firbufPos + i + NSFIRLEN - j]);\n          sum2 += fircoef[j + 1] * (firbuf2[firbufPos + i + j + 1] + firbuf2[firbufPos + i + NSFIRLEN - j - 1]);\n        }\n        ns_hpfsmpl[chn][i] = sum1 + sum2;\n      }\n      masking_ratio[gr_out][chn].en.assign(gfc.en[chn]);\n      masking_ratio[gr_out][chn].thm.assign(gfc.thm[chn]);\n      if (numchn > 2) {\n        masking_MS_ratio[gr_out][chn].en.assign(gfc.en[chn + 2]);\n        masking_MS_ratio[gr_out][chn].thm.assign(gfc.thm[chn + 2]);\n      }\n    }\n    for (chn = 0; chn < numchn; chn++) {\n      var wsamp_l;\n      var wsamp_s;\n      var en_subshort = new_float$a(12);\n      var en_short = [0, 0, 0, 0];\n      var attack_intensity = new_float$a(12);\n      var ns_uselongblock = 1;\n      var attackThreshold;\n      var max = new_float$a(Encoder.CBANDS);\n      var avg = new_float$a(Encoder.CBANDS);\n      var ns_attacks = [0, 0, 0, 0];\n      var fftenergy = new_float$a(Encoder.HBLKSIZE);\n      var fftenergy_s = new_float_n$3([3, Encoder.HBLKSIZE_s]);\n      assert$9(gfc.npart_s <= Encoder.CBANDS);\n      assert$9(gfc.npart_l <= Encoder.CBANDS);\n      for (i = 0; i < 3; i++) {\n        en_subshort[i] = gfc.nsPsy.last_en_subshort[chn][i + 6];\n        assert$9(gfc.nsPsy.last_en_subshort[chn][i + 4] > 0);\n        attack_intensity[i] = en_subshort[i] / gfc.nsPsy.last_en_subshort[chn][i + 4];\n        en_short[0] += en_subshort[i];\n      }\n      if (chn == 2) {\n        for (i = 0; i < 576; i++) {\n          var l, r;\n          l = ns_hpfsmpl[0][i];\n          r = ns_hpfsmpl[1][i];\n          ns_hpfsmpl[0][i] = l + r;\n          ns_hpfsmpl[1][i] = l - r;\n        }\n      }\n      {\n        var pf = ns_hpfsmpl[chn & 1];\n        var pfPos = 0;\n        for (i = 0; i < 9; i++) {\n          var pfe = pfPos + 576 / 9;\n          var p2 = 1;\n          for (; pfPos < pfe; pfPos++) {\n            if (p2 < Math.abs(pf[pfPos]))\n              p2 = Math.abs(pf[pfPos]);\n          }\n          gfc.nsPsy.last_en_subshort[chn][i] = en_subshort[i + 3] = p2;\n          en_short[1 + i / 3] += p2;\n          if (p2 > en_subshort[i + 3 - 2]) {\n            assert$9(en_subshort[i + 3 - 2] > 0);\n            p2 = p2 / en_subshort[i + 3 - 2];\n          } else if (en_subshort[i + 3 - 2] > p2 * 10) {\n            p2 = en_subshort[i + 3 - 2] / (p2 * 10);\n          } else\n            p2 = 0;\n          attack_intensity[i + 3] = p2;\n        }\n      }\n      if (gfp.analysis) {\n        var x = attack_intensity[0];\n        for (i = 1; i < 12; i++) {\n          if (x < attack_intensity[i])\n            x = attack_intensity[i];\n        }\n        gfc.pinfo.ers[gr_out][chn] = gfc.pinfo.ers_save[chn];\n        gfc.pinfo.ers_save[chn] = x;\n      }\n      attackThreshold = chn == 3 ? gfc.nsPsy.attackthre_s : gfc.nsPsy.attackthre;\n      for (i = 0; i < 12; i++) {\n        if (ns_attacks[i / 3] == 0 && attack_intensity[i] > attackThreshold) {\n          ns_attacks[i / 3] = i % 3 + 1;\n        }\n      }\n      for (i = 1; i < 4; i++) {\n        var ratio;\n        if (en_short[i - 1] > en_short[i]) {\n          assert$9(en_short[i] > 0);\n          ratio = en_short[i - 1] / en_short[i];\n        } else {\n          assert$9(en_short[i - 1] > 0);\n          ratio = en_short[i] / en_short[i - 1];\n        }\n        if (ratio < 1.7) {\n          ns_attacks[i] = 0;\n          if (i == 1)\n            ns_attacks[0] = 0;\n        }\n      }\n      if (ns_attacks[0] != 0 && gfc.nsPsy.lastAttacks[chn] != 0) {\n        ns_attacks[0] = 0;\n      }\n      if (gfc.nsPsy.lastAttacks[chn] == 3 || ns_attacks[0] + ns_attacks[1] + ns_attacks[2] + ns_attacks[3] != 0) {\n        ns_uselongblock = 0;\n        if (ns_attacks[1] != 0 && ns_attacks[0] != 0)\n          ns_attacks[1] = 0;\n        if (ns_attacks[2] != 0 && ns_attacks[1] != 0)\n          ns_attacks[2] = 0;\n        if (ns_attacks[3] != 0 && ns_attacks[2] != 0)\n          ns_attacks[3] = 0;\n      }\n      if (chn < 2) {\n        uselongblock[chn] = ns_uselongblock;\n      } else {\n        if (ns_uselongblock == 0) {\n          uselongblock[0] = uselongblock[1] = 0;\n        }\n      }\n      energy[chn] = gfc.tot_ener[chn];\n      wsamp_s = wsamp_S;\n      wsamp_l = wsamp_L;\n      compute_ffts(\n        gfp,\n        fftenergy,\n        fftenergy_s,\n        wsamp_l,\n        chn & 1,\n        wsamp_s,\n        chn & 1,\n        gr_out,\n        chn,\n        buffer,\n        bufPos\n      );\n      calc_energy(gfc, fftenergy, eb_l, max, avg);\n      calc_mask_index_l(gfc, max, avg, mask_idx_l);\n      for (sblock = 0; sblock < 3; sblock++) {\n        var enn, thmm;\n        compute_masking_s(gfp, fftenergy_s, eb_s, thr, chn, sblock);\n        convert_partition2scalefac_s(gfc, eb_s, thr, chn, sblock);\n        for (sb = 0; sb < Encoder.SBMAX_s; sb++) {\n          thmm = gfc.thm[chn].s[sb][sblock];\n          thmm *= NS_PREECHO_ATT0;\n          if (ns_attacks[sblock] >= 2 || ns_attacks[sblock + 1] == 1) {\n            var idx = sblock != 0 ? sblock - 1 : 2;\n            var p2 = NS_INTERP(\n              gfc.thm[chn].s[sb][idx],\n              thmm,\n              NS_PREECHO_ATT1 * pcfact\n            );\n            thmm = Math.min(thmm, p2);\n          }\n          if (ns_attacks[sblock] == 1) {\n            var idx = sblock != 0 ? sblock - 1 : 2;\n            var p2 = NS_INTERP(\n              gfc.thm[chn].s[sb][idx],\n              thmm,\n              NS_PREECHO_ATT2 * pcfact\n            );\n            thmm = Math.min(thmm, p2);\n          } else if (sblock != 0 && ns_attacks[sblock - 1] == 3 || sblock == 0 && gfc.nsPsy.lastAttacks[chn] == 3) {\n            var idx = sblock != 2 ? sblock + 1 : 0;\n            var p2 = NS_INTERP(\n              gfc.thm[chn].s[sb][idx],\n              thmm,\n              NS_PREECHO_ATT2 * pcfact\n            );\n            thmm = Math.min(thmm, p2);\n          }\n          enn = en_subshort[sblock * 3 + 3] + en_subshort[sblock * 3 + 4] + en_subshort[sblock * 3 + 5];\n          if (en_subshort[sblock * 3 + 5] * 6 < enn) {\n            thmm *= 0.5;\n            if (en_subshort[sblock * 3 + 4] * 6 < enn)\n              thmm *= 0.5;\n          }\n          gfc.thm[chn].s[sb][sblock] = thmm;\n        }\n      }\n      gfc.nsPsy.lastAttacks[chn] = ns_attacks[2];\n      k = 0;\n      {\n        for (b = 0; b < gfc.npart_l; b++) {\n          var kk = gfc.s3ind[b][0];\n          var eb2 = eb_l[kk] * tab[mask_idx_l[kk]];\n          var ecb = gfc.s3_ll[k++] * eb2;\n          while (++kk <= gfc.s3ind[b][1]) {\n            eb2 = eb_l[kk] * tab[mask_idx_l[kk]];\n            ecb = mask_add(ecb, gfc.s3_ll[k++] * eb2, kk, kk - b, gfc, 0);\n          }\n          ecb *= 0.158489319246111;\n          if (gfc.blocktype_old[chn & 1] == Encoder.SHORT_TYPE)\n            thr[b] = ecb;\n          else {\n            thr[b] = NS_INTERP(\n              Math.min(\n                ecb,\n                Math.min(rpelev * gfc.nb_1[chn][b], rpelev2 * gfc.nb_2[chn][b])\n              ),\n              ecb,\n              pcfact\n            );\n          }\n          gfc.nb_2[chn][b] = gfc.nb_1[chn][b];\n          gfc.nb_1[chn][b] = ecb;\n        }\n      }\n      for (; b <= Encoder.CBANDS; ++b) {\n        eb_l[b] = 0;\n        thr[b] = 0;\n      }\n      convert_partition2scalefac_l(gfc, eb_l, thr, chn);\n    }\n    if (gfp.mode == MPEGMode.STEREO || gfp.mode == MPEGMode.JOINT_STEREO) {\n      if (gfp.interChRatio > 0) {\n        calc_interchannel_masking(gfp, gfp.interChRatio);\n      }\n    }\n    if (gfp.mode == MPEGMode.JOINT_STEREO) {\n      var msfix;\n      msfix1(gfc);\n      msfix = gfp.msfix;\n      if (Math.abs(msfix) > 0) {\n        ns_msfix(gfc, msfix, gfp.ATHlower * gfc.ATH.adjust);\n      }\n    }\n    block_type_set(gfp, uselongblock, blocktype_d, blocktype);\n    for (chn = 0; chn < numchn; chn++) {\n      var ppe;\n      var ppePos = 0;\n      var type;\n      var mr;\n      if (chn > 1) {\n        ppe = percep_MS_entropy;\n        ppePos = -2;\n        type = Encoder.NORM_TYPE;\n        if (blocktype_d[0] == Encoder.SHORT_TYPE || blocktype_d[1] == Encoder.SHORT_TYPE) {\n          type = Encoder.SHORT_TYPE;\n        }\n        mr = masking_MS_ratio[gr_out][chn - 2];\n      } else {\n        ppe = percep_entropy;\n        ppePos = 0;\n        type = blocktype_d[chn];\n        mr = masking_ratio[gr_out][chn];\n      }\n      if (type == Encoder.SHORT_TYPE) {\n        ppe[ppePos + chn] = pecalc_s(mr, gfc.masking_lower);\n      } else\n        ppe[ppePos + chn] = pecalc_l(mr, gfc.masking_lower);\n      if (gfp.analysis)\n        gfc.pinfo.pe[gr_out][chn] = ppe[ppePos + chn];\n    }\n    return 0;\n  };\n  function vbrpsy_compute_fft_l(gfp, buffer, bufPos, chn, gr_out, fftenergy, wsamp_l, wsamp_lPos) {\n    var gfc = gfp.internal_flags;\n    if (chn < 2) {\n      fft.fft_long(gfc, wsamp_l[wsamp_lPos], chn, buffer, bufPos);\n    } else if (chn == 2) {\n      for (var j = Encoder.BLKSIZE - 1; j >= 0; --j) {\n        var l = wsamp_l[wsamp_lPos + 0][j];\n        var r = wsamp_l[wsamp_lPos + 1][j];\n        wsamp_l[wsamp_lPos + 0][j] = (l + r) * Util$2.SQRT2 * 0.5;\n        wsamp_l[wsamp_lPos + 1][j] = (l - r) * Util$2.SQRT2 * 0.5;\n      }\n    }\n    fftenergy[0] = NON_LINEAR_SCALE_ENERGY(wsamp_l[wsamp_lPos + 0][0]);\n    fftenergy[0] *= fftenergy[0];\n    for (var j = Encoder.BLKSIZE / 2 - 1; j >= 0; --j) {\n      var re = wsamp_l[wsamp_lPos + 0][Encoder.BLKSIZE / 2 - j];\n      var im = wsamp_l[wsamp_lPos + 0][Encoder.BLKSIZE / 2 + j];\n      fftenergy[Encoder.BLKSIZE / 2 - j] = NON_LINEAR_SCALE_ENERGY(\n        (re * re + im * im) * 0.5\n      );\n    }\n    {\n      var totalenergy = 0;\n      for (var j = 11; j < Encoder.HBLKSIZE; j++)\n        totalenergy += fftenergy[j];\n      gfc.tot_ener[chn] = totalenergy;\n    }\n    if (gfp.analysis) {\n      for (var j = 0; j < Encoder.HBLKSIZE; j++) {\n        gfc.pinfo.energy[gr_out][chn][j] = gfc.pinfo.energy_save[chn][j];\n        gfc.pinfo.energy_save[chn][j] = fftenergy[j];\n      }\n      gfc.pinfo.pe[gr_out][chn] = gfc.pe[chn];\n    }\n  }\n  function vbrpsy_compute_fft_s(gfp, buffer, bufPos, chn, sblock, fftenergy_s, wsamp_s, wsamp_sPos) {\n    var gfc = gfp.internal_flags;\n    if (sblock == 0 && chn < 2) {\n      fft.fft_short(gfc, wsamp_s[wsamp_sPos], chn, buffer, bufPos);\n    }\n    if (chn == 2) {\n      for (var j = Encoder.BLKSIZE_s - 1; j >= 0; --j) {\n        var l = wsamp_s[wsamp_sPos + 0][sblock][j];\n        var r = wsamp_s[wsamp_sPos + 1][sblock][j];\n        wsamp_s[wsamp_sPos + 0][sblock][j] = (l + r) * Util$2.SQRT2 * 0.5;\n        wsamp_s[wsamp_sPos + 1][sblock][j] = (l - r) * Util$2.SQRT2 * 0.5;\n      }\n    }\n    fftenergy_s[sblock][0] = wsamp_s[wsamp_sPos + 0][sblock][0];\n    fftenergy_s[sblock][0] *= fftenergy_s[sblock][0];\n    for (var j = Encoder.BLKSIZE_s / 2 - 1; j >= 0; --j) {\n      var re = wsamp_s[wsamp_sPos + 0][sblock][Encoder.BLKSIZE_s / 2 - j];\n      var im = wsamp_s[wsamp_sPos + 0][sblock][Encoder.BLKSIZE_s / 2 + j];\n      fftenergy_s[sblock][Encoder.BLKSIZE_s / 2 - j] = NON_LINEAR_SCALE_ENERGY(\n        (re * re + im * im) * 0.5\n      );\n    }\n  }\n  function vbrpsy_compute_loudness_approximation_l(gfp, gr_out, chn, fftenergy) {\n    var gfc = gfp.internal_flags;\n    if (gfp.athaa_loudapprox == 2 && chn < 2) {\n      gfc.loudness_sq[gr_out][chn] = gfc.loudness_sq_save[chn];\n      gfc.loudness_sq_save[chn] = psycho_loudness_approx(fftenergy, gfc);\n    }\n  }\n  var fircoef_ = [\n    -865163e-23 * 2,\n    -851586e-8 * 2,\n    -674764e-23 * 2,\n    0.0209036 * 2,\n    -336639e-22 * 2,\n    -0.0438162 * 2,\n    -154175e-22 * 2,\n    0.0931738 * 2,\n    -552212e-22 * 2,\n    -0.313819 * 2\n  ];\n  function vbrpsy_attack_detection(gfp, buffer, bufPos, gr_out, masking_ratio, masking_MS_ratio, energy, sub_short_factor, ns_attacks, uselongblock) {\n    var ns_hpfsmpl = new_float_n$3([2, 576]);\n    var gfc = gfp.internal_flags;\n    var n_chn_out = gfc.channels_out;\n    var n_chn_psy = gfp.mode == MPEGMode.JOINT_STEREO ? 4 : n_chn_out;\n    for (var chn = 0; chn < n_chn_out; chn++) {\n      firbuf = buffer[chn];\n      var firbufPos = bufPos + 576 - 350 - NSFIRLEN + 192;\n      for (var i = 0; i < 576; i++) {\n        var sum1, sum2;\n        sum1 = firbuf[firbufPos + i + 10];\n        sum2 = 0;\n        for (var j = 0; j < (NSFIRLEN - 1) / 2 - 1; j += 2) {\n          sum1 += fircoef_[j] * (firbuf[firbufPos + i + j] + firbuf[firbufPos + i + NSFIRLEN - j]);\n          sum2 += fircoef_[j + 1] * (firbuf[firbufPos + i + j + 1] + firbuf[firbufPos + i + NSFIRLEN - j - 1]);\n        }\n        ns_hpfsmpl[chn][i] = sum1 + sum2;\n      }\n      masking_ratio[gr_out][chn].en.assign(gfc.en[chn]);\n      masking_ratio[gr_out][chn].thm.assign(gfc.thm[chn]);\n      if (n_chn_psy > 2) {\n        masking_MS_ratio[gr_out][chn].en.assign(gfc.en[chn + 2]);\n        masking_MS_ratio[gr_out][chn].thm.assign(gfc.thm[chn + 2]);\n      }\n    }\n    for (var chn = 0; chn < n_chn_psy; chn++) {\n      var attack_intensity = new_float$a(12);\n      var en_subshort = new_float$a(12);\n      var en_short = [0, 0, 0, 0];\n      var pf = ns_hpfsmpl[chn & 1];\n      var pfPos = 0;\n      var attackThreshold = chn == 3 ? gfc.nsPsy.attackthre_s : gfc.nsPsy.attackthre;\n      var ns_uselongblock = 1;\n      if (chn == 2) {\n        for (var i = 0, j = 576; j > 0; ++i, --j) {\n          var l = ns_hpfsmpl[0][i];\n          var r = ns_hpfsmpl[1][i];\n          ns_hpfsmpl[0][i] = l + r;\n          ns_hpfsmpl[1][i] = l - r;\n        }\n      }\n      for (var i = 0; i < 3; i++) {\n        en_subshort[i] = gfc.nsPsy.last_en_subshort[chn][i + 6];\n        assert$9(gfc.nsPsy.last_en_subshort[chn][i + 4] > 0);\n        attack_intensity[i] = en_subshort[i] / gfc.nsPsy.last_en_subshort[chn][i + 4];\n        en_short[0] += en_subshort[i];\n      }\n      for (var i = 0; i < 9; i++) {\n        var pfe = pfPos + 576 / 9;\n        var p2 = 1;\n        for (; pfPos < pfe; pfPos++) {\n          if (p2 < Math.abs(pf[pfPos]))\n            p2 = Math.abs(pf[pfPos]);\n        }\n        gfc.nsPsy.last_en_subshort[chn][i] = en_subshort[i + 3] = p2;\n        en_short[1 + i / 3] += p2;\n        if (p2 > en_subshort[i + 3 - 2]) {\n          assert$9(en_subshort[i + 3 - 2] > 0);\n          p2 = p2 / en_subshort[i + 3 - 2];\n        } else if (en_subshort[i + 3 - 2] > p2 * 10) {\n          p2 = en_subshort[i + 3 - 2] / (p2 * 10);\n        } else {\n          p2 = 0;\n        }\n        attack_intensity[i + 3] = p2;\n      }\n      for (var i = 0; i < 3; ++i) {\n        var enn = en_subshort[i * 3 + 3] + en_subshort[i * 3 + 4] + en_subshort[i * 3 + 5];\n        var factor = 1;\n        if (en_subshort[i * 3 + 5] * 6 < enn) {\n          factor *= 0.5;\n          if (en_subshort[i * 3 + 4] * 6 < enn) {\n            factor *= 0.5;\n          }\n        }\n        sub_short_factor[chn][i] = factor;\n      }\n      if (gfp.analysis) {\n        var x = attack_intensity[0];\n        for (var i = 1; i < 12; i++) {\n          if (x < attack_intensity[i]) {\n            x = attack_intensity[i];\n          }\n        }\n        gfc.pinfo.ers[gr_out][chn] = gfc.pinfo.ers_save[chn];\n        gfc.pinfo.ers_save[chn] = x;\n      }\n      for (var i = 0; i < 12; i++) {\n        if (ns_attacks[chn][i / 3] == 0 && attack_intensity[i] > attackThreshold) {\n          ns_attacks[chn][i / 3] = i % 3 + 1;\n        }\n      }\n      for (var i = 1; i < 4; i++) {\n        var u = en_short[i - 1];\n        var v = en_short[i];\n        var m = Math.max(u, v);\n        if (m < 4e4) {\n          if (u < 1.7 * v && v < 1.7 * u) {\n            if (i == 1 && ns_attacks[chn][0] <= ns_attacks[chn][i]) {\n              ns_attacks[chn][0] = 0;\n            }\n            ns_attacks[chn][i] = 0;\n          }\n        }\n      }\n      if (ns_attacks[chn][0] <= gfc.nsPsy.lastAttacks[chn]) {\n        ns_attacks[chn][0] = 0;\n      }\n      if (gfc.nsPsy.lastAttacks[chn] == 3 || ns_attacks[chn][0] + ns_attacks[chn][1] + ns_attacks[chn][2] + ns_attacks[chn][3] != 0) {\n        ns_uselongblock = 0;\n        if (ns_attacks[chn][1] != 0 && ns_attacks[chn][0] != 0) {\n          ns_attacks[chn][1] = 0;\n        }\n        if (ns_attacks[chn][2] != 0 && ns_attacks[chn][1] != 0) {\n          ns_attacks[chn][2] = 0;\n        }\n        if (ns_attacks[chn][3] != 0 && ns_attacks[chn][2] != 0) {\n          ns_attacks[chn][3] = 0;\n        }\n      }\n      if (chn < 2) {\n        uselongblock[chn] = ns_uselongblock;\n      } else {\n        if (ns_uselongblock == 0) {\n          uselongblock[0] = uselongblock[1] = 0;\n        }\n      }\n      energy[chn] = gfc.tot_ener[chn];\n    }\n  }\n  function vbrpsy_skip_masking_s(gfc, chn, sblock) {\n    if (sblock == 0) {\n      for (var b = 0; b < gfc.npart_s; b++) {\n        gfc.nb_s2[chn][b] = gfc.nb_s1[chn][b];\n        gfc.nb_s1[chn][b] = 0;\n      }\n    }\n  }\n  function vbrpsy_skip_masking_l(gfc, chn) {\n    for (var b = 0; b < gfc.npart_l; b++) {\n      gfc.nb_2[chn][b] = gfc.nb_1[chn][b];\n      gfc.nb_1[chn][b] = 0;\n    }\n  }\n  function psyvbr_calc_mask_index_s(gfc, max, avg, mask_idx) {\n    var last_tab_entry = tab.length - 1;\n    var b = 0;\n    var a = avg[b] + avg[b + 1];\n    if (a > 0) {\n      var m = max[b];\n      if (m < max[b + 1])\n        m = max[b + 1];\n      assert$9(gfc.numlines_s[b] + gfc.numlines_s[b + 1] - 1 > 0);\n      a = 20 * (m * 2 - a) / (a * (gfc.numlines_s[b] + gfc.numlines_s[b + 1] - 1));\n      var k = 0 | a;\n      if (k > last_tab_entry)\n        k = last_tab_entry;\n      mask_idx[b] = k;\n    } else {\n      mask_idx[b] = 0;\n    }\n    for (b = 1; b < gfc.npart_s - 1; b++) {\n      a = avg[b - 1] + avg[b] + avg[b + 1];\n      assert$9(b + 1 < gfc.npart_s);\n      if (a > 0) {\n        var m = max[b - 1];\n        if (m < max[b])\n          m = max[b];\n        if (m < max[b + 1])\n          m = max[b + 1];\n        assert$9(\n          gfc.numlines_s[b - 1] + gfc.numlines_s[b] + gfc.numlines_s[b + 1] - 1 > 0\n        );\n        a = 20 * (m * 3 - a) / (a * (gfc.numlines_s[b - 1] + gfc.numlines_s[b] + gfc.numlines_s[b + 1] - 1));\n        var k = 0 | a;\n        if (k > last_tab_entry)\n          k = last_tab_entry;\n        mask_idx[b] = k;\n      } else {\n        mask_idx[b] = 0;\n      }\n    }\n    assert$9(b == gfc.npart_s - 1);\n    a = avg[b - 1] + avg[b];\n    if (a > 0) {\n      var m = max[b - 1];\n      if (m < max[b])\n        m = max[b];\n      assert$9(gfc.numlines_s[b - 1] + gfc.numlines_s[b] - 1 > 0);\n      a = 20 * (m * 2 - a) / (a * (gfc.numlines_s[b - 1] + gfc.numlines_s[b] - 1));\n      var k = 0 | a;\n      if (k > last_tab_entry)\n        k = last_tab_entry;\n      mask_idx[b] = k;\n    } else {\n      mask_idx[b] = 0;\n    }\n    assert$9(b == gfc.npart_s - 1);\n  }\n  function vbrpsy_compute_masking_s(gfp, fftenergy_s, eb, thr, chn, sblock) {\n    var gfc = gfp.internal_flags;\n    var max = new float[Encoder.CBANDS]();\n    var avg = new_float$a(Encoder.CBANDS);\n    var i, j, b;\n    var mask_idx_s = new int[Encoder.CBANDS]();\n    for (b = j = 0; b < gfc.npart_s; ++b) {\n      var ebb = 0;\n      var m = 0;\n      var n = gfc.numlines_s[b];\n      for (i = 0; i < n; ++i, ++j) {\n        var el = fftenergy_s[sblock][j];\n        ebb += el;\n        if (m < el)\n          m = el;\n      }\n      eb[b] = ebb;\n      max[b] = m;\n      avg[b] = ebb / n;\n      assert$9(avg[b] >= 0);\n    }\n    assert$9(b == gfc.npart_s);\n    for (; b < Encoder.CBANDS; ++b) {\n      max[b] = 0;\n      avg[b] = 0;\n    }\n    psyvbr_calc_mask_index_s(gfc, max, avg, mask_idx_s);\n    for (j = b = 0; b < gfc.npart_s; b++) {\n      var kk = gfc.s3ind_s[b][0];\n      var last = gfc.s3ind_s[b][1];\n      var dd, dd_n;\n      var x, ecb, avg_mask;\n      dd = mask_idx_s[kk];\n      dd_n = 1;\n      ecb = gfc.s3_ss[j] * eb[kk] * tab[mask_idx_s[kk]];\n      ++j;\n      ++kk;\n      while (kk <= last) {\n        dd += mask_idx_s[kk];\n        dd_n += 1;\n        x = gfc.s3_ss[j] * eb[kk] * tab[mask_idx_s[kk]];\n        ecb = vbrpsy_mask_add(ecb, x, kk - b);\n        ++j;\n        ++kk;\n      }\n      dd = (1 + 2 * dd) / (2 * dd_n);\n      avg_mask = tab[dd] * 0.5;\n      ecb *= avg_mask;\n      thr[b] = ecb;\n      gfc.nb_s2[chn][b] = gfc.nb_s1[chn][b];\n      gfc.nb_s1[chn][b] = ecb;\n      {\n        x = max[b];\n        x *= gfc.minval_s[b];\n        x *= avg_mask;\n        if (thr[b] > x) {\n          thr[b] = x;\n        }\n      }\n      if (gfc.masking_lower > 1) {\n        thr[b] *= gfc.masking_lower;\n      }\n      if (thr[b] > eb[b]) {\n        thr[b] = eb[b];\n      }\n      if (gfc.masking_lower < 1) {\n        thr[b] *= gfc.masking_lower;\n      }\n      assert$9(thr[b] >= 0);\n    }\n    for (; b < Encoder.CBANDS; ++b) {\n      eb[b] = 0;\n      thr[b] = 0;\n    }\n  }\n  function vbrpsy_compute_masking_l(gfc, fftenergy, eb_l, thr, chn) {\n    var max = new_float$a(Encoder.CBANDS);\n    var avg = new_float$a(Encoder.CBANDS);\n    var mask_idx_l = new_int$b(Encoder.CBANDS + 2);\n    var b;\n    calc_energy(gfc, fftenergy, eb_l, max, avg);\n    calc_mask_index_l(gfc, max, avg, mask_idx_l);\n    var k = 0;\n    for (b = 0; b < gfc.npart_l; b++) {\n      var x, ecb, avg_mask, t;\n      var kk = gfc.s3ind[b][0];\n      var last = gfc.s3ind[b][1];\n      var dd = 0;\n      var dd_n = 0;\n      dd = mask_idx_l[kk];\n      dd_n += 1;\n      ecb = gfc.s3_ll[k] * eb_l[kk] * tab[mask_idx_l[kk]];\n      ++k;\n      ++kk;\n      while (kk <= last) {\n        dd += mask_idx_l[kk];\n        dd_n += 1;\n        x = gfc.s3_ll[k] * eb_l[kk] * tab[mask_idx_l[kk]];\n        t = vbrpsy_mask_add(ecb, x, kk - b);\n        ecb = t;\n        ++k;\n        ++kk;\n      }\n      dd = (1 + 2 * dd) / (2 * dd_n);\n      avg_mask = tab[dd] * 0.5;\n      ecb *= avg_mask;\n      if (gfc.blocktype_old[chn & 1] == Encoder.SHORT_TYPE) {\n        var ecb_limit = rpelev * gfc.nb_1[chn][b];\n        if (ecb_limit > 0) {\n          thr[b] = Math.min(ecb, ecb_limit);\n        } else {\n          thr[b] = Math.min(ecb, eb_l[b] * NS_PREECHO_ATT2);\n        }\n      } else {\n        var ecb_limit_2 = rpelev2 * gfc.nb_2[chn][b];\n        var ecb_limit_1 = rpelev * gfc.nb_1[chn][b];\n        var ecb_limit;\n        if (ecb_limit_2 <= 0) {\n          ecb_limit_2 = ecb;\n        }\n        if (ecb_limit_1 <= 0) {\n          ecb_limit_1 = ecb;\n        }\n        if (gfc.blocktype_old[chn & 1] == Encoder.NORM_TYPE) {\n          ecb_limit = Math.min(ecb_limit_1, ecb_limit_2);\n        } else {\n          ecb_limit = ecb_limit_1;\n        }\n        thr[b] = Math.min(ecb, ecb_limit);\n      }\n      gfc.nb_2[chn][b] = gfc.nb_1[chn][b];\n      gfc.nb_1[chn][b] = ecb;\n      {\n        x = max[b];\n        x *= gfc.minval_l[b];\n        x *= avg_mask;\n        if (thr[b] > x) {\n          thr[b] = x;\n        }\n      }\n      if (gfc.masking_lower > 1) {\n        thr[b] *= gfc.masking_lower;\n      }\n      if (thr[b] > eb_l[b]) {\n        thr[b] = eb_l[b];\n      }\n      if (gfc.masking_lower < 1) {\n        thr[b] *= gfc.masking_lower;\n      }\n      assert$9(thr[b] >= 0);\n    }\n    for (; b < Encoder.CBANDS; ++b) {\n      eb_l[b] = 0;\n      thr[b] = 0;\n    }\n  }\n  function vbrpsy_compute_block_type(gfp, uselongblock) {\n    var gfc = gfp.internal_flags;\n    if (gfp.short_blocks == ShortBlock$2.short_block_coupled && !(uselongblock[0] != 0 && uselongblock[1] != 0)) {\n      uselongblock[0] = uselongblock[1] = 0;\n    }\n    for (var chn = 0; chn < gfc.channels_out; chn++) {\n      if (gfp.short_blocks == ShortBlock$2.short_block_dispensed) {\n        uselongblock[chn] = 1;\n      }\n      if (gfp.short_blocks == ShortBlock$2.short_block_forced) {\n        uselongblock[chn] = 0;\n      }\n    }\n  }\n  function vbrpsy_apply_block_type(gfp, uselongblock, blocktype_d) {\n    var gfc = gfp.internal_flags;\n    for (var chn = 0; chn < gfc.channels_out; chn++) {\n      var blocktype = Encoder.NORM_TYPE;\n      if (uselongblock[chn] != 0) {\n        assert$9(gfc.blocktype_old[chn] != Encoder.START_TYPE);\n        if (gfc.blocktype_old[chn] == Encoder.SHORT_TYPE) {\n          blocktype = Encoder.STOP_TYPE;\n        }\n      } else {\n        blocktype = Encoder.SHORT_TYPE;\n        if (gfc.blocktype_old[chn] == Encoder.NORM_TYPE) {\n          gfc.blocktype_old[chn] = Encoder.START_TYPE;\n        }\n        if (gfc.blocktype_old[chn] == Encoder.STOP_TYPE) {\n          gfc.blocktype_old[chn] = Encoder.SHORT_TYPE;\n        }\n      }\n      blocktype_d[chn] = gfc.blocktype_old[chn];\n      gfc.blocktype_old[chn] = blocktype;\n    }\n  }\n  function vbrpsy_compute_MS_thresholds(eb, thr, cb_mld, ath_cb, athadjust, msfix, n) {\n    var msfix2 = msfix * 2;\n    var athlower = msfix > 0 ? Math.pow(10, athadjust) : 1;\n    var rside, rmid;\n    for (var b = 0; b < n; ++b) {\n      var ebM = eb[2][b];\n      var ebS = eb[3][b];\n      var thmL = thr[0][b];\n      var thmR = thr[1][b];\n      var thmM = thr[2][b];\n      var thmS = thr[3][b];\n      if (thmL <= 1.58 * thmR && thmR <= 1.58 * thmL) {\n        var mld_m = cb_mld[b] * ebS;\n        var mld_s = cb_mld[b] * ebM;\n        rmid = Math.max(thmM, Math.min(thmS, mld_m));\n        rside = Math.max(thmS, Math.min(thmM, mld_s));\n      } else {\n        rmid = thmM;\n        rside = thmS;\n      }\n      if (msfix > 0) {\n        var thmLR, thmMS;\n        var ath = ath_cb[b] * athlower;\n        thmLR = Math.min(Math.max(thmL, ath), Math.max(thmR, ath));\n        thmM = Math.max(rmid, ath);\n        thmS = Math.max(rside, ath);\n        thmMS = thmM + thmS;\n        if (thmMS > 0 && thmLR * msfix2 < thmMS) {\n          var f = thmLR * msfix2 / thmMS;\n          thmM *= f;\n          thmS *= f;\n        }\n        rmid = Math.min(thmM, rmid);\n        rside = Math.min(thmS, rside);\n      }\n      if (rmid > ebM) {\n        rmid = ebM;\n      }\n      if (rside > ebS) {\n        rside = ebS;\n      }\n      thr[2][b] = rmid;\n      thr[3][b] = rside;\n    }\n  }\n  this.L3psycho_anal_vbr = function(gfp, buffer, bufPos, gr_out, masking_ratio, masking_MS_ratio, percep_entropy, percep_MS_entropy, energy, blocktype_d) {\n    var gfc = gfp.internal_flags;\n    var wsamp_l;\n    var wsamp_s;\n    var fftenergy = new_float$a(Encoder.HBLKSIZE);\n    var fftenergy_s = new_float_n$3([3, Encoder.HBLKSIZE_s]);\n    var wsamp_L = new_float_n$3([2, Encoder.BLKSIZE]);\n    var wsamp_S = new_float_n$3([2, 3, Encoder.BLKSIZE_s]);\n    var eb = new_float_n$3([4, Encoder.CBANDS]);\n    var thr = new_float_n$3([4, Encoder.CBANDS]);\n    var sub_short_factor = new_float_n$3([4, 3]);\n    var pcfact = 0.6;\n    var ns_attacks = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0]\n    ];\n    var uselongblock = new_int$b(2);\n    var n_chn_psy = gfp.mode == MPEGMode.JOINT_STEREO ? 4 : gfc.channels_out;\n    vbrpsy_attack_detection(\n      gfp,\n      buffer,\n      bufPos,\n      gr_out,\n      masking_ratio,\n      masking_MS_ratio,\n      energy,\n      sub_short_factor,\n      ns_attacks,\n      uselongblock\n    );\n    vbrpsy_compute_block_type(gfp, uselongblock);\n    {\n      for (var chn = 0; chn < n_chn_psy; chn++) {\n        var ch01 = chn & 1;\n        wsamp_l = wsamp_L;\n        vbrpsy_compute_fft_l(\n          gfp,\n          buffer,\n          bufPos,\n          chn,\n          gr_out,\n          fftenergy,\n          wsamp_l,\n          ch01\n        );\n        vbrpsy_compute_loudness_approximation_l(gfp, gr_out, chn, fftenergy);\n        if (uselongblock[ch01] != 0) {\n          vbrpsy_compute_masking_l(gfc, fftenergy, eb[chn], thr[chn], chn);\n        } else {\n          vbrpsy_skip_masking_l(gfc, chn);\n        }\n      }\n      if (uselongblock[0] + uselongblock[1] == 2) {\n        if (gfp.mode == MPEGMode.JOINT_STEREO) {\n          vbrpsy_compute_MS_thresholds(\n            eb,\n            thr,\n            gfc.mld_cb_l,\n            gfc.ATH.cb_l,\n            gfp.ATHlower * gfc.ATH.adjust,\n            gfp.msfix,\n            gfc.npart_l\n          );\n        }\n      }\n      for (var chn = 0; chn < n_chn_psy; chn++) {\n        var ch01 = chn & 1;\n        if (uselongblock[ch01] != 0) {\n          convert_partition2scalefac_l(gfc, eb[chn], thr[chn], chn);\n        }\n      }\n    }\n    {\n      for (var sblock = 0; sblock < 3; sblock++) {\n        for (var chn = 0; chn < n_chn_psy; ++chn) {\n          var ch01 = chn & 1;\n          if (uselongblock[ch01] != 0) {\n            vbrpsy_skip_masking_s(gfc, chn, sblock);\n          } else {\n            wsamp_s = wsamp_S;\n            vbrpsy_compute_fft_s(\n              gfp,\n              buffer,\n              bufPos,\n              chn,\n              sblock,\n              fftenergy_s,\n              wsamp_s,\n              ch01\n            );\n            vbrpsy_compute_masking_s(\n              gfp,\n              fftenergy_s,\n              eb[chn],\n              thr[chn],\n              chn,\n              sblock\n            );\n          }\n        }\n        if (uselongblock[0] + uselongblock[1] == 0) {\n          if (gfp.mode == MPEGMode.JOINT_STEREO) {\n            vbrpsy_compute_MS_thresholds(\n              eb,\n              thr,\n              gfc.mld_cb_s,\n              gfc.ATH.cb_s,\n              gfp.ATHlower * gfc.ATH.adjust,\n              gfp.msfix,\n              gfc.npart_s\n            );\n          }\n        }\n        for (var chn = 0; chn < n_chn_psy; ++chn) {\n          var ch01 = chn & 1;\n          if (uselongblock[ch01] == 0) {\n            convert_partition2scalefac_s(gfc, eb[chn], thr[chn], chn, sblock);\n          }\n        }\n      }\n      for (var chn = 0; chn < n_chn_psy; chn++) {\n        var ch01 = chn & 1;\n        if (uselongblock[ch01] != 0) {\n          continue;\n        }\n        for (var sb = 0; sb < Encoder.SBMAX_s; sb++) {\n          var new_thmm = new_float$a(3);\n          for (var sblock = 0; sblock < 3; sblock++) {\n            var thmm = gfc.thm[chn].s[sb][sblock];\n            thmm *= NS_PREECHO_ATT0;\n            if (ns_attacks[chn][sblock] >= 2 || ns_attacks[chn][sblock + 1] == 1) {\n              var idx = sblock != 0 ? sblock - 1 : 2;\n              var p2 = NS_INTERP(\n                gfc.thm[chn].s[sb][idx],\n                thmm,\n                NS_PREECHO_ATT1 * pcfact\n              );\n              thmm = Math.min(thmm, p2);\n            } else if (ns_attacks[chn][sblock] == 1) {\n              var idx = sblock != 0 ? sblock - 1 : 2;\n              var p2 = NS_INTERP(\n                gfc.thm[chn].s[sb][idx],\n                thmm,\n                NS_PREECHO_ATT2 * pcfact\n              );\n              thmm = Math.min(thmm, p2);\n            } else if (sblock != 0 && ns_attacks[chn][sblock - 1] == 3 || sblock == 0 && gfc.nsPsy.lastAttacks[chn] == 3) {\n              var idx = sblock != 2 ? sblock + 1 : 0;\n              var p2 = NS_INTERP(\n                gfc.thm[chn].s[sb][idx],\n                thmm,\n                NS_PREECHO_ATT2 * pcfact\n              );\n              thmm = Math.min(thmm, p2);\n            }\n            thmm *= sub_short_factor[chn][sblock];\n            new_thmm[sblock] = thmm;\n          }\n          for (var sblock = 0; sblock < 3; sblock++) {\n            gfc.thm[chn].s[sb][sblock] = new_thmm[sblock];\n          }\n        }\n      }\n    }\n    for (var chn = 0; chn < n_chn_psy; chn++) {\n      gfc.nsPsy.lastAttacks[chn] = ns_attacks[chn][2];\n    }\n    vbrpsy_apply_block_type(gfp, uselongblock, blocktype_d);\n    for (var chn = 0; chn < n_chn_psy; chn++) {\n      var ppe;\n      var ppePos;\n      var type;\n      var mr;\n      if (chn > 1) {\n        ppe = percep_MS_entropy;\n        ppePos = -2;\n        type = Encoder.NORM_TYPE;\n        if (blocktype_d[0] == Encoder.SHORT_TYPE || blocktype_d[1] == Encoder.SHORT_TYPE) {\n          type = Encoder.SHORT_TYPE;\n        }\n        mr = masking_MS_ratio[gr_out][chn - 2];\n      } else {\n        ppe = percep_entropy;\n        ppePos = 0;\n        type = blocktype_d[chn];\n        mr = masking_ratio[gr_out][chn];\n      }\n      if (type == Encoder.SHORT_TYPE) {\n        ppe[ppePos + chn] = pecalc_s(mr, gfc.masking_lower);\n      } else {\n        ppe[ppePos + chn] = pecalc_l(mr, gfc.masking_lower);\n      }\n      if (gfp.analysis) {\n        gfc.pinfo.pe[gr_out][chn] = ppe[ppePos + chn];\n      }\n    }\n    return 0;\n  };\n  function s3_func_x(bark, hf_slope) {\n    var tempx = bark;\n    var tempy;\n    if (tempx >= 0) {\n      tempy = -tempx * 27;\n    } else {\n      tempy = tempx * hf_slope;\n    }\n    if (tempy <= -72) {\n      return 0;\n    }\n    return Math.exp(tempy * LN_TO_LOG10);\n  }\n  function norm_s3_func_x(hf_slope) {\n    var lim_a = 0;\n    var lim_b = 0;\n    {\n      var x = 0;\n      var l;\n      var h2;\n      for (x = 0; s3_func_x(x, hf_slope) > 1e-20; x -= 1)\n        ;\n      l = x;\n      h2 = 0;\n      while (Math.abs(h2 - l) > 1e-12) {\n        x = (h2 + l) / 2;\n        if (s3_func_x(x, hf_slope) > 0) {\n          h2 = x;\n        } else {\n          l = x;\n        }\n      }\n      lim_a = l;\n    }\n    {\n      var x = 0;\n      var l;\n      var h2;\n      for (x = 0; s3_func_x(x, hf_slope) > 1e-20; x += 1)\n        ;\n      l = 0;\n      h2 = x;\n      while (Math.abs(h2 - l) > 1e-12) {\n        x = (h2 + l) / 2;\n        if (s3_func_x(x, hf_slope) > 0) {\n          l = x;\n        } else {\n          h2 = x;\n        }\n      }\n      lim_b = h2;\n    }\n    {\n      var sum = 0;\n      var m = 1e3;\n      var i;\n      for (i = 0; i <= m; ++i) {\n        var x = lim_a + i * (lim_b - lim_a) / m;\n        var y = s3_func_x(x, hf_slope);\n        sum += y;\n      }\n      {\n        var norm = (m + 1) / (sum * (lim_b - lim_a));\n        return norm;\n      }\n    }\n  }\n  function s3_func(bark) {\n    var tempx, x, tempy, temp;\n    tempx = bark;\n    if (tempx >= 0)\n      tempx *= 3;\n    else\n      tempx *= 1.5;\n    if (tempx >= 0.5 && tempx <= 2.5) {\n      temp = tempx - 0.5;\n      x = 8 * (temp * temp - 2 * temp);\n    } else\n      x = 0;\n    tempx += 0.474;\n    tempy = 15.811389 + 7.5 * tempx - 17.5 * Math.sqrt(1 + tempx * tempx);\n    if (tempy <= -60)\n      return 0;\n    tempx = Math.exp((x + tempy) * LN_TO_LOG10);\n    tempx /= 0.6609193;\n    return tempx;\n  }\n  function freq2bark(freq) {\n    if (freq < 0)\n      freq = 0;\n    freq = freq * 1e-3;\n    return 13 * Math.atan(0.76 * freq) + 3.5 * Math.atan(freq * freq / (7.5 * 7.5));\n  }\n  function init_numline(numlines, bo, bm, bval, bval_width, mld, bo_w, sfreq, blksize, scalepos, deltafreq, sbmax) {\n    var b_frq = new_float$a(Encoder.CBANDS + 1);\n    var sample_freq_frac = sfreq / (sbmax > 15 ? 2 * 576 : 2 * 192);\n    var partition = new_int$b(Encoder.HBLKSIZE);\n    var i;\n    sfreq /= blksize;\n    var j = 0;\n    var ni = 0;\n    for (i = 0; i < Encoder.CBANDS; i++) {\n      var bark1;\n      var j2;\n      bark1 = freq2bark(sfreq * j);\n      b_frq[i] = sfreq * j;\n      for (j2 = j; freq2bark(sfreq * j2) - bark1 < DELBARK && j2 <= blksize / 2; j2++)\n        ;\n      numlines[i] = j2 - j;\n      ni = i + 1;\n      while (j < j2) {\n        partition[j++] = i;\n      }\n      if (j > blksize / 2) {\n        j = blksize / 2;\n        ++i;\n        break;\n      }\n    }\n    b_frq[i] = sfreq * j;\n    for (var sfb = 0; sfb < sbmax; sfb++) {\n      var i1, i2, start2, end;\n      var arg;\n      start2 = scalepos[sfb];\n      end = scalepos[sfb + 1];\n      i1 = 0 | Math.floor(0.5 + deltafreq * (start2 - 0.5));\n      if (i1 < 0)\n        i1 = 0;\n      i2 = 0 | Math.floor(0.5 + deltafreq * (end - 0.5));\n      if (i2 > blksize / 2)\n        i2 = blksize / 2;\n      bm[sfb] = (partition[i1] + partition[i2]) / 2;\n      bo[sfb] = partition[i2];\n      var f_tmp = sample_freq_frac * end;\n      bo_w[sfb] = (f_tmp - b_frq[bo[sfb]]) / (b_frq[bo[sfb] + 1] - b_frq[bo[sfb]]);\n      if (bo_w[sfb] < 0) {\n        bo_w[sfb] = 0;\n      } else {\n        if (bo_w[sfb] > 1) {\n          bo_w[sfb] = 1;\n        }\n      }\n      arg = freq2bark(sfreq * scalepos[sfb] * deltafreq);\n      arg = Math.min(arg, 15.5) / 15.5;\n      mld[sfb] = Math.pow(10, 1.25 * (1 - Math.cos(Math.PI * arg)) - 2.5);\n    }\n    j = 0;\n    for (var k = 0; k < ni; k++) {\n      var w = numlines[k];\n      var bark1, bark2;\n      bark1 = freq2bark(sfreq * j);\n      bark2 = freq2bark(sfreq * (j + w - 1));\n      bval[k] = 0.5 * (bark1 + bark2);\n      bark1 = freq2bark(sfreq * (j - 0.5));\n      bark2 = freq2bark(sfreq * (j + w - 0.5));\n      bval_width[k] = bark2 - bark1;\n      j += w;\n    }\n    return ni;\n  }\n  function init_s3_values(s3ind, npart, bval, bval_width, norm, use_old_s3) {\n    var s3 = new_float_n$3([Encoder.CBANDS, Encoder.CBANDS]);\n    var j;\n    var numberOfNoneZero = 0;\n    if (use_old_s3) {\n      for (var i = 0; i < npart; i++) {\n        for (j = 0; j < npart; j++) {\n          var v = s3_func(bval[i] - bval[j]) * bval_width[j];\n          s3[i][j] = v * norm[i];\n        }\n      }\n    } else {\n      for (j = 0; j < npart; j++) {\n        var hf_slope = 15 + Math.min(21 / bval[j], 12);\n        var s3_x_norm = norm_s3_func_x(hf_slope);\n        for (var i = 0; i < npart; i++) {\n          var v = s3_x_norm * s3_func_x(bval[i] - bval[j], hf_slope) * bval_width[j];\n          s3[i][j] = v * norm[i];\n        }\n      }\n    }\n    for (var i = 0; i < npart; i++) {\n      for (j = 0; j < npart; j++) {\n        if (s3[i][j] > 0)\n          break;\n      }\n      s3ind[i][0] = j;\n      for (j = npart - 1; j > 0; j--) {\n        if (s3[i][j] > 0)\n          break;\n      }\n      s3ind[i][1] = j;\n      numberOfNoneZero += s3ind[i][1] - s3ind[i][0] + 1;\n    }\n    var p2 = new_float$a(numberOfNoneZero);\n    var k = 0;\n    for (var i = 0; i < npart; i++) {\n      for (j = s3ind[i][0]; j <= s3ind[i][1]; j++)\n        p2[k++] = s3[i][j];\n    }\n    return p2;\n  }\n  function stereo_demask(f) {\n    var arg = freq2bark(f);\n    arg = Math.min(arg, 15.5) / 15.5;\n    return Math.pow(10, 1.25 * (1 - Math.cos(Math.PI * arg)) - 2.5);\n  }\n  this.psymodel_init = function(gfp) {\n    var gfc = gfp.internal_flags;\n    var i;\n    var useOldS3 = true;\n    var bvl_a = 13;\n    var bvl_b = 24;\n    var snr_l_a = 0;\n    var snr_l_b = 0;\n    var snr_s_a = -8.25;\n    var snr_s_b = -4.5;\n    var bval = new_float$a(Encoder.CBANDS);\n    var bval_width = new_float$a(Encoder.CBANDS);\n    var norm = new_float$a(Encoder.CBANDS);\n    var sfreq = gfp.out_samplerate;\n    switch (gfp.experimentalZ) {\n      default:\n      case 0:\n        useOldS3 = true;\n        break;\n      case 1:\n        useOldS3 = !(gfp.VBR == VbrMode$5.vbr_mtrh || gfp.VBR == VbrMode$5.vbr_mt);\n        break;\n      case 2:\n        useOldS3 = false;\n        break;\n      case 3:\n        bvl_a = 8;\n        snr_l_a = -1.75;\n        snr_l_b = -0.0125;\n        snr_s_a = -8.25;\n        snr_s_b = -2.25;\n        break;\n    }\n    gfc.ms_ener_ratio_old = 0.25;\n    gfc.blocktype_old[0] = gfc.blocktype_old[1] = Encoder.NORM_TYPE;\n    for (i = 0; i < 4; ++i) {\n      for (var j = 0; j < Encoder.CBANDS; ++j) {\n        gfc.nb_1[i][j] = 1e20;\n        gfc.nb_2[i][j] = 1e20;\n        gfc.nb_s1[i][j] = gfc.nb_s2[i][j] = 1;\n      }\n      for (var sb = 0; sb < Encoder.SBMAX_l; sb++) {\n        gfc.en[i].l[sb] = 1e20;\n        gfc.thm[i].l[sb] = 1e20;\n      }\n      for (var j = 0; j < 3; ++j) {\n        for (var sb = 0; sb < Encoder.SBMAX_s; sb++) {\n          gfc.en[i].s[sb][j] = 1e20;\n          gfc.thm[i].s[sb][j] = 1e20;\n        }\n        gfc.nsPsy.lastAttacks[i] = 0;\n      }\n      for (var j = 0; j < 9; j++)\n        gfc.nsPsy.last_en_subshort[i][j] = 10;\n    }\n    gfc.loudness_sq_save[0] = gfc.loudness_sq_save[1] = 0;\n    gfc.npart_l = init_numline(\n      gfc.numlines_l,\n      gfc.bo_l,\n      gfc.bm_l,\n      bval,\n      bval_width,\n      gfc.mld_l,\n      gfc.PSY.bo_l_weight,\n      sfreq,\n      Encoder.BLKSIZE,\n      gfc.scalefac_band.l,\n      Encoder.BLKSIZE / (2 * 576),\n      Encoder.SBMAX_l\n    );\n    assert$9(gfc.npart_l < Encoder.CBANDS);\n    for (i = 0; i < gfc.npart_l; i++) {\n      var snr = snr_l_a;\n      if (bval[i] >= bvl_a) {\n        snr = snr_l_b * (bval[i] - bvl_a) / (bvl_b - bvl_a) + snr_l_a * (bvl_b - bval[i]) / (bvl_b - bvl_a);\n      }\n      norm[i] = Math.pow(10, snr / 10);\n      if (gfc.numlines_l[i] > 0) {\n        gfc.rnumlines_l[i] = 1 / gfc.numlines_l[i];\n      } else {\n        gfc.rnumlines_l[i] = 0;\n      }\n    }\n    gfc.s3_ll = init_s3_values(\n      gfc.s3ind,\n      gfc.npart_l,\n      bval,\n      bval_width,\n      norm,\n      useOldS3\n    );\n    var j = 0;\n    for (i = 0; i < gfc.npart_l; i++) {\n      var x;\n      x = Float$1.MAX_VALUE;\n      for (var k = 0; k < gfc.numlines_l[i]; k++, j++) {\n        var freq = sfreq * j / (1e3 * Encoder.BLKSIZE);\n        var level;\n        level = this.ATHformula(freq * 1e3, gfp) - 20;\n        level = Math.pow(10, 0.1 * level);\n        level *= gfc.numlines_l[i];\n        if (x > level)\n          x = level;\n      }\n      gfc.ATH.cb_l[i] = x;\n      x = -20 + bval[i] * 20 / 10;\n      if (x > 6) {\n        x = 100;\n      }\n      if (x < -15) {\n        x = -15;\n      }\n      x -= 8;\n      gfc.minval_l[i] = Math.pow(10, x / 10) * gfc.numlines_l[i];\n    }\n    gfc.npart_s = init_numline(\n      gfc.numlines_s,\n      gfc.bo_s,\n      gfc.bm_s,\n      bval,\n      bval_width,\n      gfc.mld_s,\n      gfc.PSY.bo_s_weight,\n      sfreq,\n      Encoder.BLKSIZE_s,\n      gfc.scalefac_band.s,\n      Encoder.BLKSIZE_s / (2 * 192),\n      Encoder.SBMAX_s\n    );\n    assert$9(gfc.npart_s < Encoder.CBANDS);\n    j = 0;\n    for (i = 0; i < gfc.npart_s; i++) {\n      var x;\n      var snr = snr_s_a;\n      if (bval[i] >= bvl_a) {\n        snr = snr_s_b * (bval[i] - bvl_a) / (bvl_b - bvl_a) + snr_s_a * (bvl_b - bval[i]) / (bvl_b - bvl_a);\n      }\n      norm[i] = Math.pow(10, snr / 10);\n      x = Float$1.MAX_VALUE;\n      for (var k = 0; k < gfc.numlines_s[i]; k++, j++) {\n        var freq = sfreq * j / (1e3 * Encoder.BLKSIZE_s);\n        var level;\n        level = this.ATHformula(freq * 1e3, gfp) - 20;\n        level = Math.pow(10, 0.1 * level);\n        level *= gfc.numlines_s[i];\n        if (x > level)\n          x = level;\n      }\n      gfc.ATH.cb_s[i] = x;\n      x = -7 + bval[i] * 7 / 12;\n      if (bval[i] > 12) {\n        x *= 1 + Math.log(1 + x) * 3.1;\n      }\n      if (bval[i] < 12) {\n        x *= 1 + Math.log(1 - x) * 2.3;\n      }\n      if (x < -15) {\n        x = -15;\n      }\n      x -= 8;\n      gfc.minval_s[i] = Math.pow(10, x / 10) * gfc.numlines_s[i];\n    }\n    gfc.s3_ss = init_s3_values(\n      gfc.s3ind_s,\n      gfc.npart_s,\n      bval,\n      bval_width,\n      norm,\n      useOldS3\n    );\n    init_mask_add_max_values();\n    fft.init_fft(gfc);\n    gfc.decay = Math.exp(\n      -1 * LOG10 / (temporalmask_sustain_sec * sfreq / 192)\n    );\n    {\n      var msfix;\n      msfix = NS_MSFIX;\n      if ((gfp.exp_nspsytune & 2) != 0)\n        msfix = 1;\n      if (Math.abs(gfp.msfix) > 0)\n        msfix = gfp.msfix;\n      gfp.msfix = msfix;\n      for (var b = 0; b < gfc.npart_l; b++) {\n        if (gfc.s3ind[b][1] > gfc.npart_l - 1)\n          gfc.s3ind[b][1] = gfc.npart_l - 1;\n      }\n    }\n    var frame_duration = 576 * gfc.mode_gr / sfreq;\n    gfc.ATH.decay = Math.pow(10, -12 / 10 * frame_duration);\n    gfc.ATH.adjust = 0.01;\n    gfc.ATH.adjustLimit = 1;\n    assert$9(gfc.bo_l[Encoder.SBMAX_l - 1] <= gfc.npart_l);\n    assert$9(gfc.bo_s[Encoder.SBMAX_s - 1] <= gfc.npart_s);\n    if (gfp.ATHtype != -1) {\n      var freq;\n      var freq_inc = gfp.out_samplerate / Encoder.BLKSIZE;\n      var eql_balance = 0;\n      freq = 0;\n      for (i = 0; i < Encoder.BLKSIZE / 2; ++i) {\n        freq += freq_inc;\n        gfc.ATH.eql_w[i] = 1 / Math.pow(10, this.ATHformula(freq, gfp) / 10);\n        eql_balance += gfc.ATH.eql_w[i];\n      }\n      eql_balance = 1 / eql_balance;\n      for (i = Encoder.BLKSIZE / 2; --i >= 0; ) {\n        gfc.ATH.eql_w[i] *= eql_balance;\n      }\n    }\n    {\n      for (var b = j = 0; b < gfc.npart_s; ++b) {\n        for (i = 0; i < gfc.numlines_s[b]; ++i) {\n          ++j;\n        }\n      }\n      for (var b = j = 0; b < gfc.npart_l; ++b) {\n        for (i = 0; i < gfc.numlines_l[b]; ++i) {\n          ++j;\n        }\n      }\n    }\n    j = 0;\n    for (i = 0; i < gfc.npart_l; i++) {\n      var freq = sfreq * (j + gfc.numlines_l[i] / 2) / (1 * Encoder.BLKSIZE);\n      gfc.mld_cb_l[i] = stereo_demask(freq);\n      j += gfc.numlines_l[i];\n    }\n    for (; i < Encoder.CBANDS; ++i) {\n      gfc.mld_cb_l[i] = 1;\n    }\n    j = 0;\n    for (i = 0; i < gfc.npart_s; i++) {\n      var freq = sfreq * (j + gfc.numlines_s[i] / 2) / (1 * Encoder.BLKSIZE_s);\n      gfc.mld_cb_s[i] = stereo_demask(freq);\n      j += gfc.numlines_s[i];\n    }\n    for (; i < Encoder.CBANDS; ++i) {\n      gfc.mld_cb_s[i] = 1;\n    }\n    return 0;\n  };\n  function ATHformula_GB(f, value) {\n    if (f < -0.3)\n      f = 3410;\n    f /= 1e3;\n    f = Math.max(0.1, f);\n    var ath = 3.64 * Math.pow(f, -0.8) - 6.8 * Math.exp(-0.6 * Math.pow(f - 3.4, 2)) + 6 * Math.exp(-0.15 * Math.pow(f - 8.7, 2)) + (0.6 + 0.04 * value) * 1e-3 * Math.pow(f, 4);\n    return ath;\n  }\n  this.ATHformula = function(f, gfp) {\n    var ath;\n    switch (gfp.ATHtype) {\n      case 0:\n        ath = ATHformula_GB(f, 9);\n        break;\n      case 1:\n        ath = ATHformula_GB(f, -1);\n        break;\n      case 2:\n        ath = ATHformula_GB(f, 0);\n        break;\n      case 3:\n        ath = ATHformula_GB(f, 1) + 6;\n        break;\n      case 4:\n        ath = ATHformula_GB(f, gfp.ATHcurve);\n        break;\n      default:\n        ath = ATHformula_GB(f, 0);\n        break;\n    }\n    return ath;\n  };\n}\nfunction LameGlobalFlags() {\n  this.class_id = 0;\n  this.num_samples = 0;\n  this.num_channels = 0;\n  this.in_samplerate = 0;\n  this.out_samplerate = 0;\n  this.scale = 0;\n  this.scale_left = 0;\n  this.scale_right = 0;\n  this.analysis = false;\n  this.bWriteVbrTag = false;\n  this.decode_only = false;\n  this.quality = 0;\n  this.mode = MPEGMode.STEREO;\n  this.force_ms = false;\n  this.free_format = false;\n  this.findReplayGain = false;\n  this.decode_on_the_fly = false;\n  this.write_id3tag_automatic = false;\n  this.brate = 0;\n  this.compression_ratio = 0;\n  this.copyright = 0;\n  this.original = 0;\n  this.extension = 0;\n  this.emphasis = 0;\n  this.error_protection = 0;\n  this.strict_ISO = false;\n  this.disable_reservoir = false;\n  this.quant_comp = 0;\n  this.quant_comp_short = 0;\n  this.experimentalY = false;\n  this.experimentalZ = 0;\n  this.exp_nspsytune = 0;\n  this.preset = 0;\n  this.VBR = null;\n  this.VBR_q_frac = 0;\n  this.VBR_q = 0;\n  this.VBR_mean_bitrate_kbps = 0;\n  this.VBR_min_bitrate_kbps = 0;\n  this.VBR_max_bitrate_kbps = 0;\n  this.VBR_hard_min = 0;\n  this.lowpassfreq = 0;\n  this.highpassfreq = 0;\n  this.lowpasswidth = 0;\n  this.highpasswidth = 0;\n  this.maskingadjust = 0;\n  this.maskingadjust_short = 0;\n  this.ATHonly = false;\n  this.ATHshort = false;\n  this.noATH = false;\n  this.ATHtype = 0;\n  this.ATHcurve = 0;\n  this.ATHlower = 0;\n  this.athaa_type = 0;\n  this.athaa_loudapprox = 0;\n  this.athaa_sensitivity = 0;\n  this.short_blocks = null;\n  this.useTemporal = false;\n  this.interChRatio = 0;\n  this.msfix = 0;\n  this.tune = false;\n  this.tune_value_a = 0;\n  this.version = 0;\n  this.encoder_delay = 0;\n  this.encoder_padding = 0;\n  this.framesize = 0;\n  this.frameNum = 0;\n  this.lame_allocated_gfp = 0;\n  this.internal_flags = null;\n}\nvar L3Side$1 = {};\nL3Side$1.SFBMAX = Encoder.SBMAX_s * 3;\nvar new_float$9 = common.new_float;\nvar new_int$a = common.new_int;\nfunction GrInfo() {\n  this.xr = new_float$9(576);\n  this.l3_enc = new_int$a(576);\n  this.scalefac = new_int$a(L3Side$1.SFBMAX);\n  this.xrpow_max = 0;\n  this.part2_3_length = 0;\n  this.big_values = 0;\n  this.count1 = 0;\n  this.global_gain = 0;\n  this.scalefac_compress = 0;\n  this.block_type = 0;\n  this.mixed_block_flag = 0;\n  this.table_select = new_int$a(3);\n  this.subblock_gain = new_int$a(3 + 1);\n  this.region0_count = 0;\n  this.region1_count = 0;\n  this.preflag = 0;\n  this.scalefac_scale = 0;\n  this.count1table_select = 0;\n  this.part2_length = 0;\n  this.sfb_lmax = 0;\n  this.sfb_smin = 0;\n  this.psy_lmax = 0;\n  this.sfbmax = 0;\n  this.psymax = 0;\n  this.sfbdivide = 0;\n  this.width = new_int$a(L3Side$1.SFBMAX);\n  this.window = new_int$a(L3Side$1.SFBMAX);\n  this.count1bits = 0;\n  this.sfb_partition_table = null;\n  this.slen = new_int$a(4);\n  this.max_nonzero_coeff = 0;\n  var self2 = this;\n  function clone_int(array) {\n    return new Int32Array(array);\n  }\n  function clone_float(array) {\n    return new Float32Array(array);\n  }\n  this.assign = function(other) {\n    self2.xr = clone_float(other.xr);\n    self2.l3_enc = clone_int(other.l3_enc);\n    self2.scalefac = clone_int(other.scalefac);\n    self2.xrpow_max = other.xrpow_max;\n    self2.part2_3_length = other.part2_3_length;\n    self2.big_values = other.big_values;\n    self2.count1 = other.count1;\n    self2.global_gain = other.global_gain;\n    self2.scalefac_compress = other.scalefac_compress;\n    self2.block_type = other.block_type;\n    self2.mixed_block_flag = other.mixed_block_flag;\n    self2.table_select = clone_int(other.table_select);\n    self2.subblock_gain = clone_int(other.subblock_gain);\n    self2.region0_count = other.region0_count;\n    self2.region1_count = other.region1_count;\n    self2.preflag = other.preflag;\n    self2.scalefac_scale = other.scalefac_scale;\n    self2.count1table_select = other.count1table_select;\n    self2.part2_length = other.part2_length;\n    self2.sfb_lmax = other.sfb_lmax;\n    self2.sfb_smin = other.sfb_smin;\n    self2.psy_lmax = other.psy_lmax;\n    self2.sfbmax = other.sfbmax;\n    self2.psymax = other.psymax;\n    self2.sfbdivide = other.sfbdivide;\n    self2.width = clone_int(other.width);\n    self2.window = clone_int(other.window);\n    self2.count1bits = other.count1bits;\n    self2.sfb_partition_table = other.sfb_partition_table.slice(0);\n    self2.slen = clone_int(other.slen);\n    self2.max_nonzero_coeff = other.max_nonzero_coeff;\n  };\n}\nvar new_int$9 = common.new_int;\nfunction IIISideInfo() {\n  this.tt = [\n    [null, null],\n    [null, null]\n  ];\n  this.main_data_begin = 0;\n  this.private_bits = 0;\n  this.resvDrain_pre = 0;\n  this.resvDrain_post = 0;\n  this.scfsi = [new_int$9(4), new_int$9(4)];\n  for (var gr = 0; gr < 2; gr++) {\n    for (var ch = 0; ch < 2; ch++) {\n      this.tt[gr][ch] = new GrInfo();\n    }\n  }\n}\nvar System$6 = common.System;\nvar new_int$8 = common.new_int;\nfunction ScaleFac(arrL, arrS, arr21, arr12) {\n  this.l = new_int$8(1 + Encoder.SBMAX_l);\n  this.s = new_int$8(1 + Encoder.SBMAX_s);\n  this.psfb21 = new_int$8(1 + Encoder.PSFB21);\n  this.psfb12 = new_int$8(1 + Encoder.PSFB12);\n  var l = this.l;\n  var s = this.s;\n  if (arguments.length == 4) {\n    this.arrL = arguments[0];\n    this.arrS = arguments[1];\n    this.arr21 = arguments[2];\n    this.arr12 = arguments[3];\n    System$6.arraycopy(\n      this.arrL,\n      0,\n      l,\n      0,\n      Math.min(this.arrL.length, this.l.length)\n    );\n    System$6.arraycopy(\n      this.arrS,\n      0,\n      s,\n      0,\n      Math.min(this.arrS.length, this.s.length)\n    );\n    System$6.arraycopy(\n      this.arr21,\n      0,\n      this.psfb21,\n      0,\n      Math.min(this.arr21.length, this.psfb21.length)\n    );\n    System$6.arraycopy(\n      this.arr12,\n      0,\n      this.psfb12,\n      0,\n      Math.min(this.arr12.length, this.psfb12.length)\n    );\n  }\n}\nvar new_float$8 = common.new_float;\nvar new_float_n$2 = common.new_float_n;\nvar new_int$7 = common.new_int;\nfunction NsPsy() {\n  this.last_en_subshort = new_float_n$2([4, 9]);\n  this.lastAttacks = new_int$7(4);\n  this.pefirbuf = new_float$8(19);\n  this.longfact = new_float$8(Encoder.SBMAX_l);\n  this.shortfact = new_float$8(Encoder.SBMAX_s);\n  this.attackthre = 0;\n  this.attackthre_s = 0;\n}\nfunction VBRSeekInfo() {\n  this.sum = 0;\n  this.seen = 0;\n  this.want = 0;\n  this.pos = 0;\n  this.size = 0;\n  this.bag = null;\n  this.nVbrNumFrames = 0;\n  this.nBytesWritten = 0;\n  this.TotalFrameSize = 0;\n}\nvar new_byte$3 = common.new_byte;\nvar new_double = common.new_double;\nvar new_float$7 = common.new_float;\nvar new_float_n$1 = common.new_float_n;\nvar new_int$6 = common.new_int;\nvar new_int_n$1 = common.new_int_n;\nLameInternalFlags$1.MFSIZE = 3 * 1152 + Encoder.ENCDELAY - Encoder.MDCTDELAY;\nLameInternalFlags$1.MAX_HEADER_BUF = 256;\nLameInternalFlags$1.MAX_BITS_PER_CHANNEL = 4095;\nLameInternalFlags$1.MAX_BITS_PER_GRANULE = 7680;\nLameInternalFlags$1.BPC = 320;\nfunction LameInternalFlags$1() {\n  var MAX_HEADER_LEN = 40;\n  this.Class_ID = 0;\n  this.lame_encode_frame_init = 0;\n  this.iteration_init_init = 0;\n  this.fill_buffer_resample_init = 0;\n  this.mfbuf = new_float_n$1([2, LameInternalFlags$1.MFSIZE]);\n  this.mode_gr = 0;\n  this.channels_in = 0;\n  this.channels_out = 0;\n  this.resample_ratio = 0;\n  this.mf_samples_to_encode = 0;\n  this.mf_size = 0;\n  this.VBR_min_bitrate = 0;\n  this.VBR_max_bitrate = 0;\n  this.bitrate_index = 0;\n  this.samplerate_index = 0;\n  this.mode_ext = 0;\n  this.lowpass1 = 0;\n  this.lowpass2 = 0;\n  this.highpass1 = 0;\n  this.highpass2 = 0;\n  this.noise_shaping = 0;\n  this.noise_shaping_amp = 0;\n  this.substep_shaping = 0;\n  this.psymodel = 0;\n  this.noise_shaping_stop = 0;\n  this.subblock_gain = 0;\n  this.use_best_huffman = 0;\n  this.full_outer_loop = 0;\n  this.l3_side = new IIISideInfo();\n  this.ms_ratio = new_float$7(2);\n  this.padding = 0;\n  this.frac_SpF = 0;\n  this.slot_lag = 0;\n  this.tag_spec = null;\n  this.nMusicCRC = 0;\n  this.OldValue = new_int$6(2);\n  this.CurrentStep = new_int$6(2);\n  this.masking_lower = 0;\n  this.bv_scf = new_int$6(576);\n  this.pseudohalf = new_int$6(L3Side$1.SFBMAX);\n  this.sfb21_extra = false;\n  this.inbuf_old = new Array(2);\n  this.blackfilt = new Array(2 * LameInternalFlags$1.BPC + 1);\n  this.itime = new_double(2);\n  this.sideinfo_len = 0;\n  this.sb_sample = new_float_n$1([2, 2, 18, Encoder.SBLIMIT]);\n  this.amp_filter = new_float$7(32);\n  function Header() {\n    this.write_timing = 0;\n    this.ptr = 0;\n    this.buf = new_byte$3(MAX_HEADER_LEN);\n  }\n  this.header = new Array(LameInternalFlags$1.MAX_HEADER_BUF);\n  this.h_ptr = 0;\n  this.w_ptr = 0;\n  this.ancillary_flag = 0;\n  this.ResvSize = 0;\n  this.ResvMax = 0;\n  this.scalefac_band = new ScaleFac();\n  this.minval_l = new_float$7(Encoder.CBANDS);\n  this.minval_s = new_float$7(Encoder.CBANDS);\n  this.nb_1 = new_float_n$1([4, Encoder.CBANDS]);\n  this.nb_2 = new_float_n$1([4, Encoder.CBANDS]);\n  this.nb_s1 = new_float_n$1([4, Encoder.CBANDS]);\n  this.nb_s2 = new_float_n$1([4, Encoder.CBANDS]);\n  this.s3_ss = null;\n  this.s3_ll = null;\n  this.decay = 0;\n  this.thm = new Array(4);\n  this.en = new Array(4);\n  this.tot_ener = new_float$7(4);\n  this.loudness_sq = new_float_n$1([2, 2]);\n  this.loudness_sq_save = new_float$7(2);\n  this.mld_l = new_float$7(Encoder.SBMAX_l);\n  this.mld_s = new_float$7(Encoder.SBMAX_s);\n  this.bm_l = new_int$6(Encoder.SBMAX_l);\n  this.bo_l = new_int$6(Encoder.SBMAX_l);\n  this.bm_s = new_int$6(Encoder.SBMAX_s);\n  this.bo_s = new_int$6(Encoder.SBMAX_s);\n  this.npart_l = 0;\n  this.npart_s = 0;\n  this.s3ind = new_int_n$1([Encoder.CBANDS, 2]);\n  this.s3ind_s = new_int_n$1([Encoder.CBANDS, 2]);\n  this.numlines_s = new_int$6(Encoder.CBANDS);\n  this.numlines_l = new_int$6(Encoder.CBANDS);\n  this.rnumlines_l = new_float$7(Encoder.CBANDS);\n  this.mld_cb_l = new_float$7(Encoder.CBANDS);\n  this.mld_cb_s = new_float$7(Encoder.CBANDS);\n  this.numlines_s_num1 = 0;\n  this.numlines_l_num1 = 0;\n  this.pe = new_float$7(4);\n  this.ms_ratio_s_old = 0;\n  this.ms_ratio_l_old = 0;\n  this.ms_ener_ratio_old = 0;\n  this.blocktype_old = new_int$6(2);\n  this.nsPsy = new NsPsy();\n  this.VBR_seek_table = new VBRSeekInfo();\n  this.ATH = null;\n  this.PSY = null;\n  this.nogap_total = 0;\n  this.nogap_current = 0;\n  this.decode_on_the_fly = true;\n  this.findReplayGain = true;\n  this.findPeakSample = true;\n  this.PeakSample = 0;\n  this.RadioGain = 0;\n  this.AudiophileGain = 0;\n  this.rgdata = null;\n  this.noclipGainChange = 0;\n  this.noclipScale = 0;\n  this.bitrate_stereoMode_Hist = new_int_n$1([16, 4 + 1]);\n  this.bitrate_blockType_Hist = new_int_n$1([16, 4 + 1 + 1]);\n  this.pinfo = null;\n  this.hip = null;\n  this.in_buffer_nsamples = 0;\n  this.in_buffer_0 = null;\n  this.in_buffer_1 = null;\n  this.iteration_loop = null;\n  for (var i = 0; i < this.en.length; i++) {\n    this.en[i] = new III_psy_xmin();\n  }\n  for (var i = 0; i < this.thm.length; i++) {\n    this.thm[i] = new III_psy_xmin();\n  }\n  for (var i = 0; i < this.header.length; i++) {\n    this.header[i] = new Header();\n  }\n}\nvar new_float$6 = common.new_float;\nfunction ATH() {\n  this.useAdjust = 0;\n  this.aaSensitivityP = 0;\n  this.adjust = 0;\n  this.adjustLimit = 0;\n  this.decay = 0;\n  this.floor = 0;\n  this.l = new_float$6(Encoder.SBMAX_l);\n  this.s = new_float$6(Encoder.SBMAX_s);\n  this.psfb21 = new_float$6(Encoder.PSFB21);\n  this.psfb12 = new_float$6(Encoder.PSFB12);\n  this.cb_l = new_float$6(Encoder.CBANDS);\n  this.cb_s = new_float$6(Encoder.CBANDS);\n  this.eql_w = new_float$6(Encoder.BLKSIZE / 2);\n}\nvar System$5 = common.System;\nvar Arrays$4 = common.Arrays;\nGainAnalysis$1.STEPS_per_dB = 100;\nGainAnalysis$1.MAX_dB = 120;\nGainAnalysis$1.GAIN_NOT_ENOUGH_SAMPLES = -24601;\nGainAnalysis$1.GAIN_ANALYSIS_ERROR = 0;\nGainAnalysis$1.GAIN_ANALYSIS_OK = 1;\nGainAnalysis$1.INIT_GAIN_ANALYSIS_ERROR = 0;\nGainAnalysis$1.INIT_GAIN_ANALYSIS_OK = 1;\nGainAnalysis$1.YULE_ORDER = 10;\nGainAnalysis$1.MAX_ORDER = GainAnalysis$1.YULE_ORDER;\nGainAnalysis$1.MAX_SAMP_FREQ = 48e3;\nGainAnalysis$1.RMS_WINDOW_TIME_NUMERATOR = 1;\nGainAnalysis$1.RMS_WINDOW_TIME_DENOMINATOR = 20;\nGainAnalysis$1.MAX_SAMPLES_PER_WINDOW = GainAnalysis$1.MAX_SAMP_FREQ * GainAnalysis$1.RMS_WINDOW_TIME_NUMERATOR / GainAnalysis$1.RMS_WINDOW_TIME_DENOMINATOR + 1;\nfunction GainAnalysis$1() {\n  var PINK_REF = 64.82;\n  var RMS_PERCENTILE = 0.95;\n  var RMS_WINDOW_TIME_NUMERATOR = GainAnalysis$1.RMS_WINDOW_TIME_NUMERATOR;\n  var RMS_WINDOW_TIME_DENOMINATOR = GainAnalysis$1.RMS_WINDOW_TIME_DENOMINATOR;\n  var ABYule = [\n    [\n      0.038575994352,\n      -3.84664617118067,\n      -0.02160367184185,\n      7.81501653005538,\n      -0.00123395316851,\n      -11.34170355132042,\n      -9291677959e-14,\n      13.05504219327545,\n      -0.01655260341619,\n      -12.28759895145294,\n      0.02161526843274,\n      9.4829380631979,\n      -0.02074045215285,\n      -5.87257861775999,\n      0.00594298065125,\n      2.75465861874613,\n      0.00306428023191,\n      -0.86984376593551,\n      12025322027e-14,\n      0.13919314567432,\n      0.00288463683916\n    ],\n    [\n      0.0541865640643,\n      -3.47845948550071,\n      -0.02911007808948,\n      6.36317777566148,\n      -0.00848709379851,\n      -8.54751527471874,\n      -0.00851165645469,\n      9.4769360780128,\n      -0.00834990904936,\n      -8.81498681370155,\n      0.02245293253339,\n      6.85401540936998,\n      -0.02596338512915,\n      -4.39470996079559,\n      0.01624864962975,\n      2.19611684890774,\n      -0.00240879051584,\n      -0.75104302451432,\n      0.00674613682247,\n      0.13149317958808,\n      -0.00187763777362\n    ],\n    [\n      0.15457299681924,\n      -2.37898834973084,\n      -0.09331049056315,\n      2.84868151156327,\n      -0.06247880153653,\n      -2.64577170229825,\n      0.02163541888798,\n      2.23697657451713,\n      -0.05588393329856,\n      -1.67148153367602,\n      0.04781476674921,\n      1.00595954808547,\n      0.00222312597743,\n      -0.45953458054983,\n      0.03174092540049,\n      0.16378164858596,\n      -0.01390589421898,\n      -0.05032077717131,\n      0.00651420667831,\n      0.0234789740702,\n      -0.00881362733839\n    ],\n    [\n      0.30296907319327,\n      -1.61273165137247,\n      -0.22613988682123,\n      1.0797749225997,\n      -0.08587323730772,\n      -0.2565625775407,\n      0.03282930172664,\n      -0.1627671912044,\n      -0.00915702933434,\n      -0.22638893773906,\n      -0.02364141202522,\n      0.39120800788284,\n      -0.00584456039913,\n      -0.22138138954925,\n      0.06276101321749,\n      0.04500235387352,\n      -828086748e-14,\n      0.02005851806501,\n      0.00205861885564,\n      0.00302439095741,\n      -0.02950134983287\n    ],\n    [\n      0.33642304856132,\n      -1.49858979367799,\n      -0.2557224142557,\n      0.87350271418188,\n      -0.11828570177555,\n      0.12205022308084,\n      0.11921148675203,\n      -0.80774944671438,\n      -0.07834489609479,\n      0.47854794562326,\n      -0.0046997791438,\n      -0.12453458140019,\n      -0.0058950022444,\n      -0.04067510197014,\n      0.05724228140351,\n      0.08333755284107,\n      0.00832043980773,\n      -0.04237348025746,\n      -0.0163538138454,\n      0.02977207319925,\n      -0.0176017656815\n    ],\n    [\n      0.4491525660845,\n      -0.62820619233671,\n      -0.14351757464547,\n      0.29661783706366,\n      -0.22784394429749,\n      -0.372563729424,\n      -0.01419140100551,\n      0.00213767857124,\n      0.04078262797139,\n      -0.42029820170918,\n      -0.12398163381748,\n      0.22199650564824,\n      0.04097565135648,\n      0.00613424350682,\n      0.10478503600251,\n      0.06747620744683,\n      -0.01863887810927,\n      0.05784820375801,\n      -0.03193428438915,\n      0.03222754072173,\n      0.00541907748707\n    ],\n    [\n      0.56619470757641,\n      -1.04800335126349,\n      -0.75464456939302,\n      0.29156311971249,\n      0.1624213774223,\n      -0.26806001042947,\n      0.16744243493672,\n      0.00819999645858,\n      -0.18901604199609,\n      0.45054734505008,\n      0.3093178284183,\n      -0.33032403314006,\n      -0.27562961986224,\n      0.0673936833311,\n      0.00647310677246,\n      -0.04784254229033,\n      0.08647503780351,\n      0.01639907836189,\n      -0.0378898455484,\n      0.01807364323573,\n      -0.00588215443421\n    ],\n    [\n      0.58100494960553,\n      -0.51035327095184,\n      -0.53174909058578,\n      -0.31863563325245,\n      -0.14289799034253,\n      -0.20256413484477,\n      0.17520704835522,\n      0.1472815413433,\n      0.02377945217615,\n      0.38952639978999,\n      0.15558449135573,\n      -0.23313271880868,\n      -0.25344790059353,\n      -0.05246019024463,\n      0.01628462406333,\n      -0.02505961724053,\n      0.06920467763959,\n      0.02442357316099,\n      -0.03721611395801,\n      0.01818801111503,\n      -0.00749618797172\n    ],\n    [\n      0.53648789255105,\n      -0.2504987195602,\n      -0.42163034350696,\n      -0.43193942311114,\n      -0.00275953611929,\n      -0.03424681017675,\n      0.04267842219415,\n      -0.04678328784242,\n      -0.10214864179676,\n      0.26408300200955,\n      0.14590772289388,\n      0.15113130533216,\n      -0.02459864859345,\n      -0.17556493366449,\n      -0.11202315195388,\n      -0.18823009262115,\n      -0.04060034127,\n      0.05477720428674,\n      0.0478866554818,\n      0.0470440968812,\n      -0.02217936801134\n    ]\n  ];\n  var ABButter = [\n    [\n      0.98621192462708,\n      -1.97223372919527,\n      -1.97242384925416,\n      0.97261396931306,\n      0.98621192462708\n    ],\n    [\n      0.98500175787242,\n      -1.96977855582618,\n      -1.97000351574484,\n      0.9702284756635,\n      0.98500175787242\n    ],\n    [\n      0.97938932735214,\n      -1.95835380975398,\n      -1.95877865470428,\n      0.95920349965459,\n      0.97938932735214\n    ],\n    [\n      0.97531843204928,\n      -1.95002759149878,\n      -1.95063686409857,\n      0.95124613669835,\n      0.97531843204928\n    ],\n    [\n      0.97316523498161,\n      -1.94561023566527,\n      -1.94633046996323,\n      0.94705070426118,\n      0.97316523498161\n    ],\n    [\n      0.96454515552826,\n      -1.92783286977036,\n      -1.92909031105652,\n      0.93034775234268,\n      0.96454515552826\n    ],\n    [\n      0.96009142950541,\n      -1.91858953033784,\n      -1.92018285901082,\n      0.92177618768381,\n      0.96009142950541\n    ],\n    [\n      0.95856916599601,\n      -1.9154210807478,\n      -1.91713833199203,\n      0.91885558323625,\n      0.95856916599601\n    ],\n    [\n      0.94597685600279,\n      -1.88903307939452,\n      -1.89195371200558,\n      0.89487434461664,\n      0.94597685600279\n    ]\n  ];\n  function filterYule(input, inputPos, output, outputPos, nSamples, kernel) {\n    while (nSamples-- != 0) {\n      output[outputPos] = 1e-10 + input[inputPos + 0] * kernel[0] - output[outputPos - 1] * kernel[1] + input[inputPos - 1] * kernel[2] - output[outputPos - 2] * kernel[3] + input[inputPos - 2] * kernel[4] - output[outputPos - 3] * kernel[5] + input[inputPos - 3] * kernel[6] - output[outputPos - 4] * kernel[7] + input[inputPos - 4] * kernel[8] - output[outputPos - 5] * kernel[9] + input[inputPos - 5] * kernel[10] - output[outputPos - 6] * kernel[11] + input[inputPos - 6] * kernel[12] - output[outputPos - 7] * kernel[13] + input[inputPos - 7] * kernel[14] - output[outputPos - 8] * kernel[15] + input[inputPos - 8] * kernel[16] - output[outputPos - 9] * kernel[17] + input[inputPos - 9] * kernel[18] - output[outputPos - 10] * kernel[19] + input[inputPos - 10] * kernel[20];\n      ++outputPos;\n      ++inputPos;\n    }\n  }\n  function filterButter(input, inputPos, output, outputPos, nSamples, kernel) {\n    while (nSamples-- != 0) {\n      output[outputPos] = input[inputPos + 0] * kernel[0] - output[outputPos - 1] * kernel[1] + input[inputPos - 1] * kernel[2] - output[outputPos - 2] * kernel[3] + input[inputPos - 2] * kernel[4];\n      ++outputPos;\n      ++inputPos;\n    }\n  }\n  function ResetSampleFrequency(rgData, samplefreq) {\n    for (var i = 0; i < MAX_ORDER; i++) {\n      rgData.linprebuf[i] = rgData.lstepbuf[i] = rgData.loutbuf[i] = rgData.rinprebuf[i] = rgData.rstepbuf[i] = rgData.routbuf[i] = 0;\n    }\n    switch (0 | samplefreq) {\n      case 48e3:\n        rgData.reqindex = 0;\n        break;\n      case 44100:\n        rgData.reqindex = 1;\n        break;\n      case 32e3:\n        rgData.reqindex = 2;\n        break;\n      case 24e3:\n        rgData.reqindex = 3;\n        break;\n      case 22050:\n        rgData.reqindex = 4;\n        break;\n      case 16e3:\n        rgData.reqindex = 5;\n        break;\n      case 12e3:\n        rgData.reqindex = 6;\n        break;\n      case 11025:\n        rgData.reqindex = 7;\n        break;\n      case 8e3:\n        rgData.reqindex = 8;\n        break;\n      default:\n        return INIT_GAIN_ANALYSIS_ERROR;\n    }\n    rgData.sampleWindow = 0 | (samplefreq * RMS_WINDOW_TIME_NUMERATOR + RMS_WINDOW_TIME_DENOMINATOR - 1) / RMS_WINDOW_TIME_DENOMINATOR;\n    rgData.lsum = 0;\n    rgData.rsum = 0;\n    rgData.totsamp = 0;\n    Arrays$4.ill(rgData.A, 0);\n    return INIT_GAIN_ANALYSIS_OK;\n  }\n  this.InitGainAnalysis = function(rgData, samplefreq) {\n    if (ResetSampleFrequency(rgData, samplefreq) != INIT_GAIN_ANALYSIS_OK) {\n      return INIT_GAIN_ANALYSIS_ERROR;\n    }\n    rgData.linpre = MAX_ORDER;\n    rgData.rinpre = MAX_ORDER;\n    rgData.lstep = MAX_ORDER;\n    rgData.rstep = MAX_ORDER;\n    rgData.lout = MAX_ORDER;\n    rgData.rout = MAX_ORDER;\n    Arrays$4.fill(rgData.B, 0);\n    return INIT_GAIN_ANALYSIS_OK;\n  };\n  function fsqr(d) {\n    return d * d;\n  }\n  this.AnalyzeSamples = function(rgData, left_samples, left_samplesPos, right_samples, right_samplesPos, num_samples, num_channels) {\n    var curleft;\n    var curleftBase;\n    var curright;\n    var currightBase;\n    var batchsamples;\n    var cursamples;\n    var cursamplepos;\n    if (num_samples == 0)\n      return GAIN_ANALYSIS_OK;\n    cursamplepos = 0;\n    batchsamples = num_samples;\n    switch (num_channels) {\n      case 1:\n        right_samples = left_samples;\n        right_samplesPos = left_samplesPos;\n        break;\n      case 2:\n        break;\n      default:\n        return GAIN_ANALYSIS_ERROR;\n    }\n    if (num_samples < MAX_ORDER) {\n      System$5.arraycopy(\n        left_samples,\n        left_samplesPos,\n        rgData.linprebuf,\n        MAX_ORDER,\n        num_samples\n      );\n      System$5.arraycopy(\n        right_samples,\n        right_samplesPos,\n        rgData.rinprebuf,\n        MAX_ORDER,\n        num_samples\n      );\n    } else {\n      System$5.arraycopy(\n        left_samples,\n        left_samplesPos,\n        rgData.linprebuf,\n        MAX_ORDER,\n        MAX_ORDER\n      );\n      System$5.arraycopy(\n        right_samples,\n        right_samplesPos,\n        rgData.rinprebuf,\n        MAX_ORDER,\n        MAX_ORDER\n      );\n    }\n    while (batchsamples > 0) {\n      cursamples = batchsamples > rgData.sampleWindow - rgData.totsamp ? rgData.sampleWindow - rgData.totsamp : batchsamples;\n      if (cursamplepos < MAX_ORDER) {\n        curleft = rgData.linpre + cursamplepos;\n        curleftBase = rgData.linprebuf;\n        curright = rgData.rinpre + cursamplepos;\n        currightBase = rgData.rinprebuf;\n        if (cursamples > MAX_ORDER - cursamplepos) {\n          cursamples = MAX_ORDER - cursamplepos;\n        }\n      } else {\n        curleft = left_samplesPos + cursamplepos;\n        curleftBase = left_samples;\n        curright = right_samplesPos + cursamplepos;\n        currightBase = right_samples;\n      }\n      filterYule(\n        curleftBase,\n        curleft,\n        rgData.lstepbuf,\n        rgData.lstep + rgData.totsamp,\n        cursamples,\n        ABYule[rgData.reqindex]\n      );\n      filterYule(\n        currightBase,\n        curright,\n        rgData.rstepbuf,\n        rgData.rstep + rgData.totsamp,\n        cursamples,\n        ABYule[rgData.reqindex]\n      );\n      filterButter(\n        rgData.lstepbuf,\n        rgData.lstep + rgData.totsamp,\n        rgData.loutbuf,\n        rgData.lout + rgData.totsamp,\n        cursamples,\n        ABButter[rgData.reqindex]\n      );\n      filterButter(\n        rgData.rstepbuf,\n        rgData.rstep + rgData.totsamp,\n        rgData.routbuf,\n        rgData.rout + rgData.totsamp,\n        cursamples,\n        ABButter[rgData.reqindex]\n      );\n      curleft = rgData.lout + rgData.totsamp;\n      curleftBase = rgData.loutbuf;\n      curright = rgData.rout + rgData.totsamp;\n      currightBase = rgData.routbuf;\n      var i = cursamples % 8;\n      while (i-- != 0) {\n        rgData.lsum += fsqr(curleftBase[curleft++]);\n        rgData.rsum += fsqr(currightBase[curright++]);\n      }\n      i = cursamples / 8;\n      while (i-- != 0) {\n        rgData.lsum += fsqr(curleftBase[curleft + 0]) + fsqr(curleftBase[curleft + 1]) + fsqr(curleftBase[curleft + 2]) + fsqr(curleftBase[curleft + 3]) + fsqr(curleftBase[curleft + 4]) + fsqr(curleftBase[curleft + 5]) + fsqr(curleftBase[curleft + 6]) + fsqr(curleftBase[curleft + 7]);\n        curleft += 8;\n        rgData.rsum += fsqr(currightBase[curright + 0]) + fsqr(currightBase[curright + 1]) + fsqr(currightBase[curright + 2]) + fsqr(currightBase[curright + 3]) + fsqr(currightBase[curright + 4]) + fsqr(currightBase[curright + 5]) + fsqr(currightBase[curright + 6]) + fsqr(currightBase[curright + 7]);\n        curright += 8;\n      }\n      batchsamples -= cursamples;\n      cursamplepos += cursamples;\n      rgData.totsamp += cursamples;\n      if (rgData.totsamp == rgData.sampleWindow) {\n        var val = GainAnalysis$1.STEPS_per_dB * 10 * Math.log10(\n          (rgData.lsum + rgData.rsum) / rgData.totsamp * 0.5 + 1e-37\n        );\n        var ival = val <= 0 ? 0 : 0 | val;\n        if (ival >= rgData.A.length)\n          ival = rgData.A.length - 1;\n        rgData.A[ival]++;\n        rgData.lsum = rgData.rsum = 0;\n        System$5.arraycopy(\n          rgData.loutbuf,\n          rgData.totsamp,\n          rgData.loutbuf,\n          0,\n          MAX_ORDER\n        );\n        System$5.arraycopy(\n          rgData.routbuf,\n          rgData.totsamp,\n          rgData.routbuf,\n          0,\n          MAX_ORDER\n        );\n        System$5.arraycopy(\n          rgData.lstepbuf,\n          rgData.totsamp,\n          rgData.lstepbuf,\n          0,\n          MAX_ORDER\n        );\n        System$5.arraycopy(\n          rgData.rstepbuf,\n          rgData.totsamp,\n          rgData.rstepbuf,\n          0,\n          MAX_ORDER\n        );\n        rgData.totsamp = 0;\n      }\n      if (rgData.totsamp > rgData.sampleWindow) {\n        return GAIN_ANALYSIS_ERROR;\n      }\n    }\n    if (num_samples < MAX_ORDER) {\n      System$5.arraycopy(\n        rgData.linprebuf,\n        num_samples,\n        rgData.linprebuf,\n        0,\n        MAX_ORDER - num_samples\n      );\n      System$5.arraycopy(\n        rgData.rinprebuf,\n        num_samples,\n        rgData.rinprebuf,\n        0,\n        MAX_ORDER - num_samples\n      );\n      System$5.arraycopy(\n        left_samples,\n        left_samplesPos,\n        rgData.linprebuf,\n        MAX_ORDER - num_samples,\n        num_samples\n      );\n      System$5.arraycopy(\n        right_samples,\n        right_samplesPos,\n        rgData.rinprebuf,\n        MAX_ORDER - num_samples,\n        num_samples\n      );\n    } else {\n      System$5.arraycopy(\n        left_samples,\n        left_samplesPos + num_samples - MAX_ORDER,\n        rgData.linprebuf,\n        0,\n        MAX_ORDER\n      );\n      System$5.arraycopy(\n        right_samples,\n        right_samplesPos + num_samples - MAX_ORDER,\n        rgData.rinprebuf,\n        0,\n        MAX_ORDER\n      );\n    }\n    return GAIN_ANALYSIS_OK;\n  };\n  function analyzeResult(Array2, len) {\n    var i;\n    var elems = 0;\n    for (i = 0; i < len; i++)\n      elems += Array2[i];\n    if (elems == 0)\n      return GAIN_NOT_ENOUGH_SAMPLES;\n    var upper = 0 | Math.ceil(elems * (1 - RMS_PERCENTILE));\n    for (i = len; i-- > 0; ) {\n      if ((upper -= Array2[i]) <= 0)\n        break;\n    }\n    return PINK_REF - i / GainAnalysis$1.STEPS_per_dB;\n  }\n  this.GetTitleGain = function(rgData) {\n    var retval = analyzeResult(rgData.A, rgData.A.length);\n    for (var i = 0; i < rgData.A.length; i++) {\n      rgData.B[i] += rgData.A[i];\n      rgData.A[i] = 0;\n    }\n    for (var i = 0; i < MAX_ORDER; i++) {\n      rgData.linprebuf[i] = rgData.lstepbuf[i] = rgData.loutbuf[i] = rgData.rinprebuf[i] = rgData.rstepbuf[i] = rgData.routbuf[i] = 0;\n    }\n    rgData.totsamp = 0;\n    rgData.lsum = rgData.rsum = 0;\n    return retval;\n  };\n}\nvar new_float$5 = common.new_float;\nvar new_int$5 = common.new_int;\nfunction ReplayGain() {\n  this.linprebuf = new_float$5(void 0 * 2);\n  this.linpre = 0;\n  this.lstepbuf = new_float$5(\n    void 0 + void 0\n  );\n  this.lstep = 0;\n  this.loutbuf = new_float$5(\n    void 0 + void 0\n  );\n  this.lout = 0;\n  this.rinprebuf = new_float$5(void 0 * 2);\n  this.rinpre = 0;\n  this.rstepbuf = new_float$5(\n    void 0 + void 0\n  );\n  this.rstep = 0;\n  this.routbuf = new_float$5(\n    void 0 + void 0\n  );\n  this.rout = 0;\n  this.sampleWindow = 0;\n  this.totsamp = 0;\n  this.lsum = 0;\n  this.rsum = 0;\n  this.freqindex = 0;\n  this.first = 0;\n  this.A = new_int$5(0 | void 0 * void 0);\n  this.B = new_int$5(0 | void 0 * void 0);\n}\nfunction MeanBits$1(meanBits) {\n  this.bits = meanBits;\n}\nvar new_float$4 = common.new_float;\nvar new_int$4 = common.new_int;\nvar assert$8 = common.assert;\nfunction CBRNewIterationLoop(_quantize) {\n  var quantize = _quantize;\n  this.quantize = quantize;\n  this.iteration_loop = function(gfp, pe, ms_ener_ratio, ratio) {\n    var gfc = gfp.internal_flags;\n    var l3_xmin = new_float$4(L3Side$1.SFBMAX);\n    var xrpow = new_float$4(576);\n    var targ_bits = new_int$4(2);\n    var mean_bits = 0;\n    var max_bits;\n    var l3_side = gfc.l3_side;\n    var mb = new MeanBits$1(mean_bits);\n    this.quantize.rv.ResvFrameBegin(gfp, mb);\n    mean_bits = mb.bits;\n    for (var gr = 0; gr < gfc.mode_gr; gr++) {\n      max_bits = this.quantize.qupvt.on_pe(\n        gfp,\n        pe,\n        targ_bits,\n        mean_bits,\n        gr,\n        gr\n      );\n      if (gfc.mode_ext == Encoder.MPG_MD_MS_LR) {\n        this.quantize.ms_convert(gfc.l3_side, gr);\n        this.quantize.qupvt.reduce_side(\n          targ_bits,\n          ms_ener_ratio[gr],\n          mean_bits,\n          max_bits\n        );\n      }\n      for (var ch = 0; ch < gfc.channels_out; ch++) {\n        var adjust, masking_lower_db;\n        var cod_info = l3_side.tt[gr][ch];\n        if (cod_info.block_type != Encoder.SHORT_TYPE) {\n          adjust = 0;\n          masking_lower_db = gfc.PSY.mask_adjust - adjust;\n        } else {\n          adjust = 0;\n          masking_lower_db = gfc.PSY.mask_adjust_short - adjust;\n        }\n        gfc.masking_lower = Math.pow(10, masking_lower_db * 0.1);\n        this.quantize.init_outer_loop(gfc, cod_info);\n        if (this.quantize.init_xrpow(gfc, cod_info, xrpow)) {\n          this.quantize.qupvt.calc_xmin(gfp, ratio[gr][ch], cod_info, l3_xmin);\n          this.quantize.outer_loop(\n            gfp,\n            cod_info,\n            l3_xmin,\n            xrpow,\n            ch,\n            targ_bits[ch]\n          );\n        }\n        this.quantize.iteration_finish_one(gfc, gr, ch);\n        assert$8(\n          cod_info.part2_3_length <= LameInternalFlags$1.MAX_BITS_PER_CHANNEL\n        );\n        assert$8(cod_info.part2_3_length <= targ_bits[ch]);\n      }\n    }\n    this.quantize.rv.ResvFrameEnd(gfc, mean_bits);\n  };\n}\nfunction HuffCodeTab(len, max, tab, hl) {\n  this.xlen = len;\n  this.linmax = max;\n  this.table = tab;\n  this.hlen = hl;\n}\nvar Tables$1 = {};\nTables$1.t1HB = [1, 1, 1, 0];\nTables$1.t2HB = [1, 2, 1, 3, 1, 1, 3, 2, 0];\nTables$1.t3HB = [3, 2, 1, 1, 1, 1, 3, 2, 0];\nTables$1.t5HB = [1, 2, 6, 5, 3, 1, 4, 4, 7, 5, 7, 1, 6, 1, 1, 0];\nTables$1.t6HB = [7, 3, 5, 1, 6, 2, 3, 2, 5, 4, 4, 1, 3, 3, 2, 0];\nTables$1.t7HB = [\n  1,\n  2,\n  10,\n  19,\n  16,\n  10,\n  3,\n  3,\n  7,\n  10,\n  5,\n  3,\n  11,\n  4,\n  13,\n  17,\n  8,\n  4,\n  12,\n  11,\n  18,\n  15,\n  11,\n  2,\n  7,\n  6,\n  9,\n  14,\n  3,\n  1,\n  6,\n  4,\n  5,\n  3,\n  2,\n  0\n];\nTables$1.t8HB = [\n  3,\n  4,\n  6,\n  18,\n  12,\n  5,\n  5,\n  1,\n  2,\n  16,\n  9,\n  3,\n  7,\n  3,\n  5,\n  14,\n  7,\n  3,\n  19,\n  17,\n  15,\n  13,\n  10,\n  4,\n  13,\n  5,\n  8,\n  11,\n  5,\n  1,\n  12,\n  4,\n  4,\n  1,\n  1,\n  0\n];\nTables$1.t9HB = [\n  7,\n  5,\n  9,\n  14,\n  15,\n  7,\n  6,\n  4,\n  5,\n  5,\n  6,\n  7,\n  7,\n  6,\n  8,\n  8,\n  8,\n  5,\n  15,\n  6,\n  9,\n  10,\n  5,\n  1,\n  11,\n  7,\n  9,\n  6,\n  4,\n  1,\n  14,\n  4,\n  6,\n  2,\n  6,\n  0\n];\nTables$1.t10HB = [\n  1,\n  2,\n  10,\n  23,\n  35,\n  30,\n  12,\n  17,\n  3,\n  3,\n  8,\n  12,\n  18,\n  21,\n  12,\n  7,\n  11,\n  9,\n  15,\n  21,\n  32,\n  40,\n  19,\n  6,\n  14,\n  13,\n  22,\n  34,\n  46,\n  23,\n  18,\n  7,\n  20,\n  19,\n  33,\n  47,\n  27,\n  22,\n  9,\n  3,\n  31,\n  22,\n  41,\n  26,\n  21,\n  20,\n  5,\n  3,\n  14,\n  13,\n  10,\n  11,\n  16,\n  6,\n  5,\n  1,\n  9,\n  8,\n  7,\n  8,\n  4,\n  4,\n  2,\n  0\n];\nTables$1.t11HB = [\n  3,\n  4,\n  10,\n  24,\n  34,\n  33,\n  21,\n  15,\n  5,\n  3,\n  4,\n  10,\n  32,\n  17,\n  11,\n  10,\n  11,\n  7,\n  13,\n  18,\n  30,\n  31,\n  20,\n  5,\n  25,\n  11,\n  19,\n  59,\n  27,\n  18,\n  12,\n  5,\n  35,\n  33,\n  31,\n  58,\n  30,\n  16,\n  7,\n  5,\n  28,\n  26,\n  32,\n  19,\n  17,\n  15,\n  8,\n  14,\n  14,\n  12,\n  9,\n  13,\n  14,\n  9,\n  4,\n  1,\n  11,\n  4,\n  6,\n  6,\n  6,\n  3,\n  2,\n  0\n];\nTables$1.t12HB = [\n  9,\n  6,\n  16,\n  33,\n  41,\n  39,\n  38,\n  26,\n  7,\n  5,\n  6,\n  9,\n  23,\n  16,\n  26,\n  11,\n  17,\n  7,\n  11,\n  14,\n  21,\n  30,\n  10,\n  7,\n  17,\n  10,\n  15,\n  12,\n  18,\n  28,\n  14,\n  5,\n  32,\n  13,\n  22,\n  19,\n  18,\n  16,\n  9,\n  5,\n  40,\n  17,\n  31,\n  29,\n  17,\n  13,\n  4,\n  2,\n  27,\n  12,\n  11,\n  15,\n  10,\n  7,\n  4,\n  1,\n  27,\n  12,\n  8,\n  12,\n  6,\n  3,\n  1,\n  0\n];\nTables$1.t13HB = [\n  1,\n  5,\n  14,\n  21,\n  34,\n  51,\n  46,\n  71,\n  42,\n  52,\n  68,\n  52,\n  67,\n  44,\n  43,\n  19,\n  3,\n  4,\n  12,\n  19,\n  31,\n  26,\n  44,\n  33,\n  31,\n  24,\n  32,\n  24,\n  31,\n  35,\n  22,\n  14,\n  15,\n  13,\n  23,\n  36,\n  59,\n  49,\n  77,\n  65,\n  29,\n  40,\n  30,\n  40,\n  27,\n  33,\n  42,\n  16,\n  22,\n  20,\n  37,\n  61,\n  56,\n  79,\n  73,\n  64,\n  43,\n  76,\n  56,\n  37,\n  26,\n  31,\n  25,\n  14,\n  35,\n  16,\n  60,\n  57,\n  97,\n  75,\n  114,\n  91,\n  54,\n  73,\n  55,\n  41,\n  48,\n  53,\n  23,\n  24,\n  58,\n  27,\n  50,\n  96,\n  76,\n  70,\n  93,\n  84,\n  77,\n  58,\n  79,\n  29,\n  74,\n  49,\n  41,\n  17,\n  47,\n  45,\n  78,\n  74,\n  115,\n  94,\n  90,\n  79,\n  69,\n  83,\n  71,\n  50,\n  59,\n  38,\n  36,\n  15,\n  72,\n  34,\n  56,\n  95,\n  92,\n  85,\n  91,\n  90,\n  86,\n  73,\n  77,\n  65,\n  51,\n  44,\n  43,\n  42,\n  43,\n  20,\n  30,\n  44,\n  55,\n  78,\n  72,\n  87,\n  78,\n  61,\n  46,\n  54,\n  37,\n  30,\n  20,\n  16,\n  53,\n  25,\n  41,\n  37,\n  44,\n  59,\n  54,\n  81,\n  66,\n  76,\n  57,\n  54,\n  37,\n  18,\n  39,\n  11,\n  35,\n  33,\n  31,\n  57,\n  42,\n  82,\n  72,\n  80,\n  47,\n  58,\n  55,\n  21,\n  22,\n  26,\n  38,\n  22,\n  53,\n  25,\n  23,\n  38,\n  70,\n  60,\n  51,\n  36,\n  55,\n  26,\n  34,\n  23,\n  27,\n  14,\n  9,\n  7,\n  34,\n  32,\n  28,\n  39,\n  49,\n  75,\n  30,\n  52,\n  48,\n  40,\n  52,\n  28,\n  18,\n  17,\n  9,\n  5,\n  45,\n  21,\n  34,\n  64,\n  56,\n  50,\n  49,\n  45,\n  31,\n  19,\n  12,\n  15,\n  10,\n  7,\n  6,\n  3,\n  48,\n  23,\n  20,\n  39,\n  36,\n  35,\n  53,\n  21,\n  16,\n  23,\n  13,\n  10,\n  6,\n  1,\n  4,\n  2,\n  16,\n  15,\n  17,\n  27,\n  25,\n  20,\n  29,\n  11,\n  17,\n  12,\n  16,\n  8,\n  1,\n  1,\n  0,\n  1\n];\nTables$1.t15HB = [\n  7,\n  12,\n  18,\n  53,\n  47,\n  76,\n  124,\n  108,\n  89,\n  123,\n  108,\n  119,\n  107,\n  81,\n  122,\n  63,\n  13,\n  5,\n  16,\n  27,\n  46,\n  36,\n  61,\n  51,\n  42,\n  70,\n  52,\n  83,\n  65,\n  41,\n  59,\n  36,\n  19,\n  17,\n  15,\n  24,\n  41,\n  34,\n  59,\n  48,\n  40,\n  64,\n  50,\n  78,\n  62,\n  80,\n  56,\n  33,\n  29,\n  28,\n  25,\n  43,\n  39,\n  63,\n  55,\n  93,\n  76,\n  59,\n  93,\n  72,\n  54,\n  75,\n  50,\n  29,\n  52,\n  22,\n  42,\n  40,\n  67,\n  57,\n  95,\n  79,\n  72,\n  57,\n  89,\n  69,\n  49,\n  66,\n  46,\n  27,\n  77,\n  37,\n  35,\n  66,\n  58,\n  52,\n  91,\n  74,\n  62,\n  48,\n  79,\n  63,\n  90,\n  62,\n  40,\n  38,\n  125,\n  32,\n  60,\n  56,\n  50,\n  92,\n  78,\n  65,\n  55,\n  87,\n  71,\n  51,\n  73,\n  51,\n  70,\n  30,\n  109,\n  53,\n  49,\n  94,\n  88,\n  75,\n  66,\n  122,\n  91,\n  73,\n  56,\n  42,\n  64,\n  44,\n  21,\n  25,\n  90,\n  43,\n  41,\n  77,\n  73,\n  63,\n  56,\n  92,\n  77,\n  66,\n  47,\n  67,\n  48,\n  53,\n  36,\n  20,\n  71,\n  34,\n  67,\n  60,\n  58,\n  49,\n  88,\n  76,\n  67,\n  106,\n  71,\n  54,\n  38,\n  39,\n  23,\n  15,\n  109,\n  53,\n  51,\n  47,\n  90,\n  82,\n  58,\n  57,\n  48,\n  72,\n  57,\n  41,\n  23,\n  27,\n  62,\n  9,\n  86,\n  42,\n  40,\n  37,\n  70,\n  64,\n  52,\n  43,\n  70,\n  55,\n  42,\n  25,\n  29,\n  18,\n  11,\n  11,\n  118,\n  68,\n  30,\n  55,\n  50,\n  46,\n  74,\n  65,\n  49,\n  39,\n  24,\n  16,\n  22,\n  13,\n  14,\n  7,\n  91,\n  44,\n  39,\n  38,\n  34,\n  63,\n  52,\n  45,\n  31,\n  52,\n  28,\n  19,\n  14,\n  8,\n  9,\n  3,\n  123,\n  60,\n  58,\n  53,\n  47,\n  43,\n  32,\n  22,\n  37,\n  24,\n  17,\n  12,\n  15,\n  10,\n  2,\n  1,\n  71,\n  37,\n  34,\n  30,\n  28,\n  20,\n  17,\n  26,\n  21,\n  16,\n  10,\n  6,\n  8,\n  6,\n  2,\n  0\n];\nTables$1.t16HB = [\n  1,\n  5,\n  14,\n  44,\n  74,\n  63,\n  110,\n  93,\n  172,\n  149,\n  138,\n  242,\n  225,\n  195,\n  376,\n  17,\n  3,\n  4,\n  12,\n  20,\n  35,\n  62,\n  53,\n  47,\n  83,\n  75,\n  68,\n  119,\n  201,\n  107,\n  207,\n  9,\n  15,\n  13,\n  23,\n  38,\n  67,\n  58,\n  103,\n  90,\n  161,\n  72,\n  127,\n  117,\n  110,\n  209,\n  206,\n  16,\n  45,\n  21,\n  39,\n  69,\n  64,\n  114,\n  99,\n  87,\n  158,\n  140,\n  252,\n  212,\n  199,\n  387,\n  365,\n  26,\n  75,\n  36,\n  68,\n  65,\n  115,\n  101,\n  179,\n  164,\n  155,\n  264,\n  246,\n  226,\n  395,\n  382,\n  362,\n  9,\n  66,\n  30,\n  59,\n  56,\n  102,\n  185,\n  173,\n  265,\n  142,\n  253,\n  232,\n  400,\n  388,\n  378,\n  445,\n  16,\n  111,\n  54,\n  52,\n  100,\n  184,\n  178,\n  160,\n  133,\n  257,\n  244,\n  228,\n  217,\n  385,\n  366,\n  715,\n  10,\n  98,\n  48,\n  91,\n  88,\n  165,\n  157,\n  148,\n  261,\n  248,\n  407,\n  397,\n  372,\n  380,\n  889,\n  884,\n  8,\n  85,\n  84,\n  81,\n  159,\n  156,\n  143,\n  260,\n  249,\n  427,\n  401,\n  392,\n  383,\n  727,\n  713,\n  708,\n  7,\n  154,\n  76,\n  73,\n  141,\n  131,\n  256,\n  245,\n  426,\n  406,\n  394,\n  384,\n  735,\n  359,\n  710,\n  352,\n  11,\n  139,\n  129,\n  67,\n  125,\n  247,\n  233,\n  229,\n  219,\n  393,\n  743,\n  737,\n  720,\n  885,\n  882,\n  439,\n  4,\n  243,\n  120,\n  118,\n  115,\n  227,\n  223,\n  396,\n  746,\n  742,\n  736,\n  721,\n  712,\n  706,\n  223,\n  436,\n  6,\n  202,\n  224,\n  222,\n  218,\n  216,\n  389,\n  386,\n  381,\n  364,\n  888,\n  443,\n  707,\n  440,\n  437,\n  1728,\n  4,\n  747,\n  211,\n  210,\n  208,\n  370,\n  379,\n  734,\n  723,\n  714,\n  1735,\n  883,\n  877,\n  876,\n  3459,\n  865,\n  2,\n  377,\n  369,\n  102,\n  187,\n  726,\n  722,\n  358,\n  711,\n  709,\n  866,\n  1734,\n  871,\n  3458,\n  870,\n  434,\n  0,\n  12,\n  10,\n  7,\n  11,\n  10,\n  17,\n  11,\n  9,\n  13,\n  12,\n  10,\n  7,\n  5,\n  3,\n  1,\n  3\n];\nTables$1.t24HB = [\n  15,\n  13,\n  46,\n  80,\n  146,\n  262,\n  248,\n  434,\n  426,\n  669,\n  653,\n  649,\n  621,\n  517,\n  1032,\n  88,\n  14,\n  12,\n  21,\n  38,\n  71,\n  130,\n  122,\n  216,\n  209,\n  198,\n  327,\n  345,\n  319,\n  297,\n  279,\n  42,\n  47,\n  22,\n  41,\n  74,\n  68,\n  128,\n  120,\n  221,\n  207,\n  194,\n  182,\n  340,\n  315,\n  295,\n  541,\n  18,\n  81,\n  39,\n  75,\n  70,\n  134,\n  125,\n  116,\n  220,\n  204,\n  190,\n  178,\n  325,\n  311,\n  293,\n  271,\n  16,\n  147,\n  72,\n  69,\n  135,\n  127,\n  118,\n  112,\n  210,\n  200,\n  188,\n  352,\n  323,\n  306,\n  285,\n  540,\n  14,\n  263,\n  66,\n  129,\n  126,\n  119,\n  114,\n  214,\n  202,\n  192,\n  180,\n  341,\n  317,\n  301,\n  281,\n  262,\n  12,\n  249,\n  123,\n  121,\n  117,\n  113,\n  215,\n  206,\n  195,\n  185,\n  347,\n  330,\n  308,\n  291,\n  272,\n  520,\n  10,\n  435,\n  115,\n  111,\n  109,\n  211,\n  203,\n  196,\n  187,\n  353,\n  332,\n  313,\n  298,\n  283,\n  531,\n  381,\n  17,\n  427,\n  212,\n  208,\n  205,\n  201,\n  193,\n  186,\n  177,\n  169,\n  320,\n  303,\n  286,\n  268,\n  514,\n  377,\n  16,\n  335,\n  199,\n  197,\n  191,\n  189,\n  181,\n  174,\n  333,\n  321,\n  305,\n  289,\n  275,\n  521,\n  379,\n  371,\n  11,\n  668,\n  184,\n  183,\n  179,\n  175,\n  344,\n  331,\n  314,\n  304,\n  290,\n  277,\n  530,\n  383,\n  373,\n  366,\n  10,\n  652,\n  346,\n  171,\n  168,\n  164,\n  318,\n  309,\n  299,\n  287,\n  276,\n  263,\n  513,\n  375,\n  368,\n  362,\n  6,\n  648,\n  322,\n  316,\n  312,\n  307,\n  302,\n  292,\n  284,\n  269,\n  261,\n  512,\n  376,\n  370,\n  364,\n  359,\n  4,\n  620,\n  300,\n  296,\n  294,\n  288,\n  282,\n  273,\n  266,\n  515,\n  380,\n  374,\n  369,\n  365,\n  361,\n  357,\n  2,\n  1033,\n  280,\n  278,\n  274,\n  267,\n  264,\n  259,\n  382,\n  378,\n  372,\n  367,\n  363,\n  360,\n  358,\n  356,\n  0,\n  43,\n  20,\n  19,\n  17,\n  15,\n  13,\n  11,\n  9,\n  7,\n  6,\n  4,\n  7,\n  5,\n  3,\n  1,\n  3\n];\nTables$1.t32HB = [\n  1 << 0,\n  5 << 1,\n  4 << 1,\n  5 << 2,\n  6 << 1,\n  5 << 2,\n  4 << 2,\n  4 << 3,\n  7 << 1,\n  3 << 2,\n  6 << 2,\n  0 << 3,\n  7 << 2,\n  2 << 3,\n  3 << 3,\n  1 << 4\n];\nTables$1.t33HB = [\n  15 << 0,\n  14 << 1,\n  13 << 1,\n  12 << 2,\n  11 << 1,\n  10 << 2,\n  9 << 2,\n  8 << 3,\n  7 << 1,\n  6 << 2,\n  5 << 2,\n  4 << 3,\n  3 << 2,\n  2 << 3,\n  1 << 3,\n  0 << 4\n];\nTables$1.t1l = [1, 4, 3, 5];\nTables$1.t2l = [1, 4, 7, 4, 5, 7, 6, 7, 8];\nTables$1.t3l = [2, 3, 7, 4, 4, 7, 6, 7, 8];\nTables$1.t5l = [1, 4, 7, 8, 4, 5, 8, 9, 7, 8, 9, 10, 8, 8, 9, 10];\nTables$1.t6l = [3, 4, 6, 8, 4, 4, 6, 7, 5, 6, 7, 8, 7, 7, 8, 9];\nTables$1.t7l = [\n  1,\n  4,\n  7,\n  9,\n  9,\n  10,\n  4,\n  6,\n  8,\n  9,\n  9,\n  10,\n  7,\n  7,\n  9,\n  10,\n  10,\n  11,\n  8,\n  9,\n  10,\n  11,\n  11,\n  11,\n  8,\n  9,\n  10,\n  11,\n  11,\n  12,\n  9,\n  10,\n  11,\n  12,\n  12,\n  12\n];\nTables$1.t8l = [\n  2,\n  4,\n  7,\n  9,\n  9,\n  10,\n  4,\n  4,\n  6,\n  10,\n  10,\n  10,\n  7,\n  6,\n  8,\n  10,\n  10,\n  11,\n  9,\n  10,\n  10,\n  11,\n  11,\n  12,\n  9,\n  9,\n  10,\n  11,\n  12,\n  12,\n  10,\n  10,\n  11,\n  11,\n  13,\n  13\n];\nTables$1.t9l = [\n  3,\n  4,\n  6,\n  7,\n  9,\n  10,\n  4,\n  5,\n  6,\n  7,\n  8,\n  10,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  7,\n  7,\n  8,\n  9,\n  9,\n  10,\n  8,\n  8,\n  9,\n  9,\n  10,\n  11,\n  9,\n  9,\n  10,\n  10,\n  11,\n  11\n];\nTables$1.t10l = [\n  1,\n  4,\n  7,\n  9,\n  10,\n  10,\n  10,\n  11,\n  4,\n  6,\n  8,\n  9,\n  10,\n  11,\n  10,\n  10,\n  7,\n  8,\n  9,\n  10,\n  11,\n  12,\n  11,\n  11,\n  8,\n  9,\n  10,\n  11,\n  12,\n  12,\n  11,\n  12,\n  9,\n  10,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  10,\n  11,\n  12,\n  12,\n  13,\n  13,\n  12,\n  13,\n  9,\n  10,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  10,\n  10,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13\n];\nTables$1.t11l = [\n  2,\n  4,\n  6,\n  8,\n  9,\n  10,\n  9,\n  10,\n  4,\n  5,\n  6,\n  8,\n  10,\n  10,\n  9,\n  10,\n  6,\n  7,\n  8,\n  9,\n  10,\n  11,\n  10,\n  10,\n  8,\n  8,\n  9,\n  11,\n  10,\n  12,\n  10,\n  11,\n  9,\n  10,\n  10,\n  11,\n  11,\n  12,\n  11,\n  12,\n  9,\n  10,\n  11,\n  12,\n  12,\n  13,\n  12,\n  13,\n  9,\n  9,\n  9,\n  10,\n  11,\n  12,\n  12,\n  12,\n  9,\n  9,\n  10,\n  11,\n  12,\n  12,\n  12,\n  12\n];\nTables$1.t12l = [\n  4,\n  4,\n  6,\n  8,\n  9,\n  10,\n  10,\n  10,\n  4,\n  5,\n  6,\n  7,\n  9,\n  9,\n  10,\n  10,\n  6,\n  6,\n  7,\n  8,\n  9,\n  10,\n  9,\n  10,\n  7,\n  7,\n  8,\n  8,\n  9,\n  10,\n  10,\n  10,\n  8,\n  8,\n  9,\n  9,\n  10,\n  10,\n  10,\n  11,\n  9,\n  9,\n  10,\n  10,\n  10,\n  11,\n  10,\n  11,\n  9,\n  9,\n  9,\n  10,\n  10,\n  11,\n  11,\n  12,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12\n];\nTables$1.t13l = [\n  1,\n  5,\n  7,\n  8,\n  9,\n  10,\n  10,\n  11,\n  10,\n  11,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  4,\n  6,\n  8,\n  9,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  13,\n  14,\n  14,\n  14,\n  7,\n  8,\n  9,\n  10,\n  11,\n  11,\n  12,\n  12,\n  11,\n  12,\n  12,\n  13,\n  13,\n  14,\n  15,\n  15,\n  8,\n  9,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  15,\n  15,\n  9,\n  9,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  12,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  16,\n  10,\n  10,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  13,\n  15,\n  15,\n  16,\n  16,\n  10,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  15,\n  15,\n  16,\n  16,\n  11,\n  11,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  16,\n  18,\n  18,\n  10,\n  10,\n  11,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  16,\n  17,\n  17,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  15,\n  14,\n  15,\n  15,\n  16,\n  16,\n  16,\n  18,\n  17,\n  11,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  15,\n  14,\n  15,\n  16,\n  15,\n  16,\n  17,\n  18,\n  19,\n  12,\n  12,\n  12,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  16,\n  17,\n  17,\n  17,\n  18,\n  12,\n  13,\n  13,\n  14,\n  14,\n  15,\n  14,\n  15,\n  16,\n  16,\n  17,\n  17,\n  17,\n  18,\n  18,\n  18,\n  13,\n  13,\n  14,\n  15,\n  15,\n  15,\n  16,\n  16,\n  16,\n  16,\n  16,\n  17,\n  18,\n  17,\n  18,\n  18,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  17,\n  16,\n  16,\n  19,\n  17,\n  17,\n  17,\n  19,\n  18,\n  18,\n  13,\n  14,\n  15,\n  16,\n  16,\n  16,\n  17,\n  16,\n  17,\n  17,\n  18,\n  18,\n  21,\n  20,\n  21,\n  18\n];\nTables$1.t15l = [\n  3,\n  5,\n  6,\n  8,\n  8,\n  9,\n  10,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  14,\n  5,\n  5,\n  7,\n  8,\n  9,\n  9,\n  10,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  6,\n  7,\n  7,\n  8,\n  9,\n  9,\n  10,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  7,\n  8,\n  8,\n  9,\n  9,\n  10,\n  10,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  8,\n  8,\n  9,\n  9,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  9,\n  9,\n  9,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  10,\n  9,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  14,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  15,\n  14,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  15,\n  12,\n  12,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  14,\n  15,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15\n];\nTables$1.t16_5l = [\n  1,\n  5,\n  7,\n  9,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  11,\n  4,\n  6,\n  8,\n  9,\n  10,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  14,\n  13,\n  14,\n  11,\n  7,\n  8,\n  9,\n  10,\n  11,\n  11,\n  12,\n  12,\n  13,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  12,\n  9,\n  9,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  14,\n  15,\n  15,\n  13,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  12,\n  10,\n  10,\n  11,\n  11,\n  12,\n  13,\n  13,\n  14,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  16,\n  13,\n  11,\n  11,\n  11,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  16,\n  13,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  17,\n  17,\n  13,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  16,\n  16,\n  16,\n  13,\n  12,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  16,\n  15,\n  16,\n  15,\n  14,\n  12,\n  13,\n  12,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  16,\n  16,\n  16,\n  17,\n  17,\n  16,\n  13,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  15,\n  16,\n  16,\n  16,\n  16,\n  16,\n  16,\n  15,\n  16,\n  14,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  17,\n  16,\n  16,\n  16,\n  16,\n  18,\n  14,\n  15,\n  14,\n  14,\n  14,\n  15,\n  15,\n  16,\n  16,\n  16,\n  18,\n  17,\n  17,\n  17,\n  19,\n  17,\n  14,\n  14,\n  15,\n  13,\n  14,\n  16,\n  16,\n  15,\n  16,\n  16,\n  17,\n  18,\n  17,\n  19,\n  17,\n  16,\n  14,\n  11,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  14,\n  14,\n  14,\n  12\n];\nTables$1.t16l = [\n  1,\n  5,\n  7,\n  9,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  10,\n  4,\n  6,\n  8,\n  9,\n  10,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  14,\n  13,\n  14,\n  10,\n  7,\n  8,\n  9,\n  10,\n  11,\n  11,\n  12,\n  12,\n  13,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  11,\n  9,\n  9,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  14,\n  15,\n  15,\n  12,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  11,\n  10,\n  10,\n  11,\n  11,\n  12,\n  13,\n  13,\n  14,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  16,\n  12,\n  11,\n  11,\n  11,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  16,\n  12,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  17,\n  17,\n  12,\n  11,\n  12,\n  12,\n  13,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  16,\n  16,\n  16,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  16,\n  15,\n  16,\n  15,\n  13,\n  12,\n  13,\n  12,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  16,\n  16,\n  16,\n  17,\n  17,\n  16,\n  12,\n  13,\n  13,\n  13,\n  13,\n  14,\n  14,\n  15,\n  16,\n  16,\n  16,\n  16,\n  16,\n  16,\n  15,\n  16,\n  13,\n  13,\n  14,\n  14,\n  14,\n  14,\n  15,\n  15,\n  15,\n  15,\n  17,\n  16,\n  16,\n  16,\n  16,\n  18,\n  13,\n  15,\n  14,\n  14,\n  14,\n  15,\n  15,\n  16,\n  16,\n  16,\n  18,\n  17,\n  17,\n  17,\n  19,\n  17,\n  13,\n  14,\n  15,\n  13,\n  14,\n  16,\n  16,\n  15,\n  16,\n  16,\n  17,\n  18,\n  17,\n  19,\n  17,\n  16,\n  13,\n  10,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  10\n];\nTables$1.t24l = [\n  4,\n  5,\n  7,\n  8,\n  9,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  10,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  10,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  10,\n  7,\n  7,\n  8,\n  9,\n  9,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  13,\n  9,\n  8,\n  8,\n  9,\n  9,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  9,\n  9,\n  9,\n  9,\n  10,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  13,\n  9,\n  10,\n  9,\n  10,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  9,\n  10,\n  10,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  9,\n  11,\n  10,\n  10,\n  10,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  10,\n  11,\n  11,\n  11,\n  11,\n  11,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  10,\n  11,\n  11,\n  11,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  10,\n  12,\n  11,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  10,\n  12,\n  12,\n  11,\n  11,\n  11,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  10,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  13,\n  10,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  10,\n  13,\n  12,\n  12,\n  12,\n  12,\n  12,\n  12,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  13,\n  10,\n  9,\n  9,\n  9,\n  9,\n  9,\n  9,\n  9,\n  9,\n  9,\n  9,\n  9,\n  10,\n  10,\n  10,\n  10,\n  6\n];\nTables$1.t32l = [\n  1 + 0,\n  4 + 1,\n  4 + 1,\n  5 + 2,\n  4 + 1,\n  6 + 2,\n  5 + 2,\n  6 + 3,\n  4 + 1,\n  5 + 2,\n  5 + 2,\n  6 + 3,\n  5 + 2,\n  6 + 3,\n  6 + 3,\n  6 + 4\n];\nTables$1.t33l = [\n  4 + 0,\n  4 + 1,\n  4 + 1,\n  4 + 2,\n  4 + 1,\n  4 + 2,\n  4 + 2,\n  4 + 3,\n  4 + 1,\n  4 + 2,\n  4 + 2,\n  4 + 3,\n  4 + 2,\n  4 + 3,\n  4 + 3,\n  4 + 4\n];\nTables$1.ht = [\n  new HuffCodeTab(0, 0, null, null),\n  new HuffCodeTab(2, 0, Tables$1.t1HB, Tables$1.t1l),\n  new HuffCodeTab(3, 0, Tables$1.t2HB, Tables$1.t2l),\n  new HuffCodeTab(3, 0, Tables$1.t3HB, Tables$1.t3l),\n  new HuffCodeTab(0, 0, null, null),\n  new HuffCodeTab(4, 0, Tables$1.t5HB, Tables$1.t5l),\n  new HuffCodeTab(4, 0, Tables$1.t6HB, Tables$1.t6l),\n  new HuffCodeTab(6, 0, Tables$1.t7HB, Tables$1.t7l),\n  new HuffCodeTab(6, 0, Tables$1.t8HB, Tables$1.t8l),\n  new HuffCodeTab(6, 0, Tables$1.t9HB, Tables$1.t9l),\n  new HuffCodeTab(8, 0, Tables$1.t10HB, Tables$1.t10l),\n  new HuffCodeTab(8, 0, Tables$1.t11HB, Tables$1.t11l),\n  new HuffCodeTab(8, 0, Tables$1.t12HB, Tables$1.t12l),\n  new HuffCodeTab(16, 0, Tables$1.t13HB, Tables$1.t13l),\n  new HuffCodeTab(0, 0, null, Tables$1.t16_5l),\n  new HuffCodeTab(16, 0, Tables$1.t15HB, Tables$1.t15l),\n  new HuffCodeTab(1, 1, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(2, 3, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(3, 7, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(4, 15, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(6, 63, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(8, 255, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(10, 1023, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(13, 8191, Tables$1.t16HB, Tables$1.t16l),\n  new HuffCodeTab(4, 15, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(5, 31, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(6, 63, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(7, 127, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(8, 255, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(9, 511, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(11, 2047, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(13, 8191, Tables$1.t24HB, Tables$1.t24l),\n  new HuffCodeTab(0, 0, Tables$1.t32HB, Tables$1.t32l),\n  new HuffCodeTab(0, 0, Tables$1.t33HB, Tables$1.t33l)\n];\nTables$1.largetbl = [\n  65540,\n  327685,\n  458759,\n  589832,\n  655369,\n  655370,\n  720906,\n  720907,\n  786443,\n  786444,\n  786444,\n  851980,\n  851980,\n  851980,\n  917517,\n  655370,\n  262149,\n  393222,\n  524295,\n  589832,\n  655369,\n  720906,\n  720906,\n  720907,\n  786443,\n  786443,\n  786444,\n  851980,\n  917516,\n  851980,\n  917516,\n  655370,\n  458759,\n  524295,\n  589832,\n  655369,\n  720905,\n  720906,\n  786442,\n  786443,\n  851979,\n  786443,\n  851979,\n  851980,\n  851980,\n  917516,\n  917517,\n  720905,\n  589832,\n  589832,\n  655369,\n  720905,\n  720906,\n  786442,\n  786442,\n  786443,\n  851979,\n  851979,\n  917515,\n  917516,\n  917516,\n  983052,\n  983052,\n  786441,\n  655369,\n  655369,\n  720905,\n  720906,\n  786442,\n  786442,\n  851978,\n  851979,\n  851979,\n  917515,\n  917516,\n  917516,\n  983052,\n  983052,\n  983053,\n  720905,\n  655370,\n  655369,\n  720906,\n  720906,\n  786442,\n  851978,\n  851979,\n  917515,\n  851979,\n  917515,\n  917516,\n  983052,\n  983052,\n  983052,\n  1048588,\n  786441,\n  720906,\n  720906,\n  720906,\n  786442,\n  851978,\n  851979,\n  851979,\n  851979,\n  917515,\n  917516,\n  917516,\n  917516,\n  983052,\n  983052,\n  1048589,\n  786441,\n  720907,\n  720906,\n  786442,\n  786442,\n  851979,\n  851979,\n  851979,\n  917515,\n  917516,\n  983052,\n  983052,\n  983052,\n  983052,\n  1114125,\n  1114125,\n  786442,\n  720907,\n  786443,\n  786443,\n  851979,\n  851979,\n  851979,\n  917515,\n  917515,\n  983051,\n  983052,\n  983052,\n  983052,\n  1048588,\n  1048589,\n  1048589,\n  786442,\n  786443,\n  786443,\n  786443,\n  851979,\n  851979,\n  917515,\n  917515,\n  983052,\n  983052,\n  983052,\n  983052,\n  1048588,\n  983053,\n  1048589,\n  983053,\n  851978,\n  786444,\n  851979,\n  786443,\n  851979,\n  917515,\n  917516,\n  917516,\n  917516,\n  983052,\n  1048588,\n  1048588,\n  1048589,\n  1114125,\n  1114125,\n  1048589,\n  786442,\n  851980,\n  851980,\n  851979,\n  851979,\n  917515,\n  917516,\n  983052,\n  1048588,\n  1048588,\n  1048588,\n  1048588,\n  1048589,\n  1048589,\n  983053,\n  1048589,\n  851978,\n  851980,\n  917516,\n  917516,\n  917516,\n  917516,\n  983052,\n  983052,\n  983052,\n  983052,\n  1114124,\n  1048589,\n  1048589,\n  1048589,\n  1048589,\n  1179661,\n  851978,\n  983052,\n  917516,\n  917516,\n  917516,\n  983052,\n  983052,\n  1048588,\n  1048588,\n  1048589,\n  1179661,\n  1114125,\n  1114125,\n  1114125,\n  1245197,\n  1114125,\n  851978,\n  917517,\n  983052,\n  851980,\n  917516,\n  1048588,\n  1048588,\n  983052,\n  1048589,\n  1048589,\n  1114125,\n  1179661,\n  1114125,\n  1245197,\n  1114125,\n  1048589,\n  851978,\n  655369,\n  655369,\n  655369,\n  720905,\n  720905,\n  786441,\n  786441,\n  786441,\n  851977,\n  851977,\n  851977,\n  851978,\n  851978,\n  851978,\n  851978,\n  655366\n];\nTables$1.table23 = [\n  65538,\n  262147,\n  458759,\n  262148,\n  327684,\n  458759,\n  393222,\n  458759,\n  524296\n];\nTables$1.table56 = [\n  65539,\n  262148,\n  458758,\n  524296,\n  262148,\n  327684,\n  524294,\n  589831,\n  458757,\n  524294,\n  589831,\n  655368,\n  524295,\n  524295,\n  589832,\n  655369\n];\nTables$1.bitrate_table = [\n  [\n    0,\n    8,\n    16,\n    24,\n    32,\n    40,\n    48,\n    56,\n    64,\n    80,\n    96,\n    112,\n    128,\n    144,\n    160,\n    -1\n  ],\n  [\n    0,\n    32,\n    40,\n    48,\n    56,\n    64,\n    80,\n    96,\n    112,\n    128,\n    160,\n    192,\n    224,\n    256,\n    320,\n    -1\n  ],\n  [0, 8, 16, 24, 32, 40, 48, 56, 64, -1, -1, -1, -1, -1, -1, -1]\n];\nTables$1.samplerate_table = [\n  [22050, 24e3, 16e3, -1],\n  [44100, 48e3, 32e3, -1],\n  [11025, 12e3, 8e3, -1]\n];\nTables$1.scfsi_band = [0, 6, 11, 16, 21];\nvar VbrMode$4 = common.VbrMode;\nvar Float = common.Float;\nvar Util$1 = common.Util;\nvar new_float$3 = common.new_float;\nvar new_int$3 = common.new_int;\nvar assert$7 = common.assert;\nQuantizePVT.Q_MAX = 256 + 1;\nQuantizePVT.Q_MAX2 = 116;\nQuantizePVT.LARGE_BITS = 1e5;\nQuantizePVT.IXMAX_VAL = 8206;\nfunction QuantizePVT() {\n  var tak = null;\n  var rv = null;\n  var psy = null;\n  this.setModules = function(_tk, _rv, _psy) {\n    tak = _tk;\n    rv = _rv;\n    psy = _psy;\n  };\n  function POW20(x) {\n    return pow20[x + QuantizePVT.Q_MAX2];\n  }\n  this.IPOW20 = function(x) {\n    return ipow20[x];\n  };\n  var DBL_EPSILON = 2220446049250313e-31;\n  var IXMAX_VAL = QuantizePVT.IXMAX_VAL;\n  var PRECALC_SIZE = IXMAX_VAL + 2;\n  var Q_MAX = QuantizePVT.Q_MAX;\n  var Q_MAX2 = QuantizePVT.Q_MAX2;\n  var NSATHSCALE = 100;\n  this.nr_of_sfb_block = [\n    [\n      [6, 5, 5, 5],\n      [9, 9, 9, 9],\n      [6, 9, 9, 9]\n    ],\n    [\n      [6, 5, 7, 3],\n      [9, 9, 12, 6],\n      [6, 9, 12, 6]\n    ],\n    [\n      [11, 10, 0, 0],\n      [18, 18, 0, 0],\n      [15, 18, 0, 0]\n    ],\n    [\n      [7, 7, 7, 0],\n      [12, 12, 12, 0],\n      [6, 15, 12, 0]\n    ],\n    [\n      [6, 6, 6, 3],\n      [12, 9, 9, 6],\n      [6, 12, 9, 6]\n    ],\n    [\n      [8, 8, 5, 0],\n      [15, 12, 9, 0],\n      [6, 18, 9, 0]\n    ]\n  ];\n  var pretab = [\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    1,\n    1,\n    1,\n    1,\n    2,\n    2,\n    3,\n    3,\n    3,\n    2,\n    0\n  ];\n  this.pretab = pretab;\n  this.sfBandIndex = [\n    new ScaleFac(\n      [\n        0,\n        6,\n        12,\n        18,\n        24,\n        30,\n        36,\n        44,\n        54,\n        66,\n        80,\n        96,\n        116,\n        140,\n        168,\n        200,\n        238,\n        284,\n        336,\n        396,\n        464,\n        522,\n        576\n      ],\n      [0, 4, 8, 12, 18, 24, 32, 42, 56, 74, 100, 132, 174, 192],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        6,\n        12,\n        18,\n        24,\n        30,\n        36,\n        44,\n        54,\n        66,\n        80,\n        96,\n        114,\n        136,\n        162,\n        194,\n        232,\n        278,\n        332,\n        394,\n        464,\n        540,\n        576\n      ],\n      [0, 4, 8, 12, 18, 26, 36, 48, 62, 80, 104, 136, 180, 192],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        6,\n        12,\n        18,\n        24,\n        30,\n        36,\n        44,\n        54,\n        66,\n        80,\n        96,\n        116,\n        140,\n        168,\n        200,\n        238,\n        284,\n        336,\n        396,\n        464,\n        522,\n        576\n      ],\n      [0, 4, 8, 12, 18, 26, 36, 48, 62, 80, 104, 134, 174, 192],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        4,\n        8,\n        12,\n        16,\n        20,\n        24,\n        30,\n        36,\n        44,\n        52,\n        62,\n        74,\n        90,\n        110,\n        134,\n        162,\n        196,\n        238,\n        288,\n        342,\n        418,\n        576\n      ],\n      [0, 4, 8, 12, 16, 22, 30, 40, 52, 66, 84, 106, 136, 192],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        4,\n        8,\n        12,\n        16,\n        20,\n        24,\n        30,\n        36,\n        42,\n        50,\n        60,\n        72,\n        88,\n        106,\n        128,\n        156,\n        190,\n        230,\n        276,\n        330,\n        384,\n        576\n      ],\n      [0, 4, 8, 12, 16, 22, 28, 38, 50, 64, 80, 100, 126, 192],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        4,\n        8,\n        12,\n        16,\n        20,\n        24,\n        30,\n        36,\n        44,\n        54,\n        66,\n        82,\n        102,\n        126,\n        156,\n        194,\n        240,\n        296,\n        364,\n        448,\n        550,\n        576\n      ],\n      [0, 4, 8, 12, 16, 22, 30, 42, 58, 78, 104, 138, 180, 192],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        6,\n        12,\n        18,\n        24,\n        30,\n        36,\n        44,\n        54,\n        66,\n        80,\n        96,\n        116,\n        140,\n        168,\n        200,\n        238,\n        284,\n        336,\n        396,\n        464,\n        522,\n        576\n      ],\n      [\n        0 / 3,\n        12 / 3,\n        24 / 3,\n        36 / 3,\n        54 / 3,\n        78 / 3,\n        108 / 3,\n        144 / 3,\n        186 / 3,\n        240 / 3,\n        312 / 3,\n        402 / 3,\n        522 / 3,\n        576 / 3\n      ],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        6,\n        12,\n        18,\n        24,\n        30,\n        36,\n        44,\n        54,\n        66,\n        80,\n        96,\n        116,\n        140,\n        168,\n        200,\n        238,\n        284,\n        336,\n        396,\n        464,\n        522,\n        576\n      ],\n      [\n        0 / 3,\n        12 / 3,\n        24 / 3,\n        36 / 3,\n        54 / 3,\n        78 / 3,\n        108 / 3,\n        144 / 3,\n        186 / 3,\n        240 / 3,\n        312 / 3,\n        402 / 3,\n        522 / 3,\n        576 / 3\n      ],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    ),\n    new ScaleFac(\n      [\n        0,\n        12,\n        24,\n        36,\n        48,\n        60,\n        72,\n        88,\n        108,\n        132,\n        160,\n        192,\n        232,\n        280,\n        336,\n        400,\n        476,\n        566,\n        568,\n        570,\n        572,\n        574,\n        576\n      ],\n      [\n        0 / 3,\n        24 / 3,\n        48 / 3,\n        72 / 3,\n        108 / 3,\n        156 / 3,\n        216 / 3,\n        288 / 3,\n        372 / 3,\n        480 / 3,\n        486 / 3,\n        492 / 3,\n        498 / 3,\n        576 / 3\n      ],\n      [0, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 0, 0]\n    )\n  ];\n  var pow20 = new_float$3(Q_MAX + Q_MAX2 + 1);\n  var ipow20 = new_float$3(Q_MAX);\n  var pow43 = new_float$3(PRECALC_SIZE);\n  var adj43 = new_float$3(PRECALC_SIZE);\n  this.adj43 = adj43;\n  function ATHmdct(gfp, f) {\n    var ath = psy.ATHformula(f, gfp);\n    ath -= NSATHSCALE;\n    ath = Math.pow(10, ath / 10 + gfp.ATHlower);\n    return ath;\n  }\n  function compute_ath(gfp) {\n    var ATH_l = gfp.internal_flags.ATH.l;\n    var ATH_psfb21 = gfp.internal_flags.ATH.psfb21;\n    var ATH_s = gfp.internal_flags.ATH.s;\n    var ATH_psfb12 = gfp.internal_flags.ATH.psfb12;\n    var gfc = gfp.internal_flags;\n    var samp_freq = gfp.out_samplerate;\n    for (var sfb = 0; sfb < Encoder.SBMAX_l; sfb++) {\n      var start2 = gfc.scalefac_band.l[sfb];\n      var end = gfc.scalefac_band.l[sfb + 1];\n      ATH_l[sfb] = Float.MAX_VALUE;\n      for (var i = start2; i < end; i++) {\n        var freq = i * samp_freq / (2 * 576);\n        var ATH_f = ATHmdct(gfp, freq);\n        ATH_l[sfb] = Math.min(ATH_l[sfb], ATH_f);\n      }\n    }\n    for (var sfb = 0; sfb < Encoder.PSFB21; sfb++) {\n      var start2 = gfc.scalefac_band.psfb21[sfb];\n      var end = gfc.scalefac_band.psfb21[sfb + 1];\n      ATH_psfb21[sfb] = Float.MAX_VALUE;\n      for (var i = start2; i < end; i++) {\n        var freq = i * samp_freq / (2 * 576);\n        var ATH_f = ATHmdct(gfp, freq);\n        ATH_psfb21[sfb] = Math.min(ATH_psfb21[sfb], ATH_f);\n      }\n    }\n    for (var sfb = 0; sfb < Encoder.SBMAX_s; sfb++) {\n      var start2 = gfc.scalefac_band.s[sfb];\n      var end = gfc.scalefac_band.s[sfb + 1];\n      ATH_s[sfb] = Float.MAX_VALUE;\n      for (var i = start2; i < end; i++) {\n        var freq = i * samp_freq / (2 * 192);\n        var ATH_f = ATHmdct(gfp, freq);\n        ATH_s[sfb] = Math.min(ATH_s[sfb], ATH_f);\n      }\n      ATH_s[sfb] *= gfc.scalefac_band.s[sfb + 1] - gfc.scalefac_band.s[sfb];\n    }\n    for (var sfb = 0; sfb < Encoder.PSFB12; sfb++) {\n      var start2 = gfc.scalefac_band.psfb12[sfb];\n      var end = gfc.scalefac_band.psfb12[sfb + 1];\n      ATH_psfb12[sfb] = Float.MAX_VALUE;\n      for (var i = start2; i < end; i++) {\n        var freq = i * samp_freq / (2 * 192);\n        var ATH_f = ATHmdct(gfp, freq);\n        ATH_psfb12[sfb] = Math.min(ATH_psfb12[sfb], ATH_f);\n      }\n      ATH_psfb12[sfb] *= gfc.scalefac_band.s[13] - gfc.scalefac_band.s[12];\n    }\n    if (gfp.noATH) {\n      for (var sfb = 0; sfb < Encoder.SBMAX_l; sfb++) {\n        ATH_l[sfb] = 1e-20;\n      }\n      for (var sfb = 0; sfb < Encoder.PSFB21; sfb++) {\n        ATH_psfb21[sfb] = 1e-20;\n      }\n      for (var sfb = 0; sfb < Encoder.SBMAX_s; sfb++) {\n        ATH_s[sfb] = 1e-20;\n      }\n      for (var sfb = 0; sfb < Encoder.PSFB12; sfb++) {\n        ATH_psfb12[sfb] = 1e-20;\n      }\n    }\n    gfc.ATH.floor = 10 * Math.log10(ATHmdct(gfp, -1));\n  }\n  this.iteration_init = function(gfp) {\n    var gfc = gfp.internal_flags;\n    var l3_side = gfc.l3_side;\n    var i;\n    if (gfc.iteration_init_init == 0) {\n      gfc.iteration_init_init = 1;\n      l3_side.main_data_begin = 0;\n      compute_ath(gfp);\n      pow43[0] = 0;\n      for (i = 1; i < PRECALC_SIZE; i++)\n        pow43[i] = Math.pow(i, 4 / 3);\n      for (i = 0; i < PRECALC_SIZE - 1; i++) {\n        adj43[i] = i + 1 - Math.pow(0.5 * (pow43[i] + pow43[i + 1]), 0.75);\n      }\n      adj43[i] = 0.5;\n      for (i = 0; i < Q_MAX; i++)\n        ipow20[i] = Math.pow(2, (i - 210) * -0.1875);\n      for (i = 0; i <= Q_MAX + Q_MAX2; i++) {\n        pow20[i] = Math.pow(2, (i - 210 - Q_MAX2) * 0.25);\n      }\n      tak.huffman_init(gfc);\n      {\n        var bass, alto, treble, sfb21;\n        i = gfp.exp_nspsytune >> 2 & 63;\n        if (i >= 32)\n          i -= 64;\n        bass = Math.pow(10, i / 4 / 10);\n        i = gfp.exp_nspsytune >> 8 & 63;\n        if (i >= 32)\n          i -= 64;\n        alto = Math.pow(10, i / 4 / 10);\n        i = gfp.exp_nspsytune >> 14 & 63;\n        if (i >= 32)\n          i -= 64;\n        treble = Math.pow(10, i / 4 / 10);\n        i = gfp.exp_nspsytune >> 20 & 63;\n        if (i >= 32)\n          i -= 64;\n        sfb21 = treble * Math.pow(10, i / 4 / 10);\n        for (i = 0; i < Encoder.SBMAX_l; i++) {\n          var f;\n          if (i <= 6)\n            f = bass;\n          else if (i <= 13)\n            f = alto;\n          else if (i <= 20)\n            f = treble;\n          else\n            f = sfb21;\n          gfc.nsPsy.longfact[i] = f;\n        }\n        for (i = 0; i < Encoder.SBMAX_s; i++) {\n          var f;\n          if (i <= 5)\n            f = bass;\n          else if (i <= 10)\n            f = alto;\n          else if (i <= 11)\n            f = treble;\n          else\n            f = sfb21;\n          gfc.nsPsy.shortfact[i] = f;\n        }\n      }\n    }\n  };\n  this.on_pe = function(gfp, pe, targ_bits, mean_bits, gr, cbr) {\n    var gfc = gfp.internal_flags;\n    var tbits = 0;\n    var bits;\n    var add_bits = new_int$3(2);\n    var ch;\n    var mb = new MeanBits$1(tbits);\n    var extra_bits = rv.ResvMaxBits(gfp, mean_bits, mb, cbr);\n    tbits = mb.bits;\n    var max_bits = tbits + extra_bits;\n    if (max_bits > LameInternalFlags$1.MAX_BITS_PER_GRANULE) {\n      max_bits = LameInternalFlags$1.MAX_BITS_PER_GRANULE;\n    }\n    for (bits = 0, ch = 0; ch < gfc.channels_out; ++ch) {\n      targ_bits[ch] = Math.min(\n        LameInternalFlags$1.MAX_BITS_PER_CHANNEL,\n        tbits / gfc.channels_out\n      );\n      add_bits[ch] = 0 | targ_bits[ch] * pe[gr][ch] / 700 - targ_bits[ch];\n      if (add_bits[ch] > mean_bits * 3 / 4)\n        add_bits[ch] = mean_bits * 3 / 4;\n      if (add_bits[ch] < 0)\n        add_bits[ch] = 0;\n      if (add_bits[ch] + targ_bits[ch] > LameInternalFlags$1.MAX_BITS_PER_CHANNEL) {\n        add_bits[ch] = Math.max(\n          0,\n          LameInternalFlags$1.MAX_BITS_PER_CHANNEL - targ_bits[ch]\n        );\n      }\n      bits += add_bits[ch];\n    }\n    if (bits > extra_bits) {\n      for (ch = 0; ch < gfc.channels_out; ++ch) {\n        add_bits[ch] = extra_bits * add_bits[ch] / bits;\n      }\n    }\n    for (ch = 0; ch < gfc.channels_out; ++ch) {\n      targ_bits[ch] += add_bits[ch];\n      extra_bits -= add_bits[ch];\n    }\n    for (bits = 0, ch = 0; ch < gfc.channels_out; ++ch) {\n      bits += targ_bits[ch];\n    }\n    if (bits > LameInternalFlags$1.MAX_BITS_PER_GRANULE) {\n      var sum = 0;\n      for (ch = 0; ch < gfc.channels_out; ++ch) {\n        targ_bits[ch] *= LameInternalFlags$1.MAX_BITS_PER_GRANULE;\n        targ_bits[ch] /= bits;\n        sum += targ_bits[ch];\n      }\n    }\n    return max_bits;\n  };\n  this.reduce_side = function(targ_bits, ms_ener_ratio, mean_bits, max_bits) {\n    assert$7(\n      targ_bits[0] + targ_bits[1] <= LameInternalFlags$1.MAX_BITS_PER_GRANULE\n    );\n    var fac = 0.33 * (0.5 - ms_ener_ratio) / 0.5;\n    if (fac < 0)\n      fac = 0;\n    if (fac > 0.5)\n      fac = 0.5;\n    var move_bits = 0 | fac * 0.5 * (targ_bits[0] + targ_bits[1]);\n    if (move_bits > LameInternalFlags$1.MAX_BITS_PER_CHANNEL - targ_bits[0]) {\n      move_bits = LameInternalFlags$1.MAX_BITS_PER_CHANNEL - targ_bits[0];\n    }\n    if (move_bits < 0)\n      move_bits = 0;\n    if (targ_bits[1] >= 125) {\n      if (targ_bits[1] - move_bits > 125) {\n        if (targ_bits[0] < mean_bits)\n          targ_bits[0] += move_bits;\n        targ_bits[1] -= move_bits;\n      } else {\n        targ_bits[0] += targ_bits[1] - 125;\n        targ_bits[1] = 125;\n      }\n    }\n    move_bits = targ_bits[0] + targ_bits[1];\n    if (move_bits > max_bits) {\n      targ_bits[0] = max_bits * targ_bits[0] / move_bits;\n      targ_bits[1] = max_bits * targ_bits[1] / move_bits;\n    }\n    assert$7(targ_bits[0] <= LameInternalFlags$1.MAX_BITS_PER_CHANNEL);\n    assert$7(targ_bits[1] <= LameInternalFlags$1.MAX_BITS_PER_CHANNEL);\n    assert$7(\n      targ_bits[0] + targ_bits[1] <= LameInternalFlags$1.MAX_BITS_PER_GRANULE\n    );\n  };\n  this.athAdjust = function(a, x, athFloor) {\n    var o = 90.30873362;\n    var p2 = 94.82444863;\n    var u = Util$1.FAST_LOG10_X(x, 10);\n    var v = a * a;\n    var w = 0;\n    u -= athFloor;\n    if (v > 1e-20)\n      w = 1 + Util$1.FAST_LOG10_X(v, 10 / o);\n    if (w < 0)\n      w = 0;\n    u *= w;\n    u += athFloor + o - p2;\n    return Math.pow(10, 0.1 * u);\n  };\n  this.calc_xmin = function(gfp, ratio, cod_info, pxmin) {\n    var pxminPos = 0;\n    var gfc = gfp.internal_flags;\n    var gsfb;\n    var j = 0;\n    var ath_over = 0;\n    var ATH2 = gfc.ATH;\n    var xr = cod_info.xr;\n    var enable_athaa_fix = gfp.VBR == VbrMode$4.vbr_mtrh ? 1 : 0;\n    var masking_lower = gfc.masking_lower;\n    if (gfp.VBR == VbrMode$4.vbr_mtrh || gfp.VBR == VbrMode$4.vbr_mt) {\n      masking_lower = 1;\n    }\n    for (gsfb = 0; gsfb < cod_info.psy_lmax; gsfb++) {\n      var en0, xmin;\n      var rh1, rh2;\n      var width, l;\n      if (gfp.VBR == VbrMode$4.vbr_rh || gfp.VBR == VbrMode$4.vbr_mtrh) {\n        xmin = athAdjust(ATH2.adjust, ATH2.l[gsfb], ATH2.floor);\n      } else\n        xmin = ATH2.adjust * ATH2.l[gsfb];\n      width = cod_info.width[gsfb];\n      rh1 = xmin / width;\n      rh2 = DBL_EPSILON;\n      l = width >> 1;\n      en0 = 0;\n      do {\n        var xa, xb;\n        xa = xr[j] * xr[j];\n        en0 += xa;\n        rh2 += xa < rh1 ? xa : rh1;\n        j++;\n        xb = xr[j] * xr[j];\n        en0 += xb;\n        rh2 += xb < rh1 ? xb : rh1;\n        j++;\n      } while (--l > 0);\n      if (en0 > xmin)\n        ath_over++;\n      if (gsfb == Encoder.SBPSY_l) {\n        var x = xmin * gfc.nsPsy.longfact[gsfb];\n        if (rh2 < x) {\n          rh2 = x;\n        }\n      }\n      if (enable_athaa_fix != 0) {\n        xmin = rh2;\n      }\n      if (!gfp.ATHonly) {\n        var e = ratio.en.l[gsfb];\n        if (e > 0) {\n          var x;\n          x = en0 * ratio.thm.l[gsfb] * masking_lower / e;\n          if (enable_athaa_fix != 0)\n            x *= gfc.nsPsy.longfact[gsfb];\n          if (xmin < x)\n            xmin = x;\n        }\n      }\n      if (enable_athaa_fix != 0)\n        pxmin[pxminPos++] = xmin;\n      else\n        pxmin[pxminPos++] = xmin * gfc.nsPsy.longfact[gsfb];\n    }\n    var max_nonzero = 575;\n    if (cod_info.block_type != Encoder.SHORT_TYPE) {\n      var k = 576;\n      while (k-- != 0 && BitStream$1.EQ(xr[k], 0)) {\n        max_nonzero = k;\n      }\n    }\n    cod_info.max_nonzero_coeff = max_nonzero;\n    for (var sfb = cod_info.sfb_smin; gsfb < cod_info.psymax; sfb++, gsfb += 3) {\n      var width, b;\n      var tmpATH;\n      if (gfp.VBR == VbrMode$4.vbr_rh || gfp.VBR == VbrMode$4.vbr_mtrh) {\n        tmpATH = athAdjust(ATH2.adjust, ATH2.s[sfb], ATH2.floor);\n      } else\n        tmpATH = ATH2.adjust * ATH2.s[sfb];\n      width = cod_info.width[gsfb];\n      for (b = 0; b < 3; b++) {\n        var en0 = 0;\n        var xmin;\n        var rh1, rh2;\n        var l = width >> 1;\n        rh1 = tmpATH / width;\n        rh2 = DBL_EPSILON;\n        do {\n          var xa, xb;\n          xa = xr[j] * xr[j];\n          en0 += xa;\n          rh2 += xa < rh1 ? xa : rh1;\n          j++;\n          xb = xr[j] * xr[j];\n          en0 += xb;\n          rh2 += xb < rh1 ? xb : rh1;\n          j++;\n        } while (--l > 0);\n        if (en0 > tmpATH)\n          ath_over++;\n        if (sfb == Encoder.SBPSY_s) {\n          var x = tmpATH * gfc.nsPsy.shortfact[sfb];\n          if (rh2 < x) {\n            rh2 = x;\n          }\n        }\n        if (enable_athaa_fix != 0)\n          xmin = rh2;\n        else\n          xmin = tmpATH;\n        if (!gfp.ATHonly && !gfp.ATHshort) {\n          var e = ratio.en.s[sfb][b];\n          if (e > 0) {\n            var x;\n            x = en0 * ratio.thm.s[sfb][b] * masking_lower / e;\n            if (enable_athaa_fix != 0)\n              x *= gfc.nsPsy.shortfact[sfb];\n            if (xmin < x)\n              xmin = x;\n          }\n        }\n        if (enable_athaa_fix != 0)\n          pxmin[pxminPos++] = xmin;\n        else\n          pxmin[pxminPos++] = xmin * gfc.nsPsy.shortfact[sfb];\n      }\n      if (gfp.useTemporal) {\n        if (pxmin[pxminPos - 3] > pxmin[pxminPos - 3 + 1]) {\n          pxmin[pxminPos - 3 + 1] += (pxmin[pxminPos - 3] - pxmin[pxminPos - 3 + 1]) * gfc.decay;\n        }\n        if (pxmin[pxminPos - 3 + 1] > pxmin[pxminPos - 3 + 2]) {\n          pxmin[pxminPos - 3 + 2] += (pxmin[pxminPos - 3 + 1] - pxmin[pxminPos - 3 + 2]) * gfc.decay;\n        }\n      }\n    }\n    return ath_over;\n  };\n  function StartLine(j) {\n    this.s = j;\n  }\n  this.calc_noise_core = function(cod_info, startline, l, step) {\n    var noise = 0;\n    var j = startline.s;\n    var ix = cod_info.l3_enc;\n    if (j > cod_info.count1) {\n      while (l-- != 0) {\n        var temp;\n        temp = cod_info.xr[j];\n        j++;\n        noise += temp * temp;\n        temp = cod_info.xr[j];\n        j++;\n        noise += temp * temp;\n      }\n    } else if (j > cod_info.big_values) {\n      var ix01 = new_float$3(2);\n      ix01[0] = 0;\n      ix01[1] = step;\n      while (l-- != 0) {\n        var temp;\n        temp = Math.abs(cod_info.xr[j]) - ix01[ix[j]];\n        j++;\n        noise += temp * temp;\n        temp = Math.abs(cod_info.xr[j]) - ix01[ix[j]];\n        j++;\n        noise += temp * temp;\n      }\n    } else {\n      while (l-- != 0) {\n        var temp;\n        temp = Math.abs(cod_info.xr[j]) - pow43[ix[j]] * step;\n        j++;\n        noise += temp * temp;\n        temp = Math.abs(cod_info.xr[j]) - pow43[ix[j]] * step;\n        j++;\n        noise += temp * temp;\n      }\n    }\n    startline.s = j;\n    return noise;\n  };\n  this.calc_noise = function(cod_info, l3_xmin, distort, res, prev_noise) {\n    var distortPos = 0;\n    var l3_xminPos = 0;\n    var sfb;\n    var l;\n    var over = 0;\n    var over_noise_db = 0;\n    var tot_noise_db = 0;\n    var max_noise = -20;\n    var j = 0;\n    var scalefac = cod_info.scalefac;\n    var scalefacPos = 0;\n    res.over_SSD = 0;\n    for (sfb = 0; sfb < cod_info.psymax; sfb++) {\n      var s = cod_info.global_gain - (scalefac[scalefacPos++] + (cod_info.preflag != 0 ? pretab[sfb] : 0) << cod_info.scalefac_scale + 1) - cod_info.subblock_gain[cod_info.window[sfb]] * 8;\n      var noise = 0;\n      if (prev_noise != null && prev_noise.step[sfb] == s) {\n        noise = prev_noise.noise[sfb];\n        j += cod_info.width[sfb];\n        distort[distortPos++] = noise / l3_xmin[l3_xminPos++];\n        noise = prev_noise.noise_log[sfb];\n      } else {\n        var step = POW20(s);\n        l = cod_info.width[sfb] >> 1;\n        if (j + cod_info.width[sfb] > cod_info.max_nonzero_coeff) {\n          var usefullsize;\n          usefullsize = cod_info.max_nonzero_coeff - j + 1;\n          if (usefullsize > 0)\n            l = usefullsize >> 1;\n          else\n            l = 0;\n        }\n        var sl = new StartLine(j);\n        noise = this.calc_noise_core(cod_info, sl, l, step);\n        j = sl.s;\n        if (prev_noise != null) {\n          prev_noise.step[sfb] = s;\n          prev_noise.noise[sfb] = noise;\n        }\n        noise = distort[distortPos++] = noise / l3_xmin[l3_xminPos++];\n        noise = Util$1.FAST_LOG10(Math.max(noise, 1e-20));\n        if (prev_noise != null) {\n          prev_noise.noise_log[sfb] = noise;\n        }\n      }\n      if (prev_noise != null) {\n        prev_noise.global_gain = cod_info.global_gain;\n      }\n      tot_noise_db += noise;\n      if (noise > 0) {\n        var tmp;\n        tmp = Math.max(0 | noise * 10 + 0.5, 1);\n        res.over_SSD += tmp * tmp;\n        over++;\n        over_noise_db += noise;\n      }\n      max_noise = Math.max(max_noise, noise);\n    }\n    res.over_count = over;\n    res.tot_noise = tot_noise_db;\n    res.over_noise = over_noise_db;\n    res.max_noise = max_noise;\n    return over;\n  };\n  this.set_pinfo = function(gfp, cod_info, ratio, gr, ch) {\n    var gfc = gfp.internal_flags;\n    var sfb, sfb2;\n    var l;\n    var en0, en1;\n    var ifqstep = cod_info.scalefac_scale == 0 ? 0.5 : 1;\n    var scalefac = cod_info.scalefac;\n    var l3_xmin = new_float$3(L3Side.SFBMAX);\n    var xfsf = new_float$3(L3Side.SFBMAX);\n    var noise = new CalcNoiseResult();\n    calc_xmin(gfp, ratio, cod_info, l3_xmin);\n    calc_noise(cod_info, l3_xmin, xfsf, noise, null);\n    var j = 0;\n    sfb2 = cod_info.sfb_lmax;\n    if (cod_info.block_type != Encoder.SHORT_TYPE && cod_info.mixed_block_flag == 0) {\n      sfb2 = 22;\n    }\n    for (sfb = 0; sfb < sfb2; sfb++) {\n      var start2 = gfc.scalefac_band.l[sfb];\n      var end = gfc.scalefac_band.l[sfb + 1];\n      var bw = end - start2;\n      for (en0 = 0; j < end; j++)\n        en0 += cod_info.xr[j] * cod_info.xr[j];\n      en0 /= bw;\n      en1 = 1e15;\n      gfc.pinfo.en[gr][ch][sfb] = en1 * en0;\n      gfc.pinfo.xfsf[gr][ch][sfb] = en1 * l3_xmin[sfb] * xfsf[sfb] / bw;\n      if (ratio.en.l[sfb] > 0 && !gfp.ATHonly)\n        en0 = en0 / ratio.en.l[sfb];\n      else\n        en0 = 0;\n      gfc.pinfo.thr[gr][ch][sfb] = en1 * Math.max(en0 * ratio.thm.l[sfb], gfc.ATH.l[sfb]);\n      gfc.pinfo.LAMEsfb[gr][ch][sfb] = 0;\n      if (cod_info.preflag != 0 && sfb >= 11) {\n        gfc.pinfo.LAMEsfb[gr][ch][sfb] = -ifqstep * pretab[sfb];\n      }\n      if (sfb < Encoder.SBPSY_l) {\n        assert$7(scalefac[sfb] >= 0);\n        gfc.pinfo.LAMEsfb[gr][ch][sfb] -= ifqstep * scalefac[sfb];\n      }\n    }\n    if (cod_info.block_type == Encoder.SHORT_TYPE) {\n      sfb2 = sfb;\n      for (sfb = cod_info.sfb_smin; sfb < Encoder.SBMAX_s; sfb++) {\n        var start2 = gfc.scalefac_band.s[sfb];\n        var end = gfc.scalefac_band.s[sfb + 1];\n        var bw = end - start2;\n        for (var i = 0; i < 3; i++) {\n          for (en0 = 0, l = start2; l < end; l++) {\n            en0 += cod_info.xr[j] * cod_info.xr[j];\n            j++;\n          }\n          en0 = Math.max(en0 / bw, 1e-20);\n          en1 = 1e15;\n          gfc.pinfo.en_s[gr][ch][3 * sfb + i] = en1 * en0;\n          gfc.pinfo.xfsf_s[gr][ch][3 * sfb + i] = en1 * l3_xmin[sfb2] * xfsf[sfb2] / bw;\n          if (ratio.en.s[sfb][i] > 0)\n            en0 = en0 / ratio.en.s[sfb][i];\n          else\n            en0 = 0;\n          if (gfp.ATHonly || gfp.ATHshort)\n            en0 = 0;\n          gfc.pinfo.thr_s[gr][ch][3 * sfb + i] = en1 * Math.max(en0 * ratio.thm.s[sfb][i], gfc.ATH.s[sfb]);\n          gfc.pinfo.LAMEsfb_s[gr][ch][3 * sfb + i] = -2 * cod_info.subblock_gain[i];\n          if (sfb < Encoder.SBPSY_s) {\n            gfc.pinfo.LAMEsfb_s[gr][ch][3 * sfb + i] -= ifqstep * scalefac[sfb2];\n          }\n          sfb2++;\n        }\n      }\n    }\n    gfc.pinfo.LAMEqss[gr][ch] = cod_info.global_gain;\n    gfc.pinfo.LAMEmainbits[gr][ch] = cod_info.part2_3_length + cod_info.part2_length;\n    gfc.pinfo.LAMEsfbits[gr][ch] = cod_info.part2_length;\n    gfc.pinfo.over[gr][ch] = noise.over_count;\n    gfc.pinfo.max_noise[gr][ch] = noise.max_noise * 10;\n    gfc.pinfo.over_noise[gr][ch] = noise.over_noise * 10;\n    gfc.pinfo.tot_noise[gr][ch] = noise.tot_noise * 10;\n    gfc.pinfo.over_SSD[gr][ch] = noise.over_SSD;\n  };\n}\nvar System$4 = common.System;\nvar Arrays$3 = common.Arrays;\nvar new_int$2 = common.new_int;\nvar assert$6 = common.assert;\nfunction Takehiro() {\n  var qupvt = null;\n  this.qupvt = null;\n  this.setModules = function(_qupvt) {\n    this.qupvt = _qupvt;\n    qupvt = _qupvt;\n  };\n  function Bits(b) {\n    this.bits = 0 | b;\n  }\n  var subdv_table = [\n    [0, 0],\n    [0, 0],\n    [0, 0],\n    [0, 0],\n    [0, 0],\n    [0, 1],\n    [1, 1],\n    [1, 1],\n    [1, 2],\n    [2, 2],\n    [2, 3],\n    [2, 3],\n    [3, 4],\n    [3, 4],\n    [3, 4],\n    [4, 5],\n    [4, 5],\n    [4, 6],\n    [5, 6],\n    [5, 6],\n    [5, 7],\n    [6, 7],\n    [6, 7]\n  ];\n  function quantize_lines_xrpow_01(l, istep, xr, xrPos, ix, ixPos) {\n    var compareval0 = (1 - 0.4054) / istep;\n    l = l >> 1;\n    while (l-- != 0) {\n      ix[ixPos++] = compareval0 > xr[xrPos++] ? 0 : 1;\n      ix[ixPos++] = compareval0 > xr[xrPos++] ? 0 : 1;\n    }\n  }\n  function quantize_lines_xrpow(l, istep, xr, xrPos, ix, ixPos) {\n    l = l >> 1;\n    var remaining = l % 2;\n    l = l >> 1;\n    while (l-- != 0) {\n      var x0, x1, x2, x3;\n      var rx0, rx1, rx2, rx3;\n      x0 = xr[xrPos++] * istep;\n      x1 = xr[xrPos++] * istep;\n      rx0 = 0 | x0;\n      x2 = xr[xrPos++] * istep;\n      rx1 = 0 | x1;\n      x3 = xr[xrPos++] * istep;\n      rx2 = 0 | x2;\n      x0 += qupvt.adj43[rx0];\n      rx3 = 0 | x3;\n      x1 += qupvt.adj43[rx1];\n      ix[ixPos++] = 0 | x0;\n      x2 += qupvt.adj43[rx2];\n      ix[ixPos++] = 0 | x1;\n      x3 += qupvt.adj43[rx3];\n      ix[ixPos++] = 0 | x2;\n      ix[ixPos++] = 0 | x3;\n    }\n    if (remaining != 0) {\n      var x0, x1;\n      var rx0, rx1;\n      x0 = xr[xrPos++] * istep;\n      x1 = xr[xrPos++] * istep;\n      rx0 = 0 | x0;\n      rx1 = 0 | x1;\n      x0 += qupvt.adj43[rx0];\n      x1 += qupvt.adj43[rx1];\n      ix[ixPos++] = 0 | x0;\n      ix[ixPos++] = 0 | x1;\n    }\n  }\n  function quantize_xrpow(xp, pi, istep, codInfo, prevNoise) {\n    var sfb;\n    var sfbmax;\n    var j = 0;\n    var prev_data_use;\n    var accumulate = 0;\n    var accumulate01 = 0;\n    var xpPos = 0;\n    var iData = pi;\n    var iDataPos = 0;\n    var acc_iData = iData;\n    var acc_iDataPos = 0;\n    var acc_xp = xp;\n    var acc_xpPos = 0;\n    prev_data_use = prevNoise != null && codInfo.global_gain == prevNoise.global_gain;\n    if (codInfo.block_type == Encoder.SHORT_TYPE)\n      sfbmax = 38;\n    else\n      sfbmax = 21;\n    for (sfb = 0; sfb <= sfbmax; sfb++) {\n      var step = -1;\n      if (prev_data_use || codInfo.block_type == Encoder.NORM_TYPE) {\n        step = codInfo.global_gain - (codInfo.scalefac[sfb] + (codInfo.preflag != 0 ? qupvt.pretab[sfb] : 0) << codInfo.scalefac_scale + 1) - codInfo.subblock_gain[codInfo.window[sfb]] * 8;\n      }\n      assert$6(codInfo.width[sfb] >= 0);\n      if (prev_data_use && prevNoise.step[sfb] == step) {\n        if (accumulate != 0) {\n          quantize_lines_xrpow(\n            accumulate,\n            istep,\n            acc_xp,\n            acc_xpPos,\n            acc_iData,\n            acc_iDataPos\n          );\n          accumulate = 0;\n        }\n        if (accumulate01 != 0) {\n          quantize_lines_xrpow_01(\n            accumulate01,\n            istep,\n            acc_xp,\n            acc_xpPos,\n            acc_iData,\n            acc_iDataPos\n          );\n          accumulate01 = 0;\n        }\n      } else {\n        var l = codInfo.width[sfb];\n        if (j + codInfo.width[sfb] > codInfo.max_nonzero_coeff) {\n          var usefullsize;\n          usefullsize = codInfo.max_nonzero_coeff - j + 1;\n          Arrays$3.fill(pi, codInfo.max_nonzero_coeff, 576, 0);\n          l = usefullsize;\n          if (l < 0) {\n            l = 0;\n          }\n          sfb = sfbmax + 1;\n        }\n        if (accumulate == 0 && accumulate01 == 0) {\n          acc_iData = iData;\n          acc_iDataPos = iDataPos;\n          acc_xp = xp;\n          acc_xpPos = xpPos;\n        }\n        if (prevNoise != null && prevNoise.sfb_count1 > 0 && sfb >= prevNoise.sfb_count1 && prevNoise.step[sfb] > 0 && step >= prevNoise.step[sfb]) {\n          if (accumulate != 0) {\n            quantize_lines_xrpow(\n              accumulate,\n              istep,\n              acc_xp,\n              acc_xpPos,\n              acc_iData,\n              acc_iDataPos\n            );\n            accumulate = 0;\n            acc_iData = iData;\n            acc_iDataPos = iDataPos;\n            acc_xp = xp;\n            acc_xpPos = xpPos;\n          }\n          accumulate01 += l;\n        } else {\n          if (accumulate01 != 0) {\n            quantize_lines_xrpow_01(\n              accumulate01,\n              istep,\n              acc_xp,\n              acc_xpPos,\n              acc_iData,\n              acc_iDataPos\n            );\n            accumulate01 = 0;\n            acc_iData = iData;\n            acc_iDataPos = iDataPos;\n            acc_xp = xp;\n            acc_xpPos = xpPos;\n          }\n          accumulate += l;\n        }\n        if (l <= 0) {\n          if (accumulate01 != 0) {\n            quantize_lines_xrpow_01(\n              accumulate01,\n              istep,\n              acc_xp,\n              acc_xpPos,\n              acc_iData,\n              acc_iDataPos\n            );\n            accumulate01 = 0;\n          }\n          if (accumulate != 0) {\n            quantize_lines_xrpow(\n              accumulate,\n              istep,\n              acc_xp,\n              acc_xpPos,\n              acc_iData,\n              acc_iDataPos\n            );\n            accumulate = 0;\n          }\n          break;\n        }\n      }\n      if (sfb <= sfbmax) {\n        iDataPos += codInfo.width[sfb];\n        xpPos += codInfo.width[sfb];\n        j += codInfo.width[sfb];\n      }\n    }\n    if (accumulate != 0) {\n      quantize_lines_xrpow(\n        accumulate,\n        istep,\n        acc_xp,\n        acc_xpPos,\n        acc_iData,\n        acc_iDataPos\n      );\n      accumulate = 0;\n    }\n    if (accumulate01 != 0) {\n      quantize_lines_xrpow_01(\n        accumulate01,\n        istep,\n        acc_xp,\n        acc_xpPos,\n        acc_iData,\n        acc_iDataPos\n      );\n      accumulate01 = 0;\n    }\n  }\n  function ix_max(ix, ixPos, endPos) {\n    var max1 = 0;\n    var max2 = 0;\n    do {\n      var x1 = ix[ixPos++];\n      var x2 = ix[ixPos++];\n      if (max1 < x1)\n        max1 = x1;\n      if (max2 < x2)\n        max2 = x2;\n    } while (ixPos < endPos);\n    if (max1 < max2)\n      max1 = max2;\n    return max1;\n  }\n  function count_bit_ESC(ix, ixPos, end, t1, t2, s) {\n    var linbits = Tables$1.ht[t1].xlen * 65536 + Tables$1.ht[t2].xlen;\n    var sum = 0;\n    var sum2;\n    do {\n      var x = ix[ixPos++];\n      var y = ix[ixPos++];\n      if (x != 0) {\n        if (x > 14) {\n          x = 15;\n          sum += linbits;\n        }\n        x *= 16;\n      }\n      if (y != 0) {\n        if (y > 14) {\n          y = 15;\n          sum += linbits;\n        }\n        x += y;\n      }\n      sum += Tables$1.largetbl[x];\n    } while (ixPos < end);\n    sum2 = sum & 65535;\n    sum >>= 16;\n    if (sum > sum2) {\n      sum = sum2;\n      t1 = t2;\n    }\n    s.bits += sum;\n    return t1;\n  }\n  function count_bit_noESC(ix, ixPos, end, s) {\n    var sum1 = 0;\n    var hlen1 = Tables$1.ht[1].hlen;\n    do {\n      var x = ix[ixPos + 0] * 2 + ix[ixPos + 1];\n      ixPos += 2;\n      sum1 += hlen1[x];\n    } while (ixPos < end);\n    s.bits += sum1;\n    return 1;\n  }\n  function count_bit_noESC_from2(ix, ixPos, end, t1, s) {\n    var sum = 0;\n    var sum2;\n    var xlen = Tables$1.ht[t1].xlen;\n    var hlen;\n    if (t1 == 2)\n      hlen = Tables$1.table23;\n    else\n      hlen = Tables$1.table56;\n    do {\n      var x = ix[ixPos + 0] * xlen + ix[ixPos + 1];\n      ixPos += 2;\n      sum += hlen[x];\n    } while (ixPos < end);\n    sum2 = sum & 65535;\n    sum >>= 16;\n    if (sum > sum2) {\n      sum = sum2;\n      t1++;\n    }\n    s.bits += sum;\n    return t1;\n  }\n  function count_bit_noESC_from3(ix, ixPos, end, t1, s) {\n    var sum1 = 0;\n    var sum2 = 0;\n    var sum3 = 0;\n    var xlen = Tables$1.ht[t1].xlen;\n    var hlen1 = Tables$1.ht[t1].hlen;\n    var hlen2 = Tables$1.ht[t1 + 1].hlen;\n    var hlen3 = Tables$1.ht[t1 + 2].hlen;\n    do {\n      var x = ix[ixPos + 0] * xlen + ix[ixPos + 1];\n      ixPos += 2;\n      sum1 += hlen1[x];\n      sum2 += hlen2[x];\n      sum3 += hlen3[x];\n    } while (ixPos < end);\n    var t = t1;\n    if (sum1 > sum2) {\n      sum1 = sum2;\n      t++;\n    }\n    if (sum1 > sum3) {\n      sum1 = sum3;\n      t = t1 + 2;\n    }\n    s.bits += sum1;\n    return t;\n  }\n  var huf_tbl_noESC = [1, 2, 5, 7, 7, 10, 10, 13, 13, 13, 13, 13, 13, 13, 13];\n  function choose_table(ix, ixPos, endPos, s) {\n    var max = ix_max(ix, ixPos, endPos);\n    switch (max) {\n      case 0:\n        return max;\n      case 1:\n        return count_bit_noESC(ix, ixPos, endPos, s);\n      case 2:\n      case 3:\n        return count_bit_noESC_from2(\n          ix,\n          ixPos,\n          endPos,\n          huf_tbl_noESC[max - 1],\n          s\n        );\n      case 4:\n      case 5:\n      case 6:\n      case 7:\n      case 8:\n      case 9:\n      case 10:\n      case 11:\n      case 12:\n      case 13:\n      case 14:\n      case 15:\n        return count_bit_noESC_from3(\n          ix,\n          ixPos,\n          endPos,\n          huf_tbl_noESC[max - 1],\n          s\n        );\n      default:\n        if (max > QuantizePVT.IXMAX_VAL) {\n          s.bits = QuantizePVT.LARGE_BITS;\n          return -1;\n        }\n        max -= 15;\n        var choice2;\n        for (choice2 = 24; choice2 < 32; choice2++) {\n          if (Tables$1.ht[choice2].linmax >= max) {\n            break;\n          }\n        }\n        var choice;\n        for (choice = choice2 - 8; choice < 24; choice++) {\n          if (Tables$1.ht[choice].linmax >= max) {\n            break;\n          }\n        }\n        return count_bit_ESC(ix, ixPos, endPos, choice, choice2, s);\n    }\n  }\n  this.noquant_count_bits = function(gfc, gi, prev_noise) {\n    var ix = gi.l3_enc;\n    var i = Math.min(576, gi.max_nonzero_coeff + 2 >> 1 << 1);\n    if (prev_noise != null)\n      prev_noise.sfb_count1 = 0;\n    for (; i > 1; i -= 2)\n      if ((ix[i - 1] | ix[i - 2]) != 0)\n        break;\n    gi.count1 = i;\n    var a1 = 0;\n    var a2 = 0;\n    for (; i > 3; i -= 4) {\n      var p2;\n      if (((ix[i - 1] | ix[i - 2] | ix[i - 3] | ix[i - 4]) & 2147483647) > 1) {\n        break;\n      }\n      p2 = ((ix[i - 4] * 2 + ix[i - 3]) * 2 + ix[i - 2]) * 2 + ix[i - 1];\n      a1 += Tables$1.t32l[p2];\n      a2 += Tables$1.t33l[p2];\n    }\n    var bits = a1;\n    gi.count1table_select = 0;\n    if (a1 > a2) {\n      bits = a2;\n      gi.count1table_select = 1;\n    }\n    gi.count1bits = bits;\n    gi.big_values = i;\n    if (i == 0)\n      return bits;\n    if (gi.block_type == Encoder.SHORT_TYPE) {\n      a1 = 3 * gfc.scalefac_band.s[3];\n      if (a1 > gi.big_values)\n        a1 = gi.big_values;\n      a2 = gi.big_values;\n    } else if (gi.block_type == Encoder.NORM_TYPE) {\n      a1 = gi.region0_count = gfc.bv_scf[i - 2];\n      a2 = gi.region1_count = gfc.bv_scf[i - 1];\n      a2 = gfc.scalefac_band.l[a1 + a2 + 2];\n      a1 = gfc.scalefac_band.l[a1 + 1];\n      if (a2 < i) {\n        var bi = new Bits(bits);\n        gi.table_select[2] = choose_table(ix, a2, i, bi);\n        bits = bi.bits;\n      }\n    } else {\n      gi.region0_count = 7;\n      gi.region1_count = Encoder.SBMAX_l - 1 - 7 - 1;\n      a1 = gfc.scalefac_band.l[7 + 1];\n      a2 = i;\n      if (a1 > a2) {\n        a1 = a2;\n      }\n    }\n    a1 = Math.min(a1, i);\n    a2 = Math.min(a2, i);\n    if (a1 > 0) {\n      var bi = new Bits(bits);\n      gi.table_select[0] = choose_table(ix, 0, a1, bi);\n      bits = bi.bits;\n    }\n    if (a1 < a2) {\n      var bi = new Bits(bits);\n      gi.table_select[1] = choose_table(ix, a1, a2, bi);\n      bits = bi.bits;\n    }\n    if (gfc.use_best_huffman == 2) {\n      gi.part2_3_length = bits;\n      best_huffman_divide(gfc, gi);\n      bits = gi.part2_3_length;\n    }\n    if (prev_noise != null) {\n      if (gi.block_type == Encoder.NORM_TYPE) {\n        var sfb = 0;\n        while (gfc.scalefac_band.l[sfb] < gi.big_values) {\n          sfb++;\n        }\n        prev_noise.sfb_count1 = sfb;\n      }\n    }\n    return bits;\n  };\n  this.count_bits = function(gfc, xr, gi, prev_noise) {\n    var ix = gi.l3_enc;\n    var w = QuantizePVT.IXMAX_VAL / qupvt.IPOW20(gi.global_gain);\n    if (gi.xrpow_max > w)\n      return QuantizePVT.LARGE_BITS;\n    quantize_xrpow(xr, ix, qupvt.IPOW20(gi.global_gain), gi, prev_noise);\n    if ((gfc.substep_shaping & 2) != 0) {\n      var j = 0;\n      var gain = gi.global_gain + gi.scalefac_scale;\n      var roundfac = 0.634521682242439 / qupvt.IPOW20(gain);\n      for (var sfb = 0; sfb < gi.sfbmax; sfb++) {\n        var width = gi.width[sfb];\n        if (gfc.pseudohalf[sfb] == 0) {\n          j += width;\n        } else {\n          var k;\n          for (k = j, j += width; k < j; ++k) {\n            ix[k] = xr[k] >= roundfac ? ix[k] : 0;\n          }\n        }\n      }\n    }\n    return this.noquant_count_bits(gfc, gi, prev_noise);\n  };\n  function recalc_divide_init(gfc, cod_info, ix, r01_bits, r01_div, r0_tbl, r1_tbl) {\n    var bigv = cod_info.big_values;\n    for (var r0 = 0; r0 <= 7 + 15; r0++) {\n      r01_bits[r0] = QuantizePVT.LARGE_BITS;\n    }\n    for (var r0 = 0; r0 < 16; r0++) {\n      var a1 = gfc.scalefac_band.l[r0 + 1];\n      if (a1 >= bigv)\n        break;\n      var r0bits = 0;\n      var bi = new Bits(r0bits);\n      var r0t = choose_table(ix, 0, a1, bi);\n      r0bits = bi.bits;\n      for (var r1 = 0; r1 < 8; r1++) {\n        var a2 = gfc.scalefac_band.l[r0 + r1 + 2];\n        if (a2 >= bigv)\n          break;\n        var bits = r0bits;\n        bi = new Bits(bits);\n        var r1t = choose_table(ix, a1, a2, bi);\n        bits = bi.bits;\n        if (r01_bits[r0 + r1] > bits) {\n          r01_bits[r0 + r1] = bits;\n          r01_div[r0 + r1] = r0;\n          r0_tbl[r0 + r1] = r0t;\n          r1_tbl[r0 + r1] = r1t;\n        }\n      }\n    }\n  }\n  function recalc_divide_sub(gfc, cod_info2, gi, ix, r01_bits, r01_div, r0_tbl, r1_tbl) {\n    var bigv = cod_info2.big_values;\n    for (var r2 = 2; r2 < Encoder.SBMAX_l + 1; r2++) {\n      var a2 = gfc.scalefac_band.l[r2];\n      if (a2 >= bigv)\n        break;\n      var bits = r01_bits[r2 - 2] + cod_info2.count1bits;\n      if (gi.part2_3_length <= bits)\n        break;\n      var bi = new Bits(bits);\n      var r2t = choose_table(ix, a2, bigv, bi);\n      bits = bi.bits;\n      if (gi.part2_3_length <= bits)\n        continue;\n      gi.assign(cod_info2);\n      gi.part2_3_length = bits;\n      gi.region0_count = r01_div[r2 - 2];\n      gi.region1_count = r2 - 2 - r01_div[r2 - 2];\n      gi.table_select[0] = r0_tbl[r2 - 2];\n      gi.table_select[1] = r1_tbl[r2 - 2];\n      gi.table_select[2] = r2t;\n    }\n  }\n  this.best_huffman_divide = function(gfc, gi) {\n    var cod_info2 = new GrInfo();\n    var ix = gi.l3_enc;\n    var r01_bits = new_int$2(7 + 15 + 1);\n    var r01_div = new_int$2(7 + 15 + 1);\n    var r0_tbl = new_int$2(7 + 15 + 1);\n    var r1_tbl = new_int$2(7 + 15 + 1);\n    if (gi.block_type == Encoder.SHORT_TYPE && gfc.mode_gr == 1)\n      return;\n    cod_info2.assign(gi);\n    if (gi.block_type == Encoder.NORM_TYPE) {\n      recalc_divide_init(gfc, gi, ix, r01_bits, r01_div, r0_tbl, r1_tbl);\n      recalc_divide_sub(\n        gfc,\n        cod_info2,\n        gi,\n        ix,\n        r01_bits,\n        r01_div,\n        r0_tbl,\n        r1_tbl\n      );\n    }\n    var i = cod_info2.big_values;\n    if (i == 0 || (ix[i - 2] | ix[i - 1]) > 1)\n      return;\n    i = gi.count1 + 2;\n    if (i > 576)\n      return;\n    cod_info2.assign(gi);\n    cod_info2.count1 = i;\n    var a1 = 0;\n    var a2 = 0;\n    for (; i > cod_info2.big_values; i -= 4) {\n      var p2 = ((ix[i - 4] * 2 + ix[i - 3]) * 2 + ix[i - 2]) * 2 + ix[i - 1];\n      a1 += Tables$1.t32l[p2];\n      a2 += Tables$1.t33l[p2];\n    }\n    cod_info2.big_values = i;\n    cod_info2.count1table_select = 0;\n    if (a1 > a2) {\n      a1 = a2;\n      cod_info2.count1table_select = 1;\n    }\n    cod_info2.count1bits = a1;\n    if (cod_info2.block_type == Encoder.NORM_TYPE) {\n      recalc_divide_sub(\n        gfc,\n        cod_info2,\n        gi,\n        ix,\n        r01_bits,\n        r01_div,\n        r0_tbl,\n        r1_tbl\n      );\n    } else {\n      cod_info2.part2_3_length = a1;\n      a1 = gfc.scalefac_band.l[7 + 1];\n      if (a1 > i) {\n        a1 = i;\n      }\n      if (a1 > 0) {\n        var bi = new Bits(cod_info2.part2_3_length);\n        cod_info2.table_select[0] = choose_table(ix, 0, a1, bi);\n        cod_info2.part2_3_length = bi.bits;\n      }\n      if (i > a1) {\n        var bi = new Bits(cod_info2.part2_3_length);\n        cod_info2.table_select[1] = choose_table(ix, a1, i, bi);\n        cod_info2.part2_3_length = bi.bits;\n      }\n      if (gi.part2_3_length > cod_info2.part2_3_length)\n        gi.assign(cod_info2);\n    }\n  };\n  var slen1_n = [1, 1, 1, 1, 8, 2, 2, 2, 4, 4, 4, 8, 8, 8, 16, 16];\n  var slen2_n = [1, 2, 4, 8, 1, 2, 4, 8, 2, 4, 8, 2, 4, 8, 4, 8];\n  var slen1_tab = [0, 0, 0, 0, 3, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4];\n  var slen2_tab = [0, 1, 2, 3, 0, 1, 2, 3, 1, 2, 3, 1, 2, 3, 2, 3];\n  Takehiro.slen1_tab = slen1_tab;\n  Takehiro.slen2_tab = slen2_tab;\n  function scfsi_calc(ch, l3_side) {\n    var sfb;\n    var gi = l3_side.tt[1][ch];\n    var g0 = l3_side.tt[0][ch];\n    for (var i = 0; i < Tables$1.scfsi_band.length - 1; i++) {\n      for (sfb = Tables$1.scfsi_band[i]; sfb < Tables$1.scfsi_band[i + 1]; sfb++) {\n        if (g0.scalefac[sfb] != gi.scalefac[sfb] && gi.scalefac[sfb] >= 0)\n          break;\n      }\n      if (sfb == Tables$1.scfsi_band[i + 1]) {\n        for (sfb = Tables$1.scfsi_band[i]; sfb < Tables$1.scfsi_band[i + 1]; sfb++) {\n          gi.scalefac[sfb] = -1;\n        }\n        l3_side.scfsi[ch][i] = 1;\n      }\n    }\n    var s1 = 0;\n    var c1 = 0;\n    for (sfb = 0; sfb < 11; sfb++) {\n      if (gi.scalefac[sfb] == -1)\n        continue;\n      c1++;\n      if (s1 < gi.scalefac[sfb])\n        s1 = gi.scalefac[sfb];\n    }\n    var s2 = 0;\n    var c2 = 0;\n    for (; sfb < Encoder.SBPSY_l; sfb++) {\n      if (gi.scalefac[sfb] == -1)\n        continue;\n      c2++;\n      if (s2 < gi.scalefac[sfb])\n        s2 = gi.scalefac[sfb];\n    }\n    for (var i = 0; i < 16; i++) {\n      if (s1 < slen1_n[i] && s2 < slen2_n[i]) {\n        var c = slen1_tab[i] * c1 + slen2_tab[i] * c2;\n        if (gi.part2_length > c) {\n          gi.part2_length = c;\n          gi.scalefac_compress = i;\n        }\n      }\n    }\n  }\n  this.best_scalefac_store = function(gfc, gr, ch, l3_side) {\n    var gi = l3_side.tt[gr][ch];\n    var sfb, i, j, l;\n    var recalc = 0;\n    j = 0;\n    for (sfb = 0; sfb < gi.sfbmax; sfb++) {\n      var width = gi.width[sfb];\n      j += width;\n      for (l = -width; l < 0; l++) {\n        if (gi.l3_enc[l + j] != 0)\n          break;\n      }\n      if (l == 0)\n        gi.scalefac[sfb] = recalc = -2;\n    }\n    if (gi.scalefac_scale == 0 && gi.preflag == 0) {\n      var s = 0;\n      for (sfb = 0; sfb < gi.sfbmax; sfb++) {\n        if (gi.scalefac[sfb] > 0)\n          s |= gi.scalefac[sfb];\n      }\n      if ((s & 1) == 0 && s != 0) {\n        for (sfb = 0; sfb < gi.sfbmax; sfb++) {\n          if (gi.scalefac[sfb] > 0)\n            gi.scalefac[sfb] >>= 1;\n        }\n        gi.scalefac_scale = recalc = 1;\n      }\n    }\n    if (gi.preflag == 0 && gi.block_type != Encoder.SHORT_TYPE && gfc.mode_gr == 2) {\n      for (sfb = 11; sfb < Encoder.SBPSY_l; sfb++) {\n        if (gi.scalefac[sfb] < qupvt.pretab[sfb] && gi.scalefac[sfb] != -2) {\n          break;\n        }\n      }\n      if (sfb == Encoder.SBPSY_l) {\n        for (sfb = 11; sfb < Encoder.SBPSY_l; sfb++) {\n          if (gi.scalefac[sfb] > 0)\n            gi.scalefac[sfb] -= qupvt.pretab[sfb];\n        }\n        gi.preflag = recalc = 1;\n      }\n    }\n    for (i = 0; i < 4; i++)\n      l3_side.scfsi[ch][i] = 0;\n    if (gfc.mode_gr == 2 && gr == 1 && l3_side.tt[0][ch].block_type != Encoder.SHORT_TYPE && l3_side.tt[1][ch].block_type != Encoder.SHORT_TYPE) {\n      scfsi_calc(ch, l3_side);\n      recalc = 0;\n    }\n    for (sfb = 0; sfb < gi.sfbmax; sfb++) {\n      if (gi.scalefac[sfb] == -2) {\n        gi.scalefac[sfb] = 0;\n      }\n    }\n    if (recalc != 0) {\n      if (gfc.mode_gr == 2) {\n        this.scale_bitcount(gi);\n      } else {\n        this.scale_bitcount_lsf(gfc, gi);\n      }\n    }\n  };\n  function all_scalefactors_not_negative(scalefac, n) {\n    for (var i = 0; i < n; ++i) {\n      if (scalefac[i] < 0)\n        return false;\n    }\n    return true;\n  }\n  var scale_short = [\n    0,\n    18,\n    36,\n    54,\n    54,\n    36,\n    54,\n    72,\n    54,\n    72,\n    90,\n    72,\n    90,\n    108,\n    108,\n    126\n  ];\n  var scale_mixed = [\n    0,\n    18,\n    36,\n    54,\n    51,\n    35,\n    53,\n    71,\n    52,\n    70,\n    88,\n    69,\n    87,\n    105,\n    104,\n    122\n  ];\n  var scale_long = [\n    0,\n    10,\n    20,\n    30,\n    33,\n    21,\n    31,\n    41,\n    32,\n    42,\n    52,\n    43,\n    53,\n    63,\n    64,\n    74\n  ];\n  this.scale_bitcount = function(cod_info) {\n    var k;\n    var sfb;\n    var max_slen1 = 0;\n    var max_slen2 = 0;\n    var tab;\n    var scalefac = cod_info.scalefac;\n    assert$6(all_scalefactors_not_negative(scalefac, cod_info.sfbmax));\n    if (cod_info.block_type == Encoder.SHORT_TYPE) {\n      tab = scale_short;\n      if (cod_info.mixed_block_flag != 0)\n        tab = scale_mixed;\n    } else {\n      tab = scale_long;\n      if (cod_info.preflag == 0) {\n        for (sfb = 11; sfb < Encoder.SBPSY_l; sfb++) {\n          if (scalefac[sfb] < qupvt.pretab[sfb])\n            break;\n        }\n        if (sfb == Encoder.SBPSY_l) {\n          cod_info.preflag = 1;\n          for (sfb = 11; sfb < Encoder.SBPSY_l; sfb++) {\n            scalefac[sfb] -= qupvt.pretab[sfb];\n          }\n        }\n      }\n    }\n    for (sfb = 0; sfb < cod_info.sfbdivide; sfb++) {\n      if (max_slen1 < scalefac[sfb])\n        max_slen1 = scalefac[sfb];\n    }\n    for (; sfb < cod_info.sfbmax; sfb++) {\n      if (max_slen2 < scalefac[sfb])\n        max_slen2 = scalefac[sfb];\n    }\n    cod_info.part2_length = QuantizePVT.LARGE_BITS;\n    for (k = 0; k < 16; k++) {\n      if (max_slen1 < slen1_n[k] && max_slen2 < slen2_n[k] && cod_info.part2_length > tab[k]) {\n        cod_info.part2_length = tab[k];\n        cod_info.scalefac_compress = k;\n      }\n    }\n    return cod_info.part2_length == QuantizePVT.LARGE_BITS;\n  };\n  var max_range_sfac_tab = [\n    [15, 15, 7, 7],\n    [15, 15, 7, 0],\n    [7, 3, 0, 0],\n    [15, 31, 31, 0],\n    [7, 7, 7, 0],\n    [3, 3, 0, 0]\n  ];\n  this.scale_bitcount_lsf = function(gfc, cod_info) {\n    var table_number, row_in_table, partition, nr_sfb, window2;\n    var over;\n    var i, sfb;\n    var max_sfac = new_int$2(4);\n    var scalefac = cod_info.scalefac;\n    if (cod_info.preflag != 0)\n      table_number = 2;\n    else\n      table_number = 0;\n    for (i = 0; i < 4; i++)\n      max_sfac[i] = 0;\n    if (cod_info.block_type == Encoder.SHORT_TYPE) {\n      row_in_table = 1;\n      var partition_table = qupvt.nr_of_sfb_block[table_number][row_in_table];\n      for (sfb = 0, partition = 0; partition < 4; partition++) {\n        nr_sfb = partition_table[partition] / 3;\n        for (i = 0; i < nr_sfb; i++, sfb++) {\n          for (window2 = 0; window2 < 3; window2++) {\n            if (scalefac[sfb * 3 + window2] > max_sfac[partition]) {\n              max_sfac[partition] = scalefac[sfb * 3 + window2];\n            }\n          }\n        }\n      }\n    } else {\n      row_in_table = 0;\n      var partition_table = qupvt.nr_of_sfb_block[table_number][row_in_table];\n      for (sfb = 0, partition = 0; partition < 4; partition++) {\n        nr_sfb = partition_table[partition];\n        for (i = 0; i < nr_sfb; i++, sfb++) {\n          if (scalefac[sfb] > max_sfac[partition]) {\n            max_sfac[partition] = scalefac[sfb];\n          }\n        }\n      }\n    }\n    for (over = false, partition = 0; partition < 4; partition++) {\n      if (max_sfac[partition] > max_range_sfac_tab[table_number][partition]) {\n        over = true;\n      }\n    }\n    if (!over) {\n      var slen1, slen2, slen3, slen4;\n      cod_info.sfb_partition_table = qupvt.nr_of_sfb_block[table_number][row_in_table];\n      for (partition = 0; partition < 4; partition++) {\n        cod_info.slen[partition] = log2tab[max_sfac[partition]];\n      }\n      slen1 = cod_info.slen[0];\n      slen2 = cod_info.slen[1];\n      slen3 = cod_info.slen[2];\n      slen4 = cod_info.slen[3];\n      switch (table_number) {\n        case 0:\n          cod_info.scalefac_compress = (slen1 * 5 + slen2 << 4) + (slen3 << 2) + slen4;\n          break;\n        case 1:\n          cod_info.scalefac_compress = 400 + (slen1 * 5 + slen2 << 2) + slen3;\n          break;\n        case 2:\n          cod_info.scalefac_compress = 500 + slen1 * 3 + slen2;\n          break;\n        default:\n          System$4.err.printf(\"intensity stereo not implemented yet\\n\");\n          break;\n      }\n    }\n    if (!over) {\n      assert$6(cod_info.sfb_partition_table != null);\n      cod_info.part2_length = 0;\n      for (partition = 0; partition < 4; partition++) {\n        cod_info.part2_length += cod_info.slen[partition] * cod_info.sfb_partition_table[partition];\n      }\n    }\n    return over;\n  };\n  var log2tab = [0, 1, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4];\n  this.huffman_init = function(gfc) {\n    for (var i = 2; i <= 576; i += 2) {\n      var scfb_anz = 0;\n      var bv_index;\n      while (gfc.scalefac_band.l[++scfb_anz] < i)\n        ;\n      bv_index = subdv_table[scfb_anz][0];\n      while (gfc.scalefac_band.l[bv_index + 1] > i)\n        bv_index--;\n      if (bv_index < 0) {\n        bv_index = subdv_table[scfb_anz][0];\n      }\n      gfc.bv_scf[i - 2] = bv_index;\n      bv_index = subdv_table[scfb_anz][1];\n      while (gfc.scalefac_band.l[bv_index + gfc.bv_scf[i - 2] + 2] > i) {\n        bv_index--;\n      }\n      if (bv_index < 0) {\n        bv_index = subdv_table[scfb_anz][1];\n      }\n      gfc.bv_scf[i - 1] = bv_index;\n    }\n  };\n}\nvar System$3 = common.System;\nvar Arrays$2 = common.Arrays;\nvar new_byte$2 = common.new_byte;\nvar new_float_n = common.new_float_n;\nvar new_int$1 = common.new_int;\nvar assert$5 = common.assert;\nBitStream$1.EQ = function(a, b) {\n  return Math.abs(a) > Math.abs(b) ? Math.abs(a - b) <= Math.abs(a) * 1e-6 : Math.abs(a - b) <= Math.abs(b) * 1e-6;\n};\nBitStream$1.NEQ = function(a, b) {\n  return !BitStream$1.EQ(a, b);\n};\nfunction BitStream$1() {\n  var self2 = this;\n  var CRC16_POLYNOMIAL = 32773;\n  var ga = null;\n  var mpg = null;\n  var ver = null;\n  var vbr = null;\n  this.setModules = function(_ga, _mpg, _ver, _vbr) {\n    ga = _ga;\n    mpg = _mpg;\n    ver = _ver;\n    vbr = _vbr;\n  };\n  var buf = null;\n  var totbit = 0;\n  var bufByteIdx = 0;\n  var bufBitIdx = 0;\n  this.getframebits = function(gfp) {\n    var gfc = gfp.internal_flags;\n    var bit_rate;\n    if (gfc.bitrate_index != 0) {\n      bit_rate = Tables$1.bitrate_table[gfp.version][gfc.bitrate_index];\n    } else\n      bit_rate = gfp.brate;\n    var bytes = 0 | (gfp.version + 1) * 72e3 * bit_rate / gfp.out_samplerate + gfc.padding;\n    return 8 * bytes;\n  };\n  function putheader_bits(gfc) {\n    System$3.arraycopy(\n      gfc.header[gfc.w_ptr].buf,\n      0,\n      buf,\n      bufByteIdx,\n      gfc.sideinfo_len\n    );\n    bufByteIdx += gfc.sideinfo_len;\n    totbit += gfc.sideinfo_len * 8;\n    gfc.w_ptr = gfc.w_ptr + 1 & LameInternalFlags$1.MAX_HEADER_BUF - 1;\n  }\n  function putbits2(gfc, val, j) {\n    while (j > 0) {\n      var k;\n      if (bufBitIdx == 0) {\n        bufBitIdx = 8;\n        bufByteIdx++;\n        assert$5(gfc.header[gfc.w_ptr].write_timing >= totbit);\n        if (gfc.header[gfc.w_ptr].write_timing == totbit) {\n          putheader_bits(gfc);\n        }\n        buf[bufByteIdx] = 0;\n      }\n      k = Math.min(j, bufBitIdx);\n      j -= k;\n      bufBitIdx -= k;\n      buf[bufByteIdx] |= val >> j << bufBitIdx;\n      totbit += k;\n    }\n  }\n  function putbits_noheaders(gfc, val, j) {\n    while (j > 0) {\n      var k;\n      if (bufBitIdx == 0) {\n        bufBitIdx = 8;\n        bufByteIdx++;\n        buf[bufByteIdx] = 0;\n      }\n      k = Math.min(j, bufBitIdx);\n      j -= k;\n      bufBitIdx -= k;\n      buf[bufByteIdx] |= val >> j << bufBitIdx;\n      totbit += k;\n    }\n  }\n  function drain_into_ancillary(gfp, remainingBits) {\n    var gfc = gfp.internal_flags;\n    var i;\n    if (remainingBits >= 8) {\n      putbits2(gfc, 76, 8);\n      remainingBits -= 8;\n    }\n    if (remainingBits >= 8) {\n      putbits2(gfc, 65, 8);\n      remainingBits -= 8;\n    }\n    if (remainingBits >= 8) {\n      putbits2(gfc, 77, 8);\n      remainingBits -= 8;\n    }\n    if (remainingBits >= 8) {\n      putbits2(gfc, 69, 8);\n      remainingBits -= 8;\n    }\n    if (remainingBits >= 32) {\n      var version2 = ver.getLameShortVersion();\n      if (remainingBits >= 32) {\n        for (i = 0; i < version2.length && remainingBits >= 8; ++i) {\n          remainingBits -= 8;\n          putbits2(gfc, version2.charAt(i), 8);\n        }\n      }\n    }\n    for (; remainingBits >= 1; remainingBits -= 1) {\n      putbits2(gfc, gfc.ancillary_flag, 1);\n      gfc.ancillary_flag ^= !gfp.disable_reservoir ? 1 : 0;\n    }\n  }\n  function writeheader(gfc, val, j) {\n    var ptr = gfc.header[gfc.h_ptr].ptr;\n    while (j > 0) {\n      var k = Math.min(j, 8 - (ptr & 7));\n      j -= k;\n      gfc.header[gfc.h_ptr].buf[ptr >> 3] |= val >> j << 8 - (ptr & 7) - k;\n      ptr += k;\n    }\n    gfc.header[gfc.h_ptr].ptr = ptr;\n  }\n  function CRC_update(value, crc) {\n    value <<= 8;\n    for (var i = 0; i < 8; i++) {\n      value <<= 1;\n      crc <<= 1;\n      if (((crc ^ value) & 65536) != 0)\n        crc ^= CRC16_POLYNOMIAL;\n    }\n    return crc;\n  }\n  this.CRC_writeheader = function(gfc, header) {\n    var crc = 65535;\n    crc = CRC_update(header[2] & 255, crc);\n    crc = CRC_update(header[3] & 255, crc);\n    for (var i = 6; i < gfc.sideinfo_len; i++) {\n      crc = CRC_update(header[i] & 255, crc);\n    }\n    header[4] = byte(crc >> 8);\n    header[5] = byte(crc & 255);\n  };\n  function encodeSideInfo2(gfp, bitsPerFrame) {\n    var gfc = gfp.internal_flags;\n    var l3_side;\n    var gr, ch;\n    l3_side = gfc.l3_side;\n    gfc.header[gfc.h_ptr].ptr = 0;\n    Arrays$2.fill(gfc.header[gfc.h_ptr].buf, 0, gfc.sideinfo_len, 0);\n    if (gfp.out_samplerate < 16e3)\n      writeheader(gfc, 4094, 12);\n    else\n      writeheader(gfc, 4095, 12);\n    writeheader(gfc, gfp.version, 1);\n    writeheader(gfc, 4 - 3, 2);\n    writeheader(gfc, !gfp.error_protection ? 1 : 0, 1);\n    writeheader(gfc, gfc.bitrate_index, 4);\n    writeheader(gfc, gfc.samplerate_index, 2);\n    writeheader(gfc, gfc.padding, 1);\n    writeheader(gfc, gfp.extension, 1);\n    writeheader(gfc, gfp.mode.ordinal(), 2);\n    writeheader(gfc, gfc.mode_ext, 2);\n    writeheader(gfc, gfp.copyright, 1);\n    writeheader(gfc, gfp.original, 1);\n    writeheader(gfc, gfp.emphasis, 2);\n    if (gfp.error_protection) {\n      writeheader(gfc, 0, 16);\n    }\n    if (gfp.version == 1) {\n      assert$5(l3_side.main_data_begin >= 0);\n      writeheader(gfc, l3_side.main_data_begin, 9);\n      if (gfc.channels_out == 2)\n        writeheader(gfc, l3_side.private_bits, 3);\n      else\n        writeheader(gfc, l3_side.private_bits, 5);\n      for (ch = 0; ch < gfc.channels_out; ch++) {\n        var band;\n        for (band = 0; band < 4; band++) {\n          writeheader(gfc, l3_side.scfsi[ch][band], 1);\n        }\n      }\n      for (gr = 0; gr < 2; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          var gi = l3_side.tt[gr][ch];\n          writeheader(gfc, gi.part2_3_length + gi.part2_length, 12);\n          writeheader(gfc, gi.big_values / 2, 9);\n          writeheader(gfc, gi.global_gain, 8);\n          writeheader(gfc, gi.scalefac_compress, 4);\n          if (gi.block_type != Encoder.NORM_TYPE) {\n            writeheader(gfc, 1, 1);\n            writeheader(gfc, gi.block_type, 2);\n            writeheader(gfc, gi.mixed_block_flag, 1);\n            if (gi.table_select[0] == 14)\n              gi.table_select[0] = 16;\n            writeheader(gfc, gi.table_select[0], 5);\n            if (gi.table_select[1] == 14)\n              gi.table_select[1] = 16;\n            writeheader(gfc, gi.table_select[1], 5);\n            writeheader(gfc, gi.subblock_gain[0], 3);\n            writeheader(gfc, gi.subblock_gain[1], 3);\n            writeheader(gfc, gi.subblock_gain[2], 3);\n          } else {\n            writeheader(gfc, 0, 1);\n            if (gi.table_select[0] == 14)\n              gi.table_select[0] = 16;\n            writeheader(gfc, gi.table_select[0], 5);\n            if (gi.table_select[1] == 14)\n              gi.table_select[1] = 16;\n            writeheader(gfc, gi.table_select[1], 5);\n            if (gi.table_select[2] == 14)\n              gi.table_select[2] = 16;\n            writeheader(gfc, gi.table_select[2], 5);\n            assert$5(gi.region0_count >= 0 && gi.region0_count < 16);\n            assert$5(gi.region1_count >= 0 && gi.region1_count < 8);\n            writeheader(gfc, gi.region0_count, 4);\n            writeheader(gfc, gi.region1_count, 3);\n          }\n          writeheader(gfc, gi.preflag, 1);\n          writeheader(gfc, gi.scalefac_scale, 1);\n          writeheader(gfc, gi.count1table_select, 1);\n        }\n      }\n    } else {\n      assert$5(l3_side.main_data_begin >= 0);\n      writeheader(gfc, l3_side.main_data_begin, 8);\n      writeheader(gfc, l3_side.private_bits, gfc.channels_out);\n      gr = 0;\n      for (ch = 0; ch < gfc.channels_out; ch++) {\n        var gi = l3_side.tt[gr][ch];\n        writeheader(gfc, gi.part2_3_length + gi.part2_length, 12);\n        writeheader(gfc, gi.big_values / 2, 9);\n        writeheader(gfc, gi.global_gain, 8);\n        writeheader(gfc, gi.scalefac_compress, 9);\n        if (gi.block_type != Encoder.NORM_TYPE) {\n          writeheader(gfc, 1, 1);\n          writeheader(gfc, gi.block_type, 2);\n          writeheader(gfc, gi.mixed_block_flag, 1);\n          if (gi.table_select[0] == 14)\n            gi.table_select[0] = 16;\n          writeheader(gfc, gi.table_select[0], 5);\n          if (gi.table_select[1] == 14)\n            gi.table_select[1] = 16;\n          writeheader(gfc, gi.table_select[1], 5);\n          writeheader(gfc, gi.subblock_gain[0], 3);\n          writeheader(gfc, gi.subblock_gain[1], 3);\n          writeheader(gfc, gi.subblock_gain[2], 3);\n        } else {\n          writeheader(gfc, 0, 1);\n          if (gi.table_select[0] == 14)\n            gi.table_select[0] = 16;\n          writeheader(gfc, gi.table_select[0], 5);\n          if (gi.table_select[1] == 14)\n            gi.table_select[1] = 16;\n          writeheader(gfc, gi.table_select[1], 5);\n          if (gi.table_select[2] == 14)\n            gi.table_select[2] = 16;\n          writeheader(gfc, gi.table_select[2], 5);\n          assert$5(gi.region0_count >= 0 && gi.region0_count < 16);\n          assert$5(gi.region1_count >= 0 && gi.region1_count < 8);\n          writeheader(gfc, gi.region0_count, 4);\n          writeheader(gfc, gi.region1_count, 3);\n        }\n        writeheader(gfc, gi.scalefac_scale, 1);\n        writeheader(gfc, gi.count1table_select, 1);\n      }\n    }\n    if (gfp.error_protection) {\n      CRC_writeheader(gfc, gfc.header[gfc.h_ptr].buf);\n    }\n    {\n      var old = gfc.h_ptr;\n      assert$5(gfc.header[old].ptr == gfc.sideinfo_len * 8);\n      gfc.h_ptr = old + 1 & LameInternalFlags$1.MAX_HEADER_BUF - 1;\n      gfc.header[gfc.h_ptr].write_timing = gfc.header[old].write_timing + bitsPerFrame;\n      if (gfc.h_ptr == gfc.w_ptr) {\n        System$3.err.println(\"Error: MAX_HEADER_BUF too small in bitstream.c \\n\");\n      }\n    }\n  }\n  function huffman_coder_count1(gfc, gi) {\n    var h2 = Tables$1.ht[gi.count1table_select + 32];\n    var i;\n    var bits = 0;\n    var ix = gi.big_values;\n    var xr = gi.big_values;\n    assert$5(gi.count1table_select < 2);\n    for (i = (gi.count1 - gi.big_values) / 4; i > 0; --i) {\n      var huffbits = 0;\n      var p2 = 0;\n      var v;\n      v = gi.l3_enc[ix + 0];\n      if (v != 0) {\n        p2 += 8;\n        if (gi.xr[xr + 0] < 0)\n          huffbits++;\n      }\n      v = gi.l3_enc[ix + 1];\n      if (v != 0) {\n        p2 += 4;\n        huffbits *= 2;\n        if (gi.xr[xr + 1] < 0)\n          huffbits++;\n      }\n      v = gi.l3_enc[ix + 2];\n      if (v != 0) {\n        p2 += 2;\n        huffbits *= 2;\n        if (gi.xr[xr + 2] < 0)\n          huffbits++;\n      }\n      v = gi.l3_enc[ix + 3];\n      if (v != 0) {\n        p2++;\n        huffbits *= 2;\n        if (gi.xr[xr + 3] < 0)\n          huffbits++;\n      }\n      ix += 4;\n      xr += 4;\n      putbits2(gfc, huffbits + h2.table[p2], h2.hlen[p2]);\n      bits += h2.hlen[p2];\n    }\n    return bits;\n  }\n  function Huffmancode(gfc, tableindex, start2, end, gi) {\n    var h2 = Tables$1.ht[tableindex];\n    var bits = 0;\n    if (tableindex == 0)\n      return bits;\n    for (var i = start2; i < end; i += 2) {\n      var cbits = 0;\n      var xbits = 0;\n      var linbits = h2.xlen;\n      var xlen = h2.xlen;\n      var ext = 0;\n      var x1 = gi.l3_enc[i];\n      var x2 = gi.l3_enc[i + 1];\n      if (x1 != 0) {\n        if (gi.xr[i] < 0)\n          ext++;\n        cbits--;\n      }\n      if (tableindex > 15) {\n        if (x1 > 14) {\n          var linbits_x1 = x1 - 15;\n          assert$5(linbits_x1 <= h2.linmax);\n          ext |= linbits_x1 << 1;\n          xbits = linbits;\n          x1 = 15;\n        }\n        if (x2 > 14) {\n          var linbits_x2 = x2 - 15;\n          assert$5(linbits_x2 <= h2.linmax);\n          ext <<= linbits;\n          ext |= linbits_x2;\n          xbits += linbits;\n          x2 = 15;\n        }\n        xlen = 16;\n      }\n      if (x2 != 0) {\n        ext <<= 1;\n        if (gi.xr[i + 1] < 0)\n          ext++;\n        cbits--;\n      }\n      x1 = x1 * xlen + x2;\n      xbits -= cbits;\n      cbits += h2.hlen[x1];\n      putbits2(gfc, h2.table[x1], cbits);\n      putbits2(gfc, ext, xbits);\n      bits += cbits + xbits;\n    }\n    return bits;\n  }\n  function ShortHuffmancodebits(gfc, gi) {\n    var region1Start = 3 * gfc.scalefac_band.s[3];\n    if (region1Start > gi.big_values)\n      region1Start = gi.big_values;\n    var bits = Huffmancode(gfc, gi.table_select[0], 0, region1Start, gi);\n    bits += Huffmancode(\n      gfc,\n      gi.table_select[1],\n      region1Start,\n      gi.big_values,\n      gi\n    );\n    return bits;\n  }\n  function LongHuffmancodebits(gfc, gi) {\n    var bigvalues, bits;\n    var region1Start, region2Start;\n    bigvalues = gi.big_values;\n    var i = gi.region0_count + 1;\n    assert$5(i < gfc.scalefac_band.l.length);\n    region1Start = gfc.scalefac_band.l[i];\n    i += gi.region1_count + 1;\n    assert$5(i < gfc.scalefac_band.l.length);\n    region2Start = gfc.scalefac_band.l[i];\n    if (region1Start > bigvalues)\n      region1Start = bigvalues;\n    if (region2Start > bigvalues)\n      region2Start = bigvalues;\n    bits = Huffmancode(gfc, gi.table_select[0], 0, region1Start, gi);\n    bits += Huffmancode(gfc, gi.table_select[1], region1Start, region2Start, gi);\n    bits += Huffmancode(gfc, gi.table_select[2], region2Start, bigvalues, gi);\n    return bits;\n  }\n  function writeMainData(gfp) {\n    var gr;\n    var ch;\n    var sfb;\n    var data_bits;\n    var tot_bits = 0;\n    var gfc = gfp.internal_flags;\n    var l3_side = gfc.l3_side;\n    if (gfp.version == 1) {\n      for (gr = 0; gr < 2; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          var gi = l3_side.tt[gr][ch];\n          var slen1 = Takehiro.slen1_tab[gi.scalefac_compress];\n          var slen2 = Takehiro.slen2_tab[gi.scalefac_compress];\n          data_bits = 0;\n          for (sfb = 0; sfb < gi.sfbdivide; sfb++) {\n            if (gi.scalefac[sfb] == -1)\n              continue;\n            putbits2(gfc, gi.scalefac[sfb], slen1);\n            data_bits += slen1;\n          }\n          for (; sfb < gi.sfbmax; sfb++) {\n            if (gi.scalefac[sfb] == -1)\n              continue;\n            putbits2(gfc, gi.scalefac[sfb], slen2);\n            data_bits += slen2;\n          }\n          assert$5(data_bits == gi.part2_length);\n          if (gi.block_type == Encoder.SHORT_TYPE) {\n            data_bits += ShortHuffmancodebits(gfc, gi);\n          } else {\n            data_bits += LongHuffmancodebits(gfc, gi);\n          }\n          data_bits += huffman_coder_count1(gfc, gi);\n          assert$5(data_bits == gi.part2_3_length + gi.part2_length);\n          tot_bits += data_bits;\n        }\n      }\n    } else {\n      gr = 0;\n      for (ch = 0; ch < gfc.channels_out; ch++) {\n        var gi = l3_side.tt[gr][ch];\n        var i;\n        var sfb_partition;\n        var scale_bits = 0;\n        assert$5(gi.sfb_partition_table != null);\n        data_bits = 0;\n        sfb = 0;\n        sfb_partition = 0;\n        if (gi.block_type == Encoder.SHORT_TYPE) {\n          for (; sfb_partition < 4; sfb_partition++) {\n            var sfbs = gi.sfb_partition_table[sfb_partition] / 3;\n            var slen = gi.slen[sfb_partition];\n            for (i = 0; i < sfbs; i++, sfb++) {\n              putbits2(gfc, Math.max(gi.scalefac[sfb * 3 + 0], 0), slen);\n              putbits2(gfc, Math.max(gi.scalefac[sfb * 3 + 1], 0), slen);\n              putbits2(gfc, Math.max(gi.scalefac[sfb * 3 + 2], 0), slen);\n              scale_bits += 3 * slen;\n            }\n          }\n          data_bits += ShortHuffmancodebits(gfc, gi);\n        } else {\n          for (; sfb_partition < 4; sfb_partition++) {\n            var sfbs = gi.sfb_partition_table[sfb_partition];\n            var slen = gi.slen[sfb_partition];\n            for (i = 0; i < sfbs; i++, sfb++) {\n              putbits2(gfc, Math.max(gi.scalefac[sfb], 0), slen);\n              scale_bits += slen;\n            }\n          }\n          data_bits += LongHuffmancodebits(gfc, gi);\n        }\n        data_bits += huffman_coder_count1(gfc, gi);\n        assert$5(data_bits == gi.part2_3_length);\n        assert$5(scale_bits == gi.part2_length);\n        tot_bits += scale_bits + data_bits;\n      }\n    }\n    return tot_bits;\n  }\n  function TotalBytes() {\n    this.total = 0;\n  }\n  function compute_flushbits(gfp, total_bytes_output) {\n    var gfc = gfp.internal_flags;\n    var flushbits, remaining_headers;\n    var bitsPerFrame;\n    var last_ptr, first_ptr;\n    first_ptr = gfc.w_ptr;\n    last_ptr = gfc.h_ptr - 1;\n    if (last_ptr == -1)\n      last_ptr = LameInternalFlags$1.MAX_HEADER_BUF - 1;\n    flushbits = gfc.header[last_ptr].write_timing - totbit;\n    total_bytes_output.total = flushbits;\n    if (flushbits >= 0) {\n      remaining_headers = 1 + last_ptr - first_ptr;\n      if (last_ptr < first_ptr) {\n        remaining_headers = 1 + last_ptr - first_ptr + LameInternalFlags$1.MAX_HEADER_BUF;\n      }\n      flushbits -= remaining_headers * 8 * gfc.sideinfo_len;\n    }\n    bitsPerFrame = self2.getframebits(gfp);\n    flushbits += bitsPerFrame;\n    total_bytes_output.total += bitsPerFrame;\n    if (total_bytes_output.total % 8 != 0) {\n      total_bytes_output.total = 1 + total_bytes_output.total / 8;\n    } else\n      total_bytes_output.total = total_bytes_output.total / 8;\n    total_bytes_output.total += bufByteIdx + 1;\n    if (flushbits < 0) {\n      System$3.err.println(\"strange error flushing buffer ... \\n\");\n    }\n    return flushbits;\n  }\n  this.flush_bitstream = function(gfp) {\n    var gfc = gfp.internal_flags;\n    var l3_side;\n    var flushbits;\n    var last_ptr = gfc.h_ptr - 1;\n    if (last_ptr == -1)\n      last_ptr = LameInternalFlags$1.MAX_HEADER_BUF - 1;\n    l3_side = gfc.l3_side;\n    if ((flushbits = compute_flushbits(gfp, new TotalBytes())) < 0)\n      return;\n    drain_into_ancillary(gfp, flushbits);\n    assert$5(gfc.header[last_ptr].write_timing + this.getframebits(gfp) == totbit);\n    gfc.ResvSize = 0;\n    l3_side.main_data_begin = 0;\n    if (gfc.findReplayGain) {\n      var RadioGain = ga.GetTitleGain(gfc.rgdata);\n      assert$5(NEQ(RadioGain, GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES));\n      gfc.RadioGain = Math.floor(RadioGain * 10 + 0.5) | 0;\n    }\n    if (gfc.findPeakSample) {\n      gfc.noclipGainChange = Math.ceil(Math.log10(gfc.PeakSample / 32767) * 20 * 10) | 0;\n      if (gfc.noclipGainChange > 0) {\n        if (EQ(gfp.scale, 1) || EQ(gfp.scale, 0)) {\n          gfc.noclipScale = Math.floor(32767 / gfc.PeakSample * 100) / 100;\n        } else {\n          gfc.noclipScale = -1;\n        }\n      } else {\n        gfc.noclipScale = -1;\n      }\n    }\n  };\n  this.add_dummy_byte = function(gfp, val, n) {\n    var gfc = gfp.internal_flags;\n    var i;\n    while (n-- > 0) {\n      putbits_noheaders(gfc, val, 8);\n      for (i = 0; i < LameInternalFlags$1.MAX_HEADER_BUF; ++i) {\n        gfc.header[i].write_timing += 8;\n      }\n    }\n  };\n  this.format_bitstream = function(gfp) {\n    var gfc = gfp.internal_flags;\n    var l3_side;\n    l3_side = gfc.l3_side;\n    var bitsPerFrame = this.getframebits(gfp);\n    drain_into_ancillary(gfp, l3_side.resvDrain_pre);\n    encodeSideInfo2(gfp, bitsPerFrame);\n    var bits = 8 * gfc.sideinfo_len;\n    bits += writeMainData(gfp);\n    drain_into_ancillary(gfp, l3_side.resvDrain_post);\n    bits += l3_side.resvDrain_post;\n    l3_side.main_data_begin += (bitsPerFrame - bits) / 8;\n    if (compute_flushbits(gfp, new TotalBytes()) != gfc.ResvSize) {\n      System$3.err.println(\"Internal buffer inconsistency. flushbits <> ResvSize\");\n    }\n    if (l3_side.main_data_begin * 8 != gfc.ResvSize) {\n      System$3.err.printf(\n        \"bit reservoir error: \\nl3_side.main_data_begin: %d \\nResvoir size:             %d \\nresv drain (post)         %d \\nresv drain (pre)          %d \\nheader and sideinfo:      %d \\ndata bits:                %d \\ntotal bits:               %d (remainder: %d) \\nbitsperframe:             %d \\n\",\n        8 * l3_side.main_data_begin,\n        gfc.ResvSize,\n        l3_side.resvDrain_post,\n        l3_side.resvDrain_pre,\n        8 * gfc.sideinfo_len,\n        bits - l3_side.resvDrain_post - 8 * gfc.sideinfo_len,\n        bits,\n        bits % 8,\n        bitsPerFrame\n      );\n      System$3.err.println(\n        \"This is a fatal error.  It has several possible causes:\"\n      );\n      System$3.err.println(\n        \"90%%  LAME compiled with buggy version of gcc using advanced optimizations\"\n      );\n      System$3.err.println(\" 9%%  Your system is overclocked\");\n      System$3.err.println(\" 1%%  bug in LAME encoding library\");\n      gfc.ResvSize = l3_side.main_data_begin * 8;\n    }\n    if (totbit > 1e9) {\n      var i;\n      for (i = 0; i < LameInternalFlags$1.MAX_HEADER_BUF; ++i) {\n        gfc.header[i].write_timing -= totbit;\n      }\n      totbit = 0;\n    }\n    return 0;\n  };\n  this.copy_buffer = function(gfc, buffer, bufferPos, size2, mp3data) {\n    var minimum = bufByteIdx + 1;\n    if (minimum <= 0)\n      return 0;\n    if (size2 != 0 && minimum > size2) {\n      return -1;\n    }\n    System$3.arraycopy(buf, 0, buffer, bufferPos, minimum);\n    bufByteIdx = -1;\n    bufBitIdx = 0;\n    if (mp3data != 0) {\n      var crc = new_int$1(1);\n      crc[0] = gfc.nMusicCRC;\n      vbr.updateMusicCRC(crc, buffer, bufferPos, minimum);\n      gfc.nMusicCRC = crc[0];\n      if (minimum > 0) {\n        gfc.VBR_seek_table.nBytesWritten += minimum;\n      }\n      if (gfc.decode_on_the_fly) {\n        var pcm_buf = new_float_n([2, 1152]);\n        var mp3_in = minimum;\n        var samples_out = -1;\n        var i;\n        while (samples_out != 0) {\n          samples_out = mpg.hip_decode1_unclipped(\n            gfc.hip,\n            buffer,\n            bufferPos,\n            mp3_in,\n            pcm_buf[0],\n            pcm_buf[1]\n          );\n          mp3_in = 0;\n          if (samples_out == -1) {\n            samples_out = 0;\n          }\n          if (samples_out > 0) {\n            if (gfc.findPeakSample) {\n              for (i = 0; i < samples_out; i++) {\n                if (pcm_buf[0][i] > gfc.PeakSample) {\n                  gfc.PeakSample = pcm_buf[0][i];\n                } else if (-pcm_buf[0][i] > gfc.PeakSample) {\n                  gfc.PeakSample = -pcm_buf[0][i];\n                }\n              }\n              if (gfc.channels_out > 1) {\n                for (i = 0; i < samples_out; i++) {\n                  if (pcm_buf[1][i] > gfc.PeakSample) {\n                    gfc.PeakSample = pcm_buf[1][i];\n                  } else if (-pcm_buf[1][i] > gfc.PeakSample) {\n                    gfc.PeakSample = -pcm_buf[1][i];\n                  }\n                }\n              }\n            }\n            if (gfc.findReplayGain) {\n              if (ga.AnalyzeSamples(\n                gfc.rgdata,\n                pcm_buf[0],\n                0,\n                pcm_buf[1],\n                0,\n                samples_out,\n                gfc.channels_out\n              ) == GainAnalysis.GAIN_ANALYSIS_ERROR) {\n                return -6;\n              }\n            }\n          }\n        }\n      }\n    }\n    return minimum;\n  };\n  this.init_bit_stream_w = function(gfc) {\n    buf = new_byte$2(Lame$1.LAME_MAXMP3BUFFER);\n    gfc.h_ptr = gfc.w_ptr = 0;\n    gfc.header[gfc.h_ptr].write_timing = 0;\n    bufByteIdx = -1;\n    bufBitIdx = 0;\n    totbit = 0;\n  };\n}\nvar System$2 = common.System;\nvar VbrMode$3 = common.VbrMode;\nvar ShortBlock$1 = common.ShortBlock;\nvar new_float$2 = common.new_float;\nvar new_int_n = common.new_int_n;\nvar new_short_n = common.new_short_n;\nvar assert$4 = common.assert;\nfunction Lame$1() {\n  var self2 = this;\n  var LAME_MAXALBUMART = 128 * 1024;\n  Lame$1.V9 = 410;\n  Lame$1.V8 = 420;\n  Lame$1.V7 = 430;\n  Lame$1.V6 = 440;\n  Lame$1.V5 = 450;\n  Lame$1.V4 = 460;\n  Lame$1.V3 = 470;\n  Lame$1.V2 = 480;\n  Lame$1.V1 = 490;\n  Lame$1.V0 = 500;\n  Lame$1.R3MIX = 1e3;\n  Lame$1.STANDARD = 1001;\n  Lame$1.EXTREME = 1002;\n  Lame$1.INSANE = 1003;\n  Lame$1.STANDARD_FAST = 1004;\n  Lame$1.EXTREME_FAST = 1005;\n  Lame$1.MEDIUM = 1006;\n  Lame$1.MEDIUM_FAST = 1007;\n  var LAME_MAXMP3BUFFER = 16384 + LAME_MAXALBUMART;\n  Lame$1.LAME_MAXMP3BUFFER = LAME_MAXMP3BUFFER;\n  var ga;\n  var bs;\n  var p2;\n  var qupvt;\n  var qu;\n  var psy = new PsyModel();\n  var vbr;\n  var id3;\n  var mpglib;\n  this.enc = new Encoder();\n  this.setModules = function(_ga, _bs, _p, _qupvt, _qu, _vbr, _ver, _id3, _mpglib) {\n    ga = _ga;\n    bs = _bs;\n    p2 = _p;\n    qupvt = _qupvt;\n    qu = _qu;\n    vbr = _vbr;\n    id3 = _id3;\n    mpglib = _mpglib;\n    this.enc.setModules(bs, psy, qupvt, vbr);\n  };\n  function PSY() {\n    this.mask_adjust = 0;\n    this.mask_adjust_short = 0;\n    this.bo_l_weight = new_float$2(Encoder.SBMAX_l);\n    this.bo_s_weight = new_float$2(Encoder.SBMAX_s);\n  }\n  function LowPassHighPass() {\n    this.lowerlimit = 0;\n  }\n  function BandPass(bitrate, lPass) {\n    this.lowpass = lPass;\n  }\n  var LAME_ID = 4294479419;\n  function lame_init_old(gfp) {\n    var gfc;\n    gfp.class_id = LAME_ID;\n    gfc = gfp.internal_flags = new LameInternalFlags$1();\n    gfp.mode = MPEGMode.NOT_SET;\n    gfp.original = 1;\n    gfp.in_samplerate = 44100;\n    gfp.num_channels = 2;\n    gfp.num_samples = -1;\n    gfp.bWriteVbrTag = true;\n    gfp.quality = -1;\n    gfp.short_blocks = null;\n    gfc.subblock_gain = -1;\n    gfp.lowpassfreq = 0;\n    gfp.highpassfreq = 0;\n    gfp.lowpasswidth = -1;\n    gfp.highpasswidth = -1;\n    gfp.VBR = VbrMode$3.vbr_off;\n    gfp.VBR_q = 4;\n    gfp.ATHcurve = -1;\n    gfp.VBR_mean_bitrate_kbps = 128;\n    gfp.VBR_min_bitrate_kbps = 0;\n    gfp.VBR_max_bitrate_kbps = 0;\n    gfp.VBR_hard_min = 0;\n    gfc.VBR_min_bitrate = 1;\n    gfc.VBR_max_bitrate = 13;\n    gfp.quant_comp = -1;\n    gfp.quant_comp_short = -1;\n    gfp.msfix = -1;\n    gfc.resample_ratio = 1;\n    gfc.OldValue[0] = 180;\n    gfc.OldValue[1] = 180;\n    gfc.CurrentStep[0] = 4;\n    gfc.CurrentStep[1] = 4;\n    gfc.masking_lower = 1;\n    gfc.nsPsy.attackthre = -1;\n    gfc.nsPsy.attackthre_s = -1;\n    gfp.scale = -1;\n    gfp.athaa_type = -1;\n    gfp.ATHtype = -1;\n    gfp.athaa_loudapprox = -1;\n    gfp.athaa_sensitivity = 0;\n    gfp.useTemporal = null;\n    gfp.interChRatio = -1;\n    gfc.mf_samples_to_encode = Encoder.ENCDELAY + Encoder.POSTDELAY;\n    gfp.encoder_padding = 0;\n    gfc.mf_size = Encoder.ENCDELAY - Encoder.MDCTDELAY;\n    gfp.findReplayGain = false;\n    gfp.decode_on_the_fly = false;\n    gfc.decode_on_the_fly = false;\n    gfc.findReplayGain = false;\n    gfc.findPeakSample = false;\n    gfc.RadioGain = 0;\n    gfc.AudiophileGain = 0;\n    gfc.noclipGainChange = 0;\n    gfc.noclipScale = -1;\n    gfp.preset = 0;\n    gfp.write_id3tag_automatic = true;\n    return 0;\n  }\n  this.lame_init = function() {\n    var gfp = new LameGlobalFlags();\n    lame_init_old(gfp);\n    gfp.lame_allocated_gfp = 1;\n    return gfp;\n  };\n  function filter_coef(x) {\n    if (x > 1)\n      return 0;\n    if (x <= 0)\n      return 1;\n    return Math.cos(Math.PI / 2 * x);\n  }\n  this.nearestBitrateFullIndex = function(bitrate) {\n    var full_bitrate_table = [\n      8,\n      16,\n      24,\n      32,\n      40,\n      48,\n      56,\n      64,\n      80,\n      96,\n      112,\n      128,\n      160,\n      192,\n      224,\n      256,\n      320\n    ];\n    var lower_range = 0;\n    var lower_range_kbps = 0;\n    var upper_range = 0;\n    var upper_range_kbps = 0;\n    upper_range_kbps = full_bitrate_table[16];\n    upper_range = 16;\n    lower_range_kbps = full_bitrate_table[16];\n    lower_range = 16;\n    for (var b = 0; b < 16; b++) {\n      if (Math.max(bitrate, full_bitrate_table[b + 1]) != bitrate) {\n        upper_range_kbps = full_bitrate_table[b + 1];\n        upper_range = b + 1;\n        lower_range_kbps = full_bitrate_table[b];\n        lower_range = b;\n        break;\n      }\n    }\n    if (upper_range_kbps - bitrate > bitrate - lower_range_kbps) {\n      return lower_range;\n    }\n    return upper_range;\n  };\n  function optimum_samplefreq(lowpassfreq, input_samplefreq) {\n    var suggested_samplefreq = 44100;\n    if (input_samplefreq >= 48e3)\n      suggested_samplefreq = 48e3;\n    else if (input_samplefreq >= 44100)\n      suggested_samplefreq = 44100;\n    else if (input_samplefreq >= 32e3)\n      suggested_samplefreq = 32e3;\n    else if (input_samplefreq >= 24e3)\n      suggested_samplefreq = 24e3;\n    else if (input_samplefreq >= 22050)\n      suggested_samplefreq = 22050;\n    else if (input_samplefreq >= 16e3)\n      suggested_samplefreq = 16e3;\n    else if (input_samplefreq >= 12e3)\n      suggested_samplefreq = 12e3;\n    else if (input_samplefreq >= 11025)\n      suggested_samplefreq = 11025;\n    else if (input_samplefreq >= 8e3)\n      suggested_samplefreq = 8e3;\n    if (lowpassfreq == -1)\n      return suggested_samplefreq;\n    if (lowpassfreq <= 15960)\n      suggested_samplefreq = 44100;\n    if (lowpassfreq <= 15250)\n      suggested_samplefreq = 32e3;\n    if (lowpassfreq <= 11220)\n      suggested_samplefreq = 24e3;\n    if (lowpassfreq <= 9970)\n      suggested_samplefreq = 22050;\n    if (lowpassfreq <= 7230)\n      suggested_samplefreq = 16e3;\n    if (lowpassfreq <= 5420)\n      suggested_samplefreq = 12e3;\n    if (lowpassfreq <= 4510)\n      suggested_samplefreq = 11025;\n    if (lowpassfreq <= 3970)\n      suggested_samplefreq = 8e3;\n    if (input_samplefreq < suggested_samplefreq) {\n      if (input_samplefreq > 44100) {\n        return 48e3;\n      }\n      if (input_samplefreq > 32e3) {\n        return 44100;\n      }\n      if (input_samplefreq > 24e3) {\n        return 32e3;\n      }\n      if (input_samplefreq > 22050) {\n        return 24e3;\n      }\n      if (input_samplefreq > 16e3) {\n        return 22050;\n      }\n      if (input_samplefreq > 12e3) {\n        return 16e3;\n      }\n      if (input_samplefreq > 11025) {\n        return 12e3;\n      }\n      if (input_samplefreq > 8e3) {\n        return 11025;\n      }\n      return 8e3;\n    }\n    return suggested_samplefreq;\n  }\n  function SmpFrqIndex(sample_freq, gpf) {\n    switch (sample_freq) {\n      case 44100:\n        gpf.version = 1;\n        return 0;\n      case 48e3:\n        gpf.version = 1;\n        return 1;\n      case 32e3:\n        gpf.version = 1;\n        return 2;\n      case 22050:\n        gpf.version = 0;\n        return 0;\n      case 24e3:\n        gpf.version = 0;\n        return 1;\n      case 16e3:\n        gpf.version = 0;\n        return 2;\n      case 11025:\n        gpf.version = 0;\n        return 0;\n      case 12e3:\n        gpf.version = 0;\n        return 1;\n      case 8e3:\n        gpf.version = 0;\n        return 2;\n      default:\n        gpf.version = 0;\n        return -1;\n    }\n  }\n  function FindNearestBitrate(bRate, version2, samplerate) {\n    if (samplerate < 16e3)\n      version2 = 2;\n    var bitrate = Tables$1.bitrate_table[version2][1];\n    for (var i = 2; i <= 14; i++) {\n      if (Tables$1.bitrate_table[version2][i] > 0) {\n        if (Math.abs(Tables$1.bitrate_table[version2][i] - bRate) < Math.abs(bitrate - bRate)) {\n          bitrate = Tables$1.bitrate_table[version2][i];\n        }\n      }\n    }\n    return bitrate;\n  }\n  function BitrateIndex(bRate, version2, samplerate) {\n    if (samplerate < 16e3)\n      version2 = 2;\n    for (var i = 0; i <= 14; i++) {\n      if (Tables$1.bitrate_table[version2][i] > 0) {\n        if (Tables$1.bitrate_table[version2][i] == bRate) {\n          return i;\n        }\n      }\n    }\n    return -1;\n  }\n  function optimum_bandwidth(lh, bitrate) {\n    var freq_map = [\n      new BandPass(8, 2e3),\n      new BandPass(16, 3700),\n      new BandPass(24, 3900),\n      new BandPass(32, 5500),\n      new BandPass(40, 7e3),\n      new BandPass(48, 7500),\n      new BandPass(56, 1e4),\n      new BandPass(64, 11e3),\n      new BandPass(80, 13500),\n      new BandPass(96, 15100),\n      new BandPass(112, 15600),\n      new BandPass(128, 17e3),\n      new BandPass(160, 17500),\n      new BandPass(192, 18600),\n      new BandPass(224, 19400),\n      new BandPass(256, 19700),\n      new BandPass(320, 20500)\n    ];\n    var table_index = self2.nearestBitrateFullIndex(bitrate);\n    lh.lowerlimit = freq_map[table_index].lowpass;\n  }\n  function lame_init_params_ppflt(gfp) {\n    var gfc = gfp.internal_flags;\n    var lowpass_band = 32;\n    var highpass_band = -1;\n    if (gfc.lowpass1 > 0) {\n      var minband = 999;\n      for (var band = 0; band <= 31; band++) {\n        var freq = band / 31;\n        if (freq >= gfc.lowpass2) {\n          lowpass_band = Math.min(lowpass_band, band);\n        }\n        if (gfc.lowpass1 < freq && freq < gfc.lowpass2) {\n          minband = Math.min(minband, band);\n        }\n      }\n      if (minband == 999) {\n        gfc.lowpass1 = (lowpass_band - 0.75) / 31;\n      } else {\n        gfc.lowpass1 = (minband - 0.75) / 31;\n      }\n      gfc.lowpass2 = lowpass_band / 31;\n    }\n    if (gfc.highpass2 > 0) {\n      if (gfc.highpass2 < 0.9 * (0.75 / 31)) {\n        gfc.highpass1 = 0;\n        gfc.highpass2 = 0;\n        System$2.err.println(\n          \"Warning: highpass filter disabled.  highpass frequency too small\\n\"\n        );\n      }\n    }\n    if (gfc.highpass2 > 0) {\n      var maxband = -1;\n      for (var band = 0; band <= 31; band++) {\n        var freq = band / 31;\n        if (freq <= gfc.highpass1) {\n          highpass_band = Math.max(highpass_band, band);\n        }\n        if (gfc.highpass1 < freq && freq < gfc.highpass2) {\n          maxband = Math.max(maxband, band);\n        }\n      }\n      gfc.highpass1 = highpass_band / 31;\n      if (maxband == -1) {\n        gfc.highpass2 = (highpass_band + 0.75) / 31;\n      } else {\n        gfc.highpass2 = (maxband + 0.75) / 31;\n      }\n    }\n    for (var band = 0; band < 32; band++) {\n      var fc1, fc2;\n      var freq = band / 31;\n      if (gfc.highpass2 > gfc.highpass1) {\n        fc1 = filter_coef(\n          (gfc.highpass2 - freq) / (gfc.highpass2 - gfc.highpass1 + 1e-20)\n        );\n      } else {\n        fc1 = 1;\n      }\n      if (gfc.lowpass2 > gfc.lowpass1) {\n        fc2 = filter_coef(\n          (freq - gfc.lowpass1) / (gfc.lowpass2 - gfc.lowpass1 + 1e-20)\n        );\n      } else {\n        fc2 = 1;\n      }\n      gfc.amp_filter[band] = fc1 * fc2;\n    }\n  }\n  function lame_init_qval(gfp) {\n    var gfc = gfp.internal_flags;\n    switch (gfp.quality) {\n      default:\n      case 9:\n        gfc.psymodel = 0;\n        gfc.noise_shaping = 0;\n        gfc.noise_shaping_amp = 0;\n        gfc.noise_shaping_stop = 0;\n        gfc.use_best_huffman = 0;\n        gfc.full_outer_loop = 0;\n        break;\n      case 8:\n        gfp.quality = 7;\n      case 7:\n        gfc.psymodel = 1;\n        gfc.noise_shaping = 0;\n        gfc.noise_shaping_amp = 0;\n        gfc.noise_shaping_stop = 0;\n        gfc.use_best_huffman = 0;\n        gfc.full_outer_loop = 0;\n        break;\n      case 6:\n        gfc.psymodel = 1;\n        if (gfc.noise_shaping == 0)\n          gfc.noise_shaping = 1;\n        gfc.noise_shaping_amp = 0;\n        gfc.noise_shaping_stop = 0;\n        if (gfc.subblock_gain == -1)\n          gfc.subblock_gain = 1;\n        gfc.use_best_huffman = 0;\n        gfc.full_outer_loop = 0;\n        break;\n      case 5:\n        gfc.psymodel = 1;\n        if (gfc.noise_shaping == 0)\n          gfc.noise_shaping = 1;\n        gfc.noise_shaping_amp = 0;\n        gfc.noise_shaping_stop = 0;\n        if (gfc.subblock_gain == -1)\n          gfc.subblock_gain = 1;\n        gfc.use_best_huffman = 0;\n        gfc.full_outer_loop = 0;\n        break;\n      case 4:\n        gfc.psymodel = 1;\n        if (gfc.noise_shaping == 0)\n          gfc.noise_shaping = 1;\n        gfc.noise_shaping_amp = 0;\n        gfc.noise_shaping_stop = 0;\n        if (gfc.subblock_gain == -1)\n          gfc.subblock_gain = 1;\n        gfc.use_best_huffman = 1;\n        gfc.full_outer_loop = 0;\n        break;\n      case 3:\n        gfc.psymodel = 1;\n        if (gfc.noise_shaping == 0)\n          gfc.noise_shaping = 1;\n        gfc.noise_shaping_amp = 1;\n        gfc.noise_shaping_stop = 1;\n        if (gfc.subblock_gain == -1)\n          gfc.subblock_gain = 1;\n        gfc.use_best_huffman = 1;\n        gfc.full_outer_loop = 0;\n        break;\n      case 2:\n        gfc.psymodel = 1;\n        if (gfc.noise_shaping == 0)\n          gfc.noise_shaping = 1;\n        if (gfc.substep_shaping == 0)\n          gfc.substep_shaping = 2;\n        gfc.noise_shaping_amp = 1;\n        gfc.noise_shaping_stop = 1;\n        if (gfc.subblock_gain == -1)\n          gfc.subblock_gain = 1;\n        gfc.use_best_huffman = 1;\n        gfc.full_outer_loop = 0;\n        break;\n      case 1:\n        gfc.psymodel = 1;\n        if (gfc.noise_shaping == 0)\n          gfc.noise_shaping = 1;\n        if (gfc.substep_shaping == 0)\n          gfc.substep_shaping = 2;\n        gfc.noise_shaping_amp = 2;\n        gfc.noise_shaping_stop = 1;\n        if (gfc.subblock_gain == -1)\n          gfc.subblock_gain = 1;\n        gfc.use_best_huffman = 1;\n        gfc.full_outer_loop = 0;\n        break;\n      case 0:\n        gfc.psymodel = 1;\n        if (gfc.noise_shaping == 0)\n          gfc.noise_shaping = 1;\n        if (gfc.substep_shaping == 0)\n          gfc.substep_shaping = 2;\n        gfc.noise_shaping_amp = 2;\n        gfc.noise_shaping_stop = 1;\n        if (gfc.subblock_gain == -1)\n          gfc.subblock_gain = 1;\n        gfc.use_best_huffman = 1;\n        gfc.full_outer_loop = 0;\n        break;\n    }\n  }\n  function lame_init_bitstream(gfp) {\n    var gfc = gfp.internal_flags;\n    gfp.frameNum = 0;\n    if (gfp.write_id3tag_automatic) {\n      id3.id3tag_write_v2(gfp);\n    }\n    gfc.bitrate_stereoMode_Hist = new_int_n([16, 4 + 1]);\n    gfc.bitrate_blockType_Hist = new_int_n([16, 4 + 1 + 1]);\n    gfc.PeakSample = 0;\n    if (gfp.bWriteVbrTag)\n      vbr.InitVbrTag(gfp);\n  }\n  this.lame_init_params = function(gfp) {\n    var gfc = gfp.internal_flags;\n    gfc.Class_ID = 0;\n    if (gfc.ATH == null)\n      gfc.ATH = new ATH();\n    if (gfc.PSY == null)\n      gfc.PSY = new PSY();\n    if (gfc.rgdata == null)\n      gfc.rgdata = new ReplayGain();\n    gfc.channels_in = gfp.num_channels;\n    if (gfc.channels_in == 1)\n      gfp.mode = MPEGMode.MONO;\n    gfc.channels_out = gfp.mode == MPEGMode.MONO ? 1 : 2;\n    gfc.mode_ext = Encoder.MPG_MD_MS_LR;\n    if (gfp.mode == MPEGMode.MONO)\n      gfp.force_ms = false;\n    if (gfp.VBR == VbrMode$3.vbr_off && gfp.VBR_mean_bitrate_kbps != 128 && gfp.brate == 0) {\n      gfp.brate = gfp.VBR_mean_bitrate_kbps;\n    }\n    if (gfp.VBR == VbrMode$3.vbr_off || gfp.VBR == VbrMode$3.vbr_mtrh || gfp.VBR == VbrMode$3.vbr_mt)\n      ;\n    else {\n      gfp.free_format = false;\n    }\n    if (gfp.VBR == VbrMode$3.vbr_off && gfp.brate == 0) {\n      if (BitStream$1.EQ(gfp.compression_ratio, 0))\n        gfp.compression_ratio = 11.025;\n    }\n    if (gfp.VBR == VbrMode$3.vbr_off && gfp.compression_ratio > 0) {\n      if (gfp.out_samplerate == 0) {\n        gfp.out_samplerate = map2MP3Frequency(int(0.97 * gfp.in_samplerate));\n      }\n      gfp.brate = 0 | gfp.out_samplerate * 16 * gfc.channels_out / (1e3 * gfp.compression_ratio);\n      gfc.samplerate_index = SmpFrqIndex(gfp.out_samplerate, gfp);\n      if (!gfp.free_format) {\n        gfp.brate = FindNearestBitrate(\n          gfp.brate,\n          gfp.version,\n          gfp.out_samplerate\n        );\n      }\n    }\n    if (gfp.out_samplerate != 0) {\n      if (gfp.out_samplerate < 16e3) {\n        gfp.VBR_mean_bitrate_kbps = Math.max(gfp.VBR_mean_bitrate_kbps, 8);\n        gfp.VBR_mean_bitrate_kbps = Math.min(gfp.VBR_mean_bitrate_kbps, 64);\n      } else if (gfp.out_samplerate < 32e3) {\n        gfp.VBR_mean_bitrate_kbps = Math.max(gfp.VBR_mean_bitrate_kbps, 8);\n        gfp.VBR_mean_bitrate_kbps = Math.min(gfp.VBR_mean_bitrate_kbps, 160);\n      } else {\n        gfp.VBR_mean_bitrate_kbps = Math.max(gfp.VBR_mean_bitrate_kbps, 32);\n        gfp.VBR_mean_bitrate_kbps = Math.min(gfp.VBR_mean_bitrate_kbps, 320);\n      }\n    }\n    if (gfp.lowpassfreq == 0) {\n      var lowpass = 16e3;\n      switch (gfp.VBR) {\n        case VbrMode$3.vbr_off: {\n          var lh = new LowPassHighPass();\n          optimum_bandwidth(lh, gfp.brate);\n          lowpass = lh.lowerlimit;\n          break;\n        }\n        case VbrMode$3.vbr_abr: {\n          var lh = new LowPassHighPass();\n          optimum_bandwidth(lh, gfp.VBR_mean_bitrate_kbps);\n          lowpass = lh.lowerlimit;\n          break;\n        }\n        case VbrMode$3.vbr_rh: {\n          var x = [\n            19500,\n            19e3,\n            18600,\n            18e3,\n            17500,\n            16e3,\n            15600,\n            14900,\n            12500,\n            1e4,\n            3950\n          ];\n          if (gfp.VBR_q >= 0 && gfp.VBR_q <= 9) {\n            var a = x[gfp.VBR_q];\n            var b = x[gfp.VBR_q + 1];\n            var m = gfp.VBR_q_frac;\n            lowpass = linear_int(a, b, m);\n          } else {\n            lowpass = 19500;\n          }\n          break;\n        }\n        default: {\n          var x = [\n            19500,\n            19e3,\n            18500,\n            18e3,\n            17500,\n            16500,\n            15500,\n            14500,\n            12500,\n            9500,\n            3950\n          ];\n          if (gfp.VBR_q >= 0 && gfp.VBR_q <= 9) {\n            var a = x[gfp.VBR_q];\n            var b = x[gfp.VBR_q + 1];\n            var m = gfp.VBR_q_frac;\n            lowpass = linear_int(a, b, m);\n          } else {\n            lowpass = 19500;\n          }\n        }\n      }\n      if (gfp.mode == MPEGMode.MONO && (gfp.VBR == VbrMode$3.vbr_off || gfp.VBR == VbrMode$3.vbr_abr)) {\n        lowpass *= 1.5;\n      }\n      gfp.lowpassfreq = lowpass | 0;\n    }\n    if (gfp.out_samplerate == 0) {\n      if (2 * gfp.lowpassfreq > gfp.in_samplerate) {\n        gfp.lowpassfreq = gfp.in_samplerate / 2;\n      }\n      gfp.out_samplerate = optimum_samplefreq(\n        gfp.lowpassfreq | 0,\n        gfp.in_samplerate\n      );\n    }\n    gfp.lowpassfreq = Math.min(20500, gfp.lowpassfreq);\n    gfp.lowpassfreq = Math.min(gfp.out_samplerate / 2, gfp.lowpassfreq);\n    if (gfp.VBR == VbrMode$3.vbr_off) {\n      gfp.compression_ratio = gfp.out_samplerate * 16 * gfc.channels_out / (1e3 * gfp.brate);\n    }\n    if (gfp.VBR == VbrMode$3.vbr_abr) {\n      gfp.compression_ratio = gfp.out_samplerate * 16 * gfc.channels_out / (1e3 * gfp.VBR_mean_bitrate_kbps);\n    }\n    if (!gfp.bWriteVbrTag) {\n      gfp.findReplayGain = false;\n      gfp.decode_on_the_fly = false;\n      gfc.findPeakSample = false;\n    }\n    gfc.findReplayGain = gfp.findReplayGain;\n    gfc.decode_on_the_fly = gfp.decode_on_the_fly;\n    if (gfc.decode_on_the_fly)\n      gfc.findPeakSample = true;\n    if (gfc.findReplayGain) {\n      if (ga.InitGainAnalysis(gfc.rgdata, gfp.out_samplerate) == GainAnalysis.INIT_GAIN_ANALYSIS_ERROR) {\n        gfp.internal_flags = null;\n        return -6;\n      }\n    }\n    if (gfc.decode_on_the_fly && !gfp.decode_only) {\n      if (gfc.hip != null) {\n        mpglib.hip_decode_exit(gfc.hip);\n      }\n      gfc.hip = mpglib.hip_decode_init();\n    }\n    gfc.mode_gr = gfp.out_samplerate <= 24e3 ? 1 : 2;\n    gfp.framesize = 576 * gfc.mode_gr;\n    gfp.encoder_delay = Encoder.ENCDELAY;\n    gfc.resample_ratio = gfp.in_samplerate / gfp.out_samplerate;\n    switch (gfp.VBR) {\n      case VbrMode$3.vbr_mt:\n      case VbrMode$3.vbr_rh:\n      case VbrMode$3.vbr_mtrh:\n        {\n          var cmp = [5.7, 6.5, 7.3, 8.2, 10, 11.9, 13, 14, 15, 16.5];\n          gfp.compression_ratio = cmp[gfp.VBR_q];\n        }\n        break;\n      case VbrMode$3.vbr_abr:\n        gfp.compression_ratio = gfp.out_samplerate * 16 * gfc.channels_out / (1e3 * gfp.VBR_mean_bitrate_kbps);\n        break;\n      default:\n        gfp.compression_ratio = gfp.out_samplerate * 16 * gfc.channels_out / (1e3 * gfp.brate);\n        break;\n    }\n    if (gfp.mode == MPEGMode.NOT_SET) {\n      gfp.mode = MPEGMode.JOINT_STEREO;\n    }\n    if (gfp.highpassfreq > 0) {\n      gfc.highpass1 = 2 * gfp.highpassfreq;\n      if (gfp.highpasswidth >= 0) {\n        gfc.highpass2 = 2 * (gfp.highpassfreq + gfp.highpasswidth);\n      } else {\n        gfc.highpass2 = (1 + 0) * 2 * gfp.highpassfreq;\n      }\n      gfc.highpass1 /= gfp.out_samplerate;\n      gfc.highpass2 /= gfp.out_samplerate;\n    } else {\n      gfc.highpass1 = 0;\n      gfc.highpass2 = 0;\n    }\n    if (gfp.lowpassfreq > 0) {\n      gfc.lowpass2 = 2 * gfp.lowpassfreq;\n      if (gfp.lowpasswidth >= 0) {\n        gfc.lowpass1 = 2 * (gfp.lowpassfreq - gfp.lowpasswidth);\n        if (gfc.lowpass1 < 0)\n          gfc.lowpass1 = 0;\n      } else {\n        gfc.lowpass1 = (1 - 0) * 2 * gfp.lowpassfreq;\n      }\n      gfc.lowpass1 /= gfp.out_samplerate;\n      gfc.lowpass2 /= gfp.out_samplerate;\n    } else {\n      gfc.lowpass1 = 0;\n      gfc.lowpass2 = 0;\n    }\n    lame_init_params_ppflt(gfp);\n    gfc.samplerate_index = SmpFrqIndex(gfp.out_samplerate, gfp);\n    if (gfc.samplerate_index < 0) {\n      gfp.internal_flags = null;\n      return -1;\n    }\n    if (gfp.VBR == VbrMode$3.vbr_off) {\n      if (gfp.free_format) {\n        gfc.bitrate_index = 0;\n      } else {\n        gfp.brate = FindNearestBitrate(\n          gfp.brate,\n          gfp.version,\n          gfp.out_samplerate\n        );\n        gfc.bitrate_index = BitrateIndex(\n          gfp.brate,\n          gfp.version,\n          gfp.out_samplerate\n        );\n        if (gfc.bitrate_index <= 0) {\n          gfp.internal_flags = null;\n          return -1;\n        }\n      }\n    } else {\n      gfc.bitrate_index = 1;\n    }\n    if (gfp.analysis)\n      gfp.bWriteVbrTag = false;\n    if (gfc.pinfo != null)\n      gfp.bWriteVbrTag = false;\n    bs.init_bit_stream_w(gfc);\n    var j = gfc.samplerate_index + 3 * gfp.version + 6 * (gfp.out_samplerate < 16e3 ? 1 : 0);\n    for (var i = 0; i < Encoder.SBMAX_l + 1; i++) {\n      gfc.scalefac_band.l[i] = qupvt.sfBandIndex[j].l[i];\n    }\n    for (var i = 0; i < Encoder.PSFB21 + 1; i++) {\n      var size2 = (gfc.scalefac_band.l[22] - gfc.scalefac_band.l[21]) / Encoder.PSFB21;\n      var start2 = gfc.scalefac_band.l[21] + i * size2;\n      gfc.scalefac_band.psfb21[i] = start2;\n    }\n    gfc.scalefac_band.psfb21[Encoder.PSFB21] = 576;\n    for (var i = 0; i < Encoder.SBMAX_s + 1; i++) {\n      gfc.scalefac_band.s[i] = qupvt.sfBandIndex[j].s[i];\n    }\n    for (var i = 0; i < Encoder.PSFB12 + 1; i++) {\n      var size2 = (gfc.scalefac_band.s[13] - gfc.scalefac_band.s[12]) / Encoder.PSFB12;\n      var start2 = gfc.scalefac_band.s[12] + i * size2;\n      gfc.scalefac_band.psfb12[i] = start2;\n    }\n    gfc.scalefac_band.psfb12[Encoder.PSFB12] = 192;\n    if (gfp.version == 1) {\n      gfc.sideinfo_len = gfc.channels_out == 1 ? 4 + 17 : 4 + 32;\n    } else\n      gfc.sideinfo_len = gfc.channels_out == 1 ? 4 + 9 : 4 + 17;\n    if (gfp.error_protection)\n      gfc.sideinfo_len += 2;\n    lame_init_bitstream(gfp);\n    gfc.Class_ID = LAME_ID;\n    {\n      var k;\n      for (k = 0; k < 19; k++) {\n        gfc.nsPsy.pefirbuf[k] = 700 * gfc.mode_gr * gfc.channels_out;\n      }\n      if (gfp.ATHtype == -1)\n        gfp.ATHtype = 4;\n    }\n    assert$4(gfp.VBR_q <= 9);\n    assert$4(gfp.VBR_q >= 0);\n    switch (gfp.VBR) {\n      case VbrMode$3.vbr_mt:\n        gfp.VBR = VbrMode$3.vbr_mtrh;\n      case VbrMode$3.vbr_mtrh: {\n        if (gfp.useTemporal == null) {\n          gfp.useTemporal = false;\n        }\n        p2.apply_preset(gfp, 500 - gfp.VBR_q * 10, 0);\n        if (gfp.quality < 0)\n          gfp.quality = LAME_DEFAULT_QUALITY;\n        if (gfp.quality < 5)\n          gfp.quality = 0;\n        if (gfp.quality > 5)\n          gfp.quality = 5;\n        gfc.PSY.mask_adjust = gfp.maskingadjust;\n        gfc.PSY.mask_adjust_short = gfp.maskingadjust_short;\n        if (gfp.experimentalY)\n          gfc.sfb21_extra = false;\n        else\n          gfc.sfb21_extra = gfp.out_samplerate > 44e3;\n        gfc.iteration_loop = new VBRNewIterationLoop(qu);\n        break;\n      }\n      case VbrMode$3.vbr_rh: {\n        p2.apply_preset(gfp, 500 - gfp.VBR_q * 10, 0);\n        gfc.PSY.mask_adjust = gfp.maskingadjust;\n        gfc.PSY.mask_adjust_short = gfp.maskingadjust_short;\n        if (gfp.experimentalY)\n          gfc.sfb21_extra = false;\n        else\n          gfc.sfb21_extra = gfp.out_samplerate > 44e3;\n        if (gfp.quality > 6)\n          gfp.quality = 6;\n        if (gfp.quality < 0)\n          gfp.quality = LAME_DEFAULT_QUALITY;\n        gfc.iteration_loop = new VBROldIterationLoop(qu);\n        break;\n      }\n      default: {\n        var vbrmode;\n        gfc.sfb21_extra = false;\n        if (gfp.quality < 0)\n          gfp.quality = LAME_DEFAULT_QUALITY;\n        vbrmode = gfp.VBR;\n        if (vbrmode == VbrMode$3.vbr_off)\n          gfp.VBR_mean_bitrate_kbps = gfp.brate;\n        p2.apply_preset(gfp, gfp.VBR_mean_bitrate_kbps, 0);\n        gfp.VBR = vbrmode;\n        gfc.PSY.mask_adjust = gfp.maskingadjust;\n        gfc.PSY.mask_adjust_short = gfp.maskingadjust_short;\n        if (vbrmode == VbrMode$3.vbr_off) {\n          gfc.iteration_loop = new CBRNewIterationLoop(qu);\n        } else {\n          gfc.iteration_loop = new ABRIterationLoop(qu);\n        }\n        break;\n      }\n    }\n    assert$4(gfp.scale >= 0);\n    if (gfp.VBR != VbrMode$3.vbr_off) {\n      gfc.VBR_min_bitrate = 1;\n      gfc.VBR_max_bitrate = 14;\n      if (gfp.out_samplerate < 16e3)\n        gfc.VBR_max_bitrate = 8;\n      if (gfp.VBR_min_bitrate_kbps != 0) {\n        gfp.VBR_min_bitrate_kbps = FindNearestBitrate(\n          gfp.VBR_min_bitrate_kbps,\n          gfp.version,\n          gfp.out_samplerate\n        );\n        gfc.VBR_min_bitrate = BitrateIndex(\n          gfp.VBR_min_bitrate_kbps,\n          gfp.version,\n          gfp.out_samplerate\n        );\n        if (gfc.VBR_min_bitrate < 0)\n          return -1;\n      }\n      if (gfp.VBR_max_bitrate_kbps != 0) {\n        gfp.VBR_max_bitrate_kbps = FindNearestBitrate(\n          gfp.VBR_max_bitrate_kbps,\n          gfp.version,\n          gfp.out_samplerate\n        );\n        gfc.VBR_max_bitrate = BitrateIndex(\n          gfp.VBR_max_bitrate_kbps,\n          gfp.version,\n          gfp.out_samplerate\n        );\n        if (gfc.VBR_max_bitrate < 0)\n          return -1;\n      }\n      gfp.VBR_min_bitrate_kbps = Tables$1.bitrate_table[gfp.version][gfc.VBR_min_bitrate];\n      gfp.VBR_max_bitrate_kbps = Tables$1.bitrate_table[gfp.version][gfc.VBR_max_bitrate];\n      gfp.VBR_mean_bitrate_kbps = Math.min(\n        Tables$1.bitrate_table[gfp.version][gfc.VBR_max_bitrate],\n        gfp.VBR_mean_bitrate_kbps\n      );\n      gfp.VBR_mean_bitrate_kbps = Math.max(\n        Tables$1.bitrate_table[gfp.version][gfc.VBR_min_bitrate],\n        gfp.VBR_mean_bitrate_kbps\n      );\n    }\n    if (gfp.tune) {\n      gfc.PSY.mask_adjust += gfp.tune_value_a;\n      gfc.PSY.mask_adjust_short += gfp.tune_value_a;\n    }\n    lame_init_qval(gfp);\n    assert$4(gfp.scale >= 0);\n    if (gfp.athaa_type < 0)\n      gfc.ATH.useAdjust = 3;\n    else\n      gfc.ATH.useAdjust = gfp.athaa_type;\n    gfc.ATH.aaSensitivityP = Math.pow(10, gfp.athaa_sensitivity / -10);\n    if (gfp.short_blocks == null) {\n      gfp.short_blocks = ShortBlock$1.short_block_allowed;\n    }\n    if (gfp.short_blocks == ShortBlock$1.short_block_allowed && (gfp.mode == MPEGMode.JOINT_STEREO || gfp.mode == MPEGMode.STEREO)) {\n      gfp.short_blocks = ShortBlock$1.short_block_coupled;\n    }\n    if (gfp.quant_comp < 0)\n      gfp.quant_comp = 1;\n    if (gfp.quant_comp_short < 0)\n      gfp.quant_comp_short = 0;\n    if (gfp.msfix < 0)\n      gfp.msfix = 0;\n    gfp.exp_nspsytune = gfp.exp_nspsytune | 1;\n    if (gfp.internal_flags.nsPsy.attackthre < 0) {\n      gfp.internal_flags.nsPsy.attackthre = PsyModel.NSATTACKTHRE;\n    }\n    if (gfp.internal_flags.nsPsy.attackthre_s < 0) {\n      gfp.internal_flags.nsPsy.attackthre_s = PsyModel.NSATTACKTHRE_S;\n    }\n    assert$4(gfp.scale >= 0);\n    if (gfp.scale < 0)\n      gfp.scale = 1;\n    if (gfp.ATHtype < 0)\n      gfp.ATHtype = 4;\n    if (gfp.ATHcurve < 0)\n      gfp.ATHcurve = 4;\n    if (gfp.athaa_loudapprox < 0)\n      gfp.athaa_loudapprox = 2;\n    if (gfp.interChRatio < 0)\n      gfp.interChRatio = 0;\n    if (gfp.useTemporal == null)\n      gfp.useTemporal = true;\n    gfc.slot_lag = gfc.frac_SpF = 0;\n    if (gfp.VBR == VbrMode$3.vbr_off) {\n      gfc.slot_lag = gfc.frac_SpF = (gfp.version + 1) * 72e3 * gfp.brate % gfp.out_samplerate | 0;\n    }\n    qupvt.iteration_init(gfp);\n    psy.psymodel_init(gfp);\n    assert$4(gfp.scale >= 0);\n    return 0;\n  };\n  function update_inbuffer_size(gfc, nsamples) {\n    if (gfc.in_buffer_0 == null || gfc.in_buffer_nsamples < nsamples) {\n      gfc.in_buffer_0 = new_float$2(nsamples);\n      gfc.in_buffer_1 = new_float$2(nsamples);\n      gfc.in_buffer_nsamples = nsamples;\n    }\n  }\n  this.lame_encode_flush = function(gfp, mp3buffer, mp3bufferPos, mp3buffer_size) {\n    var gfc = gfp.internal_flags;\n    var buffer = new_short_n([2, 1152]);\n    var imp3 = 0;\n    var mp3count;\n    var mp3buffer_size_remaining;\n    var end_padding;\n    var frames_left;\n    var samples_to_encode = gfc.mf_samples_to_encode - Encoder.POSTDELAY;\n    var mf_needed = calcNeeded(gfp);\n    if (gfc.mf_samples_to_encode < 1) {\n      return 0;\n    }\n    mp3count = 0;\n    if (gfp.in_samplerate != gfp.out_samplerate) {\n      samples_to_encode += 16 * gfp.out_samplerate / gfp.in_samplerate;\n    }\n    end_padding = gfp.framesize - samples_to_encode % gfp.framesize;\n    if (end_padding < 576)\n      end_padding += gfp.framesize;\n    gfp.encoder_padding = end_padding;\n    frames_left = (samples_to_encode + end_padding) / gfp.framesize;\n    while (frames_left > 0 && imp3 >= 0) {\n      var bunch = mf_needed - gfc.mf_size;\n      var frame_num = gfp.frameNum;\n      bunch *= gfp.in_samplerate;\n      bunch /= gfp.out_samplerate;\n      if (bunch > 1152)\n        bunch = 1152;\n      if (bunch < 1)\n        bunch = 1;\n      mp3buffer_size_remaining = mp3buffer_size - mp3count;\n      if (mp3buffer_size == 0)\n        mp3buffer_size_remaining = 0;\n      imp3 = this.lame_encode_buffer(\n        gfp,\n        buffer[0],\n        buffer[1],\n        bunch,\n        mp3buffer,\n        mp3bufferPos,\n        mp3buffer_size_remaining\n      );\n      mp3bufferPos += imp3;\n      mp3count += imp3;\n      frames_left -= frame_num != gfp.frameNum ? 1 : 0;\n    }\n    gfc.mf_samples_to_encode = 0;\n    if (imp3 < 0) {\n      return imp3;\n    }\n    mp3buffer_size_remaining = mp3buffer_size - mp3count;\n    if (mp3buffer_size == 0)\n      mp3buffer_size_remaining = 0;\n    bs.flush_bitstream(gfp);\n    imp3 = bs.copy_buffer(\n      gfc,\n      mp3buffer,\n      mp3bufferPos,\n      mp3buffer_size_remaining,\n      1\n    );\n    if (imp3 < 0) {\n      return imp3;\n    }\n    mp3bufferPos += imp3;\n    mp3count += imp3;\n    mp3buffer_size_remaining = mp3buffer_size - mp3count;\n    if (mp3buffer_size == 0)\n      mp3buffer_size_remaining = 0;\n    if (gfp.write_id3tag_automatic) {\n      id3.id3tag_write_v1(gfp);\n      imp3 = bs.copy_buffer(\n        gfc,\n        mp3buffer,\n        mp3bufferPos,\n        mp3buffer_size_remaining,\n        0\n      );\n      if (imp3 < 0) {\n        return imp3;\n      }\n      mp3count += imp3;\n    }\n    return mp3count;\n  };\n  this.lame_encode_buffer = function(gfp, buffer_l, buffer_r, nsamples, mp3buf, mp3bufPos, mp3buf_size) {\n    var gfc = gfp.internal_flags;\n    var in_buffer = [null, null];\n    if (gfc.Class_ID != LAME_ID)\n      return -3;\n    if (nsamples == 0)\n      return 0;\n    update_inbuffer_size(gfc, nsamples);\n    in_buffer[0] = gfc.in_buffer_0;\n    in_buffer[1] = gfc.in_buffer_1;\n    for (var i = 0; i < nsamples; i++) {\n      in_buffer[0][i] = buffer_l[i];\n      if (gfc.channels_in > 1)\n        in_buffer[1][i] = buffer_r[i];\n    }\n    return lame_encode_buffer_sample(\n      gfp,\n      in_buffer[0],\n      in_buffer[1],\n      nsamples,\n      mp3buf,\n      mp3bufPos,\n      mp3buf_size\n    );\n  };\n  function calcNeeded(gfp) {\n    var mf_needed = Encoder.BLKSIZE + gfp.framesize - Encoder.FFTOFFSET;\n    mf_needed = Math.max(mf_needed, 512 + gfp.framesize - 32);\n    return mf_needed;\n  }\n  function lame_encode_buffer_sample(gfp, buffer_l, buffer_r, nsamples, mp3buf, mp3bufPos, mp3buf_size) {\n    var gfc = gfp.internal_flags;\n    var mp3size = 0;\n    var ret;\n    var i;\n    var ch;\n    var mf_needed;\n    var mp3out;\n    var mfbuf = [null, null];\n    var in_buffer = [null, null];\n    if (gfc.Class_ID != LAME_ID)\n      return -3;\n    if (nsamples == 0)\n      return 0;\n    mp3out = bs.copy_buffer(gfc, mp3buf, mp3bufPos, mp3buf_size, 0);\n    if (mp3out < 0)\n      return mp3out;\n    mp3bufPos += mp3out;\n    mp3size += mp3out;\n    in_buffer[0] = buffer_l;\n    in_buffer[1] = buffer_r;\n    if (BitStream$1.NEQ(gfp.scale, 0) && BitStream$1.NEQ(gfp.scale, 1)) {\n      for (i = 0; i < nsamples; ++i) {\n        in_buffer[0][i] *= gfp.scale;\n        if (gfc.channels_out == 2)\n          in_buffer[1][i] *= gfp.scale;\n      }\n    }\n    if (BitStream$1.NEQ(gfp.scale_left, 0) && BitStream$1.NEQ(gfp.scale_left, 1)) {\n      for (i = 0; i < nsamples; ++i) {\n        in_buffer[0][i] *= gfp.scale_left;\n      }\n    }\n    if (BitStream$1.NEQ(gfp.scale_right, 0) && BitStream$1.NEQ(gfp.scale_right, 1)) {\n      for (i = 0; i < nsamples; ++i) {\n        in_buffer[1][i] *= gfp.scale_right;\n      }\n    }\n    if (gfp.num_channels == 2 && gfc.channels_out == 1) {\n      for (i = 0; i < nsamples; ++i) {\n        in_buffer[0][i] = 0.5 * (in_buffer[0][i] + in_buffer[1][i]);\n        in_buffer[1][i] = 0;\n      }\n    }\n    mf_needed = calcNeeded(gfp);\n    mfbuf[0] = gfc.mfbuf[0];\n    mfbuf[1] = gfc.mfbuf[1];\n    var in_bufferPos = 0;\n    while (nsamples > 0) {\n      var in_buffer_ptr = [null, null];\n      var n_in = 0;\n      var n_out = 0;\n      in_buffer_ptr[0] = in_buffer[0];\n      in_buffer_ptr[1] = in_buffer[1];\n      var inOut = new InOut();\n      fill_buffer(gfp, mfbuf, in_buffer_ptr, in_bufferPos, nsamples, inOut);\n      n_in = inOut.n_in;\n      n_out = inOut.n_out;\n      if (gfc.findReplayGain && !gfc.decode_on_the_fly) {\n        if (ga.AnalyzeSamples(\n          gfc.rgdata,\n          mfbuf[0],\n          gfc.mf_size,\n          mfbuf[1],\n          gfc.mf_size,\n          n_out,\n          gfc.channels_out\n        ) == GainAnalysis.GAIN_ANALYSIS_ERROR) {\n          return -6;\n        }\n      }\n      nsamples -= n_in;\n      in_bufferPos += n_in;\n      if (gfc.channels_out == 2)\n        ;\n      gfc.mf_size += n_out;\n      assert$4(gfc.mf_size <= LameInternalFlags$1.MFSIZE);\n      if (gfc.mf_samples_to_encode < 1) {\n        gfc.mf_samples_to_encode = Encoder.ENCDELAY + Encoder.POSTDELAY;\n      }\n      gfc.mf_samples_to_encode += n_out;\n      if (gfc.mf_size >= mf_needed) {\n        var buf_size = mp3buf_size - mp3size;\n        if (mp3buf_size == 0)\n          buf_size = 0;\n        ret = lame_encode_frame(\n          gfp,\n          mfbuf[0],\n          mfbuf[1],\n          mp3buf,\n          mp3bufPos,\n          buf_size\n        );\n        if (ret < 0)\n          return ret;\n        mp3bufPos += ret;\n        mp3size += ret;\n        gfc.mf_size -= gfp.framesize;\n        gfc.mf_samples_to_encode -= gfp.framesize;\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          for (i = 0; i < gfc.mf_size; i++) {\n            mfbuf[ch][i] = mfbuf[ch][i + gfp.framesize];\n          }\n        }\n      }\n    }\n    return mp3size;\n  }\n  function lame_encode_frame(gfp, inbuf_l, inbuf_r, mp3buf, mp3bufPos, mp3buf_size) {\n    var ret = self2.enc.lame_encode_mp3_frame(\n      gfp,\n      inbuf_l,\n      inbuf_r,\n      mp3buf,\n      mp3bufPos,\n      mp3buf_size\n    );\n    gfp.frameNum++;\n    return ret;\n  }\n  function InOut() {\n    this.n_in = 0;\n    this.n_out = 0;\n  }\n  function NumUsed() {\n    this.num_used = 0;\n  }\n  function gcd(i, j) {\n    return j != 0 ? gcd(j, i % j) : i;\n  }\n  function blackman(x, fcn, l) {\n    var wcn = Math.PI * fcn;\n    x /= l;\n    if (x < 0)\n      x = 0;\n    if (x > 1)\n      x = 1;\n    var x2 = x - 0.5;\n    var bkwn = 0.42 - 0.5 * Math.cos(2 * x * Math.PI) + 0.08 * Math.cos(4 * x * Math.PI);\n    if (Math.abs(x2) < 1e-9)\n      return wcn / Math.PI;\n    else\n      return bkwn * Math.sin(l * wcn * x2) / (Math.PI * l * x2);\n  }\n  function fill_buffer_resample(gfp, outbuf, outbufPos, desired_len, inbuf, in_bufferPos, len, num_used, ch) {\n    var gfc = gfp.internal_flags;\n    var i;\n    var j = 0;\n    var k;\n    var bpc = gfp.out_samplerate / gcd(gfp.out_samplerate, gfp.in_samplerate);\n    if (bpc > LameInternalFlags$1.BPC)\n      bpc = LameInternalFlags$1.BPC;\n    var intratio = Math.abs(gfc.resample_ratio - Math.floor(0.5 + gfc.resample_ratio)) < 1e-4 ? 1 : 0;\n    var fcn = 1 / gfc.resample_ratio;\n    if (fcn > 1)\n      fcn = 1;\n    var filter_l = 31;\n    if (filter_l % 2 == 0)\n      --filter_l;\n    filter_l += intratio;\n    var BLACKSIZE = filter_l + 1;\n    if (gfc.fill_buffer_resample_init == 0) {\n      gfc.inbuf_old[0] = new_float$2(BLACKSIZE);\n      gfc.inbuf_old[1] = new_float$2(BLACKSIZE);\n      for (i = 0; i <= 2 * bpc; ++i)\n        gfc.blackfilt[i] = new_float$2(BLACKSIZE);\n      gfc.itime[0] = 0;\n      gfc.itime[1] = 0;\n      for (j = 0; j <= 2 * bpc; j++) {\n        var sum = 0;\n        var offset = (j - bpc) / (2 * bpc);\n        for (i = 0; i <= filter_l; i++) {\n          sum += gfc.blackfilt[j][i] = blackman(i - offset, fcn, filter_l);\n        }\n        for (i = 0; i <= filter_l; i++)\n          gfc.blackfilt[j][i] /= sum;\n      }\n      gfc.fill_buffer_resample_init = 1;\n    }\n    var inbuf_old = gfc.inbuf_old[ch];\n    for (k = 0; k < desired_len; k++) {\n      var time0;\n      var joff;\n      time0 = k * gfc.resample_ratio;\n      j = 0 | Math.floor(time0 - gfc.itime[ch]);\n      if (filter_l + j - filter_l / 2 >= len)\n        break;\n      var offset = time0 - gfc.itime[ch] - (j + 0.5 * (filter_l % 2));\n      joff = 0 | Math.floor(offset * 2 * bpc + bpc + 0.5);\n      var xvalue = 0;\n      for (i = 0; i <= filter_l; ++i) {\n        var j2 = 0 | i + j - filter_l / 2;\n        var y;\n        y = j2 < 0 ? inbuf_old[BLACKSIZE + j2] : inbuf[in_bufferPos + j2];\n        xvalue += y * gfc.blackfilt[joff][i];\n      }\n      outbuf[outbufPos + k] = xvalue;\n    }\n    num_used.num_used = Math.min(len, filter_l + j - filter_l / 2);\n    gfc.itime[ch] += num_used.num_used - k * gfc.resample_ratio;\n    if (num_used.num_used >= BLACKSIZE) {\n      for (i = 0; i < BLACKSIZE; i++) {\n        inbuf_old[i] = inbuf[in_bufferPos + num_used.num_used + i - BLACKSIZE];\n      }\n    } else {\n      var n_shift = BLACKSIZE - num_used.num_used;\n      for (i = 0; i < n_shift; ++i) {\n        inbuf_old[i] = inbuf_old[i + num_used.num_used];\n      }\n      for (j = 0; i < BLACKSIZE; ++i, ++j) {\n        inbuf_old[i] = inbuf[in_bufferPos + j];\n      }\n      assert$4(j == num_used.num_used);\n    }\n    return k;\n  }\n  function fill_buffer(gfp, mfbuf, in_buffer, in_bufferPos, nsamples, io) {\n    var gfc = gfp.internal_flags;\n    if (gfc.resample_ratio < 0.9999 || gfc.resample_ratio > 1.0001) {\n      for (var ch = 0; ch < gfc.channels_out; ch++) {\n        var numUsed = new NumUsed();\n        io.n_out = fill_buffer_resample(\n          gfp,\n          mfbuf[ch],\n          gfc.mf_size,\n          gfp.framesize,\n          in_buffer[ch],\n          in_bufferPos,\n          nsamples,\n          numUsed,\n          ch\n        );\n        io.n_in = numUsed.num_used;\n      }\n    } else {\n      io.n_out = Math.min(gfp.framesize, nsamples);\n      io.n_in = io.n_out;\n      for (var i = 0; i < io.n_out; ++i) {\n        mfbuf[0][gfc.mf_size + i] = in_buffer[0][in_bufferPos + i];\n        if (gfc.channels_out == 2) {\n          mfbuf[1][gfc.mf_size + i] = in_buffer[1][in_bufferPos + i];\n        }\n      }\n    }\n  }\n}\nvar VbrMode$2 = common.VbrMode;\nfunction Presets() {\n  function VBRPresets(qual, comp, compS, y, shThreshold, shThresholdS, adj, adjShort, lower, curve, sens, inter, joint, mod, fix) {\n    this.vbr_q = qual;\n    this.quant_comp = comp;\n    this.quant_comp_s = compS;\n    this.expY = y;\n    this.st_lrm = shThreshold;\n    this.st_s = shThresholdS;\n    this.masking_adj = adj;\n    this.masking_adj_short = adjShort;\n    this.ath_lower = lower;\n    this.ath_curve = curve;\n    this.ath_sensitivity = sens;\n    this.interch = inter;\n    this.safejoint = joint;\n    this.sfb21mod = mod;\n    this.msfix = fix;\n  }\n  function ABRPresets(kbps, comp, compS, joint, fix, shThreshold, shThresholdS, bass, sc, mask, lower, curve, interCh, sfScale) {\n    this.quant_comp = comp;\n    this.quant_comp_s = compS;\n    this.safejoint = joint;\n    this.nsmsfix = fix;\n    this.st_lrm = shThreshold;\n    this.st_s = shThresholdS;\n    this.nsbass = bass;\n    this.scale = sc;\n    this.masking_adj = mask;\n    this.ath_lower = lower;\n    this.ath_curve = curve;\n    this.interch = interCh;\n    this.sfscale = sfScale;\n  }\n  var lame;\n  this.setModules = function(_lame) {\n    lame = _lame;\n  };\n  var vbr_old_switch_map = [\n    new VBRPresets(\n      0,\n      9,\n      9,\n      0,\n      5.2,\n      125,\n      -4.2,\n      -6.3,\n      4.8,\n      1,\n      0,\n      0,\n      2,\n      21,\n      0.97\n    ),\n    new VBRPresets(\n      1,\n      9,\n      9,\n      0,\n      5.3,\n      125,\n      -3.6,\n      -5.6,\n      4.5,\n      1.5,\n      0,\n      0,\n      2,\n      21,\n      1.35\n    ),\n    new VBRPresets(\n      2,\n      9,\n      9,\n      0,\n      5.6,\n      125,\n      -2.2,\n      -3.5,\n      2.8,\n      2,\n      0,\n      0,\n      2,\n      21,\n      1.49\n    ),\n    new VBRPresets(\n      3,\n      9,\n      9,\n      1,\n      5.8,\n      130,\n      -1.8,\n      -2.8,\n      2.6,\n      3,\n      -4,\n      0,\n      2,\n      20,\n      1.64\n    ),\n    new VBRPresets(\n      4,\n      9,\n      9,\n      1,\n      6,\n      135,\n      -0.7,\n      -1.1,\n      1.1,\n      3.5,\n      -8,\n      0,\n      2,\n      0,\n      1.79\n    ),\n    new VBRPresets(\n      5,\n      9,\n      9,\n      1,\n      6.4,\n      140,\n      0.5,\n      0.4,\n      -7.5,\n      4,\n      -12,\n      2e-4,\n      0,\n      0,\n      1.95\n    ),\n    new VBRPresets(\n      6,\n      9,\n      9,\n      1,\n      6.6,\n      145,\n      0.67,\n      0.65,\n      -14.7,\n      6.5,\n      -19,\n      4e-4,\n      0,\n      0,\n      2.3\n    ),\n    new VBRPresets(\n      7,\n      9,\n      9,\n      1,\n      6.6,\n      145,\n      0.8,\n      0.75,\n      -19.7,\n      8,\n      -22,\n      6e-4,\n      0,\n      0,\n      2.7\n    ),\n    new VBRPresets(\n      8,\n      9,\n      9,\n      1,\n      6.6,\n      145,\n      1.2,\n      1.15,\n      -27.5,\n      10,\n      -23,\n      7e-4,\n      0,\n      0,\n      0\n    ),\n    new VBRPresets(\n      9,\n      9,\n      9,\n      1,\n      6.6,\n      145,\n      1.6,\n      1.6,\n      -36,\n      11,\n      -25,\n      8e-4,\n      0,\n      0,\n      0\n    ),\n    new VBRPresets(\n      10,\n      9,\n      9,\n      1,\n      6.6,\n      145,\n      2,\n      2,\n      -36,\n      12,\n      -25,\n      8e-4,\n      0,\n      0,\n      0\n    )\n  ];\n  var vbr_psy_switch_map = [\n    new VBRPresets(\n      0,\n      9,\n      9,\n      0,\n      4.2,\n      25,\n      -7,\n      -4,\n      7.5,\n      1,\n      0,\n      0,\n      2,\n      26,\n      0.97\n    ),\n    new VBRPresets(\n      1,\n      9,\n      9,\n      0,\n      4.2,\n      25,\n      -5.6,\n      -3.6,\n      4.5,\n      1.5,\n      0,\n      0,\n      2,\n      21,\n      1.35\n    ),\n    new VBRPresets(2, 9, 9, 0, 4.2, 25, -4.4, -1.8, 2, 2, 0, 0, 2, 18, 1.49),\n    new VBRPresets(\n      3,\n      9,\n      9,\n      1,\n      4.2,\n      25,\n      -3.4,\n      -1.25,\n      1.1,\n      3,\n      -4,\n      0,\n      2,\n      15,\n      1.64\n    ),\n    new VBRPresets(4, 9, 9, 1, 4.2, 25, -2.2, 0.1, 0, 3.5, -8, 0, 2, 0, 1.79),\n    new VBRPresets(\n      5,\n      9,\n      9,\n      1,\n      4.2,\n      25,\n      -1,\n      1.65,\n      -7.7,\n      4,\n      -12,\n      2e-4,\n      0,\n      0,\n      1.95\n    ),\n    new VBRPresets(\n      6,\n      9,\n      9,\n      1,\n      4.2,\n      25,\n      -0,\n      2.47,\n      -7.7,\n      6.5,\n      -19,\n      4e-4,\n      0,\n      0,\n      2\n    ),\n    new VBRPresets(\n      7,\n      9,\n      9,\n      1,\n      4.2,\n      25,\n      0.5,\n      2,\n      -14.5,\n      8,\n      -22,\n      6e-4,\n      0,\n      0,\n      2\n    ),\n    new VBRPresets(\n      8,\n      9,\n      9,\n      1,\n      4.2,\n      25,\n      1,\n      2.4,\n      -22,\n      10,\n      -23,\n      7e-4,\n      0,\n      0,\n      2\n    ),\n    new VBRPresets(\n      9,\n      9,\n      9,\n      1,\n      4.2,\n      25,\n      1.5,\n      2.95,\n      -30,\n      11,\n      -25,\n      8e-4,\n      0,\n      0,\n      2\n    ),\n    new VBRPresets(\n      10,\n      9,\n      9,\n      1,\n      4.2,\n      25,\n      2,\n      2.95,\n      -36,\n      12,\n      -30,\n      8e-4,\n      0,\n      0,\n      2\n    )\n  ];\n  function apply_vbr_preset(gfp, a, enforce) {\n    var vbr_preset = gfp.VBR == VbrMode$2.vbr_rh ? vbr_old_switch_map : vbr_psy_switch_map;\n    var x = gfp.VBR_q_frac;\n    var p2 = vbr_preset[a];\n    var q = vbr_preset[a + 1];\n    var set2 = p2;\n    p2.st_lrm = p2.st_lrm + x * (q.st_lrm - p2.st_lrm);\n    p2.st_s = p2.st_s + x * (q.st_s - p2.st_s);\n    p2.masking_adj = p2.masking_adj + x * (q.masking_adj - p2.masking_adj);\n    p2.masking_adj_short = p2.masking_adj_short + x * (q.masking_adj_short - p2.masking_adj_short);\n    p2.ath_lower = p2.ath_lower + x * (q.ath_lower - p2.ath_lower);\n    p2.ath_curve = p2.ath_curve + x * (q.ath_curve - p2.ath_curve);\n    p2.ath_sensitivity = p2.ath_sensitivity + x * (q.ath_sensitivity - p2.ath_sensitivity);\n    p2.interch = p2.interch + x * (q.interch - p2.interch);\n    p2.msfix = p2.msfix + x * (q.msfix - p2.msfix);\n    lame_set_VBR_q(gfp, set2.vbr_q);\n    if (enforce != 0)\n      gfp.quant_comp = set2.quant_comp;\n    else if (!(Math.abs(gfp.quant_comp - -1) > 0)) {\n      gfp.quant_comp = set2.quant_comp;\n    }\n    if (enforce != 0)\n      gfp.quant_comp_short = set2.quant_comp_s;\n    else if (!(Math.abs(gfp.quant_comp_short - -1) > 0)) {\n      gfp.quant_comp_short = set2.quant_comp_s;\n    }\n    if (set2.expY != 0) {\n      gfp.experimentalY = set2.expY != 0;\n    }\n    if (enforce != 0)\n      gfp.internal_flags.nsPsy.attackthre = set2.st_lrm;\n    else if (!(Math.abs(gfp.internal_flags.nsPsy.attackthre - -1) > 0)) {\n      gfp.internal_flags.nsPsy.attackthre = set2.st_lrm;\n    }\n    if (enforce != 0)\n      gfp.internal_flags.nsPsy.attackthre_s = set2.st_s;\n    else if (!(Math.abs(gfp.internal_flags.nsPsy.attackthre_s - -1) > 0)) {\n      gfp.internal_flags.nsPsy.attackthre_s = set2.st_s;\n    }\n    if (enforce != 0)\n      gfp.maskingadjust = set2.masking_adj;\n    else if (!(Math.abs(gfp.maskingadjust - 0) > 0)) {\n      gfp.maskingadjust = set2.masking_adj;\n    }\n    if (enforce != 0)\n      gfp.maskingadjust_short = set2.masking_adj_short;\n    else if (!(Math.abs(gfp.maskingadjust_short - 0) > 0)) {\n      gfp.maskingadjust_short = set2.masking_adj_short;\n    }\n    if (enforce != 0)\n      gfp.ATHlower = -set2.ath_lower / 10;\n    else if (!(Math.abs(-gfp.ATHlower * 10 - 0) > 0)) {\n      gfp.ATHlower = -set2.ath_lower / 10;\n    }\n    if (enforce != 0)\n      gfp.ATHcurve = set2.ath_curve;\n    else if (!(Math.abs(gfp.ATHcurve - -1) > 0))\n      gfp.ATHcurve = set2.ath_curve;\n    if (enforce != 0)\n      gfp.athaa_sensitivity = set2.ath_sensitivity;\n    else if (!(Math.abs(gfp.athaa_sensitivity - -1) > 0)) {\n      gfp.athaa_sensitivity = set2.ath_sensitivity;\n    }\n    if (set2.interch > 0) {\n      if (enforce != 0)\n        gfp.interChRatio = set2.interch;\n      else if (!(Math.abs(gfp.interChRatio - -1) > 0)) {\n        gfp.interChRatio = set2.interch;\n      }\n    }\n    if (set2.safejoint > 0) {\n      gfp.exp_nspsytune = gfp.exp_nspsytune | set2.safejoint;\n    }\n    if (set2.sfb21mod > 0) {\n      gfp.exp_nspsytune = gfp.exp_nspsytune | set2.sfb21mod << 20;\n    }\n    if (enforce != 0)\n      gfp.msfix = set2.msfix;\n    else if (!(Math.abs(gfp.msfix - -1) > 0))\n      gfp.msfix = set2.msfix;\n    if (enforce == 0) {\n      gfp.VBR_q = a;\n      gfp.VBR_q_frac = x;\n    }\n  }\n  var abr_switch_map = [\n    new ABRPresets(\n      8,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -30,\n      11,\n      12e-4,\n      1\n    ),\n    new ABRPresets(\n      16,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -25,\n      11,\n      1e-3,\n      1\n    ),\n    new ABRPresets(\n      24,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -20,\n      11,\n      1e-3,\n      1\n    ),\n    new ABRPresets(\n      32,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -15,\n      11,\n      1e-3,\n      1\n    ),\n    new ABRPresets(\n      40,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -10,\n      11,\n      9e-4,\n      1\n    ),\n    new ABRPresets(\n      48,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -10,\n      11,\n      9e-4,\n      1\n    ),\n    new ABRPresets(\n      56,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -6,\n      11,\n      8e-4,\n      1\n    ),\n    new ABRPresets(\n      64,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      -2,\n      11,\n      8e-4,\n      1\n    ),\n    new ABRPresets(\n      80,\n      9,\n      9,\n      0,\n      0,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      0,\n      8,\n      7e-4,\n      1\n    ),\n    new ABRPresets(\n      96,\n      9,\n      9,\n      0,\n      2.5,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      1,\n      5.5,\n      6e-4,\n      1\n    ),\n    new ABRPresets(\n      112,\n      9,\n      9,\n      0,\n      2.25,\n      6.6,\n      145,\n      0,\n      0.95,\n      0,\n      2,\n      4.5,\n      5e-4,\n      1\n    ),\n    new ABRPresets(\n      128,\n      9,\n      9,\n      0,\n      1.95,\n      6.4,\n      140,\n      0,\n      0.95,\n      0,\n      3,\n      4,\n      2e-4,\n      1\n    ),\n    new ABRPresets(\n      160,\n      9,\n      9,\n      1,\n      1.79,\n      6,\n      135,\n      0,\n      0.95,\n      -2,\n      5,\n      3.5,\n      0,\n      1\n    ),\n    new ABRPresets(\n      192,\n      9,\n      9,\n      1,\n      1.49,\n      5.6,\n      125,\n      0,\n      0.97,\n      -4,\n      7,\n      3,\n      0,\n      0\n    ),\n    new ABRPresets(\n      224,\n      9,\n      9,\n      1,\n      1.25,\n      5.2,\n      125,\n      0,\n      0.98,\n      -6,\n      9,\n      2,\n      0,\n      0\n    ),\n    new ABRPresets(\n      256,\n      9,\n      9,\n      1,\n      0.97,\n      5.2,\n      125,\n      0,\n      1,\n      -8,\n      10,\n      1,\n      0,\n      0\n    ),\n    new ABRPresets(\n      320,\n      9,\n      9,\n      1,\n      0.9,\n      5.2,\n      125,\n      0,\n      1,\n      -10,\n      12,\n      0,\n      0,\n      0\n    )\n  ];\n  function apply_abr_preset(gfp, preset, enforce) {\n    var actual_bitrate = preset;\n    var r = lame.nearestBitrateFullIndex(preset);\n    gfp.VBR = VbrMode$2.vbr_abr;\n    gfp.VBR_mean_bitrate_kbps = actual_bitrate;\n    gfp.VBR_mean_bitrate_kbps = Math.min(gfp.VBR_mean_bitrate_kbps, 320);\n    gfp.VBR_mean_bitrate_kbps = Math.max(gfp.VBR_mean_bitrate_kbps, 8);\n    gfp.brate = gfp.VBR_mean_bitrate_kbps;\n    if (gfp.VBR_mean_bitrate_kbps > 320) {\n      gfp.disable_reservoir = true;\n    }\n    if (abr_switch_map[r].safejoint > 0) {\n      gfp.exp_nspsytune = gfp.exp_nspsytune | 2;\n    }\n    if (abr_switch_map[r].sfscale > 0) {\n      gfp.internal_flags.noise_shaping = 2;\n    }\n    if (Math.abs(abr_switch_map[r].nsbass) > 0) {\n      var k = int(abr_switch_map[r].nsbass * 4);\n      if (k < 0)\n        k += 64;\n      gfp.exp_nspsytune = gfp.exp_nspsytune | k << 2;\n    }\n    if (enforce != 0)\n      gfp.quant_comp = abr_switch_map[r].quant_comp;\n    else if (!(Math.abs(gfp.quant_comp - -1) > 0)) {\n      gfp.quant_comp = abr_switch_map[r].quant_comp;\n    }\n    if (enforce != 0)\n      gfp.quant_comp_short = abr_switch_map[r].quant_comp_s;\n    else if (!(Math.abs(gfp.quant_comp_short - -1) > 0)) {\n      gfp.quant_comp_short = abr_switch_map[r].quant_comp_s;\n    }\n    if (enforce != 0)\n      gfp.msfix = abr_switch_map[r].nsmsfix;\n    else if (!(Math.abs(gfp.msfix - -1) > 0)) {\n      gfp.msfix = abr_switch_map[r].nsmsfix;\n    }\n    if (enforce != 0) {\n      gfp.internal_flags.nsPsy.attackthre = abr_switch_map[r].st_lrm;\n    } else if (!(Math.abs(gfp.internal_flags.nsPsy.attackthre - -1) > 0)) {\n      gfp.internal_flags.nsPsy.attackthre = abr_switch_map[r].st_lrm;\n    }\n    if (enforce != 0) {\n      gfp.internal_flags.nsPsy.attackthre_s = abr_switch_map[r].st_s;\n    } else if (!(Math.abs(gfp.internal_flags.nsPsy.attackthre_s - -1) > 0)) {\n      gfp.internal_flags.nsPsy.attackthre_s = abr_switch_map[r].st_s;\n    }\n    if (enforce != 0)\n      gfp.scale = abr_switch_map[r].scale;\n    else if (!(Math.abs(gfp.scale - -1) > 0)) {\n      gfp.scale = abr_switch_map[r].scale;\n    }\n    if (enforce != 0)\n      gfp.maskingadjust = abr_switch_map[r].masking_adj;\n    else if (!(Math.abs(gfp.maskingadjust - 0) > 0)) {\n      gfp.maskingadjust = abr_switch_map[r].masking_adj;\n    }\n    if (abr_switch_map[r].masking_adj > 0) {\n      if (enforce != 0) {\n        gfp.maskingadjust_short = abr_switch_map[r].masking_adj * 0.9;\n      } else if (!(Math.abs(gfp.maskingadjust_short - 0) > 0)) {\n        gfp.maskingadjust_short = abr_switch_map[r].masking_adj * 0.9;\n      }\n    } else {\n      if (enforce != 0) {\n        gfp.maskingadjust_short = abr_switch_map[r].masking_adj * 1.1;\n      } else if (!(Math.abs(gfp.maskingadjust_short - 0) > 0)) {\n        gfp.maskingadjust_short = abr_switch_map[r].masking_adj * 1.1;\n      }\n    }\n    if (enforce != 0)\n      gfp.ATHlower = -abr_switch_map[r].ath_lower / 10;\n    else if (!(Math.abs(-gfp.ATHlower * 10 - 0) > 0)) {\n      gfp.ATHlower = -abr_switch_map[r].ath_lower / 10;\n    }\n    if (enforce != 0)\n      gfp.ATHcurve = abr_switch_map[r].ath_curve;\n    else if (!(Math.abs(gfp.ATHcurve - -1) > 0)) {\n      gfp.ATHcurve = abr_switch_map[r].ath_curve;\n    }\n    if (enforce != 0)\n      gfp.interChRatio = abr_switch_map[r].interch;\n    else if (!(Math.abs(gfp.interChRatio - -1) > 0)) {\n      gfp.interChRatio = abr_switch_map[r].interch;\n    }\n    return preset;\n  }\n  this.apply_preset = function(gfp, preset, enforce) {\n    switch (preset) {\n      case Lame$1.R3MIX: {\n        preset = Lame$1.V3;\n        gfp.VBR = VbrMode$2.vbr_mtrh;\n        break;\n      }\n      case Lame$1.MEDIUM: {\n        preset = Lame$1.V4;\n        gfp.VBR = VbrMode$2.vbr_rh;\n        break;\n      }\n      case Lame$1.MEDIUM_FAST: {\n        preset = Lame$1.V4;\n        gfp.VBR = VbrMode$2.vbr_mtrh;\n        break;\n      }\n      case Lame$1.STANDARD: {\n        preset = Lame$1.V2;\n        gfp.VBR = VbrMode$2.vbr_rh;\n        break;\n      }\n      case Lame$1.STANDARD_FAST: {\n        preset = Lame$1.V2;\n        gfp.VBR = VbrMode$2.vbr_mtrh;\n        break;\n      }\n      case Lame$1.EXTREME: {\n        preset = Lame$1.V0;\n        gfp.VBR = VbrMode$2.vbr_rh;\n        break;\n      }\n      case Lame$1.EXTREME_FAST: {\n        preset = Lame$1.V0;\n        gfp.VBR = VbrMode$2.vbr_mtrh;\n        break;\n      }\n      case Lame$1.INSANE: {\n        preset = 320;\n        gfp.preset = preset;\n        apply_abr_preset(gfp, preset, enforce);\n        gfp.VBR = VbrMode$2.vbr_off;\n        return preset;\n      }\n    }\n    gfp.preset = preset;\n    {\n      switch (preset) {\n        case Lame$1.V9:\n          apply_vbr_preset(gfp, 9, enforce);\n          return preset;\n        case Lame$1.V8:\n          apply_vbr_preset(gfp, 8, enforce);\n          return preset;\n        case Lame$1.V7:\n          apply_vbr_preset(gfp, 7, enforce);\n          return preset;\n        case Lame$1.V6:\n          apply_vbr_preset(gfp, 6, enforce);\n          return preset;\n        case Lame$1.V5:\n          apply_vbr_preset(gfp, 5, enforce);\n          return preset;\n        case Lame$1.V4:\n          apply_vbr_preset(gfp, 4, enforce);\n          return preset;\n        case Lame$1.V3:\n          apply_vbr_preset(gfp, 3, enforce);\n          return preset;\n        case Lame$1.V2:\n          apply_vbr_preset(gfp, 2, enforce);\n          return preset;\n        case Lame$1.V1:\n          apply_vbr_preset(gfp, 1, enforce);\n          return preset;\n        case Lame$1.V0:\n          apply_vbr_preset(gfp, 0, enforce);\n          return preset;\n      }\n    }\n    if (preset >= 8 && preset <= 320) {\n      return apply_abr_preset(gfp, preset, enforce);\n    }\n    gfp.preset = 0;\n    return preset;\n  };\n  function lame_set_VBR_q(gfp, VBR_q) {\n    var ret = 0;\n    if (VBR_q < 0) {\n      ret = -1;\n      VBR_q = 0;\n    }\n    if (VBR_q > 9) {\n      ret = -1;\n      VBR_q = 9;\n    }\n    gfp.VBR_q = VBR_q;\n    gfp.VBR_q_frac = 0;\n    return ret;\n  }\n}\nfunction VBRQuantize() {\n  this.setModules = function(_qupvt, _tk) {\n  };\n}\nfunction CalcNoiseResult$1() {\n  this.over_noise = 0;\n  this.tot_noise = 0;\n  this.max_noise = 0;\n  this.over_count = 0;\n  this.over_SSD = 0;\n  this.bits = 0;\n}\nvar new_float$1 = common.new_float;\nvar new_int = common.new_int;\nfunction CalcNoiseData() {\n  this.global_gain = 0;\n  this.sfb_count1 = 0;\n  this.step = new_int(39);\n  this.noise = new_float$1(39);\n  this.noise_log = new_float$1(39);\n}\nvar System$1 = common.System;\nvar VbrMode$1 = common.VbrMode;\nvar Util = common.Util;\nvar Arrays$1 = common.Arrays;\nvar new_float = common.new_float;\nvar assert$3 = common.assert;\nfunction Quantize() {\n  var bs;\n  this.rv = null;\n  var rv;\n  this.qupvt = null;\n  var qupvt;\n  var vbr = new VBRQuantize();\n  var tk;\n  this.setModules = function(_bs, _rv, _qupvt, _tk) {\n    bs = _bs;\n    rv = _rv;\n    this.rv = _rv;\n    qupvt = _qupvt;\n    this.qupvt = _qupvt;\n    tk = _tk;\n    vbr.setModules(qupvt, tk);\n  };\n  this.ms_convert = function(l3_side, gr) {\n    for (var i = 0; i < 576; ++i) {\n      var l = l3_side.tt[gr][0].xr[i];\n      var r = l3_side.tt[gr][1].xr[i];\n      l3_side.tt[gr][0].xr[i] = (l + r) * (Util.SQRT2 * 0.5);\n      l3_side.tt[gr][1].xr[i] = (l - r) * (Util.SQRT2 * 0.5);\n    }\n  };\n  function init_xrpow_core(cod_info, xrpow, upper, sum) {\n    sum = 0;\n    for (var i = 0; i <= upper; ++i) {\n      var tmp = Math.abs(cod_info.xr[i]);\n      sum += tmp;\n      xrpow[i] = Math.sqrt(tmp * Math.sqrt(tmp));\n      if (xrpow[i] > cod_info.xrpow_max)\n        cod_info.xrpow_max = xrpow[i];\n    }\n    return sum;\n  }\n  this.init_xrpow = function(gfc, cod_info, xrpow) {\n    var sum = 0;\n    var upper = 0 | cod_info.max_nonzero_coeff;\n    cod_info.xrpow_max = 0;\n    Arrays$1.fill(xrpow, upper, 576, 0);\n    sum = init_xrpow_core(cod_info, xrpow, upper, sum);\n    if (sum > 1e-20) {\n      var j = 0;\n      if ((gfc.substep_shaping & 2) != 0)\n        j = 1;\n      for (var i = 0; i < cod_info.psymax; i++)\n        gfc.pseudohalf[i] = j;\n      return true;\n    }\n    Arrays$1.fill(cod_info.l3_enc, 0, 576, 0);\n    return false;\n  };\n  function psfb21_analogsilence(gfc, cod_info) {\n    var ath = gfc.ATH;\n    var xr = cod_info.xr;\n    if (cod_info.block_type != Encoder.SHORT_TYPE) {\n      var stop = false;\n      for (var gsfb = Encoder.PSFB21 - 1; gsfb >= 0 && !stop; gsfb--) {\n        var start2 = gfc.scalefac_band.psfb21[gsfb];\n        var end = gfc.scalefac_band.psfb21[gsfb + 1];\n        var ath21 = qupvt.athAdjust(ath.adjust, ath.psfb21[gsfb], ath.floor);\n        if (gfc.nsPsy.longfact[21] > 1e-12)\n          ath21 *= gfc.nsPsy.longfact[21];\n        for (var j = end - 1; j >= start2; j--) {\n          if (Math.abs(xr[j]) < ath21)\n            xr[j] = 0;\n          else {\n            stop = true;\n            break;\n          }\n        }\n      }\n    } else {\n      for (var block = 0; block < 3; block++) {\n        var stop = false;\n        for (var gsfb = Encoder.PSFB12 - 1; gsfb >= 0 && !stop; gsfb--) {\n          var start2 = gfc.scalefac_band.s[12] * 3 + (gfc.scalefac_band.s[13] - gfc.scalefac_band.s[12]) * block + (gfc.scalefac_band.psfb12[gsfb] - gfc.scalefac_band.psfb12[0]);\n          var end = start2 + (gfc.scalefac_band.psfb12[gsfb + 1] - gfc.scalefac_band.psfb12[gsfb]);\n          var ath12 = qupvt.athAdjust(ath.adjust, ath.psfb12[gsfb], ath.floor);\n          if (gfc.nsPsy.shortfact[12] > 1e-12)\n            ath12 *= gfc.nsPsy.shortfact[12];\n          for (var j = end - 1; j >= start2; j--) {\n            if (Math.abs(xr[j]) < ath12)\n              xr[j] = 0;\n            else {\n              stop = true;\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n  this.init_outer_loop = function(gfc, cod_info) {\n    cod_info.part2_3_length = 0;\n    cod_info.big_values = 0;\n    cod_info.count1 = 0;\n    cod_info.global_gain = 210;\n    cod_info.scalefac_compress = 0;\n    cod_info.table_select[0] = 0;\n    cod_info.table_select[1] = 0;\n    cod_info.table_select[2] = 0;\n    cod_info.subblock_gain[0] = 0;\n    cod_info.subblock_gain[1] = 0;\n    cod_info.subblock_gain[2] = 0;\n    cod_info.subblock_gain[3] = 0;\n    cod_info.region0_count = 0;\n    cod_info.region1_count = 0;\n    cod_info.preflag = 0;\n    cod_info.scalefac_scale = 0;\n    cod_info.count1table_select = 0;\n    cod_info.part2_length = 0;\n    cod_info.sfb_lmax = Encoder.SBPSY_l;\n    cod_info.sfb_smin = Encoder.SBPSY_s;\n    cod_info.psy_lmax = gfc.sfb21_extra ? Encoder.SBMAX_l : Encoder.SBPSY_l;\n    cod_info.psymax = cod_info.psy_lmax;\n    cod_info.sfbmax = cod_info.sfb_lmax;\n    cod_info.sfbdivide = 11;\n    for (var sfb = 0; sfb < Encoder.SBMAX_l; sfb++) {\n      cod_info.width[sfb] = gfc.scalefac_band.l[sfb + 1] - gfc.scalefac_band.l[sfb];\n      cod_info.window[sfb] = 3;\n    }\n    if (cod_info.block_type == Encoder.SHORT_TYPE) {\n      var ixwork = new_float(576);\n      cod_info.sfb_smin = 0;\n      cod_info.sfb_lmax = 0;\n      if (cod_info.mixed_block_flag != 0) {\n        cod_info.sfb_smin = 3;\n        cod_info.sfb_lmax = gfc.mode_gr * 2 + 4;\n      }\n      cod_info.psymax = cod_info.sfb_lmax + 3 * ((gfc.sfb21_extra ? Encoder.SBMAX_s : Encoder.SBPSY_s) - cod_info.sfb_smin);\n      cod_info.sfbmax = cod_info.sfb_lmax + 3 * (Encoder.SBPSY_s - cod_info.sfb_smin);\n      cod_info.sfbdivide = cod_info.sfbmax - 18;\n      cod_info.psy_lmax = cod_info.sfb_lmax;\n      var ix = gfc.scalefac_band.l[cod_info.sfb_lmax];\n      System$1.arraycopy(cod_info.xr, 0, ixwork, 0, 576);\n      for (var sfb = cod_info.sfb_smin; sfb < Encoder.SBMAX_s; sfb++) {\n        var start2 = gfc.scalefac_band.s[sfb];\n        var end = gfc.scalefac_band.s[sfb + 1];\n        for (var window2 = 0; window2 < 3; window2++) {\n          for (var l = start2; l < end; l++) {\n            cod_info.xr[ix++] = ixwork[3 * l + window2];\n          }\n        }\n      }\n      var j = cod_info.sfb_lmax;\n      for (var sfb = cod_info.sfb_smin; sfb < Encoder.SBMAX_s; sfb++) {\n        cod_info.width[j] = cod_info.width[j + 1] = cod_info.width[j + 2] = gfc.scalefac_band.s[sfb + 1] - gfc.scalefac_band.s[sfb];\n        cod_info.window[j] = 0;\n        cod_info.window[j + 1] = 1;\n        cod_info.window[j + 2] = 2;\n        j += 3;\n      }\n    }\n    cod_info.count1bits = 0;\n    cod_info.sfb_partition_table = qupvt.nr_of_sfb_block[0][0];\n    cod_info.slen[0] = 0;\n    cod_info.slen[1] = 0;\n    cod_info.slen[2] = 0;\n    cod_info.slen[3] = 0;\n    cod_info.max_nonzero_coeff = 575;\n    Arrays$1.fill(cod_info.scalefac, 0);\n    psfb21_analogsilence(gfc, cod_info);\n  };\n  function BinSearchDirection(ordinal) {\n    this.ordinal = ordinal;\n  }\n  BinSearchDirection.BINSEARCH_NONE = new BinSearchDirection(0);\n  BinSearchDirection.BINSEARCH_UP = new BinSearchDirection(1);\n  BinSearchDirection.BINSEARCH_DOWN = new BinSearchDirection(2);\n  function bin_search_StepSize(gfc, cod_info, desired_rate, ch, xrpow) {\n    var nBits;\n    var CurrentStep = gfc.CurrentStep[ch];\n    var flagGoneOver = false;\n    var start2 = gfc.OldValue[ch];\n    var Direction = BinSearchDirection.BINSEARCH_NONE;\n    cod_info.global_gain = start2;\n    desired_rate -= cod_info.part2_length;\n    for (; ; ) {\n      var step;\n      nBits = tk.count_bits(gfc, xrpow, cod_info, null);\n      if (CurrentStep == 1 || nBits == desired_rate)\n        break;\n      if (nBits > desired_rate) {\n        if (Direction == BinSearchDirection.BINSEARCH_DOWN)\n          flagGoneOver = true;\n        if (flagGoneOver)\n          CurrentStep /= 2;\n        Direction = BinSearchDirection.BINSEARCH_UP;\n        step = CurrentStep;\n      } else {\n        if (Direction == BinSearchDirection.BINSEARCH_UP)\n          flagGoneOver = true;\n        if (flagGoneOver)\n          CurrentStep /= 2;\n        Direction = BinSearchDirection.BINSEARCH_DOWN;\n        step = -CurrentStep;\n      }\n      cod_info.global_gain += step;\n      if (cod_info.global_gain < 0) {\n        cod_info.global_gain = 0;\n        flagGoneOver = true;\n      }\n      if (cod_info.global_gain > 255) {\n        cod_info.global_gain = 255;\n        flagGoneOver = true;\n      }\n    }\n    assert$3(cod_info.global_gain >= 0);\n    assert$3(cod_info.global_gain < 256);\n    while (nBits > desired_rate && cod_info.global_gain < 255) {\n      cod_info.global_gain++;\n      nBits = tk.count_bits(gfc, xrpow, cod_info, null);\n    }\n    gfc.CurrentStep[ch] = start2 - cod_info.global_gain >= 4 ? 4 : 2;\n    gfc.OldValue[ch] = cod_info.global_gain;\n    cod_info.part2_3_length = nBits;\n    return nBits;\n  }\n  this.trancate_smallspectrums = function(gfc, gi, l3_xmin, work) {\n    var distort = new_float(L3Side$1.SFBMAX);\n    if ((gfc.substep_shaping & 4) == 0 && gi.block_type == Encoder.SHORT_TYPE || (gfc.substep_shaping & 128) != 0) {\n      return;\n    }\n    qupvt.calc_noise(gi, l3_xmin, distort, new CalcNoiseResult$1(), null);\n    for (var j = 0; j < 576; j++) {\n      var xr = 0;\n      if (gi.l3_enc[j] != 0)\n        xr = Math.abs(gi.xr[j]);\n      work[j] = xr;\n    }\n    var j = 0;\n    var sfb = 8;\n    if (gi.block_type == Encoder.SHORT_TYPE)\n      sfb = 6;\n    do {\n      var allowedNoise, trancateThreshold;\n      var nsame, start2;\n      var width = gi.width[sfb];\n      j += width;\n      if (distort[sfb] >= 1)\n        continue;\n      Arrays$1.sort(work, j - width, width);\n      if (BitStream.EQ(work[j - 1], 0))\n        continue;\n      allowedNoise = (1 - distort[sfb]) * l3_xmin[sfb];\n      trancateThreshold = 0;\n      start2 = 0;\n      do {\n        var noise;\n        for (nsame = 1; start2 + nsame < width; nsame++) {\n          if (BitStream.NEQ(\n            work[start2 + j - width],\n            work[start2 + j + nsame - width]\n          )) {\n            break;\n          }\n        }\n        noise = work[start2 + j - width] * work[start2 + j - width] * nsame;\n        if (allowedNoise < noise) {\n          if (start2 != 0)\n            trancateThreshold = work[start2 + j - width - 1];\n          break;\n        }\n        allowedNoise -= noise;\n        start2 += nsame;\n      } while (start2 < width);\n      if (BitStream.EQ(trancateThreshold, 0))\n        continue;\n      do {\n        if (Math.abs(gi.xr[j - width]) <= trancateThreshold) {\n          gi.l3_enc[j - width] = 0;\n        }\n      } while (--width > 0);\n    } while (++sfb < gi.psymax);\n    gi.part2_3_length = tk.noquant_count_bits(gfc, gi, null);\n  };\n  function loop_break(cod_info) {\n    for (var sfb = 0; sfb < cod_info.sfbmax; sfb++) {\n      if (cod_info.scalefac[sfb] + cod_info.subblock_gain[cod_info.window[sfb]] == 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n  function penalties(noise) {\n    return Util.FAST_LOG10(0.368 + 0.632 * noise * noise * noise);\n  }\n  function get_klemm_noise(distort, gi) {\n    var klemm_noise = 1e-37;\n    for (var sfb = 0; sfb < gi.psymax; sfb++) {\n      klemm_noise += penalties(distort[sfb]);\n    }\n    return Math.max(1e-20, klemm_noise);\n  }\n  function quant_compare(quant_comp, best, calc, gi, distort) {\n    var better;\n    switch (quant_comp) {\n      default:\n      case 9: {\n        if (best.over_count > 0) {\n          better = calc.over_SSD <= best.over_SSD;\n          if (calc.over_SSD == best.over_SSD)\n            better = calc.bits < best.bits;\n        } else {\n          better = calc.max_noise < 0 && calc.max_noise * 10 + calc.bits <= best.max_noise * 10 + best.bits;\n        }\n        break;\n      }\n      case 0:\n        better = calc.over_count < best.over_count || calc.over_count == best.over_count && calc.over_noise < best.over_noise || calc.over_count == best.over_count && BitStream.EQ(calc.over_noise, best.over_noise) && calc.tot_noise < best.tot_noise;\n        break;\n      case 8:\n        calc.max_noise = get_klemm_noise(distort, gi);\n      case 1:\n        better = calc.max_noise < best.max_noise;\n        break;\n      case 2:\n        better = calc.tot_noise < best.tot_noise;\n        break;\n      case 3:\n        better = calc.tot_noise < best.tot_noise && calc.max_noise < best.max_noise;\n        break;\n      case 4:\n        better = calc.max_noise <= 0 && best.max_noise > 0.2 || calc.max_noise <= 0 && best.max_noise < 0 && best.max_noise > calc.max_noise - 0.2 && calc.tot_noise < best.tot_noise || calc.max_noise <= 0 && best.max_noise > 0 && best.max_noise > calc.max_noise - 0.2 && calc.tot_noise < best.tot_noise + best.over_noise || calc.max_noise > 0 && best.max_noise > -0.05 && best.max_noise > calc.max_noise - 0.1 && calc.tot_noise + calc.over_noise < best.tot_noise + best.over_noise || calc.max_noise > 0 && best.max_noise > -0.1 && best.max_noise > calc.max_noise - 0.15 && calc.tot_noise + calc.over_noise + calc.over_noise < best.tot_noise + best.over_noise + best.over_noise;\n        break;\n      case 5:\n        better = calc.over_noise < best.over_noise || BitStream.EQ(calc.over_noise, best.over_noise) && calc.tot_noise < best.tot_noise;\n        break;\n      case 6:\n        better = calc.over_noise < best.over_noise || BitStream.EQ(calc.over_noise, best.over_noise) && (calc.max_noise < best.max_noise || BitStream.EQ(calc.max_noise, best.max_noise) && calc.tot_noise <= best.tot_noise);\n        break;\n      case 7:\n        better = calc.over_count < best.over_count || calc.over_noise < best.over_noise;\n        break;\n    }\n    if (best.over_count == 0) {\n      better = better && calc.bits < best.bits;\n    }\n    return better;\n  }\n  function amp_scalefac_bands(gfp, cod_info, distort, xrpow, bRefine) {\n    var gfc = gfp.internal_flags;\n    var ifqstep34;\n    if (cod_info.scalefac_scale == 0) {\n      ifqstep34 = 1.2968395546510096;\n    } else {\n      ifqstep34 = 1.6817928305074292;\n    }\n    var trigger2 = 0;\n    for (var sfb = 0; sfb < cod_info.sfbmax; sfb++) {\n      if (trigger2 < distort[sfb])\n        trigger2 = distort[sfb];\n    }\n    var noise_shaping_amp = gfc.noise_shaping_amp;\n    if (noise_shaping_amp == 3) {\n      if (bRefine)\n        noise_shaping_amp = 2;\n      else\n        noise_shaping_amp = 1;\n    }\n    switch (noise_shaping_amp) {\n      case 2:\n        break;\n      case 1:\n        if (trigger2 > 1)\n          trigger2 = Math.pow(trigger2, 0.5);\n        else\n          trigger2 *= 0.95;\n        break;\n      case 0:\n      default:\n        if (trigger2 > 1)\n          trigger2 = 1;\n        else\n          trigger2 *= 0.95;\n        break;\n    }\n    var j = 0;\n    for (var sfb = 0; sfb < cod_info.sfbmax; sfb++) {\n      var width = cod_info.width[sfb];\n      var l;\n      j += width;\n      if (distort[sfb] < trigger2)\n        continue;\n      if ((gfc.substep_shaping & 2) != 0) {\n        gfc.pseudohalf[sfb] = gfc.pseudohalf[sfb] == 0 ? 1 : 0;\n        if (gfc.pseudohalf[sfb] == 0 && gfc.noise_shaping_amp == 2)\n          return;\n      }\n      cod_info.scalefac[sfb]++;\n      for (l = -width; l < 0; l++) {\n        xrpow[j + l] *= ifqstep34;\n        if (xrpow[j + l] > cod_info.xrpow_max)\n          cod_info.xrpow_max = xrpow[j + l];\n      }\n      if (gfc.noise_shaping_amp == 2)\n        return;\n    }\n  }\n  function inc_scalefac_scale(cod_info, xrpow) {\n    var ifqstep34 = 1.2968395546510096;\n    var j = 0;\n    for (var sfb = 0; sfb < cod_info.sfbmax; sfb++) {\n      var width = cod_info.width[sfb];\n      var s = cod_info.scalefac[sfb];\n      if (cod_info.preflag != 0)\n        s += qupvt.pretab[sfb];\n      j += width;\n      if ((s & 1) != 0) {\n        s++;\n        for (var l = -width; l < 0; l++) {\n          xrpow[j + l] *= ifqstep34;\n          if (xrpow[j + l] > cod_info.xrpow_max) {\n            cod_info.xrpow_max = xrpow[j + l];\n          }\n        }\n      }\n      cod_info.scalefac[sfb] = s >> 1;\n    }\n    cod_info.preflag = 0;\n    cod_info.scalefac_scale = 1;\n  }\n  function inc_subblock_gain(gfc, cod_info, xrpow) {\n    var sfb;\n    var scalefac = cod_info.scalefac;\n    for (sfb = 0; sfb < cod_info.sfb_lmax; sfb++) {\n      if (scalefac[sfb] >= 16)\n        return true;\n    }\n    for (var window2 = 0; window2 < 3; window2++) {\n      var s1 = 0;\n      var s2 = 0;\n      for (sfb = cod_info.sfb_lmax + window2; sfb < cod_info.sfbdivide; sfb += 3) {\n        if (s1 < scalefac[sfb])\n          s1 = scalefac[sfb];\n      }\n      for (; sfb < cod_info.sfbmax; sfb += 3) {\n        if (s2 < scalefac[sfb])\n          s2 = scalefac[sfb];\n      }\n      if (s1 < 16 && s2 < 8)\n        continue;\n      if (cod_info.subblock_gain[window2] >= 7)\n        return true;\n      cod_info.subblock_gain[window2]++;\n      var j = gfc.scalefac_band.l[cod_info.sfb_lmax];\n      for (sfb = cod_info.sfb_lmax + window2; sfb < cod_info.sfbmax; sfb += 3) {\n        var amp;\n        var width = cod_info.width[sfb];\n        var s = scalefac[sfb];\n        s = s - (4 >> cod_info.scalefac_scale);\n        if (s >= 0) {\n          scalefac[sfb] = s;\n          j += width * 3;\n          continue;\n        }\n        scalefac[sfb] = 0;\n        {\n          var gain = 210 + (s << cod_info.scalefac_scale + 1);\n          amp = qupvt.IPOW20(gain);\n        }\n        j += width * (window2 + 1);\n        for (var l = -width; l < 0; l++) {\n          xrpow[j + l] *= amp;\n          if (xrpow[j + l] > cod_info.xrpow_max) {\n            cod_info.xrpow_max = xrpow[j + l];\n          }\n        }\n        j += width * (3 - window2 - 1);\n      }\n      {\n        var amp = qupvt.IPOW20(202);\n        j += cod_info.width[sfb] * (window2 + 1);\n        for (var l = -cod_info.width[sfb]; l < 0; l++) {\n          xrpow[j + l] *= amp;\n          if (xrpow[j + l] > cod_info.xrpow_max) {\n            cod_info.xrpow_max = xrpow[j + l];\n          }\n        }\n      }\n    }\n    return false;\n  }\n  function balance_noise(gfp, cod_info, distort, xrpow, bRefine) {\n    var gfc = gfp.internal_flags;\n    amp_scalefac_bands(gfp, cod_info, distort, xrpow, bRefine);\n    var status = loop_break(cod_info);\n    if (status)\n      return false;\n    if (gfc.mode_gr == 2)\n      status = tk.scale_bitcount(cod_info);\n    else\n      status = tk.scale_bitcount_lsf(gfc, cod_info);\n    if (!status)\n      return true;\n    if (gfc.noise_shaping > 1) {\n      Arrays$1.fill(gfc.pseudohalf, 0);\n      if (cod_info.scalefac_scale == 0) {\n        inc_scalefac_scale(cod_info, xrpow);\n        status = false;\n      } else {\n        if (cod_info.block_type == Encoder.SHORT_TYPE && gfc.subblock_gain > 0) {\n          status = inc_subblock_gain(gfc, cod_info, xrpow) || loop_break(cod_info);\n        }\n      }\n    }\n    if (!status) {\n      if (gfc.mode_gr == 2)\n        status = tk.scale_bitcount(cod_info);\n      else\n        status = tk.scale_bitcount_lsf(gfc, cod_info);\n    }\n    return !status;\n  }\n  this.outer_loop = function(gfp, cod_info, l3_xmin, xrpow, ch, targ_bits) {\n    var gfc = gfp.internal_flags;\n    var cod_info_w = new GrInfo();\n    var save_xrpow = new_float(576);\n    var distort = new_float(L3Side$1.SFBMAX);\n    var best_noise_info = new CalcNoiseResult$1();\n    var better;\n    var prev_noise = new CalcNoiseData();\n    var best_part2_3_length = 9999999;\n    var bEndOfSearch = false;\n    var bRefine = false;\n    var best_ggain_pass1 = 0;\n    bin_search_StepSize(gfc, cod_info, targ_bits, ch, xrpow);\n    if (gfc.noise_shaping == 0) {\n      return 100;\n    }\n    qupvt.calc_noise(cod_info, l3_xmin, distort, best_noise_info, prev_noise);\n    best_noise_info.bits = cod_info.part2_3_length;\n    cod_info_w.assign(cod_info);\n    var age = 0;\n    System$1.arraycopy(xrpow, 0, save_xrpow, 0, 576);\n    while (!bEndOfSearch) {\n      do {\n        var noise_info = new CalcNoiseResult$1();\n        var search_limit;\n        var maxggain = 255;\n        if ((gfc.substep_shaping & 2) != 0) {\n          search_limit = 20;\n        } else {\n          search_limit = 3;\n        }\n        if (gfc.sfb21_extra) {\n          if (distort[cod_info_w.sfbmax] > 1)\n            break;\n          if (cod_info_w.block_type == Encoder.SHORT_TYPE && (distort[cod_info_w.sfbmax + 1] > 1 || distort[cod_info_w.sfbmax + 2] > 1)) {\n            break;\n          }\n        }\n        if (!balance_noise(gfp, cod_info_w, distort, xrpow, bRefine))\n          break;\n        if (cod_info_w.scalefac_scale != 0)\n          maxggain = 254;\n        var huff_bits = targ_bits - cod_info_w.part2_length;\n        if (huff_bits <= 0)\n          break;\n        while ((cod_info_w.part2_3_length = tk.count_bits(\n          gfc,\n          xrpow,\n          cod_info_w,\n          prev_noise\n        )) > huff_bits && cod_info_w.global_gain <= maxggain) {\n          cod_info_w.global_gain++;\n        }\n        if (cod_info_w.global_gain > maxggain)\n          break;\n        if (best_noise_info.over_count == 0) {\n          while ((cod_info_w.part2_3_length = tk.count_bits(\n            gfc,\n            xrpow,\n            cod_info_w,\n            prev_noise\n          )) > best_part2_3_length && cod_info_w.global_gain <= maxggain) {\n            cod_info_w.global_gain++;\n          }\n          if (cod_info_w.global_gain > maxggain)\n            break;\n        }\n        qupvt.calc_noise(cod_info_w, l3_xmin, distort, noise_info, prev_noise);\n        noise_info.bits = cod_info_w.part2_3_length;\n        if (cod_info.block_type != Encoder.SHORT_TYPE) {\n          better = gfp.quant_comp;\n        } else\n          better = gfp.quant_comp_short;\n        better = quant_compare(\n          better,\n          best_noise_info,\n          noise_info,\n          cod_info_w,\n          distort\n        ) ? 1 : 0;\n        if (better != 0) {\n          best_part2_3_length = cod_info.part2_3_length;\n          best_noise_info = noise_info;\n          cod_info.assign(cod_info_w);\n          age = 0;\n          System$1.arraycopy(xrpow, 0, save_xrpow, 0, 576);\n        } else {\n          if (gfc.full_outer_loop == 0) {\n            if (++age > search_limit && best_noise_info.over_count == 0)\n              break;\n            if (gfc.noise_shaping_amp == 3 && bRefine && age > 30)\n              break;\n            if (gfc.noise_shaping_amp == 3 && bRefine && cod_info_w.global_gain - best_ggain_pass1 > 15) {\n              break;\n            }\n          }\n        }\n      } while (cod_info_w.global_gain + cod_info_w.scalefac_scale < 255);\n      if (gfc.noise_shaping_amp == 3) {\n        if (!bRefine) {\n          cod_info_w.assign(cod_info);\n          System$1.arraycopy(save_xrpow, 0, xrpow, 0, 576);\n          age = 0;\n          best_ggain_pass1 = cod_info_w.global_gain;\n          bRefine = true;\n        } else {\n          bEndOfSearch = true;\n        }\n      } else {\n        bEndOfSearch = true;\n      }\n    }\n    assert$3(cod_info.global_gain + cod_info.scalefac_scale <= 255);\n    if (gfp.VBR == VbrMode$1.vbr_rh || gfp.VBR == VbrMode$1.vbr_mtrh) {\n      System$1.arraycopy(save_xrpow, 0, xrpow, 0, 576);\n    } else if ((gfc.substep_shaping & 1) != 0) {\n      trancate_smallspectrums(gfc, cod_info, l3_xmin, xrpow);\n    }\n    return best_noise_info.over_count;\n  };\n  this.iteration_finish_one = function(gfc, gr, ch) {\n    var l3_side = gfc.l3_side;\n    var cod_info = l3_side.tt[gr][ch];\n    tk.best_scalefac_store(gfc, gr, ch, l3_side);\n    if (gfc.use_best_huffman == 1)\n      tk.best_huffman_divide(gfc, cod_info);\n    rv.ResvAdjust(gfc, cod_info);\n  };\n  this.VBR_encode_granule = function(gfp, cod_info, l3_xmin, xrpow, ch, min_bits, max_bits) {\n    var gfc = gfp.internal_flags;\n    var bst_cod_info = new GrInfo();\n    var bst_xrpow = new_float(576);\n    var Max_bits = max_bits;\n    var real_bits = max_bits + 1;\n    var this_bits = (max_bits + min_bits) / 2;\n    var dbits;\n    var over;\n    var found = 0;\n    var sfb21_extra = gfc.sfb21_extra;\n    assert$3(Max_bits <= LameInternalFlags.MAX_BITS_PER_CHANNEL);\n    Arrays$1.fill(bst_cod_info.l3_enc, 0);\n    do {\n      if (this_bits > Max_bits - 42)\n        gfc.sfb21_extra = false;\n      else\n        gfc.sfb21_extra = sfb21_extra;\n      over = outer_loop(gfp, cod_info, l3_xmin, xrpow, ch, this_bits);\n      if (over <= 0) {\n        found = 1;\n        real_bits = cod_info.part2_3_length;\n        bst_cod_info.assign(cod_info);\n        System$1.arraycopy(xrpow, 0, bst_xrpow, 0, 576);\n        max_bits = real_bits - 32;\n        dbits = max_bits - min_bits;\n        this_bits = (max_bits + min_bits) / 2;\n      } else {\n        min_bits = this_bits + 32;\n        dbits = max_bits - min_bits;\n        this_bits = (max_bits + min_bits) / 2;\n        if (found != 0) {\n          found = 2;\n          cod_info.assign(bst_cod_info);\n          System$1.arraycopy(bst_xrpow, 0, xrpow, 0, 576);\n        }\n      }\n    } while (dbits > 12);\n    gfc.sfb21_extra = sfb21_extra;\n    if (found == 2) {\n      System$1.arraycopy(bst_cod_info.l3_enc, 0, cod_info.l3_enc, 0, 576);\n    }\n    assert$3(cod_info.part2_3_length <= Max_bits);\n  };\n  this.get_framebits = function(gfp, frameBits) {\n    var gfc = gfp.internal_flags;\n    gfc.bitrate_index = gfc.VBR_min_bitrate;\n    var bitsPerFrame = bs.getframebits(gfp);\n    gfc.bitrate_index = 1;\n    bitsPerFrame = bs.getframebits(gfp);\n    for (var i = 1; i <= gfc.VBR_max_bitrate; i++) {\n      gfc.bitrate_index = i;\n      var mb = new MeanBits(bitsPerFrame);\n      frameBits[i] = rv.ResvFrameBegin(gfp, mb);\n      bitsPerFrame = mb.bits;\n    }\n  };\n  this.VBR_old_prepare = function(gfp, pe, ms_ener_ratio, ratio, l3_xmin, frameBits, min_bits, max_bits, bands) {\n    var gfc = gfp.internal_flags;\n    var masking_lower_db;\n    var adjust = 0;\n    var analog_silence = 1;\n    var bits = 0;\n    gfc.bitrate_index = gfc.VBR_max_bitrate;\n    var avg = rv.ResvFrameBegin(gfp, new MeanBits(0)) / gfc.mode_gr;\n    get_framebits(gfp, frameBits);\n    for (var gr = 0; gr < gfc.mode_gr; gr++) {\n      var mxb = qupvt.on_pe(gfp, pe, max_bits[gr], avg, gr, 0);\n      if (gfc.mode_ext == Encoder.MPG_MD_MS_LR) {\n        ms_convert(gfc.l3_side, gr);\n        qupvt.reduce_side(max_bits[gr], ms_ener_ratio[gr], avg, mxb);\n      }\n      for (var ch = 0; ch < gfc.channels_out; ++ch) {\n        var cod_info = gfc.l3_side.tt[gr][ch];\n        if (cod_info.block_type != Encoder.SHORT_TYPE) {\n          adjust = 1.28 / (1 + Math.exp(3.5 - pe[gr][ch] / 300)) - 0.05;\n          masking_lower_db = gfc.PSY.mask_adjust - adjust;\n        } else {\n          adjust = 2.56 / (1 + Math.exp(3.5 - pe[gr][ch] / 300)) - 0.14;\n          masking_lower_db = gfc.PSY.mask_adjust_short - adjust;\n        }\n        gfc.masking_lower = Math.pow(10, masking_lower_db * 0.1);\n        init_outer_loop(gfc, cod_info);\n        bands[gr][ch] = qupvt.calc_xmin(\n          gfp,\n          ratio[gr][ch],\n          cod_info,\n          l3_xmin[gr][ch]\n        );\n        if (bands[gr][ch] != 0)\n          analog_silence = 0;\n        min_bits[gr][ch] = 126;\n        bits += max_bits[gr][ch];\n      }\n    }\n    for (var gr = 0; gr < gfc.mode_gr; gr++) {\n      for (var ch = 0; ch < gfc.channels_out; ch++) {\n        if (bits > frameBits[gfc.VBR_max_bitrate]) {\n          max_bits[gr][ch] *= frameBits[gfc.VBR_max_bitrate];\n          max_bits[gr][ch] /= bits;\n        }\n        if (min_bits[gr][ch] > max_bits[gr][ch]) {\n          min_bits[gr][ch] = max_bits[gr][ch];\n        }\n      }\n    }\n    return analog_silence;\n  };\n  this.bitpressure_strategy = function(gfc, l3_xmin, min_bits, max_bits) {\n    for (var gr = 0; gr < gfc.mode_gr; gr++) {\n      for (var ch = 0; ch < gfc.channels_out; ch++) {\n        var gi = gfc.l3_side.tt[gr][ch];\n        var pxmin = l3_xmin[gr][ch];\n        var pxminPos = 0;\n        for (var sfb = 0; sfb < gi.psy_lmax; sfb++) {\n          pxmin[pxminPos++] *= 1 + 0.029 * sfb * sfb / Encoder.SBMAX_l / Encoder.SBMAX_l;\n        }\n        if (gi.block_type == Encoder.SHORT_TYPE) {\n          for (var sfb = gi.sfb_smin; sfb < Encoder.SBMAX_s; sfb++) {\n            pxmin[pxminPos++] *= 1 + 0.029 * sfb * sfb / Encoder.SBMAX_s / Encoder.SBMAX_s;\n            pxmin[pxminPos++] *= 1 + 0.029 * sfb * sfb / Encoder.SBMAX_s / Encoder.SBMAX_s;\n            pxmin[pxminPos++] *= 1 + 0.029 * sfb * sfb / Encoder.SBMAX_s / Encoder.SBMAX_s;\n          }\n        }\n        max_bits[gr][ch] = 0 | Math.max(min_bits[gr][ch], 0.9 * max_bits[gr][ch]);\n      }\n    }\n  };\n  this.VBR_new_prepare = function(gfp, pe, ratio, l3_xmin, frameBits, max_bits) {\n    var gfc = gfp.internal_flags;\n    var analog_silence = 1;\n    var avg = 0;\n    var bits = 0;\n    var maximum_framebits;\n    if (!gfp.free_format) {\n      gfc.bitrate_index = gfc.VBR_max_bitrate;\n      var mb = new MeanBits(avg);\n      rv.ResvFrameBegin(gfp, mb);\n      avg = mb.bits;\n      get_framebits(gfp, frameBits);\n      maximum_framebits = frameBits[gfc.VBR_max_bitrate];\n    } else {\n      gfc.bitrate_index = 0;\n      var mb = new MeanBits(avg);\n      maximum_framebits = rv.ResvFrameBegin(gfp, mb);\n      avg = mb.bits;\n      frameBits[0] = maximum_framebits;\n    }\n    for (var gr = 0; gr < gfc.mode_gr; gr++) {\n      qupvt.on_pe(gfp, pe, max_bits[gr], avg, gr, 0);\n      if (gfc.mode_ext == Encoder.MPG_MD_MS_LR) {\n        ms_convert(gfc.l3_side, gr);\n      }\n      for (var ch = 0; ch < gfc.channels_out; ++ch) {\n        var cod_info = gfc.l3_side.tt[gr][ch];\n        gfc.masking_lower = Math.pow(10, gfc.PSY.mask_adjust * 0.1);\n        init_outer_loop(gfc, cod_info);\n        if (qupvt.calc_xmin(gfp, ratio[gr][ch], cod_info, l3_xmin[gr][ch]) != 0) {\n          analog_silence = 0;\n        }\n        bits += max_bits[gr][ch];\n      }\n    }\n    for (var gr = 0; gr < gfc.mode_gr; gr++) {\n      for (var ch = 0; ch < gfc.channels_out; ch++) {\n        if (bits > maximum_framebits) {\n          max_bits[gr][ch] *= maximum_framebits;\n          max_bits[gr][ch] /= bits;\n        }\n      }\n    }\n    return analog_silence;\n  };\n  this.calc_target_bits = function(gfp, pe, ms_ener_ratio, targ_bits, analog_silence_bits, max_frame_bits) {\n    var gfc = gfp.internal_flags;\n    var l3_side = gfc.l3_side;\n    var res_factor;\n    var gr;\n    var ch;\n    var totbits;\n    var mean_bits = 0;\n    gfc.bitrate_index = gfc.VBR_max_bitrate;\n    var mb = new MeanBits(mean_bits);\n    max_frame_bits[0] = rv.ResvFrameBegin(gfp, mb);\n    mean_bits = mb.bits;\n    gfc.bitrate_index = 1;\n    mean_bits = bs.getframebits(gfp) - gfc.sideinfo_len * 8;\n    analog_silence_bits[0] = mean_bits / (gfc.mode_gr * gfc.channels_out);\n    mean_bits = gfp.VBR_mean_bitrate_kbps * gfp.framesize * 1e3;\n    if ((gfc.substep_shaping & 1) != 0)\n      mean_bits *= 1.09;\n    mean_bits /= gfp.out_samplerate;\n    mean_bits -= gfc.sideinfo_len * 8;\n    mean_bits /= gfc.mode_gr * gfc.channels_out;\n    res_factor = 0.93 + 0.07 * (11 - gfp.compression_ratio) / (11 - 5.5);\n    if (res_factor < 0.9)\n      res_factor = 0.9;\n    if (res_factor > 1)\n      res_factor = 1;\n    for (gr = 0; gr < gfc.mode_gr; gr++) {\n      var sum = 0;\n      for (ch = 0; ch < gfc.channels_out; ch++) {\n        targ_bits[gr][ch] = int(res_factor * mean_bits);\n        if (pe[gr][ch] > 700) {\n          var add_bits = int((pe[gr][ch] - 700) / 1.4);\n          var cod_info = l3_side.tt[gr][ch];\n          targ_bits[gr][ch] = int(res_factor * mean_bits);\n          if (cod_info.block_type == Encoder.SHORT_TYPE) {\n            if (add_bits < mean_bits / 2)\n              add_bits = mean_bits / 2;\n          }\n          if (add_bits > mean_bits * 3 / 2)\n            add_bits = mean_bits * 3 / 2;\n          else if (add_bits < 0)\n            add_bits = 0;\n          targ_bits[gr][ch] += add_bits;\n        }\n        if (targ_bits[gr][ch] > LameInternalFlags.MAX_BITS_PER_CHANNEL) {\n          targ_bits[gr][ch] = LameInternalFlags.MAX_BITS_PER_CHANNEL;\n        }\n        sum += targ_bits[gr][ch];\n      }\n      if (sum > LameInternalFlags.MAX_BITS_PER_GRANULE) {\n        for (ch = 0; ch < gfc.channels_out; ++ch) {\n          targ_bits[gr][ch] *= LameInternalFlags.MAX_BITS_PER_GRANULE;\n          targ_bits[gr][ch] /= sum;\n        }\n      }\n    }\n    if (gfc.mode_ext == Encoder.MPG_MD_MS_LR) {\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        qupvt.reduce_side(\n          targ_bits[gr],\n          ms_ener_ratio[gr],\n          mean_bits * gfc.channels_out,\n          LameInternalFlags.MAX_BITS_PER_GRANULE\n        );\n      }\n    }\n    totbits = 0;\n    for (gr = 0; gr < gfc.mode_gr; gr++) {\n      for (ch = 0; ch < gfc.channels_out; ch++) {\n        if (targ_bits[gr][ch] > LameInternalFlags.MAX_BITS_PER_CHANNEL) {\n          targ_bits[gr][ch] = LameInternalFlags.MAX_BITS_PER_CHANNEL;\n        }\n        totbits += targ_bits[gr][ch];\n      }\n    }\n    if (totbits > max_frame_bits[0]) {\n      for (gr = 0; gr < gfc.mode_gr; gr++) {\n        for (ch = 0; ch < gfc.channels_out; ch++) {\n          targ_bits[gr][ch] *= max_frame_bits[0];\n          targ_bits[gr][ch] /= totbits;\n        }\n      }\n    }\n  };\n}\nvar assert$2 = common.assert;\nfunction Reservoir() {\n  var bs;\n  this.setModules = function(_bs) {\n    bs = _bs;\n  };\n  this.ResvFrameBegin = function(gfp, mean_bits) {\n    var gfc = gfp.internal_flags;\n    var maxmp3buf;\n    var l3_side = gfc.l3_side;\n    var frameLength = bs.getframebits(gfp);\n    mean_bits.bits = (frameLength - gfc.sideinfo_len * 8) / gfc.mode_gr;\n    var resvLimit = 8 * 256 * gfc.mode_gr - 8;\n    if (gfp.brate > 320) {\n      maxmp3buf = 8 * int(gfp.brate * 1e3 / (gfp.out_samplerate / 1152) / 8 + 0.5);\n    } else {\n      maxmp3buf = 8 * 1440;\n      if (gfp.strict_ISO) {\n        maxmp3buf = 8 * int(32e4 / (gfp.out_samplerate / 1152) / 8 + 0.5);\n      }\n    }\n    gfc.ResvMax = maxmp3buf - frameLength;\n    if (gfc.ResvMax > resvLimit)\n      gfc.ResvMax = resvLimit;\n    if (gfc.ResvMax < 0 || gfp.disable_reservoir)\n      gfc.ResvMax = 0;\n    var fullFrameBits = mean_bits.bits * gfc.mode_gr + Math.min(gfc.ResvSize, gfc.ResvMax);\n    if (fullFrameBits > maxmp3buf)\n      fullFrameBits = maxmp3buf;\n    assert$2(gfc.ResvMax % 8 == 0);\n    assert$2(gfc.ResvMax >= 0);\n    l3_side.resvDrain_pre = 0;\n    if (gfc.pinfo != null) {\n      gfc.pinfo.mean_bits = mean_bits.bits / 2;\n      gfc.pinfo.resvsize = gfc.ResvSize;\n    }\n    return fullFrameBits;\n  };\n  this.ResvMaxBits = function(gfp, mean_bits, targ_bits, cbr) {\n    var gfc = gfp.internal_flags;\n    var add_bits;\n    var ResvSize = gfc.ResvSize;\n    var ResvMax = gfc.ResvMax;\n    if (cbr != 0)\n      ResvSize += mean_bits;\n    if ((gfc.substep_shaping & 1) != 0)\n      ResvMax *= 0.9;\n    targ_bits.bits = mean_bits;\n    if (ResvSize * 10 > ResvMax * 9) {\n      add_bits = ResvSize - ResvMax * 9 / 10;\n      targ_bits.bits += add_bits;\n      gfc.substep_shaping |= 128;\n    } else {\n      add_bits = 0;\n      gfc.substep_shaping &= 127;\n      if (!gfp.disable_reservoir && (gfc.substep_shaping & 1) == 0) {\n        targ_bits.bits -= 0.1 * mean_bits;\n      }\n    }\n    var extra_bits = ResvSize < gfc.ResvMax * 6 / 10 ? ResvSize : gfc.ResvMax * 6 / 10;\n    extra_bits -= add_bits;\n    if (extra_bits < 0)\n      extra_bits = 0;\n    return extra_bits;\n  };\n  this.ResvAdjust = function(gfc, gi) {\n    gfc.ResvSize -= gi.part2_3_length + gi.part2_length;\n  };\n  this.ResvFrameEnd = function(gfc, mean_bits) {\n    var over_bits;\n    var l3_side = gfc.l3_side;\n    gfc.ResvSize += mean_bits * gfc.mode_gr;\n    var stuffingBits = 0;\n    l3_side.resvDrain_post = 0;\n    l3_side.resvDrain_pre = 0;\n    if ((over_bits = gfc.ResvSize % 8) != 0)\n      stuffingBits += over_bits;\n    over_bits = gfc.ResvSize - stuffingBits - gfc.ResvMax;\n    if (over_bits > 0) {\n      stuffingBits += over_bits;\n    }\n    {\n      var mdb_bytes = Math.min(l3_side.main_data_begin * 8, stuffingBits) / 8;\n      l3_side.resvDrain_pre += 8 * mdb_bytes;\n      stuffingBits -= 8 * mdb_bytes;\n      gfc.ResvSize -= 8 * mdb_bytes;\n      l3_side.main_data_begin -= mdb_bytes;\n    }\n    l3_side.resvDrain_post += stuffingBits;\n    gfc.ResvSize -= stuffingBits;\n  };\n}\nfunction Version() {\n  var LAME_URL = \"http://www.mp3dev.org/\";\n  var LAME_MAJOR_VERSION = 3;\n  var LAME_MINOR_VERSION = 98;\n  var LAME_PATCH_VERSION = 4;\n  var PSY_MAJOR_VERSION = 0;\n  var PSY_MINOR_VERSION = 93;\n  this.getLameVersion = function() {\n    return LAME_MAJOR_VERSION + \".\" + LAME_MINOR_VERSION + \".\" + LAME_PATCH_VERSION;\n  };\n  this.getLameShortVersion = function() {\n    return LAME_MAJOR_VERSION + \".\" + LAME_MINOR_VERSION + \".\" + LAME_PATCH_VERSION;\n  };\n  this.getLameVeryShortVersion = function() {\n    return \"LAME\" + LAME_MAJOR_VERSION + \".\" + LAME_MINOR_VERSION + \"r\";\n  };\n  this.getPsyVersion = function() {\n    return PSY_MAJOR_VERSION + \".\" + PSY_MINOR_VERSION;\n  };\n  this.getLameUrl = function() {\n    return LAME_URL;\n  };\n  this.getLameOsBitness = function() {\n    return \"32bits\";\n  };\n}\nvar System = common.System;\nvar VbrMode = common.VbrMode;\nvar ShortBlock = common.ShortBlock;\nvar Arrays = common.Arrays;\nvar new_byte$1 = common.new_byte;\nvar assert$1 = common.assert;\nVBRTag.NUMTOCENTRIES = 100;\nVBRTag.MAXFRAMESIZE = 2880;\nfunction VBRTag() {\n  var lame;\n  var bs;\n  var v;\n  this.setModules = function(_lame, _bs, _v) {\n    lame = _lame;\n    bs = _bs;\n    v = _v;\n  };\n  var FRAMES_FLAG = 1;\n  var BYTES_FLAG = 2;\n  var TOC_FLAG = 4;\n  var VBR_SCALE_FLAG = 8;\n  var NUMTOCENTRIES = VBRTag.NUMTOCENTRIES;\n  var MAXFRAMESIZE = VBRTag.MAXFRAMESIZE;\n  var VBRHEADERSIZE = NUMTOCENTRIES + 4 + 4 + 4 + 4 + 4;\n  var LAMEHEADERSIZE = VBRHEADERSIZE + 9 + 1 + 1 + 8 + 1 + 1 + 3 + 1 + 1 + 2 + 4 + 2 + 2;\n  var XING_BITRATE1 = 128;\n  var XING_BITRATE2 = 64;\n  var XING_BITRATE25 = 32;\n  var ISO_8859_1 = null;\n  var VBRTag0 = \"Xing\";\n  var VBRTag1 = \"Info\";\n  var crc16Lookup = [\n    0,\n    49345,\n    49537,\n    320,\n    49921,\n    960,\n    640,\n    49729,\n    50689,\n    1728,\n    1920,\n    51009,\n    1280,\n    50625,\n    50305,\n    1088,\n    52225,\n    3264,\n    3456,\n    52545,\n    3840,\n    53185,\n    52865,\n    3648,\n    2560,\n    51905,\n    52097,\n    2880,\n    51457,\n    2496,\n    2176,\n    51265,\n    55297,\n    6336,\n    6528,\n    55617,\n    6912,\n    56257,\n    55937,\n    6720,\n    7680,\n    57025,\n    57217,\n    8e3,\n    56577,\n    7616,\n    7296,\n    56385,\n    5120,\n    54465,\n    54657,\n    5440,\n    55041,\n    6080,\n    5760,\n    54849,\n    53761,\n    4800,\n    4992,\n    54081,\n    4352,\n    53697,\n    53377,\n    4160,\n    61441,\n    12480,\n    12672,\n    61761,\n    13056,\n    62401,\n    62081,\n    12864,\n    13824,\n    63169,\n    63361,\n    14144,\n    62721,\n    13760,\n    13440,\n    62529,\n    15360,\n    64705,\n    64897,\n    15680,\n    65281,\n    16320,\n    16e3,\n    65089,\n    64001,\n    15040,\n    15232,\n    64321,\n    14592,\n    63937,\n    63617,\n    14400,\n    10240,\n    59585,\n    59777,\n    10560,\n    60161,\n    11200,\n    10880,\n    59969,\n    60929,\n    11968,\n    12160,\n    61249,\n    11520,\n    60865,\n    60545,\n    11328,\n    58369,\n    9408,\n    9600,\n    58689,\n    9984,\n    59329,\n    59009,\n    9792,\n    8704,\n    58049,\n    58241,\n    9024,\n    57601,\n    8640,\n    8320,\n    57409,\n    40961,\n    24768,\n    24960,\n    41281,\n    25344,\n    41921,\n    41601,\n    25152,\n    26112,\n    42689,\n    42881,\n    26432,\n    42241,\n    26048,\n    25728,\n    42049,\n    27648,\n    44225,\n    44417,\n    27968,\n    44801,\n    28608,\n    28288,\n    44609,\n    43521,\n    27328,\n    27520,\n    43841,\n    26880,\n    43457,\n    43137,\n    26688,\n    30720,\n    47297,\n    47489,\n    31040,\n    47873,\n    31680,\n    31360,\n    47681,\n    48641,\n    32448,\n    32640,\n    48961,\n    32e3,\n    48577,\n    48257,\n    31808,\n    46081,\n    29888,\n    30080,\n    46401,\n    30464,\n    47041,\n    46721,\n    30272,\n    29184,\n    45761,\n    45953,\n    29504,\n    45313,\n    29120,\n    28800,\n    45121,\n    20480,\n    37057,\n    37249,\n    20800,\n    37633,\n    21440,\n    21120,\n    37441,\n    38401,\n    22208,\n    22400,\n    38721,\n    21760,\n    38337,\n    38017,\n    21568,\n    39937,\n    23744,\n    23936,\n    40257,\n    24320,\n    40897,\n    40577,\n    24128,\n    23040,\n    39617,\n    39809,\n    23360,\n    39169,\n    22976,\n    22656,\n    38977,\n    34817,\n    18624,\n    18816,\n    35137,\n    19200,\n    35777,\n    35457,\n    19008,\n    19968,\n    36545,\n    36737,\n    20288,\n    36097,\n    19904,\n    19584,\n    35905,\n    17408,\n    33985,\n    34177,\n    17728,\n    34561,\n    18368,\n    18048,\n    34369,\n    33281,\n    17088,\n    17280,\n    33601,\n    16640,\n    33217,\n    32897,\n    16448\n  ];\n  function addVbr(v2, bitrate) {\n    v2.nVbrNumFrames++;\n    v2.sum += bitrate;\n    v2.seen++;\n    if (v2.seen < v2.want) {\n      return;\n    }\n    if (v2.pos < v2.size) {\n      v2.bag[v2.pos] = v2.sum;\n      v2.pos++;\n      v2.seen = 0;\n    }\n    if (v2.pos == v2.size) {\n      for (var i = 1; i < v2.size; i += 2) {\n        v2.bag[i / 2] = v2.bag[i];\n      }\n      v2.want *= 2;\n      v2.pos /= 2;\n    }\n  }\n  function xingSeekTable(v2, t) {\n    if (v2.pos <= 0)\n      return;\n    for (var i = 1; i < NUMTOCENTRIES; ++i) {\n      var j = i / NUMTOCENTRIES;\n      var act;\n      var sum;\n      var indx = 0 | Math.floor(j * v2.pos);\n      if (indx > v2.pos - 1)\n        indx = v2.pos - 1;\n      act = v2.bag[indx];\n      sum = v2.sum;\n      var seek_point = 0 | 256 * act / sum;\n      if (seek_point > 255)\n        seek_point = 255;\n      t[i] = 255 & seek_point;\n    }\n  }\n  this.addVbrFrame = function(gfp) {\n    var gfc = gfp.internal_flags;\n    var kbps = Tables.bitrate_table[gfp.version][gfc.bitrate_index];\n    assert$1(gfc.VBR_seek_table.bag != null);\n    addVbr(gfc.VBR_seek_table, kbps);\n  };\n  function extractInteger(buf, bufPos) {\n    var x = buf[bufPos + 0] & 255;\n    x <<= 8;\n    x |= buf[bufPos + 1] & 255;\n    x <<= 8;\n    x |= buf[bufPos + 2] & 255;\n    x <<= 8;\n    x |= buf[bufPos + 3] & 255;\n    return x;\n  }\n  function createInteger(buf, bufPos, value) {\n    buf[bufPos + 0] = 255 & (value >> 24 & 255);\n    buf[bufPos + 1] = 255 & (value >> 16 & 255);\n    buf[bufPos + 2] = 255 & (value >> 8 & 255);\n    buf[bufPos + 3] = 255 & (value & 255);\n  }\n  function createShort(buf, bufPos, value) {\n    buf[bufPos + 0] = 255 & (value >> 8 & 255);\n    buf[bufPos + 1] = 255 & (value & 255);\n  }\n  function isVbrTag(buf, bufPos) {\n    return new String(buf, bufPos, VBRTag0.length(), ISO_8859_1).equals(VBRTag0) || new String(buf, bufPos, VBRTag1.length(), ISO_8859_1).equals(VBRTag1);\n  }\n  function shiftInBitsValue(x, n, v2) {\n    return 255 & (x << n | v2 & ~(-1 << n));\n  }\n  function setLameTagFrameHeader(gfp, buffer) {\n    var gfc = gfp.internal_flags;\n    buffer[0] = shiftInBitsValue(buffer[0], 8, 255);\n    buffer[1] = shiftInBitsValue(buffer[1], 3, 7);\n    buffer[1] = shiftInBitsValue(\n      buffer[1],\n      1,\n      gfp.out_samplerate < 16e3 ? 0 : 1\n    );\n    buffer[1] = shiftInBitsValue(buffer[1], 1, gfp.version);\n    buffer[1] = shiftInBitsValue(buffer[1], 2, 4 - 3);\n    buffer[1] = shiftInBitsValue(buffer[1], 1, !gfp.error_protection ? 1 : 0);\n    buffer[2] = shiftInBitsValue(buffer[2], 4, gfc.bitrate_index);\n    buffer[2] = shiftInBitsValue(buffer[2], 2, gfc.samplerate_index);\n    buffer[2] = shiftInBitsValue(buffer[2], 1, 0);\n    buffer[2] = shiftInBitsValue(buffer[2], 1, gfp.extension);\n    buffer[3] = shiftInBitsValue(buffer[3], 2, gfp.mode.ordinal());\n    buffer[3] = shiftInBitsValue(buffer[3], 2, gfc.mode_ext);\n    buffer[3] = shiftInBitsValue(buffer[3], 1, gfp.copyright);\n    buffer[3] = shiftInBitsValue(buffer[3], 1, gfp.original);\n    buffer[3] = shiftInBitsValue(buffer[3], 2, gfp.emphasis);\n    buffer[0] = 255;\n    var abyte = 255 & (buffer[1] & 241);\n    var bitrate;\n    if (gfp.version == 1) {\n      bitrate = XING_BITRATE1;\n    } else {\n      if (gfp.out_samplerate < 16e3)\n        bitrate = XING_BITRATE25;\n      else\n        bitrate = XING_BITRATE2;\n    }\n    if (gfp.VBR == VbrMode.vbr_off)\n      bitrate = gfp.brate;\n    var bbyte;\n    if (gfp.free_format)\n      bbyte = 0;\n    else {\n      bbyte = 255 & 16 * lame.BitrateIndex(bitrate, gfp.version, gfp.out_samplerate);\n    }\n    if (gfp.version == 1) {\n      buffer[1] = 255 & (abyte | 10);\n      abyte = 255 & (buffer[2] & 13);\n      buffer[2] = 255 & (bbyte | abyte);\n    } else {\n      buffer[1] = 255 & (abyte | 2);\n      abyte = 255 & (buffer[2] & 13);\n      buffer[2] = 255 & (bbyte | abyte);\n    }\n  }\n  this.getVbrTag = function(buf) {\n    var pTagData = new VBRTagData();\n    var bufPos = 0;\n    pTagData.flags = 0;\n    var hId = buf[bufPos + 1] >> 3 & 1;\n    var hSrIndex = buf[bufPos + 2] >> 2 & 3;\n    var hMode = buf[bufPos + 3] >> 6 & 3;\n    var hBitrate = buf[bufPos + 2] >> 4 & 15;\n    hBitrate = Tables.bitrate_table[hId][hBitrate];\n    if (buf[bufPos + 1] >> 4 == 14) {\n      pTagData.samprate = Tables.samplerate_table[2][hSrIndex];\n    } else\n      pTagData.samprate = Tables.samplerate_table[hId][hSrIndex];\n    if (hId != 0) {\n      if (hMode != 3)\n        bufPos += 32 + 4;\n      else\n        bufPos += 17 + 4;\n    } else {\n      if (hMode != 3)\n        bufPos += 17 + 4;\n      else\n        bufPos += 9 + 4;\n    }\n    if (!isVbrTag(buf, bufPos))\n      return null;\n    bufPos += 4;\n    pTagData.hId = hId;\n    var head_flags = pTagData.flags = extractInteger(buf, bufPos);\n    bufPos += 4;\n    if ((head_flags & FRAMES_FLAG) != 0) {\n      pTagData.frames = extractInteger(buf, bufPos);\n      bufPos += 4;\n    }\n    if ((head_flags & BYTES_FLAG) != 0) {\n      pTagData.bytes = extractInteger(buf, bufPos);\n      bufPos += 4;\n    }\n    if ((head_flags & TOC_FLAG) != 0) {\n      if (pTagData.toc != null) {\n        for (var i = 0; i < NUMTOCENTRIES; i++) {\n          pTagData.toc[i] = buf[bufPos + i];\n        }\n      }\n      bufPos += NUMTOCENTRIES;\n    }\n    pTagData.vbrScale = -1;\n    if ((head_flags & VBR_SCALE_FLAG) != 0) {\n      pTagData.vbrScale = extractInteger(buf, bufPos);\n      bufPos += 4;\n    }\n    pTagData.headersize = (hId + 1) * 72e3 * hBitrate / pTagData.samprate;\n    bufPos += 21;\n    var encDelay = buf[bufPos + 0] << 4;\n    encDelay += buf[bufPos + 1] >> 4;\n    var encPadding = (buf[bufPos + 1] & 15) << 8;\n    encPadding += buf[bufPos + 2] & 255;\n    if (encDelay < 0 || encDelay > 3e3)\n      encDelay = -1;\n    if (encPadding < 0 || encPadding > 3e3)\n      encPadding = -1;\n    pTagData.encDelay = encDelay;\n    pTagData.encPadding = encPadding;\n    return pTagData;\n  };\n  this.InitVbrTag = function(gfp) {\n    var gfc = gfp.internal_flags;\n    var kbps_header;\n    if (gfp.version == 1) {\n      kbps_header = XING_BITRATE1;\n    } else {\n      if (gfp.out_samplerate < 16e3)\n        kbps_header = XING_BITRATE25;\n      else\n        kbps_header = XING_BITRATE2;\n    }\n    if (gfp.VBR == VbrMode.vbr_off)\n      kbps_header = gfp.brate;\n    var totalFrameSize = (gfp.version + 1) * 72e3 * kbps_header / gfp.out_samplerate;\n    var headerSize = gfc.sideinfo_len + LAMEHEADERSIZE;\n    gfc.VBR_seek_table.TotalFrameSize = totalFrameSize;\n    if (totalFrameSize < headerSize || totalFrameSize > MAXFRAMESIZE) {\n      gfp.bWriteVbrTag = false;\n      return;\n    }\n    gfc.VBR_seek_table.nVbrNumFrames = 0;\n    gfc.VBR_seek_table.nBytesWritten = 0;\n    gfc.VBR_seek_table.sum = 0;\n    gfc.VBR_seek_table.seen = 0;\n    gfc.VBR_seek_table.want = 1;\n    gfc.VBR_seek_table.pos = 0;\n    if (gfc.VBR_seek_table.bag == null) {\n      gfc.VBR_seek_table.bag = new int[400]();\n      gfc.VBR_seek_table.size = 400;\n    }\n    var buffer = new_byte$1(MAXFRAMESIZE);\n    setLameTagFrameHeader(gfp, buffer);\n    var n = gfc.VBR_seek_table.TotalFrameSize;\n    for (var i = 0; i < n; ++i) {\n      bs.add_dummy_byte(gfp, buffer[i] & 255, 1);\n    }\n  };\n  function crcUpdateLookup(value, crc) {\n    var tmp = crc ^ value;\n    crc = crc >> 8 ^ crc16Lookup[tmp & 255];\n    return crc;\n  }\n  this.updateMusicCRC = function(crc, buffer, bufferPos, size2) {\n    for (var i = 0; i < size2; ++i) {\n      crc[0] = crcUpdateLookup(buffer[bufferPos + i], crc[0]);\n    }\n  };\n  function putLameVBR(gfp, musicLength, streamBuffer, streamBufferPos, crc) {\n    var gfc = gfp.internal_flags;\n    var bytesWritten = 0;\n    var encDelay = gfp.encoder_delay;\n    var encPadding = gfp.encoder_padding;\n    var quality = 100 - 10 * gfp.VBR_q - gfp.quality;\n    var version2 = v.getLameVeryShortVersion();\n    var vbr;\n    var revision = 0;\n    var revMethod;\n    var vbrTypeTranslator = [1, 5, 3, 2, 4, 0, 3];\n    var lowpass = 0 | (gfp.lowpassfreq / 100 + 0.5 > 255 ? 255 : gfp.lowpassfreq / 100 + 0.5);\n    var peakSignalAmplitude = 0;\n    var radioReplayGain = 0;\n    var audiophileReplayGain = 0;\n    var noiseShaping = gfp.internal_flags.noise_shaping;\n    var stereoMode = 0;\n    var nonOptimal = 0;\n    var sourceFreq = 0;\n    var misc = 0;\n    var musicCRC = 0;\n    var expNPsyTune = (gfp.exp_nspsytune & 1) != 0;\n    var safeJoint = (gfp.exp_nspsytune & 2) != 0;\n    var noGapMore = false;\n    var noGapPrevious = false;\n    var noGapCount = gfp.internal_flags.nogap_total;\n    var noGapCurr = gfp.internal_flags.nogap_current;\n    var athType = gfp.ATHtype;\n    var flags = 0;\n    var abrBitrate;\n    switch (gfp.VBR) {\n      case vbr_abr:\n        abrBitrate = gfp.VBR_mean_bitrate_kbps;\n        break;\n      case vbr_off:\n        abrBitrate = gfp.brate;\n        break;\n      default:\n        abrBitrate = gfp.VBR_min_bitrate_kbps;\n    }\n    if (gfp.VBR.ordinal() < vbrTypeTranslator.length) {\n      vbr = vbrTypeTranslator[gfp.VBR.ordinal()];\n    } else\n      vbr = 0;\n    revMethod = 16 * revision + vbr;\n    if (gfc.findReplayGain) {\n      if (gfc.RadioGain > 510)\n        gfc.RadioGain = 510;\n      if (gfc.RadioGain < -510)\n        gfc.RadioGain = -510;\n      radioReplayGain = 8192;\n      radioReplayGain |= 3072;\n      if (gfc.RadioGain >= 0) {\n        radioReplayGain |= gfc.RadioGain;\n      } else {\n        radioReplayGain |= 512;\n        radioReplayGain |= -gfc.RadioGain;\n      }\n    }\n    if (gfc.findPeakSample) {\n      peakSignalAmplitude = Math.abs(\n        0 | gfc.PeakSample / 32767 * Math.pow(2, 23) + 0.5\n      );\n    }\n    if (noGapCount != -1) {\n      if (noGapCurr > 0)\n        noGapPrevious = true;\n      if (noGapCurr < noGapCount - 1)\n        noGapMore = true;\n    }\n    flags = athType + ((expNPsyTune ? 1 : 0) << 4) + ((safeJoint ? 1 : 0) << 5) + ((noGapMore ? 1 : 0) << 6) + ((noGapPrevious ? 1 : 0) << 7);\n    if (quality < 0)\n      quality = 0;\n    switch (gfp.mode) {\n      case MONO:\n        stereoMode = 0;\n        break;\n      case STEREO:\n        stereoMode = 1;\n        break;\n      case DUAL_CHANNEL:\n        stereoMode = 2;\n        break;\n      case JOINT_STEREO:\n        if (gfp.force_ms)\n          stereoMode = 4;\n        else\n          stereoMode = 3;\n        break;\n      case NOT_SET:\n      default:\n        stereoMode = 7;\n        break;\n    }\n    if (gfp.in_samplerate <= 32e3)\n      sourceFreq = 0;\n    else if (gfp.in_samplerate == 48e3)\n      sourceFreq = 2;\n    else if (gfp.in_samplerate > 48e3)\n      sourceFreq = 3;\n    else {\n      sourceFreq = 1;\n    }\n    if (gfp.short_blocks == ShortBlock.short_block_forced || gfp.short_blocks == ShortBlock.short_block_dispensed || gfp.lowpassfreq == -1 && gfp.highpassfreq == -1 || gfp.scale_left < gfp.scale_right || gfp.scale_left > gfp.scale_right || gfp.disable_reservoir && gfp.brate < 320 || gfp.noATH || gfp.ATHonly || athType == 0 || gfp.in_samplerate <= 32e3) {\n      nonOptimal = 1;\n    }\n    misc = noiseShaping + (stereoMode << 2) + (nonOptimal << 5) + (sourceFreq << 6);\n    musicCRC = gfc.nMusicCRC;\n    createInteger(streamBuffer, streamBufferPos + bytesWritten, quality);\n    bytesWritten += 4;\n    for (var j = 0; j < 9; j++) {\n      streamBuffer[streamBufferPos + bytesWritten + j] = 255 & version2.charAt(j);\n    }\n    bytesWritten += 9;\n    streamBuffer[streamBufferPos + bytesWritten] = 255 & revMethod;\n    bytesWritten++;\n    streamBuffer[streamBufferPos + bytesWritten] = 255 & lowpass;\n    bytesWritten++;\n    createInteger(\n      streamBuffer,\n      streamBufferPos + bytesWritten,\n      peakSignalAmplitude\n    );\n    bytesWritten += 4;\n    createShort(streamBuffer, streamBufferPos + bytesWritten, radioReplayGain);\n    bytesWritten += 2;\n    createShort(\n      streamBuffer,\n      streamBufferPos + bytesWritten,\n      audiophileReplayGain\n    );\n    bytesWritten += 2;\n    streamBuffer[streamBufferPos + bytesWritten] = 255 & flags;\n    bytesWritten++;\n    if (abrBitrate >= 255)\n      streamBuffer[streamBufferPos + bytesWritten] = 255;\n    else\n      streamBuffer[streamBufferPos + bytesWritten] = 255 & abrBitrate;\n    bytesWritten++;\n    streamBuffer[streamBufferPos + bytesWritten] = 255 & encDelay >> 4;\n    streamBuffer[streamBufferPos + bytesWritten + 1] = 255 & (encDelay << 4) + (encPadding >> 8);\n    streamBuffer[streamBufferPos + bytesWritten + 2] = 255 & encPadding;\n    bytesWritten += 3;\n    streamBuffer[streamBufferPos + bytesWritten] = 255 & misc;\n    bytesWritten++;\n    streamBuffer[streamBufferPos + bytesWritten++] = 0;\n    createShort(streamBuffer, streamBufferPos + bytesWritten, gfp.preset);\n    bytesWritten += 2;\n    createInteger(streamBuffer, streamBufferPos + bytesWritten, musicLength);\n    bytesWritten += 4;\n    createShort(streamBuffer, streamBufferPos + bytesWritten, musicCRC);\n    bytesWritten += 2;\n    for (var i = 0; i < bytesWritten; i++) {\n      crc = crcUpdateLookup(streamBuffer[streamBufferPos + i], crc);\n    }\n    createShort(streamBuffer, streamBufferPos + bytesWritten, crc);\n    bytesWritten += 2;\n    return bytesWritten;\n  }\n  function skipId3v2(fpStream) {\n    fpStream.seek(0);\n    var id3v2Header = new_byte$1(10);\n    fpStream.readFully(id3v2Header);\n    var id3v2TagSize;\n    if (!new String(id3v2Header, \"ISO-8859-1\").startsWith(\"ID3\")) {\n      id3v2TagSize = ((id3v2Header[6] & 127) << 21 | (id3v2Header[7] & 127) << 14 | (id3v2Header[8] & 127) << 7 | id3v2Header[9] & 127) + id3v2Header.length;\n    } else {\n      id3v2TagSize = 0;\n    }\n    return id3v2TagSize;\n  }\n  this.getLameTagFrame = function(gfp, buffer) {\n    var gfc = gfp.internal_flags;\n    if (!gfp.bWriteVbrTag) {\n      return 0;\n    }\n    if (gfc.Class_ID != Lame.LAME_ID) {\n      return 0;\n    }\n    if (gfc.VBR_seek_table.pos <= 0) {\n      return 0;\n    }\n    if (buffer.length < gfc.VBR_seek_table.TotalFrameSize) {\n      return gfc.VBR_seek_table.TotalFrameSize;\n    }\n    Arrays.fill(buffer, 0, gfc.VBR_seek_table.TotalFrameSize, 0);\n    setLameTagFrameHeader(gfp, buffer);\n    var toc = new_byte$1(NUMTOCENTRIES);\n    if (gfp.free_format) {\n      for (var i = 1; i < NUMTOCENTRIES; ++i)\n        toc[i] = 255 & 255 * i / 100;\n    } else {\n      xingSeekTable(gfc.VBR_seek_table, toc);\n    }\n    var streamIndex = gfc.sideinfo_len;\n    if (gfp.error_protection)\n      streamIndex -= 2;\n    if (gfp.VBR == VbrMode.vbr_off) {\n      buffer[streamIndex++] = 255 & VBRTag1.charAt(0);\n      buffer[streamIndex++] = 255 & VBRTag1.charAt(1);\n      buffer[streamIndex++] = 255 & VBRTag1.charAt(2);\n      buffer[streamIndex++] = 255 & VBRTag1.charAt(3);\n    } else {\n      buffer[streamIndex++] = 255 & VBRTag0.charAt(0);\n      buffer[streamIndex++] = 255 & VBRTag0.charAt(1);\n      buffer[streamIndex++] = 255 & VBRTag0.charAt(2);\n      buffer[streamIndex++] = 255 & VBRTag0.charAt(3);\n    }\n    createInteger(\n      buffer,\n      streamIndex,\n      FRAMES_FLAG + BYTES_FLAG + TOC_FLAG + VBR_SCALE_FLAG\n    );\n    streamIndex += 4;\n    createInteger(buffer, streamIndex, gfc.VBR_seek_table.nVbrNumFrames);\n    streamIndex += 4;\n    var streamSize = gfc.VBR_seek_table.nBytesWritten + gfc.VBR_seek_table.TotalFrameSize;\n    createInteger(buffer, streamIndex, 0 | streamSize);\n    streamIndex += 4;\n    System.arraycopy(toc, 0, buffer, streamIndex, toc.length);\n    streamIndex += toc.length;\n    if (gfp.error_protection) {\n      bs.CRC_writeheader(gfc, buffer);\n    }\n    var crc = 0;\n    for (var i = 0; i < streamIndex; i++)\n      crc = crcUpdateLookup(buffer[i], crc);\n    streamIndex += putLameVBR(gfp, streamSize, buffer, streamIndex, crc);\n    return gfc.VBR_seek_table.TotalFrameSize;\n  };\n  this.putVbrTag = function(gfp, stream) {\n    var gfc = gfp.internal_flags;\n    if (gfc.VBR_seek_table.pos <= 0)\n      return -1;\n    stream.seek(stream.length());\n    if (stream.length() == 0)\n      return -1;\n    var id3v2TagSize = skipId3v2(stream);\n    stream.seek(id3v2TagSize);\n    var buffer = new_byte$1(MAXFRAMESIZE);\n    var bytes = getLameTagFrame(gfp, buffer);\n    if (bytes > buffer.length) {\n      return -1;\n    }\n    if (bytes < 1) {\n      return 0;\n    }\n    stream.write(buffer, 0, bytes);\n    return 0;\n  };\n}\nvar new_byte = common.new_byte;\nvar assert = common.assert;\nfunction GetAudio() {\n  this.setModules = function(parse2, mpg2) {\n  };\n}\nfunction Parse() {\n  this.setModules = function(ver2, id32, pre2) {\n  };\n}\nfunction MPGLib() {\n}\nfunction ID3Tag() {\n  this.setModules = function(_bits, _ver) {\n  };\n}\nfunction Mp3Encoder$1(channels, samplerate, kbps) {\n  if (arguments.length != 3) {\n    console.error(\"WARN: Mp3Encoder(channels, samplerate, kbps) not specified\");\n    channels = 1;\n    samplerate = 44100;\n    kbps = 128;\n  }\n  var lame = new Lame$1();\n  var gaud = new GetAudio();\n  var ga = new GainAnalysis$1();\n  var bs = new BitStream$1();\n  var p2 = new Presets();\n  var qupvt = new QuantizePVT();\n  var qu = new Quantize();\n  var vbr = new VBRTag();\n  var ver = new Version();\n  var id3 = new ID3Tag();\n  var rv = new Reservoir();\n  var tak = new Takehiro();\n  var parse = new Parse();\n  var mpg = new MPGLib();\n  lame.setModules(ga, bs, p2, qupvt, qu, vbr, ver, id3, mpg);\n  bs.setModules(ga, mpg, ver, vbr);\n  id3.setModules(bs, ver);\n  p2.setModules(lame);\n  qu.setModules(bs, rv, qupvt, tak);\n  qupvt.setModules(tak, rv, lame.enc.psy);\n  rv.setModules(bs);\n  tak.setModules(qupvt);\n  vbr.setModules(lame, bs, ver);\n  gaud.setModules(parse, mpg);\n  parse.setModules(ver, id3, p2);\n  var gfp = lame.lame_init();\n  gfp.num_channels = channels;\n  gfp.in_samplerate = samplerate;\n  gfp.brate = kbps;\n  gfp.mode = MPEGMode.STEREO;\n  gfp.quality = 3;\n  gfp.bWriteVbrTag = false;\n  gfp.disable_reservoir = true;\n  gfp.write_id3tag_automatic = false;\n  lame.lame_init_params(gfp);\n  var maxSamples = 1152;\n  var mp3buf_size = 0 | 1.25 * maxSamples + 7200;\n  var mp3buf = new_byte(mp3buf_size);\n  this.encodeBuffer = function(left, right) {\n    if (channels == 1) {\n      right = left;\n    }\n    assert(left.length == right.length);\n    if (left.length > maxSamples) {\n      maxSamples = left.length;\n      mp3buf_size = 0 | 1.25 * maxSamples + 7200;\n      mp3buf = new_byte(mp3buf_size);\n    }\n    var _sz = lame.lame_encode_buffer(\n      gfp,\n      left,\n      right,\n      left.length,\n      mp3buf,\n      0,\n      mp3buf_size\n    );\n    return new Int8Array(mp3buf.subarray(0, _sz));\n  };\n  this.flush = function() {\n    var _sz = lame.lame_encode_flush(gfp, mp3buf, 0, mp3buf_size);\n    return new Int8Array(mp3buf.subarray(0, _sz));\n  };\n}\nfunction fourccToInt(fourcc) {\n  return fourcc.charCodeAt(0) << 24 | fourcc.charCodeAt(1) << 16 | fourcc.charCodeAt(2) << 8 | fourcc.charCodeAt(3);\n}\nfourccToInt(\"RIFF\");\nfourccToInt(\"WAVE\");\nfourccToInt(\"fmt \");\nfourccToInt(\"data\");\nclass Mp3Encoder {\n  constructor(config) {\n    this.bitRate = config.bitRate;\n    this.sampleRate = config.sampleRate;\n    this.dataBuffer = [];\n    this.encoder = new Mp3Encoder$1(1, this.sampleRate, this.bitRate);\n  }\n  encode(arrayBuffer) {\n    const maxSamples = 1152;\n    const samples = this._convertBuffer(arrayBuffer);\n    let remaining = samples.length;\n    for (let i = 0; remaining >= 0; i += maxSamples) {\n      const left = samples.subarray(i, i + maxSamples);\n      const buffer = this.encoder.encodeBuffer(left);\n      this.dataBuffer.push(new Int8Array(buffer));\n      remaining -= maxSamples;\n    }\n  }\n  finish() {\n    this.dataBuffer.push(this.encoder.flush());\n    const blob = new Blob(this.dataBuffer, { type: \"audio/mp3\" });\n    this.dataBuffer = [];\n    return {\n      id: Date.now(),\n      blob,\n      url: URL.createObjectURL(blob)\n    };\n  }\n  _floatTo16BitPCM(input, output) {\n    for (let i = 0; i < input.length; i++) {\n      const s = Math.max(-1, Math.min(1, input[i]));\n      output[i] = s < 0 ? s * 32768 : s * 32767;\n    }\n  }\n  _convertBuffer(arrayBuffer) {\n    const data = new Float32Array(arrayBuffer);\n    const out = new Int16Array(arrayBuffer.length);\n    this._floatTo16BitPCM(data, out);\n    return out;\n  }\n}\nclass Recorder {\n  constructor(options2 = {}) {\n    this.beforeRecording = options2.beforeRecording;\n    this.pauseRecording = options2.pauseRecording;\n    this.afterRecording = options2.afterRecording;\n    this.micFailed = options2.micFailed;\n    this.encoderOptions = {\n      bitRate: options2.bitRate,\n      sampleRate: options2.sampleRate\n    };\n    this.bufferSize = 4096;\n    this.records = [];\n    this.isPause = false;\n    this.isRecording = false;\n    this.duration = 0;\n    this.volume = 0;\n    this._duration = 0;\n  }\n  start() {\n    const constraints = {\n      video: false,\n      audio: {\n        channelCount: 1,\n        echoCancellation: false\n      }\n    };\n    this.beforeRecording && this.beforeRecording(\"start recording\");\n    navigator.mediaDevices.getUserMedia(constraints).then(this._micCaptured.bind(this)).catch(this._micError.bind(this));\n    this.isPause = false;\n    this.isRecording = true;\n    if (!this.lameEncoder) {\n      this.lameEncoder = new Mp3Encoder(this.encoderOptions);\n    }\n  }\n  stop() {\n    this.stream.getTracks().forEach((track2) => track2.stop());\n    this.input.disconnect();\n    this.processor.disconnect();\n    this.context.close();\n    let record = null;\n    record = this.lameEncoder.finish();\n    record.duration = this.duration;\n    this.records.push(record);\n    this._duration = 0;\n    this.duration = 0;\n    this.isPause = false;\n    this.isRecording = false;\n    this.afterRecording && this.afterRecording(record);\n  }\n  pause() {\n    this.stream.getTracks().forEach((track2) => track2.stop());\n    this.input.disconnect();\n    this.processor.disconnect();\n    this._duration = this.duration;\n    this.isPause = true;\n    this.pauseRecording && this.pauseRecording(\"pause recording\");\n  }\n  _micCaptured(stream) {\n    this.context = new (window.AudioContext || window.webkitAudioContext)();\n    this.duration = this._duration;\n    this.input = this.context.createMediaStreamSource(stream);\n    this.processor = this.context.createScriptProcessor(this.bufferSize, 1, 1);\n    this.stream = stream;\n    this.processor.onaudioprocess = (ev) => {\n      const sample = ev.inputBuffer.getChannelData(0);\n      let sum = 0;\n      if (this.lameEncoder) {\n        this.lameEncoder.encode(sample);\n      }\n      for (let i = 0; i < sample.length; ++i) {\n        sum += sample[i] * sample[i];\n      }\n      this.duration = parseFloat(this._duration) + parseFloat(this.context.currentTime.toFixed(2));\n      this.volume = Math.sqrt(sum / sample.length).toFixed(2);\n    };\n    this.input.connect(this.processor);\n    this.processor.connect(this.context.destination);\n  }\n  _micError(error) {\n    this.micFailed && this.micFailed(error);\n  }\n}\nfunction detectMobile() {\n  var userAgent = getUserAgent();\n  var userAgentPart = userAgent.substr(0, 4);\n  return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n    userAgent\n  ) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(\n    userAgentPart\n  );\n}\nfunction getUserAgent() {\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera || null;\n  if (!userAgent)\n    throw new Error(\"Failed to look for user agent information.\");\n  return userAgent;\n}\nconst _sfc_main$a = {\n  name: \"RoomFooter\",\n  components: {\n    SvgIcon,\n    EmojiPickerContainer,\n    RoomFiles,\n    RoomMessageReply,\n    RoomUsersTag,\n    RoomEmojis,\n    RoomTemplatesText\n  },\n  directives: {\n    clickOutside: vClickOutside\n  },\n  props: {\n    room: { type: Object, required: true },\n    roomId: { type: [String, Number], required: true },\n    roomMessage: { type: String, default: null },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true },\n    textMessages: { type: Object, required: true },\n    showSendIcon: { type: Boolean, required: true },\n    showFiles: { type: Boolean, required: true },\n    showAudio: { type: Boolean, required: true },\n    showEmojis: { type: Boolean, required: true },\n    showFooter: { type: Boolean, required: true },\n    acceptedFiles: { type: String, required: true },\n    textareaActionEnabled: { type: Boolean, required: true },\n    textareaAutoFocus: { type: Boolean, required: true },\n    userTagsEnabled: { type: Boolean, required: true },\n    emojisSuggestionEnabled: { type: Boolean, required: true },\n    templatesText: { type: Array, default: null },\n    audioBitRate: { type: Number, required: true },\n    audioSampleRate: { type: Number, required: true },\n    initReplyMessage: { type: Object, default: null },\n    initEditMessage: { type: Object, default: null },\n    droppedFiles: { type: Array, default: null }\n  },\n  emits: [\n    \"edit-message\",\n    \"send-message\",\n    \"update-edited-message-id\",\n    \"textarea-action-handler\",\n    \"typing-message\"\n  ],\n  data() {\n    return {\n      message: \"\",\n      editedMessage: {},\n      messageReply: null,\n      cursorRangePosition: null,\n      files: [],\n      fileDialog: false,\n      selectUsersTagItem: null,\n      selectEmojiItem: null,\n      selectTemplatesTextItem: null,\n      format: \"mp3\",\n      activeUpOrDownEmojis: null,\n      activeUpOrDownUsersTag: null,\n      activeUpOrDownTemplatesText: null,\n      emojisDB: new Database(),\n      emojiOpened: false,\n      keepKeyboardOpen: false,\n      filteredEmojis: [],\n      filteredUsersTag: [],\n      selectedUsersTag: [],\n      filteredTemplatesText: [],\n      recorder: this.initRecorder(),\n      isRecording: false\n    };\n  },\n  computed: {\n    isMessageEmpty() {\n      return !this.files.length && !this.message.trim();\n    },\n    isFileLoading() {\n      return this.files.some((e) => e.loading);\n    },\n    recordedTime() {\n      return new Date(this.recorder.duration * 1e3).toISOString().substr(14, 5);\n    },\n    shadowFooter() {\n      return !!this.filteredEmojis.length || !!this.filteredUsersTag.length || !!this.filteredTemplatesText.length || !!this.files.length || !!this.messageReply;\n    }\n  },\n  watch: {\n    roomId() {\n      this.resetMessage(true, true);\n      if (this.roomMessage) {\n        this.message = this.roomMessage;\n        setTimeout(() => this.onChangeInput());\n      }\n    },\n    message(val) {\n      this.getTextareaRef().value = val;\n    },\n    roomMessage: {\n      immediate: true,\n      handler(val) {\n        if (val)\n          this.message = this.roomMessage;\n      }\n    },\n    editedMessage(val) {\n      this.$emit(\"update-edited-message-id\", val._id);\n    },\n    initReplyMessage(val) {\n      if (val) {\n        this.replyMessage(val);\n      }\n    },\n    initEditMessage(val) {\n      if (val) {\n        this.editMessage(val);\n      }\n    },\n    droppedFiles(val) {\n      if (val) {\n        this.onFileChange(val);\n      }\n    }\n  },\n  mounted() {\n    const isMobile = detectMobile();\n    let isComposed = true;\n    this.getTextareaRef().addEventListener(\"keyup\", (e) => {\n      if (e.key === \"Enter\" && !e.shiftKey && !this.fileDialog) {\n        if (isMobile) {\n          this.message = this.message + \"\\n\";\n          setTimeout(() => this.onChangeInput());\n        } else if (isComposed && !this.filteredEmojis.length && !this.filteredUsersTag.length && !this.filteredTemplatesText.length) {\n          this.sendMessage();\n        }\n      }\n      isComposed = !e.isComposing;\n      setTimeout(() => {\n        this.updateFooterLists();\n      }, 60);\n    });\n    this.getTextareaRef().addEventListener(\"click\", () => {\n      if (isMobile)\n        this.keepKeyboardOpen = true;\n      this.updateFooterLists();\n    });\n    this.getTextareaRef().addEventListener(\"blur\", () => {\n      setTimeout(() => {\n        this.resetFooterList();\n      }, 100);\n      if (isMobile)\n        setTimeout(() => this.keepKeyboardOpen = false);\n    });\n  },\n  beforeUnmount() {\n    this.stopRecorder();\n  },\n  methods: {\n    getTextareaRef() {\n      return this.$refs.roomTextarea;\n    },\n    focusTextarea(disableMobileFocus) {\n      if (detectMobile() && disableMobileFocus)\n        return;\n      if (!this.getTextareaRef())\n        return;\n      this.getTextareaRef().focus();\n      if (this.cursorRangePosition) {\n        setTimeout(() => {\n          this.getTextareaRef().setSelectionRange(\n            this.cursorRangePosition,\n            this.cursorRangePosition\n          );\n          this.cursorRangePosition = null;\n        });\n      }\n    },\n    onChangeInput() {\n      var _a, _b, _c;\n      if (((_a = this.getTextareaRef()) == null ? void 0 : _a.value) || ((_b = this.getTextareaRef()) == null ? void 0 : _b.value) === \"\") {\n        this.message = (_c = this.getTextareaRef()) == null ? void 0 : _c.value;\n      }\n      this.keepKeyboardOpen = true;\n      this.resizeTextarea();\n      this.$emit(\"typing-message\", this.message);\n    },\n    resizeTextarea() {\n      const el = this.getTextareaRef();\n      if (!el)\n        return;\n      const padding = window.getComputedStyle(el, null).getPropertyValue(\"padding-top\").replace(\"px\", \"\");\n      el.style.height = 0;\n      el.style.height = el.scrollHeight - padding * 2 + \"px\";\n    },\n    escapeTextarea() {\n      if (this.filteredEmojis.length)\n        this.filteredEmojis = [];\n      else if (this.filteredUsersTag.length)\n        this.filteredUsersTag = [];\n      else if (this.filteredTemplatesText.length) {\n        this.filteredTemplatesText = [];\n      } else\n        this.resetMessage();\n    },\n    onPasteImage(pasteEvent) {\n      var _a;\n      const items = (_a = pasteEvent.clipboardData) == null ? void 0 : _a.items;\n      if (items) {\n        Array.from(items).forEach((item) => {\n          if (item.type.includes(\"image\")) {\n            const blob = item.getAsFile();\n            this.onFileChange([blob]);\n          }\n        });\n      }\n    },\n    updateActiveUpOrDown(direction) {\n      if (this.filteredEmojis.length) {\n        this.activeUpOrDownEmojis = direction;\n      } else if (this.filteredUsersTag.length) {\n        this.activeUpOrDownUsersTag = direction;\n      } else if (this.filteredTemplatesText.length) {\n        this.activeUpOrDownTemplatesText = direction;\n      }\n    },\n    selectItem() {\n      if (this.filteredEmojis.length) {\n        this.selectEmojiItem = true;\n      } else if (this.filteredUsersTag.length) {\n        this.selectUsersTagItem = true;\n      } else if (this.filteredTemplatesText.length) {\n        this.selectTemplatesTextItem = true;\n      }\n    },\n    selectEmoji(emoji) {\n      this.selectEmojiItem = false;\n      if (!emoji)\n        return;\n      const { position, endPosition } = this.getCharPosition(\":\");\n      this.message = this.message.substr(0, position - 1) + emoji + this.message.substr(endPosition, this.message.length - 1);\n      this.cursorRangePosition = position;\n      this.focusTextarea();\n    },\n    selectTemplateText(template) {\n      this.selectTemplatesTextItem = false;\n      if (!template)\n        return;\n      const { position, endPosition } = this.getCharPosition(\"/\");\n      const space = this.message.substr(endPosition, endPosition).length ? \"\" : \" \";\n      this.message = this.message.substr(0, position - 1) + template.text + space + this.message.substr(endPosition, this.message.length - 1);\n      this.cursorRangePosition = position + template.text.length + space.length + 1;\n      this.focusTextarea();\n    },\n    addEmoji(emoji) {\n      this.message += emoji.unicode;\n      this.focusTextarea(true);\n    },\n    launchFilePicker() {\n      this.$refs.file.value = \"\";\n      this.$refs.file.click();\n    },\n    async onFileChange(files) {\n      this.fileDialog = true;\n      this.focusTextarea();\n      Array.from(files).forEach(async (file) => {\n        const fileURL = URL.createObjectURL(file);\n        const typeIndex = file.name.lastIndexOf(\".\");\n        this.files.push({\n          loading: true,\n          name: file.name.substring(0, typeIndex),\n          size: file.size,\n          type: file.type,\n          extension: file.name.substring(typeIndex + 1),\n          localUrl: fileURL\n        });\n        const blobFile = await fetch(fileURL).then((res) => res.blob());\n        let loadedFile = this.files.find((file2) => file2.localUrl === fileURL);\n        if (loadedFile) {\n          loadedFile.blob = blobFile;\n          loadedFile.loading = false;\n          delete loadedFile.loading;\n        }\n      });\n      setTimeout(() => this.fileDialog = false, 500);\n    },\n    removeFile(index) {\n      this.files.splice(index, 1);\n      this.focusTextarea();\n    },\n    toggleRecorder(recording) {\n      this.isRecording = recording;\n      if (!this.recorder.isRecording) {\n        setTimeout(() => this.recorder.start(), 200);\n      } else {\n        try {\n          this.recorder.stop();\n          const record = this.recorder.records[0];\n          this.files.push({\n            blob: record.blob,\n            name: `audio.${this.format}`,\n            size: record.blob.size,\n            duration: record.duration,\n            type: record.blob.type,\n            audio: true,\n            localUrl: URL.createObjectURL(record.blob)\n          });\n          this.recorder = this.initRecorder();\n          this.sendMessage();\n        } catch {\n          setTimeout(() => this.stopRecorder(), 100);\n        }\n      }\n    },\n    stopRecorder() {\n      if (this.recorder.isRecording) {\n        try {\n          this.recorder.stop();\n          this.recorder = this.initRecorder();\n        } catch {\n          setTimeout(() => this.stopRecorder(), 100);\n        }\n      }\n    },\n    textareaActionHandler() {\n      this.$emit(\"textarea-action-handler\", this.message);\n    },\n    sendMessage() {\n      var _a;\n      let message = this.message.trim();\n      if (!this.files.length && !message)\n        return;\n      if (this.isFileLoading)\n        return;\n      this.selectedUsersTag.forEach((user) => {\n        message = message.replace(\n          `@${user.username}`,\n          `<usertag>${user._id}</usertag>`\n        );\n      });\n      const files = this.files.length ? this.files : null;\n      if (this.editedMessage._id) {\n        if (this.editedMessage.content !== message || ((_a = this.editedMessage.files) == null ? void 0 : _a.length) || this.files.length) {\n          this.$emit(\"edit-message\", {\n            messageId: this.editedMessage._id,\n            newContent: message,\n            files,\n            replyMessage: this.messageReply,\n            usersTag: this.selectedUsersTag\n          });\n        }\n      } else {\n        this.$emit(\"send-message\", {\n          content: message,\n          files,\n          replyMessage: this.messageReply,\n          usersTag: this.selectedUsersTag\n        });\n      }\n      this.resetMessage(true);\n    },\n    editMessage(message) {\n      this.resetMessage();\n      this.editedMessage = { ...message };\n      let messageContent = message.content;\n      const initialContent = messageContent;\n      const firstTag = \"<usertag>\";\n      const secondTag = \"</usertag>\";\n      const usertags = [\n        ...messageContent.matchAll(new RegExp(firstTag, \"gi\"))\n      ].map((a) => a.index);\n      usertags.forEach((index) => {\n        const userId = initialContent.substring(\n          index + firstTag.length,\n          initialContent.indexOf(secondTag, index)\n        );\n        const user = this.room.users.find((user2) => user2._id === userId);\n        messageContent = messageContent.replace(\n          `${firstTag}${userId}${secondTag}`,\n          `@${(user == null ? void 0 : user.username) || \"unknown\"}`\n        );\n        this.selectUserTag(user, true);\n      });\n      this.message = messageContent;\n      if (message.files) {\n        this.files = [...message.files];\n      }\n      setTimeout(() => this.resizeTextarea());\n    },\n    replyMessage(message) {\n      this.editedMessage = {};\n      this.messageReply = message;\n      this.focusTextarea();\n    },\n    updateFooterLists() {\n      this.updateFooterList(\"@\");\n      this.updateFooterList(\":\");\n      this.updateFooterList(\"/\");\n    },\n    updateFooterList(tagChar) {\n      if (!this.getTextareaRef())\n        return;\n      if (tagChar === \":\" && !this.emojisSuggestionEnabled) {\n        return;\n      }\n      if (tagChar === \"@\" && (!this.userTagsEnabled || !this.room.users)) {\n        return;\n      }\n      if (tagChar === \"/\" && !this.templatesText) {\n        return;\n      }\n      const textareaCursorPosition = this.getTextareaRef().selectionStart;\n      let position = textareaCursorPosition;\n      while (position > 0 && this.message.charAt(position - 1) !== tagChar && (this.message.charAt(position - 1) !== \" \" || tagChar !== \":\")) {\n        position--;\n      }\n      const beforeTag = this.message.charAt(position - 2);\n      const notLetterNumber = !beforeTag.match(/^[0-9a-zA-Z]+$/);\n      if (this.message.charAt(position - 1) === tagChar && (!beforeTag || beforeTag === \" \" || notLetterNumber)) {\n        const query = this.message.substring(position, textareaCursorPosition);\n        if (tagChar === \":\") {\n          this.updateEmojis(query);\n        } else if (tagChar === \"@\") {\n          this.updateShowUsersTag(query);\n        } else if (tagChar === \"/\") {\n          this.updateShowTemplatesText(query);\n        }\n      } else {\n        this.resetFooterList(tagChar);\n      }\n    },\n    updateShowUsersTag(query) {\n      this.filteredUsersTag = filteredItems(\n        this.room.users,\n        \"username\",\n        query,\n        true\n      ).filter((user) => user._id !== this.currentUserId);\n    },\n    selectUserTag(user, editMode = false) {\n      this.selectUsersTagItem = false;\n      if (!user)\n        return;\n      const { position, endPosition } = this.getCharPosition(\"@\");\n      const space = this.message.substr(endPosition, endPosition).length ? \"\" : \" \";\n      this.message = this.message.substr(0, position) + user.username + space + this.message.substr(endPosition, this.message.length - 1);\n      this.selectedUsersTag = [...this.selectedUsersTag, { ...user }];\n      if (!editMode) {\n        this.cursorRangePosition = position + user.username.length + space.length + 1;\n      }\n      this.focusTextarea();\n    },\n    updateShowTemplatesText(query) {\n      this.filteredTemplatesText = filteredItems(\n        this.templatesText,\n        \"tag\",\n        query,\n        true\n      );\n    },\n    getCharPosition(tagChar) {\n      const cursorPosition = this.getTextareaRef().selectionStart;\n      let position = cursorPosition;\n      while (position > 0 && this.message.charAt(position - 1) !== tagChar) {\n        position--;\n      }\n      const endPosition = this.getTextareaRef().selectionEnd;\n      return { position, endPosition };\n    },\n    async updateEmojis(query) {\n      if (!query)\n        return;\n      const emojis = await this.emojisDB.getEmojiBySearchQuery(query);\n      this.filteredEmojis = emojis.map((emoji) => emoji.unicode);\n    },\n    resetFooterList(tagChar = null) {\n      if (tagChar === \":\") {\n        this.filteredEmojis = [];\n      } else if (tagChar === \"@\") {\n        this.filteredUsersTag = [];\n      } else if (tagChar === \"/\") {\n        this.filteredTemplatesText = [];\n      } else {\n        this.filteredEmojis = [];\n        this.filteredUsersTag = [];\n        this.filteredTemplatesText = [];\n      }\n    },\n    resetMessage(disableMobileFocus = false, initRoom = false) {\n      if (!initRoom) {\n        this.$emit(\"typing-message\", null);\n      }\n      this.selectedUsersTag = [];\n      this.resetFooterList();\n      this.resetTextareaSize();\n      this.message = \"\";\n      this.editedMessage = {};\n      this.messageReply = null;\n      this.files = [];\n      this.emojiOpened = false;\n      this.preventKeyboardFromClosing();\n      if (this.textareaAutoFocus || !initRoom) {\n        setTimeout(() => this.focusTextarea(disableMobileFocus));\n      }\n    },\n    resetTextareaSize() {\n      if (this.getTextareaRef()) {\n        this.getTextareaRef().style.height = \"20px\";\n      }\n    },\n    preventKeyboardFromClosing() {\n      if (this.keepKeyboardOpen)\n        this.getTextareaRef().focus();\n    },\n    initRecorder() {\n      this.isRecording = false;\n      return new Recorder({\n        bitRate: Number(this.audioBitRate),\n        sampleRate: Number(this.audioSampleRate),\n        beforeRecording: null,\n        afterRecording: null,\n        pauseRecording: null,\n        micFailed: this.micFailed\n      });\n    },\n    micFailed() {\n      this.isRecording = false;\n      this.recorder = this.initRecorder();\n    }\n  }\n};\nconst _hoisted_1$a = {\n  key: 0,\n  class: \"vac-icon-textarea-left\"\n};\nconst _hoisted_2$8 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"vac-dot-audio-record\" }, null, -1);\nconst _hoisted_3$8 = { class: \"vac-dot-audio-record-time\" };\nconst _hoisted_4$8 = [\"placeholder\"];\nconst _hoisted_5$6 = { class: \"vac-icon-textarea\" };\nconst _hoisted_6$3 = { key: 1 };\nconst _hoisted_7$3 = [\"accept\"];\nfunction _sfc_render$a(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_room_emojis = resolveComponent(\"room-emojis\");\n  const _component_room_users_tag = resolveComponent(\"room-users-tag\");\n  const _component_room_templates_text = resolveComponent(\"room-templates-text\");\n  const _component_room_message_reply = resolveComponent(\"room-message-reply\");\n  const _component_room_files = resolveComponent(\"room-files\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_emoji_picker_container = resolveComponent(\"emoji-picker-container\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    id: \"room-footer\",\n    class: normalizeClass([\"vac-room-footer\", {\n      \"vac-app-box-shadow\": $options.shadowFooter\n    }])\n  }, [\n    createVNode(_component_room_emojis, {\n      \"filtered-emojis\": $data.filteredEmojis,\n      \"select-item\": $data.selectEmojiItem,\n      \"active-up-or-down\": $data.activeUpOrDownEmojis,\n      onSelectEmoji: _cache[0] || (_cache[0] = ($event) => $options.selectEmoji($event)),\n      onActivateItem: _cache[1] || (_cache[1] = ($event) => $data.activeUpOrDownEmojis = 0)\n    }, null, 8, [\"filtered-emojis\", \"select-item\", \"active-up-or-down\"]),\n    createVNode(_component_room_users_tag, {\n      \"filtered-users-tag\": $data.filteredUsersTag,\n      \"select-item\": $data.selectUsersTagItem,\n      \"active-up-or-down\": $data.activeUpOrDownUsersTag,\n      onSelectUserTag: _cache[2] || (_cache[2] = ($event) => $options.selectUserTag($event)),\n      onActivateItem: _cache[3] || (_cache[3] = ($event) => $data.activeUpOrDownUsersTag = 0)\n    }, null, 8, [\"filtered-users-tag\", \"select-item\", \"active-up-or-down\"]),\n    createVNode(_component_room_templates_text, {\n      \"filtered-templates-text\": $data.filteredTemplatesText,\n      \"select-item\": $data.selectTemplatesTextItem,\n      \"active-up-or-down\": $data.activeUpOrDownTemplatesText,\n      onSelectTemplateText: _cache[4] || (_cache[4] = ($event) => $options.selectTemplateText($event)),\n      onActivateItem: _cache[5] || (_cache[5] = ($event) => $data.activeUpOrDownTemplatesText = 0)\n    }, null, 8, [\"filtered-templates-text\", \"select-item\", \"active-up-or-down\"]),\n    createVNode(_component_room_message_reply, {\n      room: $props.room,\n      \"message-reply\": $data.messageReply,\n      \"text-formatting\": $props.textFormatting,\n      \"link-options\": $props.linkOptions,\n      onResetMessage: $options.resetMessage\n    }, createSlots({ _: 2 }, [\n      renderList(_ctx.$slots, (i, name) => {\n        return {\n          name,\n          fn: withCtx((data) => [\n            renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n          ])\n        };\n      })\n    ]), 1032, [\"room\", \"message-reply\", \"text-formatting\", \"link-options\", \"onResetMessage\"]),\n    createVNode(_component_room_files, {\n      files: $data.files,\n      onRemoveFile: $options.removeFile,\n      onResetMessage: $options.resetMessage\n    }, createSlots({ _: 2 }, [\n      renderList(_ctx.$slots, (i, name) => {\n        return {\n          name,\n          fn: withCtx((data) => [\n            renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n          ])\n        };\n      })\n    ]), 1032, [\"files\", \"onRemoveFile\", \"onResetMessage\"]),\n    createBaseVNode(\"div\", {\n      class: normalizeClass([\"vac-box-footer\", { \"vac-box-footer-border\": !$data.files.length }])\n    }, [\n      $props.showAudio && !$data.files.length ? (openBlock(), createElementBlock(\"div\", _hoisted_1$a, [\n        $data.isRecording ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          createBaseVNode(\"div\", {\n            class: \"vac-svg-button vac-icon-audio-stop\",\n            onClick: _cache[6] || (_cache[6] = (...args) => $options.stopRecorder && $options.stopRecorder(...args))\n          }, [\n            renderSlot(_ctx.$slots, \"audio-stop-icon\", {}, () => [\n              createVNode(_component_svg_icon, { name: \"close-outline\" })\n            ])\n          ]),\n          _hoisted_2$8,\n          createBaseVNode(\"div\", _hoisted_3$8, toDisplayString($options.recordedTime), 1),\n          createBaseVNode(\"div\", {\n            class: \"vac-svg-button vac-icon-audio-confirm\",\n            onClick: _cache[7] || (_cache[7] = ($event) => $options.toggleRecorder(false))\n          }, [\n            renderSlot(_ctx.$slots, \"audio-check-icon\", {}, () => [\n              createVNode(_component_svg_icon, { name: \"checkmark\" })\n            ])\n          ])\n        ], 64)) : (openBlock(), createElementBlock(\"div\", {\n          key: 1,\n          class: \"vac-svg-button\",\n          onClick: _cache[8] || (_cache[8] = ($event) => $options.toggleRecorder(true))\n        }, [\n          renderSlot(_ctx.$slots, \"microphone-icon\", {}, () => [\n            createVNode(_component_svg_icon, {\n              name: \"microphone\",\n              class: \"vac-icon-microphone\"\n            })\n          ])\n        ]))\n      ])) : createCommentVNode(\"\", true),\n      createBaseVNode(\"textarea\", {\n        id: \"roomTextarea\",\n        ref: \"roomTextarea\",\n        placeholder: $props.textMessages.TYPE_MESSAGE,\n        class: normalizeClass([\"vac-textarea\", {\n          \"vac-textarea-outline\": $data.editedMessage._id\n        }]),\n        style: {\n          \"min-height\": `20px`,\n          \"padding-left\": `12px`\n        },\n        onInput: _cache[9] || (_cache[9] = (...args) => $options.onChangeInput && $options.onChangeInput(...args)),\n        onKeydown: [\n          _cache[10] || (_cache[10] = withKeys((...args) => $options.escapeTextarea && $options.escapeTextarea(...args), [\"esc\"])),\n          _cache[11] || (_cache[11] = withKeys(withModifiers((...args) => $options.selectItem && $options.selectItem(...args), [\"exact\", \"prevent\"]), [\"enter\"])),\n          _cache[13] || (_cache[13] = withKeys(withModifiers(() => {\n          }, [\"exact\", \"prevent\"]), [\"tab\"])),\n          _cache[14] || (_cache[14] = withKeys((...args) => $options.selectItem && $options.selectItem(...args), [\"tab\"])),\n          _cache[15] || (_cache[15] = withKeys(withModifiers(() => {\n          }, [\"exact\", \"prevent\"]), [\"up\"])),\n          _cache[16] || (_cache[16] = withKeys(($event) => $options.updateActiveUpOrDown(-1), [\"up\"])),\n          _cache[17] || (_cache[17] = withKeys(withModifiers(() => {\n          }, [\"exact\", \"prevent\"]), [\"down\"])),\n          _cache[18] || (_cache[18] = withKeys(($event) => $options.updateActiveUpOrDown(1), [\"down\"]))\n        ],\n        onPaste: _cache[12] || (_cache[12] = (...args) => $options.onPasteImage && $options.onPasteImage(...args))\n      }, null, 42, _hoisted_4$8),\n      createBaseVNode(\"div\", _hoisted_5$6, [\n        $data.editedMessage._id ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: \"vac-svg-button\",\n          onClick: _cache[19] || (_cache[19] = (...args) => $options.resetMessage && $options.resetMessage(...args))\n        }, [\n          renderSlot(_ctx.$slots, \"edit-close-icon\", {}, () => [\n            createVNode(_component_svg_icon, { name: \"close-outline\" })\n          ])\n        ])) : createCommentVNode(\"\", true),\n        $props.showEmojis ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_6$3, [\n          renderSlot(_ctx.$slots, \"emoji-picker\", mergeProps({ emojiOpened: $data.emojiOpened }, { addEmoji: $options.addEmoji }), () => [\n            createVNode(_component_emoji_picker_container, {\n              \"emoji-opened\": $data.emojiOpened,\n              \"position-top\": true,\n              onAddEmoji: $options.addEmoji,\n              onOpenEmoji: _cache[20] || (_cache[20] = ($event) => $data.emojiOpened = $event)\n            }, {\n              \"emoji-picker-icon\": withCtx(() => [\n                renderSlot(_ctx.$slots, \"emoji-picker-icon\")\n              ]),\n              _: 3\n            }, 8, [\"emoji-opened\", \"onAddEmoji\"])\n          ])\n        ])), [\n          [_directive_click_outside, () => $data.emojiOpened = false]\n        ]) : createCommentVNode(\"\", true),\n        $props.showFiles ? (openBlock(), createElementBlock(\"div\", {\n          key: 2,\n          class: \"vac-svg-button\",\n          onClick: _cache[21] || (_cache[21] = (...args) => $options.launchFilePicker && $options.launchFilePicker(...args))\n        }, [\n          renderSlot(_ctx.$slots, \"paperclip-icon\", {}, () => [\n            createVNode(_component_svg_icon, { name: \"paperclip\" })\n          ])\n        ])) : createCommentVNode(\"\", true),\n        $props.textareaActionEnabled ? (openBlock(), createElementBlock(\"div\", {\n          key: 3,\n          class: \"vac-svg-button\",\n          onClick: _cache[22] || (_cache[22] = (...args) => $options.textareaActionHandler && $options.textareaActionHandler(...args))\n        }, [\n          renderSlot(_ctx.$slots, \"custom-action-icon\", {}, () => [\n            createVNode(_component_svg_icon, { name: \"deleted\" })\n          ])\n        ])) : createCommentVNode(\"\", true),\n        $props.showFiles ? (openBlock(), createElementBlock(\"input\", {\n          key: 4,\n          ref: \"file\",\n          type: \"file\",\n          multiple: \"\",\n          accept: $props.acceptedFiles,\n          style: { \"display\": \"none\" },\n          onChange: _cache[23] || (_cache[23] = ($event) => $options.onFileChange($event.target.files))\n        }, null, 40, _hoisted_7$3)) : createCommentVNode(\"\", true),\n        $props.showSendIcon ? (openBlock(), createElementBlock(\"div\", {\n          key: 5,\n          class: normalizeClass([\"vac-svg-button\", { \"vac-send-disabled\": $options.isMessageEmpty }]),\n          onClick: _cache[24] || (_cache[24] = (...args) => $options.sendMessage && $options.sendMessage(...args))\n        }, [\n          renderSlot(_ctx.$slots, \"send-icon\", {}, () => [\n            createVNode(_component_svg_icon, {\n              name: \"send\",\n              param: $options.isMessageEmpty || $options.isFileLoading ? \"disabled\" : \"\"\n            }, null, 8, [\"param\"])\n          ])\n        ], 2)) : createCommentVNode(\"\", true)\n      ])\n    ], 2)\n  ], 2)), [\n    [vShow, Object.keys($props.room).length && $props.showFooter]\n  ]);\n}\nvar RoomFooter = /* @__PURE__ */ _export_sfc(_sfc_main$a, [[\"render\", _sfc_render$a]]);\nconst _sfc_main$9 = {\n  name: \"MessageReply\",\n  components: { AudioPlayer, SvgIcon, FormatMessage },\n  props: {\n    message: { type: Object, required: true },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true },\n    roomUsers: { type: Array, required: true }\n  },\n  computed: {\n    replyUsername() {\n      const { senderId } = this.message.replyMessage;\n      const replyUser = this.roomUsers.find((user) => user._id === senderId);\n      return replyUser ? replyUser.username : \"\";\n    },\n    firstFile() {\n      var _a, _b;\n      return ((_b = (_a = this.message.replyMessage) == null ? void 0 : _a.files) == null ? void 0 : _b.length) ? this.message.replyMessage.files[0] : {};\n    },\n    isAudio() {\n      return isAudioFile(this.firstFile);\n    },\n    isImage() {\n      return isImageFile(this.firstFile);\n    },\n    isVideo() {\n      return isVideoFile(this.firstFile);\n    },\n    isOtherFile() {\n      var _a;\n      return ((_a = this.message.replyMessage.files) == null ? void 0 : _a.length) && !this.isAudio && !this.isVideo && !this.isImage;\n    }\n  }\n};\nconst _hoisted_1$9 = { class: \"vac-reply-message\" };\nconst _hoisted_2$7 = { class: \"vac-reply-username\" };\nconst _hoisted_3$7 = {\n  key: 0,\n  class: \"vac-image-reply-container\"\n};\nconst _hoisted_4$7 = {\n  key: 1,\n  class: \"vac-video-reply-container\"\n};\nconst _hoisted_5$5 = { controls: \"\" };\nconst _hoisted_6$2 = [\"src\"];\nconst _hoisted_7$2 = {\n  key: 3,\n  class: \"vac-file-container\"\n};\nconst _hoisted_8$1 = { class: \"vac-text-ellipsis\" };\nconst _hoisted_9$1 = {\n  key: 0,\n  class: \"vac-text-ellipsis vac-text-extension\"\n};\nconst _hoisted_10$1 = { class: \"vac-reply-content\" };\nfunction _sfc_render$9(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_audio_player = resolveComponent(\"audio-player\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_format_message = resolveComponent(\"format-message\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$9, [\n    createBaseVNode(\"div\", _hoisted_2$7, toDisplayString($options.replyUsername), 1),\n    $options.isImage ? (openBlock(), createElementBlock(\"div\", _hoisted_3$7, [\n      createBaseVNode(\"div\", {\n        class: \"vac-message-image vac-message-image-reply\",\n        style: normalizeStyle({\n          \"background-image\": `url('${$options.firstFile.url}')`\n        })\n      }, null, 4)\n    ])) : $options.isVideo ? (openBlock(), createElementBlock(\"div\", _hoisted_4$7, [\n      createBaseVNode(\"video\", _hoisted_5$5, [\n        createBaseVNode(\"source\", {\n          src: $options.firstFile.url\n        }, null, 8, _hoisted_6$2)\n      ])\n    ])) : $options.isAudio ? (openBlock(), createBlock(_component_audio_player, {\n      key: 2,\n      src: $options.firstFile.url,\n      \"message-selection-enabled\": false,\n      onUpdateProgressTime: _cache[0] || (_cache[0] = ($event) => _ctx.progressTime = $event),\n      onHoverAudioProgress: _cache[1] || (_cache[1] = ($event) => _ctx.hoverAudioProgress = $event)\n    }, createSlots({ _: 2 }, [\n      renderList(_ctx.$slots, (idx, name) => {\n        return {\n          name,\n          fn: withCtx((data) => [\n            renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n          ])\n        };\n      })\n    ]), 1032, [\"src\"])) : $options.isOtherFile ? (openBlock(), createElementBlock(\"div\", _hoisted_7$2, [\n      createBaseVNode(\"div\", null, [\n        renderSlot(_ctx.$slots, \"file-icon\", {}, () => [\n          createVNode(_component_svg_icon, { name: \"file\" })\n        ])\n      ]),\n      createBaseVNode(\"div\", _hoisted_8$1, toDisplayString($options.firstFile.name), 1),\n      $options.firstFile.extension ? (openBlock(), createElementBlock(\"div\", _hoisted_9$1, toDisplayString($options.firstFile.extension), 1)) : createCommentVNode(\"\", true)\n    ])) : createCommentVNode(\"\", true),\n    createBaseVNode(\"div\", _hoisted_10$1, [\n      createVNode(_component_format_message, {\n        \"message-id\": $props.message.replyMessage._id,\n        content: $props.message.replyMessage.content,\n        users: $props.roomUsers,\n        \"text-formatting\": $props.textFormatting,\n        \"link-options\": $props.linkOptions,\n        reply: true\n      }, null, 8, [\"message-id\", \"content\", \"users\", \"text-formatting\", \"link-options\"])\n    ])\n  ]);\n}\nvar MessageReply = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"render\", _sfc_render$9]]);\nconst _sfc_main$8 = {\n  name: \"ProgressBar\",\n  props: {\n    progress: { type: Number, default: 0 }\n  },\n  data() {\n    const radius = 35;\n    const stroke = 4;\n    const normalizedRadius = radius - stroke * 2;\n    const circumference = normalizedRadius * 2 * Math.PI;\n    return {\n      radius,\n      stroke,\n      normalizedRadius,\n      circumference\n    };\n  },\n  computed: {\n    strokeDashoffset() {\n      return this.circumference - this.progress / 100 * this.circumference;\n    }\n  }\n};\nconst _hoisted_1$8 = {\n  ref: \"progress\",\n  class: \"vac-progress-wrapper\"\n};\nconst _hoisted_2$6 = [\"height\", \"width\"];\nconst _hoisted_3$6 = [\"stroke-dasharray\", \"stroke-width\", \"r\", \"cx\", \"cy\"];\nconst _hoisted_4$6 = { class: \"vac-progress-text\" };\nconst _hoisted_5$4 = /* @__PURE__ */ createBaseVNode(\"span\", { class: \"vac-progress-pourcent\" }, \"%\", -1);\nfunction _sfc_render$8(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"vac-fade-spinner\",\n    appear: \"\"\n  }, {\n    default: withCtx(() => [\n      createBaseVNode(\"div\", _hoisted_1$8, [\n        (openBlock(), createElementBlock(\"svg\", {\n          height: $data.radius * 2,\n          width: $data.radius * 2\n        }, [\n          createBaseVNode(\"circle\", {\n            stroke: \"rgba(255, 255, 255, 0.7)\",\n            \"stroke-dasharray\": $data.circumference + \" \" + $data.circumference,\n            style: normalizeStyle({\n              strokeDashoffset: $options.strokeDashoffset,\n              strokeLinecap: \"round\"\n            }),\n            \"stroke-width\": $data.stroke,\n            fill: \"transparent\",\n            r: $data.normalizedRadius,\n            cx: $data.radius,\n            cy: $data.radius\n          }, null, 12, _hoisted_3$6)\n        ], 8, _hoisted_2$6)),\n        createBaseVNode(\"div\", {\n          class: \"vac-progress-content\",\n          style: normalizeStyle({\n            height: $data.radius * 2 - 19 + \"px\",\n            width: $data.radius * 2 - 19 + \"px\"\n          })\n        }, [\n          createBaseVNode(\"div\", _hoisted_4$6, [\n            createTextVNode(toDisplayString($props.progress), 1),\n            _hoisted_5$4\n          ])\n        ], 4)\n      ], 512)\n    ]),\n    _: 1\n  });\n}\nvar ProgressBar = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"render\", _sfc_render$8]]);\nconst _sfc_main$7 = {\n  name: \"MessageFile\",\n  components: { SvgIcon, Loader, ProgressBar },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    message: { type: Object, required: true },\n    file: { type: Object, required: true },\n    index: { type: Number, required: true },\n    messageSelectionEnabled: { type: Boolean, required: true }\n  },\n  emits: [\"open-file\"],\n  data() {\n    return {\n      imageResponsive: \"\",\n      imageLoading: false,\n      imageHover: false\n    };\n  },\n  computed: {\n    isImageLoading() {\n      return this.file.url.indexOf(\"blob:http\") !== -1 || this.imageLoading;\n    },\n    isImage() {\n      return isImageFile(this.file);\n    },\n    isVideo() {\n      return isVideoFile(this.file);\n    }\n  },\n  watch: {\n    file: {\n      immediate: true,\n      handler() {\n        this.checkImgLoad();\n      }\n    }\n  },\n  mounted() {\n    const ref = this.$refs[\"imageRef\" + this.index];\n    if (ref) {\n      this.imageResponsive = {\n        maxHeight: ref.clientWidth - 18,\n        loaderTop: ref.clientHeight / 2 - 9\n      };\n    }\n  },\n  methods: {\n    checkImgLoad() {\n      if (!isImageFile(this.file))\n        return;\n      this.imageLoading = true;\n      const image = new Image();\n      image.src = this.file.url;\n      image.addEventListener(\"load\", () => this.imageLoading = false);\n    },\n    openFile(event, action) {\n      if (!this.messageSelectionEnabled) {\n        event.stopPropagation();\n        this.$emit(\"open-file\", { file: this.file, action });\n      }\n    }\n  }\n};\nconst _hoisted_1$7 = { class: \"vac-message-file-container\" };\nconst _hoisted_2$5 = {\n  key: 0,\n  class: \"vac-image-buttons\"\n};\nconst _hoisted_3$5 = { controls: \"\" };\nconst _hoisted_4$5 = [\"src\"];\nfunction _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_progress_bar = resolveComponent(\"progress-bar\");\n  const _component_loader = resolveComponent(\"loader\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$7, [\n    $options.isImage ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      ref: \"imageRef\" + $props.index,\n      class: \"vac-message-image-container\",\n      onMouseover: _cache[2] || (_cache[2] = ($event) => $data.imageHover = true),\n      onMouseleave: _cache[3] || (_cache[3] = ($event) => $data.imageHover = false),\n      onClick: _cache[4] || (_cache[4] = ($event) => $options.openFile($event, \"preview\"))\n    }, [\n      $props.file.progress >= 0 ? (openBlock(), createBlock(_component_progress_bar, {\n        key: 0,\n        progress: $props.file.progress,\n        style: normalizeStyle({ top: `${$data.imageResponsive.loaderTop}px` })\n      }, null, 8, [\"progress\", \"style\"])) : (openBlock(), createBlock(_component_loader, {\n        key: 1,\n        show: $options.isImageLoading,\n        type: \"message-file\",\n        \"message-id\": $props.message._id,\n        style: normalizeStyle({ top: `${$data.imageResponsive.loaderTop}px` })\n      }, createSlots({ _: 2 }, [\n        renderList(_ctx.$slots, (idx, name) => {\n          return {\n            name,\n            fn: withCtx((data) => [\n              renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n            ])\n          };\n        })\n      ]), 1032, [\"show\", \"message-id\", \"style\"])),\n      createBaseVNode(\"div\", {\n        class: normalizeClass([\"vac-message-image\", {\n          \"vac-blur-loading\": $options.isImageLoading && $props.message.senderId === $props.currentUserId\n        }]),\n        style: normalizeStyle({\n          \"background-image\": `url('${$options.isImageLoading ? $props.file.preview || $props.file.url : $props.file.url}')`,\n          \"max-height\": `${$data.imageResponsive.maxHeight}px`\n        })\n      }, [\n        createVNode(Transition, { name: \"vac-fade-image\" }, {\n          default: withCtx(() => [\n            !$props.messageSelectionEnabled && $data.imageHover && !$options.isImageLoading ? (openBlock(), createElementBlock(\"div\", _hoisted_2$5, [\n              createBaseVNode(\"div\", {\n                class: \"vac-svg-button vac-button-view\",\n                onClick: _cache[0] || (_cache[0] = ($event) => $options.openFile($event, \"preview\"))\n              }, [\n                renderSlot(_ctx.$slots, \"eye-icon_\" + $props.message._id, {}, () => [\n                  createVNode(_component_svg_icon, { name: \"eye\" })\n                ])\n              ]),\n              createBaseVNode(\"div\", {\n                class: \"vac-svg-button vac-button-download\",\n                onClick: _cache[1] || (_cache[1] = ($event) => $options.openFile($event, \"download\"))\n              }, [\n                renderSlot(_ctx.$slots, \"document-icon_\" + $props.message._id, {}, () => [\n                  createVNode(_component_svg_icon, { name: \"document\" })\n                ])\n              ])\n            ])) : createCommentVNode(\"\", true)\n          ]),\n          _: 3\n        })\n      ], 6)\n    ], 544)) : $options.isVideo ? (openBlock(), createElementBlock(\"div\", {\n      key: 1,\n      class: \"vac-video-container\",\n      onClick: _cache[5] || (_cache[5] = withModifiers(($event) => $options.openFile($event, \"preview\"), [\"prevent\"]))\n    }, [\n      $props.file.progress >= 0 ? (openBlock(), createBlock(_component_progress_bar, {\n        key: 0,\n        progress: $props.file.progress\n      }, null, 8, [\"progress\"])) : createCommentVNode(\"\", true),\n      createBaseVNode(\"video\", _hoisted_3$5, [\n        createBaseVNode(\"source\", {\n          src: $props.file.url\n        }, null, 8, _hoisted_4$5)\n      ])\n    ])) : createCommentVNode(\"\", true)\n  ]);\n}\nvar MessageFile = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"render\", _sfc_render$7]]);\nconst _sfc_main$6 = {\n  name: \"MessageFiles\",\n  components: { SvgIcon, FormatMessage, ProgressBar, MessageFile },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    message: { type: Object, required: true },\n    roomUsers: { type: Array, required: true },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true },\n    messageSelectionEnabled: { type: Boolean, required: true }\n  },\n  emits: [\"open-file\", \"open-user-tag\"],\n  computed: {\n    imageVideoFiles() {\n      return this.message.files.filter((file) => isImageVideoFile(file));\n    },\n    otherFiles() {\n      return this.message.files.filter((file) => !isImageVideoFile(file));\n    }\n  },\n  methods: {\n    openFile(event, file, action) {\n      if (!this.messageSelectionEnabled) {\n        event.stopPropagation();\n        this.$emit(\"open-file\", { file, action });\n      }\n    }\n  }\n};\nconst _hoisted_1$6 = { class: \"vac-message-files-container\" };\nconst _hoisted_2$4 = [\"onClick\"];\nconst _hoisted_3$4 = { class: \"vac-svg-button\" };\nconst _hoisted_4$4 = { class: \"vac-text-ellipsis\" };\nconst _hoisted_5$3 = {\n  key: 0,\n  class: \"vac-text-ellipsis vac-text-extension\"\n};\nfunction _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_message_file = resolveComponent(\"message-file\");\n  const _component_progress_bar = resolveComponent(\"progress-bar\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_format_message = resolveComponent(\"format-message\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$6, [\n    (openBlock(true), createElementBlock(Fragment, null, renderList($options.imageVideoFiles, (file, i) => {\n      return openBlock(), createElementBlock(\"div\", {\n        key: i + \"iv\"\n      }, [\n        createVNode(_component_message_file, {\n          file,\n          \"current-user-id\": $props.currentUserId,\n          message: $props.message,\n          index: i,\n          \"message-selection-enabled\": $props.messageSelectionEnabled,\n          onOpenFile: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"open-file\", $event))\n        }, createSlots({ _: 2 }, [\n          renderList(_ctx.$slots, (idx, name) => {\n            return {\n              name,\n              fn: withCtx((data) => [\n                renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n              ])\n            };\n          })\n        ]), 1032, [\"file\", \"current-user-id\", \"message\", \"index\", \"message-selection-enabled\"])\n      ]);\n    }), 128)),\n    (openBlock(true), createElementBlock(Fragment, null, renderList($options.otherFiles, (file, i) => {\n      return openBlock(), createElementBlock(\"div\", {\n        key: i + \"a\",\n        class: \"vac-file-wrapper\"\n      }, [\n        file.progress >= 0 ? (openBlock(), createBlock(_component_progress_bar, {\n          key: 0,\n          progress: file.progress,\n          style: { top: \"44px\" }\n        }, null, 8, [\"progress\"])) : createCommentVNode(\"\", true),\n        createBaseVNode(\"div\", {\n          class: normalizeClass([\"vac-file-container\", { \"vac-file-container-progress\": file.progress >= 0 }]),\n          onClick: ($event) => $options.openFile($event, file, \"download\")\n        }, [\n          createBaseVNode(\"div\", _hoisted_3$4, [\n            renderSlot(_ctx.$slots, \"document-icon\", {}, () => [\n              createVNode(_component_svg_icon, { name: \"document\" })\n            ])\n          ]),\n          createBaseVNode(\"div\", _hoisted_4$4, toDisplayString(file.name), 1),\n          file.extension ? (openBlock(), createElementBlock(\"div\", _hoisted_5$3, toDisplayString(file.extension), 1)) : createCommentVNode(\"\", true)\n        ], 10, _hoisted_2$4)\n      ]);\n    }), 128)),\n    createVNode(_component_format_message, {\n      \"message-id\": $props.message._id,\n      content: $props.message.content,\n      users: $props.roomUsers,\n      \"text-formatting\": $props.textFormatting,\n      \"link-options\": $props.linkOptions,\n      onOpenUserTag: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"open-user-tag\", $event))\n    }, null, 8, [\"message-id\", \"content\", \"users\", \"text-formatting\", \"link-options\"])\n  ]);\n}\nvar MessageFiles = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"render\", _sfc_render$6]]);\nconst _sfc_main$5 = {\n  name: \"MessageActions\",\n  components: { SvgIcon, EmojiPickerContainer },\n  directives: {\n    clickOutside: vClickOutside\n  },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    message: { type: Object, required: true },\n    messageActions: { type: Array, required: true },\n    showReactionEmojis: { type: Boolean, required: true },\n    messageHover: { type: Boolean, required: true },\n    hoverMessageId: { type: [String, Number], default: null },\n    hoverAudioProgress: { type: Boolean, required: true }\n  },\n  emits: [\n    \"update-emoji-opened\",\n    \"update-options-opened\",\n    \"update-message-hover\",\n    \"message-action-handler\",\n    \"send-message-reaction\"\n  ],\n  data() {\n    return {\n      menuOptionsTop: 0,\n      optionsOpened: false,\n      optionsClosing: false,\n      emojiOpened: false\n    };\n  },\n  computed: {\n    isMessageActions() {\n      return this.filteredMessageActions.length && this.messageHover && !this.message.deleted && !this.message.disableActions && !this.hoverAudioProgress;\n    },\n    isMessageReactions() {\n      return this.showReactionEmojis && this.messageHover && !this.message.deleted && !this.message.disableReactions && !this.hoverAudioProgress;\n    },\n    filteredMessageActions() {\n      return this.message.senderId === this.currentUserId ? this.messageActions : this.messageActions.filter((message) => !message.onlyMe);\n    }\n  },\n  watch: {\n    emojiOpened(val) {\n      this.$emit(\"update-emoji-opened\", val);\n      if (val)\n        this.optionsOpened = false;\n    },\n    optionsOpened(val) {\n      this.$emit(\"update-options-opened\", val);\n    }\n  },\n  methods: {\n    openOptions() {\n      if (this.optionsClosing)\n        return;\n      this.optionsOpened = !this.optionsOpened;\n      if (!this.optionsOpened)\n        return;\n      setTimeout(() => {\n        const roomFooterRef = document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"room-footer\");\n        if (!roomFooterRef || !this.$refs.menuOptions || !this.$refs.actionIcon) {\n          return;\n        }\n        const menuOptionsTop = this.$refs.menuOptions.getBoundingClientRect().height;\n        const actionIconTop = this.$refs.actionIcon.getBoundingClientRect().top;\n        const roomFooterTop = roomFooterRef.getBoundingClientRect().top;\n        const optionsTopPosition = roomFooterTop - actionIconTop > menuOptionsTop + 50;\n        if (optionsTopPosition)\n          this.menuOptionsTop = 30;\n        else\n          this.menuOptionsTop = -menuOptionsTop;\n      });\n    },\n    closeOptions() {\n      this.optionsOpened = false;\n      this.optionsClosing = true;\n      this.updateMessageHover();\n      setTimeout(() => this.optionsClosing = false, 100);\n    },\n    openEmoji() {\n      this.emojiOpened = !this.emojiOpened;\n    },\n    closeEmoji() {\n      this.emojiOpened = false;\n      this.updateMessageHover();\n    },\n    updateMessageHover() {\n      if (this.hoverMessageId !== this.message._id) {\n        this.$emit(\"update-message-hover\", false);\n      }\n    },\n    messageActionHandler(action) {\n      this.closeOptions();\n      this.$emit(\"message-action-handler\", action);\n    },\n    sendMessageReaction(emoji, reaction) {\n      this.$emit(\"send-message-reaction\", { emoji, reaction });\n      this.closeEmoji();\n    }\n  }\n};\nconst _hoisted_1$5 = { class: \"vac-message-actions-wrapper\" };\nconst _hoisted_2$3 = { key: \"3\" };\nconst _hoisted_3$3 = { class: \"vac-menu-list\" };\nconst _hoisted_4$3 = [\"onClick\"];\nfunction _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_emoji_picker_container = resolveComponent(\"emoji-picker-container\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$5, [\n    createBaseVNode(\"div\", {\n      class: \"vac-options-container\",\n      style: normalizeStyle({\n        display: $props.hoverAudioProgress ? \"none\" : \"initial\",\n        width: $options.filteredMessageActions.length && $props.showReactionEmojis ? \"70px\" : \"45px\"\n      })\n    }, [\n      createVNode(TransitionGroup, {\n        name: \"vac-slide-left\",\n        tag: \"span\"\n      }, {\n        default: withCtx(() => [\n          $options.isMessageActions || $options.isMessageReactions ? (openBlock(), createElementBlock(\"div\", {\n            key: \"1\",\n            class: normalizeClass([\"vac-blur-container\", {\n              \"vac-options-me\": $props.message.senderId === $props.currentUserId\n            }])\n          }, null, 2)) : createCommentVNode(\"\", true),\n          $options.isMessageActions ? (openBlock(), createElementBlock(\"div\", {\n            ref: \"actionIcon\",\n            key: \"2\",\n            class: \"vac-svg-button vac-message-options\",\n            onClick: _cache[0] || (_cache[0] = (...args) => $options.openOptions && $options.openOptions(...args))\n          }, [\n            renderSlot(_ctx.$slots, \"dropdown-icon_\" + $props.message._id, {}, () => [\n              createVNode(_component_svg_icon, {\n                name: \"dropdown\",\n                param: \"message\"\n              })\n            ])\n          ], 512)) : createCommentVNode(\"\", true),\n          $options.isMessageReactions ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_2$3, [\n            renderSlot(_ctx.$slots, \"emoji-picker\", mergeProps({ emojiOpened: $data.emojiOpened }, { addEmoji: $options.sendMessageReaction }), () => [\n              createVNode(_component_emoji_picker_container, {\n                class: \"vac-message-emojis\",\n                style: normalizeStyle({ right: $options.isMessageActions ? \"30px\" : \"5px\" }),\n                \"emoji-opened\": $data.emojiOpened,\n                \"emoji-reaction\": true,\n                \"position-right\": $props.message.senderId === $props.currentUserId,\n                \"message-id\": $props.message._id,\n                onAddEmoji: $options.sendMessageReaction,\n                onOpenEmoji: $options.openEmoji\n              }, createSlots({ _: 2 }, [\n                renderList(_ctx.$slots, (idx, name) => {\n                  return {\n                    name,\n                    fn: withCtx((data) => [\n                      renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                    ])\n                  };\n                })\n              ]), 1032, [\"style\", \"emoji-opened\", \"position-right\", \"message-id\", \"onAddEmoji\", \"onOpenEmoji\"])\n            ])\n          ])), [\n            [_directive_click_outside, $options.closeEmoji]\n          ]) : createCommentVNode(\"\", true)\n        ]),\n        _: 3\n      })\n    ], 4),\n    $options.filteredMessageActions.length ? (openBlock(), createBlock(Transition, {\n      key: 0,\n      name: $props.message.senderId === $props.currentUserId ? \"vac-slide-left\" : \"vac-slide-right\"\n    }, {\n      default: withCtx(() => [\n        $data.optionsOpened ? withDirectives((openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          ref: \"menuOptions\",\n          class: normalizeClass([\"vac-menu-options\", {\n            \"vac-menu-left\": $props.message.senderId !== $props.currentUserId\n          }]),\n          style: normalizeStyle({ top: `${$data.menuOptionsTop}px` })\n        }, [\n          createBaseVNode(\"div\", _hoisted_3$3, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList($options.filteredMessageActions, (action) => {\n              return openBlock(), createElementBlock(\"div\", {\n                key: action.name\n              }, [\n                createBaseVNode(\"div\", {\n                  class: \"vac-menu-item\",\n                  onClick: ($event) => $options.messageActionHandler(action)\n                }, toDisplayString(action.title), 9, _hoisted_4$3)\n              ]);\n            }), 128))\n          ])\n        ], 6)), [\n          [_directive_click_outside, $options.closeOptions]\n        ]) : createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }, 8, [\"name\"])) : createCommentVNode(\"\", true)\n  ]);\n}\nvar MessageActions = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"render\", _sfc_render$5]]);\nconst _sfc_main$4 = {\n  name: \"MessageReactions\",\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    message: { type: Object, required: true }\n  },\n  emits: [\"send-message-reaction\"],\n  methods: {\n    sendMessageReaction(emoji, reaction) {\n      this.$emit(\"send-message-reaction\", { emoji, reaction });\n    }\n  }\n};\nconst _hoisted_1$4 = [\"onClick\"];\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  return !$props.message.deleted ? (openBlock(), createBlock(TransitionGroup, {\n    key: 0,\n    name: \"vac-slide-left\",\n    tag: \"span\"\n  }, {\n    default: withCtx(() => [\n      (openBlock(true), createElementBlock(Fragment, null, renderList($props.message.reactions, (reaction, key) => {\n        return withDirectives((openBlock(), createElementBlock(\"button\", {\n          key: key + 0,\n          class: normalizeClass([\"vac-button-reaction\", {\n            \"vac-reaction-me\": reaction.indexOf($props.currentUserId) !== -1\n          }]),\n          style: normalizeStyle({\n            float: $props.message.senderId === $props.currentUserId ? \"right\" : \"left\"\n          }),\n          onClick: ($event) => $options.sendMessageReaction({ unicode: key }, reaction)\n        }, [\n          createTextVNode(toDisplayString(key), 1),\n          createBaseVNode(\"span\", null, toDisplayString(reaction.length), 1)\n        ], 14, _hoisted_1$4)), [\n          [vShow, reaction.length]\n        ]);\n      }), 128))\n    ]),\n    _: 1\n  })) : createCommentVNode(\"\", true);\n}\nvar MessageReactions = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"render\", _sfc_render$4]]);\nfunction roomsValidation(obj) {\n  const roomsValidate = [\n    { key: \"roomId\", type: [\"string\", \"number\"] },\n    { key: \"roomName\", type: [\"string\"] },\n    { key: \"users\", type: [\"array\"] }\n  ];\n  const validate = (obj2, props) => {\n    return props.every((prop) => {\n      let validType = false;\n      if (prop.type[0] === \"array\" && Array.isArray(obj2[prop.key])) {\n        validType = true;\n      } else if (prop.type.find((t) => t === typeof obj2[prop.key])) {\n        validType = true;\n      }\n      return validType && checkObjectValid(obj2, prop.key);\n    });\n  };\n  if (!validate(obj, roomsValidate)) {\n    throw new Error(\n      \"Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]\"\n    );\n  }\n}\nfunction partcipantsValidation(obj) {\n  const participantsValidate = [\n    { key: \"_id\", type: [\"string\", \"number\"] },\n    { key: \"username\", type: [\"string\"] }\n  ];\n  const validate = (obj2, props) => {\n    return props.every((prop) => {\n      const validType = prop.type.find((t) => t === typeof obj2[prop.key]);\n      return validType && checkObjectValid(obj2, prop.key);\n    });\n  };\n  if (!validate(obj, participantsValidate)) {\n    throw new Error(\n      \"Participants object is not valid! Must contain _id[String, Number] and username[String]\"\n    );\n  }\n}\nfunction messagesValidation(obj) {\n  const messagesValidate = [\n    { key: \"_id\", type: [\"string\", \"number\"] },\n    { key: \"content\", type: [\"string\", \"number\"] },\n    { key: \"senderId\", type: [\"string\", \"number\"] }\n  ];\n  const validate = (obj2, props) => {\n    return props.every((prop) => {\n      const validType = prop.type.find((t) => t === typeof obj2[prop.key]);\n      return validType && checkObjectValid(obj2, prop.key);\n    });\n  };\n  if (!validate(obj, messagesValidate)) {\n    throw new Error(\n      \"Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]\"\n    );\n  }\n}\nfunction checkObjectValid(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key) && obj[key] !== null && obj[key] !== void 0;\n}\nconst _sfc_main$3 = {\n  name: \"RoomMessage\",\n  components: {\n    SvgIcon,\n    FormatMessage,\n    AudioPlayer,\n    MessageReply,\n    MessageFiles,\n    MessageActions,\n    MessageReactions\n  },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    textMessages: { type: Object, required: true },\n    index: { type: Number, required: true },\n    message: { type: Object, required: true },\n    messages: { type: Array, required: true },\n    editedMessageId: { type: [String, Number], default: null },\n    roomUsers: { type: Array, default: () => [] },\n    messageActions: { type: Array, required: true },\n    newMessages: { type: Array, default: () => [] },\n    showReactionEmojis: { type: Boolean, required: true },\n    showNewMessagesDivider: { type: Boolean, required: true },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true },\n    usernameOptions: { type: Object, required: true },\n    messageSelectionEnabled: { type: Boolean, required: true },\n    selectedMessages: { type: Array, default: () => [] }\n  },\n  emits: [\n    \"message-added\",\n    \"open-file\",\n    \"open-user-tag\",\n    \"open-failed-message\",\n    \"message-action-handler\",\n    \"send-message-reaction\",\n    \"select-message\",\n    \"unselect-message\"\n  ],\n  data() {\n    return {\n      hoverMessageId: null,\n      messageHover: false,\n      optionsOpened: false,\n      emojiOpened: false,\n      newMessage: {},\n      progressTime: \"- : -\",\n      hoverAudioProgress: false\n    };\n  },\n  computed: {\n    showUsername() {\n      if (!this.usernameOptions.currentUser && this.message.senderId === this.currentUserId) {\n        return false;\n      } else {\n        return this.roomUsers.length >= this.usernameOptions.minUsers;\n      }\n    },\n    showDate() {\n      return this.index > 0 && this.message.date !== this.messages[this.index - 1].date;\n    },\n    messageOffset() {\n      return this.index > 0 && this.message.senderId !== this.messages[this.index - 1].senderId;\n    },\n    isMessageHover() {\n      return this.editedMessageId === this.message._id || this.hoverMessageId === this.message._id;\n    },\n    isAudio() {\n      var _a;\n      return (_a = this.message.files) == null ? void 0 : _a.some((file) => isAudioFile(file));\n    },\n    isCheckmarkVisible() {\n      return this.message.senderId === this.currentUserId && !this.message.deleted && (this.message.saved || this.message.distributed || this.message.seen);\n    },\n    hasCurrentUserAvatar() {\n      return this.messages.some(\n        (message) => message.senderId === this.currentUserId && message.avatar\n      );\n    },\n    hasSenderUserAvatar() {\n      return this.messages.some(\n        (message) => message.senderId !== this.currentUserId && message.avatar\n      );\n    },\n    isMessageSelected() {\n      return this.messageSelectionEnabled && !!this.selectedMessages.find(\n        (message) => message._id === this.message._id\n      );\n    }\n  },\n  watch: {\n    newMessages: {\n      immediate: true,\n      deep: true,\n      handler(val) {\n        if (!val.length || !this.showNewMessagesDivider) {\n          this.newMessage = {};\n          return;\n        }\n        this.newMessage = val.reduce(\n          (res, obj) => obj.index < res.index ? obj : res\n        );\n      }\n    },\n    messageSelectionEnabled() {\n      this.resetMessageHover();\n    }\n  },\n  mounted() {\n    messagesValidation(this.message);\n    this.$emit(\"message-added\", {\n      message: this.message,\n      index: this.index,\n      ref: this.$refs.message\n    });\n  },\n  methods: {\n    onHoverMessage() {\n      if (!this.messageSelectionEnabled) {\n        this.messageHover = true;\n        if (this.canEditMessage())\n          this.hoverMessageId = this.message._id;\n      }\n    },\n    canEditMessage() {\n      return !this.message.deleted;\n    },\n    onLeaveMessage() {\n      if (!this.messageSelectionEnabled) {\n        if (!this.optionsOpened && !this.emojiOpened)\n          this.messageHover = false;\n        this.hoverMessageId = null;\n      }\n    },\n    resetMessageHover() {\n      this.messageHover = false;\n      this.hoverMessageId = null;\n    },\n    openFile(file) {\n      this.$emit(\"open-file\", { message: this.message, file });\n    },\n    openUserTag(user) {\n      this.$emit(\"open-user-tag\", { user });\n    },\n    messageActionHandler(action) {\n      this.resetMessageHover();\n      setTimeout(() => {\n        this.$emit(\"message-action-handler\", { action, message: this.message });\n      }, 300);\n    },\n    sendMessageReaction({ emoji, reaction }) {\n      this.$emit(\"send-message-reaction\", {\n        messageId: this.message._id,\n        reaction: emoji,\n        remove: reaction && reaction.indexOf(this.currentUserId) !== -1\n      });\n      this.messageHover = false;\n    },\n    selectMessage() {\n      if (this.messageSelectionEnabled) {\n        if (this.isMessageSelected) {\n          this.$emit(\"unselect-message\", this.message._id);\n        } else {\n          this.$emit(\"select-message\", this.message);\n        }\n      }\n    }\n  }\n};\nconst _hoisted_1$3 = [\"id\"];\nconst _hoisted_2$2 = {\n  key: 0,\n  class: \"vac-card-info vac-card-date\"\n};\nconst _hoisted_3$2 = {\n  key: 1,\n  class: \"vac-line-new\"\n};\nconst _hoisted_4$2 = {\n  key: 2,\n  class: \"vac-card-info vac-card-system\"\n};\nconst _hoisted_5$2 = {\n  key: 1,\n  class: \"vac-avatar-offset\"\n};\nconst _hoisted_6$1 = {\n  key: 0,\n  class: \"vac-progress-time\"\n};\nconst _hoisted_7$1 = { class: \"vac-text-timestamp\" };\nconst _hoisted_8 = {\n  key: 0,\n  class: \"vac-icon-edited\"\n};\nconst _hoisted_9 = { key: 1 };\nconst _hoisted_10 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"vac-failure-text\" }, \"!\", -1);\nconst _hoisted_11 = [\n  _hoisted_10\n];\nconst _hoisted_12 = {\n  key: 3,\n  class: \"vac-avatar-current-offset\"\n};\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_format_message = resolveComponent(\"format-message\");\n  const _component_message_reply = resolveComponent(\"message-reply\");\n  const _component_message_files = resolveComponent(\"message-files\");\n  const _component_audio_player = resolveComponent(\"audio-player\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_message_actions = resolveComponent(\"message-actions\");\n  const _component_message_reactions = resolveComponent(\"message-reactions\");\n  return openBlock(), createElementBlock(\"div\", {\n    id: $props.message._id,\n    ref: \"message\",\n    class: \"vac-message-wrapper\"\n  }, [\n    $options.showDate ? (openBlock(), createElementBlock(\"div\", _hoisted_2$2, toDisplayString($props.message.date), 1)) : createCommentVNode(\"\", true),\n    $data.newMessage._id === $props.message._id ? (openBlock(), createElementBlock(\"div\", _hoisted_3$2, toDisplayString($props.textMessages.NEW_MESSAGES), 1)) : createCommentVNode(\"\", true),\n    $props.message.system ? (openBlock(), createElementBlock(\"div\", _hoisted_4$2, [\n      renderSlot(_ctx.$slots, \"message_\" + $props.message._id, {}, () => [\n        createVNode(_component_format_message, {\n          \"message-id\": $props.message._id,\n          content: $props.message.content,\n          deleted: !!$props.message.deleted,\n          users: $props.roomUsers,\n          \"text-messages\": $props.textMessages,\n          \"text-formatting\": $props.textFormatting,\n          \"link-options\": $props.linkOptions,\n          onOpenUserTag: $options.openUserTag\n        }, createSlots({ _: 2 }, [\n          renderList(_ctx.$slots, (idx, name) => {\n            return {\n              name,\n              fn: withCtx((data) => [\n                renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n              ])\n            };\n          })\n        ]), 1032, [\"message-id\", \"content\", \"deleted\", \"users\", \"text-messages\", \"text-formatting\", \"link-options\", \"onOpenUserTag\"])\n      ])\n    ])) : (openBlock(), createElementBlock(\"div\", {\n      key: 3,\n      class: normalizeClass([\"vac-message-box\", { \"vac-offset-current\": $props.message.senderId === $props.currentUserId }]),\n      onClick: _cache[8] || (_cache[8] = (...args) => $options.selectMessage && $options.selectMessage(...args))\n    }, [\n      renderSlot(_ctx.$slots, \"message_\" + $props.message._id, {}, () => [\n        $props.message.avatar && $props.message.senderId !== $props.currentUserId ? renderSlot(_ctx.$slots, \"message-avatar_\" + $props.message._id, { key: 0 }, () => [\n          createBaseVNode(\"div\", {\n            class: \"vac-avatar\",\n            style: normalizeStyle({ \"background-image\": `url('${$props.message.avatar}')` })\n          }, null, 4)\n        ]) : createCommentVNode(\"\", true),\n        $options.hasSenderUserAvatar && !$props.message.avatar ? (openBlock(), createElementBlock(\"div\", _hoisted_5$2)) : createCommentVNode(\"\", true),\n        createBaseVNode(\"div\", {\n          class: normalizeClass([\"vac-message-container\", {\n            \"vac-message-container-offset\": $options.messageOffset\n          }])\n        }, [\n          createBaseVNode(\"div\", {\n            class: normalizeClass([\"vac-message-card\", {\n              \"vac-message-highlight\": $options.isMessageHover,\n              \"vac-message-current\": $props.message.senderId === $props.currentUserId,\n              \"vac-message-deleted\": $props.message.deleted,\n              \"vac-item-clickable\": $props.messageSelectionEnabled,\n              \"vac-message-selected\": $options.isMessageSelected\n            }]),\n            onMouseover: _cache[5] || (_cache[5] = (...args) => $options.onHoverMessage && $options.onHoverMessage(...args)),\n            onMouseleave: _cache[6] || (_cache[6] = (...args) => $options.onLeaveMessage && $options.onLeaveMessage(...args))\n          }, [\n            $options.showUsername ? (openBlock(), createElementBlock(\"div\", {\n              key: 0,\n              class: normalizeClass([\"vac-text-username\", {\n                \"vac-username-reply\": !$props.message.deleted && $props.message.replyMessage\n              }])\n            }, [\n              createBaseVNode(\"span\", null, toDisplayString($props.message.username), 1)\n            ], 2)) : createCommentVNode(\"\", true),\n            !$props.message.deleted && $props.message.replyMessage ? (openBlock(), createBlock(_component_message_reply, {\n              key: 1,\n              message: $props.message,\n              \"room-users\": $props.roomUsers,\n              \"text-formatting\": $props.textFormatting,\n              \"link-options\": $props.linkOptions\n            }, createSlots({ _: 2 }, [\n              renderList(_ctx.$slots, (i, name) => {\n                return {\n                  name,\n                  fn: withCtx((data) => [\n                    renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                  ])\n                };\n              })\n            ]), 1032, [\"message\", \"room-users\", \"text-formatting\", \"link-options\"])) : createCommentVNode(\"\", true),\n            !!$props.message.deleted || !$props.message.files || !$props.message.files.length ? (openBlock(), createBlock(_component_format_message, {\n              key: 2,\n              \"message-id\": $props.message._id,\n              content: $props.message.content,\n              deleted: !!$props.message.deleted,\n              users: $props.roomUsers,\n              \"text-formatting\": $props.textFormatting,\n              \"text-messages\": $props.textMessages,\n              \"link-options\": $props.linkOptions,\n              onOpenUserTag: $options.openUserTag\n            }, createSlots({ _: 2 }, [\n              renderList(_ctx.$slots, (idx, name) => {\n                return {\n                  name,\n                  fn: withCtx((data) => [\n                    renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                  ])\n                };\n              })\n            ]), 1032, [\"message-id\", \"content\", \"deleted\", \"users\", \"text-formatting\", \"text-messages\", \"link-options\", \"onOpenUserTag\"])) : !$options.isAudio || $props.message.files.length > 1 ? (openBlock(), createBlock(_component_message_files, {\n              key: 3,\n              \"current-user-id\": $props.currentUserId,\n              message: $props.message,\n              \"room-users\": $props.roomUsers,\n              \"text-formatting\": $props.textFormatting,\n              \"link-options\": $props.linkOptions,\n              \"message-selection-enabled\": $props.messageSelectionEnabled,\n              onOpenFile: $options.openFile,\n              onOpenUserTag: $options.openUserTag\n            }, createSlots({ _: 2 }, [\n              renderList(_ctx.$slots, (i, name) => {\n                return {\n                  name,\n                  fn: withCtx((data) => [\n                    renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                  ])\n                };\n              })\n            ]), 1032, [\"current-user-id\", \"message\", \"room-users\", \"text-formatting\", \"link-options\", \"message-selection-enabled\", \"onOpenFile\", \"onOpenUserTag\"])) : (openBlock(), createElementBlock(Fragment, { key: 4 }, [\n              createVNode(_component_audio_player, {\n                \"message-id\": $props.message._id,\n                src: $props.message.files[0].url,\n                \"message-selection-enabled\": $props.messageSelectionEnabled,\n                onUpdateProgressTime: _cache[0] || (_cache[0] = ($event) => $data.progressTime = $event),\n                onHoverAudioProgress: _cache[1] || (_cache[1] = ($event) => $data.hoverAudioProgress = $event)\n              }, createSlots({ _: 2 }, [\n                renderList(_ctx.$slots, (i, name) => {\n                  return {\n                    name,\n                    fn: withCtx((data) => [\n                      renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                    ])\n                  };\n                })\n              ]), 1032, [\"message-id\", \"src\", \"message-selection-enabled\"]),\n              !$props.message.deleted ? (openBlock(), createElementBlock(\"div\", _hoisted_6$1, toDisplayString($data.progressTime), 1)) : createCommentVNode(\"\", true)\n            ], 64)),\n            createBaseVNode(\"div\", _hoisted_7$1, [\n              $props.message.edited && !$props.message.deleted ? (openBlock(), createElementBlock(\"div\", _hoisted_8, [\n                renderSlot(_ctx.$slots, \"pencil-icon_\" + $props.message._id, {}, () => [\n                  createVNode(_component_svg_icon, { name: \"pencil\" })\n                ])\n              ])) : createCommentVNode(\"\", true),\n              createBaseVNode(\"span\", null, toDisplayString($props.message.timestamp), 1),\n              $options.isCheckmarkVisible ? (openBlock(), createElementBlock(\"span\", _hoisted_9, [\n                renderSlot(_ctx.$slots, \"checkmark-icon_\" + $props.message._id, {}, () => [\n                  createVNode(_component_svg_icon, {\n                    name: $props.message.distributed ? \"double-checkmark\" : \"checkmark\",\n                    param: $props.message.seen ? \"seen\" : \"\",\n                    class: \"vac-icon-check\"\n                  }, null, 8, [\"name\", \"param\"])\n                ])\n              ])) : createCommentVNode(\"\", true)\n            ]),\n            createVNode(_component_message_actions, {\n              \"current-user-id\": $props.currentUserId,\n              message: $props.message,\n              \"message-actions\": $props.messageActions,\n              \"show-reaction-emojis\": $props.showReactionEmojis,\n              \"message-hover\": $data.messageHover,\n              \"hover-message-id\": $data.hoverMessageId,\n              \"hover-audio-progress\": $data.hoverAudioProgress,\n              onUpdateMessageHover: _cache[2] || (_cache[2] = ($event) => $data.messageHover = $event),\n              onUpdateOptionsOpened: _cache[3] || (_cache[3] = ($event) => $data.optionsOpened = $event),\n              onUpdateEmojiOpened: _cache[4] || (_cache[4] = ($event) => $data.emojiOpened = $event),\n              onMessageActionHandler: $options.messageActionHandler,\n              onSendMessageReaction: $options.sendMessageReaction\n            }, createSlots({ _: 2 }, [\n              renderList(_ctx.$slots, (i, name) => {\n                return {\n                  name,\n                  fn: withCtx((data) => [\n                    renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                  ])\n                };\n              })\n            ]), 1032, [\"current-user-id\", \"message\", \"message-actions\", \"show-reaction-emojis\", \"message-hover\", \"hover-message-id\", \"hover-audio-progress\", \"onMessageActionHandler\", \"onSendMessageReaction\"])\n          ], 34),\n          createVNode(_component_message_reactions, {\n            \"current-user-id\": $props.currentUserId,\n            message: $props.message,\n            onSendMessageReaction: $options.sendMessageReaction\n          }, null, 8, [\"current-user-id\", \"message\", \"onSendMessageReaction\"])\n        ], 2),\n        renderSlot(_ctx.$slots, \"message-failure_\" + $props.message._id, {}, () => [\n          $props.message.failure && $props.message.senderId === $props.currentUserId ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass([\"vac-failure-container vac-svg-button\", {\n              \"vac-failure-container-avatar\": $props.message.avatar && $props.message.senderId === $props.currentUserId\n            }]),\n            onClick: _cache[7] || (_cache[7] = ($event) => _ctx.$emit(\"open-failed-message\", { message: $props.message }))\n          }, _hoisted_11, 2)) : createCommentVNode(\"\", true)\n        ]),\n        $props.message.avatar && $props.message.senderId === $props.currentUserId ? renderSlot(_ctx.$slots, \"message-avatar_\" + $props.message._id, { key: 2 }, () => [\n          createBaseVNode(\"div\", {\n            class: \"vac-avatar vac-avatar-current\",\n            style: normalizeStyle({ \"background-image\": `url('${$props.message.avatar}')` })\n          }, null, 4)\n        ]) : createCommentVNode(\"\", true),\n        $options.hasCurrentUserAvatar && !$props.message.avatar ? (openBlock(), createElementBlock(\"div\", _hoisted_12)) : createCommentVNode(\"\", true)\n      ])\n    ], 2))\n  ], 8, _hoisted_1$3);\n}\nvar RoomMessage = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$2 = {\n  name: \"ChatRoom\",\n  components: {\n    Loader,\n    SvgIcon,\n    RoomHeader,\n    RoomFooter,\n    RoomMessage\n  },\n  props: {\n    currentUserId: { type: [String, Number], required: true },\n    textMessages: { type: Object, required: true },\n    singleRoom: { type: Boolean, required: true },\n    showRoomsList: { type: Boolean, required: true },\n    isMobile: { type: Boolean, required: true },\n    rooms: { type: Array, required: true },\n    roomId: { type: [String, Number], required: true },\n    loadFirstRoom: { type: Boolean, required: true },\n    messages: { type: Array, required: true },\n    roomMessage: { type: String, default: null },\n    messagesLoaded: { type: Boolean, required: true },\n    menuActions: { type: Array, required: true },\n    messageActions: { type: Array, required: true },\n    messageSelectionActions: { type: Array, required: true },\n    autoScroll: { type: Object, required: true },\n    showSendIcon: { type: Boolean, required: true },\n    showFiles: { type: Boolean, required: true },\n    showAudio: { type: Boolean, required: true },\n    audioBitRate: { type: Number, required: true },\n    audioSampleRate: { type: Number, required: true },\n    showEmojis: { type: Boolean, required: true },\n    showReactionEmojis: { type: Boolean, required: true },\n    showNewMessagesDivider: { type: Boolean, required: true },\n    showFooter: { type: Boolean, required: true },\n    acceptedFiles: { type: String, required: true },\n    textFormatting: { type: Object, required: true },\n    linkOptions: { type: Object, required: true },\n    loadingRooms: { type: Boolean, required: true },\n    roomInfoEnabled: { type: Boolean, required: true },\n    textareaActionEnabled: { type: Boolean, required: true },\n    textareaAutoFocus: { type: Boolean, required: true },\n    userTagsEnabled: { type: Boolean, required: true },\n    emojisSuggestionEnabled: { type: Boolean, required: true },\n    scrollDistance: { type: Number, required: true },\n    templatesText: { type: Array, default: null },\n    usernameOptions: { type: Object, required: true }\n  },\n  emits: [\n    \"toggle-rooms-list\",\n    \"room-info\",\n    \"menu-action-handler\",\n    \"message-selection-action-handler\",\n    \"edit-message\",\n    \"send-message\",\n    \"delete-message\",\n    \"message-action-handler\",\n    \"fetch-messages\",\n    \"send-message-reaction\",\n    \"typing-message\",\n    \"open-file\",\n    \"open-user-tag\",\n    \"open-failed-message\",\n    \"textarea-action-handler\"\n  ],\n  data() {\n    return {\n      editedMessageId: null,\n      initReplyMessage: null,\n      initEditMessage: null,\n      loadingMessages: false,\n      observer: null,\n      showLoader: true,\n      loadingMoreMessages: false,\n      scrollIcon: false,\n      scrollMessagesCount: 0,\n      newMessages: [],\n      messageSelectionEnabled: false,\n      selectedMessages: [],\n      droppedFiles: []\n    };\n  },\n  computed: {\n    room() {\n      return this.rooms.find((room) => room.roomId === this.roomId) || {};\n    },\n    showNoMessages() {\n      return this.roomId && !this.messages.length && !this.loadingMessages && !this.loadingRooms;\n    },\n    showNoRoom() {\n      const noRoomSelected = !this.rooms.length && !this.loadingRooms || !this.roomId && !this.loadFirstRoom;\n      if (noRoomSelected) {\n        this.updateLoadingMessages(false);\n      }\n      return noRoomSelected;\n    },\n    showMessagesStarted() {\n      return this.messages.length && this.messagesLoaded;\n    }\n  },\n  watch: {\n    roomId: {\n      immediate: true,\n      handler() {\n        this.onRoomChanged();\n      }\n    },\n    messages: {\n      deep: true,\n      handler(newVal, oldVal) {\n        newVal.forEach((message, i) => {\n          if (this.showNewMessagesDivider && !message.seen && message.senderId !== this.currentUserId) {\n            this.newMessages.push({\n              _id: message._id,\n              index: i\n            });\n          }\n        });\n        if ((oldVal == null ? void 0 : oldVal.length) === (newVal == null ? void 0 : newVal.length) - 1) {\n          this.newMessages = [];\n        }\n        setTimeout(() => this.loadingMoreMessages = false);\n      }\n    },\n    messagesLoaded(val) {\n      if (val)\n        this.updateLoadingMessages(false);\n    }\n  },\n  mounted() {\n    this.newMessages = [];\n  },\n  methods: {\n    updateLoadingMessages(val) {\n      this.loadingMessages = val;\n      if (!val) {\n        setTimeout(() => this.initIntersectionObserver());\n      }\n    },\n    initIntersectionObserver() {\n      if (this.observer) {\n        this.showLoader = true;\n        this.observer.disconnect();\n      }\n      const loader = document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"infinite-loader-messages\");\n      if (loader) {\n        const options2 = {\n          root: document.querySelector(\"vue-advanced-chat\").shadowRoot.getElementById(\"messages-list\"),\n          rootMargin: `${this.scrollDistance}px`,\n          threshold: 0\n        };\n        this.observer = new IntersectionObserver((entries) => {\n          if (entries[0].isIntersecting) {\n            this.loadMoreMessages();\n          }\n        }, options2);\n        this.observer.observe(loader);\n      }\n    },\n    preventTopScroll() {\n      const container = this.$refs.scrollContainer;\n      const prevScrollHeight = container.scrollHeight;\n      const observer = new ResizeObserver((_) => {\n        if (container.scrollHeight !== prevScrollHeight) {\n          if (this.$refs.scrollContainer) {\n            this.$refs.scrollContainer.scrollTo({\n              top: container.scrollHeight - prevScrollHeight\n            });\n            observer.disconnect();\n          }\n        }\n      });\n      for (var i = 0; i < container.children.length; i++) {\n        observer.observe(container.children[i]);\n      }\n    },\n    touchStart(touchEvent) {\n      if (this.singleRoom)\n        return;\n      if (touchEvent.changedTouches.length === 1) {\n        const posXStart = touchEvent.changedTouches[0].clientX;\n        const posYStart = touchEvent.changedTouches[0].clientY;\n        addEventListener(\n          \"touchend\",\n          (touchEvent2) => this.touchEnd(touchEvent2, posXStart, posYStart),\n          { once: true }\n        );\n      }\n    },\n    touchEnd(touchEvent, posXStart, posYStart) {\n      if (touchEvent.changedTouches.length === 1) {\n        const posXEnd = touchEvent.changedTouches[0].clientX;\n        const posYEnd = touchEvent.changedTouches[0].clientY;\n        const swippedRight = posXEnd - posXStart > 100;\n        const swippedVertically = Math.abs(posYEnd - posYStart) > 50;\n        if (swippedRight && !swippedVertically) {\n          this.$emit(\"toggle-rooms-list\");\n        }\n      }\n    },\n    onRoomChanged() {\n      this.updateLoadingMessages(true);\n      this.scrollIcon = false;\n      this.scrollMessagesCount = 0;\n      this.resetMessageSelection();\n      const unwatch = this.$watch(\n        () => this.messages,\n        (val) => {\n          if (!val || !val.length)\n            return;\n          const element2 = this.$refs.scrollContainer;\n          if (!element2)\n            return;\n          unwatch();\n          setTimeout(() => {\n            element2.scrollTo({ top: element2.scrollHeight });\n            this.updateLoadingMessages(false);\n          });\n        }\n      );\n    },\n    resetMessageSelection() {\n      this.messageSelectionEnabled = false;\n      this.selectedMessages = [];\n    },\n    selectMessage(message) {\n      this.selectedMessages.push(message);\n    },\n    unselectMessage(messageId) {\n      this.selectedMessages = this.selectedMessages.filter(\n        (message) => message._id !== messageId\n      );\n    },\n    onMessageAdded({ message, index, ref }) {\n      if (index !== this.messages.length - 1)\n        return;\n      const autoScrollOffset = ref.offsetHeight + 60;\n      setTimeout(() => {\n        const scrolledUp = this.getBottomScroll(this.$refs.scrollContainer) > autoScrollOffset;\n        if (message.senderId === this.currentUserId) {\n          if (scrolledUp) {\n            if (this.autoScroll.send.newAfterScrollUp) {\n              this.scrollToBottom();\n            }\n          } else {\n            if (this.autoScroll.send.new) {\n              this.scrollToBottom();\n            }\n          }\n        } else {\n          if (scrolledUp) {\n            if (this.autoScroll.receive.newAfterScrollUp) {\n              this.scrollToBottom();\n            } else {\n              this.scrollIcon = true;\n              this.scrollMessagesCount++;\n            }\n          } else {\n            if (this.autoScroll.receive.new) {\n              this.scrollToBottom();\n            } else {\n              this.scrollIcon = true;\n              this.scrollMessagesCount++;\n            }\n          }\n        }\n      });\n    },\n    onContainerScroll(e) {\n      if (!e.target)\n        return;\n      const bottomScroll = this.getBottomScroll(e.target);\n      if (bottomScroll < 60)\n        this.scrollMessagesCount = 0;\n      this.scrollIcon = bottomScroll > 500 || this.scrollMessagesCount;\n    },\n    loadMoreMessages() {\n      if (this.loadingMessages)\n        return;\n      setTimeout(\n        () => {\n          if (this.loadingMoreMessages)\n            return;\n          if (this.messagesLoaded || !this.roomId) {\n            this.loadingMoreMessages = false;\n            this.showLoader = false;\n            return;\n          }\n          this.preventTopScroll();\n          this.$emit(\"fetch-messages\");\n          this.loadingMoreMessages = true;\n        },\n        500\n      );\n    },\n    messageActionHandler({ action, message }) {\n      switch (action.name) {\n        case \"replyMessage\":\n          this.initReplyMessage = message;\n          setTimeout(() => {\n            this.initReplyMessage = null;\n          });\n          return;\n        case \"editMessage\":\n          this.initEditMessage = message;\n          setTimeout(() => {\n            this.initEditMessage = null;\n          });\n          return;\n        case \"deleteMessage\":\n          return this.$emit(\"delete-message\", message);\n        case \"selectMessages\":\n          this.selectedMessages = [message];\n          this.messageSelectionEnabled = true;\n          return;\n        default:\n          return this.$emit(\"message-action-handler\", { action, message });\n      }\n    },\n    messageSelectionActionHandler(action) {\n      this.$emit(\"message-selection-action-handler\", {\n        action,\n        messages: this.selectedMessages\n      });\n      this.resetMessageSelection();\n    },\n    sendMessageReaction(messageReaction) {\n      this.$emit(\"send-message-reaction\", messageReaction);\n    },\n    getBottomScroll(element2) {\n      const { scrollHeight, clientHeight, scrollTop } = element2;\n      return scrollHeight - clientHeight - scrollTop;\n    },\n    scrollToBottom() {\n      setTimeout(() => {\n        const element2 = this.$refs.scrollContainer;\n        element2.classList.add(\"vac-scroll-smooth\");\n        element2.scrollTo({ top: element2.scrollHeight, behavior: \"smooth\" });\n        setTimeout(() => element2.classList.remove(\"vac-scroll-smooth\"));\n      }, 50);\n    },\n    openFile({ message, file }) {\n      this.$emit(\"open-file\", { message, file });\n    },\n    openUserTag(user) {\n      this.$emit(\"open-user-tag\", user);\n    },\n    onDropFiles(event) {\n      this.droppedFiles = event.dataTransfer.files;\n    }\n  }\n};\nconst _hoisted_1$2 = { class: \"vac-container-center vac-room-empty\" };\nconst _hoisted_2$1 = { class: \"vac-messages-container\" };\nconst _hoisted_3$1 = {\n  key: 0,\n  class: \"vac-text-started\"\n};\nconst _hoisted_4$1 = {\n  key: 1,\n  class: \"vac-text-started\"\n};\nconst _hoisted_5$1 = {\n  key: 0,\n  id: \"infinite-loader-messages\"\n};\nconst _hoisted_6 = { key: 2 };\nconst _hoisted_7 = {\n  key: 0,\n  class: \"vac-badge-counter vac-messages-count\"\n};\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_room_header = resolveComponent(\"room-header\");\n  const _component_loader = resolveComponent(\"loader\");\n  const _component_room_message = resolveComponent(\"room-message\");\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  const _component_room_footer = resolveComponent(\"room-footer\");\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    class: \"vac-col-messages\",\n    onDrop: _cache[12] || (_cache[12] = withModifiers((...args) => $options.onDropFiles && $options.onDropFiles(...args), [\"prevent\"])),\n    onDragenter: _cache[13] || (_cache[13] = withModifiers(() => {\n    }, [\"prevent\"])),\n    onDragover: _cache[14] || (_cache[14] = withModifiers(() => {\n    }, [\"prevent\"])),\n    onDragleave: _cache[15] || (_cache[15] = withModifiers(() => {\n    }, [\"prevent\"])),\n    onTouchstart: _cache[16] || (_cache[16] = (...args) => $options.touchStart && $options.touchStart(...args))\n  }, [\n    $options.showNoRoom ? renderSlot(_ctx.$slots, \"no-room-selected\", { key: 0 }, () => [\n      createBaseVNode(\"div\", _hoisted_1$2, [\n        createBaseVNode(\"div\", null, toDisplayString($props.textMessages.ROOM_EMPTY), 1)\n      ])\n    ]) : (openBlock(), createBlock(_component_room_header, {\n      key: 1,\n      \"current-user-id\": $props.currentUserId,\n      \"text-messages\": $props.textMessages,\n      \"single-room\": $props.singleRoom,\n      \"show-rooms-list\": $props.showRoomsList,\n      \"is-mobile\": $props.isMobile,\n      \"room-info-enabled\": $props.roomInfoEnabled,\n      \"menu-actions\": $props.menuActions,\n      room: $options.room,\n      \"message-selection-enabled\": $data.messageSelectionEnabled,\n      \"message-selection-actions\": $props.messageSelectionActions,\n      \"selected-messages-total\": $data.selectedMessages.length,\n      onToggleRoomsList: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"toggle-rooms-list\")),\n      onRoomInfo: _cache[1] || (_cache[1] = ($event) => _ctx.$emit(\"room-info\")),\n      onMenuActionHandler: _cache[2] || (_cache[2] = ($event) => _ctx.$emit(\"menu-action-handler\", $event)),\n      onMessageSelectionActionHandler: $options.messageSelectionActionHandler,\n      onCancelMessageSelection: _cache[3] || (_cache[3] = ($event) => $data.messageSelectionEnabled = false)\n    }, createSlots({ _: 2 }, [\n      renderList(_ctx.$slots, (i, name) => {\n        return {\n          name,\n          fn: withCtx((data) => [\n            renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n          ])\n        };\n      })\n    ]), 1032, [\"current-user-id\", \"text-messages\", \"single-room\", \"show-rooms-list\", \"is-mobile\", \"room-info-enabled\", \"menu-actions\", \"room\", \"message-selection-enabled\", \"message-selection-actions\", \"selected-messages-total\", \"onMessageSelectionActionHandler\"])),\n    createBaseVNode(\"div\", {\n      id: \"messages-list\",\n      ref: \"scrollContainer\",\n      class: \"vac-container-scroll\",\n      onScroll: _cache[5] || (_cache[5] = (...args) => $options.onContainerScroll && $options.onContainerScroll(...args))\n    }, [\n      createVNode(_component_loader, {\n        show: $data.loadingMessages,\n        type: \"messages\"\n      }, createSlots({ _: 2 }, [\n        renderList(_ctx.$slots, (idx, name) => {\n          return {\n            name,\n            fn: withCtx((data) => [\n              renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n            ])\n          };\n        })\n      ]), 1032, [\"show\"]),\n      createBaseVNode(\"div\", _hoisted_2$1, [\n        createBaseVNode(\"div\", {\n          class: normalizeClass({ \"vac-messages-hidden\": $data.loadingMessages })\n        }, [\n          createVNode(Transition, { name: \"vac-fade-message\" }, {\n            default: withCtx(() => [\n              createBaseVNode(\"div\", null, [\n                $options.showNoMessages ? (openBlock(), createElementBlock(\"div\", _hoisted_3$1, [\n                  renderSlot(_ctx.$slots, \"messages-empty\", {}, () => [\n                    createTextVNode(toDisplayString($props.textMessages.MESSAGES_EMPTY), 1)\n                  ])\n                ])) : createCommentVNode(\"\", true),\n                $options.showMessagesStarted ? (openBlock(), createElementBlock(\"div\", _hoisted_4$1, toDisplayString($props.textMessages.CONVERSATION_STARTED) + \" \" + toDisplayString($props.messages[0].date), 1)) : createCommentVNode(\"\", true)\n              ])\n            ]),\n            _: 3\n          }),\n          $props.messages.length && !$props.messagesLoaded ? (openBlock(), createElementBlock(\"div\", _hoisted_5$1, [\n            createVNode(_component_loader, {\n              show: true,\n              infinite: true,\n              type: \"infinite-messages\"\n            }, createSlots({ _: 2 }, [\n              renderList(_ctx.$slots, (idx, name) => {\n                return {\n                  name,\n                  fn: withCtx((data) => [\n                    renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                  ])\n                };\n              })\n            ]), 1024)\n          ])) : createCommentVNode(\"\", true),\n          (openBlock(), createBlock(TransitionGroup, {\n            key: $props.roomId,\n            name: \"vac-fade-message\",\n            tag: \"span\"\n          }, {\n            default: withCtx(() => [\n              (openBlock(true), createElementBlock(Fragment, null, renderList($props.messages, (m, i) => {\n                return openBlock(), createElementBlock(\"div\", {\n                  key: m.indexId || m._id\n                }, [\n                  createVNode(_component_room_message, {\n                    \"current-user-id\": $props.currentUserId,\n                    message: m,\n                    index: i,\n                    messages: $props.messages,\n                    \"edited-message-id\": $data.editedMessageId,\n                    \"message-actions\": $props.messageActions,\n                    \"room-users\": $options.room.users,\n                    \"text-messages\": $props.textMessages,\n                    \"new-messages\": $data.newMessages,\n                    \"show-reaction-emojis\": $props.showReactionEmojis,\n                    \"show-new-messages-divider\": $props.showNewMessagesDivider,\n                    \"text-formatting\": $props.textFormatting,\n                    \"link-options\": $props.linkOptions,\n                    \"username-options\": $props.usernameOptions,\n                    \"message-selection-enabled\": $data.messageSelectionEnabled,\n                    \"selected-messages\": $data.selectedMessages,\n                    onMessageAdded: $options.onMessageAdded,\n                    onMessageActionHandler: $options.messageActionHandler,\n                    onOpenFile: $options.openFile,\n                    onOpenUserTag: $options.openUserTag,\n                    onOpenFailedMessage: _cache[4] || (_cache[4] = ($event) => _ctx.$emit(\"open-failed-message\", $event)),\n                    onSendMessageReaction: $options.sendMessageReaction,\n                    onSelectMessage: $options.selectMessage,\n                    onUnselectMessage: $options.unselectMessage\n                  }, createSlots({ _: 2 }, [\n                    renderList(_ctx.$slots, (idx, name) => {\n                      return {\n                        name,\n                        fn: withCtx((data) => [\n                          renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n                        ])\n                      };\n                    })\n                  ]), 1032, [\"current-user-id\", \"message\", \"index\", \"messages\", \"edited-message-id\", \"message-actions\", \"room-users\", \"text-messages\", \"new-messages\", \"show-reaction-emojis\", \"show-new-messages-divider\", \"text-formatting\", \"link-options\", \"username-options\", \"message-selection-enabled\", \"selected-messages\", \"onMessageAdded\", \"onMessageActionHandler\", \"onOpenFile\", \"onOpenUserTag\", \"onSendMessageReaction\", \"onSelectMessage\", \"onUnselectMessage\"])\n                ]);\n              }), 128))\n            ]),\n            _: 3\n          }))\n        ], 2)\n      ])\n    ], 544),\n    !$data.loadingMessages ? (openBlock(), createElementBlock(\"div\", _hoisted_6, [\n      createVNode(Transition, { name: \"vac-bounce\" }, {\n        default: withCtx(() => [\n          $data.scrollIcon ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: \"vac-icon-scroll\",\n            onClick: _cache[6] || (_cache[6] = (...args) => $options.scrollToBottom && $options.scrollToBottom(...args))\n          }, [\n            createVNode(Transition, { name: \"vac-bounce\" }, {\n              default: withCtx(() => [\n                $data.scrollMessagesCount ? (openBlock(), createElementBlock(\"div\", _hoisted_7, toDisplayString($data.scrollMessagesCount), 1)) : createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            }),\n            renderSlot(_ctx.$slots, \"scroll-icon\", {}, () => [\n              createVNode(_component_svg_icon, {\n                name: \"dropdown\",\n                param: \"scroll\"\n              })\n            ])\n          ])) : createCommentVNode(\"\", true)\n        ]),\n        _: 3\n      })\n    ])) : createCommentVNode(\"\", true),\n    createVNode(_component_room_footer, {\n      room: $options.room,\n      \"room-id\": $props.roomId,\n      \"room-message\": $props.roomMessage,\n      \"text-messages\": $props.textMessages,\n      \"show-send-icon\": $props.showSendIcon,\n      \"show-files\": $props.showFiles,\n      \"show-audio\": $props.showAudio,\n      \"show-emojis\": $props.showEmojis,\n      \"show-footer\": $props.showFooter,\n      \"accepted-files\": $props.acceptedFiles,\n      \"textarea-action-enabled\": $props.textareaActionEnabled,\n      \"textarea-auto-focus\": $props.textareaAutoFocus,\n      \"user-tags-enabled\": $props.userTagsEnabled,\n      \"emojis-suggestion-enabled\": $props.emojisSuggestionEnabled,\n      \"templates-text\": $props.templatesText,\n      \"text-formatting\": $props.textFormatting,\n      \"link-options\": $props.linkOptions,\n      \"audio-bit-rate\": $props.audioBitRate,\n      \"audio-sample-rate\": $props.audioSampleRate,\n      \"init-reply-message\": $data.initReplyMessage,\n      \"init-edit-message\": $data.initEditMessage,\n      \"dropped-files\": $data.droppedFiles,\n      onUpdateEditedMessageId: _cache[7] || (_cache[7] = ($event) => $data.editedMessageId = $event),\n      onEditMessage: _cache[8] || (_cache[8] = ($event) => _ctx.$emit(\"edit-message\", $event)),\n      onSendMessage: _cache[9] || (_cache[9] = ($event) => _ctx.$emit(\"send-message\", $event)),\n      onTypingMessage: _cache[10] || (_cache[10] = ($event) => _ctx.$emit(\"typing-message\", $event)),\n      onTextareaActionHandler: _cache[11] || (_cache[11] = ($event) => _ctx.$emit(\"textarea-action-handler\", $event))\n    }, createSlots({ _: 2 }, [\n      renderList(_ctx.$slots, (idx, name) => {\n        return {\n          name,\n          fn: withCtx((data) => [\n            renderSlot(_ctx.$slots, name, normalizeProps(guardReactiveProps(data)))\n          ])\n        };\n      })\n    ]), 1032, [\"room\", \"room-id\", \"room-message\", \"text-messages\", \"show-send-icon\", \"show-files\", \"show-audio\", \"show-emojis\", \"show-footer\", \"accepted-files\", \"textarea-action-enabled\", \"textarea-auto-focus\", \"user-tags-enabled\", \"emojis-suggestion-enabled\", \"templates-text\", \"text-formatting\", \"link-options\", \"audio-bit-rate\", \"audio-sample-rate\", \"init-reply-message\", \"init-edit-message\", \"dropped-files\"])\n  ], 544)), [\n    [vShow, $props.isMobile && !$props.showRoomsList || !$props.isMobile || $props.singleRoom]\n  ]);\n}\nvar Room = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render$2]]);\nconst _sfc_main$1 = {\n  name: \"MediaPreview\",\n  components: {\n    SvgIcon\n  },\n  props: {\n    file: { type: Object, required: true }\n  },\n  emits: [\"close-media-preview\"],\n  computed: {\n    isImage() {\n      return isImageFile(this.file);\n    },\n    isVideo() {\n      return isVideoFile(this.file);\n    }\n  },\n  mounted() {\n    this.$refs.modal.focus();\n  },\n  methods: {\n    closeModal() {\n      this.$emit(\"close-media-preview\");\n    }\n  }\n};\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"vac-media-preview-container\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"vac-media-preview-container\"\n};\nconst _hoisted_3 = {\n  controls: \"\",\n  autoplay: \"\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = { class: \"vac-svg-button\" };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_svg_icon = resolveComponent(\"svg-icon\");\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"modal\",\n    tabindex: \"0\",\n    class: \"vac-media-preview\",\n    onClick: _cache[0] || (_cache[0] = withModifiers((...args) => $options.closeModal && $options.closeModal(...args), [\"stop\"])),\n    onKeydown: _cache[1] || (_cache[1] = withKeys((...args) => $options.closeModal && $options.closeModal(...args), [\"esc\"]))\n  }, [\n    createVNode(Transition, {\n      name: \"vac-bounce-preview\",\n      appear: \"\"\n    }, {\n      default: withCtx(() => [\n        $options.isImage ? (openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n          createBaseVNode(\"div\", {\n            class: \"vac-image-preview\",\n            style: normalizeStyle({\n              \"background-image\": `url('${$props.file.url}')`\n            })\n          }, null, 4)\n        ])) : $options.isVideo ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n          createBaseVNode(\"video\", _hoisted_3, [\n            createBaseVNode(\"source\", {\n              src: $props.file.url\n            }, null, 8, _hoisted_4)\n          ])\n        ])) : createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    createBaseVNode(\"div\", _hoisted_5, [\n      renderSlot(_ctx.$slots, \"preview-close-icon\", {}, () => [\n        createVNode(_component_svg_icon, {\n          name: \"close-outline\",\n          param: \"preview\"\n        })\n      ])\n    ])\n  ], 544);\n}\nvar MediaPreview = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render$1]]);\nvar locales = {\n  ROOMS_EMPTY: \"No rooms\",\n  ROOM_EMPTY: \"No room selected\",\n  NEW_MESSAGES: \"New Messages\",\n  MESSAGE_DELETED: \"This message was deleted\",\n  MESSAGES_EMPTY: \"No messages\",\n  CONVERSATION_STARTED: \"Conversation started on:\",\n  TYPE_MESSAGE: \"Type message\",\n  SEARCH: \"Search\",\n  IS_ONLINE: \"is online\",\n  LAST_SEEN: \"last seen \",\n  IS_TYPING: \"is writing...\",\n  CANCEL_SELECT_MESSAGE: \"Cancel\"\n};\nconst defaultThemeStyles = {\n  light: {\n    general: {\n      color: \"#0a0a0a\",\n      colorButtonClear: \"#1976d2\",\n      colorButton: \"#fff\",\n      backgroundColorButton: \"#1976d2\",\n      backgroundInput: \"#fff\",\n      colorPlaceholder: \"#9ca6af\",\n      colorCaret: \"#1976d2\",\n      colorSpinner: \"#333\",\n      borderStyle: \"1px solid #e1e4e8\",\n      backgroundScrollIcon: \"#fff\"\n    },\n    container: {\n      border: \"none\",\n      borderRadius: \"4px\",\n      boxShadow: \"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)\"\n    },\n    header: {\n      background: \"#fff\",\n      colorRoomName: \"#0a0a0a\",\n      colorRoomInfo: \"#9ca6af\"\n    },\n    footer: {\n      background: \"#f8f9fa\",\n      borderStyleInput: \"1px solid #e1e4e8\",\n      borderInputSelected: \"#1976d2\",\n      backgroundReply: \"#e5e5e6\",\n      backgroundTagActive: \"#e5e5e6\",\n      backgroundTag: \"#f8f9fa\"\n    },\n    content: {\n      background: \"#f8f9fa\"\n    },\n    sidemenu: {\n      background: \"#fff\",\n      backgroundHover: \"#f6f6f6\",\n      backgroundActive: \"#e5effa\",\n      colorActive: \"#1976d2\",\n      borderColorSearch: \"#e1e5e8\"\n    },\n    dropdown: {\n      background: \"#fff\",\n      backgroundHover: \"#f6f6f6\"\n    },\n    message: {\n      background: \"#fff\",\n      backgroundMe: \"#ccf2cf\",\n      color: \"#0a0a0a\",\n      colorStarted: \"#9ca6af\",\n      backgroundDeleted: \"#dadfe2\",\n      backgroundSelected: \"#c2dcf2\",\n      colorDeleted: \"#757e85\",\n      colorUsername: \"#9ca6af\",\n      colorTimestamp: \"#828c94\",\n      backgroundDate: \"#e5effa\",\n      colorDate: \"#505a62\",\n      backgroundSystem: \"#e5effa\",\n      colorSystem: \"#505a62\",\n      backgroundMedia: \"rgba(0, 0, 0, 0.15)\",\n      backgroundReply: \"rgba(0, 0, 0, 0.08)\",\n      colorReplyUsername: \"#0a0a0a\",\n      colorReply: \"#6e6e6e\",\n      colorTag: \"#0d579c\",\n      backgroundImage: \"#ddd\",\n      colorNewMessages: \"#1976d2\",\n      backgroundScrollCounter: \"#0696c7\",\n      colorScrollCounter: \"#fff\",\n      backgroundReaction: \"#eee\",\n      borderStyleReaction: \"1px solid #eee\",\n      backgroundReactionHover: \"#fff\",\n      borderStyleReactionHover: \"1px solid #ddd\",\n      colorReactionCounter: \"#0a0a0a\",\n      backgroundReactionMe: \"#cfecf5\",\n      borderStyleReactionMe: \"1px solid #3b98b8\",\n      backgroundReactionHoverMe: \"#cfecf5\",\n      borderStyleReactionHoverMe: \"1px solid #3b98b8\",\n      colorReactionCounterMe: \"#0b59b3\",\n      backgroundAudioRecord: \"#eb4034\",\n      backgroundAudioLine: \"rgba(0, 0, 0, 0.15)\",\n      backgroundAudioProgress: \"#455247\",\n      backgroundAudioProgressSelector: \"#455247\",\n      colorFileExtension: \"#757e85\"\n    },\n    markdown: {\n      background: \"rgba(239, 239, 239, 0.7)\",\n      border: \"rgba(212, 212, 212, 0.9)\",\n      color: \"#e01e5a\",\n      colorMulti: \"#0a0a0a\"\n    },\n    room: {\n      colorUsername: \"#0a0a0a\",\n      colorMessage: \"#67717a\",\n      colorTimestamp: \"#a2aeb8\",\n      colorStateOnline: \"#4caf50\",\n      colorStateOffline: \"#9ca6af\",\n      backgroundCounterBadge: \"#0696c7\",\n      colorCounterBadge: \"#fff\"\n    },\n    emoji: {\n      background: \"#fff\"\n    },\n    icons: {\n      search: \"#9ca6af\",\n      add: \"#1976d2\",\n      toggle: \"#0a0a0a\",\n      menu: \"#0a0a0a\",\n      close: \"#9ca6af\",\n      closeImage: \"#fff\",\n      file: \"#1976d2\",\n      paperclip: \"#1976d2\",\n      closeOutline: \"#000\",\n      closePreview: \"#fff\",\n      send: \"#1976d2\",\n      sendDisabled: \"#9ca6af\",\n      emoji: \"#1976d2\",\n      emojiReaction: \"rgba(0, 0, 0, 0.3)\",\n      document: \"#1976d2\",\n      pencil: \"#9e9e9e\",\n      checkmark: \"#9e9e9e\",\n      checkmarkSeen: \"#0696c7\",\n      eye: \"#fff\",\n      dropdownMessage: \"#fff\",\n      dropdownMessageBackground: \"rgba(0, 0, 0, 0.25)\",\n      dropdownRoom: \"#9e9e9e\",\n      dropdownScroll: \"#0a0a0a\",\n      microphone: \"#1976d2\",\n      audioPlay: \"#455247\",\n      audioPause: \"#455247\",\n      audioCancel: \"#eb4034\",\n      audioConfirm: \"#1ba65b\"\n    }\n  },\n  dark: {\n    general: {\n      color: \"#fff\",\n      colorButtonClear: \"#fff\",\n      colorButton: \"#fff\",\n      backgroundColorButton: \"#1976d2\",\n      backgroundInput: \"#202223\",\n      colorPlaceholder: \"#596269\",\n      colorCaret: \"#fff\",\n      colorSpinner: \"#fff\",\n      borderStyle: \"none\",\n      backgroundScrollIcon: \"#fff\"\n    },\n    container: {\n      border: \"none\",\n      borderRadius: \"4px\",\n      boxShadow: \"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)\"\n    },\n    header: {\n      background: \"#181a1b\",\n      colorRoomName: \"#fff\",\n      colorRoomInfo: \"#9ca6af\"\n    },\n    footer: {\n      background: \"#131415\",\n      borderStyleInput: \"none\",\n      borderInputSelected: \"#1976d2\",\n      backgroundReply: \"#1b1c1c\",\n      backgroundTagActive: \"#1b1c1c\",\n      backgroundTag: \"#131415\"\n    },\n    content: {\n      background: \"#131415\"\n    },\n    sidemenu: {\n      background: \"#181a1b\",\n      backgroundHover: \"#202224\",\n      backgroundActive: \"#151617\",\n      colorActive: \"#fff\",\n      borderColorSearch: \"#181a1b\"\n    },\n    dropdown: {\n      background: \"#2a2c33\",\n      backgroundHover: \"#26282e\"\n    },\n    message: {\n      background: \"#22242a\",\n      backgroundMe: \"#1f7e80\",\n      color: \"#fff\",\n      colorStarted: \"#9ca6af\",\n      backgroundDeleted: \"#1b1c21\",\n      backgroundSelected: \"#c2dcf2\",\n      colorDeleted: \"#a2a5a8\",\n      colorUsername: \"#b3bac9\",\n      colorTimestamp: \"#ebedf2\",\n      backgroundDate: \"rgba(0, 0, 0, 0.3)\",\n      colorDate: \"#bec5cc\",\n      backgroundSystem: \"rgba(0, 0, 0, 0.3)\",\n      colorSystem: \"#bec5cc\",\n      backgroundMedia: \"rgba(0, 0, 0, 0.18)\",\n      backgroundReply: \"rgba(0, 0, 0, 0.18)\",\n      colorReplyUsername: \"#fff\",\n      colorReply: \"#d6d6d6\",\n      colorTag: \"#f0c60a\",\n      backgroundImage: \"#ddd\",\n      colorNewMessages: \"#fff\",\n      backgroundScrollCounter: \"#1976d2\",\n      colorScrollCounter: \"#fff\",\n      backgroundReaction: \"none\",\n      borderStyleReaction: \"none\",\n      backgroundReactionHover: \"#202223\",\n      borderStyleReactionHover: \"none\",\n      colorReactionCounter: \"#fff\",\n      backgroundReactionMe: \"#4e9ad1\",\n      borderStyleReactionMe: \"none\",\n      backgroundReactionHoverMe: \"#4e9ad1\",\n      borderStyleReactionHoverMe: \"none\",\n      colorReactionCounterMe: \"#fff\",\n      backgroundAudioRecord: \"#eb4034\",\n      backgroundAudioLine: \"rgba(255, 255, 255, 0.15)\",\n      backgroundAudioProgress: \"#b7d4d3\",\n      backgroundAudioProgressSelector: \"#b7d4d3\",\n      colorFileExtension: \"#a2a5a8\"\n    },\n    markdown: {\n      background: \"rgba(239, 239, 239, 0.7)\",\n      border: \"rgba(212, 212, 212, 0.9)\",\n      color: \"#e01e5a\",\n      colorMulti: \"#0a0a0a\"\n    },\n    room: {\n      colorUsername: \"#fff\",\n      colorMessage: \"#6c7278\",\n      colorTimestamp: \"#6c7278\",\n      colorStateOnline: \"#4caf50\",\n      colorStateOffline: \"#596269\",\n      backgroundCounterBadge: \"#1976d2\",\n      colorCounterBadge: \"#fff\"\n    },\n    emoji: {\n      background: \"#343740\"\n    },\n    icons: {\n      search: \"#596269\",\n      add: \"#fff\",\n      toggle: \"#fff\",\n      menu: \"#fff\",\n      close: \"#9ca6af\",\n      closeImage: \"#fff\",\n      file: \"#1976d2\",\n      paperclip: \"#fff\",\n      closeOutline: \"#fff\",\n      closePreview: \"#fff\",\n      send: \"#fff\",\n      sendDisabled: \"#646a70\",\n      emoji: \"#fff\",\n      emojiReaction: \"#fff\",\n      document: \"#1976d2\",\n      pencil: \"#ebedf2\",\n      checkmark: \"#ebedf2\",\n      checkmarkSeen: \"#f0d90a\",\n      eye: \"#fff\",\n      dropdownMessage: \"#fff\",\n      dropdownMessageBackground: \"rgba(0, 0, 0, 0.25)\",\n      dropdownRoom: \"#fff\",\n      dropdownScroll: \"#0a0a0a\",\n      microphone: \"#fff\",\n      audioPlay: \"#b7d4d3\",\n      audioPause: \"#b7d4d3\",\n      audioCancel: \"#eb4034\",\n      audioConfirm: \"#1ba65b\"\n    }\n  }\n};\nconst cssThemeVars = ({\n  general,\n  container,\n  header,\n  footer,\n  sidemenu,\n  content,\n  dropdown,\n  message,\n  markdown,\n  room,\n  emoji,\n  icons\n}) => {\n  return {\n    \"--chat-color\": general.color,\n    \"--chat-color-button-clear\": general.colorButtonClear,\n    \"--chat-color-button\": general.colorButton,\n    \"--chat-bg-color-button\": general.backgroundColorButton,\n    \"--chat-bg-color-input\": general.backgroundInput,\n    \"--chat-color-spinner\": general.colorSpinner,\n    \"--chat-color-placeholder\": general.colorPlaceholder,\n    \"--chat-color-caret\": general.colorCaret,\n    \"--chat-border-style\": general.borderStyle,\n    \"--chat-bg-scroll-icon\": general.backgroundScrollIcon,\n    \"--chat-container-border\": container.border,\n    \"--chat-container-border-radius\": container.borderRadius,\n    \"--chat-container-box-shadow\": container.boxShadow,\n    \"--chat-header-bg-color\": header.background,\n    \"--chat-header-color-name\": header.colorRoomName,\n    \"--chat-header-color-info\": header.colorRoomInfo,\n    \"--chat-footer-bg-color\": footer.background,\n    \"--chat-border-style-input\": footer.borderStyleInput,\n    \"--chat-border-color-input-selected\": footer.borderInputSelected,\n    \"--chat-footer-bg-color-reply\": footer.backgroundReply,\n    \"--chat-footer-bg-color-tag-active\": footer.backgroundTagActive,\n    \"--chat-footer-bg-color-tag\": footer.backgroundTag,\n    \"--chat-content-bg-color\": content.background,\n    \"--chat-sidemenu-bg-color\": sidemenu.background,\n    \"--chat-sidemenu-bg-color-hover\": sidemenu.backgroundHover,\n    \"--chat-sidemenu-bg-color-active\": sidemenu.backgroundActive,\n    \"--chat-sidemenu-color-active\": sidemenu.colorActive,\n    \"--chat-sidemenu-border-color-search\": sidemenu.borderColorSearch,\n    \"--chat-dropdown-bg-color\": dropdown.background,\n    \"--chat-dropdown-bg-color-hover\": dropdown.backgroundHover,\n    \"--chat-message-bg-color\": message.background,\n    \"--chat-message-bg-color-me\": message.backgroundMe,\n    \"--chat-message-color-started\": message.colorStarted,\n    \"--chat-message-bg-color-deleted\": message.backgroundDeleted,\n    \"--chat-message-bg-color-selected\": message.backgroundSelected,\n    \"--chat-message-color-deleted\": message.colorDeleted,\n    \"--chat-message-color-username\": message.colorUsername,\n    \"--chat-message-color-timestamp\": message.colorTimestamp,\n    \"--chat-message-bg-color-date\": message.backgroundDate,\n    \"--chat-message-color-date\": message.colorDate,\n    \"--chat-message-bg-color-system\": message.backgroundSystem,\n    \"--chat-message-color-system\": message.colorSystem,\n    \"--chat-message-color\": message.color,\n    \"--chat-message-bg-color-media\": message.backgroundMedia,\n    \"--chat-message-bg-color-reply\": message.backgroundReply,\n    \"--chat-message-color-reply-username\": message.colorReplyUsername,\n    \"--chat-message-color-reply-content\": message.colorReply,\n    \"--chat-message-color-tag\": message.colorTag,\n    \"--chat-message-bg-color-image\": message.backgroundImage,\n    \"--chat-message-color-new-messages\": message.colorNewMessages,\n    \"--chat-message-bg-color-scroll-counter\": message.backgroundScrollCounter,\n    \"--chat-message-color-scroll-counter\": message.colorScrollCounter,\n    \"--chat-message-bg-color-reaction\": message.backgroundReaction,\n    \"--chat-message-border-style-reaction\": message.borderStyleReaction,\n    \"--chat-message-bg-color-reaction-hover\": message.backgroundReactionHover,\n    \"--chat-message-border-style-reaction-hover\": message.borderStyleReactionHover,\n    \"--chat-message-color-reaction-counter\": message.colorReactionCounter,\n    \"--chat-message-bg-color-reaction-me\": message.backgroundReactionMe,\n    \"--chat-message-border-style-reaction-me\": message.borderStyleReactionMe,\n    \"--chat-message-bg-color-reaction-hover-me\": message.backgroundReactionHoverMe,\n    \"--chat-message-border-style-reaction-hover-me\": message.borderStyleReactionHoverMe,\n    \"--chat-message-color-reaction-counter-me\": message.colorReactionCounterMe,\n    \"--chat-message-bg-color-audio-record\": message.backgroundAudioRecord,\n    \"--chat-message-bg-color-audio-line\": message.backgroundAudioLine,\n    \"--chat-message-bg-color-audio-progress\": message.backgroundAudioProgress,\n    \"--chat-message-bg-color-audio-progress-selector\": message.backgroundAudioProgressSelector,\n    \"--chat-message-color-file-extension\": message.colorFileExtension,\n    \"--chat-markdown-bg\": markdown.background,\n    \"--chat-markdown-border\": markdown.border,\n    \"--chat-markdown-color\": markdown.color,\n    \"--chat-markdown-color-multi\": markdown.colorMulti,\n    \"--chat-room-color-username\": room.colorUsername,\n    \"--chat-room-color-message\": room.colorMessage,\n    \"--chat-room-color-timestamp\": room.colorTimestamp,\n    \"--chat-room-color-online\": room.colorStateOnline,\n    \"--chat-room-color-offline\": room.colorStateOffline,\n    \"--chat-room-bg-color-badge\": room.backgroundCounterBadge,\n    \"--chat-room-color-badge\": room.colorCounterBadge,\n    \"--chat-emoji-bg-color\": emoji.background,\n    \"--chat-icon-color-search\": icons.search,\n    \"--chat-icon-color-add\": icons.add,\n    \"--chat-icon-color-toggle\": icons.toggle,\n    \"--chat-icon-color-menu\": icons.menu,\n    \"--chat-icon-color-close\": icons.close,\n    \"--chat-icon-color-close-image\": icons.closeImage,\n    \"--chat-icon-color-file\": icons.file,\n    \"--chat-icon-color-paperclip\": icons.paperclip,\n    \"--chat-icon-color-close-outline\": icons.closeOutline,\n    \"--chat-icon-color-close-preview\": icons.closePreview,\n    \"--chat-icon-color-send\": icons.send,\n    \"--chat-icon-color-send-disabled\": icons.sendDisabled,\n    \"--chat-icon-color-emoji\": icons.emoji,\n    \"--chat-icon-color-emoji-reaction\": icons.emojiReaction,\n    \"--chat-icon-color-document\": icons.document,\n    \"--chat-icon-color-pencil\": icons.pencil,\n    \"--chat-icon-color-checkmark\": icons.checkmark,\n    \"--chat-icon-color-checkmark-seen\": icons.checkmarkSeen,\n    \"--chat-icon-color-eye\": icons.eye,\n    \"--chat-icon-color-dropdown-message\": icons.dropdownMessage,\n    \"--chat-icon-bg-dropdown-message\": icons.dropdownMessageBackground,\n    \"--chat-icon-color-dropdown-room\": icons.dropdownRoom,\n    \"--chat-icon-color-dropdown-scroll\": icons.dropdownScroll,\n    \"--chat-icon-color-microphone\": icons.microphone,\n    \"--chat-icon-color-audio-play\": icons.audioPlay,\n    \"--chat-icon-color-audio-pause\": icons.audioPause,\n    \"--chat-icon-color-audio-cancel\": icons.audioCancel,\n    \"--chat-icon-color-audio-confirm\": icons.audioConfirm\n  };\n};\nvar _style_0 = '.vac-fade-spinner-enter-from{opacity:0}.vac-fade-spinner-enter-active{transition:opacity .8s}.vac-fade-spinner-leave-active{transition:opacity .2s;opacity:0}.vac-fade-image-enter-from{opacity:0}.vac-fade-image-enter-active{transition:opacity 1s}.vac-fade-image-leave-active{transition:opacity .5s;opacity:0}.vac-fade-message-enter-from{opacity:0}.vac-fade-message-enter-active{transition:opacity .5s}.vac-fade-message-leave-active{transition:opacity .2s;opacity:0}.vac-slide-left-enter-active,.vac-slide-right-enter-active{transition:all .3s ease;transition-property:transform,opacity}.vac-slide-left-leave-active,.vac-slide-right-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)!important;transition-property:transform,opacity}.vac-slide-left-enter-from,.vac-slide-left-leave-to{transform:translate(10px);opacity:0}.vac-slide-right-enter-from,.vac-slide-right-leave-to{transform:translate(-10px);opacity:0}.vac-slide-up-enter-active{transition:all .3s ease}.vac-slide-up-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)}.vac-slide-up-enter-from,.vac-slide-up-leave-to{transform:translateY(10px);opacity:0}.vac-bounce-enter-active{animation:vac-bounce-in .5s}.vac-bounce-leave-active{animation:vac-bounce-in .3s reverse}@keyframes vac-bounce-in{0%{transform:scale(0)}50%{transform:scale(1.05)}to{transform:scale(1)}}.vac-fade-preview-enter{opacity:0}.vac-fade-preview-enter-active{transition:opacity .1s}.vac-fade-preview-leave-active{transition:opacity .2s;opacity:0}.vac-bounce-preview-enter-active{animation:vac-bounce-image-in .4s}.vac-bounce-preview-leave-active{animation:vac-bounce-image-in .3s reverse}@keyframes vac-bounce-image-in{0%{transform:scale(.6)}to{transform:scale(1)}}.vac-menu-list{border-radius:4px;display:block;cursor:pointer;background:var(--chat-dropdown-bg-color);padding:6px 0}.vac-menu-list :hover{background:var(--chat-dropdown-bg-color-hover);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-list :not(:hover){transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:30px;padding:5px 16px;position:relative;white-space:nowrap;line-height:30px}.vac-menu-options{position:absolute;right:10px;top:20px;z-index:9999;min-width:150px;display:inline-block;border-radius:4px;font-size:14px;color:var(--chat-color);overflow-y:auto;overflow-x:hidden;contain:content;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-app-border{border:var(--chat-border-style)}.vac-app-border-t{border-top:var(--chat-border-style)}.vac-app-border-r{border-right:var(--chat-border-style)}.vac-app-border-b{border-bottom:var(--chat-border-style)}.vac-app-box-shadow{transition:all .5s;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-item-clickable{cursor:pointer}.vac-vertical-center{display:flex;align-items:center;height:100%}.vac-vertical-center .vac-vertical-container{width:100%;text-align:center}.vac-svg-button{max-height:30px;display:flex;cursor:pointer;transition:all .2s}.vac-svg-button:hover{transform:scale(1.1);opacity:.7}.vac-avatar{background-size:cover;background-position:center center;background-repeat:no-repeat;background-color:#ddd;height:42px;width:42px;min-height:42px;min-width:42px;margin-right:15px;border-radius:50%}.vac-blur-loading{filter:blur(3px)}.vac-badge-counter{height:13px;width:auto;min-width:13px;border-radius:50%;display:flex;align-items:center;justify-content:center;padding:3px;font-size:11px;font-weight:500}.vac-text-ellipsis{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-text-bold{font-weight:700}.vac-text-italic{font-style:italic}.vac-text-strike{text-decoration:line-through}.vac-text-underline{text-decoration:underline}.vac-text-inline-code{display:inline-block;font-size:12px;color:var(--chat-markdown-color);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:2px 0;padding:2px 3px}.vac-text-multiline-code{display:block;font-size:12px;color:var(--chat-markdown-color-multi);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:4px 0;padding:7px}.vac-text-tag{color:var(--chat-message-color-tag);cursor:pointer}.vac-file-container{display:flex;align-content:center;justify-content:center;flex-wrap:wrap;text-align:center;background:var(--chat-bg-color-input);border:var(--chat-border-style-input);border-radius:4px;padding:10px}.vac-file-container svg{height:28px;width:28px}.vac-file-container .vac-text-extension{font-size:12px;color:var(--chat-message-color-file-extension);margin-top:-2px}.vac-card-window{width:100%;display:block;max-width:100%;background:var(--chat-content-bg-color);color:var(--chat-color);overflow-wrap:break-word;white-space:normal;border:var(--chat-container-border);border-radius:var(--chat-container-border-radius);box-shadow:var(--chat-container-box-shadow);-webkit-tap-highlight-color:transparent}.vac-card-window *{font-family:inherit}.vac-card-window a{color:#0d579c;font-weight:500}.vac-card-window .vac-chat-container{height:100%;display:flex}.vac-card-window .vac-chat-container input{min-width:10px}.vac-card-window .vac-chat-container textarea,.vac-card-window .vac-chat-container input[type=text],.vac-card-window .vac-chat-container input[type=search]{-webkit-appearance:none}.vac-media-preview{position:fixed;top:0;left:0;z-index:99;width:100vw;height:100vh;display:flex;align-items:center;background-color:#000c;outline:none}.vac-media-preview .vac-media-preview-container{height:calc(100% - 140px);width:calc(100% - 80px);padding:70px 40px;margin:0 auto}.vac-media-preview .vac-image-preview{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center}.vac-media-preview video{width:100%;height:100%}.vac-media-preview .vac-svg-button{position:absolute;top:30px;right:30px;transform:scale(1.4)}@media only screen and (max-width: 768px){.vac-media-preview .vac-svg-button{top:20px;right:20px;transform:scale(1.2)}.vac-media-preview .vac-media-preview-container{width:calc(100% - 40px);padding:70px 20px}}.vac-col-messages{position:relative;height:100%;flex:1;overflow:hidden;display:flex;flex-flow:column}.vac-col-messages .vac-container-center{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.vac-col-messages .vac-room-empty{font-size:14px;color:#9ca6af;font-style:italic;line-height:20px;white-space:pre-line}.vac-col-messages .vac-room-empty div{padding:0 10%}.vac-col-messages .vac-container-scroll{background:var(--chat-content-bg-color);flex:1;overflow-y:auto;margin-right:1px;margin-top:65px;-webkit-overflow-scrolling:touch}.vac-col-messages .vac-container-scroll.vac-scroll-smooth{scroll-behavior:smooth}.vac-col-messages .vac-messages-container{padding:0 5px 5px}.vac-col-messages .vac-text-started{font-size:14px;color:var(--chat-message-color-started);font-style:italic;text-align:center;margin-top:25px;margin-bottom:20px}.vac-col-messages .vac-icon-scroll{position:absolute;bottom:80px;right:20px;padding:8px;background:var(--chat-bg-scroll-icon);border-radius:50%;box-shadow:0 1px 1px -1px #0003,0 1px 1px #00000024,0 1px 2px #0000001f;display:flex;cursor:pointer;z-index:10}.vac-col-messages .vac-icon-scroll svg{height:25px;width:25px}.vac-col-messages .vac-messages-count{position:absolute;top:-8px;left:11px;background-color:var(--chat-message-bg-color-scroll-counter);color:var(--chat-message-color-scroll-counter)}.vac-col-messages .vac-messages-hidden{opacity:0}@media only screen and (max-width: 768px){.vac-col-messages .vac-container-scroll{margin-top:50px}.vac-col-messages .vac-text-started{margin-top:20px}.vac-col-messages .vac-icon-scroll{bottom:70px}}.vac-room-header{position:absolute;display:flex;align-items:center;height:64px;width:100%;z-index:10;margin-right:1px;background:var(--chat-header-bg-color);border-top-right-radius:var(--chat-container-border-radius)}.vac-room-header .vac-room-wrapper{display:flex;align-items:center;min-width:0;height:100%;width:100%;padding:0 16px}.vac-room-header .vac-toggle-button{margin-right:15px}.vac-room-header .vac-toggle-button svg{height:26px;width:26px}.vac-room-header .vac-rotate-icon{transform:rotate(180deg)!important}.vac-room-header .vac-rotate-icon-init{transform:rotate(360deg)}.vac-room-header .vac-info-wrapper,.vac-room-header .vac-room-selection{display:flex;align-items:center;min-width:0;width:100%;height:100%}.vac-room-header .vac-room-selection .vac-selection-button{padding:8px 16px;color:var(--chat-color-button);background-color:var(--chat-bg-color-button);border-radius:4px;margin-right:10px;cursor:pointer;transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-button:hover{opacity:.7}.vac-room-header .vac-room-selection .vac-selection-button:active{opacity:.9}.vac-room-header .vac-room-selection .vac-selection-button .vac-selection-button-count{margin-left:6px;opacity:.9}.vac-room-header .vac-room-selection .vac-selection-cancel{display:flex;align-items:center;margin-left:auto;white-space:nowrap;color:var(--chat-color-button-clear);transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-cancel:hover{opacity:.7}.vac-room-header .vac-room-name{font-size:17px;font-weight:500;line-height:22px;color:var(--chat-header-color-name)}.vac-room-header .vac-room-info{font-size:13px;line-height:18px;color:var(--chat-header-color-info)}.vac-room-header .vac-room-options{margin-left:auto}@media only screen and (max-width: 768px){.vac-room-header{height:50px}.vac-room-header .vac-room-wrapper{padding:0 10px}.vac-room-header .vac-room-name{font-size:16px;line-height:22px}.vac-room-header .vac-room-info{font-size:12px;line-height:16px}.vac-room-header .vac-avatar{height:37px;width:37px;min-height:37px;min-width:37px}}.vac-room-footer{width:100%;border-bottom-right-radius:4px;z-index:10}.vac-box-footer{display:flex;position:relative;background:var(--chat-footer-bg-color);padding:10px 8px}.vac-textarea{height:20px;width:100%;line-height:20px;overflow:hidden;outline:0;resize:none;border-radius:20px;padding:12px 16px;box-sizing:content-box;font-size:16px;background:var(--chat-bg-color-input);color:var(--chat-color);caret-color:var(--chat-color-caret);border:var(--chat-border-style-input)}.vac-textarea::placeholder{color:var(--chat-color-placeholder);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-textarea-outline{border:1px solid var(--chat-border-color-input-selected);box-shadow:inset 0 0 0 1px var(--chat-border-color-input-selected)}.vac-icon-textarea,.vac-icon-textarea-left{display:flex;align-items:center}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea{margin-left:5px}.vac-icon-textarea-left{display:flex;align-items:center;margin-right:5px}.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea-left .vac-icon-microphone{fill:var(--chat-icon-color-microphone);margin:0 7px}.vac-icon-textarea-left .vac-dot-audio-record{height:15px;width:15px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-record);animation:vac-scaling .8s ease-in-out infinite alternate}@keyframes vac-scaling{0%{transform:scale(1);opacity:.4}to{transform:scale(1.1);opacity:1}}.vac-icon-textarea-left .vac-dot-audio-record-time{font-size:16px;color:var(--chat-color);margin-left:8px;width:45px}.vac-icon-textarea-left .vac-icon-audio-stop,.vac-icon-textarea-left .vac-icon-audio-confirm{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop svg,.vac-icon-textarea-left .vac-icon-audio-confirm svg{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop{margin-right:20px}.vac-icon-textarea-left .vac-icon-audio-stop #vac-icon-close-outline{fill:var(--chat-icon-color-audio-cancel)}.vac-icon-textarea-left .vac-icon-audio-confirm{margin-right:3px;margin-left:12px}.vac-icon-textarea-left .vac-icon-audio-confirm #vac-icon-checkmark{fill:var(--chat-icon-color-audio-confirm)}.vac-send-disabled,.vac-send-disabled svg{cursor:none!important;pointer-events:none!important;transform:none!important}@media only screen and (max-width: 768px){.vac-room-footer{width:100%}.vac-box-footer{padding:7px 2px 7px 7px}.vac-box-footer.vac-box-footer-border{border-top:var(--chat-border-style-input)}.vac-textarea{padding:7px;line-height:18px}.vac-textarea::placeholder{color:transparent}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 5px!important}}.vac-emojis-container{width:calc(100% - 16px);padding:10px 8px;background:var(--chat-footer-bg-color);display:flex;align-items:center;overflow:auto}.vac-emojis-container .vac-emoji-element{padding:0 8px;font-size:30px;border-radius:4px;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-emojis-container .vac-emoji-element-active{background:var(--chat-footer-bg-color-tag-active)}@media only screen and (max-width: 768px){.vac-emojis-container{width:calc(100% - 10px);padding:7px 5px}.vac-emojis-container .vac-emoji-element{padding:0 7px;font-size:26px}}.vac-reply-container{display:flex;padding:10px 10px 0;background:var(--chat-footer-bg-color);align-items:center;width:calc(100% - 20px)}.vac-reply-container .vac-reply-box{width:100%;overflow:hidden;background:var(--chat-footer-bg-color-reply);border-radius:4px;padding:8px 10px}.vac-reply-container .vac-reply-info{overflow:hidden}.vac-reply-container .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-container .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content);white-space:pre-line}.vac-reply-container .vac-icon-reply{margin-left:10px}.vac-reply-container .vac-icon-reply svg{height:20px;width:20px}.vac-reply-container .vac-image-reply{max-height:100px;max-width:200px;margin:4px 10px 0 0;border-radius:4px}.vac-reply-container .vac-audio-reply{margin-right:10px}.vac-reply-container .vac-file-container{max-width:80px}@media only screen and (max-width: 768px){.vac-reply-container{padding:5px 8px;width:calc(100% - 16px)}}.vac-room-files-container{display:flex;align-items:center;padding:10px 6px 0;background:var(--chat-footer-bg-color)}.vac-room-files-container .vac-files-box{display:flex;overflow:auto;width:calc(100% - 30px)}.vac-room-files-container video{height:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-files-container .vac-icon-close{margin-left:auto}.vac-room-files-container .vac-icon-close svg{height:20px;width:20px}@media only screen and (max-width: 768px){.vac-files-container{padding:6px 4px 4px 2px}}.vac-room-file-container{display:flex;position:relative;margin:0 4px}.vac-room-file-container .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:100px;width:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-file-container .vac-file-container{height:80px;width:80px}.vac-room-file-container .vac-icon-remove{position:absolute;top:6px;left:6px;z-index:10}.vac-room-file-container .vac-icon-remove svg{height:20px;width:20px;border-radius:50%}.vac-room-file-container .vac-icon-remove:before{content:\" \";position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);border-radius:50%;z-index:-1}.vac-tags-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-tags-container .vac-tags-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-tags-container .vac-tags-box-active{background:var(--chat-footer-bg-color-tag-active)}.vac-tags-container .vac-tags-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-tags-container .vac-tags-avatar{height:34px;width:34px;min-height:34px;min-width:34px}.vac-tags-container .vac-tags-username{font-size:14px}@media only screen and (max-width: 768px){.vac-tags-container .vac-tags-box{height:50px}.vac-tags-container .vac-tags-info{padding:0 12px}}.vac-template-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-template-container .vac-template-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-template-container .vac-template-active{background:var(--chat-footer-bg-color-tag-active)}.vac-template-container .vac-template-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-template-container .vac-template-tag{font-size:14px;font-weight:700;margin-right:10px}.vac-template-container .vac-template-text{font-size:14px}@media only screen and (max-width: 768px){.vac-template-container .vac-template-box{height:50px}.vac-template-container .vac-template-info{padding:0 12px}}.vac-rooms-container{display:flex;flex-flow:column;flex:0 0 25%;min-width:260px;max-width:500px;position:relative;background:var(--chat-sidemenu-bg-color);height:100%;border-top-left-radius:var(--chat-container-border-radius);border-bottom-left-radius:var(--chat-container-border-radius)}.vac-rooms-container.vac-rooms-container-full{flex:0 0 100%;max-width:100%}.vac-rooms-container .vac-rooms-empty{font-size:14px;color:#9ca6af;font-style:italic;text-align:center;margin:40px 0;line-height:20px;white-space:pre-line}.vac-rooms-container .vac-room-list{flex:1;position:relative;max-width:100%;cursor:pointer;padding:0 10px 5px;overflow-y:auto}.vac-rooms-container .vac-room-item{border-radius:8px;align-items:center;display:flex;flex:1 1 100%;margin-bottom:5px;padding:0 14px;position:relative;min-height:71px;transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-rooms-container .vac-room-item:hover{background:var(--chat-sidemenu-bg-color-hover)}.vac-rooms-container .vac-room-selected{color:var(--chat-sidemenu-color-active)!important;background:var(--chat-sidemenu-bg-color-active)!important}.vac-rooms-container .vac-room-selected:hover{background:var(--chat-sidemenu-bg-color-active)!important}@media only screen and (max-width: 768px){.vac-rooms-container .vac-room-list{padding:0 7px 5px}.vac-rooms-container .vac-room-item{min-height:60px;padding:0 8px}}.vac-room-container{display:flex;flex:1;align-items:center;width:100%}.vac-room-container .vac-name-container{flex:1}.vac-room-container .vac-title-container{display:flex;align-items:center;line-height:25px}.vac-room-container .vac-state-circle{width:9px;height:9px;border-radius:50%;background-color:var(--chat-room-color-offline);margin-right:6px;transition:.3s}.vac-room-container .vac-state-online{background-color:var(--chat-room-color-online)}.vac-room-container .vac-room-name{flex:1;color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-text-date{margin-left:5px;font-size:11px;color:var(--chat-room-color-timestamp)}.vac-room-container .vac-text-last{display:flex;align-items:center;font-size:12px;line-height:19px;color:var(--chat-room-color-message)}.vac-room-container .vac-message-new{color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-icon-check{display:flex;vertical-align:middle;height:14px;width:14px;margin-top:-2px;margin-right:2px}.vac-room-container .vac-icon-microphone{height:15px;width:15px;vertical-align:middle;margin:-3px 1px 0 -2px;fill:var(--chat-room-color-message)}.vac-room-container .vac-room-options-container{display:flex;margin-left:auto}.vac-room-container .vac-room-badge{background-color:var(--chat-room-bg-color-badge);color:var(--chat-room-color-badge);margin-left:5px}.vac-room-container .vac-list-room-options{height:19px;width:19px;align-items:center;margin-left:5px}.vac-box-empty{margin-top:10px}@media only screen and (max-width: 768px){.vac-box-empty{margin-top:7px}}.vac-box-search{position:sticky;display:flex;align-items:center;height:64px;padding:0 15px}.vac-box-search .vac-icon-search{display:flex;position:absolute;left:30px}.vac-box-search .vac-icon-search svg{width:18px;height:18px}.vac-box-search .vac-input{height:38px;width:100%;background:var(--chat-bg-color-input);color:var(--chat-color);font-size:15px;outline:0;caret-color:var(--chat-color-caret);padding:10px 10px 10px 40px;border:1px solid var(--chat-sidemenu-border-color-search);border-radius:20px}.vac-box-search .vac-input::placeholder{color:var(--chat-color-placeholder)}.vac-box-search .vac-add-icon{margin-left:auto;padding-left:10px}@media only screen and (max-width: 768px){.vac-box-search{height:58px}}.vac-message-wrapper .vac-card-info{border-radius:4px;text-align:center;margin:10px auto;font-size:12px;padding:4px;display:block;overflow-wrap:break-word;position:relative;white-space:normal;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-card-date{max-width:150px;font-weight:500;text-transform:uppercase;color:var(--chat-message-color-date);background-color:var(--chat-message-bg-color-date)}.vac-message-wrapper .vac-card-system{max-width:250px;padding:8px 4px;color:var(--chat-message-color-system);background-color:var(--chat-message-bg-color-system)}.vac-message-wrapper .vac-line-new{color:var(--chat-message-color-new-messages);position:relative;text-align:center;font-size:13px;padding:10px 0}.vac-message-wrapper .vac-line-new:after,.vac-message-wrapper .vac-line-new:before{border-top:1px solid var(--chat-message-color-new-messages);content:\"\";left:0;position:absolute;top:50%;width:calc(50% - 60px)}.vac-message-wrapper .vac-line-new:before{left:auto;right:0}.vac-message-wrapper .vac-message-box{display:flex;flex:0 0 50%;max-width:50%;justify-content:flex-start;line-height:1.4}.vac-message-wrapper .vac-avatar{height:28px;width:28px;min-height:28px;min-width:28px;margin:0 0 2px;align-self:flex-end}.vac-message-wrapper .vac-avatar-current-offset{margin-right:28px}.vac-message-wrapper .vac-avatar-offset{margin-left:28px}.vac-message-wrapper .vac-failure-container{position:relative;align-self:flex-end;height:20px;width:20px;margin:0 0 2px -4px;border-radius:50%;background-color:#f44336}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:6px}.vac-message-wrapper .vac-failure-container .vac-failure-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:15px;font-weight:700}.vac-message-wrapper .vac-message-container{position:relative;padding:2px 10px;align-items:end;min-width:100px;box-sizing:content-box}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-offset-current{margin-left:50%;justify-content:flex-end}.vac-message-wrapper .vac-message-card{background-color:var(--chat-message-bg-color);color:var(--chat-message-color);border-radius:8px;font-size:14px;padding:6px 9px 3px;white-space:pre-line;max-width:100%;-webkit-transition-property:box-shadow,opacity;transition-property:box-shadow,opacity;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-message-highlight{box-shadow:0 1px 2px -1px #0000001a,0 1px 2px -1px #0000001c,0 1px 5px -1px #0000001c}.vac-message-wrapper .vac-message-current{background-color:var(--chat-message-bg-color-me)!important}.vac-message-wrapper .vac-message-deleted{color:var(--chat-message-color-deleted)!important;font-size:13px!important;font-style:italic!important;background-color:var(--chat-message-bg-color-deleted)!important}.vac-message-wrapper .vac-message-selected{background-color:var(--chat-message-bg-color-selected)!important;transition:background-color .2s}.vac-message-wrapper .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:250px;width:250px;max-width:100%;border-radius:4px;margin:4px auto 5px;transition:.4s filter linear}.vac-message-wrapper .vac-text-username{font-size:13px;color:var(--chat-message-color-username);margin-bottom:2px}.vac-message-wrapper .vac-username-reply{margin-bottom:5px}.vac-message-wrapper .vac-text-timestamp{font-size:10px;color:var(--chat-message-color-timestamp);text-align:right}.vac-message-wrapper .vac-progress-time{float:left;margin:-2px 0 0 40px;color:var(--chat-color);font-size:12px}.vac-message-wrapper .vac-icon-edited{-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;justify-content:center;letter-spacing:normal;line-height:1;text-indent:0;vertical-align:middle;margin:0 4px 2px}.vac-message-wrapper .vac-icon-edited svg{height:12px;width:12px}.vac-message-wrapper .vac-icon-check{height:14px;width:14px;vertical-align:middle;margin:-3px -3px 0 3px}@media only screen and (max-width: 768px){.vac-message-wrapper .vac-message-container{padding:2px 3px 1px}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-message-box{flex:0 0 80%;max-width:80%}.vac-message-wrapper .vac-avatar{height:25px;width:25px;min-height:25px;min-width:25px;margin:0 6px 1px 0}.vac-message-wrapper .vac-avatar.vac-avatar-current{margin:0 0 1px 6px}.vac-message-wrapper .vac-avatar-current-offset{margin-right:31px}.vac-message-wrapper .vac-avatar-offset{margin-left:31px}.vac-message-wrapper .vac-failure-container{margin-left:2px}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:0}.vac-message-wrapper .vac-offset-current{margin-left:20%}.vac-message-wrapper .vac-progress-time{margin-left:37px}}.vac-audio-player{display:flex;margin:8px 0 5px}.vac-audio-player .vac-svg-button{max-width:18px;margin-left:7px}@media only screen and (max-width: 768px){.vac-audio-player{margin:4px 0 0}.vac-audio-player .vac-svg-button{max-width:16px;margin-left:5px}}.vac-player-bar{display:flex;align-items:center;max-width:calc(100% - 18px);margin-right:7px;margin-left:20px}.vac-player-bar .vac-player-progress{width:190px}.vac-player-bar .vac-player-progress .vac-line-container{position:relative;height:4px;border-radius:5px;background-color:var(--chat-message-bg-color-audio-line)}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-progress{position:absolute;height:inherit;background-color:var(--chat-message-bg-color-audio-progress);border-radius:inherit}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{position:absolute;top:-5px;margin-left:-7px;height:14px;width:14px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-progress-selector);transition:transform .25s}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot__active{transform:scale(1.2)}@media only screen and (max-width: 768px){.vac-player-bar{margin-right:5px}.vac-player-bar .vac-player-progress .vac-line-container{height:3px}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{height:12px;width:12px;top:-5px;margin-left:-5px}}.vac-message-actions-wrapper .vac-options-container{position:absolute;top:2px;right:10px;height:40px;width:70px;overflow:hidden;border-top-right-radius:8px}.vac-message-actions-wrapper .vac-blur-container{position:absolute;height:100%;width:100%;left:8px;bottom:10px;background:var(--chat-message-bg-color);filter:blur(3px);border-bottom-left-radius:8px}.vac-message-actions-wrapper .vac-options-me{background:var(--chat-message-bg-color-me)}.vac-message-actions-wrapper .vac-message-options{background:var(--chat-icon-bg-dropdown-message);border-radius:50%;position:absolute;top:7px;right:7px}.vac-message-actions-wrapper .vac-message-options svg{height:17px;width:17px;padding:5px;margin:-5px}.vac-message-actions-wrapper .vac-message-emojis{position:absolute;top:6px;right:30px}.vac-message-actions-wrapper .vac-menu-options{right:15px}.vac-message-actions-wrapper .vac-menu-left{right:-118px}@media only screen and (max-width: 768px){.vac-message-actions-wrapper .vac-options-container{right:3px}.vac-message-actions-wrapper .vac-menu-left{right:-50px}}.vac-message-files-container .vac-file-wrapper{position:relative;width:fit-content}.vac-message-files-container .vac-file-wrapper .vac-file-container{height:60px;width:60px;margin:3px 0 5px;cursor:pointer;transition:all .6s}.vac-message-files-container .vac-file-wrapper .vac-file-container:hover{opacity:.85}.vac-message-files-container .vac-file-wrapper .vac-file-container svg{height:30px;width:30px}.vac-message-files-container .vac-file-wrapper .vac-file-container.vac-file-container-progress{background-color:#0000004d}.vac-message-file-container{position:relative;z-index:0}.vac-message-file-container .vac-message-image-container{cursor:pointer}.vac-message-file-container .vac-image-buttons{position:absolute;width:100%;height:100%;border-radius:4px;background:linear-gradient(to bottom,rgba(0,0,0,0) 55%,rgba(0,0,0,.02) 60%,rgba(0,0,0,.05) 65%,rgba(0,0,0,.1) 70%,rgba(0,0,0,.2) 75%,rgba(0,0,0,.3) 80%,rgba(0,0,0,.5) 85%,rgba(0,0,0,.6) 90%,rgba(0,0,0,.7) 95%,rgba(0,0,0,.8) 100%)}.vac-message-file-container .vac-image-buttons svg{height:26px;width:26px}.vac-message-file-container .vac-image-buttons .vac-button-view,.vac-message-file-container .vac-image-buttons .vac-button-download{position:absolute;bottom:6px;left:7px}.vac-message-file-container .vac-image-buttons :first-child{left:40px}.vac-message-file-container .vac-image-buttons .vac-button-view{max-width:18px;bottom:8px}.vac-message-file-container .vac-video-container{width:350px;max-width:100%;margin:4px auto 5px;cursor:pointer}.vac-message-file-container .vac-video-container video{width:100%;height:100%;border-radius:4px}.vac-button-reaction{display:inline-flex;align-items:center;border:var(--chat-message-border-style-reaction);outline:none;background:var(--chat-message-bg-color-reaction);border-radius:4px;margin:4px 2px 0;transition:.3s;padding:0 5px;font-size:18px;line-height:23px}.vac-button-reaction span{font-size:11px;font-weight:500;min-width:7px;color:var(--chat-message-color-reaction-counter)}.vac-button-reaction:hover{border:var(--chat-message-border-style-reaction-hover);background:var(--chat-message-bg-color-reaction-hover);cursor:pointer}.vac-button-reaction.vac-reaction-me{border:var(--chat-message-border-style-reaction-me);background:var(--chat-message-bg-color-reaction-me)}.vac-button-reaction.vac-reaction-me span{color:var(--chat-message-color-reaction-counter-me)}.vac-button-reaction.vac-reaction-me:hover{border:var(--chat-message-border-style-reaction-hover-me);background:var(--chat-message-bg-color-reaction-hover-me)}.vac-reply-message{background:var(--chat-message-bg-color-reply);border-radius:4px;margin:-1px -5px 8px;padding:8px 10px}.vac-reply-message .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-message .vac-image-reply-container{width:70px}.vac-reply-message .vac-image-reply-container .vac-message-image-reply{height:70px;width:70px;margin:4px auto 3px}.vac-reply-message .vac-video-reply-container{width:200px;max-width:100%}.vac-reply-message .vac-video-reply-container video{width:100%;height:100%;border-radius:4px}.vac-reply-message .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content)}.vac-reply-message .vac-file-container{height:60px;width:60px}.vac-emoji-wrapper{position:relative;display:flex}.vac-emoji-wrapper .vac-emoji-reaction svg{height:19px;width:19px}.vac-emoji-wrapper .vac-emoji-picker{position:absolute;z-index:9999;bottom:32px;right:10px;width:300px;padding-top:4px;overflow:scroll;box-sizing:border-box;border-radius:.5rem;background:var(--chat-emoji-bg-color);box-shadow:0 1px 2px -2px #0000001a,0 1px 2px -1px #0000001a,0 1px 2px 1px #0000001a;scrollbar-width:none}.vac-emoji-wrapper .vac-emoji-picker::-webkit-scrollbar{display:none}.vac-emoji-wrapper .vac-emoji-picker.vac-picker-reaction{position:fixed;top:initial;right:initial}.vac-emoji-wrapper .vac-emoji-picker emoji-picker{height:100%;width:100%;--emoji-size: 1.2rem;--background: var(--chat-emoji-bg-color);--emoji-padding: .4rem;--border-color: var(--chat-sidemenu-border-color-search);--button-hover-background: var(--chat-sidemenu-bg-color-hover);--button-active-background: var(--chat-sidemenu-bg-color-hover)}.vac-format-message-wrapper .vac-format-container{display:inline}.vac-format-message-wrapper .vac-icon-deleted{height:14px;width:14px;vertical-align:middle;margin:-2px 2px 0 0;fill:var(--chat-message-color-deleted)}.vac-format-message-wrapper .vac-icon-deleted.vac-icon-deleted-room{margin:-3px 1px 0 0;fill:var(--chat-room-color-message)}.vac-format-message-wrapper .vac-image-link-container{background-color:var(--chat-message-bg-color-media);padding:8px;margin:2px auto;border-radius:4px}.vac-format-message-wrapper .vac-image-link{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:contain;background-position:center center!important;background-repeat:no-repeat!important;height:150px;width:150px;max-width:100%;border-radius:4px;margin:0 auto}.vac-format-message-wrapper .vac-image-link-message{max-width:166px;font-size:12px}.vac-loader-wrapper.vac-container-center{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-loader-wrapper.vac-container-top{padding:21px}.vac-loader-wrapper.vac-container-top #vac-circle{height:20px;width:20px}.vac-loader-wrapper #vac-circle{margin:auto;height:28px;width:28px;border:3px rgba(0,0,0,.25) solid;border-top:3px var(--chat-color-spinner) solid;border-right:3px var(--chat-color-spinner) solid;border-bottom:3px var(--chat-color-spinner) solid;border-radius:50%;-webkit-animation:vac-spin 1s infinite linear;animation:vac-spin 1s infinite linear}@media only screen and (max-width: 768px){.vac-loader-wrapper #vac-circle{height:24px;width:24px}.vac-loader-wrapper.vac-container-top{padding:18px}.vac-loader-wrapper.vac-container-top #vac-circle{height:16px;width:16px}}@-webkit-keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}#vac-icon-search{fill:var(--chat-icon-color-search)}#vac-icon-add{fill:var(--chat-icon-color-add)}#vac-icon-toggle{fill:var(--chat-icon-color-toggle)}#vac-icon-menu{fill:var(--chat-icon-color-menu)}#vac-icon-close{fill:var(--chat-icon-color-close)}#vac-icon-close-image{fill:var(--chat-icon-color-close-image)}#vac-icon-file{fill:var(--chat-icon-color-file)}#vac-icon-paperclip{fill:var(--chat-icon-color-paperclip)}#vac-icon-close-outline{fill:var(--chat-icon-color-close-outline)}#vac-icon-close-outline-preview{fill:var(--chat-icon-color-close-preview)}#vac-icon-send{fill:var(--chat-icon-color-send)}#vac-icon-send-disabled{fill:var(--chat-icon-color-send-disabled)}#vac-icon-emoji{fill:var(--chat-icon-color-emoji)}#vac-icon-emoji-reaction{fill:var(--chat-icon-color-emoji-reaction)}#vac-icon-document{fill:var(--chat-icon-color-document)}#vac-icon-pencil{fill:var(--chat-icon-color-pencil)}#vac-icon-checkmark,#vac-icon-double-checkmark{fill:var(--chat-icon-color-checkmark)}#vac-icon-checkmark-seen,#vac-icon-double-checkmark-seen{fill:var(--chat-icon-color-checkmark-seen)}#vac-icon-eye{fill:var(--chat-icon-color-eye)}#vac-icon-dropdown-message{fill:var(--chat-icon-color-dropdown-message)}#vac-icon-dropdown-room{fill:var(--chat-icon-color-dropdown-room)}#vac-icon-dropdown-scroll{fill:var(--chat-icon-color-dropdown-scroll)}#vac-icon-audio-play{fill:var(--chat-icon-color-audio-play)}#vac-icon-audio-pause{fill:var(--chat-icon-color-audio-pause)}.vac-progress-wrapper{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-progress-wrapper circle{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.vac-progress-wrapper .vac-progress-content{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:-1;margin-top:-2px;background-color:#000000b3;border-radius:50%}.vac-progress-wrapper .vac-progress-content .vac-progress-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:700;color:#fff}.vac-progress-wrapper .vac-progress-content .vac-progress-text .vac-progress-pourcent{font-size:9px;font-weight:400}\\n';\nconst _sfc_main = {\n  name: \"ChatContainer\",\n  components: {\n    RoomsList,\n    Room,\n    MediaPreview\n  },\n  props: {\n    height: { type: String, default: \"600px\" },\n    theme: { type: String, default: \"light\" },\n    styles: { type: [Object, String], default: () => ({}) },\n    responsiveBreakpoint: { type: Number, default: 900 },\n    singleRoom: { type: [Boolean, String], default: false },\n    roomsListOpened: { type: [Boolean, String], default: true },\n    textMessages: { type: [Object, String], default: () => ({}) },\n    currentUserId: { type: String, default: \"\" },\n    rooms: { type: [Array, String], default: () => [] },\n    roomsOrder: { type: String, default: \"desc\" },\n    loadingRooms: { type: [Boolean, String], default: false },\n    roomsLoaded: { type: [Boolean, String], default: false },\n    roomId: { type: String, default: null },\n    loadFirstRoom: { type: [Boolean, String], default: true },\n    messages: { type: [Array, String], default: () => [] },\n    messagesLoaded: { type: [Boolean, String], default: false },\n    roomActions: { type: [Array, String], default: () => [] },\n    menuActions: { type: [Array, String], default: () => [] },\n    messageActions: {\n      type: [Array, String],\n      default: () => [\n        { name: \"replyMessage\", title: \"Reply\" },\n        { name: \"editMessage\", title: \"Edit Message\", onlyMe: true },\n        { name: \"deleteMessage\", title: \"Delete Message\", onlyMe: true },\n        { name: \"selectMessages\", title: \"Select\" }\n      ]\n    },\n    messageSelectionActions: { type: [Array, String], default: () => [] },\n    autoScroll: {\n      type: [Object, String],\n      default: () => {\n        return {\n          send: {\n            new: true,\n            newAfterScrollUp: true\n          },\n          receive: {\n            new: true,\n            newAfterScrollUp: false\n          }\n        };\n      }\n    },\n    customSearchRoomEnabled: { type: [Boolean, String], default: false },\n    showSearch: { type: [Boolean, String], default: true },\n    showAddRoom: { type: [Boolean, String], default: true },\n    showSendIcon: { type: [Boolean, String], default: true },\n    showFiles: { type: [Boolean, String], default: true },\n    showAudio: { type: [Boolean, String], default: true },\n    audioBitRate: { type: Number, default: 128 },\n    audioSampleRate: { type: Number, default: 44100 },\n    showEmojis: { type: [Boolean, String], default: true },\n    showReactionEmojis: { type: [Boolean, String], default: true },\n    showNewMessagesDivider: { type: [Boolean, String], default: true },\n    showFooter: { type: [Boolean, String], default: true },\n    textFormatting: {\n      type: [Object, String],\n      default: () => ({\n        disabled: false,\n        italic: \"_\",\n        bold: \"*\",\n        strike: \"~\",\n        underline: \"\\xB0\",\n        multilineCode: \"```\",\n        inlineCode: \"`\"\n      })\n    },\n    linkOptions: {\n      type: [Object, String],\n      default: () => ({ disabled: false, target: \"_blank\", rel: null })\n    },\n    roomInfoEnabled: { type: [Boolean, String], default: false },\n    textareaActionEnabled: { type: [Boolean, String], default: false },\n    textareaAutoFocus: { type: [Boolean, String], default: true },\n    userTagsEnabled: { type: [Boolean, String], default: true },\n    emojisSuggestionEnabled: { type: [Boolean, String], default: true },\n    roomMessage: { type: String, default: \"\" },\n    scrollDistance: { type: Number, default: 60 },\n    acceptedFiles: { type: String, default: \"*\" },\n    templatesText: { type: [Array, String], default: () => [] },\n    mediaPreviewEnabled: { type: [Boolean, String], default: true },\n    usernameOptions: {\n      type: [Object, String],\n      default: () => ({ minUsers: 3, currentUser: false })\n    }\n  },\n  emits: [\n    \"toggle-rooms-list\",\n    \"room-info\",\n    \"fetch-messages\",\n    \"send-message\",\n    \"edit-message\",\n    \"delete-message\",\n    \"open-file\",\n    \"open-user-tag\",\n    \"open-failed-message\",\n    \"menu-action-handler\",\n    \"message-action-handler\",\n    \"send-message-reaction\",\n    \"typing-message\",\n    \"textarea-action-handler\",\n    \"fetch-more-rooms\",\n    \"add-room\",\n    \"search-room\",\n    \"room-action-handler\",\n    \"message-selection-action-handler\"\n  ],\n  data() {\n    return {\n      slots: [],\n      room: {},\n      loadingMoreRooms: false,\n      showRoomsList: true,\n      isMobile: false,\n      showMediaPreview: false,\n      previewFile: {}\n    };\n  },\n  computed: {\n    t() {\n      return {\n        ...locales,\n        ...this.textMessagesCasted\n      };\n    },\n    cssVars() {\n      const defaultStyles = defaultThemeStyles[this.theme];\n      const customStyles = {};\n      Object.keys(defaultStyles).map((key) => {\n        customStyles[key] = {\n          ...defaultStyles[key],\n          ...this.stylesCasted[key] || {}\n        };\n      });\n      return cssThemeVars(customStyles);\n    },\n    orderedRooms() {\n      return this.roomsCasted.slice().sort((a, b) => {\n        const aVal = a.index || 0;\n        const bVal = b.index || 0;\n        if (this.roomsOrder === \"asc\") {\n          return aVal < bVal ? -1 : bVal < aVal ? 1 : 0;\n        }\n        return aVal > bVal ? -1 : bVal > aVal ? 1 : 0;\n      });\n    },\n    singleRoomCasted() {\n      return this.castBoolean(this.singleRoom);\n    },\n    roomsListOpenedCasted() {\n      return this.castBoolean(this.roomsListOpened);\n    },\n    loadingRoomsCasted() {\n      return this.castBoolean(this.loadingRooms);\n    },\n    roomsLoadedCasted() {\n      return this.castBoolean(this.roomsLoaded);\n    },\n    loadFirstRoomCasted() {\n      return this.castBoolean(this.loadFirstRoom);\n    },\n    messagesLoadedCasted() {\n      return this.castBoolean(this.messagesLoaded);\n    },\n    showSearchCasted() {\n      return this.castBoolean(this.showSearch);\n    },\n    showAddRoomCasted() {\n      return this.castBoolean(this.showAddRoom);\n    },\n    showSendIconCasted() {\n      return this.castBoolean(this.showSendIcon);\n    },\n    showFilesCasted() {\n      return this.castBoolean(this.showFiles);\n    },\n    showAudioCasted() {\n      return this.castBoolean(this.showAudio);\n    },\n    showEmojisCasted() {\n      return this.castBoolean(this.showEmojis);\n    },\n    showReactionEmojisCasted() {\n      return this.castBoolean(this.showReactionEmojis);\n    },\n    showNewMessagesDividerCasted() {\n      return this.castBoolean(this.showNewMessagesDivider);\n    },\n    showFooterCasted() {\n      return this.castBoolean(this.showFooter);\n    },\n    roomInfoEnabledCasted() {\n      return this.castBoolean(this.roomInfoEnabled);\n    },\n    textareaActionEnabledCasted() {\n      return this.castBoolean(this.textareaActionEnabled);\n    },\n    textareaAutoFocusCasted() {\n      return this.castBoolean(this.textareaAutoFocus);\n    },\n    userTagsEnabledCasted() {\n      return this.castBoolean(this.userTagsEnabled);\n    },\n    emojisSuggestionEnabledCasted() {\n      return this.castBoolean(this.emojisSuggestionEnabled);\n    },\n    mediaPreviewEnabledCasted() {\n      return this.castBoolean(this.mediaPreviewEnabled);\n    },\n    roomsCasted() {\n      return this.castArray(this.rooms);\n    },\n    messagesCasted() {\n      return this.castArray(this.messages);\n    },\n    roomActionsCasted() {\n      return this.castArray(this.roomActions);\n    },\n    menuActionsCasted() {\n      return this.castArray(this.menuActions);\n    },\n    messageActionsCasted() {\n      return this.castArray(this.messageActions);\n    },\n    messageSelectionActionsCasted() {\n      return this.castArray(this.messageSelectionActions);\n    },\n    templatesTextCasted() {\n      return this.castArray(this.templatesText);\n    },\n    stylesCasted() {\n      return this.castObject(this.styles);\n    },\n    textMessagesCasted() {\n      return this.castObject(this.textMessages);\n    },\n    autoScrollCasted() {\n      return this.castObject(this.autoScroll);\n    },\n    textFormattingCasted() {\n      return this.castObject(this.textFormatting);\n    },\n    linkOptionsCasted() {\n      return this.castObject(this.linkOptions);\n    },\n    usernameOptionsCasted() {\n      return this.castObject(this.usernameOptions);\n    }\n  },\n  watch: {\n    roomsCasted: {\n      immediate: true,\n      deep: true,\n      handler(newVal, oldVal) {\n        if (!newVal[0] || !newVal.find((room) => room.roomId === this.room.roomId)) {\n          this.showRoomsList = true;\n        }\n        if (!this.loadingMoreRooms && this.loadFirstRoomCasted && newVal[0] && (!oldVal || newVal.length !== oldVal.length)) {\n          if (this.roomId) {\n            const room = newVal.find((r) => r.roomId === this.roomId) || {};\n            this.fetchRoom({ room });\n          } else if (!this.isMobile || this.singleRoomCasted) {\n            this.fetchRoom({ room: this.orderedRooms[0] });\n          } else {\n            this.showRoomsList = true;\n          }\n        }\n      }\n    },\n    loadingRoomsCasted(val) {\n      if (val)\n        this.room = {};\n    },\n    roomId: {\n      immediate: true,\n      handler(newVal, oldVal) {\n        if (newVal && !this.loadingRoomsCasted && this.roomsCasted.length) {\n          const room = this.roomsCasted.find((r) => r.roomId === newVal);\n          this.fetchRoom({ room });\n        } else if (oldVal && !newVal) {\n          this.room = {};\n        }\n      }\n    },\n    room(val) {\n      if (!val || Object.entries(val).length === 0)\n        return;\n      roomsValidation(val);\n      val.users.forEach((user) => {\n        partcipantsValidation(user);\n      });\n    },\n    roomsListOpenedCasted: {\n      immediate: true,\n      handler(val) {\n        this.showRoomsList = val;\n      }\n    }\n  },\n  created() {\n    this.updateResponsive();\n    window.addEventListener(\"resize\", (ev) => {\n      if (ev.isTrusted)\n        this.updateResponsive();\n    });\n  },\n  updated() {\n    const slots = document.querySelectorAll(\"[slot]\");\n    if (this.slots.length !== slots.length) {\n      this.slots = slots;\n    }\n  },\n  methods: {\n    castBoolean(val) {\n      return val === \"true\" || val === true;\n    },\n    castArray(val) {\n      return !val ? [] : Array.isArray(val) ? val : JSON.parse(val);\n    },\n    castObject(val) {\n      return !val ? {} : typeof val === \"object\" ? val : JSON.parse(val);\n    },\n    updateResponsive() {\n      this.isMobile = window.innerWidth < Number(this.responsiveBreakpoint);\n    },\n    toggleRoomsList() {\n      this.showRoomsList = !this.showRoomsList;\n      if (this.isMobile)\n        this.room = {};\n      this.$emit(\"toggle-rooms-list\", { opened: this.showRoomsList });\n    },\n    fetchRoom({ room }) {\n      this.room = room;\n      this.fetchMessages({ reset: true });\n      if (this.isMobile)\n        this.showRoomsList = false;\n    },\n    fetchMoreRooms() {\n      this.$emit(\"fetch-more-rooms\");\n    },\n    roomInfo() {\n      this.$emit(\"room-info\", this.room);\n    },\n    addRoom() {\n      this.$emit(\"add-room\");\n    },\n    searchRoom(val) {\n      this.$emit(\"search-room\", { value: val, roomId: this.room.roomId });\n    },\n    fetchMessages(options2) {\n      this.$emit(\"fetch-messages\", { room: this.room, options: options2 });\n    },\n    sendMessage(message) {\n      this.$emit(\"send-message\", { ...message, roomId: this.room.roomId });\n    },\n    editMessage(message) {\n      this.$emit(\"edit-message\", { ...message, roomId: this.room.roomId });\n    },\n    deleteMessage(message) {\n      this.$emit(\"delete-message\", { message, roomId: this.room.roomId });\n    },\n    openFile({ message, file }) {\n      if (this.mediaPreviewEnabledCasted && file.action === \"preview\") {\n        this.previewFile = file.file;\n        this.showMediaPreview = true;\n      } else {\n        this.$emit(\"open-file\", { message, file });\n      }\n    },\n    openUserTag({ user }) {\n      this.$emit(\"open-user-tag\", { user });\n    },\n    openFailedMessage({ message }) {\n      this.$emit(\"open-failed-message\", {\n        message,\n        roomId: this.room.roomId\n      });\n    },\n    menuActionHandler(ev) {\n      this.$emit(\"menu-action-handler\", {\n        action: ev,\n        roomId: this.room.roomId\n      });\n    },\n    roomActionHandler({ action, roomId }) {\n      this.$emit(\"room-action-handler\", {\n        action,\n        roomId\n      });\n    },\n    messageActionHandler(ev) {\n      this.$emit(\"message-action-handler\", {\n        ...ev,\n        roomId: this.room.roomId\n      });\n    },\n    messageSelectionActionHandler(ev) {\n      this.$emit(\"message-selection-action-handler\", {\n        ...ev,\n        roomId: this.room.roomId\n      });\n    },\n    sendMessageReaction(messageReaction) {\n      this.$emit(\"send-message-reaction\", {\n        ...messageReaction,\n        roomId: this.room.roomId\n      });\n    },\n    typingMessage(message) {\n      this.$emit(\"typing-message\", {\n        message,\n        roomId: this.room.roomId\n      });\n    },\n    textareaActionHandler(message) {\n      this.$emit(\"textarea-action-handler\", {\n        message,\n        roomId: this.room.roomId\n      });\n    }\n  }\n};\nconst _hoisted_1 = { class: \"vac-chat-container\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_rooms_list = resolveComponent(\"rooms-list\");\n  const _component_room = resolveComponent(\"room\");\n  const _component_media_preview = resolveComponent(\"media-preview\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: \"vac-card-window\",\n    style: normalizeStyle([{ height: $props.height }, $options.cssVars])\n  }, [\n    createBaseVNode(\"div\", _hoisted_1, [\n      !$options.singleRoomCasted ? (openBlock(), createBlock(_component_rooms_list, {\n        key: 0,\n        \"current-user-id\": $props.currentUserId,\n        rooms: $options.orderedRooms,\n        \"loading-rooms\": $options.loadingRoomsCasted,\n        \"rooms-loaded\": $options.roomsLoadedCasted,\n        room: $data.room,\n        \"room-actions\": $options.roomActionsCasted,\n        \"custom-search-room-enabled\": $props.customSearchRoomEnabled,\n        \"text-messages\": $options.t,\n        \"show-search\": $options.showSearchCasted,\n        \"show-add-room\": $options.showAddRoomCasted,\n        \"show-rooms-list\": $data.showRoomsList && $options.roomsListOpenedCasted,\n        \"text-formatting\": $options.textFormattingCasted,\n        \"link-options\": $options.linkOptionsCasted,\n        \"is-mobile\": $data.isMobile,\n        \"scroll-distance\": $props.scrollDistance,\n        onFetchRoom: $options.fetchRoom,\n        onFetchMoreRooms: $options.fetchMoreRooms,\n        onLoadingMoreRooms: _cache[0] || (_cache[0] = ($event) => $data.loadingMoreRooms = $event),\n        onAddRoom: $options.addRoom,\n        onSearchRoom: $options.searchRoom,\n        onRoomActionHandler: $options.roomActionHandler\n      }, createSlots({ _: 2 }, [\n        renderList($data.slots, (el) => {\n          return {\n            name: el.slot,\n            fn: withCtx((data) => [\n              renderSlot(_ctx.$slots, el.slot, normalizeProps(guardReactiveProps(data)))\n            ])\n          };\n        })\n      ]), 1032, [\"current-user-id\", \"rooms\", \"loading-rooms\", \"rooms-loaded\", \"room\", \"room-actions\", \"custom-search-room-enabled\", \"text-messages\", \"show-search\", \"show-add-room\", \"show-rooms-list\", \"text-formatting\", \"link-options\", \"is-mobile\", \"scroll-distance\", \"onFetchRoom\", \"onFetchMoreRooms\", \"onAddRoom\", \"onSearchRoom\", \"onRoomActionHandler\"])) : createCommentVNode(\"\", true),\n      createVNode(_component_room, {\n        \"current-user-id\": $props.currentUserId,\n        rooms: $options.roomsCasted,\n        \"room-id\": $data.room.roomId || \"\",\n        \"load-first-room\": $options.loadFirstRoomCasted,\n        messages: $options.messagesCasted,\n        \"room-message\": $props.roomMessage,\n        \"messages-loaded\": $options.messagesLoadedCasted,\n        \"menu-actions\": $options.menuActionsCasted,\n        \"message-actions\": $options.messageActionsCasted,\n        \"message-selection-actions\": $options.messageSelectionActionsCasted,\n        \"auto-scroll\": $options.autoScrollCasted,\n        \"show-send-icon\": $options.showSendIconCasted,\n        \"show-files\": $options.showFilesCasted,\n        \"show-audio\": $options.showAudioCasted,\n        \"audio-bit-rate\": $props.audioBitRate,\n        \"audio-sample-rate\": $props.audioSampleRate,\n        \"show-emojis\": $options.showEmojisCasted,\n        \"show-reaction-emojis\": $options.showReactionEmojisCasted,\n        \"show-new-messages-divider\": $options.showNewMessagesDividerCasted,\n        \"show-footer\": $options.showFooterCasted,\n        \"text-messages\": $options.t,\n        \"single-room\": $options.singleRoomCasted,\n        \"show-rooms-list\": $data.showRoomsList && $options.roomsListOpenedCasted,\n        \"text-formatting\": $options.textFormattingCasted,\n        \"link-options\": $options.linkOptionsCasted,\n        \"is-mobile\": $data.isMobile,\n        \"loading-rooms\": $options.loadingRoomsCasted,\n        \"room-info-enabled\": $options.roomInfoEnabledCasted,\n        \"textarea-action-enabled\": $options.textareaActionEnabledCasted,\n        \"textarea-auto-focus\": $options.textareaAutoFocusCasted,\n        \"user-tags-enabled\": $options.userTagsEnabledCasted,\n        \"emojis-suggestion-enabled\": $options.emojisSuggestionEnabledCasted,\n        \"scroll-distance\": $props.scrollDistance,\n        \"accepted-files\": $props.acceptedFiles,\n        \"templates-text\": $options.templatesTextCasted,\n        \"username-options\": $options.usernameOptionsCasted,\n        onToggleRoomsList: $options.toggleRoomsList,\n        onRoomInfo: $options.roomInfo,\n        onFetchMessages: $options.fetchMessages,\n        onSendMessage: $options.sendMessage,\n        onEditMessage: $options.editMessage,\n        onDeleteMessage: $options.deleteMessage,\n        onOpenFile: $options.openFile,\n        onOpenUserTag: $options.openUserTag,\n        onOpenFailedMessage: $options.openFailedMessage,\n        onMenuActionHandler: $options.menuActionHandler,\n        onMessageActionHandler: $options.messageActionHandler,\n        onMessageSelectionActionHandler: $options.messageSelectionActionHandler,\n        onSendMessageReaction: $options.sendMessageReaction,\n        onTypingMessage: $options.typingMessage,\n        onTextareaActionHandler: $options.textareaActionHandler\n      }, createSlots({ _: 2 }, [\n        renderList($data.slots, (el) => {\n          return {\n            name: el.slot,\n            fn: withCtx((data) => [\n              renderSlot(_ctx.$slots, el.slot, normalizeProps(guardReactiveProps(data)))\n            ])\n          };\n        })\n      ]), 1032, [\"current-user-id\", \"rooms\", \"room-id\", \"load-first-room\", \"messages\", \"room-message\", \"messages-loaded\", \"menu-actions\", \"message-actions\", \"message-selection-actions\", \"auto-scroll\", \"show-send-icon\", \"show-files\", \"show-audio\", \"audio-bit-rate\", \"audio-sample-rate\", \"show-emojis\", \"show-reaction-emojis\", \"show-new-messages-divider\", \"show-footer\", \"text-messages\", \"single-room\", \"show-rooms-list\", \"text-formatting\", \"link-options\", \"is-mobile\", \"loading-rooms\", \"room-info-enabled\", \"textarea-action-enabled\", \"textarea-auto-focus\", \"user-tags-enabled\", \"emojis-suggestion-enabled\", \"scroll-distance\", \"accepted-files\", \"templates-text\", \"username-options\", \"onToggleRoomsList\", \"onRoomInfo\", \"onFetchMessages\", \"onSendMessage\", \"onEditMessage\", \"onDeleteMessage\", \"onOpenFile\", \"onOpenUserTag\", \"onOpenFailedMessage\", \"onMenuActionHandler\", \"onMessageActionHandler\", \"onMessageSelectionActionHandler\", \"onSendMessageReaction\", \"onTypingMessage\", \"onTextareaActionHandler\"])\n    ]),\n    createVNode(Transition, {\n      name: \"vac-fade-preview\",\n      appear: \"\"\n    }, {\n      default: withCtx(() => [\n        $data.showMediaPreview ? (openBlock(), createBlock(_component_media_preview, {\n          key: 0,\n          file: $data.previewFile,\n          onCloseMediaPreview: _cache[1] || (_cache[1] = ($event) => $data.showMediaPreview = false)\n        }, createSlots({ _: 2 }, [\n          renderList($data.slots, (el) => {\n            return {\n              name: el.slot,\n              fn: withCtx((data) => [\n                renderSlot(_ctx.$slots, el.slot, normalizeProps(guardReactiveProps(data)))\n              ])\n            };\n          })\n        ]), 1032, [\"file\"])) : createCommentVNode(\"\", true)\n      ]),\n      _: 3\n    })\n  ], 4);\n}\nvar ChatWindow = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"styles\", [_style_0]]]);\nconst VueAdvancedChat = defineCustomElement(ChatWindow);\nconst PACKAGE_NAME = \"vue-advanced-chat\";\nfunction register() {\n  if (!customElements.get(PACKAGE_NAME)) {\n    customElements.define(PACKAGE_NAME, VueAdvancedChat);\n  }\n}\nexport { VueAdvancedChat, register };\n","<template>\n\t<div class=\"chat\">\n\t\t\t<!-- <span\n\t\t\t\tv-if=\"showOptions\"\n\t\t\t\tclass=\"user-logged\"\n\t\t\t\t:class=\"{ 'user-logged-dark': theme === 'dark' }\"\n\t\t\t>\n\t\t\t\tLogged as\n\t\t\t</span>\n\t\t\t<select v-if=\"showOptions\" v-model=\"currentUserId\">\n\t\t\t\t<option v-for=\"user in users\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\n\t\t\t<div v-if=\"showOptions\" class=\"button-theme\">\n\t\t\t\t<button class=\"button-light\" @click=\"theme = 'light'\">\n\t\t\t\t\tLight\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-dark\" @click=\"theme = 'dark'\">\n\t\t\t\t\tDark\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-github\">\n\t\t\t\t\t<a href=\"https://github.com/antoine92190/vue-advanced-chat\">\n\t\t\t\t\t<img src=\"@/assets/github.svg\" />\n\t\t\t\t\t</a>\n\t\t\t\t</button>\n\t\t\t</div> -->\n\n\n\t\t<chat-container\n\t\t\tv-if=\"showChat\"\n\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t:theme=\"theme\"\n\t\t\t:is-device=\"isDevice\"\n\t\t\t:chatIdOverride=\"chatIdOverride\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport * as firestoreService from '@/database/firestore'\nimport * as storageService from '@/database/storage'\nimport ChatContainer from '@/components/ChatContainer'\n\nexport default {\n\tprops: {\n\t\tchatIdOverride: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tcomponents: {\n\t\tChatContainer\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttheme: 'dark',\n\t\t\tshowChat: false,\n\t\t\t// users: [\n\t\t\t// \t{\n\t\t\t// \t\t_id: '6R0MijpK6M4AIrwaaCY2',\n\t\t\t// \t\tusername: 'Luke',\n\t\t\t// \t\tavatar: 'https://66.media.tumblr.com/avatar_c6a8eae4303e_512.pnj'\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t_id: 'SGmFnBZB4xxMv9V4CVlW',\n\t\t\t// \t\tusername: 'Leia',\n\t\t\t// \t\tavatar: 'https://avatarfiles.alphacoders.com/184/thumb-184913.jpg'\n\t\t\t// \t},\n\t\t\t// \t{\n\t\t\t// \t\t_id: '6jMsIXUrBHBj7o2cRlau',\n\t\t\t// \t\tusername: 'Yoda',\n\t\t\t// \t\tavatar:\n\t\t\t// \t\t\t'https://vignette.wikia.nocookie.net/teamavatarone/images/4/45/Yoda.jpg/revision/latest?cb=20130224160049'\n\t\t\t// \t}\n\t\t\t// ],\n\t\t\tisDevice: false,\n\t\t\tupdatingData: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tprofile() {\n\t\t\treturn this.$store.getters.profile\n\t\t},\n\t\tcurrentUserId() {\n\t\t\treturn String(this.profile?.id || null)\n\t\t},\n\t\t// showOptions() {\n\t\t// \treturn !this.isDevice\n\t\t// }\n\t},\n\twatch: {\n\t\tprofile() {\n\t\t\tthis.showChat = false\n\t\t\tsetTimeout(() => (this.showChat = true), 150)\n\t\t}\n\t},\n\tasync mounted() {\n\t\tif (window.jivo_destroy) {\n\t\t\twindow.jivo_destroy()\n\t\t}\n\t\tthis.isDevice = window.innerWidth < 500\n\t\twindow.addEventListener('resize', ev => {\n\t\t\tif (ev.isTrusted) this.isDevice = window.innerWidth < 500\n\t\t})\n\n\t\ttry {\n\t\t\tawait this.$store.dispatch('getProfile')\n\t\t} catch(e) {\n\t\t\tthis.$error(e)\n\t\t}\n\t},\n\tunmounted() {\n\t\tif (window.jivo_init) {\n\t\t\twindow.jivo_init()\n\t\t}\n\t},\n\tmethods: {\n\t\t// resetData() {\n\t\t// \tfirestoreService.getAllRooms().then(({ data }) => {\n\t\t// \t\tdata.forEach(async room => {\n\t\t// \t\t\tawait firestoreService.getMessages(room.id).then(({ data }) => {\n\t\t// \t\t\t\tdata.forEach(message => {\n\t\t// \t\t\t\t\tfirestoreService.deleteMessage(room.id, message.id)\n\t\t// \t\t\t\t\tif (message.files) {\n\t\t// \t\t\t\t\t\tmessage.files.forEach(file => {\n\t\t// \t\t\t\t\t\t\tstorageService.deleteFile(\n\t\t// \t\t\t\t\t\t\t\tthis.currentUserId,\n\t\t// \t\t\t\t\t\t\t\tmessage.id,\n\t\t// \t\t\t\t\t\t\t\tfile\n\t\t// \t\t\t\t\t\t\t)\n\t\t// \t\t\t\t\t\t})\n\t\t// \t\t\t\t\t}\n\t\t// \t\t\t\t})\n\t\t// \t\t\t})\n\t\t// \t\t\tfirestoreService.deleteRoom(room.id)\n\t\t// \t\t})\n\t\t// \t})\n\t\t// \tfirestoreService.getAllUsers().then(({ data }) => {\n\t\t// \t\tdata.forEach(user => {\n\t\t// \t\t\tfirestoreService.deleteUser(user.id)\n\t\t// \t\t})\n\t\t// \t})\n\t\t// },\n\t\t// async addData() {\n\t\t// \tthis.updatingData = true\n\t\t// \t// const user1 = this.users[0]\n\t\t// \t// await firestoreService.addIdentifiedUser(user1._id, user1)\n\t\t// \t// const user2 = this.users[1]\n\t\t// \t// await firestoreService.addIdentifiedUser(user2._id, user2)\n\t\t// \t// const user3 = this.users[2]\n\t\t// \t// await firestoreService.addIdentifiedUser(user3._id, user3)\n\t\t// \t// await firestoreService.addRoom({\n\t\t// \t// \tusers: [user1._id, user2._id],\n\t\t// \t// \tlastUpdated: new Date()\n\t\t// \t// })\n\t\t// \t// await firestoreService.addRoom({\n\t\t// \t// \tusers: [user1._id, user3._id],\n\t\t// \t// \tlastUpdated: new Date()\n\t\t// \t// })\n\t\t// \t// await firestoreService.addRoom({\n\t\t// \t// \tusers: [user2._id, user3._id],\n\t\t// \t// \tlastUpdated: new Date()\n\t\t// \t// })\n\t\t// \t// await firestoreService.addRoom({\n\t\t// \t// \tusers: [user1._id, user2._id, user3._id],\n\t\t// \t// \tlastUpdated: new Date()\n\t\t// \t// })\n\t\t// \tthis.updatingData = false\n\t\t// \tlocation.reload()\n\t\t// }\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\ninput {\n\t-webkit-appearance: none;\n}\n// .app-container {\n// \tfont-family: 'Quicksand', sans-serif;\n// \tpadding: 20px 30px 30px;\n// }\n// .app-mobile {\n// \tpadding: 0;\n// \t&.app-mobile-dark {\n// \t\tbackground: #131415;\n// \t}\n// \t.user-logged {\n// \t\tmargin: 10px 5px 0 10px;\n// \t}\n// \tselect {\n// \t\tmargin: 10px 0;\n// \t}\n// \t.button-theme {\n// \t\tmargin: 10px 10px 0 0;\n// \t\t.button-github {\n// \t\t\theight: 23px;\n// \t\t\timg {\n// \t\t\t\theight: 23px;\n// \t\t\t}\n// \t\t}\n// \t}\n// }\n.user-logged {\n\tfont-size: 12px;\n\tmargin-right: 5px;\n\tmargin-top: 10px;\n\t&.user-logged-dark {\n\t\tcolor: #fff;\n\t}\n}\nselect {\n\theight: 20px;\n\toutline: none;\n\tborder: 1px solid #e0e2e4;\n\tborder-radius: 4px;\n\tbackground: #fff;\n\tmargin-bottom: 20px;\n}\n.button-theme {\n\tfloat: right;\n\tdisplay: flex;\n\talign-items: center;\n\t.button-light {\n\t\tbackground: #fff;\n\t\tborder: 1px solid #46484e;\n\t\tcolor: #46484e;\n\t}\n\t.button-dark {\n\t\tbackground: #1c1d21;\n\t\tborder: 1px solid #1c1d21;\n\t}\n\tbutton {\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 6px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\t\t&.button-github {\n\t\t\theight: 30px;\n\t\t\tbackground: none;\n\t\t\tpadding: 0;\n\t\t\tmargin-left: 20px;\n\t\t\timg {\n\t\t\t\theight: 30px;\n\t\t\t}\n\t\t}\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\t\t@media only screen and (max-width: 768px) {\n\t\t\tpadding: 3px 6px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n}\n.version-container {\n\tpadding-top: 20px;\n\ttext-align: right;\n\tfont-size: 14px;\n\tcolor: grey;\n}\n\n// ::v-deep jdiv {\n//     display: none;\n// }\n</style>","import { storage } from '@/database'\n\nimport {\n\tdeleteObject,\n\tgetDownloadURL,\n\tref,\n\tuploadBytesResumable\n} from 'firebase/storage'\n\nconst FILES_PATH = 'files'\n\nconst fileRef = (currentUserId, messageId, fileName) => {\n\treturn ref(storage, `${FILES_PATH}/${currentUserId}/${messageId}/${fileName}`)\n}\n\nexport const deleteFile = (currentUserId, messageId, file) => {\n\treturn deleteObject(\n\t\tfileRef(\n\t\t\tcurrentUserId,\n\t\t\tmessageId,\n\t\t\t`${file.name}.${file.extension || file.type}`\n\t\t)\n\t)\n}\n\nexport const getFileDownloadUrl = ref => {\n\treturn getDownloadURL(ref)\n}\n\nexport const uploadFileTask = (currentUserId, messageId, file, type) => {\n\tconst uploadFileRef = fileRef(\n\t\tcurrentUserId,\n\t\tmessageId,\n\t\t`${file.name}.${type}`\n\t)\n\n\treturn uploadBytesResumable(uploadFileRef, file.blob, {\n\t\tcontentType: type\n\t})\n}\n\nexport const listenUploadImageProgress = (\n\tcurrentUserId,\n\tmessageId,\n\tfile,\n\ttype,\n\tcallback,\n\terror,\n\tsuccess\n) => {\n\tconst uploadTask = uploadFileTask(currentUserId, messageId, file, type)\n\n\tuploadTask.on(\n\t\t'state_changed',\n\t\tsnap => {\n\t\t\tconst progress = Math.round(\n\t\t\t\t(snap.bytesTransferred / snap.totalBytes) * 100\n\t\t\t)\n\t\t\tcallback(progress)\n\t\t},\n\t\t_error => {\n\t\t\terror(_error)\n\t\t},\n\t\tasync () => {\n\t\t\tconst url = await getFileDownloadUrl(uploadTask.snapshot.ref)\n\t\t\tsuccess(url)\n\t\t}\n\t)\n}","<template>\n\t<div class=\"window-container\" :class=\"{ 'window-mobile': isDevice }\">\n\t\t<!-- <va-modal v-model=\"addNewRoom\" :title=\"null\" hide-default-actions>\n\t\t\t<form v-if=\"addNewRoom\" @submit.prevent=\"createRoom\">\n\t\t\t\t<input v-model=\"addRoomUsername\" type=\"text\" placeholder=\"Add username\" />\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !addRoomUsername\">\n\t\t\t\t\tCreate Room\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"addNewRoom = false\">Cancel</button>\n\t\t\t</form>\n\t\t</va-modal>\n\n\n\t\t<va-modal v-model=\"inviteRoomId\" :title=\"null\" hide-default-actions>\n\t\t\t<form v-if=\"inviteRoomId\" @submit.prevent=\"addRoomUser\">\n\t\t\t<input v-model=\"invitedUsername\" type=\"text\" placeholder=\"Add username\" />\n\t\t\t<button type=\"submit\" :disabled=\"disableForm || !invitedUsername\">\n\t\t\t\tAdd User\n\t\t\t</button>\n\t\t\t<button class=\"button-cancel\" @click=\"inviteRoomId = null\">Cancel</button>\n\t\t\t</form>\n\t\t</va-modal>\n\n\t\t<va-modal v-model=\"removeRoomId\" :title=\"null\" hide-default-actions>\n\t\t\t<form v-if=\"removeRoomId\" @submit.prevent=\"deleteRoomUser\">\n\t\t\t\t<select v-model=\"removeUserId\">\n\t\t\t\t\t<option default value=\"\">Select User</option>\n\t\t\t\t\t<option v-for=\"user in removeUsers\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t\t{{ user.username }}\n\t\t\t\t\t</option>\n\t\t\t\t</select>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !removeUserId\">\n\t\t\t\t\tRemove User\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"removeRoomId = null\">Cancel</button>\n\t\t\t</form>\n\t\t</va-modal> -->\n\n\t\t<vue-advanced-chat\n\t\t\tref=\"chatWindow\"\n\t\t\t:height=\"screenHeight\"\n\t\t\t:theme=\"theme\"\n\t\t\t:styles=\"JSON.stringify(styles)\"\n\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t:room-id=\"roomId\"\n\t\t\t:rooms=\"JSON.stringify(loadedRooms)\"\n\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t:rooms-loaded=\"roomsLoaded\"\n\t\t\t:messages=\"JSON.stringify(messages)\"\n\t\t\t:messages-loaded=\"messagesLoaded\"\n\t\t\t:room-message=\"roomMessage\"\n\t\t\t:room-actions=\"JSON.stringify(roomActions)\"\n\t\t\t:menu-actions=\"JSON.stringify(menuActions)\"\n\t\t\t:message-selection-actions=\"JSON.stringify(messageSelectionActions)\"\n\t\t\t:templates-text=\"JSON.stringify(templatesText)\"\n\t\t\t:show-add-room=\"false\"\n\n\t\t\t@fetch-more-rooms=\"fetchMoreRooms\"\n\t\t\t@fetch-messages=\"fetchMessages($event.detail[0])\"\n\t\t\t@send-message=\"sendMessage($event.detail[0])\"\n\t\t\t@edit-message=\"editMessage($event.detail[0])\"\n\t\t\t@delete-message=\"deleteMessage($event.detail[0])\"\n\t\t\t@open-file=\"openFile($event.detail[0])\"\n\t\t\t@open-user-tag=\"openUserTag($event.detail[0])\"\n\t\t\t@add-room=\"addRoom($event.detail[0])\"\n\t\t\t@room-action-handler=\"menuActionHandler($event.detail[0])\"\n\t\t\t@menu-action-handler=\"menuActionHandler($event.detail[0])\"\n\t\t\t@message-selection-action-handler=\"\n\t\t\t\tmessageSelectionActionHandler($event.detail[0])\n\t\t\t\"\n\t\t\t@send-message-reaction=\"sendMessageReaction($event.detail[0])\"\n\t\t\t@typing-message=\"typingMessage($event.detail[0])\"\n\t\t\t@toggle-rooms-list=\"$emit('show-demo-options', $event.detail[0].opened)\"\n\t\t/>\n\t\t\t<!-- <div\n\t\t\t\tv-for=\"message in messages\"\n\t\t\t\t:slot=\"'message_' + message._id\"\n\t\t\t\t:key=\"message._id\"\n\t\t\t>\n\t\t\t\tNew message container\n\t\t\t</div> -->\n\t</div>\n</template>\n\n<script>\nimport * as firestoreService from '@/database/firestore'\nimport * as firebaseService from '@/database/firebase'\nimport * as storageService from '@/database/storage'\nimport { parseTimestamp, formatTimestamp } from '@/utils/dates'\nimport _ from 'lodash'\n// import logoAvatar from '@/assets/newImages/coins/vectors/BTC.svg'\n\nimport * as seedrandom from \"seedrandom\"\n\nimport { register } from 'vue-advanced-chat'\n// import { register } from './../../dist/vue-advanced-chat.es.js'\n// import { register } from './../../src/lib/index.js'\nregister()\n\n\nvar outlineAvatarTemplate = _.template('<svg version=\"1.1\" baseProfile=\"full\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0, 0, 100, 100\" class=\"la-all letterAvatar li-la-<%= username %>\"><circle cx=\"50\" cy=\"50\" r=\"49\" fill=\"<%=  colorPrimary %>\" stroke=\"<%=  colorOuterStroke %>\" stroke-width=\"1\" class=\"la-outer-circle\" /> <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"<%=  colorInnerCircle %>\" stroke=\"<%=  colorInnerStroke %>\" stroke-width=\"1\" class=\"la-inner-circle\" /> <text x=\"50\" y=\"71.5\" font-family=\"Arial\" font-size=\"60\" font-weight=\"700\" text-anchor=\"middle\" fill=\"<%=  colorPrimary %>\" class=\"la-text\"><%=  usernameInitial %></text></svg>');\n\nvar fillAvatarTemplate = _.template('<svg version=\"1.1\" baseProfile=\"full\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0, 0, 100, 100\" class=\"la-all letterAvatar2 li-la2-<%= username %>\"><circle cx=\"50\" cy=\"50\" r=\"49\" fill=\"<%= colorPrimary %>\" stroke=\"#ffffff\" stroke-width=\"1\" class=\"la2-circle\" /><text x=\"50\" y=\"71.5\" font-family=\"Arial\" font-size=\"60\" font-weight=\"700\" text-anchor=\"middle\" fill=\"#ffffff\" class=\"la2-text\"><%= usernameInitial %></text></svg>');\n\nfunction createAvatar(username, type) {\n  var defaults = {\n    colorOuterStroke: getRandomDarkColor(username),//\"#ffffff\",\n    colorInnerCircle: \"#ffffff\",\n    colorInnerStroke: \"#ffffff\",\n    username: username,\n    //usernameInitial: username.charAt(0).toUpperCase() + username.charAt(1),\n    usernameInitial: username?.charAt(0)?.toUpperCase() || '',\n    colorPrimary: getRandomDarkColor(username)\n  }\n\n  if (type) {\n    return outlineAvatarTemplate(defaults);\n  }\n  return fillAvatarTemplate(defaults);\n}\n\nfunction getRandomDarkColor( seed ) {\n  let rnd = seedrandom( seed );\n  var r,g,b,h,s,l;\n\n  for(;;) {\n    //h = Math.random()*(.6-.1) + .3;\n    h = rnd();\n    s = rnd()*.5+.5;\n    //s = Math.random()*.5+.5;\n    //s = Math.random();\n    //s = .8;\n    l = rnd()*(.8-.2)+.2;\n    //l = Math.random();\n    //l = Math.random()*(.8-.4)+.2;\n    //l = .7;\n\n    var hexStr = hslToRgb(h, s, l);\n    // console.log(hexStr + \" hsl color - h: \" + h + \" s: \" + s + \" l:\" + l);\n    return hexStr;\n  }\n}\n\nfunction hslToRgb(h, s, l){\n    var r, g, b;\n\n    if(s == 0){\n        r = g = b = l; // achromatic\n    }else{\n        var hue2rgb = function hue2rgb(p, q, t){\n            if(t < 0) t += 1;\n            if(t > 1) t -= 1;\n            if(t < 1/6) return p + (q - p) * 6 * t;\n            if(t < 1/2) return q;\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n            return p;\n        }\n\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    // console.log('r: ' + Math.round(r * 255) + ' g: ' + Math.round(g * 255) + ' b: ' + Math.round(b * 255));\n    return '#' + (\"000000\" +\n      (Math.round(r * 255)).toString(16)\n      + (Math.round(g * 255)).toString(16)\n       +  (Math.round(b * 255)).toString(16)).slice(-6);\n}\n\n\n\nexport default {\n\tprops: {\n\t\tcurrentUserId: { type: String, required: true },\n\t\ttheme: { type: String, required: true },\n\t\tisDevice: { type: Boolean, required: true },\n\t\tchatIdOverride: { type: String, default: null },\n\t},\n\n\temits: ['show-demo-options'],\n\n\tdata() {\n\t\treturn {\n\t\t\troomsPerPage: 15,\n\t\t\trooms: [],\n\t\t\troomId: '',\n\t\t\tstartRooms: null,\n\t\t\tendRooms: null,\n\t\t\troomsLoaded: false,\n\t\t\tloadingRooms: true,\n\t\t\tallUsers: [],\n\t\t\tloadingLastMessageByRoom: 0,\n\t\t\troomsLoadedCount: 0,\n\t\t\tselectedRoom: null,\n\t\t\tmessagesPerPage: 20,\n\t\t\tmessages: [],\n\t\t\tmessagesLoaded: false,\n\t\t\troomMessage: '',\n\t\t\tlastLoadedMessage: null,\n\t\t\tpreviousLastLoadedMessage: null,\n\t\t\troomsListeners: [],\n\t\t\tlisteners: [],\n\t\t\t// listeners: null,\n\t\t\ttypingMessageCache: '',\n\t\t\tdisableForm: false,\n\t\t\taddNewRoom: null,\n\t\t\taddRoomUsername: '',\n\t\t\tinviteRoomId: null,\n\t\t\tinvitedUsername: '',\n\t\t\tremoveRoomId: null,\n\t\t\tremoveUserId: '',\n\t\t\tremoveUsers: [],\n\t\t\troomActions: [\n\t\t\t\t// { name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t// { name: 'removeUser', title: 'Remove User' },\n\t\t\t\t// { name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t],\n\t\t\tmenuActions: [\n\t\t\t\t// { name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t// { name: 'removeUser', title: 'Remove User' },\n\t\t\t\t// { name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t],\n\t\t\tmessageSelectionActions: [{ name: 'deleteMessages', title: 'Delete' }],\n\t\t\t// eslint-disable-next-line vue/no-unused-properties\n\t\t\tstyles: { container: { borderRadius: '4px' } },\n\t\t\ttemplatesText: [\n\t\t\t\t{\n\t\t\t\t\ttag: 'help',\n\t\t\t\t\ttext: 'This is the help'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttag: 'action',\n\t\t\t\t\ttext: 'This is the action'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttag: 'action 2',\n\t\t\t\t\ttext: 'This is the second action'\n\t\t\t\t}\n\t\t\t]\n\t\t\t// ,dbRequestCount: 0\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tloadedRooms() {\n\t\t\tconst parsed = JSON.parse(JSON.stringify(this.newMessagesCountByRooms))\n\t\t\tlet rooms = this.rooms.slice(0, this.roomsLoadedCount)\n\t\t\tfor(let room of rooms){\n\t\t\t\tif(parsed[room.roomId] !== null && typeof parsed[room.roomId] !== 'undefined'){\n\t\t\t\t\troom.unreadCount = parsed[room.roomId]\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn rooms\n\t\t},\n\t\tnewMessagesCountByRooms() {\n\t\t\treturn this.$store.getters.newMessagesCountByRooms\n\t\t},\n\t\tscreenHeight() {\n\t\t\treturn (window.innerWidth > 768) ? '100vh' : 'calc(100vh - 80px)'\n\t\t},\n\t},\n\n\twatch: {\n\t\tnewMessagesCountByRooms(newVal, oldVal) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconsole.log('newMessagesCountByRooms changed in component', newVal)\n\t\t\t})\n\t\t},\n\t\tdeep: true\n\t},\n\n\tmounted() {\n\t\tthis.addCss()\n\t\tconsole.log(this.chatIdOverride)\n\t\tif (this.chatIdOverride) {\n\t\t\tthis.roomId = this.chatIdOverride\n\t\t}\n\t\tthis.fetchRooms()\n\t\tfirebaseService.updateUserOnlineStatus(this.currentUserId)\n\t},\n\n\tmethods: {\n\t\tlogoAvatar(user) {\n\t\t\t// console.log(user, window.btoa(createAvatar(user.username)));\n\t\t\treturn 'data:image/svg+xml;base64,' + window.btoa(unescape(encodeURIComponent(createAvatar(user.username))))\n\t\t},\n\n\t\tasync addCss() {\n\t\t\t// if (import.meta.env.MODE === 'development') {\n\t\t\t// \tconst styles = await import('./../../src/styles/index.scss')\n\t\t\t// \tconst style = document.createElement('style')\n\t\t\t// \tstyle.innerHTML = styles.default\n\t\t\t// \tthis.$refs.chatWindow.shadowRoot.appendChild(style)\n\t\t\t// }\n\t\t},\n\t\tresetRooms() {\n\t\t\tthis.loadingRooms = true\n\t\t\tthis.loadingLastMessageByRoom = 0\n\t\t\tthis.roomsLoadedCount = 0\n\t\t\tthis.rooms = []\n\t\t\tthis.roomsLoaded = true\n\t\t\tthis.startRooms = null\n\t\t\tthis.endRooms = null\n\t\t\tthis.roomsListeners.forEach(listener => listener())\n\t\t\tthis.roomsListeners = []\n\t\t\tthis.resetMessages()\n\t\t},\n\n\t\tresetMessages() {\n\t\t\tthis.messages = []\n\t\t\tthis.messagesLoaded = false\n\t\t\tthis.lastLoadedMessage = null\n\t\t\tthis.previousLastLoadedMessage = null\n\t\t\tthis.listeners.forEach(listener => listener())\n\t\t\tthis.listeners = []\n\n\t\t\t// this.listeners?.()\n\t\t\t// this.listeners = null\n\t\t},\n\n\t\tfetchRooms() {\n\t\t\tthis.resetRooms()\n\t\t\tthis.fetchMoreRooms()\n\t\t},\n\n\t\tasync fetchMoreRooms() {\n\t\t\t// console.log(this.currentUserId)\n\t\t\tif(typeof this.currentUserId == 'undefined' || this.currentUserId == null) return\n\t\t\t// console.log('kek', this.currentUserId,\n\t\t\t// \tthis.roomsPerPage,\n\t\t\t// \tthis.startRooms)\n\t\t\tif (this.endRooms && !this.startRooms) {\n\t\t\t\tthis.roomsLoaded = true\n\t\t\t\treturn\n\t\t\t}\n\n\n\t\t\t// console.log(this.currentUserId,\n\t\t\t// \tthis.roomsPerPage,\n\t\t\t// \tthis.startRooms)\n\n\t\t\tconst query = firestoreService.roomsQuery(\n\t\t\t\tthis.currentUserId,\n\t\t\t\tthis.roomsPerPage,\n\t\t\t\tthis.startRooms\n\t\t\t)\n\n\t\t\t// console.log(query)\n\n\t\t\tconst { data, docs } = await firestoreService.getRooms(query)\n\t\t\t// this.incrementDbCounter('Fetch Rooms', data.length)\n\t\t\t// console.log({data, docs})\n\t\t\tthis.roomsLoaded = data.length === 0 || data.length < this.roomsPerPage\n\n\t\t\tif (this.startRooms) this.endRooms = this.startRooms\n\t\t\tthis.startRooms = docs[docs.length - 1]\n\n\t\t\tconst roomUserIds = []\n\t\t\tdata.forEach(room => {\n\t\t\t\troom.users.forEach(userId => {\n\t\t\t\t\tconst foundUser = this.allUsers.find(user => user?._id === userId)\n\t\t\t\t\tif (!foundUser && roomUserIds.indexOf(userId) === -1) {\n\t\t\t\t\t\troomUserIds.push(userId)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\t// console.log('LINE 366')\n\t\t\t// this.incrementDbCounter('Fetch Room Users', roomUserIds.length)\n\t\t\tconst rawUsers = []\n\t\t\troomUserIds.forEach(userId => {\n\t\t\t\tconst promise = firestoreService.getUser(userId)\n\t\t\t\trawUsers.push(promise)\n\t\t\t})\n\n\n\t\t\tthis.allUsers = [...this.allUsers, ...(await Promise.all(rawUsers))]\n\n\t\t\t// console.log('LINE 377')\n\n\t\t\tconst roomList = {}\n\t\t\tdata.forEach(room => {\n\t\t\t\troomList[room.id] = { ...room, users: [] }\n\n\t\t\t\troom.users.forEach(userId => {\n\t\t\t\t\tconst foundUser = this.allUsers.find(user => user?._id === userId)\n\t\t\t\t\tif (foundUser) roomList[room.id].users.push(foundUser)\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tconst formattedRooms = []\n\n\t\t\tObject.keys(roomList).forEach(key => {\n\t\t\t\tconst room = roomList[key]\n\n\t\t\t\tconst roomContacts = room.users.filter(\n\t\t\t\t\tuser => user._id !== this.currentUserId\n\t\t\t\t)\n\n\t\t\t\t// console.log(roomContacts, room)\n\n\t\t\t\troom.roomName =\n\t\t\t\t\troomContacts.map(user => user.username).join(', ') || 'Myself'\n\n\t\t\t\tconst roomAvatar =\n\t\t\t\t\troomContacts.length === 1 && roomContacts[0].avatar\n\t\t\t\t\t\t? roomContacts[0].avatar\n\t\t\t\t\t\t: this.logoAvatar(roomContacts[0])\n\n\t\t\t\tformattedRooms.push({\n\t\t\t\t\t...room,\n\t\t\t\t\troomId: key,\n\t\t\t\t\tavatar: roomAvatar,\n\t\t\t\t\tindex: room.lastUpdated.seconds,\n\t\t\t\t\tlastMessage: {\n\t\t\t\t\t\tcontent: 'Room created',\n\t\t\t\t\t\ttimestamp: formatTimestamp(\n\t\t\t\t\t\t\tnew Date(room.lastUpdated.seconds),\n\t\t\t\t\t\t\troom.lastUpdated\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.rooms = this.rooms.concat(formattedRooms)\n\n\t\t\tconsole.log('LINE 421')\n\n\t\t\tformattedRooms.forEach(room => this.listenLastMessage(room))\n\n\t\t\tif (!this.rooms.length) {\n\t\t\t\tthis.loadingRooms = false\n\t\t\t\tthis.roomsLoadedCount = 0\n\t\t\t}\n\n\t\t\tconsole.log('LINE 427')\n\n\t\t\tthis.listenUsersOnlineStatus(formattedRooms)\n\n\t\t\tconsole.log('LINE 438')\n\t\t\tthis.listenRooms(query)\n\t\t\tconsole.log('LINE 440')\n\t\t\t// setTimeout(() => console.log('TOTAL', this.dbRequestCount), 2000)\n\t\t},\n\n\t\tlistenLastMessage(room) {\n\t\t\tconst listener = firestoreService.listenLastMessage(\n\t\t\t\troom.roomId,\n\t\t\t\tmessages => {\n\t\t\t\t\t// this.incrementDbCounter('Listen Last Room Message', messages.length)\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tconst lastMessage = this.formatLastMessage(message, room)\n\t\t\t\t\t\tconst roomIndex = this.rooms.findIndex(\n\t\t\t\t\t\t\tr => room.roomId === r.roomId\n\t\t\t\t\t\t)\n\t\t\t\t\t\tthis.rooms[roomIndex].lastMessage = lastMessage\n\t\t\t\t\t\tthis.rooms = [...this.rooms]\n\t\t\t\t\t})\n\t\t\t\t\tif (this.loadingLastMessageByRoom < this.rooms.length) {\n\t\t\t\t\t\tthis.loadingLastMessageByRoom++\n\n\t\t\t\t\t\tif (this.loadingLastMessageByRoom === this.rooms.length) {\n\t\t\t\t\t\t\tthis.loadingRooms = false\n\t\t\t\t\t\t\tthis.roomsLoadedCount = this.rooms.length\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tformatLastMessage(message, room) {\n\t\t\tif (!message.timestamp) return\n\n\t\t\tlet content = message.content\n\t\t\tif (message.files?.length) {\n\t\t\t\tconst file = message.files[0]\n\t\t\t\tcontent = `${file.name}.${file.extension || file.type}`\n\t\t\t}\n\n\t\t\tconst username =\n\t\t\t\tmessage.sender_id !== this.currentUserId\n\t\t\t\t\t? room.users.find(user => message.sender_id === user._id)?.username\n\t\t\t\t\t: ''\n\n\t\t\treturn {\n\t\t\t\t...message,\n\t\t\t\t...{\n\t\t\t\t\t_id: message.id,\n\t\t\t\t\tcontent,\n\t\t\t\t\tsenderId: message.sender_id,\n\t\t\t\t\ttimestamp: formatTimestamp(\n\t\t\t\t\t\tnew Date(message.timestamp.seconds * 1000),\n\t\t\t\t\t\tmessage.timestamp\n\t\t\t\t\t),\n\t\t\t\t\tusername: username,\n\t\t\t\t\tdistributed: true,\n\t\t\t\t\tseen: message.sender_id === this.currentUserId ? message.seen : null,\n\t\t\t\t\tnew:\n\t\t\t\t\t\tmessage.sender_id !== this.currentUserId &&\n\t\t\t\t\t\t(!message.seen || !message.seen[this.currentUserId]),\n\t\t\t\t\tlastMessage: {\n\t\t\t\t\t\t...message.lastMessage,\n\t\t\t\t\t\t_id: message.id,\n\t\t\t\t\t\tsenderId: message.sender_id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfetchMessages({ room, options = {} }) {\n\t\t\tthis.$emit('show-demo-options', false)\n\n\t\t\tif (options.reset) {\n\t\t\t\tthis.resetMessages()\n\t\t\t}\n\n\t\t\tconsole.log('fetchMessages', room.roomId)\n\n\t\t\tif (this.previousLastLoadedMessage && !this.lastLoadedMessage) {\n\t\t\t\tthis.messagesLoaded = true\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.selectedRoom = room.roomId\n\n\t\t\tfirestoreService\n\t\t\t\t.getMessages(room.roomId, this.messagesPerPage, this.lastLoadedMessage)\n\t\t\t\t.then(({ data, docs }) => {\n\t\t\t\t\t// this.incrementDbCounter('Fetch Room Messages', messages.length)\n\t\t\t\t\tif (this.selectedRoom !== room.roomId) return\n\n\t\t\t\t\tif (data.length === 0 || data.length < this.messagesPerPage) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.messagesLoaded = true\n\t\t\t\t\t\t}, 0)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (options.reset) this.messages = []\n\n\t\t\t\t\tdata.forEach(message => {\n\t\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\t\tthis.messages.unshift(formattedMessage)\n\t\t\t\t\t})\n\n\t\t\t\t\tif (this.lastLoadedMessage) {\n\t\t\t\t\t\tthis.previousLastLoadedMessage = this.lastLoadedMessage\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastLoadedMessage = docs[docs.length - 1]\n\n\t\t\t\t\tthis.listenMessages(room)\n\t\t\t\t})\n\t\t},\n\n\t\tlistenMessages(room) {\n\t\t\tconsole.log('listen messages', room.roomId)\n\t\t\t// this.listeners?.()\n\t\t\tconst listener = firestoreService.listenMessages(\n\t\t\t\troom.roomId,\n\t\t\t\tthis.lastLoadedMessage,\n\t\t\t\tthis.previousLastLoadedMessage,\n\t\t\t\tmessages => {\n\n\t\t\t\t\tlet lastUnreadMessage = null;\n\n\t\t\t\t\tmessages.forEach(async (message, i) => {\n\t\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\t\tconst messageIndex = this.messages.findIndex(\n\t\t\t\t\t\t\tm => m._id === message.id\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (messageIndex === -1) {\n\t\t\t\t\t\t\tthis.messages = this.messages.concat([formattedMessage])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.messages[messageIndex] = formattedMessage\n\t\t\t\t\t\t\tthis.messages = [...this.messages]\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tif(room.roomId === this.selectedRoom) {\n\t\t\t\t\t\t\tconsole.log('MARK MESSAGES SEEN')\n\n\t\t\t\t\t\t\tif(message.sender_id != this.currentUserId && (!message.seen || !message.seen[this.currentUserId])){\n\t\t\t\t\t\t\t\tlastUnreadMessage = message;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(i === messages.length - 1 && lastUnreadMessage) {\n\t\t\t\t\t\t\t\tconsole.log('AAAAAAAAAAAAAA', message)\n\n\t\t\t\t\t\t\t\tawait firestoreService.updateUserLastMessages(room.roomId, this.currentUserId, lastUnreadMessage.timestamp)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.markMessagesSeen(room, message)\n\n\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t)\n\t\t\t// this.listeners = listener\n\t\t\tthis.listeners.push(listener)\n\t\t},\n\n\t\tasync markMessagesSeen(room, message) {\n\t\t\t// console.log('markMessagesSeen', room.roomId, message)\n\t\t\tif (\n\t\t\t\tmessage.sender_id != this.currentUserId &&\n\t\t\t\t(!message.seen || !message.seen[this.currentUserId])\n\t\t\t) {\n\t\t\t\tconsole.log(room)\n\t\t\t\tawait firestoreService.updateMessage(room.roomId, message.id, {\n\t\t\t\t\t[`seen.${this.currentUserId}`]: new Date()\n\t\t\t\t})\n\t\t\t\t// await firestoreService.updateUnread(this.currentUserId, room.roomId, message.timestamp)\n\t\t\t\t// await firestoreService.updateUserLastMessages(room.roomId, this.currentUserId, message.timestamp)\n\t\t\t}\n\t\t},\n\n\t\tformatMessage(room, message) {\n\t\t\t// const senderUser = room.users.find(user => user._id === message.sender_id)\n\t\t\tconst formattedMessage = {\n\t\t\t\t...message,\n\t\t\t\t...{\n\t\t\t\t\tsenderId: message.sender_id,\n\t\t\t\t\t_id: message.id,\n\t\t\t\t\tseconds: message.timestamp.seconds,\n\t\t\t\t\ttimestamp: parseTimestamp(message.timestamp, 'HH:mm'),\n\t\t\t\t\tdate: parseTimestamp(message.timestamp, 'DD MMMM YYYY'),\n\t\t\t\t\tusername: room.users.find(user => message.sender_id === user._id)\n\t\t\t\t\t\t?.username,\n\t\t\t\t\t// avatar: senderUser ? senderUser.avatar : null,\n\t\t\t\t\tdistributed: true,\n\t\t\t\t\tlastMessage: { ...message.lastMessage, senderId: message.sender_id }\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message.replyMessage) {\n\t\t\t\tformattedMessage.replyMessage = {\n\t\t\t\t\t...message.replyMessage,\n\t\t\t\t\t...{\n\t\t\t\t\t\tsenderId: message.replyMessage.sender_id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn formattedMessage\n\t\t},\n\n\t\tasync sendMessage({ content, roomId, files, replyMessage }) {\n\t\t\tconst message = {\n\t\t\t\tsender_id: this.currentUserId,\n\t\t\t\tcontent,\n\t\t\t\ttimestamp: new Date()\n\t\t\t}\n\n\t\t\tif (files) {\n\t\t\t\tmessage.files = this.formattedFiles(files)\n\t\t\t}\n\n\t\t\tif (replyMessage) {\n\t\t\t\tmessage.replyMessage = {\n\t\t\t\t\t_id: replyMessage._id,\n\t\t\t\t\tcontent: replyMessage.content,\n\t\t\t\t\tsender_id: replyMessage.senderId\n\t\t\t\t}\n\n\t\t\t\tif (replyMessage.files) {\n\t\t\t\t\tmessage.replyMessage.files = replyMessage.files\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst { id } = await firestoreService.addMessage(roomId, message)\n\n\t\t\tif (files) {\n\t\t\t\tfor (let index = 0; index < files.length; index++) {\n\t\t\t\t\tawait this.uploadFile({ file: files[index], messageId: id, roomId })\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirestoreService.updateRoom(roomId, { lastUpdated: new Date() })\n\t\t},\n\n\t\tasync editMessage({ messageId, newContent, roomId, files }) {\n\t\t\tconst newMessage = { edited: new Date() }\n\t\t\tnewMessage.content = newContent\n\n\t\t\tif (files) {\n\t\t\t\tnewMessage.files = this.formattedFiles(files)\n\t\t\t} else {\n\t\t\t\tnewMessage.files = firestoreService.deleteDbField\n\t\t\t}\n\n\t\t\tawait firestoreService.updateMessage(roomId, messageId, newMessage)\n\n\t\t\tif (files) {\n\t\t\t\tfor (let index = 0; index < files.length; index++) {\n\t\t\t\t\tif (files[index]?.blob) {\n\t\t\t\t\t\tawait this.uploadFile({ file: files[index], messageId, roomId })\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync deleteMessage({ message, roomId }) {\n\t\t\tawait firestoreService.updateMessage(roomId, message._id, {\n\t\t\t\tdeleted: new Date()\n\t\t\t})\n\n\t\t\tconst { files } = message\n\n\t\t\tif (files) {\n\t\t\t\tfiles.forEach(file => {\n\t\t\t\t\tstorageService.deleteFile(this.currentUserId, message._id, file)\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tasync uploadFile({ file, messageId, roomId }) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tlet type = file.extension || file.type\n\t\t\t\tif (type === 'svg' || type === 'pdf') {\n\t\t\t\t\ttype = file.type\n\t\t\t\t}\n\n\t\t\t\tstorageService.listenUploadImageProgress(\n\t\t\t\t\tthis.currentUserId,\n\t\t\t\t\tmessageId,\n\t\t\t\t\tfile,\n\t\t\t\t\ttype,\n\t\t\t\t\tprogress => {\n\t\t\t\t\t\tthis.updateFileProgress(messageId, file.localUrl, progress)\n\t\t\t\t\t},\n\t\t\t\t\t_error => {\n\t\t\t\t\t\tresolve(false)\n\t\t\t\t\t},\n\t\t\t\t\tasync url => {\n\t\t\t\t\t\tconst message = await firestoreService.getMessage(roomId, messageId)\n\n\t\t\t\t\t\tmessage.files.forEach(f => {\n\t\t\t\t\t\t\tif (f.url === file.localUrl) {\n\t\t\t\t\t\t\t\tf.url = url\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tawait firestoreService.updateMessage(roomId, messageId, {\n\t\t\t\t\t\t\tfiles: message.files\n\t\t\t\t\t\t})\n\t\t\t\t\t\tresolve(true)\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t})\n\t\t},\n\n\t\tupdateFileProgress(messageId, fileUrl, progress) {\n\t\t\tconst message = this.messages.find(message => message._id === messageId)\n\n\t\t\tif (!message || !message.files) return\n\n\t\t\tmessage.files.find(file => file.url === fileUrl).progress = progress\n\t\t\tthis.messages = [...this.messages]\n\t\t},\n\n\t\tformattedFiles(files) {\n\t\t\tconst formattedFiles = []\n\n\t\t\tfiles.forEach(file => {\n\t\t\t\tconst messageFile = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\textension: file.extension || file.type,\n\t\t\t\t\turl: file.url || file.localUrl\n\t\t\t\t}\n\n\t\t\t\tif (file.audio) {\n\t\t\t\t\tmessageFile.audio = true\n\t\t\t\t\tmessageFile.duration = file.duration\n\t\t\t\t}\n\n\t\t\t\tformattedFiles.push(messageFile)\n\t\t\t})\n\n\t\t\treturn formattedFiles\n\t\t},\n\n\t\topenFile({ file }) {\n\t\t\twindow.open(file.file.url, '_blank')\n\t\t},\n\n\t\tasync openUserTag({ user }) {\n\t\t\tlet roomId\n\n\t\t\tthis.rooms.forEach(room => {\n\t\t\t\tif (room.users.length === 2) {\n\t\t\t\t\tconst userId1 = room.users[0]._id\n\t\t\t\t\tconst userId2 = room.users[1]._id\n\t\t\t\t\tif (\n\t\t\t\t\t\t(userId1 === user._id || userId1 === this.currentUserId) &&\n\t\t\t\t\t\t(userId2 === user._id || userId2 === this.currentUserId)\n\t\t\t\t\t) {\n\t\t\t\t\t\troomId = room.roomId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (roomId) {\n\t\t\t\tthis.roomId = roomId\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst query1 = await firestoreService.getUserRooms(\n\t\t\t\tthis.currentUserId,\n\t\t\t\tuser._id\n\t\t\t)\n\n\t\t\tif (query1.data.length) {\n\t\t\t\treturn this.loadRoom(query1)\n\t\t\t}\n\n\t\t\tconst query2 = await firestoreService.getUserRooms(\n\t\t\t\tuser._id,\n\t\t\t\tthis.currentUserId\n\t\t\t)\n\n\t\t\tif (query2.data.length) {\n\t\t\t\treturn this.loadRoom(query2)\n\t\t\t}\n\n\t\t\t// const users =\n\t\t\t// \tuser._id === this.currentUserId\n\t\t\t// \t\t? [this.currentUserId]\n\t\t\t// \t\t: [user._id, this.currentUserId]\n\n\t\t\t// const room = await firestoreService.addRoom({\n\t\t\t// \tusers: users,\n\t\t\t// \tlastUpdated: new Date()\n\t\t\t// })\n\n\t\t\t// this.roomId = room.id\n\t\t\t// this.fetchRooms()\n\t\t},\n\n\t\tasync loadRoom(query) {\n\t\t\tquery.forEach(async room => {\n\t\t\t\tif (this.loadingRooms) return\n\t\t\t\tawait firestoreService.updateRoom(room.id, { lastUpdated: new Date() })\n\t\t\t\tthis.roomId = room.id\n\t\t\t\tthis.fetchRooms()\n\t\t\t})\n\t\t},\n\n\t\tmenuActionHandler({ action, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'inviteUser':\n\t\t\t\t\treturn this.inviteUser(roomId)\n\t\t\t\tcase 'removeUser':\n\t\t\t\t\treturn this.removeUser(roomId)\n\t\t\t\tcase 'deleteRoom':\n\t\t\t\t\treturn this.deleteRoom(roomId)\n\t\t\t}\n\t\t},\n\n\t\tmessageSelectionActionHandler({ action, messages, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'deleteMessages':\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tthis.deleteMessage({ message, roomId })\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tasync sendMessageReaction({ reaction, remove, messageId, roomId }) {\n\t\t\tfirestoreService.updateMessageReactions(\n\t\t\t\troomId,\n\t\t\t\tmessageId,\n\t\t\t\tthis.currentUserId,\n\t\t\t\treaction.unicode,\n\t\t\t\tremove ? 'remove' : 'add'\n\t\t\t)\n\t\t},\n\n\t\ttypingMessage({ message, roomId }) {\n\t\t\tif (roomId) {\n\t\t\t\tif (message?.length > 1) {\n\t\t\t\t\tthis.typingMessageCache = message\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (message?.length === 1 && this.typingMessageCache) {\n\t\t\t\t\tthis.typingMessageCache = message\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tthis.typingMessageCache = message\n\n\t\t\t\tfirestoreService.updateRoomTypingUsers(\n\t\t\t\t\troomId,\n\t\t\t\t\tthis.currentUserId,\n\t\t\t\t\tmessage ? 'add' : 'remove'\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\n\t\tasync listenRooms(query) {\n\t\t\tconst listener = firestoreService.listenRooms(query, rooms => {\n\t\t\t\t// this.incrementDbCounter('Listen Rooms Typing Users', rooms.length)\n\t\t\t\trooms.forEach(room => {\n\t\t\t\t\tconst foundRoom = this.rooms.find(r => r.roomId === room.id)\n\t\t\t\t\tif (foundRoom) {\n\t\t\t\t\t\tfoundRoom.typingUsers = room.typingUsers\n\t\t\t\t\t\tfoundRoom.index = room.lastUpdated.seconds\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tlistenUsersOnlineStatus(rooms) {\n\t\t\trooms.forEach(room => {\n\t\t\t\troom.users.forEach(user => {\n\t\t\t\t\tconst listener = firebaseService.firebaseListener(\n\t\t\t\t\t\tfirebaseService.userStatusRef(user._id),\n\t\t\t\t\t\tsnapshot => {\n\t\t\t\t\t\t\tif (!snapshot || !snapshot.val()) return\n\n\t\t\t\t\t\t\tconst lastChanged = formatTimestamp(\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().lastChanged),\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().lastChanged)\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tuser.status = { ...snapshot.val(), lastChanged }\n\n\t\t\t\t\t\t\tconst roomIndex = this.rooms.findIndex(\n\t\t\t\t\t\t\t\tr => room.roomId === r.roomId\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tthis.rooms[roomIndex] = room\n\t\t\t\t\t\t\tthis.rooms = [...this.rooms]\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\tthis.roomsListeners.push(listener)\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\taddRoom() {\n\t\t\tthis.resetForms()\n\t\t\tthis.addNewRoom = true\n\t\t},\n\n\t\tasync createRoom() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await firestoreService.addUser({\n\t\t\t\tusername: this.addRoomUsername\n\t\t\t})\n\t\t\tawait firestoreService.updateUser(id, { _id: id })\n\n\t\t\tawait firestoreService.addRoom({\n\t\t\t\tusers: [id, this.currentUserId],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\n\t\t\tthis.addNewRoom = false\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tinviteUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.inviteRoomId = roomId\n\t\t},\n\n\t\tasync addRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await firestoreService.addUser({\n\t\t\t\tusername: this.invitedUsername\n\t\t\t})\n\t\t\tawait firestoreService.updateUser(id, { _id: id })\n\n\t\t\tawait firestoreService.addRoomUser(this.inviteRoomId, id)\n\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tremoveUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.removeRoomId = roomId\n\t\t\tthis.removeUsers = this.rooms.find(room => room.roomId === roomId).users\n\t\t},\n\n\t\tasync deleteRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tawait firestoreService.removeRoomUser(\n\t\t\t\tthis.removeRoomId,\n\t\t\t\tthis.removeUserId\n\t\t\t)\n\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync deleteRoom(roomId) {\n\t\t\tconst room = this.rooms.find(r => r.roomId === roomId)\n\t\t\tif (\n\t\t\t\troom.users.find(user => user._id === 'SGmFnBZB4xxMv9V4CVlW') ||\n\t\t\t\troom.users.find(user => user._id === '6jMsIXUrBHBj7o2cRlau')\n\t\t\t) {\n\t\t\t\treturn alert('Nope, for demo purposes you cannot delete this room')\n\t\t\t}\n\n\t\t\tfirestoreService.getMessages(roomId).then(({ data }) => {\n\t\t\t\tdata.forEach(message => {\n\t\t\t\t\tfirestoreService.deleteMessage(roomId, message.id)\n\t\t\t\t\tif (message.files) {\n\t\t\t\t\t\tmessage.files.forEach(file => {\n\t\t\t\t\t\t\tstorageService.deleteFile(this.currentUserId, message.id, file)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait firestoreService.deleteRoom(roomId)\n\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tresetForms() {\n\t\t\tthis.disableForm = false\n\t\t\tthis.addNewRoom = null\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t}\n\n\t\t// ,incrementDbCounter(type, size) {\n\t\t// \tsize = size || 1\n\t\t// \tthis.dbRequestCount += size\n\t\t// \tconsole.log(type, size)\n\t\t// }\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.window-container {\n\twidth: 100%;\n}\n\n.window-mobile {\n\tform {\n\t\tpadding: 0 10px 10px;\n\t}\n}\n\nform {\n\tpadding-bottom: 20px;\n}\n\ninput {\n\tpadding: 5px;\n\twidth: 140px;\n\theight: 21px;\n\tborder-radius: 4px;\n\tborder: 1px solid #d2d6da;\n\toutline: none;\n\tfont-size: 14px;\n\tvertical-align: middle;\n\n\t&::placeholder {\n\t\tcolor: #9ca6af;\n\t}\n}\n\nbutton {\n\tbackground: #1976d2;\n\tcolor: #fff;\n\toutline: none;\n\tcursor: pointer;\n\tborder-radius: 4px;\n\tpadding: 8px 12px;\n\tmargin-left: 10px;\n\tborder: none;\n\tfont-size: 14px;\n\ttransition: 0.3s;\n\tvertical-align: middle;\n\n\t&:hover {\n\t\topacity: 0.8;\n\t}\n\n\t&:active {\n\t\topacity: 0.6;\n\t}\n\n\t&:disabled {\n\t\tcursor: initial;\n\t\tbackground: #c6c9cc;\n\t\topacity: 0.6;\n\t}\n}\n\n.button-cancel {\n\tcolor: #a8aeb3;\n\tbackground: none;\n\tmargin-left: 5px;\n}\n\nselect {\n\tvertical-align: middle;\n\theight: 33px;\n\twidth: 152px;\n\tfont-size: 13px;\n\tmargin: 0 !important;\n}\n\n</style>\n","import { realtimeDb } from '@/database'\n\nimport {\n\tonDisconnect,\n\tonValue,\n\tref,\n\tserverTimestamp,\n\tset\n} from 'firebase/database'\n\nexport const firebaseListener = onValue\n\nexport const userStatusRef = userId => {\n\treturn ref(realtimeDb, '/status/' + userId)\n}\n\nexport const updateUserOnlineStatus = currentUserId => {\n\tconst isOfflineData = {\n\t\tstate: 'offline',\n\t\tlastChanged: serverTimestamp()\n\t}\n\n\tconst isOnlineData = {\n\t\tstate: 'online',\n\t\tlastChanged: serverTimestamp()\n\t}\n\n\tconst connectedRef = ref(realtimeDb, '.info/connected')\n\n\tonValue(connectedRef, snap => {\n\t\tif (snap.val() === true) {\n\t\t\tonDisconnect(userStatusRef(currentUserId))\n\t\t\t\t.set(isOfflineData)\n\t\t\t\t.then(() => {\n\t\t\t\t\tset(userStatusRef(currentUserId), isOnlineData)\n\t\t\t\t})\n\t\t}\n\t})\n}","const zeroPad = (num, pad) => {\n\treturn String(num).padStart(pad, '0')\n}\n\nconst isSameDay = (d1, d2) => {\n\treturn (\n\t\td1.getFullYear() === d2.getFullYear() &&\n\t\td1.getMonth() === d2.getMonth() &&\n\t\td1.getDate() === d2.getDate()\n\t)\n}\n\nexport const parseTimestamp = (timestamp, format = '') => {\n\tif (!timestamp) return\n\n\tconst date = timestamp.seconds\n\t\t? new Date(timestamp.seconds * 1000)\n\t\t: timestamp\n\n\tif (format === 'HH:mm') {\n\t\treturn `${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t} else if (format === 'DD MMMM YYYY') {\n\t\tconst options = { month: 'long', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD/MM/YY') {\n\t\tconst options = { month: 'numeric', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD MMMM, HH:mm') {\n\t\tconst options = { month: 'long', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(\n\t\t\tdate\n\t\t)}, ${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t}\n\n\treturn date\n}\n\nexport const formatTimestamp = (date, timestamp) => {\n\tconst timestampFormat = isSameDay(date, new Date()) ? 'HH:mm' : 'DD/MM/YY'\n\tconst result = parseTimestamp(timestamp, timestampFormat)\n\treturn timestampFormat === 'HH:mm' ? `Today, ${result}` : result\n}","import { render } from \"./ChatContainer.vue?vue&type=template&id=7d514256&scoped=true\"\nimport script from \"./ChatContainer.vue?vue&type=script&lang=js\"\nexport * from \"./ChatContainer.vue?vue&type=script&lang=js\"\n\nimport \"./ChatContainer.vue?vue&type=style&index=0&id=7d514256&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/kondratvoronov/development/exchange/Web/Client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d514256\"]])\n\nexport default __exports__","import { render } from \"./Chat.vue?vue&type=template&id=bc4c9fea&scoped=true\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\n\nimport \"./Chat.vue?vue&type=style&index=0&id=bc4c9fea&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/kondratvoronov/development/exchange/Web/Client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bc4c9fea\"]])\n\nexport default __exports__","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_RESULT || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(global, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Chat.vue?vue&type=style&index=0&id=bc4c9fea&lang=scss&scoped=true\"","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","module.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n"],"sourceRoot":""}