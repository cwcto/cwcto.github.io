(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fcba5396"],{"1a8c":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const r={class:"container partners-container"},c={class:"partners-title"},s={class:"top-block"},o={class:"search-title"},n=["placeholder"],i={key:0},d={key:1,class:"list"},b={class:"cell-1"},h={class:"cell-2"},m={class:"cell-3"},u={class:"cell-4"},p=["href"];function O(e,t,a,O,j,y){const f=Object(l["resolveComponent"])("Toggle"),v=Object(l["resolveComponent"])("Tree"),g=Object(l["resolveComponent"])("ChoosePaymentMethodModal"),X=Object(l["resolveDirective"])("maska");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:Object(l["normalizeClass"])(["partners","structure"==j.view?"partners-structure":"partners-list"])},[Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("div",c,Object(l["toDisplayString"])(e.$localizeFilter("my_partners")),1),Object(l["createElementVNode"])("div",s,[Object(l["createVNode"])(f,{class:Object(l["normalizeClass"])("toggle-block"),title:e.$localizeFilter("view")+":",variants:j.views,onToggle:y.toggle},null,8,["title","variants","onToggle"]),Object(l["createElementVNode"])("div",{class:"search",style:Object(l["normalizeStyle"])("structure"==j.view?"visibility:hidden;":"")},[Object(l["createElementVNode"])("p",o,Object(l["toDisplayString"])(e.$localizeFilter("search")+":"),1),Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"search-field","onUpdate:modelValue":t[0]||(t[0]=e=>j.searchString=e),placeholder:e.$localizeFilter("telegram_nickname")},null,8,n),[[l["vModelText"],j.searchString],[X,"@XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"]]),Object(l["createElementVNode"])("button",{class:"basic-button search-button",onClick:t[1]||(t[1]=e=>y.startSearch())},Object(l["toDisplayString"])(e.$localizeFilter("search_button")),1)],4)]),"structure"==j.view?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",i,[null!=j.structure&&void 0!=j.structure?(Object(l["openBlock"])(),Object(l["createBlock"])(v,{key:0,class:"tree",nodes:j.structure,indentSize:50,onSellReferral:y.sellReferral},null,8,["nodes","onSellReferral"])):Object(l["createCommentVNode"])("",!0)])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",d,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(y.visibleList,(t,a)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"list-level",key:a},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(t,(t,r)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"list-partner",key:r},[Object(l["createElementVNode"])("div",b,Object(l["toDisplayString"])(e.$localizeFilter("level")+" "+(a+1)),1),Object(l["createElementVNode"])("div",h,Object(l["toDisplayString"])(t.email),1),Object(l["createElementVNode"])("div",m,Object(l["toDisplayString"])(t.name),1),Object(l["createElementVNode"])("div",u,[t.telegramName?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:0,target:"_blank",class:"link",href:"https://t.me/"+t.telegramName},Object(l["toDisplayString"])("@"+t.telegramName),9,p)):Object(l["createCommentVNode"])("",!0)])]))),128))]))),128))]))]),j.showChoosePaymentMethodModal&&y.paymentMethods?(Object(l["openBlock"])(),Object(l["createBlock"])(g,{key:0,typeOverride:"crypto",paymentMethodsOverride:y.paymentMethods,cellSizeOverride:{width:161,height:146},onPaymentMethodSelected:y.paymentMethodSelected,onCloseModal:y.closeModals},null,8,["paymentMethodsOverride","onPaymentMethodSelected","onCloseModal"])):Object(l["createCommentVNode"])("",!0)],2)}a("14d9");var j=a("c48f"),y=a("ae48"),f=a("6f44");const v={class:"top-flex"},g={class:"left-flex"},X={class:"flex-item"},k={class:"flex-item"},S={class:"left-flex"},N={class:"flex-item"},E={class:"flex-item"},w={class:"bottom-flex"};function M(e,t,a,r,c,s){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:Object(l["normalizeClass"])(["transfer",{sellt:"sell"==e.type}])},[Object(l["createElementVNode"])("div",v,[Object(l["createElementVNode"])("div",g,[Object(l["createElementVNode"])("div",X,Object(l["toDisplayString"])(e.$localizeFilter("transfer-refferal"))+" ",1),Object(l["createElementVNode"])("div",k,Object(l["toDisplayString"])(e.data.referralEmail),1)]),Object(l["createElementVNode"])("div",S,[Object(l["createElementVNode"])("div",N,Object(l["toDisplayString"])(e.$localizeFilter("transfer-seller"))+" ",1),Object(l["createElementVNode"])("div",E,Object(l["toDisplayString"])(e.data.sellerEmail),1)])]),Object(l["createElementVNode"])("div",w,[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["price buy",{sell:"sell"==e.type}])},Object(l["toDisplayString"])(e.$localizeFilter("transfer-price")+" "+e.$utils.formatNumber(e.data.amount||0,"en-US",2,2)+" "+e.data.currency),3),"buy"==e.type?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:0,class:"buy-button",onClick:t[0]||(t[0]=t=>e.$emit("buyReferral",e.data))},Object(l["toDisplayString"])(e.$localizeFilter("transfer-buy")),1)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("a",{class:"cancel",onClick:t[1]||(t[1]=t=>e.$emit("cancelSellingReferral",e.data))},Object(l["toDisplayString"])(e.$localizeFilter("transfer-cancel")),1)])],2)}var B=a("ed09"),V=(a("e977"),a("93b5"),Object(B["a"])({props:{type:{type:String,default:"buy"},data:{type:Object,required:!0}}})),$=(a("2fc4"),a("d959")),D=a.n($);const C=D()(V,[["render",M],["__scopeId","data-v-015be39a"]]);var R=C,z={components:{Tree:j["a"],Toggle:y["a"],ChoosePaymentMethodModal:f["a"],TransferRefferal:R},data(){return{searchString:"",search:null,structure:null,list:[],totalTurnover:0,structureTurnover:0,views:["structure","list"],view:"structure",showChoosePaymentMethodModal:!1}},computed:{visibleList(){const e=JSON.parse(JSON.stringify(this.list));if(null==this.search)return e;{const t=[];for(let a=0;a<e.length;a++){let l=e[a],r=[];for(let e=0;e<l.length;e++)(l[e].telegramName||"").startsWith(this.search)&&r.push(l[e]);r.length>0&&t.push(r)}return t}},paymentMethods(){return this.$store.getters.transferReferralsPaymentMethods},transferReferralsData(){return this.$store.getters.transferReferralsData||[]}},methods:{async sellReferral(e){const t=JSON.parse(JSON.stringify(e));await this.$store.dispatch("sellReferral",{data:t})},async buyReferral(e){await this.$store.dispatch("setBuyReferralPaymentData",{data:e}),this.showChoosePaymentMethodModal=!0},async cancelSellingReferral(e){await this.$store.dispatch("cancelSellingReferral",{data:e})},async paymentMethodSelected(e){await this.$store.dispatch("setBuyReferralPaymentMethod",{paymentMethod:e}),await this.$store.dispatch("buyReferral")},closeModals(){this.showChoosePaymentMethodModal=!1,this.clearAll()},async clearAll(){await this.$store.dispatch("clearBuyReferralPaymentData")},startSearch(){this.search=this.searchString.slice(1),this.$forceUpdate()},toggle(e){this.view=this.views[e]},async loadData(){if("structure"==this.view)try{const e=await this.$store.dispatch("getStructure");await this.$store.dispatch("getTransferReferralsPaymentMethods"),await this.$store.dispatch("getTransferReferralsData"),this.list=e.list,this.structure=[e.structure],this.totalTurnover=e.totalTurnover,this.structureTurnover=e.structureTurnover}catch(e){this.$error(e)}}},async mounted(){await this.loadData()}};a("2a58");const T=D()(z,[["render",O],["__scopeId","data-v-eaa37198"]]);t["default"]=T},"2a58":function(e,t,a){"use strict";a("41e5")},"2fc4":function(e,t,a){"use strict";a("b07e")},"41e5":function(e,t,a){},b07e:function(e,t,a){}}]);
//# sourceMappingURL=chunk-fcba5396.a1a07166.js.map