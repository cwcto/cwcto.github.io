(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var i=n("b622"),r=i("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},"036e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isIdentifierChar",{enumerable:!0,get:function(){return i.isIdentifierChar}}),Object.defineProperty(t,"isIdentifierName",{enumerable:!0,get:function(){return i.isIdentifierName}}),Object.defineProperty(t,"isIdentifierStart",{enumerable:!0,get:function(){return i.isIdentifierStart}}),Object.defineProperty(t,"isKeyword",{enumerable:!0,get:function(){return r.isKeyword}}),Object.defineProperty(t,"isReservedWord",{enumerable:!0,get:function(){return r.isReservedWord}}),Object.defineProperty(t,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return r.isStrictBindOnlyReservedWord}}),Object.defineProperty(t,"isStrictBindReservedWord",{enumerable:!0,get:function(){return r.isStrictBindReservedWord}}),Object.defineProperty(t,"isStrictReservedWord",{enumerable:!0,get:function(){return r.isStrictReservedWord}});var i=n("e2d4"),r=n("117d")},"04ca":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertAccessor=br,t.assertAnyTypeAnnotation=je,t.assertArgumentPlaceholder=mn,t.assertArrayExpression=s,t.assertArrayPattern=re,t.assertArrayTypeAnnotation=Ue,t.assertArrowFunctionExpression=oe,t.assertAssignmentExpression=a,t.assertAssignmentPattern=ie,t.assertAwaitExpression=Me,t.assertBigIntLiteral=Oe,t.assertBinary=qi,t.assertBinaryExpression=l,t.assertBindExpression=gn,t.assertBlock=Gi,t.assertBlockParent=Hi,t.assertBlockStatement=d,t.assertBooleanLiteral=R,t.assertBooleanLiteralTypeAnnotation=qe,t.assertBooleanTypeAnnotation=ze,t.assertBreakStatement=f,t.assertCallExpression=p,t.assertCatchClause=m,t.assertClass=gr,t.assertClassAccessorProperty=De,t.assertClassBody=se,t.assertClassDeclaration=le,t.assertClassExpression=ae,t.assertClassImplements=He,t.assertClassMethod=ve,t.assertClassPrivateMethod=Ne,t.assertClassPrivateProperty=Le,t.assertClassProperty=Re,t.assertCompletionStatement=Xi,t.assertConditional=Yi,t.assertConditionalExpression=g,t.assertContinueStatement=A,t.assertDebuggerStatement=y,t.assertDecimalLiteral=xn,t.assertDeclaration=rr,t.assertDeclareClass=Ge,t.assertDeclareExportAllDeclaration=et,t.assertDeclareExportDeclaration=Ze,t.assertDeclareFunction=We,t.assertDeclareInterface=$e,t.assertDeclareModule=Xe,t.assertDeclareModuleExports=Ye,t.assertDeclareOpaqueType=Qe,t.assertDeclareTypeAlias=Ke,t.assertDeclareVariable=Je,t.assertDeclaredPredicate=tt,t.assertDecorator=yn,t.assertDirective=u,t.assertDirectiveLiteral=h,t.assertDoExpression=vn,t.assertDoWhileStatement=v,t.assertEmptyStatement=b,t.assertEmptyTypeAnnotation=dt,t.assertEnumBody=Mr,t.assertEnumBooleanBody=Ut,t.assertEnumBooleanMember=Ht,t.assertEnumDeclaration=jt,t.assertEnumDefaultedMember=$t,t.assertEnumMember=Cr,t.assertEnumNumberBody=zt,t.assertEnumNumberMember=Gt,t.assertEnumStringBody=qt,t.assertEnumStringMember=Wt,t.assertEnumSymbolBody=Vt,t.assertExistsTypeAnnotation=nt,t.assertExportAllDeclaration=ce,t.assertExportDeclaration=yr,t.assertExportDefaultDeclaration=ue,t.assertExportDefaultSpecifier=bn,t.assertExportNamedDeclaration=he,t.assertExportNamespaceSpecifier=ke,t.assertExportSpecifier=de,t.assertExpression=zi,t.assertExpressionStatement=_,t.assertExpressionWrapper=Ji,t.assertFile=w,t.assertFlow=wr,t.assertFlowBaseAnnotation=Sr,t.assertFlowDeclaration=Tr,t.assertFlowPredicate=Er,t.assertFlowType=xr,t.assertFor=Zi,t.assertForInStatement=x,t.assertForOfStatement=fe,t.assertForStatement=S,t.assertForXStatement=er,t.assertFunction=tr,t.assertFunctionDeclaration=T,t.assertFunctionExpression=E,t.assertFunctionParent=nr,t.assertFunctionTypeAnnotation=it,t.assertFunctionTypeParam=rt,t.assertGenericTypeAnnotation=ot,t.assertIdentifier=M,t.assertIfStatement=C,t.assertImmutable=cr,t.assertImport=Ce,t.assertImportAttribute=An,t.assertImportDeclaration=pe,t.assertImportDefaultSpecifier=me,t.assertImportNamespaceSpecifier=ge,t.assertImportOrExportDeclaration=Ar,t.assertImportSpecifier=Ae,t.assertIndexedAccessType=Xt,t.assertInferredPredicate=st,t.assertInterfaceDeclaration=lt,t.assertInterfaceExtends=at,t.assertInterfaceTypeAnnotation=ct,t.assertInterpreterDirective=c,t.assertIntersectionTypeAnnotation=ut,t.assertJSX=Or,t.assertJSXAttribute=Kt,t.assertJSXClosingElement=Qt,t.assertJSXClosingFragment=hn,t.assertJSXElement=Jt,t.assertJSXEmptyExpression=Zt,t.assertJSXExpressionContainer=en,t.assertJSXFragment=cn,t.assertJSXIdentifier=nn,t.assertJSXMemberExpression=rn,t.assertJSXNamespacedName=on,t.assertJSXOpeningElement=sn,t.assertJSXOpeningFragment=un,t.assertJSXSpreadAttribute=an,t.assertJSXSpreadChild=tn,t.assertJSXText=ln,t.assertLVal=sr,t.assertLabeledStatement=O,t.assertLiteral=lr,t.assertLogicalExpression=L,t.assertLoop=Ki,t.assertMemberExpression=N,t.assertMetaProperty=ye,t.assertMethod=hr,t.assertMiscellaneous=kr,t.assertMixedTypeAnnotation=ht,t.assertModuleDeclaration=jr,t.assertModuleExpression=Sn,t.assertModuleSpecifier=vr,t.assertNewExpression=B,t.assertNoop=dn,t.assertNullLiteral=I,t.assertNullLiteralTypeAnnotation=Ve,t.assertNullableTypeAnnotation=ft,t.assertNumberLiteral=Lr,t.assertNumberLiteralTypeAnnotation=pt,t.assertNumberTypeAnnotation=mt,t.assertNumericLiteral=P,t.assertObjectExpression=j,t.assertObjectMember=dr,t.assertObjectMethod=U,t.assertObjectPattern=be,t.assertObjectProperty=z,t.assertObjectTypeAnnotation=gt,t.assertObjectTypeCallProperty=yt,t.assertObjectTypeIndexer=vt,t.assertObjectTypeInternalSlot=At,t.assertObjectTypeProperty=bt,t.assertObjectTypeSpreadProperty=_t,t.assertOpaqueType=wt,t.assertOptionalCallExpression=Ie,t.assertOptionalIndexedAccessType=Yt,t.assertOptionalMemberExpression=Pe,t.assertParenthesizedExpression=G,t.assertPattern=mr,t.assertPatternLike=or,t.assertPipelineBareFunction=Mn,t.assertPipelinePrimaryTopicReference=Cn,t.assertPipelineTopicExpression=En,t.assertPlaceholder=fn,t.assertPrivate=_r,t.assertPrivateName=Be,t.assertProgram=F,t.assertProperty=fr,t.assertPureish=ir,t.assertQualifiedTypeIdentifier=xt,t.assertRecordExpression=_n,t.assertRegExpLiteral=D,t.assertRegexLiteral=Nr,t.assertRestElement=q,t.assertRestProperty=Br,t.assertReturnStatement=V,t.assertScopable=Vi,t.assertSequenceExpression=H,t.assertSpreadElement=_e,t.assertSpreadProperty=Fr,t.assertStandardized=Ui,t.assertStatement=Wi,t.assertStaticBlock=Fe,t.assertStringLiteral=k,t.assertStringLiteralTypeAnnotation=St,t.assertStringTypeAnnotation=Tt,t.assertSuper=we,t.assertSwitchCase=W,t.assertSwitchStatement=$,t.assertSymbolTypeAnnotation=Et,t.assertTSAnyKeyword=Fn,t.assertTSArrayType=ri,t.assertTSAsExpression=xi,t.assertTSBaseType=Dr,t.assertTSBigIntKeyword=Un,t.assertTSBooleanKeyword=jn,t.assertTSCallSignatureDeclaration=Rn,t.assertTSConditionalType=hi,t.assertTSConstructSignatureDeclaration=Dn,t.assertTSConstructorType=Zn,t.assertTSDeclareFunction=kn,t.assertTSDeclareMethod=Pn,t.assertTSEntityName=ar,t.assertTSEnumDeclaration=Ei,t.assertTSEnumMember=Mi,t.assertTSExportAssignment=Di,t.assertTSExpressionWithTypeArguments=yi,t.assertTSExternalModuleReference=Ii,t.assertTSFunctionType=Jn,t.assertTSImportEqualsDeclaration=Pi,t.assertTSImportType=ki,t.assertTSIndexSignature=Bn,t.assertTSIndexedAccessType=mi,t.assertTSInferType=di,t.assertTSInstantiationExpression=wi,t.assertTSInterfaceBody=bi,t.assertTSInterfaceDeclaration=vi,t.assertTSIntersectionType=ui,t.assertTSIntrinsicKeyword=zn,t.assertTSLiteralType=Ai,t.assertTSMappedType=gi,t.assertTSMethodSignature=Nn,t.assertTSModuleBlock=Oi,t.assertTSModuleDeclaration=Ci,t.assertTSNamedTupleMember=li,t.assertTSNamespaceExportDeclaration=Li,t.assertTSNeverKeyword=qn,t.assertTSNonNullExpression=Ri,t.assertTSNullKeyword=Vn,t.assertTSNumberKeyword=Hn,t.assertTSObjectKeyword=Gn,t.assertTSOptionalType=si,t.assertTSParameterProperty=On,t.assertTSParenthesizedType=fi,t.assertTSPropertySignature=Ln,t.assertTSQualifiedName=In,t.assertTSRestType=ai,t.assertTSSatisfiesExpression=Si,t.assertTSStringKeyword=Wn,t.assertTSSymbolKeyword=$n,t.assertTSThisType=Qn,t.assertTSTupleType=oi,t.assertTSType=Rr,t.assertTSTypeAliasDeclaration=_i,t.assertTSTypeAnnotation=Ni,t.assertTSTypeAssertion=Ti,t.assertTSTypeElement=Ir,t.assertTSTypeLiteral=ii,t.assertTSTypeOperator=pi,t.assertTSTypeParameter=ji,t.assertTSTypeParameterDeclaration=Fi,t.assertTSTypeParameterInstantiation=Bi,t.assertTSTypePredicate=ti,t.assertTSTypeQuery=ni,t.assertTSTypeReference=ei,t.assertTSUndefinedKeyword=Xn,t.assertTSUnionType=ci,t.assertTSUnknownKeyword=Yn,t.assertTSVoidKeyword=Kn,t.assertTaggedTemplateExpression=xe,t.assertTemplateElement=Se,t.assertTemplateLiteral=Te,t.assertTerminatorless=$i,t.assertThisExpression=X,t.assertThisTypeAnnotation=Mt,t.assertThrowStatement=Y,t.assertTopicReference=Tn,t.assertTryStatement=K,t.assertTupleExpression=wn,t.assertTupleTypeAnnotation=Ct,t.assertTypeAlias=kt,t.assertTypeAnnotation=Pt,t.assertTypeCastExpression=It,t.assertTypeParameter=Rt,t.assertTypeParameterDeclaration=Dt,t.assertTypeParameterInstantiation=Lt,t.assertTypeScript=Pr,t.assertTypeofTypeAnnotation=Ot,t.assertUnaryExpression=Q,t.assertUnaryLike=pr,t.assertUnionTypeAnnotation=Nt,t.assertUpdateExpression=J,t.assertUserWhitespacable=ur,t.assertV8IntrinsicIdentifier=pn,t.assertVariableDeclaration=Z,t.assertVariableDeclarator=ee,t.assertVariance=Bt,t.assertVoidTypeAnnotation=Ft,t.assertWhile=Qi,t.assertWhileStatement=te,t.assertWithStatement=ne,t.assertYieldExpression=Ee;var i=n("177b"),r=n("a9c7");function o(e,t,n){if(!(0,i.default)(e,t,n))throw new Error(`Expected type "${e}" with option ${JSON.stringify(n)}, but instead got "${t.type}".`)}function s(e,t){o("ArrayExpression",e,t)}function a(e,t){o("AssignmentExpression",e,t)}function l(e,t){o("BinaryExpression",e,t)}function c(e,t){o("InterpreterDirective",e,t)}function u(e,t){o("Directive",e,t)}function h(e,t){o("DirectiveLiteral",e,t)}function d(e,t){o("BlockStatement",e,t)}function f(e,t){o("BreakStatement",e,t)}function p(e,t){o("CallExpression",e,t)}function m(e,t){o("CatchClause",e,t)}function g(e,t){o("ConditionalExpression",e,t)}function A(e,t){o("ContinueStatement",e,t)}function y(e,t){o("DebuggerStatement",e,t)}function v(e,t){o("DoWhileStatement",e,t)}function b(e,t){o("EmptyStatement",e,t)}function _(e,t){o("ExpressionStatement",e,t)}function w(e,t){o("File",e,t)}function x(e,t){o("ForInStatement",e,t)}function S(e,t){o("ForStatement",e,t)}function T(e,t){o("FunctionDeclaration",e,t)}function E(e,t){o("FunctionExpression",e,t)}function M(e,t){o("Identifier",e,t)}function C(e,t){o("IfStatement",e,t)}function O(e,t){o("LabeledStatement",e,t)}function k(e,t){o("StringLiteral",e,t)}function P(e,t){o("NumericLiteral",e,t)}function I(e,t){o("NullLiteral",e,t)}function R(e,t){o("BooleanLiteral",e,t)}function D(e,t){o("RegExpLiteral",e,t)}function L(e,t){o("LogicalExpression",e,t)}function N(e,t){o("MemberExpression",e,t)}function B(e,t){o("NewExpression",e,t)}function F(e,t){o("Program",e,t)}function j(e,t){o("ObjectExpression",e,t)}function U(e,t){o("ObjectMethod",e,t)}function z(e,t){o("ObjectProperty",e,t)}function q(e,t){o("RestElement",e,t)}function V(e,t){o("ReturnStatement",e,t)}function H(e,t){o("SequenceExpression",e,t)}function G(e,t){o("ParenthesizedExpression",e,t)}function W(e,t){o("SwitchCase",e,t)}function $(e,t){o("SwitchStatement",e,t)}function X(e,t){o("ThisExpression",e,t)}function Y(e,t){o("ThrowStatement",e,t)}function K(e,t){o("TryStatement",e,t)}function Q(e,t){o("UnaryExpression",e,t)}function J(e,t){o("UpdateExpression",e,t)}function Z(e,t){o("VariableDeclaration",e,t)}function ee(e,t){o("VariableDeclarator",e,t)}function te(e,t){o("WhileStatement",e,t)}function ne(e,t){o("WithStatement",e,t)}function ie(e,t){o("AssignmentPattern",e,t)}function re(e,t){o("ArrayPattern",e,t)}function oe(e,t){o("ArrowFunctionExpression",e,t)}function se(e,t){o("ClassBody",e,t)}function ae(e,t){o("ClassExpression",e,t)}function le(e,t){o("ClassDeclaration",e,t)}function ce(e,t){o("ExportAllDeclaration",e,t)}function ue(e,t){o("ExportDefaultDeclaration",e,t)}function he(e,t){o("ExportNamedDeclaration",e,t)}function de(e,t){o("ExportSpecifier",e,t)}function fe(e,t){o("ForOfStatement",e,t)}function pe(e,t){o("ImportDeclaration",e,t)}function me(e,t){o("ImportDefaultSpecifier",e,t)}function ge(e,t){o("ImportNamespaceSpecifier",e,t)}function Ae(e,t){o("ImportSpecifier",e,t)}function ye(e,t){o("MetaProperty",e,t)}function ve(e,t){o("ClassMethod",e,t)}function be(e,t){o("ObjectPattern",e,t)}function _e(e,t){o("SpreadElement",e,t)}function we(e,t){o("Super",e,t)}function xe(e,t){o("TaggedTemplateExpression",e,t)}function Se(e,t){o("TemplateElement",e,t)}function Te(e,t){o("TemplateLiteral",e,t)}function Ee(e,t){o("YieldExpression",e,t)}function Me(e,t){o("AwaitExpression",e,t)}function Ce(e,t){o("Import",e,t)}function Oe(e,t){o("BigIntLiteral",e,t)}function ke(e,t){o("ExportNamespaceSpecifier",e,t)}function Pe(e,t){o("OptionalMemberExpression",e,t)}function Ie(e,t){o("OptionalCallExpression",e,t)}function Re(e,t){o("ClassProperty",e,t)}function De(e,t){o("ClassAccessorProperty",e,t)}function Le(e,t){o("ClassPrivateProperty",e,t)}function Ne(e,t){o("ClassPrivateMethod",e,t)}function Be(e,t){o("PrivateName",e,t)}function Fe(e,t){o("StaticBlock",e,t)}function je(e,t){o("AnyTypeAnnotation",e,t)}function Ue(e,t){o("ArrayTypeAnnotation",e,t)}function ze(e,t){o("BooleanTypeAnnotation",e,t)}function qe(e,t){o("BooleanLiteralTypeAnnotation",e,t)}function Ve(e,t){o("NullLiteralTypeAnnotation",e,t)}function He(e,t){o("ClassImplements",e,t)}function Ge(e,t){o("DeclareClass",e,t)}function We(e,t){o("DeclareFunction",e,t)}function $e(e,t){o("DeclareInterface",e,t)}function Xe(e,t){o("DeclareModule",e,t)}function Ye(e,t){o("DeclareModuleExports",e,t)}function Ke(e,t){o("DeclareTypeAlias",e,t)}function Qe(e,t){o("DeclareOpaqueType",e,t)}function Je(e,t){o("DeclareVariable",e,t)}function Ze(e,t){o("DeclareExportDeclaration",e,t)}function et(e,t){o("DeclareExportAllDeclaration",e,t)}function tt(e,t){o("DeclaredPredicate",e,t)}function nt(e,t){o("ExistsTypeAnnotation",e,t)}function it(e,t){o("FunctionTypeAnnotation",e,t)}function rt(e,t){o("FunctionTypeParam",e,t)}function ot(e,t){o("GenericTypeAnnotation",e,t)}function st(e,t){o("InferredPredicate",e,t)}function at(e,t){o("InterfaceExtends",e,t)}function lt(e,t){o("InterfaceDeclaration",e,t)}function ct(e,t){o("InterfaceTypeAnnotation",e,t)}function ut(e,t){o("IntersectionTypeAnnotation",e,t)}function ht(e,t){o("MixedTypeAnnotation",e,t)}function dt(e,t){o("EmptyTypeAnnotation",e,t)}function ft(e,t){o("NullableTypeAnnotation",e,t)}function pt(e,t){o("NumberLiteralTypeAnnotation",e,t)}function mt(e,t){o("NumberTypeAnnotation",e,t)}function gt(e,t){o("ObjectTypeAnnotation",e,t)}function At(e,t){o("ObjectTypeInternalSlot",e,t)}function yt(e,t){o("ObjectTypeCallProperty",e,t)}function vt(e,t){o("ObjectTypeIndexer",e,t)}function bt(e,t){o("ObjectTypeProperty",e,t)}function _t(e,t){o("ObjectTypeSpreadProperty",e,t)}function wt(e,t){o("OpaqueType",e,t)}function xt(e,t){o("QualifiedTypeIdentifier",e,t)}function St(e,t){o("StringLiteralTypeAnnotation",e,t)}function Tt(e,t){o("StringTypeAnnotation",e,t)}function Et(e,t){o("SymbolTypeAnnotation",e,t)}function Mt(e,t){o("ThisTypeAnnotation",e,t)}function Ct(e,t){o("TupleTypeAnnotation",e,t)}function Ot(e,t){o("TypeofTypeAnnotation",e,t)}function kt(e,t){o("TypeAlias",e,t)}function Pt(e,t){o("TypeAnnotation",e,t)}function It(e,t){o("TypeCastExpression",e,t)}function Rt(e,t){o("TypeParameter",e,t)}function Dt(e,t){o("TypeParameterDeclaration",e,t)}function Lt(e,t){o("TypeParameterInstantiation",e,t)}function Nt(e,t){o("UnionTypeAnnotation",e,t)}function Bt(e,t){o("Variance",e,t)}function Ft(e,t){o("VoidTypeAnnotation",e,t)}function jt(e,t){o("EnumDeclaration",e,t)}function Ut(e,t){o("EnumBooleanBody",e,t)}function zt(e,t){o("EnumNumberBody",e,t)}function qt(e,t){o("EnumStringBody",e,t)}function Vt(e,t){o("EnumSymbolBody",e,t)}function Ht(e,t){o("EnumBooleanMember",e,t)}function Gt(e,t){o("EnumNumberMember",e,t)}function Wt(e,t){o("EnumStringMember",e,t)}function $t(e,t){o("EnumDefaultedMember",e,t)}function Xt(e,t){o("IndexedAccessType",e,t)}function Yt(e,t){o("OptionalIndexedAccessType",e,t)}function Kt(e,t){o("JSXAttribute",e,t)}function Qt(e,t){o("JSXClosingElement",e,t)}function Jt(e,t){o("JSXElement",e,t)}function Zt(e,t){o("JSXEmptyExpression",e,t)}function en(e,t){o("JSXExpressionContainer",e,t)}function tn(e,t){o("JSXSpreadChild",e,t)}function nn(e,t){o("JSXIdentifier",e,t)}function rn(e,t){o("JSXMemberExpression",e,t)}function on(e,t){o("JSXNamespacedName",e,t)}function sn(e,t){o("JSXOpeningElement",e,t)}function an(e,t){o("JSXSpreadAttribute",e,t)}function ln(e,t){o("JSXText",e,t)}function cn(e,t){o("JSXFragment",e,t)}function un(e,t){o("JSXOpeningFragment",e,t)}function hn(e,t){o("JSXClosingFragment",e,t)}function dn(e,t){o("Noop",e,t)}function fn(e,t){o("Placeholder",e,t)}function pn(e,t){o("V8IntrinsicIdentifier",e,t)}function mn(e,t){o("ArgumentPlaceholder",e,t)}function gn(e,t){o("BindExpression",e,t)}function An(e,t){o("ImportAttribute",e,t)}function yn(e,t){o("Decorator",e,t)}function vn(e,t){o("DoExpression",e,t)}function bn(e,t){o("ExportDefaultSpecifier",e,t)}function _n(e,t){o("RecordExpression",e,t)}function wn(e,t){o("TupleExpression",e,t)}function xn(e,t){o("DecimalLiteral",e,t)}function Sn(e,t){o("ModuleExpression",e,t)}function Tn(e,t){o("TopicReference",e,t)}function En(e,t){o("PipelineTopicExpression",e,t)}function Mn(e,t){o("PipelineBareFunction",e,t)}function Cn(e,t){o("PipelinePrimaryTopicReference",e,t)}function On(e,t){o("TSParameterProperty",e,t)}function kn(e,t){o("TSDeclareFunction",e,t)}function Pn(e,t){o("TSDeclareMethod",e,t)}function In(e,t){o("TSQualifiedName",e,t)}function Rn(e,t){o("TSCallSignatureDeclaration",e,t)}function Dn(e,t){o("TSConstructSignatureDeclaration",e,t)}function Ln(e,t){o("TSPropertySignature",e,t)}function Nn(e,t){o("TSMethodSignature",e,t)}function Bn(e,t){o("TSIndexSignature",e,t)}function Fn(e,t){o("TSAnyKeyword",e,t)}function jn(e,t){o("TSBooleanKeyword",e,t)}function Un(e,t){o("TSBigIntKeyword",e,t)}function zn(e,t){o("TSIntrinsicKeyword",e,t)}function qn(e,t){o("TSNeverKeyword",e,t)}function Vn(e,t){o("TSNullKeyword",e,t)}function Hn(e,t){o("TSNumberKeyword",e,t)}function Gn(e,t){o("TSObjectKeyword",e,t)}function Wn(e,t){o("TSStringKeyword",e,t)}function $n(e,t){o("TSSymbolKeyword",e,t)}function Xn(e,t){o("TSUndefinedKeyword",e,t)}function Yn(e,t){o("TSUnknownKeyword",e,t)}function Kn(e,t){o("TSVoidKeyword",e,t)}function Qn(e,t){o("TSThisType",e,t)}function Jn(e,t){o("TSFunctionType",e,t)}function Zn(e,t){o("TSConstructorType",e,t)}function ei(e,t){o("TSTypeReference",e,t)}function ti(e,t){o("TSTypePredicate",e,t)}function ni(e,t){o("TSTypeQuery",e,t)}function ii(e,t){o("TSTypeLiteral",e,t)}function ri(e,t){o("TSArrayType",e,t)}function oi(e,t){o("TSTupleType",e,t)}function si(e,t){o("TSOptionalType",e,t)}function ai(e,t){o("TSRestType",e,t)}function li(e,t){o("TSNamedTupleMember",e,t)}function ci(e,t){o("TSUnionType",e,t)}function ui(e,t){o("TSIntersectionType",e,t)}function hi(e,t){o("TSConditionalType",e,t)}function di(e,t){o("TSInferType",e,t)}function fi(e,t){o("TSParenthesizedType",e,t)}function pi(e,t){o("TSTypeOperator",e,t)}function mi(e,t){o("TSIndexedAccessType",e,t)}function gi(e,t){o("TSMappedType",e,t)}function Ai(e,t){o("TSLiteralType",e,t)}function yi(e,t){o("TSExpressionWithTypeArguments",e,t)}function vi(e,t){o("TSInterfaceDeclaration",e,t)}function bi(e,t){o("TSInterfaceBody",e,t)}function _i(e,t){o("TSTypeAliasDeclaration",e,t)}function wi(e,t){o("TSInstantiationExpression",e,t)}function xi(e,t){o("TSAsExpression",e,t)}function Si(e,t){o("TSSatisfiesExpression",e,t)}function Ti(e,t){o("TSTypeAssertion",e,t)}function Ei(e,t){o("TSEnumDeclaration",e,t)}function Mi(e,t){o("TSEnumMember",e,t)}function Ci(e,t){o("TSModuleDeclaration",e,t)}function Oi(e,t){o("TSModuleBlock",e,t)}function ki(e,t){o("TSImportType",e,t)}function Pi(e,t){o("TSImportEqualsDeclaration",e,t)}function Ii(e,t){o("TSExternalModuleReference",e,t)}function Ri(e,t){o("TSNonNullExpression",e,t)}function Di(e,t){o("TSExportAssignment",e,t)}function Li(e,t){o("TSNamespaceExportDeclaration",e,t)}function Ni(e,t){o("TSTypeAnnotation",e,t)}function Bi(e,t){o("TSTypeParameterInstantiation",e,t)}function Fi(e,t){o("TSTypeParameterDeclaration",e,t)}function ji(e,t){o("TSTypeParameter",e,t)}function Ui(e,t){o("Standardized",e,t)}function zi(e,t){o("Expression",e,t)}function qi(e,t){o("Binary",e,t)}function Vi(e,t){o("Scopable",e,t)}function Hi(e,t){o("BlockParent",e,t)}function Gi(e,t){o("Block",e,t)}function Wi(e,t){o("Statement",e,t)}function $i(e,t){o("Terminatorless",e,t)}function Xi(e,t){o("CompletionStatement",e,t)}function Yi(e,t){o("Conditional",e,t)}function Ki(e,t){o("Loop",e,t)}function Qi(e,t){o("While",e,t)}function Ji(e,t){o("ExpressionWrapper",e,t)}function Zi(e,t){o("For",e,t)}function er(e,t){o("ForXStatement",e,t)}function tr(e,t){o("Function",e,t)}function nr(e,t){o("FunctionParent",e,t)}function ir(e,t){o("Pureish",e,t)}function rr(e,t){o("Declaration",e,t)}function or(e,t){o("PatternLike",e,t)}function sr(e,t){o("LVal",e,t)}function ar(e,t){o("TSEntityName",e,t)}function lr(e,t){o("Literal",e,t)}function cr(e,t){o("Immutable",e,t)}function ur(e,t){o("UserWhitespacable",e,t)}function hr(e,t){o("Method",e,t)}function dr(e,t){o("ObjectMember",e,t)}function fr(e,t){o("Property",e,t)}function pr(e,t){o("UnaryLike",e,t)}function mr(e,t){o("Pattern",e,t)}function gr(e,t){o("Class",e,t)}function Ar(e,t){o("ImportOrExportDeclaration",e,t)}function yr(e,t){o("ExportDeclaration",e,t)}function vr(e,t){o("ModuleSpecifier",e,t)}function br(e,t){o("Accessor",e,t)}function _r(e,t){o("Private",e,t)}function wr(e,t){o("Flow",e,t)}function xr(e,t){o("FlowType",e,t)}function Sr(e,t){o("FlowBaseAnnotation",e,t)}function Tr(e,t){o("FlowDeclaration",e,t)}function Er(e,t){o("FlowPredicate",e,t)}function Mr(e,t){o("EnumBody",e,t)}function Cr(e,t){o("EnumMember",e,t)}function Or(e,t){o("JSX",e,t)}function kr(e,t){o("Miscellaneous",e,t)}function Pr(e,t){o("TypeScript",e,t)}function Ir(e,t){o("TSTypeElement",e,t)}function Rr(e,t){o("TSType",e,t)}function Dr(e,t){o("TSBaseType",e,t)}function Lr(e,t){(0,r.default)("assertNumberLiteral","assertNumericLiteral"),o("NumberLiteral",e,t)}function Nr(e,t){(0,r.default)("assertRegexLiteral","assertRegExpLiteral"),o("RegexLiteral",e,t)}function Br(e,t){(0,r.default)("assertRestProperty","assertRestElement"),o("RestProperty",e,t)}function Fr(e,t){(0,r.default)("assertSpreadProperty","assertSpreadElement"),o("SpreadProperty",e,t)}function jr(e,t){(0,r.default)("assertModuleDeclaration","assertImportOrExportDeclaration"),o("ModuleDeclaration",e,t)}},"04f8":function(e,t,n){var i=n("2d00"),r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},"0619":function(e,t,n){"use strict";n.d(t,"a",(function(){return Rd}));var i={};n.r(i),n.d(i,"deepCloneAttribute",(function(){return tt})),n.d(i,"deinterleaveAttribute",(function(){return it})),n.d(i,"deinterleaveGeometry",(function(){return rt})),n.d(i,"computeTangents",(function(){return Qe})),n.d(i,"computeMikkTSpaceTangents",(function(){return Je})),n.d(i,"mergeBufferGeometries",(function(){return Ze})),n.d(i,"mergeBufferAttributes",(function(){return et})),n.d(i,"interleaveAttributes",(function(){return nt})),n.d(i,"estimateBytesUsed",(function(){return ot})),n.d(i,"mergeVertices",(function(){return st})),n.d(i,"toTrianglesDrawMode",(function(){return at})),n.d(i,"computeMorphedAttributes",(function(){return lt})),n.d(i,"mergeGroups",(function(){return ct})),n.d(i,"toCreasedNormals",(function(){return ut}));var r=n("d81c"),o=n("5a89");class s extends o["Object3D"]{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const a=new o["Vector3"],l=new o["Matrix4"],c=new o["Matrix4"],u=new o["Vector3"],h=new o["Vector3"];class d{constructor(e={}){const t=this;let n,i,r,o;const s={objects:new WeakMap},d=void 0!==e.element?e.element:document.createElement("div");function f(e,n,i){if(e.isCSS2DObject){a.setFromMatrixPosition(e.matrixWorld),a.applyMatrix4(c);const l=!0===e.visible&&a.z>=-1&&a.z<=1&&!0===e.layers.test(i.layers);if(e.element.style.display=!0===l?"":"none",!0===l){e.onBeforeRender(t,n,i);const s=e.element;s.style.transform="translate(-50%,-50%) translate("+(a.x*r+r)+"px,"+(-a.y*o+o)+"px)",s.parentNode!==d&&d.appendChild(s),e.onAfterRender(t,n,i)}const u={distanceToCameraSquared:p(i,e)};s.objects.set(e,u)}for(let t=0,r=e.children.length;t<r;t++)f(e.children[t],n,i)}function p(e,t){return u.setFromMatrixPosition(e.matrixWorld),h.setFromMatrixPosition(t.matrixWorld),u.distanceToSquared(h)}function m(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function g(e){const t=m(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=s.objects.get(e).distanceToCameraSquared,i=s.objects.get(t).distanceToCameraSquared;return n-i})),n=t.length;for(let i=0,r=t.length;i<r;i++)t[i].element.style.zIndex=n-i}d.style.overflow="hidden",this.domElement=d,this.getSize=function(){return{width:n,height:i}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),l.copy(t.matrixWorldInverse),c.multiplyMatrices(t.projectionMatrix,l),f(e,e,t),g(e)},this.setSize=function(e,t){n=e,i=t,r=n/2,o=i/2,d.style.width=e+"px",d.style.height=t+"px"}}}var f=n("b012"),p=n.n(f);function m(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,T(i.key),i)}}function y(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return b(e)||m(e,t)||_(e,t)||x()}function b(e){if(Array.isArray(e))return e}function _(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e){var t=S(e,"string");return"symbol"===typeof t?t:String(t)}var E=y((function e(t,n){var i=n["default"],r=void 0===i?null:i,o=n.triggerUpdate,s=void 0===o||o,a=n.onChange,l=void 0===a?function(e,t){}:a;g(this,e),this.name=t,this.defaultVal=r,this.triggerUpdate=s,this.onChange=l}));function M(e){var t=e.stateInit,n=void 0===t?function(){return{}}:t,i=e.props,r=void 0===i?{}:i,o=e.methods,s=void 0===o?{}:o,a=e.aliases,l=void 0===a?{}:a,c=e.init,u=void 0===c?function(){}:c,h=e.update,d=void 0===h?function(){}:h,f=Object.keys(r).map((function(e){return new E(e,r[e])}));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},n instanceof Function?n(e):n,{initialised:!1}),i={};function r(t){return o(t,e),a(),r}var o=function(e,n){u.call(r,e,t,n),t.initialised=!0},a=p()((function(){t.initialised&&(d.call(r,t,i),i={})}),1);return f.forEach((function(e){function n(e){var n=e.name,o=e.triggerUpdate,s=void 0!==o&&o,l=e.onChange,c=void 0===l?function(e,t){}:l,u=e.defaultVal,h=void 0===u?null:u;return function(e){var o=t[n];if(!arguments.length)return o;var l=void 0===e?h:e;return t[n]=l,c.call(r,l,t,o),!i.hasOwnProperty(n)&&(i[n]=o),s&&a(),r}}r[e.name]=n(e)})),Object.keys(s).forEach((function(e){r[e]=function(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=s[e]).call.apply(n,[r,t].concat(o))}})),Object.entries(l).forEach((function(e){var t=v(e,2),n=t[0],i=t[1];return r[n]=r[i]})),r.resetProps=function(){return f.forEach((function(e){r[e.name](e.defaultVal)})),r},r.resetProps(),t._rerender=a,r}}var C=n("89ae"),O=n.n(C),k=n("5664"),P=n.n(k);class I{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=t[i],o=e+r,s=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);s&&(t[n++]=s),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,i,r=this._n,o=0;if(r>0){o=e[--r];while(r>0)if(t=o,n=e[--r],o=t+n,i=n-(o-t),i)break;r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(n=2*i,t=o+n,n==t-o&&(o=t))}return o}}var R=1e-6,D=1e-12,L=Math.PI,N=L/2,B=L/4,F=2*L,j=180/L,U=L/180,z=Math.abs,q=Math.atan,V=Math.atan2,H=Math.cos,G=Math.ceil,W=(Math.exp,Math.floor,Math.hypot),$=(Math.log,Math.pow,Math.sin),X=Math.sign||function(e){return e>0?1:e<0?-1:0},Y=Math.sqrt;Math.tan;function K(e){return e>1?0:e<-1?L:Math.acos(e)}function Q(e){return e>1?N:e<-1?-N:Math.asin(e)}function J(e){return(e=$(e/2))*e}function Z(){}function ee(e,t){e&&ne.hasOwnProperty(e.type)&&ne[e.type](e,t)}var te={Feature:function(e,t){ee(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,i=-1,r=n.length;while(++i<r)ee(n[i].geometry,t)}},ne={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){ie(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)ie(n[i],t,0)},Polygon:function(e,t){re(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)re(n[i],t)},GeometryCollection:function(e,t){var n=e.geometries,i=-1,r=n.length;while(++i<r)ee(n[i],t)}};function ie(e,t,n){var i,r=-1,o=e.length-n;t.lineStart();while(++r<o)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function re(e,t){var n=-1,i=e.length;t.polygonStart();while(++n<i)ie(e[n],t,1);t.polygonEnd()}var oe,se,ae,le,ce=function(e,t){e&&te.hasOwnProperty(e.type)?te[e.type](e,t):ee(e,t)},ue={sphere:Z,point:Z,lineStart:he,lineEnd:Z,polygonStart:Z,polygonEnd:Z};function he(){ue.point=fe,ue.lineEnd=de}function de(){ue.point=ue.lineEnd=Z}function fe(e,t){e*=U,t*=U,se=e,ae=$(t),le=H(t),ue.point=pe}function pe(e,t){e*=U,t*=U;var n=$(t),i=H(t),r=z(e-se),o=H(r),s=$(r),a=i*s,l=le*n-ae*i*o,c=ae*n+le*i*o;oe.add(V(Y(a*a+l*l),c)),se=e,ae=n,le=i}var me=function(e){return oe=new I,ce(e,ue),+oe},ge=[null,null],Ae={type:"LineString",coordinates:ge},ye=function(e,t){return ge[0]=e,ge[1]=t,me(Ae)},ve=function(e,t){var n=e[0]*U,i=e[1]*U,r=t[0]*U,o=t[1]*U,s=H(i),a=$(i),l=H(o),c=$(o),u=s*H(n),h=s*$(n),d=l*H(r),f=l*$(r),p=2*Q(Y(J(o-i)+s*l*J(r-n))),m=$(p),g=p?function(e){var t=$(e*=p)/m,n=$(p-e)/m,i=n*u+t*d,r=n*h+t*f,o=n*a+t*c;return[V(r,i)*j,V(o,Y(i*i+r*r))*j]}:function(){return[n*j,i*j]};return g.distance=p,g};function be(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fe(i.key),i)}}function xe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Ee(e,t){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ee(e,t)}function Me(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function ke(e){var t=Me();return function(){var n,i=Te(e);if(t){var r=Te(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Oe(this,n)}}function Pe(e,t){return Ie(e)||be(e,t)||Re(e,t)||Le()}function Ie(e){if(Array.isArray(e))return e}function Re(e,t){if(e){if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Le(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Re(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Be(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Fe(e){var t=Be(e,"string");return"symbol"===typeof t?t:String(t)}var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i=null;return e.forEach((function(e){if(i){var r=180*ye(e,i)/Math.PI;if(r>t){var o=ve(i,e),s=1/Math.ceil(r/t),a=s;while(a<1)n.push(o(a)),a+=s}}n.push(i=e)})),n},Ue="undefined"!==typeof window&&window.THREE?window.THREE:{BufferGeometry:r["BufferGeometry"],Float32BufferAttribute:r["Float32BufferAttribute"]},ze=(new Ue.BufferGeometry).setAttribute?"setAttribute":"addAttribute",qe=function(e){Se(n,e);var t=ke(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;_e(this,n),i=t.call(this),i.type="GeoJsonGeometry",i.parameters={geoJson:e,radius:r,resolution:o};var s=({Point:u,MultiPoint:h,LineString:d,MultiLineString:f,Polygon:p,MultiPolygon:m}[e.type]||function(){return[]})(e.coordinates,r),a=[],l=[],c=0;function u(e,t){var n=Ge(e[1],e[0],t),i=[];return[{vertices:n,indices:i}]}function h(e,t){var n={vertices:[],indices:[]};return e.map((function(e){return u(e,t)})).forEach((function(e){var t=Pe(e,1),i=t[0];Ve(n,i)})),[n]}function d(e,t){for(var n=je(e,o).map((function(e){var n=Pe(e,2),i=n[0],r=n[1];return Ge(r,i,t)})),i=P.a.flatten([n]),r=i.vertices,s=Math.round(r.length/3),a=[],l=1;l<s;l++)a.push(l-1,l);return[{vertices:r,indices:a}]}function f(e,t){var n={vertices:[],indices:[]};return e.map((function(e){return d(e,t)})).forEach((function(e){var t=Pe(e,1),i=t[0];Ve(n,i)})),[n]}function p(e,t){for(var n=e.map((function(e){return je(e,o).map((function(e){var n=Pe(e,2),i=n[0],r=n[1];return Ge(r,i,t)}))})),i=P.a.flatten(n),r=i.vertices,s=i.holes,a=s[0]||1/0,l=r.slice(0,3*a),c=r.slice(3*a),u=new Set(s),h=Math.round(r.length/3),d=[],f=[],p=1;p<h;p++)u.has(p)||(p<a?d.push(p-1,p):f.push(p-1-a,p-a));var m=[{indices:d,vertices:l}];return s.length&&m.push({indices:f,vertices:c}),m}function m(e,t){var n={vertices:[],indices:[]},i={vertices:[],indices:[]};e.map((function(e){return p(e,t)})).forEach((function(e){var t=Pe(e,2),r=t[0],o=t[1];Ve(n,r),o&&Ve(i,o)}));var r=[n];return i.vertices.length&&r.push(i),r}return s.forEach((function(e){var t=a.length;Ve({indices:a,vertices:l},e),i.addGroup(t,a.length-t,c++)})),a.length&&i.setIndex(a),l.length&&i[ze]("position",new Ue.Float32BufferAttribute(l,3)),i}return xe(n)}(Ue.BufferGeometry);function Ve(e,t){var n=Math.round(e.vertices.length/3);He(e.vertices,t.vertices),He(e.indices,t.indices.map((function(e){return e+n})))}function He(e,t){var n,i=Ne(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.push(r)}}catch(o){i.e(o)}finally{i.f()}}function Ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(90-e)*Math.PI/180,r=(90-t)*Math.PI/180;return[n*Math.sin(i)*Math.cos(r),n*Math.cos(i),n*Math.sin(i)*Math.sin(r)]}function We(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);while(++i<r)o[i]=e+i*n;return o}function $e(e,t,n){var i=We(e,t-R,n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function Xe(e,t,n){var i=We(e,t-R,n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}function Ye(){var e,t,n,i,r,o,s,a,l,c,u,h,d=10,f=d,p=90,m=360,g=2.5;function A(){return{type:"MultiLineString",coordinates:y()}}function y(){return We(G(i/p)*p,n,p).map(u).concat(We(G(a/m)*m,s,m).map(h)).concat(We(G(t/d)*d,e,d).filter((function(e){return z(e%p)>R})).map(l)).concat(We(G(o/f)*f,r,f).filter((function(e){return z(e%m)>R})).map(c))}return A.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},A.outline=function(){return{type:"Polygon",coordinates:[u(i).concat(h(s).slice(1),u(n).reverse().slice(1),h(a).reverse().slice(1))]}},A.extent=function(e){return arguments.length?A.extentMajor(e).extentMinor(e):A.extentMinor()},A.extentMajor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),A.precision(g)):[[i,a],[n,s]]},A.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),o>r&&(n=o,o=r,r=n),A.precision(g)):[[t,o],[e,r]]},A.step=function(e){return arguments.length?A.stepMajor(e).stepMinor(e):A.stepMinor()},A.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],A):[p,m]},A.stepMinor=function(e){return arguments.length?(d=+e[0],f=+e[1],A):[d,f]},A.precision=function(d){return arguments.length?(g=+d,l=$e(o,r,90),c=Xe(t,e,g),u=$e(a,s,90),h=Xe(i,n,g),A):g},A.extentMajor([[-180,-90+R],[180,90-R]]).extentMinor([[-180,-80-R],[180,80+R]])}function Ke(){return Ye()()}function Qe(){throw new Error("BufferGeometryUtils: computeTangents renamed to computeMikkTSpaceTangents.")}function Je(e,t,n=!0){if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function i(e){if(e.normalized||e.isInterleavedBufferAttribute){const t=new Float32Array(e.getCount()*e.itemSize);for(let n=0,i=0;n<e.getCount();n++)t[i++]=e.getX(n),t[i++]=e.getY(n),e.itemSize>2&&(t[i++]=e.getZ(n));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}const r=e.index?e.toNonIndexed():e,s=t.generateTangents(i(r.attributes.position),i(r.attributes.normal),i(r.attributes.uv));if(n)for(let o=3;o<s.length;o+=4)s[o]*=-1;return r.setAttribute("tangent",new o["BufferAttribute"](s,4)),e!==r&&e.copy(r),e}function Ze(e,t=!1){const n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),r=new Set(Object.keys(e[0].morphAttributes)),s={},a={},l=e[0].morphTargetsRelative,c=new o["BufferGeometry"];let u=0;for(let o=0;o<e.length;++o){const h=e[o];let d=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in h.attributes){if(!i.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===s[e]&&(s[e]=[]),s[e].push(h.attributes[e]),d++}if(d!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". Make sure all geometries have the same number of attributes."),null;if(l!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in h.morphAttributes){if(!r.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===a[e]&&(a[e]=[]),a[e].push(h.morphAttributes[e])}if(t){let e;if(n)e=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+o+". The geometry must have either an index or a position attribute"),null;e=h.attributes.position.count}c.addGroup(u,e,o),u+=e}}if(n){let t=0;const n=[];for(let i=0;i<e.length;++i){const r=e[i].index;for(let e=0;e<r.count;++e)n.push(r.getX(e)+t);t+=e[i].attributes.position.count}c.setIndex(n)}for(const o in s){const e=et(s[o]);if(!e)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+o+" attribute."),null;c.setAttribute(o,e)}for(const o in a){const e=a[o][0].length;if(0===e)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[o]=[];for(let t=0;t<e;++t){const e=[];for(let i=0;i<a[o].length;++i)e.push(a[o][i][t]);const n=et(e);if(!n)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+o+" morphAttribute."),null;c.morphAttributes[o].push(n)}}return c}function et(e){let t,n,i,r=0;for(let o=0;o<e.length;++o){const s=e[o];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=s.normalized),i!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=s.array.length}const s=new t(r);let a=0;for(let o=0;o<e.length;++o)s.set(e[o].array,a),a+=e[o].array.length;return new o["BufferAttribute"](s,n,i)}function tt(e){return e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute?it(e):e.isInstancedBufferAttribute?(new o["InstancedBufferAttribute"]).copy(e):(new o["BufferAttribute"]).copy(e)}function nt(e){let t,n=0,i=0;for(let o=0,u=e.length;o<u;++o){const r=e[o];if(void 0===t&&(t=r.array.constructor),t!==r.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=r.array.length,i+=r.itemSize}const r=new o["InterleavedBuffer"](new t(n),i);let s=0;const a=[],l=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let u=0,h=e.length;u<h;u++){const t=e[u],n=t.itemSize,i=t.count,h=new o["InterleavedBufferAttribute"](r,n,s,t.normalized);a.push(h),s+=n;for(let e=0;e<i;e++)for(let i=0;i<n;i++)h[c[i]](e,t[l[i]](e))}return a}function it(e){const t=e.data.array.constructor,n=e.count,i=e.itemSize,r=e.normalized,s=new t(n*i);let a;a=e.isInstancedInterleavedBufferAttribute?new o["InstancedBufferAttribute"](s,i,r,e.meshPerAttribute):new o["BufferAttribute"](s,i,r);for(let o=0;o<n;o++)a.setX(o,e.getX(o)),i>=2&&a.setY(o,e.getY(o)),i>=3&&a.setZ(o,e.getZ(o)),i>=4&&a.setW(o,e.getW(o));return a}function rt(e){const t=e.attributes,n=e.morphTargets,i=new Map;for(const r in t){const e=t[r];e.isInterleavedBufferAttribute&&(i.has(e)||i.set(e,it(e)),t[r]=i.get(e))}for(const r in n){const e=n[r];e.isInterleavedBufferAttribute&&(i.has(e)||i.set(e,it(e)),n[r]=i.get(e))}}function ot(e){let t=0;for(const i in e.attributes){const n=e.getAttribute(i);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}const n=e.getIndex();return t+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,t}function st(e,t=1e-4){t=Math.max(t,Number.EPSILON);const n={},i=e.getIndex(),r=e.getAttribute("position"),s=i?i.count:r.count;let a=0;const l=Object.keys(e.attributes),c={},u={},h=[],d=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"];for(let A=0,y=l.length;A<y;A++){const t=l[A],n=e.attributes[t];c[t]=new o["BufferAttribute"](new n.array.constructor(n.count*n.itemSize),n.itemSize,n.normalized);const i=e.morphAttributes[t];i&&(u[t]=new o["BufferAttribute"](new i.array.constructor(i.count*i.itemSize),i.itemSize,i.normalized))}const p=Math.log10(1/t),m=Math.pow(10,p);for(let o=0;o<s;o++){const t=i?i.getX(o):o;let r="";for(let n=0,i=l.length;n<i;n++){const i=l[n],o=e.getAttribute(i),s=o.itemSize;for(let e=0;e<s;e++)r+=~~(o[d[e]](t)*m)+","}if(r in n)h.push(n[r]);else{for(let n=0,i=l.length;n<i;n++){const i=l[n],r=e.getAttribute(i),o=e.morphAttributes[i],s=r.itemSize,h=c[i],p=u[i];for(let e=0;e<s;e++){const n=d[e],i=f[e];if(h[i](a,r[n](t)),o)for(let e=0,r=o.length;e<r;e++)p[e][i](a,o[e][n](t))}}n[r]=a,h.push(a),a++}}const g=e.clone();for(const A in e.attributes){const e=c[A];if(g.setAttribute(A,new o["BufferAttribute"](e.array.slice(0,a*e.itemSize),e.itemSize,e.normalized)),A in u)for(let t=0;t<u[A].length;t++){const e=u[A][t];g.morphAttributes[A][t]=new o["BufferAttribute"](e.array.slice(0,a*e.itemSize),e.itemSize,e.normalized)}}return g.setIndex(h),g}function at(e,t){if(t===o["TrianglesDrawMode"])return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===o["TriangleFanDrawMode"]||t===o["TriangleStripDrawMode"]){let n=e.getIndex();if(null===n){const t=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<i.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const i=n.count-2,r=[];if(t===o["TriangleFanDrawMode"])for(let e=1;e<=i;e++)r.push(n.getX(0)),r.push(n.getX(e)),r.push(n.getX(e+1));else for(let e=0;e<i;e++)e%2===0?(r.push(n.getX(e)),r.push(n.getX(e+1)),r.push(n.getX(e+2))):(r.push(n.getX(e+2)),r.push(n.getX(e+1)),r.push(n.getX(e)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(r),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function lt(e){const t=new o["Vector3"],n=new o["Vector3"],i=new o["Vector3"],r=new o["Vector3"],s=new o["Vector3"],a=new o["Vector3"],l=new o["Vector3"],c=new o["Vector3"],u=new o["Vector3"];function h(e,o,h,d,f,p,m,g){t.fromBufferAttribute(o,f),n.fromBufferAttribute(o,p),i.fromBufferAttribute(o,m);const A=e.morphTargetInfluences;if(h&&A){l.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(let e=0,o=h.length;e<o;e++){const o=A[e],g=h[e];0!==o&&(r.fromBufferAttribute(g,f),s.fromBufferAttribute(g,p),a.fromBufferAttribute(g,m),d?(l.addScaledVector(r,o),c.addScaledVector(s,o),u.addScaledVector(a,o)):(l.addScaledVector(r.sub(t),o),c.addScaledVector(s.sub(n),o),u.addScaledVector(a.sub(i),o)))}t.add(l),n.add(c),i.add(u)}e.isSkinnedMesh&&(e.boneTransform(f,t),e.boneTransform(p,n),e.boneTransform(m,i)),g[3*f+0]=t.x,g[3*f+1]=t.y,g[3*f+2]=t.z,g[3*p+0]=n.x,g[3*p+1]=n.y,g[3*p+2]=n.z,g[3*m+0]=i.x,g[3*m+1]=i.y,g[3*m+2]=i.z}const d=e.geometry,f=e.material;let p,m,g;const A=d.index,y=d.attributes.position,v=d.morphAttributes.position,b=d.morphTargetsRelative,_=d.attributes.normal,w=d.morphAttributes.position,x=d.groups,S=d.drawRange;let T,E,M,C,O,k,P;const I=new Float32Array(y.count*y.itemSize),R=new Float32Array(_.count*_.itemSize);if(null!==A)if(Array.isArray(f))for(T=0,M=x.length;T<M;T++)for(O=x[T],k=Math.max(O.start,S.start),P=Math.min(O.start+O.count,S.start+S.count),E=k,C=P;E<C;E+=3)p=A.getX(E),m=A.getX(E+1),g=A.getX(E+2),h(e,y,v,b,p,m,g,I),h(e,_,w,b,p,m,g,R);else for(k=Math.max(0,S.start),P=Math.min(A.count,S.start+S.count),T=k,M=P;T<M;T+=3)p=A.getX(T),m=A.getX(T+1),g=A.getX(T+2),h(e,y,v,b,p,m,g,I),h(e,_,w,b,p,m,g,R);else if(Array.isArray(f))for(T=0,M=x.length;T<M;T++)for(O=x[T],k=Math.max(O.start,S.start),P=Math.min(O.start+O.count,S.start+S.count),E=k,C=P;E<C;E+=3)p=E,m=E+1,g=E+2,h(e,y,v,b,p,m,g,I),h(e,_,w,b,p,m,g,R);else for(k=Math.max(0,S.start),P=Math.min(y.count,S.start+S.count),T=k,M=P;T<M;T+=3)p=T,m=T+1,g=T+2,h(e,y,v,b,p,m,g,I),h(e,_,w,b,p,m,g,R);const D=new o["Float32BufferAttribute"](I,3),L=new o["Float32BufferAttribute"](R,3);return{positionAttribute:y,normalAttribute:_,morphedPositionAttribute:D,morphedNormalAttribute:L}}function ct(e){if(0===e.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),e;let t=e.groups;if(t=t.sort((e,t)=>e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start),null===e.getIndex()){const t=e.getAttribute("position"),n=[];for(let e=0;e<t.count;e+=3)n.push(e,e+1,e+2);e.setIndex(n)}const n=e.getIndex(),i=[];for(let s=0;s<t.length;s++){const e=t[s],r=e.start,o=r+e.count;for(let t=r;t<o;t++)i.push(n.getX(t))}e.dispose(),e.setIndex(i);let r=0;for(let s=0;s<t.length;s++){const e=t[s];e.start=r,r+=e.count}let o=t[0];e.groups=[o];for(let s=1;s<t.length;s++){const n=t[s];o.materialIndex===n.materialIndex?o.count+=n.count:(o=n,e.groups.push(o))}return e}function ut(e,t=Math.PI/3){const n=Math.cos(t),i=100*(1+1e-10),r=[new o["Vector3"],new o["Vector3"],new o["Vector3"]],s=new o["Vector3"],a=new o["Vector3"],l=new o["Vector3"],c=new o["Vector3"];function u(e){const t=~~(e.x*i),n=~~(e.y*i),r=~~(e.z*i);return`${t},${n},${r}`}const h=e.toNonIndexed(),d=h.attributes.position,f={};for(let g=0,A=d.count/3;g<A;g++){const e=3*g,t=r[0].fromBufferAttribute(d,e+0),n=r[1].fromBufferAttribute(d,e+1),i=r[2].fromBufferAttribute(d,e+2);s.subVectors(i,n),a.subVectors(t,n);const l=(new o["Vector3"]).crossVectors(s,a).normalize();for(let o=0;o<3;o++){const e=r[o],t=u(e);t in f||(f[t]=[]),f[t].push(l)}}const p=new Float32Array(3*d.count),m=new o["BufferAttribute"](p,3,!1);for(let o=0,g=d.count/3;o<g;o++){const e=3*o,t=r[0].fromBufferAttribute(d,e+0),i=r[1].fromBufferAttribute(d,e+1),h=r[2].fromBufferAttribute(d,e+2);s.subVectors(h,i),a.subVectors(t,i),l.crossVectors(s,a).normalize();for(let o=0;o<3;o++){const t=r[o],i=u(t),s=f[i];c.set(0,0,0);for(let e=0,r=s.length;e<r;e++){const t=s[e];l.dot(t)>n&&c.add(t)}c.normalize(),m.setXYZ(e+o,c.x,c.y,c.z)}}return h.setAttribute("normal",m),h}var ht=function(e){return e instanceof Function?e:"string"===typeof e?function(t){return t[e]}:function(t){return e}},dt=n("94c7"),ft=n.n(dt);function pt(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function mt(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function gt(e,t){if(null==e)return{};var n,i,r=mt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function At(e,t){return bt(e)||pt(e,t)||wt(e,t)||Tt()}function yt(e){return vt(e)||_t(e)||wt(e)||St()}function vt(e){if(Array.isArray(e))return xt(e)}function bt(e){if(Array.isArray(e))return e}function _t(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function wt(e,t){if(e){if("string"===typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function St(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Et(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Mt(e){var t=Et(e,"string");return"symbol"===typeof t?t:String(t)}var Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=(t instanceof Array?t.length?t:[void 0]:[t]).map((function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}})),o=e.reduce((function(e,t){var i=e,o=t;return r.forEach((function(e,t){var s,a=e.keyAccessor,l=e.isProp;if(l){var c=o,u=c[a],h=gt(c,[a].map(Mt));s=u,o=h}else s=a(o,t);t+1<r.length?(i.hasOwnProperty(s)||(i[s]={}),i=i[s]):n?(i.hasOwnProperty(s)||(i[s]=[]),i[s].push(o)):i[s]=o})),e}),{});n instanceof Function&&function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i===r.length?Object.keys(t).forEach((function(e){return t[e]=n(t[e])})):Object.values(t).forEach((function(t){return e(t,i+1)}))}(o);var s=o;return i&&(s=[],function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===r.length?s.push({keys:n,vals:t}):Object.entries(t).forEach((function(t){var i=At(t,2),r=i[0],o=i[1];return e(o,[].concat(yt(n),[r]))}))}(o),t instanceof Array&&0===t.length&&1===s.length&&(s[0].keys=[])),s};function Ot(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t=Gt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Dt(e,t){if(null==e)return{};var n,i,r=Rt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lt(e,t){return Ft(e)||Ot(e,t)||Ut(e,t)||Vt()}function Nt(e){return Bt(e)||jt(e)||Ut(e)||qt()}function Bt(e){if(Array.isArray(e))return zt(e)}function Ft(e){if(Array.isArray(e))return e}function jt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ut(e,t){if(e){if("string"===typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ht(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gt(e){var t=Ht(e,"string");return"symbol"===typeof t?t:String(t)}var Wt=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function $t(e,t,n){var i={enter:[],update:[],exit:[]};if(n){var r=Ct(e,n,!1),o=Ct(t,n,!1),s=Object.assign({},r,o);Object.entries(s).forEach((function(e){var t=Lt(e,2),n=t[0],s=t[1],a=r.hasOwnProperty(n)?o.hasOwnProperty(n)?"update":"exit":"enter";i[a].push("update"===a?[r[n],o[n]]:s)}))}else{var a=new Set(e),l=new Set(t);new Set([].concat(Nt(a),Nt(l))).forEach((function(e){var t=a.has(e)?l.has(e)?"update":"exit":"enter";i[t].push("update"===t?[e,e]:e)}))}return i}function Xt(e,t,n){var i=n.objBindAttr,r=void 0===i?"__obj":i,o=n.dataBindAttr,s=void 0===o?"__data":o,a=n.idAccessor,l=n.purge,c=void 0!==l&&l,u=function(e){return e.hasOwnProperty(s)},h=t.filter((function(e){return!u(e)})),d=t.filter(u).map((function(e){return e[s]})),f=e,p=c?{enter:f,exit:d,update:[]}:$t(d,f,a);return p.update=p.update.map((function(e){var t=Lt(e,2),n=t[0],i=t[1];return n!==i&&(i[r]=n[r],i[r][s]=i),i})),p.exit=p.exit.concat(h.map((function(e){return It({},r,e)}))),p}function Yt(e,t,n,i,r){var o=r.createObj,s=void 0===o?function(e){return{}}:o,a=r.updateObj,l=void 0===a?function(e,t){}:a,c=r.exitObj,u=void 0===c?function(e){}:c,h=r.objBindAttr,d=void 0===h?"__obj":h,f=r.dataBindAttr,p=void 0===f?"__data":f,m=Dt(r,Wt),g=Xt(e,t,Pt({objBindAttr:d,dataBindAttr:p},m)),A=g.enter,y=g.update,v=g.exit;v.forEach((function(e){var t=e[d];delete e[d],u(t),i(t)}));var b=w(A),_=[].concat(Nt(A),Nt(y));function w(e){var t=[];return e.forEach((function(e){var n=s(e);n&&(n[p]=e,e[d]=n,t.push(n))})),t}function x(e){e.forEach((function(e){var t=e[d];t&&(t[p]=e,l(t,e))}))}x(_),b.forEach(n)}var Kt=n("6ae0"),Qt=n.n(Kt);const Jt=Math.sqrt(50),Zt=Math.sqrt(10),en=Math.sqrt(2);function tn(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),s=o>=Jt?10:o>=Zt?5:o>=en?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?tn(e,t,2*n):[a,l,c]}function nn(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,o,s]=i?tn(t,e,n):tn(e,t,n);if(!(o>=r))return[];const a=o-r+1,l=new Array(a);if(i)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(r+c)/-s;else for(let c=0;c<a;++c)l[c]=(r+c)*s;return l}function rn(e,t,n){return t=+t,e=+e,n=+n,tn(e,t,n)[2]}function on(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?rn(t,e,n):rn(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function sn(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function an(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ln(e){let t,n,i;function r(e,i,r=0,o=e.length){if(r<o){if(0!==t(i,i))return o;do{const t=r+o>>>1;n(e[t],i)<0?r=t+1:o=t}while(r<o)}return r}function o(e,i,r=0,o=e.length){if(r<o){if(0!==t(i,i))return o;do{const t=r+o>>>1;n(e[t],i)<=0?r=t+1:o=t}while(r<o)}return r}function s(e,t,n=0,o=e.length){const s=r(e,t,n,o-1);return s>n&&i(e[s-1],t)>-i(e[s],t)?s-1:s}return 2!==e.length?(t=sn,n=(t,n)=>sn(e(t),n),i=(t,n)=>e(t)-n):(t=e===sn||e===an?e:cn,n=e,i=e),{left:r,center:s,right:o}}function cn(){return 0}function un(e){return null===e?NaN:+e}const hn=ln(sn),dn=hn.right;hn.left,ln(un).center;var fn=dn,pn=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function mn(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function gn(){}var An=.7,yn=1/An,vn="\\s*([+-]?\\d+)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wn=/^#([0-9a-f]{3,8})$/,xn=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),Sn=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),Tn=new RegExp(`^rgba\\(${vn},${vn},${vn},${bn}\\)$`),En=new RegExp(`^rgba\\(${_n},${_n},${_n},${bn}\\)$`),Mn=new RegExp(`^hsl\\(${bn},${_n},${_n}\\)$`),Cn=new RegExp(`^hsla\\(${bn},${_n},${_n},${bn}\\)$`),On={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kn(){return this.rgb().formatHex()}function Pn(){return this.rgb().formatHex8()}function In(){return $n(this).formatHsl()}function Rn(){return this.rgb().formatRgb()}function Dn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ln(t):3===n?new jn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Nn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=xn.exec(e))?new jn(t[1],t[2],t[3],1):(t=Sn.exec(e))?new jn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Tn.exec(e))?Nn(t[1],t[2],t[3],t[4]):(t=En.exec(e))?Nn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Mn.exec(e))?Wn(t[1],t[2]/100,t[3]/100,1):(t=Cn.exec(e))?Wn(t[1],t[2]/100,t[3]/100,t[4]):On.hasOwnProperty(e)?Ln(On[e]):"transparent"===e?new jn(NaN,NaN,NaN,0):null}function Ln(e){return new jn(e>>16&255,e>>8&255,255&e,1)}function Nn(e,t,n,i){return i<=0&&(e=t=n=NaN),new jn(e,t,n,i)}function Bn(e){return e instanceof gn||(e=Dn(e)),e?(e=e.rgb(),new jn(e.r,e.g,e.b,e.opacity)):new jn}function Fn(e,t,n,i){return 1===arguments.length?Bn(e):new jn(e,t,n,null==i?1:i)}function jn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Un(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}`}function zn(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}${Gn(255*(isNaN(this.opacity)?1:this.opacity))}`}function qn(){const e=Vn(this.opacity);return`${1===e?"rgb(":"rgba("}${Hn(this.r)}, ${Hn(this.g)}, ${Hn(this.b)}${1===e?")":`, ${e})`}`}function Vn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gn(e){return e=Hn(e),(e<16?"0":"")+e.toString(16)}function Wn(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yn(e,t,n,i)}function $n(e){if(e instanceof Yn)return new Yn(e.h,e.s,e.l,e.opacity);if(e instanceof gn||(e=Dn(e)),!e)return new Yn;if(e instanceof Yn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Yn(s,a,l,e.opacity)}function Xn(e,t,n,i){return 1===arguments.length?$n(e):new Yn(e,t,n,null==i?1:i)}function Yn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Kn(e){return e=(e||0)%360,e<0?e+360:e}function Qn(e){return Math.max(0,Math.min(1,e||0))}function Jn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Zn(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}pn(gn,Dn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kn,formatHex:kn,formatHex8:Pn,formatHsl:In,formatRgb:Rn,toString:Rn}),pn(jn,Fn,mn(gn,{brighter(e){return e=null==e?yn:Math.pow(yn,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?An:Math.pow(An,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jn(Hn(this.r),Hn(this.g),Hn(this.b),Vn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Un,formatHex:Un,formatHex8:zn,formatRgb:qn,toString:qn})),pn(Yn,Xn,mn(gn,{brighter(e){return e=null==e?yn:Math.pow(yn,e),new Yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?An:Math.pow(An,e),new Yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new jn(Jn(e>=240?e-240:e+120,r,i),Jn(e,r,i),Jn(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Yn(Kn(this.h),Qn(this.s),Qn(this.l),Vn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vn(this.opacity);return`${1===e?"hsl(":"hsla("}${Kn(this.h)}, ${100*Qn(this.s)}%, ${100*Qn(this.l)}%${1===e?")":`, ${e})`}`}}));var ei=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],s=i>0?e[i-1]:2*r-o,a=i<t-1?e[i+2]:2*o-r;return Zn((n-i/t)*t,s,r,o,a)}},ti=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],a=e[(i+2)%t];return Zn((n-i/t)*t,r,o,s,a)}},ni=e=>()=>e;function ii(e,t){return function(n){return e+n*t}}function ri(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function oi(e){return 1===(e=+e)?si:function(t,n){return n-t?ri(t,n,e):ni(isNaN(t)?n:t)}}function si(e,t){var n=t-e;return n?ii(e,n):ni(isNaN(e)?t:e)}var ai=function e(t){var n=oi(t);function i(e,t){var i=n((e=Fn(e)).r,(t=Fn(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),s=si(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function li(e){return function(t){var n,i,r=t.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=Fn(t[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=e(o),s=e(s),a=e(a),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=a(e),i+""}}}li(ei),li(ti);var ci=function(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}};function ui(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var hi=function(e,t){return(ui(t)?ci:di)(e,t)};function di(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=_i(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<r;++n)s[n]=o[n](e);return s}}var fi=function(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}},pi=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},mi=function(e,t){var n,i={},r={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=_i(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ai=new RegExp(gi.source,"g");function yi(e){return function(){return e}}function vi(e){return function(t){return e(t)+""}}var bi=function(e,t){var n,i,r,o=gi.lastIndex=Ai.lastIndex=0,s=-1,a=[],l=[];e+="",t+="";while((n=gi.exec(e))&&(i=Ai.exec(t)))(r=i.index)>o&&(r=t.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:pi(n,i)})),o=Ai.lastIndex;return o<t.length&&(r=t.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?vi(l[0].x):yi(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)a[(n=l[i]).i]=n.x(e);return a.join("")})},_i=function(e,t){var n,i=typeof t;return null==t||"boolean"===i?ni(t):("number"===i?pi:"string"===i?(n=Dn(t))?(t=n,ai):bi:t instanceof Dn?ai:t instanceof Date?fi:ui(t)?ci:Array.isArray(t)?di:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?mi:pi)(e,t)},wi=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}};function xi(e){return function(){return e}}function Si(e){return+e}var Ti=[0,1];function Ei(e){return e}function Mi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xi(isNaN(t)?NaN:.5)}function Ci(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}function Oi(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=Mi(r,i),o=n(s,o)):(i=Mi(i,r),o=n(o,s)),function(e){return o(i(e))}}function ki(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++s<i)r[s]=Mi(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=fn(e,t,1,i)-1;return o[n](r[n](t))}}function Pi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ii(){var e,t,n,i,r,o,s=Ti,a=Ti,l=_i,c=Ei;function u(){var e=Math.min(s.length,a.length);return c!==Ei&&(c=Ci(s[0],s[e-1])),i=e>2?ki:Oi,r=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(r||(r=i(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=i(a,s.map(e),pi)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,Si),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=wi,u()},h.clamp=function(e){return arguments.length?(c=!!e||Ei,u()):c!==Ei},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,i){return e=n,t=i,u()}}function Ri(){return Ii()(Ei,Ei)}function Di(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Li=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ni(e){if(!(t=Li.exec(e)))throw new Error("invalid format: "+e);var t;return new Bi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Bi(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}Ni.prototype=Bi.prototype,Bi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Fi=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)};function ji(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}var Ui,zi,qi,Vi,Hi=function(e){return e=ji(Math.abs(e)),e?e[1]:NaN},Gi=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hi(t)/3)))-Hi(Math.abs(e)))},Wi=function(e,t){return function(n,i){var r=n.length,o=[],s=0,a=e[0],l=0;while(r>0&&a>0){if(l+a+1>i&&(a=Math.max(1,i-l)),o.push(n.substring(r-=a,r+a)),(l+=a+1)>i)break;a=e[s=(s+1)%e.length]}return o.reverse().join(t)}},$i=function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}},Xi=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(t+1):e},Yi=function(e,t){var n=ji(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(Ui=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+ji(e,Math.max(0,t+o-1))[0]},Ki=function(e,t){var n=ji(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Qi={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Fi,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ki(100*e,t),r:Ki,s:Yi,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)},Ji=function(e){return e},Zi=Array.prototype.map,er=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],tr=function(e){var t=void 0===e.grouping||void 0===e.thousands?Ji:Wi(Zi.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",r=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Ji:$i(Zi.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",a=void 0===e.minus?"−":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function c(e){e=Ni(e);var c=e.fill,u=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,A=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Qi[y]||(void 0===g&&(g=12),A=!0,y="g"),(f||"0"===c&&"="===u)&&(f=!0,c="0",u="=");var v="$"===d?n:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?i:/[%p]/.test(y)?s:"",_=Qi[y],w=/[defgprs%]/.test(y);function x(e){var n,i,s,d=v,x=b;if("c"===y)x=_(e)+x,e="";else{e=+e;var S=e<0||1/e<0;if(e=isNaN(e)?l:_(Math.abs(e),g),A&&(e=Xi(e)),S&&0===+e&&"+"!==h&&(S=!1),d=(S?"("===h?h:a:"-"===h||"("===h?"":h)+d,x=("s"===y?er[8+Ui/3]:"")+x+(S&&"("===h?")":""),w){n=-1,i=e.length;while(++n<i)if(s=e.charCodeAt(n),48>s||s>57){x=(46===s?r+e.slice(n+1):e.slice(n))+x,e=e.slice(0,n);break}}}m&&!f&&(e=t(e,1/0));var T=d.length+e.length+x.length,E=T<p?new Array(p-T+1).join(c):"";switch(m&&f&&(e=t(E+e,E.length?p-x.length:1/0),E=""),u){case"<":e=d+e+x+E;break;case"=":e=d+E+e+x;break;case"^":e=E.slice(0,T=E.length>>1)+d+e+x+E.slice(T);break;default:e=E+d+e+x;break}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}function u(e,t){var n=c((e=Ni(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Hi(t)/3))),r=Math.pow(10,-i),o=er[8+i/3];return function(e){return n(r*e)+o}}return{format:c,formatPrefix:u}};function nr(e){return zi=tr(e),qi=zi.format,Vi=zi.formatPrefix,zi}nr({thousands:",",grouping:[3],currency:["$",""]});var ir=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hi(t)-Hi(e))+1},rr=function(e){return Math.max(0,-Hi(Math.abs(e)))};function or(e,t,n,i){var r,o=on(e,t,n);switch(i=Ni(null==i?",f":i),i.type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=Gi(o,s))||(i.precision=r),Vi(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=ir(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=rr(o))||(i.precision=r-2*("%"===i.type));break}return qi(i)}function sr(e){var t=e.domain;return e.ticks=function(e){var n=t();return nn(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return or(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;c<l&&(r=l,l=c,c=r,r=s,s=a,a=r);while(u-- >0){if(r=rn(l,c,n),r===i)return o[s]=l,o[a]=c,t(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function ar(){var e=Ri();return e.copy=function(){return Pi(e,ar())},Di.apply(e,arguments),sr(e)}function*lr(e){for(const t of e)yield*t}function cr(e){return Array.from(lr(e))}function ur(e,t){let n=0,i=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(o=+o)>=o&&(++n,i+=o)}if(n)return i/n}function hr(e,t){let n,i;if(void 0===t)for(const r of e)null!=r&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(void 0===n?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}return[n,i]}const dr=11102230246251565e-32,fr=134217729,pr=(3+8*dr)*dr;function mr(e,t,n,i,r){let o,s,a,l,c=t[0],u=i[0],h=0,d=0;u>c===u>-c?(o=c,c=t[++h]):(o=u,u=i[++d]);let f=0;if(h<e&&d<n){u>c===u>-c?(s=c+o,a=o-(s-c),c=t[++h]):(s=u+o,a=o-(s-u),u=i[++d]),o=s,0!==a&&(r[f++]=a);while(h<e&&d<n)u>c===u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++h]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=i[++d]),o=s,0!==a&&(r[f++]=a)}while(h<e)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++h],o=s,0!==a&&(r[f++]=a);while(d<n)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=i[++d],o=s,0!==a&&(r[f++]=a);return 0===o&&0!==f||(r[f++]=o),f}function gr(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}function Ar(e){return new Float64Array(e)}const yr=(3+16*dr)*dr,vr=(2+12*dr)*dr,br=(9+64*dr)*dr*dr,_r=Ar(4),wr=Ar(8),xr=Ar(12),Sr=Ar(16),Tr=Ar(4);function Er(e,t,n,i,r,o,s){let a,l,c,u,h,d,f,p,m,g,A,y,v,b,_,w,x,S;const T=e-r,E=n-r,M=t-o,C=i-o;b=T*C,d=fr*T,f=d-(d-T),p=T-f,d=fr*C,m=d-(d-C),g=C-m,_=p*g-(b-f*m-p*m-f*g),w=M*E,d=fr*M,f=d-(d-M),p=M-f,d=fr*E,m=d-(d-E),g=E-m,x=p*g-(w-f*m-p*m-f*g),A=_-x,h=_-A,_r[0]=_-(A+h)+(h-x),y=b+A,h=y-b,v=b-(y-h)+(A-h),A=v-w,h=v-A,_r[1]=v-(A+h)+(h-w),S=y+A,h=S-y,_r[2]=y-(S-h)+(A-h),_r[3]=S;let O=gr(4,_r),k=vr*s;if(O>=k||-O>=k)return O;if(h=e-T,a=e-(T+h)+(h-r),h=n-E,c=n-(E+h)+(h-r),h=t-M,l=t-(M+h)+(h-o),h=i-C,u=i-(C+h)+(h-o),0===a&&0===l&&0===c&&0===u)return O;if(k=br*s+pr*Math.abs(O),O+=T*u+C*a-(M*c+E*l),O>=k||-O>=k)return O;b=a*C,d=fr*a,f=d-(d-a),p=a-f,d=fr*C,m=d-(d-C),g=C-m,_=p*g-(b-f*m-p*m-f*g),w=l*E,d=fr*l,f=d-(d-l),p=l-f,d=fr*E,m=d-(d-E),g=E-m,x=p*g-(w-f*m-p*m-f*g),A=_-x,h=_-A,Tr[0]=_-(A+h)+(h-x),y=b+A,h=y-b,v=b-(y-h)+(A-h),A=v-w,h=v-A,Tr[1]=v-(A+h)+(h-w),S=y+A,h=S-y,Tr[2]=y-(S-h)+(A-h),Tr[3]=S;const P=mr(4,_r,4,Tr,wr);b=T*u,d=fr*T,f=d-(d-T),p=T-f,d=fr*u,m=d-(d-u),g=u-m,_=p*g-(b-f*m-p*m-f*g),w=M*c,d=fr*M,f=d-(d-M),p=M-f,d=fr*c,m=d-(d-c),g=c-m,x=p*g-(w-f*m-p*m-f*g),A=_-x,h=_-A,Tr[0]=_-(A+h)+(h-x),y=b+A,h=y-b,v=b-(y-h)+(A-h),A=v-w,h=v-A,Tr[1]=v-(A+h)+(h-w),S=y+A,h=S-y,Tr[2]=y-(S-h)+(A-h),Tr[3]=S;const I=mr(P,wr,4,Tr,xr);b=a*u,d=fr*a,f=d-(d-a),p=a-f,d=fr*u,m=d-(d-u),g=u-m,_=p*g-(b-f*m-p*m-f*g),w=l*c,d=fr*l,f=d-(d-l),p=l-f,d=fr*c,m=d-(d-c),g=c-m,x=p*g-(w-f*m-p*m-f*g),A=_-x,h=_-A,Tr[0]=_-(A+h)+(h-x),y=b+A,h=y-b,v=b-(y-h)+(A-h),A=v-w,h=v-A,Tr[1]=v-(A+h)+(h-w),S=y+A,h=S-y,Tr[2]=y-(S-h)+(A-h),Tr[3]=S;const R=mr(I,xr,4,Tr,Sr);return Sr[R-1]}function Mr(e,t,n,i,r,o){const s=(t-o)*(n-r),a=(e-r)*(i-o),l=s-a;if(0===s||0===a||s>0!==a>0)return l;const c=Math.abs(s+a);return Math.abs(l)>=yr*c?l:-Er(e,t,n,i,r,o,c)}Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(8),Ar(8),Ar(8),Ar(4),Ar(8),Ar(8),Ar(8),Ar(12);Ar(192),Ar(192);Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(8),Ar(8),Ar(8),Ar(8),Ar(8),Ar(8),Ar(8),Ar(8),Ar(8),Ar(4),Ar(4),Ar(4),Ar(8),Ar(16),Ar(16),Ar(16),Ar(32),Ar(32),Ar(48),Ar(64);Ar(1152),Ar(1152);Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(4),Ar(24),Ar(24),Ar(24),Ar(24),Ar(24),Ar(24),Ar(24),Ar(24),Ar(24),Ar(24),Ar(1152),Ar(1152),Ar(1152),Ar(1152),Ar(1152),Ar(2304),Ar(2304),Ar(3456),Ar(5760),Ar(8),Ar(8),Ar(8),Ar(16),Ar(24),Ar(48),Ar(48),Ar(96),Ar(192),Ar(384),Ar(384),Ar(384),Ar(768);Ar(96),Ar(96),Ar(96),Ar(1152);const Cr=Math.pow(2,-52),Or=new Uint32Array(512);class kr{static from(e,t=Fr,n=jr){const i=e.length,r=new Float64Array(2*i);for(let o=0;o<i;o++){const i=e[o];r[2*o]=t(i),r[2*o+1]=n(i)}return new kr(r)}constructor(e){const t=e.length>>1;if(t>0&&"number"!==typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:i,_hullHash:r}=this,o=e.length>>1;let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let T=0;T<o;T++){const t=e[2*T],n=e[2*T+1];t<s&&(s=t),n<a&&(a=n),t>l&&(l=t),n>c&&(c=n),this._ids[T]=T}const u=(s+l)/2,h=(a+c)/2;let d,f,p,m=1/0;for(let T=0;T<o;T++){const t=Ir(u,h,e[2*T],e[2*T+1]);t<m&&(d=T,m=t)}const g=e[2*d],A=e[2*d+1];m=1/0;for(let T=0;T<o;T++){if(T===d)continue;const t=Ir(g,A,e[2*T],e[2*T+1]);t<m&&t>0&&(f=T,m=t)}let y=e[2*f],v=e[2*f+1],b=1/0;for(let T=0;T<o;T++){if(T===d||T===f)continue;const t=Dr(g,A,y,v,e[2*T],e[2*T+1]);t<b&&(p=T,b=t)}let _=e[2*p],w=e[2*p+1];if(b===1/0){for(let i=0;i<o;i++)this._dists[i]=e[2*i]-e[0]||e[2*i+1]-e[1];Nr(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,i=-1/0;e<o;e++){const r=this._ids[e];this._dists[r]>i&&(t[n++]=r,i=this._dists[r])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Mr(g,A,y,v,_,w)<0){const e=f,t=y,n=v;f=p,y=_,v=w,p=e,_=t,w=n}const x=Lr(g,A,y,v,_,w);this._cx=x.x,this._cy=x.y;for(let T=0;T<o;T++)this._dists[T]=Ir(e[2*T],e[2*T+1],x.x,x.y);Nr(this._ids,this._dists,0,o-1),this._hullStart=d;let S=3;n[d]=t[p]=f,n[f]=t[d]=p,n[p]=t[f]=d,i[d]=0,i[f]=1,i[p]=2,r.fill(-1),r[this._hashKey(g,A)]=d,r[this._hashKey(y,v)]=f,r[this._hashKey(_,w)]=p,this.trianglesLen=0,this._addTriangle(d,f,p,-1,-1,-1);for(let T,E,M=0;M<this._ids.length;M++){const o=this._ids[M],s=e[2*o],a=e[2*o+1];if(M>0&&Math.abs(s-T)<=Cr&&Math.abs(a-E)<=Cr)continue;if(T=s,E=a,o===d||o===f||o===p)continue;let l=0;for(let e=0,t=this._hashKey(s,a);e<this._hashSize;e++)if(l=r[(t+e)%this._hashSize],-1!==l&&l!==n[l])break;l=t[l];let c,u=l;while(c=n[u],Mr(s,a,e[2*u],e[2*u+1],e[2*c],e[2*c+1])>=0)if(u=c,u===l){u=-1;break}if(-1===u)continue;let h=this._addTriangle(u,o,n[u],-1,-1,i[u]);i[o]=this._legalize(h+2),i[u]=h,S++;let m=n[u];while(c=n[m],Mr(s,a,e[2*m],e[2*m+1],e[2*c],e[2*c+1])<0)h=this._addTriangle(m,o,c,i[o],-1,i[m]),i[o]=this._legalize(h+2),n[m]=m,S--,m=c;if(u===l)while(c=t[u],Mr(s,a,e[2*c],e[2*c+1],e[2*u],e[2*u+1])<0)h=this._addTriangle(c,o,u,-1,i[u],i[c]),this._legalize(h+2),i[c]=h,n[u]=u,S--,u=c;this._hullStart=t[o]=u,n[u]=t[m]=o,n[o]=m,r[this._hashKey(s,a)]=o,r[this._hashKey(e[2*u],e[2*u+1])]=u}this.hull=new Uint32Array(S);for(let T=0,E=this._hullStart;T<S;T++)this.hull[T]=E,E=n[E];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(Pr(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:i}=this;let r=0,o=0;while(1){const s=n[e],a=e-e%3;if(o=a+(e+2)%3,-1===s){if(0===r)break;e=Or[--r];continue}const l=s-s%3,c=a+(e+1)%3,u=l+(s+2)%3,h=t[o],d=t[e],f=t[c],p=t[u],m=Rr(i[2*h],i[2*h+1],i[2*d],i[2*d+1],i[2*f],i[2*f+1],i[2*p],i[2*p+1]);if(m){t[e]=p,t[s]=h;const i=n[u];if(-1===i){let t=this._hullStart;do{if(this._hullTri[t]===u){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,i),this._link(s,n[o]),this._link(o,u);const a=l+(s+1)%3;r<Or.length&&(Or[r++]=a)}else{if(0===r)break;e=Or[--r]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,i,r,o){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,i),this._link(s+1,r),this._link(s+2,o),this.trianglesLen+=3,s}}function Pr(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Ir(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}function Rr(e,t,n,i,r,o,s,a){const l=e-s,c=t-a,u=n-s,h=i-a,d=r-s,f=o-a,p=l*l+c*c,m=u*u+h*h,g=d*d+f*f;return l*(h*g-m*f)-c*(u*g-m*d)+p*(u*f-h*d)<0}function Dr(e,t,n,i,r,o){const s=n-e,a=i-t,l=r-e,c=o-t,u=s*s+a*a,h=l*l+c*c,d=.5/(s*c-a*l),f=(c*u-a*h)*d,p=(s*h-l*u)*d;return f*f+p*p}function Lr(e,t,n,i,r,o){const s=n-e,a=i-t,l=r-e,c=o-t,u=s*s+a*a,h=l*l+c*c,d=.5/(s*c-a*l),f=e+(c*u-a*h)*d,p=t+(s*h-l*u)*d;return{x:f,y:p}}function Nr(e,t,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=e[r],o=t[i];let s=r-1;while(s>=n&&t[e[s]]>o)e[s+1]=e[s--];e[s+1]=i}else{const r=n+i>>1;let o=n+1,s=i;Br(e,r,o),t[e[n]]>t[e[i]]&&Br(e,n,i),t[e[o]]>t[e[i]]&&Br(e,o,i),t[e[n]]>t[e[o]]&&Br(e,n,o);const a=e[o],l=t[a];while(1){do{o++}while(t[e[o]]<l);do{s--}while(t[e[s]]>l);if(s<o)break;Br(e,o,s)}e[n+1]=e[s],e[s]=a,i-o+1>=s-n?(Nr(e,t,o,i),Nr(e,t,n,s-1)):(Nr(e,t,n,s-1),Nr(e,t,o,i))}}function Br(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function Fr(e){return e[0]}function jr(e){return e[1]}var Ur,zr,qr,Vr,Hr,Gr=n("fb61"),Wr=n.n(Gr),$r=new I,Xr=new I,Yr={point:Z,lineStart:Z,lineEnd:Z,polygonStart:function(){$r=new I,Yr.lineStart=Kr,Yr.lineEnd=Qr},polygonEnd:function(){var e=+$r;Xr.add(e<0?F+e:e),this.lineStart=this.lineEnd=this.point=Z},sphere:function(){Xr.add(F)}};function Kr(){Yr.point=Jr}function Qr(){Zr(Ur,zr)}function Jr(e,t){Yr.point=Zr,Ur=e,zr=t,e*=U,t*=U,qr=e,Vr=H(t=t/2+B),Hr=$(t)}function Zr(e,t){e*=U,t*=U,t=t/2+B;var n=e-qr,i=n>=0?1:-1,r=i*n,o=H(t),s=$(t),a=Hr*s,l=Vr*o+a*H(r),c=a*i*$(r);$r.add(V(c,l)),qr=e,Vr=o,Hr=s}var eo,to,no,io,ro,oo,so,ao,lo,co,uo;function ho(e){return[V(e[1],e[0]),Q(e[2])]}function fo(e){var t=e[0],n=e[1],i=H(n);return[i*H(t),i*$(t),$(n)]}function po(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function go(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ao(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function yo(e){var t=Y(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var vo={point:bo,lineStart:wo,lineEnd:xo,polygonStart:function(){vo.point=So,vo.lineStart=To,vo.lineEnd=Eo,lo=new I,Yr.polygonStart()},polygonEnd:function(){Yr.polygonEnd(),vo.point=bo,vo.lineStart=wo,vo.lineEnd=xo,$r<0?(eo=-(no=180),to=-(io=90)):lo>R?io=90:lo<-R&&(to=-90),uo[0]=eo,uo[1]=no},sphere:function(){eo=-(no=180),to=-(io=90)}};function bo(e,t){co.push(uo=[eo=e,no=e]),t<to&&(to=t),t>io&&(io=t)}function _o(e,t){var n=fo([e*U,t*U]);if(ao){var i=mo(ao,n),r=[i[1],-i[0],0],o=mo(r,i);yo(o),o=ho(o);var s,a=e-ro,l=a>0?1:-1,c=o[0]*j*l,u=z(a)>180;u^(l*ro<c&&c<l*e)?(s=o[1]*j,s>io&&(io=s)):(c=(c+360)%360-180,u^(l*ro<c&&c<l*e)?(s=-o[1]*j,s<to&&(to=s)):(t<to&&(to=t),t>io&&(io=t))),u?e<ro?Mo(eo,e)>Mo(eo,no)&&(no=e):Mo(e,no)>Mo(eo,no)&&(eo=e):no>=eo?(e<eo&&(eo=e),e>no&&(no=e)):e>ro?Mo(eo,e)>Mo(eo,no)&&(no=e):Mo(e,no)>Mo(eo,no)&&(eo=e)}else co.push(uo=[eo=e,no=e]);t<to&&(to=t),t>io&&(io=t),ao=n,ro=e}function wo(){vo.point=_o}function xo(){uo[0]=eo,uo[1]=no,vo.point=bo,ao=null}function So(e,t){if(ao){var n=e-ro;lo.add(z(n)>180?n+(n>0?360:-360):n)}else oo=e,so=t;Yr.point(e,t),_o(e,t)}function To(){Yr.lineStart()}function Eo(){So(oo,so),Yr.lineEnd(),z(lo)>R&&(eo=-(no=180)),uo[0]=eo,uo[1]=no,ao=null}function Mo(e,t){return(t-=e)<0?t+360:t}function Co(e,t){return e[0]-t[0]}function Oo(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var ko=function(e){var t,n,i,r,o,s,a;if(io=no=-(eo=to=1/0),co=[],ce(e,vo),n=co.length){for(co.sort(Co),t=1,i=co[0],o=[i];t<n;++t)r=co[t],Oo(i,r[0])||Oo(i,r[1])?(Mo(i[0],r[1])>Mo(i[0],i[1])&&(i[1]=r[1]),Mo(r[0],i[1])>Mo(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,n=o.length-1,t=0,i=o[n];t<=n;i=r,++t)r=o[t],(a=Mo(i[1],r[0]))>s&&(s=a,eo=r[0],no=i[1])}return co=uo=null,eo===1/0||to===1/0?[[NaN,NaN],[NaN,NaN]]:[[eo,to],[no,io]]};function Po(e){return z(e[0])<=L?e[0]:X(e[0])*((z(e[0])+L)%F-L)}var Io=function(e,t){var n=Po(t),i=t[1],r=$(i),o=[$(n),-H(n),0],s=0,a=0,l=new I;1===r?i=N+R:-1===r&&(i=-N-R);for(var c=0,u=e.length;c<u;++c)if(d=(h=e[c]).length)for(var h,d,f=h[d-1],p=Po(f),m=f[1]/2+B,g=$(m),A=H(m),y=0;y<d;++y,p=b,g=w,A=x,f=v){var v=h[y],b=Po(v),_=v[1]/2+B,w=$(_),x=H(_),S=b-p,T=S>=0?1:-1,E=T*S,M=E>L,C=g*w;if(l.add(V(C*T*$(E),A*x+C*H(E))),s+=M?S+T*F:S,M^p>=n^b>=n){var O=mo(fo(f),fo(v));yo(O);var k=mo(o,O);yo(k);var P=(M^S>=0?-1:1)*Q(k[2]);(i>P||i===P&&(O[0]||O[1]))&&(a+=M^S>=0?1:-1)}}return(s<-R||s<R&&l<-D)^1&a},Ro={Feature:function(e,t){return Lo(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,i=-1,r=n.length;while(++i<r)if(Lo(n[i].geometry,t))return!0;return!1}},Do={Sphere:function(){return!0},Point:function(e,t){return No(e.coordinates,t)},MultiPoint:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)if(No(n[i],t))return!0;return!1},LineString:function(e,t){return Bo(e.coordinates,t)},MultiLineString:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)if(Bo(n[i],t))return!0;return!1},Polygon:function(e,t){return Fo(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,i=-1,r=n.length;while(++i<r)if(Fo(n[i],t))return!0;return!1},GeometryCollection:function(e,t){var n=e.geometries,i=-1,r=n.length;while(++i<r)if(Lo(n[i],t))return!0;return!1}};function Lo(e,t){return!(!e||!Do.hasOwnProperty(e.type))&&Do[e.type](e,t)}function No(e,t){return 0===ye(e,t)}function Bo(e,t){for(var n,i,r,o=0,s=e.length;o<s;o++){if(i=ye(e[o],t),0===i)return!0;if(o>0&&(r=ye(e[o],e[o-1]),r>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<D*r))return!0;n=i}return!1}function Fo(e,t){return!!Io(e.map(jo),Uo(t))}function jo(e){return e=e.map(Uo),e.pop(),e}function Uo(e){return[e[0]*U,e[1]*U]}var zo,qo,Vo,Ho,Go,Wo,$o,Xo,Yo,Ko,Qo,Jo,Zo,es,ts,ns,is=function(e,t){return(e&&Ro.hasOwnProperty(e.type)?Ro[e.type]:Lo)(e,t)},rs={sphere:Z,point:os,lineStart:as,lineEnd:us,polygonStart:function(){rs.lineStart=hs,rs.lineEnd=ds},polygonEnd:function(){rs.lineStart=as,rs.lineEnd=us}};function os(e,t){e*=U,t*=U;var n=H(t);ss(n*H(e),n*$(e),$(t))}function ss(e,t,n){++zo,Vo+=(e-Vo)/zo,Ho+=(t-Ho)/zo,Go+=(n-Go)/zo}function as(){rs.point=ls}function ls(e,t){e*=U,t*=U;var n=H(t);es=n*H(e),ts=n*$(e),ns=$(t),rs.point=cs,ss(es,ts,ns)}function cs(e,t){e*=U,t*=U;var n=H(t),i=n*H(e),r=n*$(e),o=$(t),s=V(Y((s=ts*o-ns*r)*s+(s=ns*i-es*o)*s+(s=es*r-ts*i)*s),es*i+ts*r+ns*o);qo+=s,Wo+=s*(es+(es=i)),$o+=s*(ts+(ts=r)),Xo+=s*(ns+(ns=o)),ss(es,ts,ns)}function us(){rs.point=os}function hs(){rs.point=fs}function ds(){ps(Jo,Zo),rs.point=os}function fs(e,t){Jo=e,Zo=t,e*=U,t*=U,rs.point=ps;var n=H(t);es=n*H(e),ts=n*$(e),ns=$(t),ss(es,ts,ns)}function ps(e,t){e*=U,t*=U;var n=H(t),i=n*H(e),r=n*$(e),o=$(t),s=ts*o-ns*r,a=ns*i-es*o,l=es*r-ts*i,c=W(s,a,l),u=Q(c),h=c&&-u/c;Yo.add(h*s),Ko.add(h*a),Qo.add(h*l),qo+=u,Wo+=u*(es+(es=i)),$o+=u*(ts+(ts=r)),Xo+=u*(ns+(ns=o)),ss(es,ts,ns)}var ms=function(e){zo=qo=Vo=Ho=Go=Wo=$o=Xo=0,Yo=new I,Ko=new I,Qo=new I,ce(e,rs);var t=+Yo,n=+Ko,i=+Qo,r=W(t,n,i);return r<D&&(t=Wo,n=$o,i=Xo,qo<R&&(t=Vo,n=Ho,i=Go),r=W(t,n,i),r<D)?[NaN,NaN]:[V(n,t)*j,Q(i/r)*j]};const gs=1e-6;class As{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){e=+e,t=+t,n=+n;const i=e+n,r=t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${i},${r}`:(Math.abs(this._x1-i)>gs||Math.abs(this._y1-r)>gs)&&(this._+="L"+i+","+r),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=i},${this._y1=r}`)}rect(e,t,n,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class ys{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class vs{constructor(e,[t,n,i,r]=[0,0,960,500]){if(!((i=+i)>=(t=+t))||!((r=+r)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=i,this.xmin=t,this.ymax=r,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:i}=this,r=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let d,f,p=0,m=0,g=n.length;p<g;p+=3,m+=2){const t=2*n[p],i=2*n[p+1],o=2*n[p+2],s=e[t],a=e[t+1],l=e[i],c=e[i+1],u=e[o],h=e[o+1],g=l-s,A=c-a,y=u-s,v=h-a,b=2*(g*v-A*y);if(Math.abs(b)<1e-9){let t=1e9;const i=2*n[0];t*=Math.sign((e[i]-s)*v-(e[i+1]-a)*y),d=(s+u)/2-t*v,f=(a+h)/2+t*y}else{const e=1/b,t=g*g+A*A,n=y*y+v*v;d=s+(v*t-A*n)*e,f=a+(g*n-y*t)*e}r[m]=d,r[m+1]=f}let o,s,a,l=t[t.length-1],c=4*l,u=e[2*l],h=e[2*l+1];i.fill(0);for(let d=0;d<t.length;++d)l=t[d],o=c,s=u,a=h,c=4*l,u=e[2*l],h=e[2*l+1],i[o+2]=i[c]=a-h,i[o+3]=i[c+1]=u-s}render(e){const t=null==e?e=new As:void 0,{delaunay:{halfedges:n,inedges:i,hull:r},circumcenters:o,vectors:s}=this;if(r.length<=1)return null;for(let c=0,u=n.length;c<u;++c){const t=n[c];if(t<c)continue;const i=2*Math.floor(c/3),r=2*Math.floor(t/3),s=o[i],a=o[i+1],l=o[r],u=o[r+1];this._renderSegment(s,a,l,u,e)}let a,l=r[r.length-1];for(let c=0;c<r.length;++c){a=l,l=r[c];const t=2*Math.floor(i[l]/3),n=o[t],u=o[t+1],h=4*a,d=this._project(n,u,s[h+2],s[h+3]);d&&this._renderSegment(n,u,d[0],d[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new As:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new As:void 0,i=this._clip(e);if(null===i||!i.length)return;t.moveTo(i[0],i[1]);let r=i.length;while(i[0]===i[r-2]&&i[1]===i[r-1]&&r>1)r-=2;for(let o=2;o<r;o+=2)i[o]===i[o-2]&&i[o+1]===i[o-1]||t.lineTo(i[o],i[o+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new ys;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,i,r){let o;const s=this._regioncode(e,t),a=this._regioncode(n,i);0===s&&0===a?(r.moveTo(e,t),r.lineTo(n,i)):(o=this._clipSegment(e,t,n,i,s,a))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}contains(e,t,n){return t=+t,t===t&&(n=+n,n===n)&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let i=0,r=t.length;i<r;i+=2)for(let o=0,s=e.length;o<s;o+=2)if(t[i]==e[o]&&t[i+1]==e[o+1]&&t[(i+2)%r]==e[(o+s-2)%s]&&t[(i+3)%r]==e[(o+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:i,triangles:r}}=this,o=n[e];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(t[2*n],t[2*n+1]),a=a%3===2?a-2:a+1,r[a]!==e)break;a=i[a]}while(a!==o&&-1!==a);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,i=4*e;return n[i]||n[i+1]?this._clipInfinite(e,t,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let i,r,o,s,a=null,l=t[n-2],c=t[n-1],u=this._regioncode(l,c),h=0;for(let d=0;d<n;d+=2)if(i=l,r=c,l=t[d],c=t[d+1],o=u,u=this._regioncode(l,c),0===o&&0===u)s=h,h=0,a?a.push(l,c):a=[l,c];else{let t,n,d,f,p;if(0===o){if(null===(t=this._clipSegment(i,r,l,c,o,u)))continue;[n,d,f,p]=t}else{if(null===(t=this._clipSegment(l,c,i,r,u,o)))continue;[f,p,n,d]=t,s=h,h=this._edgecode(n,d),s&&h&&this._edge(e,s,h,a,a.length),a?a.push(n,d):a=[n,d]}s=h,h=this._edgecode(f,p),s&&h&&this._edge(e,s,h,a,a.length),a?a.push(f,p):a=[f,p]}if(a)s=h,h=this._edgecode(a[0],a[1]),s&&h&&this._edge(e,s,h,a,a.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(e,t,n,i,r,o){while(1){if(0===r&&0===o)return[e,t,n,i];if(r&o)return null;let s,a,l=r||o;8&l?(s=e+(n-e)*(this.ymax-t)/(i-t),a=this.ymax):4&l?(s=e+(n-e)*(this.ymin-t)/(i-t),a=this.ymin):2&l?(a=t+(i-t)*(this.xmax-e)/(n-e),s=this.xmax):(a=t+(i-t)*(this.xmin-e)/(n-e),s=this.xmin),r?(e=s,t=a,r=this._regioncode(e,t)):(n=s,i=a,o=this._regioncode(n,i))}}_clipInfinite(e,t,n,i,r,o){let s,a=Array.from(t);if((s=this._project(a[0],a[1],n,i))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],r,o))&&a.push(s[0],s[1]),a=this._clipFinite(e,a))for(let l,c=0,u=a.length,h=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)l=h,h=this._edgecode(a[c],a[c+1]),l&&h&&(c=this._edge(e,l,h,a,c),u=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,t,n,i,r){while(t!==n){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin;break}i[r]===n&&i[r+1]===o||!this.contains(e,n,o)||(i.splice(r,0,n,o),r+=2)}if(i.length>4)for(let o=0;o<i.length;o+=2){const e=(o+2)%i.length,t=(o+4)%i.length;(i[o]===i[e]&&i[e]===i[t]||i[o+1]===i[e+1]&&i[e+1]===i[t+1])&&(i.splice(e,2),o-=2)}return r}_project(e,t,n,i){let r,o,s,a=1/0;if(i<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/i)<a&&(s=this.ymin,o=e+(a=r)*n)}else if(i>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/i)<a&&(s=this.ymax,o=e+(a=r)*n)}if(n>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/n)<a&&(o=this.xmax,s=t+(a=r)*i)}else if(n<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/n)<a&&(o=this.xmin,s=t+(a=r)*i)}return[o,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const bs=2*Math.PI,_s=Math.pow;function ws(e){return e[0]}function xs(e){return e[1]}function Ss(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const e=2*t[i],r=2*t[i+1],o=2*t[i+2],s=(n[o]-n[e])*(n[r+1]-n[e+1])-(n[r]-n[e])*(n[o+1]-n[e+1]);if(s>1e-10)return!1}return!0}function Ts(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Es{static from(e,t=ws,n=xs,i){return new Es("length"in e?Ms(e,t,n,i):Float64Array.from(Cs(e,t,n,i)))}constructor(e){this._delaunator=new kr(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&Ss(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],i=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],r=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]);for(let o=0,s=t.length/2;o<s;++o){const e=Ts(t[2*o],t[2*o+1],r);t[2*o]=e[0],t[2*o+1]=e[1]}this._delaunator=new kr(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let a=0,l=n.length;a<l;++a){const e=r[a%3===2?a-2:a+1];-1!==n[a]&&-1!==o[e]||(o[e]=a)}for(let a=0,l=i.length;a<l;++a)s[i[a]]=a;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,2===i.length&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new vs(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:i,halfedges:r,triangles:o,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const a=t[e];if(-1===a)return;let l=a,c=-1;do{if(yield c=o[l],l=l%3===2?l-2:l+1,o[l]!==e)return;if(l=r[l],-1===l){const t=n[(i[e]+1)%n.length];return void(t!==c&&(yield t))}}while(l!==a)}find(e,t,n=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const i=n;let r;while((r=this._step(n,e,t))>=0&&r!==n&&r!==i)n=r;return r}_step(e,t,n){const{inedges:i,hull:r,_hullIndex:o,halfedges:s,triangles:a,points:l}=this;if(-1===i[e]||!l.length)return(e+1)%(l.length>>1);let c=e,u=_s(t-l[2*e],2)+_s(n-l[2*e+1],2);const h=i[e];let d=h;do{let i=a[d];const h=_s(t-l[2*i],2)+_s(n-l[2*i+1],2);if(h<u&&(u=h,c=i),d=d%3===2?d-2:d+1,a[d]!==e)break;if(d=s[d],-1===d){if(d=r[(o[e]+1)%r.length],d!==i&&_s(t-l[2*d],2)+_s(n-l[2*d+1],2)<u)return d;break}}while(d!==h);return c}render(e){const t=null==e?e=new As:void 0,{points:n,halfedges:i,triangles:r}=this;for(let o=0,s=i.length;o<s;++o){const t=i[o];if(t<o)continue;const s=2*r[o],a=2*r[t];e.moveTo(n[s],n[s+1]),e.lineTo(n[a],n[a+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"===typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;const n=null==e?e=new As:void 0,{points:i}=this;for(let r=0,o=i.length;r<o;r+=2){const n=i[r],o=i[r+1];e.moveTo(n+t,o),e.arc(n,o,t,0,bs)}return n&&n.value()}renderHull(e){const t=null==e?e=new As:void 0,{hull:n,points:i}=this,r=2*n[0],o=n.length;e.moveTo(i[r],i[r+1]);for(let s=1;s<o;++s){const t=2*n[s];e.lineTo(i[t],i[t+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new ys;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new As:void 0,{points:i,triangles:r}=this,o=2*r[e*=3],s=2*r[e+1],a=2*r[e+2];return t.moveTo(i[o],i[o+1]),t.lineTo(i[s],i[s+1]),t.lineTo(i[a],i[a+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new ys;return this.renderTriangle(e,t),t.value()}}function Ms(e,t,n,i){const r=e.length,o=new Float64Array(2*r);for(let s=0;s<r;++s){const r=e[s];o[2*s]=t.call(i,r,s,e),o[2*s+1]=n.call(i,r,s,e)}return o}function*Cs(e,t,n,i){let r=0;for(const o of e)yield t.call(i,o,r,e),yield n.call(i,o,r,e),++r}var Os=function(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n};function ks(e,t){return z(e)>L&&(e-=Math.round(e/F)*F),[e,t]}function Ps(e,t,n){return(e%=F)?t||n?Os(Rs(e),Ds(t,n)):Rs(e):t||n?Ds(t,n):ks}function Is(e){return function(t,n){return t+=e,z(t)>L&&(t-=Math.round(t/F)*F),[t,n]}}function Rs(e){var t=Is(e);return t.invert=Is(-e),t}function Ds(e,t){var n=H(e),i=$(e),r=H(t),o=$(t);function s(e,t){var s=H(t),a=H(e)*s,l=$(e)*s,c=$(t),u=c*n+a*i;return[V(l*r-u*o,a*n-c*i),Q(u*r+l*o)]}return s.invert=function(e,t){var s=H(t),a=H(e)*s,l=$(e)*s,c=$(t),u=c*r-l*o;return[V(l*r+c*o,a*n+u*i),Q(u*n-a*i)]},s}ks.invert=ks;var Ls=function(e){function t(t){return t=e(t[0]*U,t[1]*U),t[0]*=j,t[1]*=j,t}return e=Ps(e[0]*U,e[1]*U,e.length>2?e[2]*U:0),t.invert=function(t){return t=e.invert(t[0]*U,t[1]*U),t[0]*=j,t[1]*=j,t},t};function Ns(e){return function(t,n){var i=Y(t*t+n*n),r=e(i),o=$(r),s=H(r);return[V(t*o,i*s),Q(i&&n*o/i)]}}var Bs=function(){var e,t=[];return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){t.push(e=[])},lineEnd:Z,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},Fs=function(e,t){return z(e[0]-t[0])<R&&z(e[1]-t[1])<R};function js(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var Us=function(e,t,n,i,r){var o,s,a=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],s=e[t];if(Fs(i,s)){if(!i[2]&&!s[2]){for(r.lineStart(),o=0;o<t;++o)r.point((i=e[o])[0],i[1]);return void r.lineEnd()}s[0]+=2*R}a.push(n=new js(i,e,null,!0)),l.push(n.o=new js(i,null,n,!1)),a.push(n=new js(s,e,null,!1)),l.push(n.o=new js(s,null,n,!0))}})),a.length){for(l.sort(t),zs(a),zs(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;var c,u,h=a[0];while(1){var d=h,f=!0;while(d.v)if((d=d.n)===h)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,s=c.length;o<s;++o)r.point((u=c[o])[0],u[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,f=!f}while(!d.v);r.lineEnd()}}};function zs(e){if(t=e.length){var t,n,i=0,r=e[0];while(++i<t)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}var qs=function(e,t,n,i){return function(r){var o,s,a,l=t(r),c=Bs(),u=t(c),h=!1,d={point:f,lineStart:m,lineEnd:g,polygonStart:function(){d.point=A,d.lineStart=y,d.lineEnd=v,s=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=m,d.lineEnd=g,s=cr(s);var e=Io(o,i);s.length?(h||(r.polygonStart(),h=!0),Us(s,Hs,e,n,r)):e&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(t,n){e(t,n)&&r.point(t,n)}function p(e,t){l.point(e,t)}function m(){d.point=p,l.lineStart()}function g(){d.point=f,l.lineEnd()}function A(e,t){a.push([e,t]),u.point(e,t)}function y(){u.lineStart(),a=[]}function v(){A(a[0][0],a[0][1]),u.lineEnd();var e,t,n,i,l=u.clean(),d=c.result(),f=d.length;if(a.pop(),o.push(a),a=null,f)if(1&l){if(n=d[0],(t=n.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),e=0;e<t;++e)r.point((i=n[e])[0],i[1]);r.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),s.push(d.filter(Vs))}return d}};function Vs(e){return e.length>1}function Hs(e,t){return((e=e.x)[0]<0?e[1]-N-R:N-e[1])-((t=t.x)[0]<0?t[1]-N-R:N-t[1])}var Gs=qs((function(){return!0}),Ws,Xs,[-L,-N]);function Ws(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a=o>0?L:-L,l=z(o-n);z(l-L)<R?(e.point(n,i=(i+s)/2>0?N:-N),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),e.point(o,i),t=0):r!==a&&l>=L&&(z(n-r)<R&&(n-=r*R),z(o-a)<R&&(o-=a*R),i=$s(n,i,o,s),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),t=0),e.point(n=o,i=s),r=a},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}function $s(e,t,n,i){var r,o,s=$(e-n);return z(s)>R?q(($(t)*(o=H(i))*$(n)-$(i)*(r=H(t))*$(e))/(r*o*s)):(t+i)/2}function Xs(e,t,n,i){var r;if(null==e)r=n*N,i.point(-L,r),i.point(0,r),i.point(L,r),i.point(L,0),i.point(L,-r),i.point(0,-r),i.point(-L,-r),i.point(-L,0),i.point(-L,r);else if(z(e[0]-t[0])>R){var o=e[0]<t[0]?L:-L;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function Ys(e,t,n,i,r,o){if(n){var s=H(t),a=$(t),l=i*n;null==r?(r=t+i*F,o=t-l/2):(r=Ks(s,r),o=Ks(s,o),(i>0?r<o:r>o)&&(r+=i*F));for(var c,u=r;i>0?u>o:u<o;u-=l)c=ho([s,-a*H(u),-a*$(u)]),e.point(c[0],c[1])}}function Ks(e,t){t=fo(t),t[0]-=e,yo(t);var n=K(-t[1]);return((-t[2]<0?-n:n)+F-R)%F}var Qs=function(e){var t=H(e),n=6*U,i=t>0,r=z(t)>R;function o(t,i,r,o){Ys(o,e,n,r,t,i)}function s(e,n){return H(e)*H(n)>t}function a(e){var t,n,o,a,u;return{lineStart:function(){a=o=!1,u=1},point:function(h,d){var f,p=[h,d],m=s(h,d),g=i?m?0:c(h,d):m?c(h+(h<0?L:-L),d):0;if(!t&&(a=o=m)&&e.lineStart(),m!==o&&(f=l(t,p),(!f||Fs(t,f)||Fs(p,f))&&(p[2]=1)),m!==o)u=0,m?(e.lineStart(),f=l(p,t),e.point(f[0],f[1])):(f=l(t,p),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(r&&t&&i^m){var A;g&n||!(A=l(p,t,!0))||(u=0,i?(e.lineStart(),e.point(A[0][0],A[0][1]),e.point(A[1][0],A[1][1]),e.lineEnd()):(e.point(A[1][0],A[1][1]),e.lineEnd(),e.lineStart(),e.point(A[0][0],A[0][1],3)))}!m||t&&Fs(t,p)||e.point(p[0],p[1]),t=p,o=m,n=g},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return u|(a&&o)<<1}}}function l(e,n,i){var r=fo(e),o=fo(n),s=[1,0,0],a=mo(r,o),l=po(a,a),c=a[0],u=l-c*c;if(!u)return!i&&e;var h=t*l/u,d=-t*c/u,f=mo(s,a),p=Ao(s,h),m=Ao(a,d);go(p,m);var g=f,A=po(p,g),y=po(g,g),v=A*A-y*(po(p,p)-1);if(!(v<0)){var b=Y(v),_=Ao(g,(-A-b)/y);if(go(_,p),_=ho(_),!i)return _;var w,x=e[0],S=n[0],T=e[1],E=n[1];S<x&&(w=x,x=S,S=w);var M=S-x,C=z(M-L)<R,O=C||M<R;if(!C&&E<T&&(w=T,T=E,E=w),O?C?T+E>0^_[1]<(z(_[0]-x)<R?T:E):T<=_[1]&&_[1]<=E:M>L^(x<=_[0]&&_[0]<=S)){var k=Ao(g,(-A+b)/y);return go(k,p),[_,ho(k)]}}}function c(t,n){var r=i?e:L-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return qs(s,a,o,i?[0,-e]:[-L,e-L])},Js=function(e,t,n,i,r,o){var s,a=e[0],l=e[1],c=t[0],u=t[1],h=0,d=1,f=c-a,p=u-l;if(s=n-a,f||!(s>0)){if(s/=f,f<0){if(s<h)return;s<d&&(d=s)}else if(f>0){if(s>d)return;s>h&&(h=s)}if(s=r-a,f||!(s<0)){if(s/=f,f<0){if(s>d)return;s>h&&(h=s)}else if(f>0){if(s<h)return;s<d&&(d=s)}if(s=i-l,p||!(s>0)){if(s/=p,p<0){if(s<h)return;s<d&&(d=s)}else if(p>0){if(s>d)return;s>h&&(h=s)}if(s=o-l,p||!(s<0)){if(s/=p,p<0){if(s>d)return;s>h&&(h=s)}else if(p>0){if(s<h)return;s<d&&(d=s)}return h>0&&(e[0]=a+h*f,e[1]=l+h*p),d<1&&(t[0]=a+d*f,t[1]=l+d*p),!0}}}}},Zs=1e9,ea=-Zs;function ta(e,t,n,i){function r(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function o(r,o,a,c){var u=0,h=0;if(null==r||(u=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{c.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+a+4)%4)!==h);else c.point(o[0],o[1])}function s(i,r){return z(i[0]-e)<R?r>0?0:3:z(i[0]-n)<R?r>0?2:1:z(i[1]-t)<R?r>0?1:0:r>0?3:2}function a(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),i=s(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var l,c,u,h,d,f,p,m,g,A,y,v=s,b=Bs(),_={point:w,lineStart:E,lineEnd:M,polygonStart:S,polygonEnd:T};function w(e,t){r(e,t)&&v.point(e,t)}function x(){for(var t=0,n=0,r=c.length;n<r;++n)for(var o,s,a=c[n],l=1,u=a.length,h=a[0],d=h[0],f=h[1];l<u;++l)o=d,s=f,h=a[l],d=h[0],f=h[1],s<=i?f>i&&(d-o)*(i-s)>(f-s)*(e-o)&&++t:f<=i&&(d-o)*(i-s)<(f-s)*(e-o)&&--t;return t}function S(){v=b,l=[],c=[],y=!0}function T(){var e=x(),t=y&&e,n=(l=cr(l)).length;(t||n)&&(s.polygonStart(),t&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),n&&Us(l,a,e,o,s),s.polygonEnd()),v=s,l=c=u=null}function E(){_.point=C,c&&c.push(u=[]),A=!0,g=!1,p=m=NaN}function M(){l&&(C(h,d),f&&g&&b.rejoin(),l.push(b.result())),_.point=w,g&&v.lineEnd()}function C(o,s){var a=r(o,s);if(c&&u.push([o,s]),A)h=o,d=s,f=a,A=!1,a&&(v.lineStart(),v.point(o,s));else if(a&&g)v.point(o,s);else{var l=[p=Math.max(ea,Math.min(Zs,p)),m=Math.max(ea,Math.min(Zs,m))],b=[o=Math.max(ea,Math.min(Zs,o)),s=Math.max(ea,Math.min(Zs,s))];Js(l,b,e,t,n,i)?(g||(v.lineStart(),v.point(l[0],l[1])),v.point(b[0],b[1]),a||v.lineEnd(),y=!1):a&&(v.lineStart(),v.point(o,s),y=!1)}p=o,m=s,g=a}return _}}var na=e=>e;function ia(e){return function(t){var n=new ra;for(var i in e)n[i]=e[i];return n.stream=t,n}}function ra(){}ra.prototype={constructor:ra,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var oa=1/0,sa=oa,aa=-oa,la=aa,ca={point:ua,lineStart:Z,lineEnd:Z,polygonStart:Z,polygonEnd:Z,result:function(){var e=[[oa,sa],[aa,la]];return aa=la=-(sa=oa=1/0),e}};function ua(e,t){e<oa&&(oa=e),e>aa&&(aa=e),t<sa&&(sa=t),t>la&&(la=t)}var ha=ca;function da(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),ce(n,e.stream(ha)),t(ha.result()),null!=i&&e.clipExtent(i),e}function fa(e,t,n){return da(e,(function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+t[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,a])}),n)}function pa(e,t,n){return fa(e,[[0,0],t],n)}function ma(e,t,n){return da(e,(function(n){var i=+t,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];e.scale(150*r).translate([o,s])}),n)}function ga(e,t,n){return da(e,(function(n){var i=+t,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([o,s])}),n)}var Aa=16,ya=H(30*U),va=function(e,t){return+t?_a(e,t):ba(e)};function ba(e){return ia({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function _a(e,t){function n(i,r,o,s,a,l,c,u,h,d,f,p,m,g){var A=c-i,y=u-r,v=A*A+y*y;if(v>4*t&&m--){var b=s+d,_=a+f,w=l+p,x=Y(b*b+_*_+w*w),S=Q(w/=x),T=z(z(w)-1)<R||z(o-h)<R?(o+h)/2:V(_,b),E=e(T,S),M=E[0],C=E[1],O=M-i,k=C-r,P=y*O-A*k;(P*P/v>t||z((A*O+y*k)/v-.5)>.3||s*d+a*f+l*p<ya)&&(n(i,r,o,s,a,l,M,C,T,b/=x,_/=x,w,m,g),g.point(M,C),n(M,C,T,b,_,w,c,u,h,d,f,p,m,g))}}return function(t){var i,r,o,s,a,l,c,u,h,d,f,p,m={point:g,lineStart:A,lineEnd:v,polygonStart:function(){t.polygonStart(),m.lineStart=b},polygonEnd:function(){t.polygonEnd(),m.lineStart=A}};function g(n,i){n=e(n,i),t.point(n[0],n[1])}function A(){u=NaN,m.point=y,t.lineStart()}function y(i,r){var o=fo([i,r]),s=e(i,r);n(u,h,c,d,f,p,u=s[0],h=s[1],c=i,d=o[0],f=o[1],p=o[2],Aa,t),t.point(u,h)}function v(){m.point=g,t.lineEnd()}function b(){A(),m.point=_,m.lineEnd=w}function _(e,t){y(i=e,t),r=u,o=h,s=d,a=f,l=p,m.point=y}function w(){n(u,h,c,d,f,p,r,o,i,s,a,l,Aa,t),m.lineEnd=v,v()}return m}}var wa=ia({point:function(e,t){this.stream.point(e*U,t*U)}});function xa(e){return ia({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function Sa(e,t,n,i,r){function o(o,s){return o*=i,s*=r,[t+e*o,n-e*s]}return o.invert=function(o,s){return[(o-t)/e*i,(n-s)/e*r]},o}function Ta(e,t,n,i,r,o){if(!o)return Sa(e,t,n,i,r);var s=H(o),a=$(o),l=s*e,c=a*e,u=s/e,h=a/e,d=(a*n-s*t)/e,f=(a*t+s*n)/e;function p(e,o){return e*=i,o*=r,[l*e-c*o+t,n-c*e-l*o]}return p.invert=function(e,t){return[i*(u*e-h*t+d),r*(f-h*e-u*t)]},p}function Ea(e){return Ma((function(){return e}))()}function Ma(e){var t,n,i,r,o,s,a,l,c,u,h=150,d=480,f=250,p=0,m=0,g=0,A=0,y=0,v=0,b=1,_=1,w=null,x=Gs,S=null,T=na,E=.5;function M(e){return l(e[0]*U,e[1]*U)}function C(e){return e=l.invert(e[0],e[1]),e&&[e[0]*j,e[1]*j]}function O(){var e=Ta(h,0,0,b,_,v).apply(null,t(p,m)),i=Ta(h,d-e[0],f-e[1],b,_,v);return n=Ps(g,A,y),a=Os(t,i),l=Os(n,a),s=va(a,E),k()}function k(){return c=u=null,M}return M.stream=function(e){return c&&u===e?c:c=wa(xa(n)(x(s(T(u=e)))))},M.preclip=function(e){return arguments.length?(x=e,w=void 0,k()):x},M.postclip=function(e){return arguments.length?(T=e,S=i=r=o=null,k()):T},M.clipAngle=function(e){return arguments.length?(x=+e?Qs(w=e*U):(w=null,Gs),k()):w*j},M.clipExtent=function(e){return arguments.length?(T=null==e?(S=i=r=o=null,na):ta(S=+e[0][0],i=+e[0][1],r=+e[1][0],o=+e[1][1]),k()):null==S?null:[[S,i],[r,o]]},M.scale=function(e){return arguments.length?(h=+e,O()):h},M.translate=function(e){return arguments.length?(d=+e[0],f=+e[1],O()):[d,f]},M.center=function(e){return arguments.length?(p=e[0]%360*U,m=e[1]%360*U,O()):[p*j,m*j]},M.rotate=function(e){return arguments.length?(g=e[0]%360*U,A=e[1]%360*U,y=e.length>2?e[2]%360*U:0,O()):[g*j,A*j,y*j]},M.angle=function(e){return arguments.length?(v=e%360*U,O()):v*j},M.reflectX=function(e){return arguments.length?(b=e?-1:1,O()):b<0},M.reflectY=function(e){return arguments.length?(_=e?-1:1,O()):_<0},M.precision=function(e){return arguments.length?(s=va(a,E=e*e),k()):Y(E)},M.fitExtent=function(e,t){return fa(M,e,t)},M.fitSize=function(e,t){return pa(M,e,t)},M.fitWidth=function(e,t){return ma(M,e,t)},M.fitHeight=function(e,t){return ga(M,e,t)},function(){return t=e.apply(this,arguments),M.invert=t.invert&&C,O()}}function Ca(e,t){var n=H(t),i=1+H(e)*n;return[n*$(e)/i,$(t)/i]}Ca.invert=Ns((function(e){return 2*q(e)}));var Oa=function(){return Ea(Ca).scale(250).clipAngle(142)};const ka=Math.PI,Pa=ka/2,Ia=180/ka,Ra=ka/180,Da=(Math.abs,Math.atan,Math.atan2),La=Math.cos,Na=(Math.ceil,Math.exp,Math.floor,Math.log,Math.max),Ba=Math.min,Fa=(Math.pow,Math.sin),ja=Math.sign||function(e){return e>0?1:e<0?-1:0},Ua=Math.sqrt;Math.tan;function za(e){return e>1?Pa:e<-1?-Pa:Math.asin(e)}function qa(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Va(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ha(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}function Ga(e){var t=Ua(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]}function Wa(e){return[Da(e[1],e[0])*Ia,za(Na(-1,Ba(1,e[2])))*Ia]}function $a(e){const t=e[0]*Ra,n=e[1]*Ra,i=La(n);return[i*La(t),i*Fa(t),Fa(n)]}function Xa(e){return e=e.map(e=>$a(e)),qa(e[0],Va(e[2],e[1]))}function Ya(e){const t=Qa(e),n=Za(t),i=Ja(n,e),r=tl(n,e.length),o=Ka(r,e),s=el(n,e),{polygons:a,centers:l}=nl(s,n,e),c=rl(a),u=sl(n,e),h=ol(i,n);return{delaunay:t,edges:i,triangles:n,centers:l,neighbors:r,polygons:a,mesh:c,hull:u,urquhart:h,find:o}}function Ka(e,t){function n(e,t){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}return function(i,r,o){void 0===o&&(o=0);let s,a,l=o;const c=$a([i,r]);do{s=o,o=null,a=n(c,$a(t[s])),e[s].forEach(e=>{let i=n(c,$a(t[e]));if(i<a)return a=i,o=e,void(l=e)})}while(null!==o);return l}}function Qa(e){if(e.length<2)return{};let t=0;while(isNaN(e[t][0]+e[t][1])&&t++<e.length);const n=Ls(e[t]),i=Oa().translate([0,0]).scale(1).rotate(n.invert([180,0]));e=e.map(i);const r=[];let o=1;for(let d=0,f=e.length;d<f;d++){let t=e[d][0]**2+e[d][1]**2;!isFinite(t)||t>1e32?r.push(d):t>o&&(o=t)}const s=1e6*Ua(o);r.forEach(t=>e[t]=[s,0]),e.push([0,s]),e.push([-s,0]),e.push([0,-s]);const a=Es.from(e);a.projection=i;const{triangles:l,halfedges:c,inedges:u}=a,h=[];for(let d=0,f=c.length;d<f;d++)if(c[d]<0){const e=d%3==2?d-2:d+1,n=d%3==0?d+2:d-1,i=c[e],r=c[n];c[i]=r,c[r]=i,c[e]=c[n]=-1,l[d]=l[e]=l[n]=t,u[l[i]]=i%3==0?i+2:i-1,u[l[r]]=r%3==0?r+2:r-1,h.push(Math.min(d,e,n)),d+=2-d%3}else l[d]>e.length-3-1&&(l[d]=t);return a}function Ja(e,t){const n=new Set;return 2===t.length?[[0,1]]:(e.forEach(e=>{if(e[0]!==e[1]&&!(Xa(e.map(e=>t[e]))<0))for(let t,i=0;i<3;i++)t=(i+1)%3,n.add(hr([e[i],e[t]]).join("-"))}),Array.from(n,e=>e.split("-").map(Number)))}function Za(e){const{triangles:t}=e;if(!t)return[];const n=[];for(let i=0,r=t.length/3;i<r;i++){const e=t[3*i],r=t[3*i+1],o=t[3*i+2];e!==r&&r!==o&&n.push([e,o,r])}return n}function el(e,t){return e.map(e=>{const n=e.map(e=>t[e]).map($a),i=Ha(Ha(Va(n[1],n[0]),Va(n[2],n[1])),Va(n[0],n[2]));return Wa(Ga(i))})}function tl(e,t){const n=[];return e.forEach(e=>{for(let t=0;t<3;t++){const i=e[t],r=e[(t+1)%3];n[i]=n[i]||[],n[i].push(r)}}),0===e.length&&(2===t?(n[0]=[1],n[1]=[0]):1===t&&(n[0]=[])),n}function nl(e,t,n){const i=[],r=e.slice();if(0===t.length){if(n.length<2)return{polygons:i,centers:r};if(2===n.length){const e=$a(n[0]),t=$a(n[1]),o=Ga(Ha(e,t)),a=Ga(Va(e,t)),l=Va(o,a),c=[o,Va(o,l),Va(Va(o,l),l),Va(Va(Va(o,l),l),l)].map(Wa).map(s);return i.push(c),i.push(c.slice().reverse()),{polygons:i,centers:r}}}t.forEach((e,t)=>{for(let n=0;n<3;n++){const r=e[n],o=e[(n+1)%3],s=e[(n+2)%3];i[r]=i[r]||[],i[r].push([o,s,t,[r,o,s]])}});const o=i.map(e=>{const t=[e[0][2]];let i=e[0][1];for(let n=1;n<e.length;n++)for(let r=0;r<e.length;r++)if(e[r][0]==i){i=e[r][1],t.push(e[r][2]);break}if(t.length>2)return t;if(2==t.length){const i=il(n[e[0][3][0]],n[e[0][3][1]],r[t[0]]),o=il(n[e[0][3][2]],n[e[0][3][0]],r[t[0]]),a=s(i),l=s(o);return[t[0],l,t[1],a]}});function s(e){let n=-1;return r.slice(t.length,1/0).forEach((i,r)=>{i[0]===e[0]&&i[1]===e[1]&&(n=r+t.length)}),n<0&&(n=r.length,r.push(e)),n}return{polygons:o,centers:r}}function il(e,t,n){e=$a(e),t=$a(t),n=$a(n);const i=ja(qa(Va(t,e),n));return Wa(Ga(Ha(e,t)).map(e=>i*e))}function rl(e){const t=[];return e.forEach(e=>{if(!e)return;let n=e[e.length-1];for(let i of e)i>n&&t.push([n,i]),n=i}),t}function ol(e,t){return function(n){const i=new Map,r=new Map;return e.forEach((e,t)=>{const o=e.join("-");i.set(o,n[t]),r.set(o,!0)}),t.forEach(e=>{let t=0,n=-1;for(let r=0;r<3;r++){let o=hr([e[r],e[(r+1)%3]]).join("-");i.get(o)>t&&(t=i.get(o),n=o)}r.set(n,!1)}),e.map(e=>r.get(e.join("-")))}}function sl(e,t){const n=new Set,i=[];e.map(e=>{if(!(Xa(e.map(e=>t[e>t.length?0:e]))>1e-12))for(let t=0;t<3;t++){let i=[e[t],e[(t+1)%3]],r=`${i[0]}-${i[1]}`;n.has(r)?n.delete(r):n.add(`${i[1]}-${i[0]}`)}});const r=new Map;let o;if(n.forEach(e=>{e=e.split("-").map(Number),r.set(e[0],e[1]),o=e[0]}),void 0===o)return i;let s=o;do{i.push(s);let e=r.get(s);r.set(s,-1),s=e}while(s>-1&&s!==o);return i}function al(e){const t=function(e){if(t.delaunay=null,t._data=e,"object"===typeof t._data&&"FeatureCollection"===t._data.type&&(t._data=t._data.features),"object"===typeof t._data){const e=t._data.map(e=>[t._vx(e),t._vy(e),e]).filter(e=>isFinite(e[0]+e[1]));t.points=e.map(e=>[e[0],e[1]]),t.valid=e.map(e=>e[2]),t.delaunay=Ya(t.points)}return t};return t._vx=function(e){return"object"==typeof e&&"type"in e?ms(e)[0]:0 in e?e[0]:void 0},t._vy=function(e){return"object"==typeof e&&"type"in e?ms(e)[1]:1 in e?e[1]:void 0},t.x=function(e){return e?(t._vx=e,t):t._vx},t.y=function(e){return e?(t._vy=e,t):t._vy},t.polygons=function(e){if(void 0!==e&&t(e),!t.delaunay)return!1;const n={type:"FeatureCollection",features:[]};return 0===t.valid.length||(t.delaunay.polygons.forEach((e,i)=>n.features.push({type:"Feature",geometry:e?{type:"Polygon",coordinates:[[...e,e[0]].map(e=>t.delaunay.centers[e])]}:null,properties:{site:t.valid[i],sitecoordinates:t.points[i],neighbours:t.delaunay.neighbors[i]}})),1===t.valid.length&&n.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:t.valid[0],sitecoordinates:t.points[0],neighbours:[]}})),n},t.triangles=function(e){return void 0!==e&&t(e),!!t.delaunay&&{type:"FeatureCollection",features:t.delaunay.triangles.map((e,n)=>(e=e.map(e=>t.points[e]),e.center=t.delaunay.centers[n],e)).filter(e=>Xa(e)>0).map(e=>({type:"Feature",properties:{circumcenter:e.center},geometry:{type:"Polygon",coordinates:[[...e,e[0]]]}}))}},t.links=function(e){if(void 0!==e&&t(e),!t.delaunay)return!1;const n=t.delaunay.edges.map(e=>ye(t.points[e[0]],t.points[e[1]])),i=t.delaunay.urquhart(n);return{type:"FeatureCollection",features:t.delaunay.edges.map((e,r)=>({type:"Feature",properties:{source:t.valid[e[0]],target:t.valid[e[1]],length:n[r],urquhart:!!i[r]},geometry:{type:"LineString",coordinates:[t.points[e[0]],t.points[e[1]]]}}))}},t.mesh=function(e){return void 0!==e&&t(e),!!t.delaunay&&{type:"MultiLineString",coordinates:t.delaunay.edges.map(e=>[t.points[e[0]],t.points[e[1]]])}},t.cellMesh=function(e){if(void 0!==e&&t(e),!t.delaunay)return!1;const{centers:n,polygons:i}=t.delaunay,r=[];for(const t of i)if(t)for(let e=t.length,i=t[e-1],o=t[0],s=0;s<e;i=o,o=t[++s])o>i&&r.push([n[i],n[o]]);return{type:"MultiLineString",coordinates:r}},t._found=void 0,t.find=function(e,n,i){if(t._found=t.delaunay.find(e,n,t._found),!i||ye([e,n],t.points[t._found])<i)return t._found},t.hull=function(e){void 0!==e&&t(e);const n=t.delaunay.hull,i=t.points;return 0===n.length?null:{type:"Polygon",coordinates:[[...n.map(e=>i[e]),i[n[0]]]]}},e?t(e):t}function ll(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ul(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ol(i.key),i)}}function hl(e,t,n){return t&&ul(e.prototype,t),n&&ul(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pl(e,t)}function fl(e){return fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fl(e)}function pl(e,t){return pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pl(e,t)}function ml(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Al(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gl(e)}function yl(e){var t=ml();return function(){var n,i=fl(e);if(t){var r=fl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Al(this,n)}}function vl(e,t){return wl(e)||ll(e,t)||Sl(e,t)||Ml()}function bl(e){return _l(e)||xl(e)||Sl(e)||El()}function _l(e){if(Array.isArray(e))return Tl(e)}function wl(e){if(Array.isArray(e))return e}function xl(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Sl(e,t){if(e){if("string"===typeof e)return Tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tl(e,t):void 0}}function Tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function El(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ml(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cl(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ol(e){var t=Cl(e,"string");return"symbol"===typeof t?t:String(t)}function kl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.resolution,i=void 0===n?1/0:n,r=Pl(e,i),o=cr(r),s=Il(e,i),a=[].concat(bl(o),bl(s)),l={type:"Polygon",coordinates:e},c=ko(l),u=vl(c,2),h=vl(u[0],2),d=h[0],f=h[1],p=vl(u[1],2),m=p[0],g=p[1],A=d>m||g>=89||f<=-89,y=[];if(A){var v=al(a).triangles(),b=new Map(a.map((function(e,t){var n=vl(e,2),i=n[0],r=n[1];return["".concat(i,"-").concat(r),t]})));v.features.forEach((function(e){var t,n=e.geometry.coordinates[0].slice(0,3).reverse(),i=[];if(n.forEach((function(e){var t=vl(e,2),n=t[0],r=t[1],o="".concat(n,"-").concat(r);b.has(o)&&i.push(b.get(o))})),3===i.length){if(i.some((function(e){return e<o.length}))){var r=e.properties.circumcenter;if(!Dl(r,l,A))return}(t=y).push.apply(t,i)}}))}else if(s.length)for(var _=kr.from(a),w=function(e){var t,n=[2,1,0].map((function(t){return _.triangles[e+t]})),i=n.map((function(e){return a[e]}));if(n.some((function(e){return e<o.length}))){var r=[0,1].map((function(e){return ur(i,(function(t){return t[e]}))}));if(!Dl(r,l,A))return"continue"}(t=y).push.apply(t,bl(n))},x=0,S=_.triangles.length;x<S;x+=3)w(x);else{var T=P.a.flatten(r),E=T.vertices,M=T.holes,C=void 0===M?[]:M;y=P()(E,C,2)}var O=ar(hr(a,(function(e){return e[0]})),[0,1]),k=ar(hr(a,(function(e){return e[1]})),[0,1]),I=a.map((function(e){var t=vl(e,2),n=t[0],i=t[1];return[O(n),k(i)]})),R={points:a,indices:y,uvs:I};return{contour:r,triangles:R}}function Pl(e,t){return e.map((function(e){var n,i=[];return e.forEach((function(e){if(n){var r=180*ye(e,n)/Math.PI;if(r>t){var o=ve(n,e),s=1/Math.ceil(r/t),a=s;while(a<1)i.push(o(a)),a+=s}}i.push(n=e)})),i}))}function Il(e,t){var n={type:"Polygon",coordinates:e},i=ko(n),r=vl(i,2),o=vl(r[0],2),s=o[0],a=o[1],l=vl(r[1],2),c=l[0],u=l[1];if(Math.min(Math.abs(c-s),Math.abs(u-a))<t)return[];var h=s>c||u>=89||a<=-89;return Rl(t,{minLng:s,maxLng:c,minLat:a,maxLat:u}).filter((function(e){return Dl(e,n,h)}))}function Rl(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minLng,i=t.maxLng,r=t.minLat,o=t.maxLat,s=Math.round(Math.pow(360/e,2)/Math.PI),a=(1+Math.sqrt(5))/2,l=function(e){return e/a*360%360-180},c=function(e){return Math.acos(2*e/s-1)/Math.PI*180-90},u=function(e){return s*(Math.cos((e+90)*Math.PI/180)+1)/2},h=[void 0!==o?Math.ceil(u(o)):0,void 0!==r?Math.floor(u(r)):s-1],d=void 0===n&&void 0===i?function(){return!0}:void 0===n?function(e){return e<=i}:void 0===i?function(e){return e>=n}:i>=n?function(e){return e>=n&&e<=i}:function(e){return e>=n||e<=i},f=[],p=h[0];p<=h[1];p++){var m=l(p);d(m)&&f.push([m,c(p)])}return f}function Dl(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?is(t,e):Wr()(e,t)}var Ll=window.THREE?window.THREE:{BufferGeometry:r["BufferGeometry"],Float32BufferAttribute:r["Float32BufferAttribute"]},Nl=(new Ll.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Bl=function(e){dl(n,e);var t=yl(n);function n(e,i,r,o,s,a,l){var c;cl(this,n),c=t.call(this),c.type="ConicPolygonBufferGeometry",c.parameters={polygonGeoJson:e,startHeight:i,endHeight:r,closedBottom:o,closedTop:s,includeSides:a,curvatureResolution:l},i=i||0,r=r||1,o=void 0===o||o,s=void 0===s||s,a=void 0===a||a,l=l||5;var u=kl(e,{resolution:l}),h=u.contour,d=u.triangles,f=cr(d.uvs),p=[],m=[],g=[],A=0,y=function(e){var t=Math.round(p.length/3),n=g.length;p=p.concat(e.vertices),m=m.concat(e.uvs),g=g.concat(t?e.indices.map((function(e){return e+t})):e.indices),c.addGroup(n,g.length-n,A++)};function v(e,t){var n=e.map((function(e){return e.map((function(e){var n=vl(e,2),i=n[0],r=n[1];return Fl(r,i,t)}))}));return P.a.flatten(n)}function b(){for(var e=v(h,i),t=e.vertices,n=e.holes,o=v(h,r),s=o.vertices,a=cr([s,t]),l=Math.round(s.length/3),c=new Set(n),u=0,d=[],f=0;f<l;f++){var p=f+1;if(p===l)p=u;else if(c.has(p)){var m=p;p=u,u=m}d.push(f,f+l,p+l),d.push(p+l,p,f)}for(var g=[],A=1;A>=0;A--)for(var y=0;y<l;y+=1)g.push(y/(l-1),A);return{indices:d,vertices:a,uvs:g}}function _(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{indices:t?d.indices:d.indices.slice().reverse(),vertices:v([d.points],e).vertices,uvs:f}}return a&&y(b()),o&&y(_(i,!1)),s&&y(_(r,!0)),c.setIndex(g),c[Nl]("position",new Ll.Float32BufferAttribute(p,3)),c[Nl]("uv",new Ll.Float32BufferAttribute(m,2)),c.computeVertexNormals(),c}return hl(n)}(Ll.BufferGeometry);function Fl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(90-e)*Math.PI/180,r=(90-t)*Math.PI/180;return[n*Math.sin(i)*Math.cos(r),n*Math.cos(i),n*Math.sin(i)*Math.sin(r)]}var jl=n("dddd"),Ul=n("e0c9");class zl extends o["ExtrudeGeometry"]{constructor(e,t={}){const n=t.font;if(void 0===n)super();else{const i=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(i,t)}this.type="TextGeometry"}}o["Loader"];class ql{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],i=Vl(e,t,this.data);for(let r=0,o=i.length;r<o;r++)n.push(...i[r].toShapes());return n}}function Vl(e,t,n){const i=Array.from(e),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,l=0;for(let c=0;c<i.length;c++){const e=i[c];if("\n"===e)a=0,l-=o;else{const t=Hl(e,r,a,l,n);a+=t.offsetX,s.push(t.path)}}return s}function Hl(e,t,n,i,r){const s=r.glyphs[e]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");const a=new o["ShapePath"];let l,c,u,h,d,f,p,m;if(s.o){const e=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let r=0,o=e.length;r<o;){const o=e[r++];switch(o){case"m":l=e[r++]*t+n,c=e[r++]*t+i,a.moveTo(l,c);break;case"l":l=e[r++]*t+n,c=e[r++]*t+i,a.lineTo(l,c);break;case"q":u=e[r++]*t+n,h=e[r++]*t+i,d=e[r++]*t+n,f=e[r++]*t+i,a.quadraticCurveTo(d,f,u,h);break;case"b":u=e[r++]*t+n,h=e[r++]*t+i,d=e[r++]*t+n,f=e[r++]*t+i,p=e[r++]*t+n,m=e[r++]*t+i,a.bezierCurveTo(d,f,p,m,u,h);break}}}return{offsetX:s.ha*t,path:a}}function Gl(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function Wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(n),!0).forEach((function(t){Ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yc(i.key),i)}}function Kl(e,t,n){return t&&Yl(e.prototype,t),n&&Yl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ql(e,t,n){return t=yc(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zl(e)}function ec(e,t){return ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ec(e,t)}function tc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function nc(e,t,n){return nc=tc()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=Function.bind.apply(e,i),o=new r;return n&&ec(o,n.prototype),o},nc.apply(null,arguments)}function ic(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function rc(e,t){if(null==e)return{};var n,i,r=ic(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oc(e)}function ac(e){var t=tc();return function(){var n,i=Zl(e);if(t){var r=Zl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return sc(this,n)}}function lc(e,t){return hc(e)||Gl(e,t)||fc(e,t)||gc()}function cc(e){return uc(e)||dc(e)||fc(e)||mc()}function uc(e){if(Array.isArray(e))return pc(e)}function hc(e){if(Array.isArray(e))return e}function dc(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function fc(e,t){if(e){if("string"===typeof e)return pc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(e,t):void 0}}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function mc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ac(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yc(e){var t=Ac(e,"string");return"symbol"===typeof t?t:String(t)}var vc=function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())},bc=function e(t){t.geometry&&t.geometry.dispose(),t.material&&vc(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},_c=function(e){if(e&&e.children)while(e.children.length){var t=e.children[0];e.remove(t),bc(t)}};function wc(e,t){var n=new t;return{linkProp:function(t){return{default:n[t](),onChange:function(n,i){i[e][t](n)},triggerUpdate:!1}},linkMethod:function(t){return function(n){for(var i=n[e],r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var a=i[t].apply(i,o);return a===i?this:a}}}}var xc=100;function Sc(){return xc}function Tc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(90-e)*Math.PI/180,r=(90-t)*Math.PI/180,o=xc*(1+n);return{x:o*Math.sin(i)*Math.cos(r),y:o*Math.cos(i),z:o*Math.sin(i)*Math.sin(r)}}function Ec(e){var t=e.x,n=e.y,i=e.z,r=Math.sqrt(t*t+n*n+i*i),o=Math.acos(n/r),s=Math.atan2(i,t);return{lat:90-180*o/Math.PI,lng:90-180*s/Math.PI-(s<-Math.PI/2?360:0),altitude:r/xc-1}}var Mc=window.THREE?window.THREE:{BackSide:r["BackSide"],BufferAttribute:r["BufferAttribute"],Color:r["Color"],Mesh:r["Mesh"],ShaderMaterial:r["ShaderMaterial"]},Cc="\nuniform vec3 color;\nuniform float coefficient;\nuniform float power;\nvarying vec3 vVertexNormal;\nvarying vec3 vVertexWorldPosition;\nvoid main() {\n  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;\n  vec3 viewCameraToVertex\t= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;\n  viewCameraToVertex = normalize(viewCameraToVertex);\n  float intensity\t= pow(\n    coefficient + dot(vVertexNormal, viewCameraToVertex),\n    power\n  );\n  gl_FragColor = vec4(color, intensity);\n}",Oc="\nvarying vec3 vVertexWorldPosition;\nvarying vec3 vVertexNormal;\nvoid main() {\n  vVertexNormal\t= normalize(normalMatrix * normal);\n  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",kc={backside:!0,coefficient:.5,color:"gold",size:2,power:1};function Pc(e,t,n){return new Mc.ShaderMaterial({depthWrite:!1,fragmentShader:Cc,transparent:!0,uniforms:{coefficient:{value:e},color:{value:new Mc.Color(t)},power:{value:n}},vertexShader:Oc})}function Ic(e,t){for(var n=e.clone(),i=new Float32Array(3*e.attributes.position.count),r=0,o=i.length;r<o;r++){var s=e.attributes.normal.array[r],a=e.attributes.position.array[r];i[r]=a+s*t}return n.setAttribute("position",new Mc.BufferAttribute(i,3)),n}function Rc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kc,n=t.backside,i=t.coefficient,r=t.color,o=t.size,s=t.power,a=Ic(e,o),l=Pc(i,r,s);return n&&(l.side=Mc.BackSide),new Mc.Mesh(a,l)}var Dc=window.THREE?window.THREE:{Color:r["Color"],LineBasicMaterial:r["LineBasicMaterial"],LineSegments:r["LineSegments"],Mesh:r["Mesh"],MeshPhongMaterial:r["MeshPhongMaterial"],SphereGeometry:r["SphereGeometry"],TextureLoader:r["TextureLoader"]},Lc=M({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(e,t){t.globeObj.visible=!!e},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(e,t){t.graticulesObj.visible=!!e},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(e,t){t.atmosphereObj&&(t.atmosphereObj.visible=!!e)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(e,t){return void 0!==t?(e.globeObj.material=t||e.defaultGlobeMaterial,this):e.globeObj.material},_destructor:function(e){_c(e.globeObj),_c(e.graticulesObj)}},stateInit:function(){var e=new Dc.SphereGeometry(xc,75,75),t=new Dc.MeshPhongMaterial({color:0,transparent:!0}),n=new Dc.Mesh(e,t);n.rotation.y=-Math.PI/2,n.__globeObjType="globe";var i=new Dc.LineSegments(new qe(Ke(),xc,2),new Dc.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1}));return{globeObj:n,graticulesObj:i,defaultGlobeMaterial:t}},init:function(e,t){_c(e),t.scene=e,t.scene.add(t.globeObj),t.scene.add(t.graticulesObj),t.ready=!1},update:function(e,t){var n=e.globeObj.material;if(t.hasOwnProperty("globeImageUrl")&&(e.globeImageUrl?(new Dc.TextureLoader).load(e.globeImageUrl,(function(t){n.map=t,n.color=null,n.needsUpdate=!0,!e.ready&&(e.ready=!0)&&setTimeout(e.onReady)})):!n.color&&(n.color=new Dc.Color(0))),t.hasOwnProperty("bumpImageUrl")&&(e.bumpImageUrl?e.bumpImageUrl&&(new Dc.TextureLoader).load(e.bumpImageUrl,(function(e){n.bumpMap=e,n.needsUpdate=!0})):(n.bumpMap=null,n.needsUpdate=!0)),(t.hasOwnProperty("atmosphereColor")||t.hasOwnProperty("atmosphereAltitude"))&&(e.atmosphereObj&&(e.scene.remove(e.atmosphereObj),_c(e.atmosphereObj)),e.atmosphereColor&&e.atmosphereAltitude)){var i=e.atmosphereObj=Rc(e.globeObj.geometry,{backside:!0,color:e.atmosphereColor,size:xc*e.atmosphereAltitude,power:3.5,coefficient:.1});i.visible=!!e.showAtmosphere,i.__globeObjType="atmosphere",e.scene.add(i)}e.ready||e.globeImageUrl||(e.ready=!0,e.onReady())}}),Nc=function(e){return isNaN(e)?parseInt(ft()(e).toHex(),16):e},Bc=function(e){return isNaN(e)?ft()(e).getAlpha():1},Fc=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=ft()(e).toRgb(),i=["r","g","b"].map((function(e){return n[e]/255}));return t?[].concat(cc(i),[n.a]):i};function jc(e,t,n){return e.opacity=t,e.transparent=t<1,e.depthWrite=void 0===n?t>=1:n,e}function Uc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.removeDelay,o=void 0===r?0:r;return Yt(e,t.children,(function(e){return t.add(e)}),(function(e){var n=function(){t.remove(e),_c(e),e&&e.hasOwnProperty("__data")&&delete e.__data.__currentTargetD};o?setTimeout(n,o):n()}),$l({objBindAttr:"__threeObj"},n))}var zc=window.THREE?window.THREE:{BufferAttribute:r["BufferAttribute"],BufferGeometry:r["BufferGeometry"],Color:r["Color"],CylinderGeometry:r["CylinderGeometry"],Matrix4:r["Matrix4"],Mesh:r["Mesh"],MeshBasicMaterial:r["MeshBasicMaterial"],MeshLambertMaterial:r["MeshLambertMaterial"],Object3D:r["Object3D"],Vector3:r["Vector3"]},qc=Object.assign({},i),Vc=qc.BufferGeometryUtils||qc,Hc=(new zc.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",Gc=M({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t){_c(e),t.scene=e},update:function(e){var t=ht(e.pointLat),n=ht(e.pointLng),i=ht(e.pointAltitude),r=ht(e.pointRadius),o=ht(e.pointColor),s=new zc.CylinderGeometry(1,1,1,e.pointResolution);s[Hc]((new zc.Matrix4).makeRotationX(Math.PI/2)),s[Hc]((new zc.Matrix4).makeTranslation(0,0,-.5));var a=2*Math.PI*xc/360,l={},c=e.pointsMerge?new zc.Object3D:e.scene;if(Uc(e.pointsData,c,{createObj:d,updateObj:f}),e.pointsMerge){var u=e.pointsData.length?Vc.mergeBufferGeometries(e.pointsData.map((function(e){var t=e.__threeObj;e.__threeObj=void 0;var n=t.geometry.clone();t.updateMatrix(),n[Hc](t.matrix);for(var i=new zc.Color(o(e)),r=n.attributes.position.count,s=new Float32Array(3*r),a=0,l=r;a<l;a++){var c=3*a;s[c]=i.r,s[c+1]=i.g,s[c+2]=i.b}return n.setAttribute("color",new zc.BufferAttribute(s,3)),n}))):new zc.BufferGeometry,h=new zc.Mesh(u,new zc.MeshBasicMaterial({color:16777215,vertexColors:!0}));h.__globeObjType="points",h.__data=e.pointsData,_c(e.scene),e.scene.add(h)}function d(){var e=new zc.Mesh(s);return e.__globeObjType="point",e}function f(s,c){var u=function(t){var n=s.__currentTargetD=t,i=n.r,r=n.alt,o=n.lat,l=n.lng;Object.assign(s.position,Tc(o,l));var c=e.pointsMerge?new zc.Vector3(0,0,0):e.scene.localToWorld(new zc.Vector3(0,0,0));s.lookAt(c),s.scale.x=s.scale.y=Math.min(30,i)*a,s.scale.z=Math.max(r*xc,.1)},h={alt:+i(c),r:+r(c),lat:+t(c),lng:+n(c)},d=s.__currentTargetD||Object.assign({},h,{alt:-.001});if(Object.keys(h).some((function(e){return d[e]!==h[e]}))&&(e.pointsMerge||!e.pointsTransitionDuration||e.pointsTransitionDuration<0?u(h):new O.a.Tween(d).to(h,e.pointsTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(u).start()),!e.pointsMerge){var f=o(c),p=f?Bc(f):0,m=!!p;s.visible=m,m&&(l.hasOwnProperty(f)||(l[f]=new zc.MeshLambertMaterial({color:Nc(f),transparent:p<1,opacity:p})),s.material=l[f])}}}}),Wc=["stroke"],$c=window.THREE?window.THREE:{BufferGeometry:r["BufferGeometry"],CubicBezierCurve3:r["CubicBezierCurve3"],Curve:r["Curve"],Float32BufferAttribute:r["Float32BufferAttribute"],Group:r["Group"],Line:r["Line"],Mesh:r["Mesh"],NormalBlending:r["NormalBlending"],QuadraticBezierCurve3:r["QuadraticBezierCurve3"],ShaderMaterial:r["ShaderMaterial"],TubeGeometry:r["TubeGeometry"],Vector3:r["Vector3"]},Xc=Qt.a["default"]||Qt.a,Yc=(new $c.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Kc={uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:"\n    uniform float dashTranslate; \n\n    attribute vec4 vertexColor;\n    varying vec4 vColor;\n    \n    attribute float vertexRelDistance;\n    varying float vRelDistance;\n\n    void main() {\n      // pass through colors and distances\n      vColor = vertexColor;\n      vRelDistance = vertexRelDistance + dashTranslate;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform float dashOffset; \n    uniform float dashSize;\n    uniform float gapSize; \n    \n    varying vec4 vColor;\n    varying float vRelDistance;\n    \n    void main() {\n      // ignore pixels in the gap\n      if (vRelDistance < dashOffset) discard;\n      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;\n    \n      // set px color: [r, g, b, a], interpolated between vertices \n      gl_FragColor = vColor; \n    }\n  "},Qc=M({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{_destructor:function(e){e.ticker&&e.ticker.dispose()}},init:function(e,t){_c(e),t.scene=e,t.ticker=new Xc,t.ticker.onTick.add((function(e,n){t.arcsData.filter((function(e){return e.__threeObj&&e.__threeObj.children.length&&e.__threeObj.children[0].material&&e.__threeObj.children[0].__dashAnimateStep})).forEach((function(e){var t=e.__threeObj.children[0],i=t.__dashAnimateStep*n,r=t.material.uniforms.dashTranslate.value%1e9;t.material.uniforms.dashTranslate.value=r+i}))}))},update:function(e){var t=ht(e.arcStartLat),n=ht(e.arcStartLng),i=ht(e.arcEndLat),r=ht(e.arcEndLng),o=ht(e.arcAltitude),s=ht(e.arcAltitudeAutoScale),a=ht(e.arcStroke),l=ht(e.arcColor),c=ht(e.arcDashLength),u=ht(e.arcDashGap),h=ht(e.arcDashInitialGap),d=ht(e.arcDashAnimateTime),f=new $c.ShaderMaterial($l($l({},Kc),{},{transparent:!0,blending:$c.NormalBlending}));function p(e){var t=e.alt,n=e.altAutoScale,i=e.startLat,r=e.startLng,o=e.endLat,s=e.endLng,a=function(e){var t=lc(e,3),n=t[0],i=t[1],r=t[2],o=Tc(i,n,r),s=o.x,a=o.y,l=o.z;return new $c.Vector3(s,a,l)},l=[r,i],c=[s,o],u=t;if((null===u||void 0===u)&&(u=ye(l,c)/2*n),u){var h=ve(l,c),d=[.25,.75].map((function(e){return[].concat(cc(h(e)),[1.5*u])})),f=lc(d,2),p=f[0],m=f[1],g=nc($c.CubicBezierCurve3,cc([l,p,m,c].map(a)));return g}var A=.001;return y.apply(void 0,cc([[].concat(l,[A]),[].concat(c,[A])].map(a)));function y(e,t){var n=e.angleTo(t),i=0===n?function(){return e.clone()}:function(i){return(new $c.Vector3).addVectors(e.clone().multiplyScalar(Math.sin((1-i)*n)),t.clone().multiplyScalar(Math.sin(i*n))).divideScalar(Math.sin(n))},r=new $c.Curve;return r.getPoint=i,r}}function m(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t+1;if(e instanceof Array||e instanceof Function){var o=e instanceof Array?ar().domain(e.map((function(t,n){return n/(e.length-1)}))).range(e):e;n=function(e){return Fc(o(e))}}else{var s=Fc(e);n=function(){return s}}for(var a=new $c.Float32BufferAttribute(4*r*i,4),l=0,c=r;l<c;l++)for(var u=n(l/(c-1)),h=0;h<i;h++)a.set(u,4*(l*i+h));return a}function g(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e+1,r=i*t,o=new $c.Float32BufferAttribute(r,1),s=0,a=i;s<a;s++)for(var l=s/(a-1),c=0;c<t;c++){var u=s*t+c,h=n?r-1-u:u;o.setX(h,l)}return o}Uc(e.arcsData,e.scene,{createObj:function(){var e=new $c.Group;return e.__globeObjType="arc",e},updateObj:function(A,y){var v=a(y),b=null!==v&&void 0!==v;if(!A.children.length||b!==("Mesh"===A.children[0].type)){_c(A);var _=b?new $c.Mesh:new $c.Line(new $c.BufferGeometry);_.material=f.clone(),A.add(_)}var w=A.children[0];Object.assign(w.material.uniforms,{dashSize:{value:c(y)},gapSize:{value:u(y)},dashOffset:{value:h(y)}});var x=d(y);w.__dashAnimateStep=x>0?1e3/x:0;var S=m(l(y),e.arcCurveResolution,b?e.arcCircularResolution+1:1),T=g(e.arcCurveResolution,b?e.arcCircularResolution+1:1,!0);w.geometry[Yc]("vertexColor",S),w.geometry[Yc]("vertexRelDistance",T);var E=function(t){var n=y.__currentTargetD=t,i=n.stroke,r=rc(n,Wc),o=p(r);b?(w.geometry&&w.geometry.dispose(),w.geometry=new $c.TubeGeometry(o,e.arcCurveResolution,i/2,e.arcCircularResolution),w.geometry[Yc]("vertexColor",S),w.geometry[Yc]("vertexRelDistance",T)):w.geometry.setFromPoints(o.getPoints(e.arcCurveResolution))},M={stroke:v,alt:o(y),altAutoScale:+s(y),startLat:+t(y),startLng:+n(y),endLat:+i(y),endLng:+r(y)},C=y.__currentTargetD||Object.assign({},M,{altAutoScale:-.001});Object.keys(M).some((function(e){return C[e]!==M[e]}))&&(!e.arcsTransitionDuration||e.arcsTransitionDuration<0?E(M):new O.a.Tween(C).to(M,e.arcsTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(E).start())}})}}),Jc=window.THREE?window.THREE:{BufferAttribute:r["BufferAttribute"],BufferGeometry:r["BufferGeometry"],Color:r["Color"],DoubleSide:r["DoubleSide"],Mesh:r["Mesh"],MeshBasicMaterial:r["MeshBasicMaterial"],MeshLambertMaterial:r["MeshLambertMaterial"],Object3D:r["Object3D"]},Zc=Object.assign({},i),eu=Zc.BufferGeometryUtils||Zc,tu=(new Jc.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",nu=M({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(e){var t=e.sumWeight;return.01*t}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t){_c(e),t.scene=e},update:function(e){var t=ht(e.hexBinPointLat),n=ht(e.hexBinPointLng),i=ht(e.hexBinPointWeight),r=ht(e.hexAltitude),o=ht(e.hexTopColor),s=ht(e.hexSideColor),a=ht(e.hexMargin),l=Ct(e.hexBinPointsData.map((function(i){return $l($l({},i),{},{h3Idx:Object(jl["latLngToCell"])(t(i),n(i),e.hexBinResolution)})})),"h3Idx"),c=Object.entries(l).map((function(e){var t=lc(e,2),n=t[0],r=t[1];return{h3Idx:n,points:r,sumWeight:r.reduce((function(e,t){return e+ +i(t)}),0)}})),u={},h=e.hexBinMerge?new Jc.Object3D:e.scene;if(Uc(c,h,{createObj:p,updateObj:m,idAccessor:function(e){return e.h3Idx}}),e.hexBinMerge){var d=c.length?eu.mergeBufferGeometries(c.map((function(e){var t=e.__threeObj;e.__threeObj=void 0;var n=t.geometry.toNonIndexed();t.updateMatrix(),n[tu](t.matrix);for(var i=new Jc.Color(o(e)),r=new Jc.Color(s(e)),a=n.attributes.position.count,l=n.groups[0].count,c=new Float32Array(3*a),u=0,h=a;u<h;u++){var d=3*u,f=u>=l?i:r;c[d]=f.r,c[d+1]=f.g,c[d+2]=f.b}return n.setAttribute("color",new Jc.BufferAttribute(c,3)),n}))):new Jc.BufferGeometry,f=new Jc.Mesh(d,new Jc.MeshBasicMaterial({color:16777215,vertexColors:!0,side:Jc.DoubleSide}));f.__globeObjType="hexBinPoints",f.__data=c,_c(e.scene),e.scene.add(f)}function p(e){var t=new Jc.Mesh;t.__hexCenter=Object(jl["cellToLatLng"])(e.h3Idx),t.__hexGeoJson=Object(jl["cellToBoundary"])(e.h3Idx,!0).reverse();var n=t.__hexCenter[1];return t.__hexGeoJson.forEach((function(e){var t=e[0];Math.abs(n-t)>170&&(e[0]+=n>t?360:-360)})),t.__globeObjType="hexbin",t}function m(t,n){var i=function(e,t,n){return e-(e-t)*n},l=Math.max(0,Math.min(1,+a(n))),c=lc(t.__hexCenter,2),h=c[0],d=c[1],f=0===l?t.__hexGeoJson:t.__hexGeoJson.map((function(e){var t=lc(e,2),n=t[0],r=t[1];return[[n,d],[r,h]].map((function(e){var t=lc(e,2),n=t[0],r=t[1];return i(n,r,l)}))})),p=e.hexTopCurvatureResolution;t.geometry&&t.geometry.dispose(),t.geometry=new Bl([f],0,xc,!1,!0,!0,p);var m={alt:+r(n)},g=function(e){var n=t.__currentTargetD=e,i=n.alt;t.scale.x=t.scale.y=t.scale.z=1+i},A=t.__currentTargetD||Object.assign({},m,{alt:-.001});if(Object.keys(m).some((function(e){return A[e]!==m[e]}))&&(e.hexBinMerge||!e.hexTransitionDuration||e.hexTransitionDuration<0?g(m):new O.a.Tween(A).to(m,e.hexTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(g).start()),!e.hexBinMerge){var y=s(n),v=o(n);[y,v].forEach((function(e){if(!u.hasOwnProperty(e)){var t=Bc(e);u[e]=new Jc.MeshLambertMaterial({color:Nc(e),transparent:t<1,opacity:t,side:Jc.DoubleSide})}})),t.material=[y,v].map((function(e){return u[e]}))}}}}),iu=window.THREE?window.THREE:{DoubleSide:r["DoubleSide"],Group:r["Group"],LineBasicMaterial:r["LineBasicMaterial"],LineSegments:r["LineSegments"],Mesh:r["Mesh"],MeshBasicMaterial:r["MeshBasicMaterial"]},ru=M({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t){_c(e),t.scene=e},update:function(e){var t=ht(e.polygonGeoJsonGeometry),n=ht(e.polygonAltitude),i=ht(e.polygonCapCurvatureResolution),r=ht(e.polygonCapColor),o=ht(e.polygonCapMaterial),s=ht(e.polygonSideColor),a=ht(e.polygonSideMaterial),l=ht(e.polygonStrokeColor),c=[];e.polygonsData.forEach((function(e){var u={data:e,capColor:r(e),capMaterial:o(e),sideColor:s(e),sideMaterial:a(e),strokeColor:l(e),altitude:+n(e),capCurvatureResolution:+i(e)},h=t(e),d=e.__id||"".concat(Math.round(1e9*Math.random()));e.__id=d,"Polygon"===h.type?c.push($l({id:"".concat(d,"_0"),coords:h.coordinates},u)):"MultiPolygon"===h.type?c.push.apply(c,cc(h.coordinates.map((function(e,t){return $l({id:"".concat(d,"_").concat(t),coords:e},u)})))):console.warn("Unsupported GeoJson geometry type: ".concat(h.type,". Skipping geometry..."))})),Uc(c,e.scene,{idAccessor:function(e){return e.id},createObj:function(){var e=new iu.Group;return e.__defaultSideMaterial=new iu.MeshBasicMaterial({side:iu.DoubleSide,depthWrite:!0}),e.__defaultCapMaterial=new iu.MeshBasicMaterial({side:iu.DoubleSide,depthWrite:!0}),e.add(new iu.Mesh(void 0,[e.__defaultSideMaterial,e.__defaultCapMaterial])),e.add(new iu.LineSegments(void 0,new iu.LineBasicMaterial)),e.__globeObjType="polygon",e},updateObj:function(t,n){var i=n.coords,r=n.capColor,o=n.capMaterial,s=n.sideColor,a=n.sideMaterial,l=n.strokeColor,c=n.altitude,u=n.capCurvatureResolution,h=lc(t.children,2),d=h[0],f=h[1],p=!!l;if(f.visible=p,ou(d.geometry.parameters||{},{polygonGeoJson:i,curvatureResolution:u})||(d.geometry&&d.geometry.dispose(),d.geometry=new Bl(i,0,xc,!1,!0,!0,u)),!p||f.geometry.parameters&&f.geometry.parameters.geoJson.coordinates===i&&f.geometry.parameters.resolution===u||(f.geometry&&f.geometry.dispose(),f.geometry=new qe({type:"Polygon",coordinates:i},xc,u)),d.material[0]=a||t.__defaultSideMaterial,d.material[1]=o||t.__defaultCapMaterial,[!a&&s,!o&&r].forEach((function(e,t){if(e){var n=d.material[t],i=Bc(e);n.color.set(Nc(e)),n.transparent=i<1,n.opacity=i}})),p){var m=f.material,g=Bc(l);m.color.set(Nc(l)),m.transparent=g<1,m.opacity=g}var A={alt:c},y=function(e){var n=t.__currentTargetD=e,i=n.alt;d.scale.x=d.scale.y=d.scale.z=1+i,p&&(f.scale.x=f.scale.y=f.scale.z=1+i+1e-4)},v=t.__currentTargetD||Object.assign({},A,{alt:-.001});Object.keys(A).some((function(e){return v[e]!==A[e]}))&&(!e.polygonsTransitionDuration||e.polygonsTransitionDuration<0||v.alt===A.alt?y(A):new O.a.Tween(v).to(A,e.polygonsTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(y).start())}})}});function ou(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return function(e,t){return e===t}};return Object.entries(t).every((function(t){var i=lc(t,2),r=i[0],o=i[1];return e.hasOwnProperty(r)&&n(r)(e[r],o)}))}var su=window.THREE?window.THREE:{BufferGeometry:r["BufferGeometry"],DoubleSide:r["DoubleSide"],Mesh:r["Mesh"],MeshLambertMaterial:r["MeshLambertMaterial"]},au=Object.assign({},i),lu=au.BufferGeometryUtils||au,cu=M({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonCurvatureResolution:{default:5},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t){_c(e),t.scene=e},update:function(e){var t=ht(e.hexPolygonGeoJsonGeometry),n=ht(e.hexPolygonColor),i=ht(e.hexPolygonAltitude),r=ht(e.hexPolygonResolution),o=ht(e.hexPolygonMargin),s=ht(e.hexPolygonCurvatureResolution);Uc(e.hexPolygonsData,e.scene,{createObj:function(e){var t=new su.Mesh(void 0,new su.MeshLambertMaterial({side:su.DoubleSide}));return t.__globeObjType="hexPolygon",t},updateObj:function(a,l){var c=t(l),u=r(l),h=i(l),d=Math.max(0,Math.min(1,+o(l))),f=s(l),p=n(l),m=Bc(p);a.material.color.set(Nc(p)),a.material.transparent=m<1,a.material.opacity=m;var g={alt:h,margin:d,curvatureResolution:f},A=a.__currentTargetD||Object.assign({},g,{alt:-.001});if(Object.keys(g).some((function(e){return A[e]!==g[e]}))){var y=[];"Polygon"===c.type?Object(jl["polygonToCells"])(c.coordinates,u,!0).forEach((function(e){return y.push(e)})):"MultiPolygon"===c.type?c.coordinates.forEach((function(e){return Object(jl["polygonToCells"])(e,u,!0).forEach((function(e){return y.push(e)}))})):console.warn("Unsupported GeoJson geometry type: ".concat(c.type,". Skipping geometry..."));var v=y.map((function(e){var t=Object(jl["cellToLatLng"])(e),n=Object(jl["cellToBoundary"])(e,!0).reverse(),i=t[1];return n.forEach((function(e){var t=e[0];Math.abs(i-t)>170&&(e[0]+=i>t?360:-360)})),{h3Idx:e,hexCenter:t,hexGeoJson:n}})),b=function(e){var t=a.__currentTargetD=e,n=t.alt,i=t.margin,r=t.curvatureResolution;a.geometry&&a.geometry.dispose(),a.geometry=v.length?lu.mergeBufferGeometries(v.map((function(e){var t=function(e,t,n){return e-(e-t)*n},o=lc(e.hexCenter,2),s=o[0],a=o[1],l=0===i?e.hexGeoJson:e.hexGeoJson.map((function(e){var n=lc(e,2),r=n[0],o=n[1];return[[r,a],[o,s]].map((function(e){var n=lc(e,2),r=n[0],o=n[1];return t(r,o,i)}))}));return new Bl([l],xc,xc*(1+n),!1,!0,!1,r)}))):new su.BufferGeometry};!e.hexPolygonsTransitionDuration||e.hexPolygonsTransitionDuration<0?b(g):new O.a.Tween(A).to(g,e.hexPolygonsTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(b).start()}}})}}),uu=window.THREE?window.THREE:{Vector3:r["Vector3"]};function hu(e,t){var n=function(e,t){var n=e[e.length-1];return[].concat(cc(e),cc(cc(new Array(t-e.length)).map((function(){return n}))))},i=Math.max(e.length,t.length),r=hi.apply(void 0,cc([e,t].map((function(e){return e.map((function(e){var t=e.x,n=e.y,i=e.z;return[t,n,i]}))})).map((function(e){return n(e,i)}))));return function(n){return 0===n?e:1===n?t:r(n).map((function(e){var t=lc(e,3),n=t[0],i=t[1],r=t[2];return new uu.Vector3(n,i,r)}))}}var du=window.THREE?window.THREE:{BufferGeometry:r["BufferGeometry"],Color:r["Color"],Float32BufferAttribute:r["Float32BufferAttribute"],Group:r["Group"],Line:r["Line"],NormalBlending:r["NormalBlending"],ShaderMaterial:r["ShaderMaterial"],Vector3:r["Vector3"]},fu=Qt.a["default"]||Qt.a,pu=(new du.BufferGeometry).setAttribute?"setAttribute":"addAttribute",mu={uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:"\n    uniform float dashTranslate;\n\n    attribute vec4 vertexColor;\n    varying vec4 vColor;\n\n    attribute float vertexRelDistance;\n    varying float vRelDistance;\n\n    void main() {\n      // pass through colors and distances\n      vColor = vertexColor;\n      vRelDistance = vertexRelDistance + dashTranslate;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform float dashOffset;\n    uniform float dashSize;\n    uniform float gapSize;\n\n    varying vec4 vColor;\n    varying float vRelDistance;\n\n    void main() {\n      // ignore pixels in the gap\n      if (vRelDistance < dashOffset) discard;\n      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;\n\n      // set px color: [r, g, b, a], interpolated between vertices\n      gl_FragColor = vColor;\n    }\n  "},gu=M({props:{pathsData:{default:[]},pathPoints:{default:function(e){return e}},pathPointLat:{default:function(e){return e[0]}},pathPointLng:{default:function(e){return e[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{_destructor:function(e){e.ticker&&e.ticker.dispose()}},init:function(e,t){_c(e),t.scene=e,t.ticker=new fu,t.ticker.onTick.add((function(e,n){t.pathsData.filter((function(e){return e.__threeObj&&e.__threeObj.children.length&&e.__threeObj.children[0].material&&e.__threeObj.children[0].__dashAnimateStep})).forEach((function(e){var t=e.__threeObj.children[0],i=t.__dashAnimateStep*n;if("Line"===t.type){var r=t.material.uniforms.dashTranslate.value%1e9;t.material.uniforms.dashTranslate.value=r+i}else if("Line2"===t.type){var o=t.material.dashOffset-i,s=t.material.dashSize+t.material.gapSize;while(o<=-s)o+=s;t.material.dashOffset=o}}))}))},update:function(e){var t=ht(e.pathPoints),n=ht(e.pathPointLat),i=ht(e.pathPointLng),r=ht(e.pathPointAlt),o=ht(e.pathStroke),s=ht(e.pathColor),a=ht(e.pathDashLength),l=ht(e.pathDashGap),c=ht(e.pathDashInitialGap),u=ht(e.pathDashAnimateTime),h=new du.ShaderMaterial($l($l({},mu),{},{transparent:!0,blending:du.NormalBlending}));function d(e){var t,n=0;return e.forEach((function(e){t&&(n+=t.distanceTo(e)),t=e})),n}function f(e,t,n,i,r){var o=function(e,t,n){for(var i=[],r=1;r<=n;r++)i.push(e+(t-e)*r/(n+1));return i},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],i=null;return e.forEach((function(e){if(i){while(Math.abs(i[1]-e[1])>180)i[1]+=360*(i[1]<e[1]?1:-1);var r=Math.sqrt(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2));if(r>t)for(var s=Math.floor(r/t),a=o(i[0],e[0],s),l=o(i[1],e[1],s),c=o(i[2],e[2],s),u=0,h=a.length;u<h;u++)n.push([a[u],l[u],c[u]])}n.push(i=e)})),n},a=function(e){var t=lc(e,3),n=t[0],i=t[1],r=t[2],o=Tc(n,i,r),s=o.x,a=o.y,l=o.z;return new du.Vector3(s,a,l)};return s(e.map((function(e){return[t(e),n(e),i(e)]})),r).map(a)}function p(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t+1;if(e instanceof Array||e instanceof Function){var s=e instanceof Array?ar().domain(e.map((function(t,n){return n/(e.length-1)}))).range(e):e;n=function(e){return Fc(s(e),r)}}else{var a=Fc(e,r);n=function(){return a}}for(var l=r?4:3,c=new du.Float32BufferAttribute(o*l*i,l),u=0,h=o;u<h;u++)for(var d=n(u/(h-1)),f=0;f<i;f++)c.set(d,(u*i+f)*l);return c}function m(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e+1,r=i*t,o=new du.Float32BufferAttribute(r,1),s=0,a=i;s<a;s++)for(var l=s/(a-1),c=0;c<t;c++){var u=s*t+c,h=n?r-1-u:u;o.setX(h,l)}return o}Uc(e.pathsData,e.scene,{createObj:function(){var e=new du.Group;return e.__globeObjType="path",e},updateObj:function(g,A){var y=o(A),v=null!==y&&void 0!==y;if(!g.children.length||v===("Line"===g.children[0].type)){_c(g);var b=v?new Ul["Line2"](new Ul["LineGeometry"],new Ul["LineMaterial"]):new du.Line(new du.BufferGeometry,h.clone());g.add(b)}var _=g.children[0],w=f(t(A),n,i,r,e.pathResolution),x=u(A);if(_.__dashAnimateStep=x>0?1e3/x:0,v){_.material.resolution=e.rendererSize;var S=a(A),T=l(A),E=c(A);_.material.dashed=T>0,_.material.dashed?_.material.defines.USE_DASH="":delete _.material.defines.USE_DASH,_.material.dashed&&(_.material.dashScale=1/d(w),_.material.dashSize=S,_.material.gapSize=T,_.material.dashOffset=-E);var M=s(A);if(M instanceof Array){var C=p(s(A),w.length-1,1,!1);_.geometry.setColors(C.array),_.material.vertexColors=!0}else{var k=M,P=Bc(k);_.material.color=new du.Color(Nc(k)),_.material.transparent=P<1,_.material.opacity=P,_.material.vertexColors=!1}_.material.needsUpdate=!0}else{Object.assign(_.material.uniforms,{dashSize:{value:a(A)},gapSize:{value:l(A)},dashOffset:{value:c(A)}});var I=p(s(A),w.length),R=m(w.length,1,!0);_.geometry[pu]("vertexColor",I),_.geometry[pu]("vertexRelDistance",R)}var D=hu(A.__currentTargetD&&A.__currentTargetD.points||[w[0]],w),L=function(e){var t,n=A.__currentTargetD=e,i=n.stroke,r=n.interpolK,o=A.__currentTargetD.points=D(r);v?(_.geometry.setPositions((t=[]).concat.apply(t,cc(o.map((function(e){var t=e.x,n=e.y,i=e.z;return[t,n,i]}))))),_.material.linewidth=i,_.material.dashed&&_.computeLineDistances()):(_.geometry.setFromPoints(o),_.geometry.computeBoundingSphere())},N={stroke:y,interpolK:1},B=Object.assign({},A.__currentTargetD||N,{interpolK:0});Object.keys(N).some((function(e){return B[e]!==N[e]}))&&(!e.pathTransitionDuration||e.pathTransitionDuration<0?L(N):new O.a.Tween(B).to(N,e.pathTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(L).start())}})}}),Au=window.THREE?window.THREE:{Euler:r["Euler"],Mesh:r["Mesh"],MeshLambertMaterial:r["MeshLambertMaterial"],SphereGeometry:r["SphereGeometry"]},yu=M({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new Au.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t){_c(e),t.scene=e},update:function(e){var t=ht(e.tileLat),n=ht(e.tileLng),i=ht(e.tileAltitude),r=ht(e.tileWidth),o=ht(e.tileHeight),s=ht(e.tileUseGlobeProjection),a=ht(e.tileMaterial),l=ht(e.tileCurvatureResolution);Uc(e.tilesData,e.scene,{createObj:function(){var e=new Au.Mesh;return e.__globeObjType="tile",e},updateObj:function(c,u){c.material=a(u);var h=s(u),d=l(u),f=function(e){var t=c.__currentTargetD=e,n=t.lat,i=t.lng,r=t.alt,o=t.width,s=t.height,a=vu(i),l=vu(-n);c.geometry&&c.geometry.dispose(),c.geometry=new Au.SphereGeometry(xc*(1+r),Math.ceil(o/(d||-1)),Math.ceil(s/(d||-1)),vu(90-o/2)+(h?a:0),vu(o),vu(90-s/2)+(h?l:0),vu(s)),h||c.setRotationFromEuler(new Au.Euler(l,a,0,"YXZ"))},p={lat:+t(u),lng:+n(u),alt:+i(u),width:+r(u),height:+o(u)},m=c.__currentTargetD||Object.assign({},p,{width:0,height:0});Object.keys(p).some((function(e){return m[e]!==p[e]}))&&(!e.tilesTransitionDuration||e.tilesTransitionDuration<0?f(p):new O.a.Tween(m).to(p,e.tilesTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(f).start())}})}}),vu=function(e){return e*Math.PI/180},bu={0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},"ο":{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"¦":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},"Τ":{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},"Π":{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},"ΐ":{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"²":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"–":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},"Κ":{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},"ƒ":{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},"ό":{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"»":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"©":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},"ώ":{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"«":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"∙":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},"ÿ":{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},"µ":{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},"Ι":{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},"Ύ":{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"’":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},"Ν":{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},"ς":{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},"Ψ":{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},"ι":{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},"Ά":{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},"ε":{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},"Δ":{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"‰":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"—":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},"ρ":{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"¯":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},"Η":{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},"Α":{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"…":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},"ν":{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"¶":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},"β":{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},"Μ":{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},"Ό":{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"Ή":{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"•":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"¥":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},"γ":{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},"α":{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"­":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},"Χ":{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"†":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"°":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},"Ξ":{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "}," ":{x_min:0,x_max:0,ha:853},"Ϋ":{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"”":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},"Ί":{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},"Β":{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},"υ":{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},"χ":{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},"ί":{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},"Ζ":{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"¨":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"‹":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"„":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},"δ":{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},"έ":{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},"ω":{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"´":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"±":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"ϋ":{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"§":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},"Ω":{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},"ύ":{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"™":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},"ή":{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},"Θ":{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"®":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},"Ε":{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"³":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},"σ":{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},"ζ":{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},"θ":{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},"Ο":{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},"Γ":{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},"Έ":{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"Ώ":{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},"Ϊ":{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"½":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},"Ρ":{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},"ª":{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"΅":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},"Φ":{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"⁋":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},"Σ":{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"›":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"£":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"¬":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},"λ":{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},"τ":{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},"ξ":{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},"Λ":{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},"ΰ":{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"·":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},"Υ":{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},"μ":{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},"φ":{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"“":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"‘":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},"ϊ":{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},"π":{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},"ά":{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"¤":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},"κ":{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"‡":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},"ψ":{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},"η":{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},_u="normal",wu=1189,xu=-100,Su="normal",Tu={yMin:-334,xMin:-111,yMax:1189,xMax:1672},Eu=1e3,Mu={postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) Μagenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"Μagenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:'Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r\n\r\nThe above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r\n\r\nThe Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r\n\r\nThis License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r\n\r\nThe Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r\n\r\nTHE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.',manufacturer_name:"Μagenta ltd",font_sub_family_name:"Regular"},Cu=-334,Ou="Helvetiker",ku=1522,Pu=50,Iu={glyphs:bu,cssFontWeight:_u,ascender:wu,underlinePosition:xu,cssFontStyle:Su,boundingBox:Tu,resolution:Eu,original_font_information:Mu,descender:Cu,familyName:Ou,lineHeight:ku,underlineThickness:Pu},Ru=$l($l({},window.THREE?window.THREE:{CircleGeometry:r["CircleGeometry"],Group:r["Group"],Mesh:r["Mesh"],MeshLambertMaterial:r["MeshLambertMaterial"],TextGeometry:zl,Vector3:r["Vector3"]}),{},{Font:ql,TextGeometry:zl}),Du=M({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:0},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:Iu,onChange:function(e,t){t.font=new Ru.Font(e)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t){_c(e),t.scene=e},update:function(e){var t=ht(e.labelLat),n=ht(e.labelLng),i=ht(e.labelAltitude),r=ht(e.labelText),o=ht(e.labelSize),s=ht(e.labelRotation),a=ht(e.labelColor),l=ht(e.labelIncludeDot),c=ht(e.labelDotRadius),u=ht(e.labelDotOrientation),h=new Set(["right","top","bottom"]),d=2*Math.PI*xc/360,f=new Ru.CircleGeometry(1,16);Uc(e.labelsData,e.scene,{createObj:function(){var e=new Ru.MeshLambertMaterial,t=new Ru.Group;return t.add(new Ru.Mesh(f,e)),t.add(new Ru.Mesh(void 0,e)),t.__globeObjType="label",t},updateObj:function(f,p){var m=lc(f.children,2),g=m[0],A=m[1],y=a(p),v=Bc(y);A.material.color.set(Nc(y)),A.material.transparent=v<1,A.material.opacity=v;var b=l(p),_=u(p);!b||!h.has(_)&&(_="bottom");var w=b?+c(p)*d:1e-12;g.scale.x=g.scale.y=w;var x=+o(p)*d;if(A.geometry&&A.geometry.dispose(),A.geometry=new Ru.TextGeometry(r(p),{font:e.font,size:x,height:0,curveSegments:e.labelResolution}),"right"!==_&&A.geometry.center(),b){var S=w+x/2;"right"===_&&(A.position.x=S),A.position.y={right:-x/2,top:S+x/2,bottom:-S-x/2}[_]}var T=function(t){var n=f.__currentTargetD=t,i=n.lat,r=n.lng,o=n.alt,s=n.rot,a=n.scale;Object.assign(f.position,Tc(i,r,o)),f.lookAt(e.scene.localToWorld(new Ru.Vector3(0,0,0))),f.rotateY(Math.PI),f.rotateZ(-s*Math.PI/180),f.scale.x=f.scale.y=f.scale.z=a},E={lat:+t(p),lng:+n(p),alt:+i(p),rot:+s(p),scale:1},M=f.__currentTargetD||Object.assign({},E,{scale:1e-12});Object.keys(E).some((function(e){return M[e]!==E[e]}))&&(!e.labelsTransitionDuration||e.labelsTransitionDuration<0?T(E):new O.a.Tween(M).to(E,e.labelsTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(T).start())}})}}),Lu=window.THREE?window.THREE:{BufferGeometry:r["BufferGeometry"]},Nu=function(e){Jl(n,e);var t=ac(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;Xl(this,n),e=t.call(this),e.type="CircleLineGeometry",e.parameters={radius:i,segmentCount:r};for(var o=[],s=0;s<=r;s++){var a=(s/r-.25)*Math.PI*2;o.push({x:Math.cos(a)*i,y:Math.sin(a)*i,z:0})}return e.setFromPoints(o),e}return Kl(n)}(Lu.BufferGeometry),Bu=window.THREE?window.THREE:{Color:r["Color"],Group:r["Group"],Line:r["Line"],LineBasicMaterial:r["LineBasicMaterial"],Vector3:r["Vector3"]},Fu=Qt.a["default"]||Qt.a,ju=M({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{_destructor:function(e){e.ticker&&e.ticker.dispose()}},init:function(e,t){_c(e),t.scene=e,t.ticker=new Fu,t.ticker.onTick.add((function(e){if(t.ringsData.length){var n=ht(t.ringColor),i=ht(t.ringAltitude),r=ht(t.ringMaxRadius),o=ht(t.ringPropagationSpeed),s=ht(t.ringRepeatPeriod);t.ringsData.filter((function(e){return e.__threeObj})).forEach((function(a){var l=a.__threeObj;if((l.__nextRingTime||0)<=e){var c=s(a)/1e3;l.__nextRingTime=e+(c<=0?1/0:c);var u,h=new Bu.Line(new Nu(1,t.ringResolution),new Bu.LineBasicMaterial),d=n(a),f=d instanceof Array||d instanceof Function;f?d instanceof Array?(u=ar().domain(d.map((function(e,t){return t/(d.length-1)}))).range(d),h.material.transparent=d.some((function(e){return Bc(e)<1}))):(u=d,h.material.transparent=!0):(h.material.color=new Bu.Color(Nc(d)),jc(h.material,Bc(d)));var p=xc*(1+i(a)),m=r(a),g=m*Math.PI/180,A=o(a),y=A<=0,v=function(e){var t=e.t,n=(y?1-t:t)*g;if(h.scale.x=h.scale.y=p*Math.sin(n),h.position.z=p*(1-Math.cos(n)),f){var i=u(t);h.material.color=new Bu.Color(Nc(i)),h.material.transparent&&(h.material.opacity=Bc(i))}};if(0===A)v({t:0}),l.add(h);else{var b=1e3*Math.abs(m/A);new O.a.Tween({t:0}).to({t:1},b).onUpdate(v).onStart((function(){return l.add(h)})).onComplete((function(){l.remove(h),bc(h)})).start()}}}))}}))},update:function(e){var t=ht(e.ringLat),n=ht(e.ringLng),i=ht(e.ringAltitude),r=e.scene.localToWorld(new Bu.Vector3(0,0,0));Uc(e.ringsData,e.scene,{createObj:function(){var e=new Bu.Group;return e.__globeObjType="ring",e},updateObj:function(e,o){var s=t(o),a=n(o),l=i(o);Object.assign(e.position,Tc(s,a,l)),e.lookAt(r)}},{removeDelay:3e4})}}),Uu=$l($l({},window.THREE?window.THREE:{}),{},{CSS2DObject:s}),zu=M({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(e,t){var n=t?[t]:e.htmlElementsData.map((function(e){return e.__threeObj})).filter((function(e){return e}));n.forEach((function(t){return t.visible=!e.isBehindGlobe||!e.isBehindGlobe(t.position)}))}},init:function(e,t){_c(e),t.scene=e},update:function(e,t){var n=this,i=ht(e.htmlLat),r=ht(e.htmlLng),o=ht(e.htmlAltitude),s=ht(e.htmlElement);Uc(e.htmlElementsData,e.scene,{purge:t.hasOwnProperty("htmlElement"),createObj:function(e){var t=s(e),n=new Uu.CSS2DObject(t);return n.__globeObjType="html",n},updateObj:function(t,s){var a=function(e){var i=t.__currentTargetD=e,r=i.alt,o=i.lat,s=i.lng;Object.assign(t.position,Tc(o,s,r)),n.updateObjVisibility(t)},l={lat:+i(s),lng:+r(s),alt:+o(s)};!e.htmlTransitionDuration||e.htmlTransitionDuration<0||!t.__currentTargetD?a(l):new O.a.Tween(t.__currentTargetD).to(l,e.pointsTransitionDuration).easing(O.a.Easing.Quadratic.InOut).onUpdate(a).start()}})}}),qu=window.THREE?window.THREE:{Mesh:r["Mesh"],MeshLambertMaterial:r["MeshLambertMaterial"],SphereGeometry:r["SphereGeometry"]},Vu=M({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectThreeObject:{default:new qu.Mesh(new qu.SphereGeometry(1,16,8),new qu.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(e,t){_c(e),t.scene=e},update:function(e,t){var n=ht(e.objectLat),i=ht(e.objectLng),r=ht(e.objectAltitude),o=ht(e.objectThreeObject);Uc(e.objectsData,e.scene,{purge:t.hasOwnProperty("objectThreeObject"),createObj:function(t){var n=o(t);return e.objectThreeObject===n&&(n=n.clone()),n.__globeObjType="object",n},updateObj:function(e,t){var o=+n(t),s=+i(t),a=+r(t);Object.assign(e.position,Tc(o,s,a))}})}}),Hu=M({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(e,t){_c(e),t.scene=e},update:function(e,t){e.customThreeObjectUpdate||_c(e.scene);var n=ht(e.customThreeObject),i=ht(e.customThreeObjectUpdate);Uc(e.customLayerData,e.scene,{purge:t.hasOwnProperty("customThreeObject"),createObj:function(t){var i=n(t,xc);return i&&(e.customThreeObject===i&&(i=i.clone()),i.__globeObjType="custom"),i},updateObj:function(e,t){return i(e,t,xc)}})}}),Gu=window.THREE?window.THREE:{Group:r["Group"],Vector2:r["Vector2"],Vector3:r["Vector3"]},Wu=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","labelsLayer","ringsLayer","htmlElementsLayer","objectsLayer","customLayer"],$u=wc("globeLayer",Lc),Xu=Object.assign.apply(Object,cc(["globeImageUrl","bumpImageUrl","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map((function(e){return Ql({},e,$u.linkProp(e))})))),Yu=Object.assign.apply(Object,cc(["globeMaterial"].map((function(e){return Ql({},e,$u.linkMethod(e))})))),Ku=wc("pointsLayer",Gc),Qu=Object.assign.apply(Object,cc(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map((function(e){return Ql({},e,Ku.linkProp(e))})))),Ju=wc("arcsLayer",Qc),Zu=Object.assign.apply(Object,cc(["arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map((function(e){return Ql({},e,Ju.linkProp(e))})))),eh=wc("hexBinLayer",nu),th=Object.assign.apply(Object,cc(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map((function(e){return Ql({},e,eh.linkProp(e))})))),nh=wc("hexedPolygonsLayer",cu),ih=Object.assign.apply(Object,cc(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonCurvatureResolution","hexPolygonsTransitionDuration"].map((function(e){return Ql({},e,nh.linkProp(e))})))),rh=wc("polygonsLayer",ru),oh=Object.assign.apply(Object,cc(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map((function(e){return Ql({},e,rh.linkProp(e))})))),sh=wc("pathsLayer",gu),ah=Object.assign.apply(Object,cc(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map((function(e){return Ql({},e,sh.linkProp(e))})))),lh=wc("tilesLayer",yu),ch=Object.assign.apply(Object,cc(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map((function(e){return Ql({},e,lh.linkProp(e))})))),uh=wc("labelsLayer",Du),hh=Object.assign.apply(Object,cc(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map((function(e){return Ql({},e,uh.linkProp(e))})))),dh=wc("ringsLayer",ju),fh=Object.assign.apply(Object,cc(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map((function(e){return Ql({},e,dh.linkProp(e))})))),ph=wc("htmlElementsLayer",zu),mh=Object.assign.apply(Object,cc(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlTransitionDuration"].map((function(e){return Ql({},e,ph.linkProp(e))})))),gh=wc("objectsLayer",Vu),Ah=Object.assign.apply(Object,cc(["objectsData","objectLat","objectLng","objectAltitude","objectThreeObject"].map((function(e){return Ql({},e,gh.linkProp(e))})))),yh=wc("customLayer",Hu),vh=Object.assign.apply(Object,cc(["customLayerData","customThreeObject","customThreeObjectUpdate"].map((function(e){return Ql({},e,yh.linkProp(e))})))),bh=M({props:$l($l($l($l($l($l($l($l($l($l($l($l($l({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new Gu.Vector2(window.innerWidth,window.innerHeight),onChange:function(e,t){t.pathsLayer.rendererSize(e)},triggerUpdate:!1}},Xu),Qu),Zu),th),oh),ih),ah),ch),hh),fh),mh),Ah),vh),methods:$l({getGlobeRadius:Sc,getCoords:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Tc.apply(void 0,n)},toGeoCoords:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Ec.apply(void 0,n)},setPointOfView:function(e,t,n){var i=void 0;if(t){var r,o,s,a=Sc(),l=n?t.clone().sub(n):t;i=function(e){void 0===r&&(r=l.length()),void 0===o&&(o=Math.sqrt(Math.pow(r,2)-Math.pow(a,2))),void 0===s&&(s=Math.acos(o/r));var t=l.distanceTo(e);if(t<o)return!1;var n=e.length(),i=Math.acos((Math.pow(r,2)+Math.pow(t,2)-Math.pow(n,2))/(2*r*t));return i<s}}e.layersThatNeedBehindGlobeChecker.forEach((function(e){return e.isBehindGlobe(i)}))},_destructor:function(e){cancelAnimationFrame(e.animationFrameRequestId),e.destructableLayers.forEach((function(e){return e._destructor()}))}},Yu),stateInit:function(){var e={globeLayer:Lc(),pointsLayer:Gc(),arcsLayer:Qc(),hexBinLayer:nu(),polygonsLayer:ru(),hexedPolygonsLayer:cu(),pathsLayer:gu(),tilesLayer:yu(),labelsLayer:Du(),ringsLayer:ju(),htmlElementsLayer:zu(),objectsLayer:Vu(),customLayer:Hu()};return $l($l({},e),{},{layersThatNeedBehindGlobeChecker:Object.values(e).filter((function(e){return e.hasOwnProperty("isBehindGlobe")})),destructableLayers:Object.values(e).filter((function(e){return e.hasOwnProperty("_destructor")}))})},init:function(e,t,n){var i=n.animateIn,r=void 0===i||i,o=n.waitForGlobeReady,s=void 0===o||o;_c(e),e.add(t.scene=new Gu.Group),t.scene.visible=!1,Wu.forEach((function(e){var n=new Gu.Group;t.scene.add(n),t[e](n)}));var a=function(){if(r){t.scene.scale.set(1e-6,1e-6,1e-6),new O.a.Tween({k:1e-6}).to({k:1},600).easing(O.a.Easing.Quadratic.Out).onUpdate((function(e){var n=e.k;return t.scene.scale.set(n,n,n)})).start();var e=new Gu.Vector3(0,1,0);new O.a.Tween({rot:2*Math.PI}).to({rot:0},1200).easing(O.a.Easing.Quintic.Out).onUpdate((function(n){var i=n.rot;return t.scene.setRotationFromAxisAngle(e,i)})).start()}t.scene.visible=!0,t.onGlobeReady&&t.onGlobeReady()};s?t.globeLayer.onReady(a):a(),function e(){t.animationFrameRequestId=requestAnimationFrame(e),O.a.update()}()},update:function(e){}});function _h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=function(t){Jl(r,t);var i=ac(r);function r(){var t;Xl(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s)),t.__kapsuleInstance=e.apply(void 0,s).apply(void 0,[].concat(cc(n?[oc(t)]:[]),s)),t}return Kl(r)}(t);return Object.keys(e()).forEach((function(e){return i.prototype[e]=function(){var t,n=(t=this.__kapsuleInstance)[e].apply(t,arguments);return n===this.__kapsuleInstance?this:n}})),i}var wh=window.THREE?window.THREE:{Group:r["Group"]},xh=_h(bh,wh.Group,!0);const Sh={type:"change"},Th={type:"start"},Eh={type:"end"};class Mh extends o["EventDispatcher"]{constructor(e,t){super();const n=this,i={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:o["MOUSE"].ROTATE,MIDDLE:o["MOUSE"].DOLLY,RIGHT:o["MOUSE"].PAN},this.target=new o["Vector3"];const r=1e-6,s=new o["Vector3"];let a=1,l=i.NONE,c=i.NONE,u=0,h=0,d=0;const f=new o["Vector3"],p=new o["Vector2"],m=new o["Vector2"],g=new o["Vector3"],A=new o["Vector2"],y=new o["Vector2"],v=new o["Vector2"],b=new o["Vector2"],_=[],w={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};const x=function(){const e=new o["Vector2"];return function(t,i){return e.set((t-n.screen.left)/n.screen.width,(i-n.screen.top)/n.screen.height),e}}(),S=function(){const e=new o["Vector2"];return function(t,i){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-i))/n.screen.width),e}}();function T(e){!1!==n.enabled&&(0===_.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",E),n.domElement.addEventListener("pointerup",M)),j(e),"touch"===e.pointerType?L(e):P(e))}function E(e){!1!==n.enabled&&("touch"===e.pointerType?N(e):I(e))}function M(e){!1!==n.enabled&&("touch"===e.pointerType?B(e):R(),U(e),0===_.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",E),n.domElement.removeEventListener("pointerup",M)))}function C(e){U(e)}function O(e){!1!==n.enabled&&(window.removeEventListener("keydown",O),c===i.NONE&&(e.code!==n.keys[i.ROTATE]||n.noRotate?e.code!==n.keys[i.ZOOM]||n.noZoom?e.code!==n.keys[i.PAN]||n.noPan||(c=i.PAN):c=i.ZOOM:c=i.ROTATE))}function k(){!1!==n.enabled&&(c=i.NONE,window.addEventListener("keydown",O))}function P(e){if(l===i.NONE)switch(e.button){case n.mouseButtons.LEFT:l=i.ROTATE;break;case n.mouseButtons.MIDDLE:l=i.ZOOM;break;case n.mouseButtons.RIGHT:l=i.PAN;break}const t=c!==i.NONE?c:l;t!==i.ROTATE||n.noRotate?t!==i.ZOOM||n.noZoom?t!==i.PAN||n.noPan||(v.copy(x(e.pageX,e.pageY)),b.copy(v)):(A.copy(x(e.pageX,e.pageY)),y.copy(A)):(m.copy(S(e.pageX,e.pageY)),p.copy(m)),n.dispatchEvent(Th)}function I(e){const t=c!==i.NONE?c:l;t!==i.ROTATE||n.noRotate?t!==i.ZOOM||n.noZoom?t!==i.PAN||n.noPan||b.copy(x(e.pageX,e.pageY)):y.copy(x(e.pageX,e.pageY)):(p.copy(m),m.copy(S(e.pageX,e.pageY)))}function R(){l=i.NONE,n.dispatchEvent(Eh)}function D(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:A.y-=.025*e.deltaY;break;case 1:A.y-=.01*e.deltaY;break;default:A.y-=25e-5*e.deltaY;break}n.dispatchEvent(Th),n.dispatchEvent(Eh)}}function L(e){switch(z(e),_.length){case 1:l=i.TOUCH_ROTATE,m.copy(S(_[0].pageX,_[0].pageY)),p.copy(m);break;default:l=i.TOUCH_ZOOM_PAN;const e=_[0].pageX-_[1].pageX,t=_[0].pageY-_[1].pageY;h=u=Math.sqrt(e*e+t*t);const n=(_[0].pageX+_[1].pageX)/2,r=(_[0].pageY+_[1].pageY)/2;v.copy(x(n,r)),b.copy(v);break}n.dispatchEvent(Th)}function N(e){switch(z(e),_.length){case 1:p.copy(m),m.copy(S(e.pageX,e.pageY));break;default:const t=q(e),n=e.pageX-t.x,i=e.pageY-t.y;h=Math.sqrt(n*n+i*i);const r=(e.pageX+t.x)/2,o=(e.pageY+t.y)/2;b.copy(x(r,o));break}}function B(e){switch(_.length){case 0:l=i.NONE;break;case 1:l=i.TOUCH_ROTATE,m.copy(S(e.pageX,e.pageY)),p.copy(m);break;case 2:l=i.TOUCH_ZOOM_PAN;for(let t=0;t<_.length;t++)if(_[t].pointerId!==e.pointerId){const e=w[_[t].pointerId];m.copy(S(e.x,e.y)),p.copy(m);break}break}n.dispatchEvent(Eh)}function F(e){!1!==n.enabled&&e.preventDefault()}function j(e){_.push(e)}function U(e){delete w[e.pointerId];for(let t=0;t<_.length;t++)if(_[t].pointerId==e.pointerId)return void _.splice(t,1)}function z(e){let t=w[e.pointerId];void 0===t&&(t=new o["Vector2"],w[e.pointerId]=t),t.set(e.pageX,e.pageY)}function q(e){const t=e.pointerId===_[0].pointerId?_[1]:_[0];return w[t.pointerId]}this.rotateCamera=function(){const e=new o["Vector3"],t=new o["Quaternion"],i=new o["Vector3"],r=new o["Vector3"],s=new o["Vector3"],a=new o["Vector3"];return function(){a.set(m.x-p.x,m.y-p.y,0);let o=a.length();o?(f.copy(n.object.position).sub(n.target),i.copy(f).normalize(),r.copy(n.object.up).normalize(),s.crossVectors(r,i).normalize(),r.setLength(m.y-p.y),s.setLength(m.x-p.x),a.copy(r.add(s)),e.crossVectors(a,f).normalize(),o*=n.rotateSpeed,t.setFromAxisAngle(e,o),f.applyQuaternion(t),n.object.up.applyQuaternion(t),g.copy(e),d=o):!n.staticMoving&&d&&(d*=Math.sqrt(1-n.dynamicDampingFactor),f.copy(n.object.position).sub(n.target),t.setFromAxisAngle(g,d),f.applyQuaternion(t),n.object.up.applyQuaternion(t)),p.copy(m)}}(),this.zoomCamera=function(){let e;l===i.TOUCH_ZOOM_PAN?(e=u/h,u=h,n.object.isPerspectiveCamera?f.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(y.y-A.y)*n.zoomSpeed,1!==e&&e>0&&(n.object.isPerspectiveCamera?f.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?A.copy(y):A.y+=(y.y-A.y)*this.dynamicDampingFactor)},this.panCamera=function(){const e=new o["Vector2"],t=new o["Vector3"],i=new o["Vector3"];return function(){if(e.copy(b).sub(v),e.lengthSq()){if(n.object.isOrthographicCamera){const t=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,i=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=t,e.y*=i}e.multiplyScalar(f.length()*n.panSpeed),i.copy(f).cross(n.object.up).setLength(e.x),i.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(i),n.target.add(i),n.staticMoving?v.copy(b):v.add(e.subVectors(b,v).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(f.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,f.setLength(n.maxDistance)),A.copy(y)),f.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,f.setLength(n.minDistance)),A.copy(y)))},this.update=function(){f.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,f),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),s.distanceToSquared(n.object.position)>r&&(n.dispatchEvent(Sh),s.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(s.distanceToSquared(n.object.position)>r||a!==n.object.zoom)&&(n.dispatchEvent(Sh),s.copy(n.object.position),a=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){l=i.NONE,c=i.NONE,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),f.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(Sh),s.copy(n.object.position),a=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",F),n.domElement.removeEventListener("pointerdown",T),n.domElement.removeEventListener("pointercancel",C),n.domElement.removeEventListener("wheel",D),n.domElement.removeEventListener("pointermove",E),n.domElement.removeEventListener("pointerup",M),window.removeEventListener("keydown",O),window.removeEventListener("keyup",k)},this.domElement.addEventListener("contextmenu",F),this.domElement.addEventListener("pointerdown",T),this.domElement.addEventListener("pointercancel",C),this.domElement.addEventListener("wheel",D,{passive:!1}),window.addEventListener("keydown",O),window.addEventListener("keyup",k),this.handleResize(),this.update()}}const Ch={type:"change"},Oh={type:"start"},kh={type:"end"};class Ph extends o["EventDispatcher"]{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new o["Vector3"],this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:o["MOUSE"].ROTATE,MIDDLE:o["MOUSE"].DOLLY,RIGHT:o["MOUSE"].PAN},this.touches={ONE:o["TOUCH"].ROTATE,TWO:o["TOUCH"].DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",ie),this._domElementKeyEvents=e},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ie),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(Ch),n.update(),r=i.NONE},this.update=function(){const t=new o["Vector3"],d=(new o["Quaternion"]).setFromUnitVectors(e.up,new o["Vector3"](0,1,0)),f=d.clone().invert(),p=new o["Vector3"],m=new o["Quaternion"],g=2*Math.PI;return function(){const e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(d),a.setFromVector3(t),n.autoRotate&&r===i.NONE&&T(x()),n.enableDamping?(a.theta+=l.theta*n.dampingFactor,a.phi+=l.phi*n.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let o=n.minAzimuthAngle,A=n.maxAzimuthAngle;return isFinite(o)&&isFinite(A)&&(o<-Math.PI?o+=g:o>Math.PI&&(o-=g),A<-Math.PI?A+=g:A>Math.PI&&(A-=g),a.theta=o<=A?Math.max(o,Math.min(A,a.theta)):a.theta>(o+A)/2?Math.max(o,a.theta):Math.min(A,a.theta)),a.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(n.minDistance,Math.min(n.maxDistance,a.radius)),!0===n.enableDamping?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),t.setFromSpherical(a),t.applyQuaternion(f),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(h||p.distanceToSquared(n.object.position)>s||8*(1-m.dot(n.object.quaternion))>s)&&(n.dispatchEvent(Ch),p.copy(n.object.position),m.copy(n.object.quaternion),h=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",se),n.domElement.removeEventListener("pointerdown",K),n.domElement.removeEventListener("pointercancel",Z),n.domElement.removeEventListener("wheel",ne),n.domElement.removeEventListener("pointermove",Q),n.domElement.removeEventListener("pointerup",J),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",ie),n._domElementKeyEvents=null)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=i.NONE;const s=1e-6,a=new o["Spherical"],l=new o["Spherical"];let c=1;const u=new o["Vector3"];let h=!1;const d=new o["Vector2"],f=new o["Vector2"],p=new o["Vector2"],m=new o["Vector2"],g=new o["Vector2"],A=new o["Vector2"],y=new o["Vector2"],v=new o["Vector2"],b=new o["Vector2"],_=[],w={};function x(){return 2*Math.PI/60/60*n.autoRotateSpeed}function S(){return Math.pow(.95,n.zoomSpeed)}function T(e){l.theta-=e}function E(e){l.phi-=e}const M=function(){const e=new o["Vector3"];return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),u.add(e)}}(),C=function(){const e=new o["Vector3"];return function(t,i){!0===n.screenSpacePanning?e.setFromMatrixColumn(i,1):(e.setFromMatrixColumn(i,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),u.add(e)}}(),O=function(){const e=new o["Vector3"];return function(t,i){const r=n.domElement;if(n.object.isPerspectiveCamera){const o=n.object.position;e.copy(o).sub(n.target);let s=e.length();s*=Math.tan(n.object.fov/2*Math.PI/180),M(2*t*s/r.clientHeight,n.object.matrix),C(2*i*s/r.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(M(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),C(i*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function k(e){n.object.isPerspectiveCamera?c/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(e){n.object.isPerspectiveCamera?c*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){d.set(e.clientX,e.clientY)}function R(e){y.set(e.clientX,e.clientY)}function D(e){m.set(e.clientX,e.clientY)}function L(e){f.set(e.clientX,e.clientY),p.subVectors(f,d).multiplyScalar(n.rotateSpeed);const t=n.domElement;T(2*Math.PI*p.x/t.clientHeight),E(2*Math.PI*p.y/t.clientHeight),d.copy(f),n.update()}function N(e){v.set(e.clientX,e.clientY),b.subVectors(v,y),b.y>0?k(S()):b.y<0&&P(S()),y.copy(v),n.update()}function B(e){g.set(e.clientX,e.clientY),A.subVectors(g,m).multiplyScalar(n.panSpeed),O(A.x,A.y),m.copy(g),n.update()}function F(e){e.deltaY<0?P(S()):e.deltaY>0&&k(S()),n.update()}function j(e){let t=!1;switch(e.code){case n.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?E(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):O(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?E(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):O(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?T(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):O(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?T(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):O(-n.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),n.update())}function U(){if(1===_.length)d.set(_[0].pageX,_[0].pageY);else{const e=.5*(_[0].pageX+_[1].pageX),t=.5*(_[0].pageY+_[1].pageY);d.set(e,t)}}function z(){if(1===_.length)m.set(_[0].pageX,_[0].pageY);else{const e=.5*(_[0].pageX+_[1].pageX),t=.5*(_[0].pageY+_[1].pageY);m.set(e,t)}}function q(){const e=_[0].pageX-_[1].pageX,t=_[0].pageY-_[1].pageY,n=Math.sqrt(e*e+t*t);y.set(0,n)}function V(){n.enableZoom&&q(),n.enablePan&&z()}function H(){n.enableZoom&&q(),n.enableRotate&&U()}function G(e){if(1==_.length)f.set(e.pageX,e.pageY);else{const t=ue(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);f.set(n,i)}p.subVectors(f,d).multiplyScalar(n.rotateSpeed);const t=n.domElement;T(2*Math.PI*p.x/t.clientHeight),E(2*Math.PI*p.y/t.clientHeight),d.copy(f)}function W(e){if(1===_.length)g.set(e.pageX,e.pageY);else{const t=ue(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);g.set(n,i)}A.subVectors(g,m).multiplyScalar(n.panSpeed),O(A.x,A.y),m.copy(g)}function $(e){const t=ue(e),i=e.pageX-t.x,r=e.pageY-t.y,o=Math.sqrt(i*i+r*r);v.set(0,o),b.set(0,Math.pow(v.y/y.y,n.zoomSpeed)),k(b.y),y.copy(v)}function X(e){n.enableZoom&&$(e),n.enablePan&&W(e)}function Y(e){n.enableZoom&&$(e),n.enableRotate&&G(e)}function K(e){!1!==n.enabled&&(0===_.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",Q),n.domElement.addEventListener("pointerup",J)),ae(e),"touch"===e.pointerType?re(e):ee(e))}function Q(e){!1!==n.enabled&&("touch"===e.pointerType?oe(e):te(e))}function J(e){le(e),0===_.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",Q),n.domElement.removeEventListener("pointerup",J)),n.dispatchEvent(kh),r=i.NONE}function Z(e){le(e)}function ee(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case o["MOUSE"].DOLLY:if(!1===n.enableZoom)return;R(e),r=i.DOLLY;break;case o["MOUSE"].ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;D(e),r=i.PAN}else{if(!1===n.enableRotate)return;I(e),r=i.ROTATE}break;case o["MOUSE"].PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;I(e),r=i.ROTATE}else{if(!1===n.enablePan)return;D(e),r=i.PAN}break;default:r=i.NONE}r!==i.NONE&&n.dispatchEvent(Oh)}function te(e){switch(r){case i.ROTATE:if(!1===n.enableRotate)return;L(e);break;case i.DOLLY:if(!1===n.enableZoom)return;N(e);break;case i.PAN:if(!1===n.enablePan)return;B(e);break}}function ne(e){!1!==n.enabled&&!1!==n.enableZoom&&r===i.NONE&&(e.preventDefault(),n.dispatchEvent(Oh),F(e),n.dispatchEvent(kh))}function ie(e){!1!==n.enabled&&!1!==n.enablePan&&j(e)}function re(e){switch(ce(e),_.length){case 1:switch(n.touches.ONE){case o["TOUCH"].ROTATE:if(!1===n.enableRotate)return;U(),r=i.TOUCH_ROTATE;break;case o["TOUCH"].PAN:if(!1===n.enablePan)return;z(),r=i.TOUCH_PAN;break;default:r=i.NONE}break;case 2:switch(n.touches.TWO){case o["TOUCH"].DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;V(),r=i.TOUCH_DOLLY_PAN;break;case o["TOUCH"].DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;H(),r=i.TOUCH_DOLLY_ROTATE;break;default:r=i.NONE}break;default:r=i.NONE}r!==i.NONE&&n.dispatchEvent(Oh)}function oe(e){switch(ce(e),r){case i.TOUCH_ROTATE:if(!1===n.enableRotate)return;G(e),n.update();break;case i.TOUCH_PAN:if(!1===n.enablePan)return;W(e),n.update();break;case i.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;X(e),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;Y(e),n.update();break;default:r=i.NONE}}function se(e){!1!==n.enabled&&e.preventDefault()}function ae(e){_.push(e)}function le(e){delete w[e.pointerId];for(let t=0;t<_.length;t++)if(_[t].pointerId==e.pointerId)return void _.splice(t,1)}function ce(e){let t=w[e.pointerId];void 0===t&&(t=new o["Vector2"],w[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ue(e){const t=e.pointerId===_[0].pointerId?_[1]:_[0];return w[t.pointerId]}n.domElement.addEventListener("contextmenu",se),n.domElement.addEventListener("pointerdown",K),n.domElement.addEventListener("pointercancel",Z),n.domElement.addEventListener("wheel",ne,{passive:!1}),this.update()}}const Ih={type:"change"};class Rh extends o["EventDispatcher"]{constructor(e,t){super(),this.object=e,this.domElement=t,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const n=this,i=1e-6,r=new o["Quaternion"],s=new o["Vector3"];this.tmpQuaternion=new o["Quaternion"],this.status=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new o["Vector3"](0,0,0),this.rotationVector=new o["Vector3"](0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1;break}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0;break}this.updateMovementVector(),this.updateRotationVector()},this.pointerdown=function(e){if(this.dragToLook)this.status++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1;break}this.updateMovementVector()}},this.pointermove=function(e){if(!this.dragToLook||this.status>0){const t=this.getContainerDimensions(),n=t.size[0]/2,i=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-i)/i,this.updateRotationVector()}},this.pointerup=function(e){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0;break}this.updateMovementVector()}this.updateRotationVector()},this.update=function(e){const t=e*n.movementSpeed,o=e*n.rollSpeed;n.object.translateX(n.moveVector.x*t),n.object.translateY(n.moveVector.y*t),n.object.translateZ(n.moveVector.z*t),n.tmpQuaternion.set(n.rotationVector.x*o,n.rotationVector.y*o,n.rotationVector.z*o,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(s.distanceToSquared(n.object.position)>i||8*(1-r.dot(n.object.quaternion))>i)&&(n.dispatchEvent(Ih),r.copy(n.object.quaternion),s.copy(n.object.position))},this.updateMovementVector=function(){const e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",Dh),this.domElement.removeEventListener("pointerdown",l),this.domElement.removeEventListener("pointermove",a),this.domElement.removeEventListener("pointerup",c),window.removeEventListener("keydown",u),window.removeEventListener("keyup",h)};const a=this.pointermove.bind(this),l=this.pointerdown.bind(this),c=this.pointerup.bind(this),u=this.keydown.bind(this),h=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",Dh),this.domElement.addEventListener("pointerdown",l),this.domElement.addEventListener("pointermove",a),this.domElement.addEventListener("pointerup",c),window.addEventListener("keydown",u),window.addEventListener("keyup",h),this.updateMovementVector(),this.updateRotationVector()}}function Dh(e){e.preventDefault()}const Lh={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"};class Nh{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Bh=new o["OrthographicCamera"](-1,1,1,-1,0,1),Fh=new o["BufferGeometry"];Fh.setAttribute("position",new o["Float32BufferAttribute"]([-1,3,0,-1,-1,0,3,-1,0],3)),Fh.setAttribute("uv",new o["Float32BufferAttribute"]([0,2,0,0,2,0],2));class jh{constructor(e){this._mesh=new o["Mesh"](Fh,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Bh)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Uh extends Nh{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof o["ShaderMaterial"]?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=o["UniformsUtils"].clone(e.uniforms),this.material=new o["ShaderMaterial"]({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new jh(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class zh extends Nh{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const i=e.getContext(),r=e.state;let o,s;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0),this.inverse?(o=0,s=1):(o=1,s=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),r.buffers.stencil.setFunc(i.ALWAYS,o,4294967295),r.buffers.stencil.setClear(s),r.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(i.EQUAL,1,4294967295),r.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),r.buffers.stencil.setLocked(!0)}}class qh extends Nh{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Vh{constructor(e,t){if(this.renderer=e,void 0===t){const n=e.getSize(new o["Vector2"]);this._pixelRatio=e.getPixelRatio(),this._width=n.width,this._height=n.height,t=new o["WebGLRenderTarget"](this._width*this._pixelRatio,this._height*this._pixelRatio),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Uh(Lh),this.clock=new o["Clock"]}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let i=0,r=this.passes.length;i<r;i++){const t=this.passes[i];if(!1!==t.enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){const t=this.renderer.getContext(),n=this.renderer.state.buffers.stencil;n.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==zh&&(t instanceof zh?n=!0:t instanceof qh&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new o["Vector2"]);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(n,i),this.renderTarget2.setSize(n,i);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(n,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Hh extends Nh{constructor(e,t,n,i,r){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new o["Color"]}render(e,t,n){const i=e.autoClear;let r,o;e.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),e.autoClear=i}}var Gh=n("8d0f");function Wh(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var $h=".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  top: 0;\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}";function Xh(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function Yh(e,t,n){return t=sd(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kh(e,t){return Zh(e)||Xh(e,t)||td(e,t)||rd()}function Qh(e){return Jh(e)||ed(e)||td(e)||id()}function Jh(e){if(Array.isArray(e))return nd(e)}function Zh(e){if(Array.isArray(e))return e}function ed(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function td(e,t){if(e){if("string"===typeof e)return nd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nd(e,t):void 0}}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function id(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rd(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function od(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function sd(e){var t=od(e,"string");return"symbol"===typeof t?t:String(t)}Wh($h);var ad=window.THREE?window.THREE:{WebGLRenderer:r["WebGLRenderer"],Scene:r["Scene"],PerspectiveCamera:r["PerspectiveCamera"],Raycaster:r["Raycaster"],TextureLoader:r["TextureLoader"],Vector2:r["Vector2"],Vector3:r["Vector3"],Box3:r["Box3"],Color:r["Color"],Mesh:r["Mesh"],SphereGeometry:r["SphereGeometry"],MeshBasicMaterial:r["MeshBasicMaterial"],BackSide:r["BackSide"],EventDispatcher:r["EventDispatcher"],MOUSE:r["MOUSE"],Quaternion:r["Quaternion"],Spherical:r["Spherical"],Clock:r["Clock"]},ld=M({props:{width:{default:window.innerWidth,onChange:function(e,t,n){isNaN(e)&&(t.width=n)}},height:{default:window.innerHeight,onChange:function(e,t,n){isNaN(e)&&(t.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null,t.toolTipElem&&(t.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach((function(t){return t.render(e.scene,e.camera)})),e.enablePointerInteraction){var t=null;if(e.hoverDuringDrag||!e.isPointerDragging){var n=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter((function(t){return e.hoverFilter(t.object)})).sort((function(t,n){return e.hoverOrderComparator(t.object,n.object)})),i=n.length?n[0]:null;t=i?i.object:null,e.intersectionPoint=i?i.point:null}t!==e.hoverObj&&(e.onHover(t,e.hoverObj),e.toolTipElem.innerHTML=t&&ht(e.tooltipContent)(t)||"",e.hoverObj=t)}O.a.update()}return this},getPointerPos:function(e){var t=e.pointerPos,n=t.x,i=t.y;return{x:n,y:i}},cameraPosition:function(e,t,n,i){var r=e.camera;if(t&&e.initialised){var o=t,s=n||{x:0,y:0,z:0};if(i){var a=Object.assign({},r.position),l=h();new O.a.Tween(a).to(o,i).easing(O.a.Easing.Quadratic.Out).onUpdate(c).start(),new O.a.Tween(l).to(s,i/3).easing(O.a.Easing.Quadratic.Out).onUpdate(u).start()}else c(o),u(s);return this}return Object.assign({},r.position,{lookAt:h()});function c(e){var t=e.x,n=e.y,i=e.z;void 0!==t&&(r.position.x=t),void 0!==n&&(r.position.y=n),void 0!==i&&(r.position.z=i)}function u(t){var n=new ad.Vector3(t.x,t.y,t.z);e.controls.target?e.controls.target=n:r.lookAt(n)}function h(){return Object.assign(new ad.Vector3(0,0,-1e3).applyQuaternion(r.quaternion).add(r.position))}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return this.fitToBbox(this.getBbox.apply(this,r),t,n)},fitToBbox:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=e.camera;if(t){var o=new ad.Vector3(0,0,0),s=2*Math.max.apply(Math,Qh(Object.entries(t).map((function(e){var t=Kh(e,2),n=t[0],i=t[1];return Math.max.apply(Math,Qh(i.map((function(e){return Math.abs(o[n]-e)}))))})))),a=(1-2*i/e.height)*r.fov,l=s/Math.atan(a*Math.PI/180),c=l/r.aspect,u=Math.max(l,c);if(u>0){var h=o.clone().sub(r.position).normalize().multiplyScalar(-u);this.cameraPosition(h,o,n)}}return this},getBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new ad.Box3(new ad.Vector3(0,0,0),new ad.Vector3(0,0,0)),i=e.objects.filter(t);return i.length?(i.forEach((function(e){return n.expandByObject(e)})),Object.assign.apply(Object,Qh(["x","y","z"].map((function(e){return Yh({},e,[n.min[e],n.max[e]])}))))):null},getScreenCoords:function(e,t,n,i){var r=new ad.Vector3(t,n,i);return r.project(this.camera()),{x:(r.x+1)*e.width/2,y:-(r.y-1)*e.height/2}},getSceneCoords:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new ad.Vector2(t/e.width*2-1,-n/e.height*2+1),o=new ad.Raycaster;return o.setFromCamera(r,e.camera),Object.assign({},o.ray.at(i,new ad.Vector3))},intersectingObjects:function(e,t,n){var i=new ad.Vector2(t/e.width*2-1,-n/e.height*2+1),r=new ad.Raycaster;return r.params.Line.threshold=e.lineHoverPrecision,r.setFromCamera(i,e.camera),r.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new ad.Scene,camera:new ad.PerspectiveCamera,clock:new ad.Clock}},init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.controlType,r=void 0===i?"trackball":i,o=n.rendererConfig,s=void 0===o?{}:o,a=n.extraRenderers,l=void 0===a?[]:a,c=n.waitForLoadComplete,u=void 0===c||c;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.className="scene-container",t.container.style.position="relative",t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="scene-nav-info",t.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[r]||"",t.navInfo.style.display=t.showNavInfo?null:"none",t.toolTipElem=document.createElement("div"),t.toolTipElem.classList.add("scene-tooltip"),t.container.appendChild(t.toolTipElem),t.pointerPos=new ad.Vector2,t.pointerPos.x=-2,t.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(e){return t.container.addEventListener(e,(function(n){if("pointerdown"===e&&(t.isPointerPressed=!0),!t.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||t.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(e){return Math.abs(e)>1})))&&(t.isPointerDragging=!0),t.enablePointerInteraction){var i=r(t.container);t.pointerPos.x=n.pageX-i.left,t.pointerPos.y=n.pageY-i.top,t.toolTipElem.style.top="".concat(t.pointerPos.y,"px"),t.toolTipElem.style.left="".concat(t.pointerPos.x,"px"),t.toolTipElem.style.transform="translate(-".concat(t.pointerPos.x/t.width*100,"%, ").concat(t.height-t.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}function r(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+n}}}),{passive:!0})})),t.container.addEventListener("pointerup",(function(e){t.isPointerPressed=!1,t.isPointerDragging&&(t.isPointerDragging=!1,!t.clickAfterDrag)||requestAnimationFrame((function(){0===e.button&&t.onClick(t.hoverObj||null,e,t.intersectionPoint),2===e.button&&t.onRightClick&&t.onRightClick(t.hoverObj||null,e,t.intersectionPoint)}))}),{passive:!0,capture:!0}),t.container.addEventListener("contextmenu",(function(e){t.onRightClick&&e.preventDefault()})),t.renderer=new ad.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},s)),t.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),t.container.appendChild(t.renderer.domElement),t.extraRenderers=l,t.extraRenderers.forEach((function(e){e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.pointerEvents="none",t.container.appendChild(e.domElement)})),t.postProcessingComposer=new Vh(t.renderer),t.postProcessingComposer.addPass(new Hh(t.scene,t.camera)),t.controls=new{trackball:Mh,orbit:Ph,fly:Rh}[r](t.camera,t.renderer.domElement),"fly"===r&&(t.controls.movementSpeed=300,t.controls.rollSpeed=Math.PI/6,t.controls.dragToLook=!0),"trackball"!==r&&"orbit"!==r||(t.controls.minDistance=.1,t.controls.maxDistance=t.skyRadius,t.controls.addEventListener("start",(function(){t.controlsEngaged=!0})),t.controls.addEventListener("change",(function(){t.controlsEngaged&&(t.controlsDragging=!0)})),t.controls.addEventListener("end",(function(){t.controlsEngaged=!1,t.controlsDragging=!1}))),[t.renderer,t.postProcessingComposer].concat(Qh(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.camera.position.z=1e3,t.scene.add(t.skysphere=new ad.Mesh),t.skysphere.visible=!1,t.loadComplete=t.scene.visible=!u,window.scene=t.scene},update:function(e,t){if(e.width&&e.height&&(t.hasOwnProperty("width")||t.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(Qh(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),t.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&t.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=2.5*e.skyRadius,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new ad.SphereGeometry(e.skyRadius)),t.hasOwnProperty("backgroundColor")){var n=Object(Gh["parseToRgb"])(e.backgroundColor).alpha;void 0===n&&(n=1),e.renderer.setClearColor(new ad.Color(Object(Gh["opacify"])(1,e.backgroundColor)),n)}function i(){e.loadComplete=e.scene.visible=!0}t.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?(new ad.TextureLoader).load(e.backgroundImageUrl,(function(t){e.skysphere.material=new ad.MeshBasicMaterial({map:t,side:ad.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&i()})):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&i())),t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),t.hasOwnProperty("objects")&&((t.objects||[]).forEach((function(t){return e.scene.remove(t)})),e.objects.forEach((function(t){return e.scene.add(t)})))}});function cd(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var ud=".scene-container .clickable {\n  cursor: pointer;\n}";function hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hd(Object(n),!0).forEach((function(t){fd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fd(e,t,n){return t=xd(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pd(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function md(e,t){if(null==e)return{};var n,i,r=pd(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gd(e){return Ad(e)||yd(e)||vd(e)||_d()}function Ad(e){if(Array.isArray(e))return bd(e)}function yd(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function vd(e,t){if(e){if("string"===typeof e)return bd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bd(e,t):void 0}}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wd(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function xd(e){var t=wd(e,"string");return"symbol"===typeof t?t:String(t)}function Sd(e,t){var n=new t;return{linkProp:function(t){return{default:n[t](),onChange:function(n,i){i[e][t](n)},triggerUpdate:!1}},linkMethod:function(t){return function(n){for(var i=n[e],r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var a=i[t].apply(i,o);return a===i?this:a}}}}cd(ud);var Td=["rendererConfig","waitForGlobeReady"],Ed=dd(dd({},window.THREE?window.THREE:{AmbientLight:r["AmbientLight"],DirectionalLight:r["DirectionalLight"],Vector2:r["Vector2"]}),{},{CSS2DRenderer:d}),Md=Sd("globe",xh),Cd=Object.assign.apply(Object,gd(["globeImageUrl","bumpImageUrl","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude","globeMaterial","onGlobeReady","pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration","arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration","polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration","pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration","hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration","hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonCurvatureResolution","hexPolygonsTransitionDuration","tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration","ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod","labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration","htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlTransitionDuration","objectsData","objectLat","objectLng","objectAltitude","objectThreeObject","customLayerData","customThreeObject","customThreeObjectUpdate"].map((function(e){return fd({},e,Md.linkProp(e))})))),Od=Object.assign.apply(Object,gd(["getGlobeRadius","getCoords","toGeoCoords"].map((function(e){return fd({},e,Md.linkMethod(e))})))),kd=Sd("renderObjs",ld),Pd=Object.assign.apply(Object,gd(["width","height","backgroundColor","backgroundImageUrl","enablePointerInteraction"].map((function(e){return fd({},e,kd.linkProp(e))})))),Id=Object.assign.apply(Object,gd(["postProcessingComposer"].map((function(e){return fd({},e,kd.linkMethod(e))})))),Rd=M({props:dd(dd({onZoom:{triggerUpdate:!1},onGlobeClick:{triggerUpdate:!1},onGlobeRightClick:{triggerUpdate:!1},pointLabel:{default:"name",triggerUpdate:!1},onPointClick:{triggerUpdate:!1},onPointRightClick:{triggerUpdate:!1},onPointHover:{triggerUpdate:!1},arcLabel:{default:"name",triggerUpdate:!1},onArcClick:{triggerUpdate:!1},onArcRightClick:{triggerUpdate:!1},onArcHover:{triggerUpdate:!1},polygonLabel:{default:"name",triggerUpdate:!1},onPolygonClick:{triggerUpdate:!1},onPolygonRightClick:{triggerUpdate:!1},onPolygonHover:{triggerUpdate:!1},pathLabel:{default:"name",triggerUpdate:!1},onPathClick:{triggerUpdate:!1},onPathRightClick:{triggerUpdate:!1},onPathHover:{triggerUpdate:!1},hexLabel:{triggerUpdate:!1},onHexClick:{triggerUpdate:!1},onHexRightClick:{triggerUpdate:!1},onHexHover:{triggerUpdate:!1},hexPolygonLabel:{triggerUpdate:!1},onHexPolygonClick:{triggerUpdate:!1},onHexPolygonRightClick:{triggerUpdate:!1},onHexPolygonHover:{triggerUpdate:!1},tileLabel:{default:"name",triggerUpdate:!1},onTileClick:{triggerUpdate:!1},onTileRightClick:{triggerUpdate:!1},onTileHover:{triggerUpdate:!1},labelLabel:{triggerUpdate:!1},onLabelClick:{triggerUpdate:!1},onLabelRightClick:{triggerUpdate:!1},onLabelHover:{triggerUpdate:!1},objectLabel:{default:"name",triggerUpdate:!1},onObjectClick:{triggerUpdate:!1},onObjectRightClick:{triggerUpdate:!1},onObjectHover:{triggerUpdate:!1},customLayerLabel:{default:"name",triggerUpdate:!1},onCustomLayerClick:{triggerUpdate:!1},onCustomLayerRightClick:{triggerUpdate:!1},onCustomLayerHover:{triggerUpdate:!1},pointerEventsFilter:{default:function(){return!0},triggerUpdate:!1,onChange:function(e,t){return t.renderObjs.hoverFilter((function(t){return e(t,t.__data)}))}},lineHoverPrecision:{default:.2,triggerUpdate:!1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)}}},Cd),Pd),methods:dd(dd({pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(e){e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},pointOfView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=o();if(void 0===t.lat&&void 0===t.lng&&void 0===t.altitude)return i;var r=Object.assign({},i,t);if(["lat","lng","altitude"].forEach((function(e){return r[e]=+r[e]})),n){while(i.lng-r.lng>180)i.lng-=360;while(i.lng-r.lng<-180)i.lng+=360;new O.a.Tween(i).to(r,n).easing(O.a.Easing.Cubic.InOut).onUpdate(s).start()}else s(r);return this;function o(){return e.globe.toGeoCoords(e.renderObjs.cameraPosition())}function s(t){var n=t.lat,i=t.lng,r=t.altitude;e.renderObjs.cameraPosition(e.globe.getCoords(n,i,r))}},getScreenCoords:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=(t=e.globe).getCoords.apply(t,i);return e.renderObjs.getScreenCoords(o.x,o.y,o.z)},toGlobeCoords:function(e,t,n){var i=e.renderObjs.intersectingObjects(t,n).find((function(e){return"globe"===e.object.__globeObjType}));if(!i)return null;var r=e.globe.toGeoCoords(i.point),o=r.lat,s=r.lng;return{lat:o,lng:s}},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},_destructor:function(e){e.globe._destructor(),this.pauseAnimation(),this.pointsData([]),this.arcsData([]),this.polygonsData([]),this.pathsData([]),this.hexBinPointsData([]),this.hexPolygonsData([]),this.tilesData([]),this.labelsData([]),this.htmlElementsData([]),this.objectsData([]),this.customLayerData([])}},Od),Id),stateInit:function(e){var t=e.rendererConfig,n=e.waitForGlobeReady,i=void 0===n||n,r=md(e,Td),o=new xh(dd({waitForGlobeReady:i},r));return{globe:o,renderObjs:ld({controlType:"orbit",rendererConfig:t,waitForLoadComplete:i,extraRenderers:[new Ed.CSS2DRenderer]}).skyRadius(500*o.getGlobeRadius()).showNavInfo(!1)}},init:function(e,t){var n=this;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var i=document.createElement("div");t.container.appendChild(i),t.renderObjs(i),t.globe.rendererSize(t.renderObjs.renderer().getSize(new Ed.Vector2)),this.pointOfView({altitude:2.5});var r=t.globe.getGlobeRadius(),o=t.renderObjs.controls();o.minDistance=1.01*r,o.maxDistance=100*r,o.enablePan=!1,o.enableDamping=!0,o.dampingFactor=.1,o.rotateSpeed=.3,o.zoomSpeed=.3,o.addEventListener("change",(function(){var e=n.pointOfView();o.rotateSpeed=.2*e.altitude,o.zoomSpeed=.1*(e.altitude+1),t.globe.setPointOfView(t.renderObjs.camera().position),t.onZoom&&t.onZoom(e)}));var s=function(e){var t=e;while(t&&!t.hasOwnProperty("__globeObjType"))t=t.parent;return t},a={point:function(e){return e},arc:function(e){return e},polygon:function(e){return e.data},path:function(e){return e},hexbin:function(e){return e},hexPolygon:function(e){return e},tile:function(e){return e},label:function(e){return e},object:function(e){return e},custom:function(e){return e}};t.renderObjs.objects([new Ed.AmbientLight(12303291),new Ed.DirectionalLight(16777215,.6),t.globe]).hoverOrderComparator((function(e,t){var n=s(e),i=s(t),r=function(e){return!e};return r(n)-r(i)})).tooltipContent((function(e){var n={point:t.pointLabel,arc:t.arcLabel,polygon:t.polygonLabel,path:t.pathLabel,hexbin:t.hexLabel,hexPolygon:t.hexPolygonLabel,tile:t.tileLabel,label:t.labelLabel,object:t.objectLabel,custom:t.customLayerLabel},i=s(e),r=i&&i.__globeObjType;return i&&r&&n.hasOwnProperty(r)&&a.hasOwnProperty(r)&&ht(n[r])(a[r](i.__data))||""})).onHover((function(e){var n={point:t.onPointHover,arc:t.onArcHover,polygon:t.onPolygonHover,path:t.onPathHover,hexbin:t.onHexHover,hexPolygon:t.onHexPolygonHover,tile:t.onTileHover,label:t.onLabelHover,object:t.onObjectHover,custom:t.onCustomLayerHover},i={globe:t.onGlobeClick,point:t.onPointClick,arc:t.onArcClick,polygon:t.onPolygonClick,path:t.onPathClick,hexbin:t.onHexClick,hexPolygon:t.onHexPolygonClick,tile:t.onTileClick,label:t.onLabelClick,object:t.onObjectClick,custom:t.onCustomLayerClick},r=s(e);if(r&&!n.hasOwnProperty(r.__globeObjType)&&(r=null),r!==t.hoverObj){var o=t.hoverObj?t.hoverObj.__globeObjType:null,l=t.hoverObj?a[o](t.hoverObj.__data):null,c=r?r.__globeObjType:null,u=r?a[c](r.__data):null;o&&o!==c&&n[o]&&n[o](null,l),c&&n[c]&&n[c](u,o===c?l:null),t.renderObjs.renderer().domElement.classList[c&&i[c]?"add":"remove"]("clickable"),t.hoverObj=r}})).onClick((function(e,i,r){if(e){var o={globe:t.onGlobeClick,point:t.onPointClick,arc:t.onArcClick,polygon:t.onPolygonClick,path:t.onPathClick,hexbin:t.onHexClick,hexPolygon:t.onHexPolygonClick,tile:t.onTileClick,label:t.onLabelClick,object:t.onObjectClick,custom:t.onCustomLayerClick},l=s(e),c=l.__globeObjType;if(l&&o.hasOwnProperty(c)&&o[c]){var u=[i];if("globe"===c){var h=n.toGeoCoords(r),d=h.lat,f=h.lng;u.unshift({lat:d,lng:f})}else u.push(n.toGeoCoords(r));a.hasOwnProperty(c)&&u.unshift(a[c](l.__data)),o[c].apply(o,u)}}})).onRightClick((function(e,i,r){if(e){var o={globe:t.onGlobeRightClick,point:t.onPointRightClick,arc:t.onArcRightClick,polygon:t.onPolygonRightClick,path:t.onPathRightClick,hexbin:t.onHexRightClick,hexPolygon:t.onHexPolygonRightClick,tile:t.onTileRightClick,label:t.onLabelRightClick,object:t.onObjectRightClick,custom:t.onCustomLayerRightClick},l=s(e),c=l.__globeObjType;if(l&&o.hasOwnProperty(c)&&o[c]){var u=[i];if("globe"===c){var h=n.toGeoCoords(r),d=h.lat,f=h.lng;u.unshift({lat:d,lng:f})}else u.push(n.toGeoCoords(r));a.hasOwnProperty(c)&&u.unshift(a[c](l.__data)),o[c].apply(o,u)}}})),this._animationCycle()}})},"06cf":function(e,t,n){var i=n("83ab"),r=n("c65b"),o=n("d1e7"),s=n("5c6c"),a=n("fc6a"),l=n("a04b"),c=n("1a2d"),u=n("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(n){}if(c(e,t))return s(!r(o.f,e,t),e[t])}},"075e":function(e,t){},"07bd":function(e,t,n){var i=n("48c4");e.exports={isValidAddress:function(e){return!!/^0x[0-9a-fA-F]{40}$/.test(e)&&(!(!/^0x[0-9a-f]{40}$/.test(e)&&!/^0x?[0-9A-F]{40}$/.test(e))||this.verifyChecksum(e))},verifyChecksum:function(e){e=e.replace("0x","");for(var t=i.keccak256(e.toLowerCase()),n=0;n<40;n++)if(parseInt(t[n],16)>7&&e[n].toUpperCase()!==e[n]||parseInt(t[n],16)<=7&&e[n].toLowerCase()!==e[n])return!1;return!0}}},"07fa":function(e,t,n){var i=n("50c4");e.exports=function(e){return i(e.length)}},"0829":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ch})),n.d(t,"b",(function(){return dc})),n.d(t,"c",(function(){return fc})),n.d(t,"d",(function(){return iu})),n.d(t,"e",(function(){return Uc})),n.d(t,"f",(function(){return ic})),n.d(t,"g",(function(){return tc})),n.d(t,"h",(function(){return fh})),n.d(t,"i",(function(){return ru})),n.d(t,"j",(function(){return su})),n.d(t,"k",(function(){return zc})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return au})),n.d(t,"n",(function(){return jc})),n.d(t,"o",(function(){return nc})),n.d(t,"p",(function(){return Vu})),n.d(t,"q",(function(){return ju})),n.d(t,"r",(function(){return ph})),n.d(t,"s",(function(){return eh})),n.d(t,"t",(function(){return zu})),n.d(t,"u",(function(){return Xu})),n.d(t,"v",(function(){return Wu})),n.d(t,"w",(function(){return mh})),n.d(t,"x",(function(){return Qu})),n.d(t,"y",(function(){return dh})),n.d(t,"z",(function(){return j})),n.d(t,"A",(function(){return Fh})),n.d(t,"B",(function(){return Nh})),n.d(t,"C",(function(){return be})),n.d(t,"D",(function(){return G})),n.d(t,"E",(function(){return R})),n.d(t,"F",(function(){return E})),n.d(t,"G",(function(){return H})),n.d(t,"H",(function(){return Yl})),n.d(t,"I",(function(){return b})),n.d(t,"J",(function(){return Me})),n.d(t,"K",(function(){return g})),n.d(t,"L",(function(){return Gl})),n.d(t,"M",(function(){return Ch})),n.d(t,"N",(function(){return Rh})),n.d(t,"O",(function(){return Gu})),n.d(t,"P",(function(){return Vh})),n.d(t,"Q",(function(){return qh})),n.d(t,"R",(function(){return Yc})),n.d(t,"S",(function(){return rc})),n.d(t,"T",(function(){return oc})),n.d(t,"U",(function(){return ec})),n.d(t,"V",(function(){return Mh})),n.d(t,"W",(function(){return Uh})),n.d(t,"X",(function(){return Jc})),n.d(t,"Y",(function(){return sc})),n.d(t,"Z",(function(){return ou})),n.d(t,"ab",(function(){return Wc})),n.d(t,"bb",(function(){return $c})),n.d(t,"cb",(function(){return Qc})),n.d(t,"db",(function(){return nh})),n.d(t,"eb",(function(){return th})),n.d(t,"fb",(function(){return Hc})),n.d(t,"gb",(function(){return Ph})),n.d(t,"hb",(function(){return Dh})),n.d(t,"ib",(function(){return yh})),n.d(t,"jb",(function(){return bh})),n.d(t,"kb",(function(){return _h})),n.d(t,"lb",(function(){return wh})),n.d(t,"mb",(function(){return xh})),n.d(t,"nb",(function(){return Sh})),n.d(t,"ob",(function(){return Vc})),n.d(t,"pb",(function(){return Hh})),n.d(t,"qb",(function(){return qc})),n.d(t,"rb",(function(){return Yu})),n.d(t,"sb",(function(){return Ku})),n.d(t,"tb",(function(){return eu})),n.d(t,"ub",(function(){return tu})),n.d(t,"vb",(function(){return Oh})),n.d(t,"wb",(function(){return kh})),n.d(t,"xb",(function(){return Hu})),n.d(t,"yb",(function(){return $u})),n.d(t,"zb",(function(){return Uu})),n.d(t,"Ab",(function(){return lc})),n.d(t,"Bb",(function(){return ac})),n.d(t,"Cb",(function(){return jh})),n.d(t,"Db",(function(){return zh})),n.d(t,"Eb",(function(){return Th})),n.d(t,"Fb",(function(){return Wh})),n.d(t,"Gb",(function(){return f})),n.d(t,"Hb",(function(){return Ah})),n.d(t,"Ib",(function(){return Zu})),n.d(t,"Jb",(function(){return Ju})),n.d(t,"Kb",(function(){return Zc})),n.d(t,"Lb",(function(){return Eh})),n.d(t,"Mb",(function(){return Kc})),n.d(t,"Nb",(function(){return qu})),n.d(t,"Ob",(function(){return Gh}));var i=n("589b"),r=n("22e5"),o=n("e691"),s=n("1fd5"),a=n("8f6b");const l="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}c.UNAUTHENTICATED=new c(null),c.GOOGLE_CREDENTIALS=new c("google-credentials-uid"),c.FIRST_PARTY=new c("first-party-uid"),c.MOCK_USER=new c("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let u="9.17.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h=new o["b"]("@firebase/firestore");function d(){return h.logLevel}function f(e){h.setLogLevel(e)}function p(e,...t){if(h.logLevel<=o["a"].DEBUG){const n=t.map(A);h.debug(`Firestore (${u}): ${e}`,...n)}}function m(e,...t){if(h.logLevel<=o["a"].ERROR){const n=t.map(A);h.error(`Firestore (${u}): ${e}`,...n)}}function g(e,...t){if(h.logLevel<=o["a"].WARN){const n=t.map(A);h.warn(`Firestore (${u}): ${e}`,...n)}}function A(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(e="Unexpected state"){const t=`FIRESTORE (${u}) INTERNAL ASSERTION FAILED: `+e;throw m(t),new Error(t)}function v(e,t){e||y()}function b(e,t){e||y()}function _(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends s["c"]{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class E{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(c.UNAUTHENTICATED))}shutdown(){}}class M{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=c.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new S;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new S,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await i(this.currentUser)})},s=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new S)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(v("string"==typeof t.accessToken),new T(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return v(null===e||"string"==typeof e),new c(e)}}class O{constructor(e,t,n,i){this.h=e,this.l=t,this.m=n,this.g=i,this.type="FirstParty",this.user=c.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(v(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class k{constructor(e,t,n,i){this.h=e,this.l=t,this.m=n,this.g=i}getToken(){return Promise.resolve(new O(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(c.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: "+e.error.message);const n=e.token!==this.A;return this.A=e.token,p("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const i=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?i(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(v("string"==typeof e.token),this.A=e.token,new P(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class R{getToken(){return Promise.resolve(new P(""))}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=D(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%e.length))}return n}}function N(e,t){return e<t?-1:e>t?1:0}function B(e,t,n){return e.length===t.length&&e.every((e,i)=>n(e,t[i]))}function F(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return j.fromMillis(Date.now())}static fromDate(e){return j.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new j(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?N(this.nanoseconds,e.nanoseconds):N(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new j(0,0))}static max(){return new U(new j(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,t,n){void 0===t?t=0:t>e.length&&y(),void 0===n?n=e.length-t:n>e.length-t&&y(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===z.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof z?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class q extends z{construct(e,t,n){return new q(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new x(w.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new q(t)}static emptyPath(){return new q([])}}const V=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class H extends z{construct(e,t,n){return new H(e,t,n)}static isValidIdentifier(e){return V.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),H.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new H(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new x(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new x(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new x(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(o=!o,i++):"."!==t||o?(n+=t,i++):(r(),i++)}if(r(),o)throw new x(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new H(t)}static emptyPath(){return new H([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(q.fromString(e))}static fromName(e){return new G(q.fromString(e).popFirst(5))}static empty(){return new G(q.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===q.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return q.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new q(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function $(e){return e.fields.find(e=>2===e.kind)}function X(e){return e.fields.filter(e=>2!==e.kind)}function Y(e,t){let n=N(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let i=0;i<Math.min(e.fields.length,t.fields.length);++i)if(n=Q(e.fields[i],t.fields[i]),0!==n)return n;return N(e.fields.length,t.fields.length)}W.UNKNOWN_ID=-1;class K{constructor(e,t){this.fieldPath=e,this.kind=t}}function Q(e,t){const n=H.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:N(e.kind,t.kind)}class J{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new J(0,te.min())}}function Z(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=U.fromTimestamp(1e9===i?new j(n+1,0):new j(n,i));return new te(r,G.empty(),t)}function ee(e){return new te(e.readTime,e.key,-1)}class te{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new te(U.min(),G.empty(),-1)}static max(){return new te(U.max(),G.empty(),-1)}}function ne(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=G.comparator(e.documentKey,t.documentKey),0!==n?n:N(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class re{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oe(e){if(e.code!==w.FAILED_PRECONDITION||e.message!==ie)throw e;p("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(e){return se.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,n)=>{t(e)})}static reject(e){return new se((t,n)=>{n(e)})}static waitFor(e){return new se((t,n)=>{let i=0,r=0,o=!1;e.forEach(e=>{++i,e.next(()=>{++r,o&&r===i&&t()},e=>n(e))}),o=!0,r===i&&t()})}static or(e){let t=se.resolve(!1);for(const n of e)t=t.next(e=>e?se.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,i)=>{n.push(t.call(this,e,i))}),this.waitFor(n)}static mapArray(e,t){return new se((n,i)=>{const r=e.length,o=new Array(r);let s=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===r&&n(o)},e=>i(e))}})}static doWhile(e,t){return new se((n,i)=>{const r=()=>{!0===e()?t().next(()=>{r()},i):n()};r()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new S,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ue(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const n=me(t.target.error);this.P.reject(new ue(e,n))}}static open(e,t,n,i){try{return new ae(t,e.transaction(i,n))}catch(e){throw new ue(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new de(t)}}class le{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===le.D(Object(s["w"])())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),fe(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Object(s["B"])())return!1;if(le.N())return!0;const e=Object(s["w"])(),t=le.D(e),n=0<t&&t<10,i=le.k(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static N(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}))||void 0===t?void 0:t.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(e){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new ue(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new x(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new x(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new ue(e,i))},i.onupgradeneeded=e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.S.$(t,i.transaction,e.oldVersion,this.version).next(()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.F(e);const t=ae.open(this.db,e,r?"readonly":"readwrite",n),o=i(t).next(e=>(t.V(),e)).catch(e=>(t.abort(e),se.reject(e))).toPromise();return o.catch(()=>{}),await t.v,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(p("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ce{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return fe(this.q.delete())}}class ue extends x{constructor(e,t){super(w.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function he(e){return"IndexedDbTransactionError"===e.name}class de{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fe(n)}add(e){return p("SimpleDb","ADD",this.store.name,e,e),fe(this.store.add(e))}get(e){return fe(this.store.get(e)).next(t=>(void 0===t&&(t=null),p("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),fe(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),fe(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new se((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new se((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Y(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const i=this.cursor(n);return this.H(i,(e,t,n)=>n.delete())}Z(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.H(i,t)}tt(e){const t=this.cursor({});return new se((n,i)=>{t.onerror=e=>{const t=me(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next(e=>{e?i.continue():n()}):n()}})}H(e,t){const n=[];return new se((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const o=new ce(r),s=t(r.primaryKey,r.value,o);if(s instanceof se){const e=s.catch(e=>(o.done(),se.reject(e)));n.push(e)}o.isDone?i():null===o.G?r.continue():r.continue(o.G)}}).next(()=>se.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fe(e){return new se((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=me(e.target.error);n(t)}})}let pe=!1;function me(e){const t=le.D(Object(s["w"])());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pe||(pe=!0,setTimeout(()=>{throw e},0)),e}}return e}class ge{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){p("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{p("IndexBackiller","Documents written: "+await this.et.st())}catch(e){he(e)?p("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await oe(e)}await this.nt(6e4)})}}class Ae{constructor(e,t){this.localStore=e,this.persistence=t}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.it(t,e))}it(e,t){const n=new Set;let i=t,r=!0;return se.doWhile(()=>!0===r&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return p("IndexBackiller","Processing collection: "+t),this.rt(e,t,i).next(e=>{i-=e,n.add(t)});r=!1})).next(()=>t-i)}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next(n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(e,r).next(()=>this.ot(i,n)).next(n=>(p("IndexBackiller","Updating offset: "+n),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>r.size)}))}ot(e,t){let n=e;return t.changes.forEach((e,t)=>{const i=ee(t);ne(i,n)>0&&(n=i)}),new te(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}ye.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ve{constructor(e,t,n,i,r,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class be{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new be("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof be&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function we(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(e){return null==e}function Te(e){return 0===e&&1/e==-1/0}function Ee(e){return"number"==typeof e&&Number.isInteger(e)&&!Te(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ce(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ce(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return N(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const Oe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ke(e){if(v(!!e),"string"==typeof e){let t=0;const n=Oe.exec(e);if(v(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ie(e){return"string"==typeof e?Ce.fromBase64String(e):Ce.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function De(e){const t=e.mapValue.fields.__previous_value__;return Re(t)?De(t):t}function Le(e){const t=ke(e.mapValue.fields.__local_write_time__.timestampValue);return new j(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Be={nullValue:"NULL_VALUE"};function Fe(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Re(e)?4:Je(e)?9007199254740991:10:y()}function je(e,t){if(e===t)return!0;const n=Fe(e);if(n!==Fe(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Le(e).isEqual(Le(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ke(e.timestampValue),i=ke(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ie(e.bytesValue).isEqual(Ie(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Pe(e.geoPointValue.latitude)===Pe(t.geoPointValue.latitude)&&Pe(e.geoPointValue.longitude)===Pe(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Pe(e.integerValue)===Pe(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Pe(e.doubleValue),i=Pe(t.doubleValue);return n===i?Te(n)===Te(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return B(e.arrayValue.values||[],t.arrayValue.values||[],je);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(_e(n)!==_e(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!je(n[r],i[r])))return!1;return!0}(e,t);default:return y()}}function Ue(e,t){return void 0!==(e.values||[]).find(e=>je(e,t))}function ze(e,t){if(e===t)return 0;const n=Fe(e),i=Fe(t);if(n!==i)return N(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return N(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Pe(e.integerValue||e.doubleValue),i=Pe(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return qe(e.timestampValue,t.timestampValue);case 4:return qe(Le(e),Le(t));case 5:return N(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ie(e),i=Ie(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=N(n[r],i[r]);if(0!==e)return e}return N(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=N(Pe(e.latitude),Pe(t.latitude));return 0!==n?n:N(Pe(e.longitude),Pe(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=ze(n[r],i[r]);if(e)return e}return N(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ne.mapValue&&t===Ne.mapValue)return 0;if(e===Ne.mapValue)return 1;if(t===Ne.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},o=Object.keys(r);i.sort(),o.sort();for(let s=0;s<i.length&&s<o.length;++s){const e=N(i[s],o[s]);if(0!==e)return e;const t=ze(n[i[s]],r[o[s]]);if(0!==t)return t}return N(i.length,o.length)}(e.mapValue,t.mapValue);default:throw y()}}function qe(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return N(e,t);const n=ke(e),i=ke(t),r=N(n.seconds,i.seconds);return 0!==r?r:N(n.nanos,i.nanos)}function Ve(e){return He(e)}function He(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ke(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ie(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,G.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=He(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${He(e.fields[r])}`;return n+"}"}(e.mapValue):y();var t,n}function Ge(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function We(e){return!!e&&"integerValue"in e}function $e(e){return!!e&&"arrayValue"in e}function Xe(e){return!!e&&"nullValue"in e}function Ye(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ke(e){return!!e&&"mapValue"in e}function Qe(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return we(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Qe(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qe(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Je(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ze(e){return"nullValue"in e?Be:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ge(be.empty(),G.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:y()}function et(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ge(be.empty(),G.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ne:y()}function tt(e,t){const n=ze(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nt(e,t){const n=ze(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.position=e,this.inclusive=t}}function rt(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],s=e.position[r];if(i=o.field.isKeyField()?G.comparator(G.fromName(s.referenceValue),n.key):ze(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function ot(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!je(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{}class at extends st{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new At(e,t,n):"array-contains"===t?new _t(e,n):"in"===t?new wt(e,n):"not-in"===t?new xt(e,n):"array-contains-any"===t?new St(e,n):new at(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yt(e,n):new vt(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ze(t,this.value)):null!==t&&Fe(this.value)===Fe(t)&&this.matchesComparison(ze(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lt extends st{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new lt(e,t)}matches(e){return ct(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(e=>e.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ct(e){return"and"===e.op}function ut(e){return"or"===e.op}function ht(e){return dt(e)&&ct(e)}function dt(e){for(const t of e.filters)if(t instanceof lt)return!1;return!0}function ft(e){if(e instanceof at)return e.field.canonicalString()+e.op.toString()+Ve(e.value);if(ht(e))return e.filters.map(e=>ft(e)).join(",");{const t=e.filters.map(e=>ft(e)).join(",");return`${e.op}(${t})`}}function pt(e,t){return e instanceof at?function(e,t){return t instanceof at&&e.op===t.op&&e.field.isEqual(t.field)&&je(e.value,t.value)}(e,t):e instanceof lt?function(e,t){return t instanceof lt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,i)=>e&&pt(n,t.filters[i]),!0)}(e,t):void y()}function mt(e,t){const n=e.filters.concat(t);return lt.create(n,e.op)}function gt(e){return e instanceof at?function(e){return`${e.field.canonicalString()} ${e.op} ${Ve(e.value)}`}(e):e instanceof lt?function(e){return e.op.toString()+" {"+e.getFilters().map(gt).join(" ,")+"}"}(e):"Filter"}class At extends at{constructor(e,t,n){super(e,t,n),this.key=G.fromName(n.referenceValue)}matches(e){const t=G.comparator(e.key,this.key);return this.matchesComparison(t)}}class yt extends at{constructor(e,t){super(e,"in",t),this.keys=bt("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vt extends at{constructor(e,t){super(e,"not-in",t),this.keys=bt("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>G.fromName(e.referenceValue))}class _t extends at{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $e(t)&&Ue(t.arrayValue,this.value)}}class wt extends at{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ue(this.value.arrayValue,t)}}class xt extends at{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ue(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ue(this.value.arrayValue,t)}}class St extends at{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$e(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ue(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t="asc"){this.field=e,this.dir=t}}function Et(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ct(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ct(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ct(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ct(this.root,e,this.comparator,!0)}}class Ct{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Ot.RED,this.left=null!=i?i:Ot.EMPTY,this.right=null!=r?r:Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new Ot(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ot.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw y();if(this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1,Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(e,t,n,i,r){return this}insert(e,t,n){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kt{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pt(this.data.getIterator())}getIteratorFrom(e){return new Pt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof kt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class Pt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function It(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.fields=e,e.sort(H.comparator)}static empty(){return new Rt([])}unionWith(e){let t=new kt(H.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Rt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return B(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ke(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qe(t)}setAll(e){let t=H.emptyPath(),n={},i=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=Qe(e):i.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Ke(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return je(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Ke(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){we(t,(t,n)=>e[t]=n);for(const i of n)delete e[i]}clone(){return new Dt(Qe(this.value))}}function Lt(e){const t=[];return we(e.fields,(e,n)=>{const i=new H([e]);if(Ke(n)){const e=Lt(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)}),new Rt(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Nt{constructor(e,t,n,i,r,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Nt(e,0,U.min(),U.min(),U.min(),Dt.empty(),0)}static newFoundDocument(e,t,n,i){return new Nt(e,1,t,U.min(),n,i,0)}static newNoDocument(e,t){return new Nt(e,2,t,U.min(),U.min(),Dt.empty(),0)}static newUnknownDocument(e,t){return new Nt(e,3,t,U.min(),U.min(),Dt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t=null,n=[],i=[],r=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.ft=null}}function Ft(e,t=null,n=[],i=[],r=null,o=null,s=null){return new Bt(e,t,n,i,r,o,s)}function jt(e){const t=_(e);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ft(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Se(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ve(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ve(e)).join(",")),t.ft=e}return t.ft}function Ut(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Et(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ot(e.startAt,t.startAt)&&ot(e.endAt,t.endAt)}function zt(e){return G.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function qt(e,t){return e.filters.filter(e=>e instanceof at&&e.field.isEqual(t))}function Vt(e,t,n){let i=Be,r=!0;for(const o of qt(e,t)){let e=Be,t=!0;switch(o.op){case"<":case"<=":e=Ze(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Be}tt({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];tt({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function Ht(e,t,n){let i=Ne,r=!0;for(const o of qt(e,t)){let e=Ne,t=!0;switch(o.op){case">=":case">":e=et(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Ne}nt({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];nt({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t=null,n=[],i=[],r=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function Wt(e,t,n,i,r,o,s,a){return new Gt(e,t,n,i,r,o,s,a)}function $t(e){return new Gt(e)}function Xt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Yt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kt(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Qt(e){return null!==e.collectionGroup}function Jt(e){const t=_(e);if(null===t.dt){t.dt=[];const e=Kt(t),n=Yt(t);if(null!==e&&null===n)e.isKeyField()||t.dt.push(new Tt(e)),t.dt.push(new Tt(H.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Tt(H.keyField(),e))}}}return t.dt}function Zt(e){const t=_(e);if(!t._t)if("F"===t.limitType)t._t=Ft(t.path,t.collectionGroup,Jt(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of Jt(t)){const t="desc"===r.dir?"asc":"desc";e.push(new Tt(r.field,t))}const n=t.endAt?new it(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new it(t.startAt.position,t.startAt.inclusive):null;t._t=Ft(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t._t}function en(e,t){t.getFirstInequalityField(),Kt(e);const n=e.filters.concat([t]);return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tn(e,t,n){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nn(e,t){return Ut(Zt(e),Zt(t))&&e.limitType===t.limitType}function rn(e){return`${jt(Zt(e))}|lt:${e.limitType}`}function on(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>gt(e)).join(", ")}]`),Se(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ve(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ve(e)).join(",")),`Target(${t})`}(Zt(e))}; limitType=${e.limitType})`}function sn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):G.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Jt(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=rt(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,Jt(e),t))&&!(e.endAt&&!function(e,t,n){const i=rt(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,Jt(e),t))}(e,t)}function an(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ln(e){return(t,n)=>{let i=!1;for(const r of Jt(e)){const e=cn(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function cn(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?ze(i,r):y()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return y()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Te(t)?"-0":t}}function hn(e){return{integerValue:""+e}}function dn(e,t){return Ee(t)?hn(t):un(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(){this._=void 0}}function pn(e,t,n){return e instanceof An?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yn?vn(e,t):e instanceof bn?_n(e,t):function(e,t){const n=gn(e,t),i=xn(n)+xn(e.gt);return We(n)&&We(e.gt)?hn(i):un(e.yt,i)}(e,t)}function mn(e,t,n){return e instanceof yn?vn(e,t):e instanceof bn?_n(e,t):n}function gn(e,t){return e instanceof wn?We(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class An extends fn{}class yn extends fn{constructor(e){super(),this.elements=e}}function vn(e,t){const n=Sn(t);for(const i of e.elements)n.some(e=>je(e,i))||n.push(i);return{arrayValue:{values:n}}}class bn extends fn{constructor(e){super(),this.elements=e}}function _n(e,t){let n=Sn(t);for(const i of e.elements)n=n.filter(e=>!je(e,i));return{arrayValue:{values:n}}}class wn extends fn{constructor(e,t){super(),this.yt=e,this.gt=t}}function xn(e){return Pe(e.integerValue||e.doubleValue)}function Sn(e){return $e(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t){this.field=e,this.transform=t}}function En(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yn&&t instanceof yn||e instanceof bn&&t instanceof bn?B(e.elements,t.elements,je):e instanceof wn&&t instanceof wn?je(e.gt,t.gt):e instanceof An&&t instanceof An}(e.transform,t.transform)}class Mn{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function On(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class kn{}function Pn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zn(e.key,Cn.none()):new Nn(e.key,e.data,Cn.none());{const n=e.data,i=Dt.empty();let r=new kt(H.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Bn(e.key,i,new Rt(r.toArray()),Cn.none())}}function In(e,t,n){e instanceof Nn?function(e,t,n){const i=e.value.clone(),r=jn(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Bn?function(e,t,n){if(!On(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=jn(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Fn(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rn(e,t,n,i){return e instanceof Nn?function(e,t,n,i){if(!On(e.precondition,t))return n;const r=e.value.clone(),o=Un(e.fieldTransforms,i,t);return r.setAll(o),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Bn?function(e,t,n,i){if(!On(e.precondition,t))return n;const r=Un(e.fieldTransforms,i,t),o=t.data;return o.setAll(Fn(e)),o.setAll(r),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,i):function(e,t,n){return On(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dn(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=gn(i.transform,e||null);null!=r&&(null===n&&(n=Dt.empty()),n.set(i.field,r))}return n||null}function Ln(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&B(e,t,(e,t)=>En(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nn extends kn{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bn extends kn{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Fn(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function jn(e,t,n){const i=new Map;v(e.length===n.length);for(let r=0;r<n.length;r++){const o=e[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,mn(s,a,n[r]))}return i}function Un(e,t,n){const i=new Map;for(const r of e){const e=r.transform,o=n.data.field(r.field);i.set(r.field,pn(e,o,t))}return i}class zn extends kn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qn extends kn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,Gn;function Wn(e){switch(e){default:return y();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function $n(e){if(void 0===e)return m("GRPC error has no .code"),w.UNKNOWN;switch(e){case Hn.OK:return w.OK;case Hn.CANCELLED:return w.CANCELLED;case Hn.UNKNOWN:return w.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return w.INTERNAL;case Hn.UNAVAILABLE:return w.UNAVAILABLE;case Hn.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Hn.NOT_FOUND:return w.NOT_FOUND;case Hn.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Hn.ABORTED:return w.ABORTED;case Hn.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Hn.DATA_LOSS:return w.DATA_LOSS;default:return y()}}(Gn=Hn||(Hn={}))[Gn.OK=0]="OK",Gn[Gn.CANCELLED=1]="CANCELLED",Gn[Gn.UNKNOWN=2]="UNKNOWN",Gn[Gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gn[Gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gn[Gn.NOT_FOUND=5]="NOT_FOUND",Gn[Gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gn[Gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gn[Gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gn[Gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gn[Gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gn[Gn.ABORTED=10]="ABORTED",Gn[Gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gn[Gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gn[Gn.INTERNAL=13]="INTERNAL",Gn[Gn.UNAVAILABLE=14]="UNAVAILABLE",Gn[Gn.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){we(this.inner,(t,n)=>{for(const[i,r]of n)e(i,r)})}isEmpty(){return xe(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Mt(G.comparator);function Kn(){return Yn}const Qn=new Mt(G.comparator);function Jn(...e){let t=Qn;for(const n of e)t=t.insert(n.key,n);return t}function Zn(e){let t=Qn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ei(){return ni()}function ti(){return ni()}function ni(){return new Xn(e=>e.toString(),(e,t)=>e.isEqual(t))}const ii=new Mt(G.comparator),ri=new kt(G.comparator);function oi(...e){let t=ri;for(const n of e)t=t.add(n);return t}const si=new kt(N);function ai(){return si}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,ci.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new li(U.min(),i,ai(),Kn(),oi())}}class ci{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ci(n,t,oi(),oi(),oi())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,n,i){this.It=e,this.removedTargetIds=t,this.key=n,this.Tt=i}}class hi{constructor(e,t){this.targetId=e,this.Et=t}}class di{constructor(e,t,n=Ce.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class fi{constructor(){this.At=0,this.Rt=gi(),this.bt=Ce.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=oi(),t=oi(),n=oi();return this.Rt.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:y()}}),new ci(this.bt,this.Pt,e,t,n)}xt(){this.vt=!1,this.Rt=gi()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class pi{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Kn(),this.qt=mi(),this.Ut=new kt(N)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const n=this.Wt(t);switch(e.state){case 0:this.zt(t)&&n.Dt(e.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(e.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(n.Ft(),n.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),n.Dt(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((e,n)=>{this.zt(n)&&t(n)})}Jt(e){const t=e.targetId,n=e.Et.count,i=this.Yt(t);if(i){const e=i.target;if(zt(e))if(0===n){const n=new G(e.path);this.Qt(t,n,Nt.newNoDocument(n,U.min()))}else v(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((n,i)=>{const r=this.Yt(i);if(r){if(n.current&&zt(r.target)){const t=new G(r.target.path);null!==this.Lt.get(t)||this.te(i,t)||this.Qt(i,t,Nt.newNoDocument(t,e))}n.St&&(t.set(i,n.Ct()),n.xt())}});let n=oi();this.qt.forEach((e,t)=>{let i=!0;t.forEachWhile(e=>{const t=this.Yt(e);return!t||2===t.purpose||(i=!1,!1)}),i&&(n=n.add(e))}),this.Lt.forEach((t,n)=>n.setReadTime(e));const i=new li(e,t,this.Ut,this.Lt,n);return this.Lt=Kn(),this.qt=mi(),this.Ut=new kt(N),i}Gt(e,t){if(!this.zt(e))return;const n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,n){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new fi,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new kt(N),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new fi),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function mi(){return new Mt(G.comparator)}function gi(){return new Mt(G.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),yi=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})(),vi=(()=>{const e={and:"AND",or:"OR"};return e})();class bi{constructor(e,t){this.databaseId=e,this.wt=t}}function _i(e,t){return e.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wi(e,t){return e.wt?t.toBase64():t.toUint8Array()}function xi(e,t){return _i(e,t.toTimestamp())}function Si(e){return v(!!e),U.fromTimestamp(function(e){const t=ke(e);return new j(t.seconds,t.nanos)}(e))}function Ti(e,t){return function(e){return new q(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ei(e){const t=q.fromString(e);return v(Ji(t)),t}function Mi(e,t){return Ti(e.databaseId,t.path)}function Ci(e,t){const n=Ei(t);if(n.get(1)!==e.databaseId.projectId)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(Ii(n))}function Oi(e,t){return Ti(e.databaseId,t)}function ki(e){const t=Ei(e);return 4===t.length?q.emptyPath():Ii(t)}function Pi(e){return new q(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ii(e){return v(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ri(e,t,n){return{name:Mi(e,t),fields:n.value.mapValue.fields}}function Di(e,t,n){const i=Ci(e,t.name),r=Si(t.updateTime),o=t.createTime?Si(t.createTime):U.min(),s=new Dt({mapValue:{fields:t.fields}}),a=Nt.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Li(e,t){return"found"in t?function(e,t){v(!!t.found),t.found.name,t.found.updateTime;const n=Ci(e,t.found.name),i=Si(t.found.updateTime),r=t.found.createTime?Si(t.found.createTime):U.min(),o=new Dt({mapValue:{fields:t.found.fields}});return Nt.newFoundDocument(n,i,r,o)}(e,t):"missing"in t?function(e,t){v(!!t.missing),v(!!t.readTime);const n=Ci(e,t.missing),i=Si(t.readTime);return Nt.newNoDocument(n,i)}(e,t):y()}function Ni(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:y()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(e,t){return e.wt?(v(void 0===t||"string"==typeof t),Ce.fromBase64String(t||"")):(v(void 0===t||t instanceof Uint8Array),Ce.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?w.UNKNOWN:$n(e.code);return new x(t,e.message||"")}(s);n=new di(i,r,o,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ci(e,i.document.name),o=Si(i.document.updateTime),s=i.document.createTime?Si(i.document.createTime):U.min(),a=new Dt({mapValue:{fields:i.document.fields}}),l=Nt.newFoundDocument(r,o,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new ui(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Ci(e,i.document),o=i.readTime?Si(i.readTime):U.min(),s=Nt.newNoDocument(r,o),a=i.removedTargetIds||[];n=new ui([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Ci(e,i.document),o=i.removedTargetIds||[];n=new ui([],o,r,null)}else{if(!("filter"in t))return y();{t.filter;const e=t.filter;e.targetId;const i=e.count||0,r=new Vn(i),o=e.targetId;n=new hi(o,r)}}return n}function Bi(e,t){let n;if(t instanceof Nn)n={update:Ri(e,t.key,t.value)};else if(t instanceof zn)n={delete:Mi(e,t.key)};else if(t instanceof Bn)n={update:Ri(e,t.key,t.data),updateMask:Qi(t.fieldMask)};else{if(!(t instanceof qn))return y();n={verify:Mi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof An)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wn)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw y()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y()}(e,t.precondition)),n}function Fi(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Cn.updateTime(Si(e.updateTime)):void 0!==e.exists?Cn.exists(e.exists):Cn.none()}(t.currentDocument):Cn.none(),i=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue),n=new An;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new yn(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new bn(e)}else"increment"in t?n=new wn(e,t.increment):y();const i=H.fromServerFormat(t.fieldPath);return new Tn(i,n)}(e,t)):[];if(t.update){t.update.name;const r=Ci(e,t.update.name),o=new Dt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Rt(t.map(e=>H.fromServerFormat(e)))}(t.updateMask);return new Bn(r,o,e,n,i)}return new Nn(r,o,n,i)}if(t.delete){const i=Ci(e,t.delete);return new zn(i,n)}if(t.verify){const i=Ci(e,t.verify);return new qn(i,n)}return y()}function ji(e,t){return e&&e.length>0?(v(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Si(e.updateTime):Si(t);return n.isEqual(U.min())&&(n=Si(t)),new Mn(n,e.transformResults||[])}(e,t))):[]}function Ui(e,t){return{documents:[Oi(e,t.path)]}}function zi(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=Oi(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Oi(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0!==e.length)return Ki(lt.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Xi(e.field),direction:Gi(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.wt||Se(t)?t:{value:t}}(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qi(e){let t=ki(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){v(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Hi(e);return t instanceof lt&&ht(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(e=>function(e){return new Tt(Yi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Se(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new it(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new it(n,t)}(n.endAt)),Wt(t,r,s,o,a,"F",l,c)}function Vi(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function Hi(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yi(e.unaryFilter.field);return at.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Yi(e.unaryFilter.field);return at.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yi(e.unaryFilter.field);return at.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Yi(e.unaryFilter.field);return at.create(r,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(e):void 0!==e.fieldFilter?function(e){return at.create(Yi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lt.create(e.compositeFilter.filters.map(e=>Hi(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(e):y()}function Gi(e){return Ai[e]}function Wi(e){return yi[e]}function $i(e){return vi[e]}function Xi(e){return{fieldPath:e.canonicalString()}}function Yi(e){return H.fromServerFormat(e.fieldPath)}function Ki(e){return e instanceof at?function(e){if("=="===e.op){if(Ye(e.value))return{unaryFilter:{field:Xi(e.field),op:"IS_NAN"}};if(Xe(e.value))return{unaryFilter:{field:Xi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ye(e.value))return{unaryFilter:{field:Xi(e.field),op:"IS_NOT_NAN"}};if(Xe(e.value))return{unaryFilter:{field:Xi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xi(e.field),op:Wi(e.op),value:e.value}}}(e):e instanceof lt?function(e){const t=e.getFilters().map(e=>Ki(e));return 1===t.length?t[0]:{compositeFilter:{op:$i(e.op),filters:t}}}(e):y()}function Qi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ji(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tr(t)),t=er(e.get(n),t);return tr(t)}function er(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function tr(e){return e+""}function nr(e){const t=e.length;if(v(t>=2),2===t)return v(""===e.charAt(0)&&""===e.charAt(1)),q.emptyPath();const n=t-2,i=[];let r="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&y(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===r.length?s=n:(r+=n,s=r,r=""),i.push(s);break;case"":r+=e.substring(o,t),r+="\0";break;case"":r+=e.substring(o,t+1);break;default:y()}o=t+2}return new q(i)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e,t){return[e,Zi(t)]}function or(e,t,n){return[e,Zi(t),n]}const sr={},ar=["prefixPath","collectionGroup","readTime","documentId"],lr=["prefixPath","collectionGroup","documentId"],cr=["collectionGroup","readTime","prefixPath","documentId"],ur=["canonicalId","targetId"],hr=["targetId","path"],dr=["path","targetId"],fr=["collectionId","parent"],pr=["indexId","uid"],mr=["uid","sequenceNumber"],gr=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ar=["indexId","uid","orderedDocumentKey"],yr=["userId","collectionPath","documentId"],vr=["userId","collectionPath","largestBatchId"],br=["userId","collectionGroup","largestBatchId"],_r=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wr=[..._r,"documentOverlays"],xr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sr=xr,Tr=[...Sr,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends re{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Mr(e,t){const n=_(e);return le.M(n.se,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&In(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ti();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let s=this.applyToLocalView(o,r.mutatedFields);s=t.has(i.key)?null:s;const a=Pn(o,s);null!==a&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(U.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oi())}isEqual(e){return this.batchId===e.batchId&&B(this.mutations,e.mutations,(e,t)=>Ln(e,t))&&B(this.baseMutations,e.baseMutations,(e,t)=>Ln(e,t))}}class Or{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){v(e.mutations.length===n.length);let i=ii;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,n[o].version);return new Or(e,t,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t,n,i,r=U.min(),o=U.min(),s=Ce.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.ie=e}}function Rr(e,t){let n;if(t.document)n=Di(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=G.fromSegments(t.noDocument.path),i=Br(t.noDocument.readTime);n=Nt.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return y();{const e=G.fromSegments(t.unknownDocument.path),i=Br(t.unknownDocument.version);n=Nt.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new j(e[0],e[1]);return U.fromTimestamp(t)}(t.readTime)),n}function Dr(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lr(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(e,t){return{name:Mi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:_i(e,t.version.toTimestamp()),createTime:_i(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Nr(t.version)};else{if(!t.isUnknownDocument())return y();i.unknownDocument={path:n.path.toArray(),version:Nr(t.version)}}return i}function Lr(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nr(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Br(e){const t=new j(e.seconds,e.nanoseconds);return U.fromTimestamp(t)}function Fr(e,t){const n=(t.baseMutations||[]).map(t=>Fi(e.ie,t));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const i=t.mutations.map(t=>Fi(e.ie,t)),r=j.fromMillis(t.localWriteTimeMs);return new Cr(t.batchId,r,n,i)}function jr(e){const t=Br(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Br(e.lastLimboFreeSnapshotVersion):U.min();let i;var r;return void 0!==e.query.documents?(v(1===(r=e.query).documents.length),i=Zt($t(ki(r.documents[0])))):i=function(e){return Zt(qi(e))}(e.query),new Pr(i,e.targetId,0,e.lastListenSequenceNumber,t,n,Ce.fromBase64String(e.resumeToken))}function Ur(e,t){const n=Nr(t.snapshotVersion),i=Nr(t.lastLimboFreeSnapshotVersion);let r;r=zt(t.target)?Ui(e.ie,t.target):zi(e.ie,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:jt(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function zr(e){const t=qi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tn(t,t.limit,"L"):t}function qr(e,t){return new kr(t.largestBatchId,Fi(e.ie,t.overlayMutation))}function Vr(e,t){const n=t.path.lastSegment();return[e,Zi(t.path.popLast()),n]}function Hr(e,t,n,i){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Nr(i.readTime),documentKey:Zi(i.documentKey.path),largestBatchId:i.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{getBundleMetadata(e,t){return Wr(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Br(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Wr(e).put({bundleId:(n=t).id,createTime:Nr(Si(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return $r(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:zr(t.bundledQuery),readTime:Br(t.readTime)};var t})}saveNamedQuery(e,t){return $r(e).put(function(e){return{name:e.name,readTime:Nr(Si(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Wr(e){return Mr(e,"bundles")}function $r(e){return Mr(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){const n=t.uid||"";return new Xr(e,n)}getOverlay(e,t){return Yr(e).get(Vr(this.userId,t)).next(e=>e?qr(this.yt,e):null)}getOverlays(e,t){const n=ei();return se.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const i=[];return n.forEach((n,r)=>{const o=new kr(t,r);i.push(this.oe(e,o))}),se.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach(e=>i.add(Zi(e.getCollectionPath())));const r=[];return i.forEach(t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(Yr(e).Y("collectionPathOverlayIndex",i))}),se.waitFor(r)}getOverlaysForCollection(e,t,n){const i=ei(),r=Zi(t),o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Yr(e).W("collectionPathOverlayIndex",o).next(e=>{for(const t of e){const e=qr(this.yt,t);i.set(e.getKey(),e)}return i})}getOverlaysForCollectionGroup(e,t,n,i){const r=ei();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yr(e).Z({index:"collectionGroupOverlayIndex",range:s},(e,t,n)=>{const s=qr(this.yt,t);r.size()<i||s.largestBatchId===o?(r.set(s.getKey(),s),o=s.largestBatchId):n.done()}).next(()=>r)}oe(e,t){return Yr(e).put(function(e,t,n){const[i,r,o]=Vr(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Bi(e.ie,n.mutation)}}(this.yt,this.userId,t))}}function Yr(e){return Mr(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Pe(e.integerValue));else if("doubleValue"in e){const n=Pe(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Te(n)?t.le(0):t.le(n))}else if("timestampValue"in e){const n=e.timestampValue;this.he(t,20),"string"==typeof n?t.fe(n):(t.fe(""+(n.seconds||"")),t.le(n.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ie(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.he(t,45),t.le(n.latitude||0),t.le(n.longitude||0)}else"mapValue"in e?Je(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):y()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const n=e.fields||{};this.he(t,55);for(const i of Object.keys(n))this.de(i,t),this.ce(n[i],t)}ye(e,t){const n=e.values||[];this.he(t,50);for(const i of n)this.ce(i,t)}me(e,t){this.he(t,37),G.fromName(e).path.forEach(e=>{this.he(t,60),this.pe(e,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Qr(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Jr(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=Qr(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}Kr.Ie=new Kr;class Zr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ee(n.value),n=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.be(n.value),n=t.next();this.Pe()}ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ee(e);else if(e<2048)this.Ee(960|e>>>6),this.Ee(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e);else{const e=t.codePointAt(0);this.Ee(240|e>>>18),this.Ee(128|63&e>>>12),this.Ee(128|63&e>>>6),this.Ee(128|63&e)}}this.Ae()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.be(e);else if(e<2048)this.be(960|e>>>6),this.be(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.be(480|e>>>12),this.be(128|63&e>>>6),this.be(128|63&e);else{const e=t.codePointAt(0);this.be(240|e>>>18),this.be(128|63&e>>>12),this.be(128|63&e>>>6),this.be(128|63&e)}}this.Pe()}Se(e){const t=this.De(e),n=Jr(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),n=Jr(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class eo{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class to{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class no{constructor(){this.$e=new Zr,this.Be=new eo(this.$e),this.Le=new to(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new io(this.indexId,this.documentKey,this.arrayValue,n)}}function ro(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=oo(e.arrayValue,t.arrayValue),0!==n?n:(n=oo(e.directionalValue,t.directionalValue),0!==n?n:G.comparator(e.documentKey,t.documentKey)))}function oo(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const e=t;e.isInequality()?this.Qe=e:this.Ge.push(e)}}je(e){v(e.collectionGroup===this.collectionId);const t=$(e);if(void 0!==t&&!this.We(t))return!1;const n=X(e);let i=0,r=0;for(;i<n.length&&this.We(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Qe){const e=n[i];if(!this.ze(this.Qe,e)||!this.He(this.Ke[r++],e))return!1;++i}for(;i<n.length;++i){const e=n[i];if(r>=this.Ke.length||!this.He(this.Ke[r++],e))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e){var t,n;if(v(e instanceof at||e instanceof lt),e instanceof at){if(e instanceof wt){const i=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map(t=>at.create(e.field,"==",t)))||[];return lt.create(i,"or")}return e}const i=e.filters.map(e=>ao(e));return lt.create(i,e.op)}function lo(e){if(0===e.getFilters().length)return[];const t=fo(ao(e));return v(ho(t)),co(t)||uo(t)?[t]:t.getFilters()}function co(e){return e instanceof at}function uo(e){return e instanceof lt&&ht(e)}function ho(e){return co(e)||uo(e)||function(e){if(e instanceof lt&&ut(e)){for(const t of e.getFilters())if(!co(t)&&!uo(t))return!1;return!0}return!1}(e)}function fo(e){if(v(e instanceof at||e instanceof lt),e instanceof at)return e;if(1===e.filters.length)return fo(e.filters[0]);const t=e.filters.map(e=>fo(e));let n=lt.create(t,e.op);return n=go(n),ho(n)?n:(v(n instanceof lt),v(ct(n)),v(n.filters.length>1),n.filters.reduce((e,t)=>po(e,t)))}function po(e,t){let n;return v(e instanceof at||e instanceof lt),v(t instanceof at||t instanceof lt),n=e instanceof at?t instanceof at?function(e,t){return lt.create([e,t],"and")}(e,t):mo(e,t):t instanceof at?mo(t,e):function(e,t){if(v(e.filters.length>0&&t.filters.length>0),ct(e)&&ct(t))return mt(e,t.getFilters());const n=ut(e)?e:t,i=ut(e)?t:e,r=n.filters.map(e=>po(e,i));return lt.create(r,"or")}(e,t),go(n)}function mo(e,t){if(ct(t))return mt(t,e.getFilters());{const n=t.filters.map(t=>po(e,t));return lt.create(n,"or")}}function go(e){if(v(e instanceof at||e instanceof lt),e instanceof at)return e;const t=e.getFilters();if(1===t.length)return go(t[0]);if(dt(e))return e;const n=t.map(e=>go(e)),i=[];return n.forEach(t=>{t instanceof at?i.push(t):t instanceof lt&&(t.op===e.op?i.push(...t.filters):i.push(t))}),1===i.length?i[0]:lt.create(i,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ao{constructor(){this.Je=new yo}addToCollectionParentIndex(e,t){return this.Je.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(te.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(te.min())}updateCollectionGroup(e,t,n){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class yo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new kt(q.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new kt(q.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Uint8Array(0);class bo{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new yo,this.Xe=new Xn(e=>jt(e),(e,t)=>Ut(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const r={collectionId:n,parent:Zi(i)};return _o(e).put(r)}return se.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[F(t),""],!1,!0);return _o(e).W(i).next(e=>{for(const i of e){if(i.collectionId!==t)break;n.push(nr(i.parent))}return n})}addFieldIndex(e,t){const n=xo(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete i.indexId;const r=n.add(i);if(t.indexState){const n=So(e);return r.next(e=>{n.put(Hr(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return r.next()}deleteFieldIndex(e,t){const n=xo(e),i=So(e),r=wo(e);return n.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=wo(e);let i=!0;const r=new Map;return se.forEach(this.Ze(t),t=>this.tn(e,t).next(e=>{i&&(i=!!e),r.set(t,e)})).next(()=>{if(i){let e=oi();const i=[];return se.forEach(r,(r,o)=>{var s;p("IndexedDbIndexManager",`Using index ${s=r,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${jt(t)}`);const a=function(e,t){const n=$(t);if(void 0===n)return null;for(const i of qt(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(o,r),l=function(e,t){const n=new Map;for(const i of X(t))for(const t of qt(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,r),c=function(e,t){const n=[];let i=!0;for(const r of X(t)){const t=0===r.kind?Vt(e,r.fieldPath,e.startAt):Ht(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new it(n,i)}(o,r),u=function(e,t){const n=[];let i=!0;for(const r of X(t)){const t=0===r.kind?Ht(e,r.fieldPath,e.endAt):Vt(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new it(n,i)}(o,r),h=this.en(r,o,c),d=this.en(r,o,u),f=this.nn(r,o,l),m=this.sn(r.indexId,a,h,c.inclusive,d,u.inclusive,f);return se.forEach(m,r=>n.J(r,t.limit).next(t=>{t.forEach(t=>{const n=G.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))})}))}).next(()=>i)}return se.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:lo(lt.create(e.filters,"and")).map(t=>Ft(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,n,i,r,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,r.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.rn(t[u/l]):vo,h=this.on(e,a,n[u%l],i),d=this.un(e,a,r[u%l],o),f=s.map(t=>this.on(e,a,t,!0));c.push(...this.createRange(h,d,f))}return c}on(e,t,n,i){const r=new io(e,G.empty(),t,n);return i?r:r.Ue()}un(e,t,n,i){const r=new io(e,G.empty(),t,n);return i?r.Ue():r}tn(e,t){const n=new so(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(e=>{let t=null;for(const i of e)n.je(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t})}getIndexType(e,t){let n=2;const i=this.Ze(t);return se.forEach(i,t=>this.tn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new kt(H.comparator),n=!1;for(const i of e.filters)for(const e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&i.length>1&&2===n?1:n)}cn(e,t){const n=new no;for(const i of X(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.qe(i.kind);Kr.Ie.ue(e,r)}return n.Fe()}rn(e){const t=new no;return Kr.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const n=new no;return Kr.Ie.ue(Ge(this.databaseId,t),n.qe(function(e){const t=X(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}nn(e,t,n){if(null===n)return[];let i=[];i.push(new no);let r=0;for(const o of X(e)){const e=n[r++];for(const n of i)if(this.hn(t,o.fieldPath)&&$e(e))i=this.ln(i,o,e);else{const t=n.qe(o.kind);Kr.Ie.ue(e,t)}}return this.fn(i)}en(e,t,n){return this.nn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Fe();return t}ln(e,t,n){const i=[...e],r=[];for(const o of n.arrayValue.values||[])for(const e of i){const n=new no;n.seed(e.Fe()),Kr.Ie.ue(o,n.qe(t.kind)),r.push(n)}return r}hn(e,t){return!!e.filters.find(e=>e instanceof at&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=xo(e),i=So(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next(e=>{const t=[];return se.forEach(e,e=>i.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new J(t.sequenceNumber,new te(Br(t.readTime),new G(nr(t.documentKey)),t.largestBatchId)):J.empty(),i=e.fields.map(([e,t])=>new K(H.fromServerFormat(e),t));return new W(e.indexId,e.collectionGroup,i,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:N(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const i=xo(e),r=So(e);return this.dn(e).next(e=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>se.forEach(t,t=>r.put(Hr(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return se.forEach(t,(t,i)=>{const r=n.get(t.collectionGroup);return(r?se.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next(r=>(n.set(t.collectionGroup,r),se.forEach(r,n=>this._n(e,t,n).next(t=>{const r=this.wn(i,n);return t.isEqual(r)?se.resolve():this.mn(e,i,n,t,r)}))))})}gn(e,t,n,i){return wo(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}yn(e,t,n,i){return wo(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(n,t.key),t.key.path.toArray()])}_n(e,t,n){const i=wo(e);let r=new kt(ro);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(e,i)=>{r=r.add(new io(n.indexId,t,i.arrayValue,i.directionalValue))}).next(()=>r)}wn(e,t){let n=new kt(ro);const i=this.cn(t,e);if(null==i)return n;const r=$(t);if(null!=r){const o=e.data.field(r.fieldPath);if($e(o))for(const r of o.arrayValue.values||[])n=n.add(new io(t.indexId,e.key,this.rn(r),i))}else n=n.add(new io(t.indexId,e.key,vo,i));return n}mn(e,t,n,i,r){p("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,i,r){const o=e.getIterator(),s=t.getIterator();let a=It(o),l=It(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const i=n(a,l);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(l),l=It(s)):t?(r(a),a=It(o)):(a=It(o),l=It(s))}}(i,r,ro,i=>{o.push(this.gn(e,t,n,i))},i=>{o.push(this.yn(e,t,n,i))}),se.waitFor(o)}dn(e){let t=1;return So(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,i)=>{i.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>ro(e,t)).filter((e,t,n)=>!t||0!==ro(e,n[t-1]));const i=[];i.push(e);for(const o of n){const n=ro(o,e),r=ro(o,t);if(0===n)i[0]=e.Ue();else if(n>0&&r<0)i.push(o),i.push(o.Ue());else if(r>0)break}i.push(t);const r=[];for(let o=0;o<i.length;o+=2){if(this.pn(i[o],i[o+1]))return[];const e=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,vo,[]],t=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,vo,[]];r.push(IDBKeyRange.bound(e,t))}return r}pn(e,t){return ro(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(To)}getMinOffset(e,t){return se.mapArray(this.Ze(t),t=>this.tn(e,t).next(e=>e||y())).next(To)}}function _o(e){return Mr(e,"collectionParents")}function wo(e){return Mr(e,"indexEntries")}function xo(e){return Mr(e,"indexConfiguration")}function So(e){return Mr(e,"indexState")}function To(e){v(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<e.length;i++){const r=e[i].indexState.offset;ne(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new te(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mo{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Mo(e,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=i.Z({range:s},(e,t,n)=>(a++,n.delete()));o.push(l.next(()=>{v(1===a)}));const c=[];for(const u of n.mutations){const e=or(t,u.key.path,n.batchId);o.push(r.delete(e)),c.push(u.key)}return se.waitFor(o).next(()=>c)}function Oo(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo.DEFAULT_COLLECTION_PERCENTILE=10,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mo.DEFAULT=new Mo(41943040,Mo.DEFAULT_COLLECTION_PERCENTILE,Mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mo.DISABLED=new Mo(-1,0,0);class ko{constructor(e,t,n,i){this.userId=e,this.yt=t,this.indexManager=n,this.referenceDelegate=i,this.In={}}static re(e,t,n,i){v(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new ko(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Io(e).Z({index:"userMutationsIndex",range:n},(e,n,i)=>{t=!1,i.done()}).next(()=>t)}addMutationBatch(e,t,n,i){const r=Ro(e),o=Io(e);return o.add({}).next(s=>{v("number"==typeof s);const a=new Cr(s,t,n,i),l=function(e,t,n){const i=n.baseMutations.map(t=>Bi(e.ie,t)),r=n.mutations.map(t=>Bi(e.ie,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.yt,this.userId,a),c=[];let u=new kt((e,t)=>N(e.canonicalString(),t.canonicalString()));for(const e of i){const t=or(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(r.put(t,sr))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.In[s]=a.keys()}),se.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return Io(e).get(t).next(e=>e?(v(e.userId===this.userId),Fr(this.yt,e)):null)}Tn(e,t){return this.In[t]?se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.In[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Io(e).Z({index:"userMutationsIndex",range:i},(e,t,i)=>{t.userId===this.userId&&(v(t.batchId>=n),r=Fr(this.yt,t)),i.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Io(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(e,t,i)=>{n=t.batchId,i.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Io(e).W("userMutationsIndex",t).next(e=>e.map(e=>Fr(this.yt,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=rr(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return Ro(e).Z({range:i},(n,i,o)=>{const[s,a,l]=n,c=nr(a);if(s===this.userId&&t.path.isEqual(c))return Io(e).get(l).next(e=>{if(!e)throw y();v(e.userId===this.userId),r.push(Fr(this.yt,e))});o.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kt(N);const i=[];return t.forEach(t=>{const r=rr(this.userId,t.path),o=IDBKeyRange.lowerBound(r),s=Ro(e).Z({range:o},(e,i,r)=>{const[o,s,a]=e,l=nr(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):r.done()});i.push(s)}),se.waitFor(i).next(()=>this.En(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=rr(this.userId,n),o=IDBKeyRange.lowerBound(r);let s=new kt(N);return Ro(e).Z({range:o},(e,t,r)=>{const[o,a,l]=e,c=nr(a);o===this.userId&&n.isPrefixOf(c)?c.length===i&&(s=s.add(l)):r.done()}).next(()=>this.En(e,s))}En(e,t){const n=[],i=[];return t.forEach(t=>{i.push(Io(e).get(t).next(e=>{if(null===e)throw y();v(e.userId===this.userId),n.push(Fr(this.yt,e))}))}),se.waitFor(i).next(()=>n)}removeMutationBatch(e,t){return Co(e.se,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),se.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return Ro(e).Z({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=nr(e[1]);i.push(t)}else n.done()}).next(()=>{v(0===i.length)})})}containsKey(e,t){return Po(e,this.userId,t)}Rn(e){return Do(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Po(e,t,n){const i=rr(t,n.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Ro(e).Z({range:o,X:!0},(e,n,i)=>{const[o,a,l]=e;o===t&&a===r&&(s=!0),i.done()}).next(()=>s)}function Io(e){return Mr(e,"mutations")}function Ro(e){return Mr(e,"documentMutations")}function Do(e){return Mr(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Lo(0)}static vn(){return new Lo(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const n=new Lo(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(e=>U.fromTimestamp(new j(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bo(e).delete(t.targetId)).next(()=>this.Vn(e)).next(t=>(v(t.targetCount>0),t.targetCount-=1,this.Sn(e,t)))}removeTargets(e,t,n){let i=0;const r=[];return Bo(e).Z((o,s)=>{const a=jr(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))}).next(()=>se.waitFor(r)).next(()=>i)}forEachTarget(e,t){return Bo(e).Z((e,n)=>{const i=jr(n);t(i)})}Vn(e){return Fo(e).get("targetGlobalKey").next(e=>(v(null!==e),e))}Sn(e,t){return Fo(e).put("targetGlobalKey",t)}Dn(e,t){return Bo(e).put(Ur(this.yt,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=jt(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return Bo(e).Z({range:i,index:"queryTargetsIndex"},(e,n,i)=>{const o=jr(n);Ut(t,o.target)&&(r=o,i.done())}).next(()=>r)}addMatchingKeys(e,t,n){const i=[],r=jo(e);return t.forEach(t=>{const o=Zi(t.path);i.push(r.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,t))}),se.waitFor(i)}removeMatchingKeys(e,t,n){const i=jo(e);return se.forEach(t,t=>{const r=Zi(t.path);return se.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=jo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=jo(e);let r=oi();return i.Z({range:n,X:!0},(e,t,n)=>{const i=nr(e[1]),o=new G(i);r=r.add(o)}).next(()=>r)}containsKey(e,t){const n=Zi(t.path),i=IDBKeyRange.bound([n],[F(n)],!1,!0);let r=0;return jo(e).Z({index:"documentTargetsIndex",X:!0,range:i},([e,t],n,i)=>{0!==e&&(r++,i.done())}).next(()=>r>0)}ne(e,t){return Bo(e).get(t).next(e=>e?jr(e):null)}}function Bo(e){return Mr(e,"targets")}function Fo(e){return Mr(e,"targetGlobal")}function jo(e){return Mr(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo([e,t],[n,i]){const r=N(e,n);return 0===r?N(t,i):r}class zo{constructor(e){this.xn=e,this.buffer=new kt(Uo),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Uo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qo{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){p("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){he(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await oe(e)}await this.Fn(3e5)})}}class Vo{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return se.resolve(ye.at);const n=new zo(t);return this.$n.forEachTarget(e,e=>n.On(e.sequenceNumber)).next(()=>this.$n.Ln(e,e=>n.On(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Eo)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eo):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let n,i,r,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i))).next(i=>(n=i,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(r=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),d()<=o["a"].DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+"ms\n"+`\tRemoved ${r} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Vo(e,t)}(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Un(e){let t=0;return this.Ln(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(e,n)=>t(n))}addReference(e,t,n){return Go(e,n)}removeReference(e,t,n){return Go(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Go(e,t)}Gn(e,t){return function(e,t){let n=!1;return Do(e).tt(i=>Po(e,i,t).next(e=>(e&&(n=!0),se.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Kn(e,(o,s)=>{if(s<=t){const t=this.Gn(e,o).next(t=>{if(!t)return r++,n.getEntry(e,o).next(()=>(n.removeEntry(o,U.min()),jo(e).delete([0,Zi(o.path)])))});i.push(t)}}).next(()=>se.waitFor(i)).next(()=>n.apply(e)).next(()=>r)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Go(e,t)}Kn(e,t){const n=jo(e);let i,r=ye.at;return n.Z({index:"documentTargetsIndex"},([e,n],{path:o,sequenceNumber:s})=>{0===e?(r!==ye.at&&t(new G(nr(i)),r),r=s,i=o):r=ye.at}).next(()=>{r!==ye.at&&t(new G(nr(i)),r)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Go(e,t){return jo(e).put(function(e,t){return{targetId:0,path:Zi(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.changes=new Xn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?se.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Qo(e).put(n)}removeEntry(e,t,n){return Qo(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Lr(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Qn(e,n)))}getEntry(e,t){let n=Nt.newInvalidDocument(t);return Qo(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jo(t))},(e,i)=>{n=this.jn(t,i)}).next(()=>n)}Wn(e,t){let n={size:0,document:Nt.newInvalidDocument(t)};return Qo(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jo(t))},(e,i)=>{n={document:this.jn(t,i),size:Oo(i)}}).next(()=>n)}getEntries(e,t){let n=Kn();return this.zn(e,t,(e,t)=>{const i=this.jn(e,t);n=n.insert(e,i)}).next(()=>n)}Hn(e,t){let n=Kn(),i=new Mt(G.comparator);return this.zn(e,t,(e,t)=>{const r=this.jn(e,t);n=n.insert(e,r),i=i.insert(e,Oo(t))}).next(()=>({documents:n,Jn:i}))}zn(e,t,n){if(t.isEmpty())return se.resolve();let i=new kt(es);t.forEach(e=>i=i.add(e));const r=IDBKeyRange.bound(Jo(i.first()),Jo(i.last())),o=i.getIterator();let s=o.getNext();return Qo(e).Z({index:"documentKeyIndex",range:r},(e,t,i)=>{const r=G.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&es(s,r)<0;)n(s,null),s=o.getNext();s&&s.isEqual(r)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?i.j(Jo(s)):i.done()}).next(()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,i){const r=t.path,o=[r.popLast().toArray(),r.lastSegment(),Lr(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).W(IDBKeyRange.bound(o,s,!0)).next(e=>{let n=Kn();for(const r of e){const e=this.jn(G.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);e.isFoundDocument()&&(sn(t,e)||i.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,i){let r=Kn();const o=Zo(t,n),s=Zo(t,te.max());return Qo(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(e,t,n)=>{const o=this.jn(G.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(o.key,o),r.size===i&&n.done()}).next(()=>r)}newChangeBuffer(e){return new Yo(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Ko(e).get("remoteDocumentGlobalKey").next(e=>(v(!!e),e))}Qn(e,t){return Ko(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=Rr(this.yt,t);if(!e.isNoDocument()||!e.version.isEqual(U.min()))return e}return Nt.newInvalidDocument(e)}}function Xo(e){return new $o(e)}class Yo extends Wo{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xn(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,i=new kt((e,t)=>N(e.canonicalString(),t.canonicalString()));return this.changes.forEach((r,o)=>{const s=this.Xn.get(r);if(t.push(this.Yn.removeEntry(e,r,s.readTime)),o.isValidDocument()){const a=Dr(this.Yn.yt,o);i=i.add(r.path.popLast());const l=Oo(a);n+=l-s.size,t.push(this.Yn.addEntry(e,r,a))}else if(n-=s.size,this.trackRemovals){const n=Dr(this.Yn.yt,o.convertToNoDocument(U.min()));t.push(this.Yn.addEntry(e,r,n))}}),i.forEach(n=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Yn.updateMetadata(e,n)),se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:e,Jn:t})=>(t.forEach((t,n)=>{this.Xn.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function Ko(e){return Mr(e,"remoteDocumentGlobal")}function Qo(e){return Mr(e,"remoteDocumentsV14")}function Jo(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Zo(e,t){const n=t.documentKey.path.toArray();return[e,Lr(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function es(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=N(n[o],i[o]),r)return r;return r=N(n.length,i.length),r||(r=N(n[n.length-2],i[i.length-2]),r||N(n[n.length-1],i[i.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ts{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Rn(n.mutation,e,Rt.empty(),j.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,oi()).next(()=>t))}getLocalViewOfDocuments(e,t,n=oi()){const i=ei();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(e=>{let t=Jn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ei();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,oi()))}populateOverlays(e,t,n){const i=[];return n.forEach(e=>{t.has(e)||i.push(e)}),this.documentOverlayCache.getOverlays(e,i).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,i){let r=Kn();const o=ni(),s=ni();return t.forEach((e,t)=>{const s=n.get(t.key);i.has(t.key)&&(void 0===s||s.mutation instanceof Bn)?r=r.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Rn(s.mutation,t,s.mutation.getFieldMask(),j.now())):o.set(t.key,Rt.empty())}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ts(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=ni();let i=new Mt((e,t)=>e-t),r=oi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const r of e)r.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Rt.empty();s=r.applyToLocalView(o,s),n.set(e,s);const a=(i.get(r.batchId)||oi()).add(e);i=i.insert(r.batchId,a)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const i=s.getNext(),a=i.key,l=i.value,c=ti();l.forEach(e=>{if(!r.has(e)){const i=Pn(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return G.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):se.resolve(ei());let s=-1,a=r;return o.next(t=>se.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),r.get(t)?se.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,a,t,oi())).next(e=>({batchId:s,changes:Zn(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(e=>{let t=Jn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const i=t.collectionGroup;let r=Jn();return this.indexManager.getCollectionParents(e,i).next(o=>se.forEach(o,o=>{const s=function(e,t){return new Gt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n).next(e=>{e.forEach((e,t)=>{r=r.insert(e,t)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,t,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i))).next(e=>{i.forEach((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,Nt.newInvalidDocument(i)))});let n=Jn();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&Rn(o.mutation,r,Rt.empty(),j.now()),sn(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Si(n.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:zr(e.bundledQuery),readTime:Si(e.readTime)}}(t)),se.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.overlays=new Mt(G.comparator),this.es=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ei();return se.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,i)=>{this.oe(e,t,i)}),se.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.es.get(n);return void 0!==i&&(i.forEach(e=>this.overlays=this.overlays.remove(e)),this.es.delete(n)),se.resolve()}getOverlaysForCollection(e,t,n){const i=ei(),r=t.length+1,o=new G(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new Mt((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=ei(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ei(),a=r.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach((e,t)=>s.set(e,t)),s.size()>=i)break;return se.resolve(s)}oe(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.es.get(i.largestBatchId).delete(n.key);this.es.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new kr(t,n));let r=this.es.get(t);void 0===r&&(r=oi(),this.es.set(t,r)),this.es.set(t,r.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.ns=new kt(ss.ss),this.rs=new kt(ss.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new ss(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.cs(new ss(e,t))}hs(e,t){e.forEach(e=>this.removeReference(e,t))}ls(e){const t=new G(new q([])),n=new ss(t,e),i=new ss(t,e+1),r=[];return this.rs.forEachInRange([n,i],e=>{this.cs(e),r.push(e.key)}),r}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new G(new q([])),n=new ss(t,e),i=new ss(t,e+1);let r=oi();return this.rs.forEachInRange([n,i],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new ss(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ss{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return G.comparator(e.key,t.key)||N(e._s,t._s)}static os(e,t){return N(e._s,t._s)||G.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new kt(ss.ss)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cr(r,t,n,i);this.mutationQueue.push(o);for(const s of i)this.gs=this.gs.add(new ss(s.key,r)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,t){return se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ps(n),r=i<0?0:i;return se.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ss(t,0),i=new ss(t,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([n,i],e=>{const t=this.ys(e._s);r.push(t)}),se.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kt(N);return t.forEach(e=>{const t=new ss(e,0),i=new ss(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,i],e=>{n=n.add(e._s)})}),se.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;G.isDocumentKey(r)||(r=r.child(""));const o=new ss(new G(r),0);let s=new kt(N);return this.gs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(s=s.add(e._s)),!0)},o),se.resolve(this.Is(s))}Is(e){const t=[];return e.forEach(e=>{const n=this.ys(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){v(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return se.forEach(t.mutations,i=>{const r=new ss(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,t){const n=new ss(t,0),i=this.gs.firstAfterOrEqual(n);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.Es=e,this.docs=new Mt(G.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():Nt.newInvalidDocument(t))}getEntries(e,t){let n=Kn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Nt.newInvalidDocument(e))}),se.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=Kn();const o=t.path,s=new G(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ne(ee(s),n)<=0||(i.has(s.key)||sn(t,s))&&(r=r.insert(s.key,s.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(e,t,n,i){y()}As(e,t){return se.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cs(this)}getSize(e){return se.resolve(this.size)}}class cs extends Wo{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(n)}),se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.persistence=e,this.Rs=new Xn(e=>jt(e),Ut),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.bs=0,this.Ps=new os,this.targetCount=0,this.vs=Lo.Pn()}forEachTarget(e,t){return this.Rs.forEach((e,n)=>t(n)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Dn(t),se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Rs.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Rs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),se.waitFor(r).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return se.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),se.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach(t=>{r.push(i.markPotentiallyOrphaned(e,t))}),se.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),se.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return se.resolve(n)}containsKey(e,t){return se.resolve(this.Ps.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ye(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new us(this),this.indexManager=new Ao,this.remoteDocumentCache=function(e){return new ls(e)}(e=>this.referenceDelegate.xs(e)),this.yt=new Ir(t),this.Ns=new is(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new as(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const i=new ds(this.Ss.next());return this.referenceDelegate.ks(),n(i).next(e=>this.referenceDelegate.Os(i).next(()=>e)).toPromise().then(e=>(i.raiseOnCommittedEvent(),e))}Ms(e,t){return se.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,t)))}}class ds extends re{constructor(e){super(),this.currentSequenceNumber=e}}class fs{constructor(e){this.persistence=e,this.Fs=new os,this.$s=null}static Bs(e){return new fs(e)}get Ls(){if(this.$s)return this.$s;throw y()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),se.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(e=>this.Ls.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ls.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ls,n=>{const i=G.fromPath(n);return this.qs(e,i).next(e=>{e||t.removeEntry(i,U.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return se.or([()=>se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.yt=e}$(e,t,n,i){const r=new ae("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ir,{unique:!0}),e.createObjectStore("documentMutations")}(e),ms(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=se.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ms(e)),o=o.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:U.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r))),n<4&&i>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store("mutations").W().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ir,{unique:!0});const i=t.store("mutations"),r=n.map(e=>i.put(e));return se.waitFor(r)})}(e,r))),o=o.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&i>=5&&(o=o.next(()=>this.Us(r))),n<6&&i>=6&&(o=o.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(r)))),n<7&&i>=7&&(o=o.next(()=>this.Gs(r))),n<8&&i>=8&&(o=o.next(()=>this.Qs(e,r))),n<9&&i>=9&&(o=o.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&i>=10&&(o=o.next(()=>this.js(r))),n<11&&i>=11&&(o=o.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(o=o.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:yr});t.createIndex("collectionPathOverlayIndex",vr,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",br,{unique:!1})}(e)})),n<13&&i>=13&&(o=o.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ar});t.createIndex("documentKeyIndex",lr),t.createIndex("collectionGroupIndex",cr)}(e)).next(()=>this.Ws(e,r)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(o=o.next(()=>this.zs(e,r))),n<15&&i>=15&&(o=o.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:pr}).createIndex("sequenceNumberIndex",mr,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gr}).createIndex("documentKeyIndex",Ar,{unique:!1})}(e))),o}Ks(e){let t=0;return e.store("remoteDocuments").Z((e,n)=>{t+=Oo(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Us(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next(t=>se.forEach(t,t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",i).next(n=>se.forEach(n,n=>{v(n.userId===t.userId);const i=Fr(this.yt,n);return Co(e,t.userId,i).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const i=[];return n.Z((n,r)=>{const o=new q(n),s=function(e){return[0,Zi(e)]}(o);i.push(t.get(s).next(n=>n?se.resolve():(n=>t.put({targetId:0,path:Zi(n),sequenceNumber:e.highestListenSequenceNumber}))(o)))}).next(()=>se.waitFor(i))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:fr});const n=t.store("collectionParents"),i=new yo,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Zi(i)})}};return t.store("remoteDocuments").Z({X:!0},(e,t)=>{const n=new q(e);return r(n.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([e,t,n],i)=>{const o=nr(t);return r(o.popLast())}))}js(e){const t=e.store("targets");return t.Z((e,n)=>{const i=jr(n),r=Ur(this.yt,i);return t.put(r)})}Ws(e,t){const n=t.store("remoteDocuments"),i=[];return n.Z((e,n)=>{const r=t.store("remoteDocumentsV14"),o=(s=n,s.document?new G(q.fromString(s.document.name).popFirst(5)):s.noDocument?G.fromSegments(s.noDocument.path):s.unknownDocument?G.fromSegments(s.unknownDocument.path):y()).path.toArray();var s;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))}).next(()=>se.waitFor(i))}zs(e,t){const n=t.store("mutations"),i=Xo(this.yt),r=new hs(fs.Bs,this.yt.ie);return n.W().next(e=>{const n=new Map;return e.forEach(e=>{var t;let i=null!==(t=n.get(e.userId))&&void 0!==t?t:oi();Fr(this.yt,e).keys().forEach(e=>i=i.add(e)),n.set(e.userId,i)}),se.forEach(n,(e,n)=>{const o=new c(n),s=Xr.re(this.yt,o),a=r.getIndexManager(o),l=ko.re(o,this.yt,a,r.referenceDelegate);return new ns(i,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Er(t,ye.at),e).next()})})}}function ms(e){e.createObjectStore("targetDocuments",{keyPath:hr}).createIndex("documentTargetsIndex",dr,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ur,{unique:!0}),e.createObjectStore("targetGlobal")}const gs="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class As{constructor(e,t,n,i,r,o,s,a,l,c,u=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=r,this.window=o,this.document=s,this.Js=l,this.Ys=c,this.Xs=u,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!As.C())throw new x(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ho(this,i),this.ii=t+"main",this.yt=new Ir(a),this.ri=new le(this.ii,this.Xs,new ps(this.yt)),this.Cs=new No(this.referenceDelegate,this.yt),this.remoteDocumentCache=Xo(this.yt),this.Ns=new Gr,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===c&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new x(w.FAILED_PRECONDITION,gs);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ye(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vs(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(he(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return ys(e).get("owner").next(e=>se.resolve(this.mi(e)))}gi(e){return vs(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Mr(e,"clientMetadata");return t.W().next(e=>{const n=this.Ii(e,18e5),i=e.filter(e=>-1===n.indexOf(e));return se.forEach(i,e=>t.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(this.oi)for(const t of e)this.oi.removeItem(this.Ti(t.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?se.resolve(!0):ys(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new x(w.FAILED_PRECONDITION,gs);return!1}}return!(!this.networkEnabled||!this.inForeground)||vs(e).W().next(e=>void 0===this.Ii(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&p("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new Er(e,ye.at);return this._i(t).next(()=>this.gi(t))}),this.ri.close(),this.Pi()}Ii(e,t){return e.filter(e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>vs(e).W().next(e=>this.Ii(e,18e5).map(e=>e.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ko.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bo(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Xr.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){p("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=15===(o=this.Xs)?Tr:14===o?Sr:13===o?xr:12===o?wr:11===o?_r:void y();var o;let s;return this.ri.runTransaction(e,i,r,i=>(s=new Er(i,this.Ss?this.Ss.next():ye.at),"readwrite-primary"===t?this.fi(s).next(e=>!!e||this.di(s)).next(t=>{if(!t)throw m(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new x(w.FAILED_PRECONDITION,ie);return n(s)}).next(e=>this.wi(s).next(()=>e)):this.Vi(s).next(()=>n(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}Vi(e){return ys(e).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new x(w.FAILED_PRECONDITION,gs)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ys(e).put("owner",t)}static C(){return le.C()}_i(e){const t=ys(e);return t.get("owner").next(e=>this.mi(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}pi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(m(`Detected an update time that is in the future: ${e} > ${n}`),!1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),Object(s["G"])()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return p("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return m("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ys(e){return Mr(e,"owner")}function vs(e){return Mr(e,"clientMetadata")}function bs(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class _s{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=i}static Ci(e,t){let n=oi(),i=oi();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new _s(e,t.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,i){return this.ki(e,t).next(r=>r||this.Oi(e,t,i,n)).next(n=>n||this.Mi(e,t))}ki(e,t){if(Xt(t))return se.resolve(null);let n=Zt(t);return this.indexManager.getIndexType(e,n).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=tn(t,null,"F"),n=Zt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const r=oi(...i);return this.Ni.getDocuments(e,r).next(i=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Fi(t,i);return this.$i(t,o,r,n.readTime)?this.ki(e,tn(t,null,"F")):this.Bi(e,o,t,n)}))})))}Oi(e,t,n,i){return Xt(t)||i.isEqual(U.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next(r=>{const s=this.Fi(t,r);return this.$i(t,s,n,i)?this.Mi(e,t):(d()<=o["a"].DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),on(t)),this.Bi(e,s,t,Z(i,-1)))})}Fi(e,t){let n=new kt(ln(e));return t.forEach((t,i)=>{sn(e,i)&&(n=n.add(i))}),n}$i(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Mi(e,t){return d()<=o["a"].DEBUG&&p("QueryEngine","Using full collection scan to execute query:",on(t)),this.Ni.getDocumentsMatchingQuery(e,t,te.min())}Bi(e,t,n,i){return this.Ni.getDocumentsMatchingQuery(e,n,i).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,n,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Mt(N),this.Ui=new Xn(e=>jt(e),Ut),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ns(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Ss(e,t,n,i){return new xs(e,t,n,i)}async function Ts(e,t){const n=_(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next(r=>(i=r,n.Qi(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const r=[],o=[];let s=oi();for(const e of i){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({ji:e,removedBatchIds:r,addedBatchIds:o}))})})}function Es(e,t){const n=_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const i=t.batch.keys(),r=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,o=r.keys();let s=se.resolve();return o.forEach(e=>{s=s.next(()=>i.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);v(null!==o),t.version.compareTo(o)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,r))}(n,e,t,r).next(()=>r.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=oi();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,i))})}function Ms(e){const t=_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function Cs(e,t){const n=_(e),i=t.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const s=[];t.targetChanges.forEach((o,a)=>{const l=r.get(a);if(!l)return;s.push(n.Cs.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Cs.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(Ce.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Cs.updateTargetData(e,c))});let a=Kn(),l=oi();if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))}),s.push(Os(e,o,t.documentUpdates).next(e=>{a=e.Wi,l=e.zi})),!i.isEqual(U.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next(t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,i));s.push(t)}return se.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.qi=r,e))}function Os(e,t,n){let i=oi(),r=oi();return n.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=Kn();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(U.min())?(t.removeEntry(n,o.readTime),i=i.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),i=i.insert(n,o)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{Wi:i,zi:r}})}function ks(e,t){const n=_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ps(e,t){const n=_(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let i;return n.Cs.getTargetData(e,t).next(r=>r?(i=r,se.resolve(i)):n.Cs.allocateTargetId(e).next(r=>(i=new Pr(t,r,0,e.currentSequenceNumber),n.Cs.addTargetData(e,i).next(()=>i))))}).then(e=>{const i=n.qi.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e})}async function Is(e,t,n){const i=_(e),r=i.qi.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,e=>i.persistence.referenceDelegate.removeTarget(e,r))}catch(e){if(!he(e))throw e;p("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}function Rs(e,t,n){const i=_(e);let r=U.min(),o=oi();return i.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const i=_(e),r=i.Ui.get(n);return void 0!==r?se.resolve(i.qi.get(r)):i.Cs.getTargetData(t,n)}(i,e,Zt(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>i.Li.getDocumentsMatchingQuery(e,t,n?r:U.min(),n?o:oi())).next(e=>(Ns(i,an(t),e),{documents:e,Hi:o})))}function Ds(e,t){const n=_(e),i=_(n.Cs),r=n.qi.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",e=>i.ne(e,t).next(e=>e?e.target:null))}function Ls(e,t){const n=_(e),i=n.Ki.get(t)||U.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Gi.getAllFromCollectionGroup(e,t,Z(i,-1),Number.MAX_SAFE_INTEGER)).then(e=>(Ns(n,t,e),e))}function Ns(e,t,n){let i=e.Ki.get(t)||U.min();n.forEach((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)}),e.Ki.set(t,i)}async function Bs(e,t,n,i){const r=_(e);let o=oi(),s=Kn();for(const c of n){const e=t.Ji(c.metadata.name);c.document&&(o=o.add(e));const n=t.Yi(c);n.setReadTime(t.Xi(c.metadata.readTime)),s=s.insert(e,n)}const a=r.Gi.newChangeBuffer({trackRemovals:!0}),l=await Ps(r,function(e){return Zt($t(q.fromString("__bundle__/docs/"+e)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",e=>Os(e,a,s).next(t=>(a.apply(e),t)).next(t=>r.Cs.removeMatchingKeysForTargetId(e,l.targetId).next(()=>r.Cs.addMatchingKeys(e,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)).next(()=>t.Wi)))}async function Fs(e,t,n=oi()){const i=await Ps(e,Zt(zr(t.bundledQuery))),r=_(e);return r.persistence.runTransaction("Save named query","readwrite",e=>{const o=Si(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Ns.saveNamedQuery(e,t);const s=i.withResumeToken(Ce.EMPTY_BYTE_STRING,o);return r.qi=r.qi.insert(s.targetId,s),r.Cs.updateTargetData(e,s).next(()=>r.Cs.removeMatchingKeysForTargetId(e,i.targetId)).next(()=>r.Cs.addMatchingKeys(e,n,i.targetId)).next(()=>r.Ns.saveNamedQuery(e,t))})}function js(e,t){return`firestore_clients_${e}_${t}`}function Us(e,t,n){let i=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(i+="_"+t.uid),i}function zs(e,t){return`firestore_targets_${e}_${t}`}class qs{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static Zi(e,t,n){const i=JSON.parse(n);let r,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new x(i.error.code,i.error.message))),o?new qs(e,t,i.state,r):(m("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vs{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new x(n.error.code,n.error.message))),r?new Vs(e,n.state,i):(m("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hs{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=ai();for(let o=0;i&&o<n.activeTargetIds.length;++o)i=Ee(n.activeTargetIds[o]),r=r.add(n.activeTargetIds[o]);return i?new Hs(e,r):(m("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Gs{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Gs(t.clientId,t.onlineState):(m("SharedClientState","Failed to parse online state: "+e),null)}}class Ws{constructor(){this.activeTargetIds=ai()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $s{constructor(e,t,n,i,r){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Mt(N),this.started=!1,this.cr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ar=js(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_"+e}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Ws),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const n of e){if(n===this.sr)continue;const e=this.getItem(js(this.persistenceKey,n));if(e){const t=Hs.Zi(n,e);t&&(this.ur=this.ur.insert(t.clientId,t))}}this.gr();const t=this.storage.getItem(this.wr);if(t){const e=this.yr(t);e&&this.pr(e)}for(const n of this.cr)this.rr(n);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(zs(this.persistenceKey,e));if(n){const i=Vs.Zi(e,n);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zs(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Er(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t}setItem(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const t=e;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.lr.test(t.key)){if(null==t.newValue){const e=this.vr(t.key);return this.Vr(e,null)}{const e=this.Sr(t.key,t.newValue);if(e)return this.Vr(e.clientId,e)}}else if(this.dr.test(t.key)){if(null!==t.newValue){const e=this.Dr(t.key,t.newValue);if(e)return this.Cr(e)}}else if(this._r.test(t.key)){if(null!==t.newValue){const e=this.Nr(t.key,t.newValue);if(e)return this.kr(e)}}else if(t.key===this.wr){if(null!==t.newValue){const e=this.yr(t.newValue);if(e)return this.pr(e)}}else if(t.key===this.hr){const e=function(e){let t=ye.at;if(null!=e)try{const n=JSON.parse(e);v("number"==typeof n),t=n}catch(e){m("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ye.at&&this.sequenceNumberHandler(e)}else if(t.key===this.mr){const e=this.Or(t.newValue);await Promise.all(e.map(e=>this.syncEngine.Mr(e)))}}else this.cr.push(t)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const i=new qs(this.currentUser,e,t,n),r=Us(this.persistenceKey,this.currentUser,e);this.setItem(r,i.tr())}Er(e){const t=Us(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){const t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Rr(e,t,n){const i=zs(this.persistenceKey,e),r=new Vs(e,t,n);this.setItem(i,r.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return Hs.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return qs.Zi(new c(r),i,t)}Nr(e,t){const n=this._r.exec(e),i=Number(n[1]);return Vs.Zi(i,t)}yr(e){return Gs.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);p("SharedClientState","Ignoring mutation for non-active user "+e.user.uid)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),r=this.Ir(n),o=[],s=[];return r.forEach(e=>{i.has(e)||o.push(e)}),i.forEach(e=>{r.has(e)||s.push(e)}),this.syncEngine.Br(o,s).then(()=>{this.ur=n})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ai();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Xs{constructor(){this.Lr=new Ws,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,n){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ws,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{Ur(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,n,i,r){const o=this.ho(e,t);p("RestConnection","Sending: ",o,n);const s={};return this.lo(s,i,r),this.fo(e,o,s,n).then(e=>(p("RestConnection","Received: ",e),e),t=>{throw g("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t})}_o(e,t,n,i,r,o){return this.ao(e,t,n,i,r)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}ho(e,t){const n=Qs[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,i){return new Promise((r,o)=>{const s=new a["g"];s.setWithCredentials(!0),s.listenOnce(a["c"].COMPLETE,()=>{try{switch(s.getLastErrorCode()){case a["a"].NO_ERROR:const t=s.getResponseJson();p("Connection","XHR received:",JSON.stringify(t)),r(t);break;case a["a"].TIMEOUT:p("Connection",'RPC "'+e+'" timed out'),o(new x(w.DEADLINE_EXCEEDED,"Request time out"));break;case a["a"].HTTP_ERROR:const n=s.getStatus();if(p("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(t)>=0?t:w.UNKNOWN}(t.status);o(new x(e,t.message))}else o(new x(w.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new x(w.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{p("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);s.send(t,"POST",l,n,15)})}wo(e,t,n){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(a["h"])(),o=Object(a["i"])(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new a["d"]({})),this.lo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const l=i.join("");p("Connection","Creating WebChannel: "+l,s);const c=r.createWebChannel(l,s);let u=!1,h=!1;const d=new Js({Hr:e=>{h?p("Connection","Not sending because WebChannel is closed:",e):(u||(p("Connection","Opening WebChannel transport."),c.open(),u=!0),p("Connection","WebChannel sending:",e),c.send(e))},Jr:()=>c.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(c,a["f"].EventType.OPEN,()=>{h||p("Connection","WebChannel transport opened.")}),f(c,a["f"].EventType.CLOSE,()=>{h||(h=!0,p("Connection","WebChannel transport closed"),d.io())}),f(c,a["f"].EventType.ERROR,e=>{h||(h=!0,g("Connection","WebChannel transport errored:",e),d.io(new x(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,a["f"].EventType.MESSAGE,e=>{var t;if(!h){const n=e.data[0];v(!!n);const i=n,r=i.error||(null===(t=i[0])||void 0===t?void 0:t.error);if(r){p("Connection","WebChannel received error:",r);const e=r.status;let t=function(e){const t=Hn[e];if(void 0!==t)return $n(t)}(e),n=r.message;void 0===t&&(t=w.INTERNAL,n="Unknown error status: "+e+" with message "+r.message),h=!0,d.io(new x(t,n)),c.close()}else p("Connection","WebChannel received:",n),d.ro(n)}}),f(o,a["b"].STAT_EVENT,e=>{e.stat===a["e"].PROXY?p("Connection","Detected buffering proxy"):e.stat===a["e"].NOPROXY&&p("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return"undefined"!=typeof window?window:null}function ta(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(e){return new bi(e,!0)}class ia{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Hs=e,this.timerId=t,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-n);i>0&&p("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,n,i,r,o,s,a){this.Hs=e,this.vo=n,this.Vo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ia(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==e?this.xo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===w.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.So===t&&this.Go(e,n)},t=>{e(()=>{const e=new x(w.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(e)})})}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(e=>{n(()=>this.Qo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return p("PersistentStream","close with error: "+e),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oa extends ra{constructor(e,t,n,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,o),this.yt=r}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=Ni(this.yt,e),n=function(e){if(!("targetChange"in e))return U.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?U.min():t.readTime?Si(t.readTime):U.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=Pi(this.yt),t.addTarget=function(e,t){let n;const i=t.target;return n=zt(i)?{documents:Ui(e,i)}:{query:zi(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=wi(e,t.resumeToken):t.snapshotVersion.compareTo(U.min())>0&&(n.readTime=_i(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);const n=Vi(this.yt,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=Pi(this.yt),t.removeTarget=e,this.Bo(t)}}class sa extends ra{constructor(e,t,n,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,o),this.yt=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(v(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=ji(e.writeResults,e.commitTime),n=Si(e.commitTime);return this.listener.Zo(n,t)}return v(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pi(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Bi(this.yt,e))};this.Bo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.yt=i,this.nu=!1}su(){if(this.nu)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.ao(e,t,n,i,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new x(w.UNKNOWN,e.toString())})}_o(e,t,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection._o(e,t,n,r,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new x(w.UNKNOWN,e.toString())})}terminate(){this.nu=!0}}async function la(e,t){const n=_(e),i=function(e,t){const n=zi(e,t);return{structuredAggregationQuery:{aggregations:[{count:{},alias:"count_alias"}],structuredQuery:n.structuredQuery},parent:n.parent}}(n.yt,Zt(t)),r=i.parent;return n.connection.co||delete i.parent,(await n._o("RunAggregationQuery",r,i,1)).filter(e=>!!e.result).map(e=>e.result.aggregateFields)}class ca{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: "+e.toString()),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(m(t),this.ou=!1):p("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.Ur(e=>{n.enqueueAndForget(async()=>{va(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=_(e);t._u.add(4),await da(t),t.gu.set("Unknown"),t._u.delete(4),await ha(t)}(this))})}),this.gu=new ca(n,i)}}async function ha(e){if(va(e))for(const t of e.wu)await t(!0)}async function da(e){for(const t of e.wu)await t(!1)}function fa(e,t){const n=_(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),ya(n)?Aa(n):Ba(n).ko()&&ma(n,t))}function pa(e,t){const n=_(e),i=Ba(n);n.du.delete(t),i.ko()&&ga(n,t),0===n.du.size&&(i.ko()?i.Fo():va(n)&&n.gu.set("Unknown"))}function ma(e,t){e.yu.Ot(t.targetId),Ba(e).zo(t)}function ga(e,t){e.yu.Ot(t),Ba(e).Ho(t)}function Aa(e){e.yu=new pi({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.du.get(t)||null}),Ba(e).start(),e.gu.uu()}function ya(e){return va(e)&&!Ba(e).No()&&e.du.size>0}function va(e){return 0===_(e)._u.size}function ba(e){e.yu=void 0}async function _a(e){e.du.forEach((t,n)=>{ma(e,t)})}async function wa(e,t){ba(e),ya(e)?(e.gu.hu(t),Aa(e)):e.gu.set("Unknown")}async function xa(e,t,n){if(e.gu.set("Online"),t instanceof di&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.du.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.du.delete(i),e.yu.removeTarget(i))}(e,t)}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Sa(e,n)}else if(t instanceof ui?e.yu.Kt(t):t instanceof hi?e.yu.Jt(t):e.yu.jt(t),!n.isEqual(U.min()))try{const t=await Ms(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.yu.Zt(t);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.du.get(i);r&&e.du.set(i,r.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.du.get(t);if(!n)return;e.du.set(t,n.withResumeToken(Ce.EMPTY_BYTE_STRING,n.snapshotVersion)),ga(e,t);const i=new Pr(n.target,t,1,n.sequenceNumber);ma(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await Sa(e,t)}}async function Sa(e,t,n){if(!he(t))throw t;e._u.add(1),await da(e),e.gu.set("Offline"),n||(n=()=>Ms(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e._u.delete(1),await ha(e)})}function Ta(e,t){return t().catch(n=>Sa(e,n,t))}async function Ea(e){const t=_(e),n=Fa(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Ma(t);)try{const e=await ks(t.localStore,i);if(null===e){0===t.fu.length&&n.Fo();break}i=e.batchId,Ca(t,e)}catch(e){await Sa(t,e)}Oa(t)&&ka(t)}function Ma(e){return va(e)&&e.fu.length<10}function Ca(e,t){e.fu.push(t);const n=Fa(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Oa(e){return va(e)&&!Fa(e).No()&&e.fu.length>0}function ka(e){Fa(e).start()}async function Pa(e){Fa(e).eu()}async function Ia(e){const t=Fa(e);for(const n of e.fu)t.Xo(n.mutations)}async function Ra(e,t,n){const i=e.fu.shift(),r=Or.from(i,t,n);await Ta(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Ea(e)}async function Da(e,t){t&&Fa(e).Yo&&await async function(e,t){if(n=t.code,Wn(n)&&n!==w.ABORTED){const n=e.fu.shift();Fa(e).Mo(),await Ta(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ea(e)}var n}(e,t),Oa(e)&&ka(e)}async function La(e,t){const n=_(e);n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const i=va(n);n._u.add(3),await da(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n._u.delete(3),await ha(n)}async function Na(e,t){const n=_(e);t?(n._u.delete(2),await ha(n)):t||(n._u.add(2),await da(n),n.gu.set("Unknown"))}function Ba(e){return e.pu||(e.pu=function(e,t,n){const i=_(e);return i.su(),new oa(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Yr:_a.bind(null,e),Zr:wa.bind(null,e),Wo:xa.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Mo(),ya(e)?Aa(e):e.gu.set("Unknown")):(await e.pu.stop(),ba(e))})),e.pu}function Fa(e){return e.Iu||(e.Iu=function(e,t,n){const i=_(e);return i.su(),new sa(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(e.datastore,e.asyncQueue,{Yr:Pa.bind(null,e),Zr:Da.bind(null,e),tu:Ia.bind(null,e),Zo:Ra.bind(null,e)}),e.wu.push(async t=>{t?(e.Iu.Mo(),await Ea(e)):(await e.Iu.stop(),e.fu.length>0&&(p("RemoteStore",`Stopping write stream with ${e.fu.length} pending writes`),e.fu=[]))})),e.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ja{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,i,r){const o=Date.now()+n,s=new ja(e,t,o,i,r);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ua(e,t){if(m("AsyncQueue",`${t}: ${e}`),he(e))return new x(w.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.comparator=e?(t,n)=>e(t,n)||G.comparator(t.key,n.key):(e,t)=>G.comparator(e.key,t.key),this.keyedMap=Jn(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new za(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof za))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new za;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.Tu=new Mt(G.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):y():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Va{constructor(e,t,n,i,r,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Va(e,t,za.emptySet(t),o,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.Au=void 0,this.listeners=[]}}class Ga{constructor(){this.queries=new Xn(e=>rn(e),nn),this.onlineState="Unknown",this.Ru=new Set}}async function Wa(e,t){const n=_(e),i=t.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new Ha),r)try{o.Au=await n.onListen(i)}catch(e){const n=Ua(e,`Initialization of query '${on(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.listeners.push(t),t.bu(n.onlineState),o.Au&&t.Pu(o.Au)&&Ka(n)}async function $a(e,t){const n=_(e),i=t.query;let r=!1;const o=n.queries.get(i);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),r=0===o.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Xa(e,t){const n=_(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Pu(r)&&(i=!0);t.Au=r}}i&&Ka(n)}function Ya(e,t,n){const i=_(e),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(t)}function Ka(e){e.Ru.forEach(e=>{e.next()})}class Qa{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Va(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}xu(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.yt=e}Ji(e){return Ci(this.yt,e)}Yi(e){return e.metadata.exists?Di(this.yt,e.document,!1):Nt.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Si(e)}}class el{constructor(e,t,n){this.Mu=e,this.localStore=t,this.yt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tl(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const n=q.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new Za(this.yt);for(const i of e)if(i.metadata.queries){const e=n.Ji(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||oi()).add(e);t.set(n,i)}}return t}async complete(){const e=await Bs(this.localStore,new Za(this.yt),this.documents,this.Mu.id),t=this.$u(this.documents);for(const n of this.queries)await Fs(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function tl(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.key=e}}class il{constructor(e){this.key=e}}class rl{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=oi(),this.mutatedKeys=oi(),this.Gu=ln(e),this.Qu=new za(this.Gu)}get ju(){return this.qu}Wu(e,t){const n=t?t.zu:new qa,i=t?t.Qu:this.Qu;let r=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,t)=>{const c=i.get(e),u=sn(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Hu(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Gu(u,a)>0||l&&this.Gu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),r=d?r.add(e):r.delete(e)):(o=o.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{Qu:o,zu:n,$i:s,mutatedKeys:r}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const r=e.zu.Eu();r.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Gu(e.doc,t.doc)),this.Ju(n);const o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,a=s!==this.Uu;return this.Uu=s,0!==r.length||a?{snapshot:new Va(this.query,e.Qu,i,r,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qa,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=oi(),this.Qu.forEach(e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))});const t=[];return e.forEach(e=>{this.Ku.has(e)||t.push(new il(e))}),this.Ku.forEach(n=>{e.has(n)||t.push(new nl(n))}),t}tc(e){this.qu=e.Hi,this.Ku=oi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Va.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class ol{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sl{constructor(e){this.key=e,this.nc=!1}}class al{constructor(e,t,n,i,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Xn(e=>rn(e),nn),this.rc=new Map,this.oc=new Set,this.uc=new Mt(G.comparator),this.cc=new Map,this.ac=new os,this.hc={},this.lc=new Map,this.fc=Lo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function ll(e,t){const n=Bl(e);let i,r;const o=n.ic.get(t);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const e=await Ps(n.localStore,Zt(t));n.isPrimaryClient&&fa(n.remoteStore,e);const o=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await cl(n,t,i,"current"===o,e.resumeToken)}return r}async function cl(e,t,n,i,r){e._c=(t,n,i)=>async function(e,t,n,i){let r=t.view.Wu(n);r.$i&&(r=await Rs(e.localStore,t.query,!1).then(({documents:e})=>t.view.Wu(e,r)));const o=i&&i.targetChanges.get(t.targetId),s=t.view.applyChanges(r,e.isPrimaryClient,o);return wl(e,t.targetId,s.Xu),s.snapshot}(e,t,n,i);const o=await Rs(e.localStore,t,!0),s=new rl(t,o.Hi),a=s.Wu(o.documents),l=ci.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=s.applyChanges(a,e.isPrimaryClient,l);wl(e,n,c.Xu);const u=new ol(t,n,s);return e.ic.set(t,u),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),c.snapshot}async function ul(e,t){const n=_(e),i=n.ic.get(t),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter(e=>!nn(e,t))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Is(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),pa(n.remoteStore,i.targetId),bl(n,i.targetId)}).catch(oe)):(bl(n,i.targetId),await Is(n.localStore,i.targetId,!0))}async function hl(e,t,n){const i=Fl(e);try{const e=await function(e,t){const n=_(e),i=j.now(),r=t.reduce((e,t)=>e.add(t.key),oi());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Kn(),l=oi();return n.Gi.getEntries(e,r).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(r=>{o=r;const s=[];for(const e of t){const t=Dn(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Bn(e.key,t,Lt(t.value.mapValue),Cn.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,s,t)}).next(t=>{s=t;const i=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)})}).then(()=>({batchId:s.batchId,changes:Zn(o)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.hc[e.currentUser.toKey()];i||(i=new Mt(N)),i=i.insert(t,n),e.hc[e.currentUser.toKey()]=i}(i,e.batchId,n),await Tl(i,e.changes),await Ea(i.remoteStore)}catch(e){const t=Ua(e,"Failed to persist write");n.reject(t)}}async function dl(e,t){const n=_(e);try{const e=await Cs(n.localStore,t);t.targetChanges.forEach((e,t)=>{const i=n.cc.get(t);i&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.nc=!0:e.modifiedDocuments.size>0?v(i.nc):e.removedDocuments.size>0&&(v(i.nc),i.nc=!1))}),await Tl(n,e,t)}catch(e){await oe(e)}}function fl(e,t,n){const i=_(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ic.forEach((n,i)=>{const r=i.view.bu(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const n=_(e);n.onlineState=t;let i=!1;n.queries.forEach((e,n)=>{for(const r of n.listeners)r.bu(t)&&(i=!0)}),i&&Ka(n)}(i.eventManager,t),e.length&&i.sc.Wo(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function pl(e,t,n){const i=_(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.cc.get(t),o=r&&r.key;if(o){let e=new Mt(G.comparator);e=e.insert(o,Nt.newNoDocument(o,U.min()));const n=oi().add(o),r=new li(U.min(),new Map,new kt(N),e,n);await dl(i,r),i.uc=i.uc.remove(o),i.cc.delete(t),Sl(i)}else await Is(i.localStore,t,!1).then(()=>bl(i,t,n)).catch(oe)}async function ml(e,t){const n=_(e),i=t.batch.batchId;try{const e=await Es(n.localStore,t);vl(n,i,null),yl(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tl(n,e)}catch(e){await oe(e)}}async function gl(e,t,n){const i=_(e);try{const e=await function(e,t){const n=_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(v(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i)).next(()=>n.localDocuments.getDocuments(e,i))})}(i.localStore,t);vl(i,t,n),yl(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Tl(i,e)}catch(n){await oe(n)}}async function Al(e,t){const n=_(e);va(n.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=_(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const i=n.lc.get(e)||[];i.push(t),n.lc.set(e,i)}catch(e){const n=Ua(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function yl(e,t){(e.lc.get(t)||[]).forEach(e=>{e.resolve()}),e.lc.delete(t)}function vl(e,t,n){const i=_(e);let r=i.hc[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function bl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.rc.get(t))e.ic.delete(i),n&&e.sc.wc(i,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(t=>{e.ac.containsKey(t)||_l(e,t)})}function _l(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);null!==n&&(pa(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Sl(e))}function wl(e,t,n){for(const i of n)i instanceof nl?(e.ac.addReference(i.key,t),xl(e,i)):i instanceof il?(p("SyncEngine","Document no longer in limbo: "+i.key),e.ac.removeReference(i.key,t),e.ac.containsKey(i.key)||_l(e,i.key)):y()}function xl(e,t){const n=t.key,i=n.path.canonicalString();e.uc.get(n)||e.oc.has(i)||(p("SyncEngine","New document in limbo: "+n),e.oc.add(i),Sl(e))}function Sl(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new G(q.fromString(t)),i=e.fc.next();e.cc.set(i,new sl(n)),e.uc=e.uc.insert(n,i),fa(e.remoteStore,new Pr(Zt($t(n.path)),i,2,ye.at))}}async function Tl(e,t,n){const i=_(e),r=[],o=[],s=[];i.ic.isEmpty()||(i.ic.forEach((e,a)=>{s.push(i._c(a,t,n).then(e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){r.push(e);const t=_s.Ci(a.targetId,e);o.push(t)}}))}),await Promise.all(s),i.sc.Wo(r),await async function(e,t){const n=_(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>se.forEach(t,t=>se.forEach(t.Si,i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i)).next(()=>se.forEach(t.Di,i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))}catch(e){if(!he(e))throw e;p("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.qi.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.qi=n.qi.insert(e,r)}}}(i.localStore,o))}async function El(e,t){const n=_(e);if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await Ts(n.localStore,t);n.currentUser=t,function(e,t){e.lc.forEach(e=>{e.forEach(e=>{e.reject(new x(w.CANCELLED,t))})}),e.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Tl(n,e.ji)}}function Ml(e,t){const n=_(e),i=n.cc.get(t);if(i&&i.nc)return oi().add(i.key);{let e=oi();const i=n.rc.get(t);if(!i)return e;for(const t of i){const i=n.ic.get(t);e=e.unionWith(i.view.ju)}return e}}async function Cl(e,t){const n=_(e),i=await Rs(n.localStore,t.query,!0),r=t.view.tc(i);return n.isPrimaryClient&&wl(n,t.targetId,r.Xu),r}async function Ol(e,t){const n=_(e);return Ls(n.localStore,t).then(e=>Tl(n,e))}async function kl(e,t,n,i){const r=_(e),o=await function(e,t){const n=_(e),i=_(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>i.Tn(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):se.resolve(null)))}(r.localStore,t);null!==o?("pending"===n?await Ea(r.remoteStore):"acknowledged"===n||"rejected"===n?(vl(r,t,i||null),yl(r,t),function(e,t){_(_(e).mutationQueue).An(t)}(r.localStore,t)):y(),await Tl(r,o)):p("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Pl(e,t){const n=_(e);if(Bl(n),Fl(n),!0===t&&!0!==n.dc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Il(n,e.toArray());n.dc=!0,await Na(n.remoteStore,!0);for(const i of t)fa(n.remoteStore,i)}else if(!1===t&&!1!==n.dc){const e=[];let t=Promise.resolve();n.rc.forEach((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then(()=>(bl(n,r),Is(n.localStore,r,!0))),pa(n.remoteStore,r)}),await t,await Il(n,e),function(e){const t=_(e);t.cc.forEach((e,n)=>{pa(t.remoteStore,n)}),t.ac.fs(),t.cc=new Map,t.uc=new Mt(G.comparator)}(n),n.dc=!1,await Na(n.remoteStore,!1)}}async function Il(e,t,n){const i=_(e),r=[],o=[];for(const s of t){let e;const t=i.rc.get(s);if(t&&0!==t.length){e=await Ps(i.localStore,Zt(t[0]));for(const e of t){const t=i.ic.get(e),n=await Cl(i,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Ds(i.localStore,s);e=await Ps(i.localStore,t),await cl(i,Rl(t),s,!1,e.resumeToken)}r.push(e)}return i.sc.Wo(o),r}function Rl(e){return Wt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Dl(e){const t=_(e);return _(_(t.localStore).persistence).vi()}async function Ll(e,t,n,i){const r=_(e);if(r.dc)return void p("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Ls(r.localStore,an(o[0])),i=li.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ce.EMPTY_BYTE_STRING);await Tl(r,e,i);break}case"rejected":await Is(r.localStore,t,!0),bl(r,t,i);break;default:y()}}async function Nl(e,t,n){const i=Bl(e);if(i.dc){for(const e of t){if(i.rc.has(e)){p("SyncEngine","Adding an already active target "+e);continue}const t=await Ds(i.localStore,e),n=await Ps(i.localStore,t);await cl(i,Rl(t),n.targetId,!1,n.resumeToken),fa(i.remoteStore,n)}for(const e of n)i.rc.has(e)&&await Is(i.localStore,e,!1).then(()=>{pa(i.remoteStore,e),bl(i,e)}).catch(oe)}}function Bl(e){const t=_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ml.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pl.bind(null,t),t.sc.Wo=Xa.bind(null,t.eventManager),t.sc.wc=Ya.bind(null,t.eventManager),t}function Fl(e){const t=_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ml.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gl.bind(null,t),t}function jl(e,t,n){const i=_(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=_(e),i=Si(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ns.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(i)>=0)}(e.localStore,i))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(tl(i));const r=new el(i,e.localStore,t.yt);let o=await t.mc();for(;o;){const e=await r.Fu(o);e&&n._updateProgress(e),o=await t.mc()}const s=await r.complete();return await Tl(e,s.Lu,void 0),await function(e,t){const n=_(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ns.saveBundleMetadata(e,t))}(e.localStore,i),n._completeWith(s.progress),Promise.resolve(s.Bu)}catch(e){return g("SyncEngine","Loading bundle failed with "+e),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(i,t,n).then(e=>{i.sharedClientState.notifyBundleLoaded(e)})}class Ul{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=na(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Ss(this.persistence,new ws,e.initialUser,this.yt)}yc(e){return new hs(fs.Bs,this.yt)}gc(e){return new Xs}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zl extends Ul{constructor(e,t,n){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await Fl(this.Ac.syncEngine),await Ea(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return Ss(this.persistence,new ws,e.initialUser,this.yt)}Tc(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new qo(n,e.asyncQueue,t)}Ec(e,t){const n=new Ae(t,this.persistence);return new ge(e.asyncQueue,n)}yc(e){const t=bs(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mo.withCacheSize(this.cacheSizeBytes):Mo.DEFAULT;return new As(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ea(),ta(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Xs}}class ql extends zl{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ac.syncEngine;this.sharedClientState instanceof $s&&(this.sharedClientState.syncEngine={Fr:kl.bind(null,t),$r:Ll.bind(null,t),Br:Nl.bind(null,t),vi:Dl.bind(null,t),Mr:Ol.bind(null,t)},await this.sharedClientState.start()),await this.persistence.li(async e=>{await Pl(this.Ac.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}gc(e){const t=ea();if(!$s.C(t))throw new x(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=bs(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $s(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Vl{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>fl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=El.bind(null,this.syncEngine),await Na(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ga}createDatastore(e){const t=na(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new Zs(i));var i;return function(e,t,n,i){return new aa(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>fl(this.syncEngine,e,0),o=Ks.C()?new Ks:new Ys,new ua(t,n,i,r,o);var t,n,i,r,o}createSyncEngine(e,t){return function(e,t,n,i,r,o,s){const a=new al(e,t,n,i,r,o);return s&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=_(e);p("RemoteStore","RemoteStore shutting down."),t._u.add(5),await da(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(e,t,n){if(!n)throw new x(w.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Gl(e,t,n,i){if(!0===t&&!0===i)throw new x(w.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Wl(e){if(!G.isDocumentKey(e))throw new x(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $l(e){if(G.isDocumentKey(e))throw new x(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":y()}function Yl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new x(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xl(e);throw new x(w.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Kl(e,t){if(t<=0)throw new x(w.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map;class Jl{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new x(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Gl("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jl(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new E;switch(e.type){case"gapi":const t=e.client;return new k(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new x(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ql.get(e);t&&(p("ComponentProvider","Removing Datastore"),Ql.delete(e),t.terminate())}(this),Promise.resolve()}}function ec(e,t,n,i={}){var r;const o=(e=Yl(e,Zl))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&g("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=c.MOCK_USER;else{t=Object(s["l"])(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new x(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new c(o)}e._authCredentials=new M(new T(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tc(this.firestore,e,this._key)}}class nc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nc(this.firestore,e,this._query)}}class ic extends nc{constructor(e,t,n){super(e,t,$t(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tc(this.firestore,null,new G(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function rc(e,t,...n){if(e=Object(s["v"])(e),Hl("collection","path",t),e instanceof Zl){const i=q.fromString(t,...n);return $l(i),new ic(e,null,i)}{if(!(e instanceof tc||e instanceof ic))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(q.fromString(t,...n));return $l(i),new ic(e.firestore,null,i)}}function oc(e,t){if(e=Yl(e,Zl),Hl("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new x(w.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nc(e,null,function(e){return new Gt(q.emptyPath(),e)}(t))}function sc(e,t,...n){if(e=Object(s["v"])(e),1===arguments.length&&(t=L.R()),Hl("doc","path",t),e instanceof Zl){const i=q.fromString(t,...n);return Wl(i),new tc(e,null,new G(i))}{if(!(e instanceof tc||e instanceof ic))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(q.fromString(t,...n));return Wl(i),new tc(e.firestore,e instanceof ic?e.converter:null,new G(i))}}function ac(e,t){return e=Object(s["v"])(e),t=Object(s["v"])(t),(e instanceof tc||e instanceof ic)&&(t instanceof tc||t instanceof ic)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function lc(e,t){return e=Object(s["v"])(e),t=Object(s["v"])(t),e instanceof nc&&t instanceof nc&&e.firestore===t.firestore&&nn(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function cc(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):m("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new S,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(e=>{e&&e.Ou()?this.metadata.resolve(e.ku.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.ku)))},e=>this.metadata.reject(e))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(null===e)return null;const t=this.vc.decode(e),n=Number(t);isNaN(n)&&this.Dc(`length string (${t}) is not valid number`);const i=await this.Cc(n);return new Ja(JSON.parse(i),e.length+n)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0;)if(await this.Nc())break;if(0===this.buffer.length)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const t=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Dc(e){throw this.Pc.cancel(),new Error("Invalid bundle format: "+e)}async Nc(){const e=await this.Pc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.type="AggregateField"}}class fc{constructor(e,t){this._data=t,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._data}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t,n){this.query=e,this.datastore=t,this.userDataWriter=n}run(){return la(this.datastore,this.query._query).then(e=>{v(void 0!==e[0]);const t=Object.entries(e[0]).filter(([e,t])=>"count_alias"===e).map(([e,t])=>this.userDataWriter.convertValue(t))[0];return v("number"==typeof t),Promise.resolve(new fc(this.query,{count:t}))})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=_(e),i=Pi(n.yt)+"/documents",r={documents:t.map(e=>Mi(n.yt,e))},o=await n._o("BatchGetDocuments",i,r,t.length),s=new Map;o.forEach(e=>{const t=Li(n.yt,e);s.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=s.get(e.toString());v(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new zn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=G.fromPath(t);this.mutations.push(new qn(n,this.precondition(n)))}),await async function(e,t){const n=_(e),i=Pi(n.yt)+"/documents",r={writes:t.map(e=>Bi(n.yt,e))};await n.ao("Commit",i,r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=U.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new x(w.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(U.min())?Cn.exists(!1):Cn.updateTime(t):Cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(U.min()))throw new x(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(t)}return Cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t,n,i,r){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=r,this.kc=n.maxAttempts,this.xo=new ia(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new mc(this.datastore),t=this.Mc(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Fc(e)}))}).catch(e=>{this.Fc(e)})})}Mc(e){try{const t=this.updateFunction(e);return!Se(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wn(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=c.UNAUTHENTICATED,this.clientId=L.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(p("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ua(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function yc(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async e=>{i.isEqual(e)||(await Ts(t.localStore,e),i=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function vc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bc(e);p("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(e=>La(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>La(t.remoteStore,n)),e.onlineComponents=t}async function bc(e){return e.offlineComponents||(p("FirestoreClient","Using default OfflineComponentProvider"),await yc(e,new Ul)),e.offlineComponents}async function _c(e){return e.onlineComponents||(p("FirestoreClient","Using default OnlineComponentProvider"),await vc(e,new Vl)),e.onlineComponents}function wc(e){return bc(e).then(e=>e.persistence)}function xc(e){return bc(e).then(e=>e.localStore)}function Sc(e){return _c(e).then(e=>e.remoteStore)}function Tc(e){return _c(e).then(e=>e.syncEngine)}function Ec(e){return _c(e).then(e=>e.datastore)}async function Mc(e){const t=await _c(e),n=t.eventManager;return n.onListen=ll.bind(null,t.syncEngine),n.onUnlisten=ul.bind(null,t.syncEngine),n}function Cc(e){return e.asyncQueue.enqueue(async()=>{const t=await wc(e),n=await Sc(e);return t.setNetworkEnabled(!0),function(e){const t=_(e);return t._u.delete(0),ha(t)}(n)})}function Oc(e){return e.asyncQueue.enqueue(async()=>{const t=await wc(e),n=await Sc(e);return t.setNetworkEnabled(!1),async function(e){const t=_(e);t._u.add(0),await da(t),t.gu.set("Offline")}(n)})}function kc(e,t){const n=new S;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const i=await function(e,t){const n=_(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new x(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=Ua(e,`Failed to get document '${t} from cache`);n.reject(i)}}(await xc(e),t,n)),n.promise}function Pc(e,t,n={}){const i=new S;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,i,r){const o=new uc({next:o=>{t.enqueueAndForget(()=>$a(e,s));const a=o.docs.has(n);!a&&o.fromCache?r.reject(new x(w.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new x(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),s=new Qa($t(n.path),o,{includeMetadataChanges:!0,Nu:!0});return Wa(e,s)}(await Mc(e),e.asyncQueue,t,n,i)),i.promise}function Ic(e,t){const n=new S;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const i=await Rs(e,t,!0),r=new rl(t,i.Hi),o=r.Wu(i.documents),s=r.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const i=Ua(e,`Failed to execute query '${t} against cache`);n.reject(i)}}(await xc(e),t,n)),n.promise}function Rc(e,t,n={}){const i=new S;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,i,r){const o=new uc({next:n=>{t.enqueueAndForget(()=>$a(e,s)),n.fromCache&&"server"===i.source?r.reject(new x(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),s=new Qa(n,o,{includeMetadataChanges:!0,Nu:!0});return Wa(e,s)}(await Mc(e),e.asyncQueue,t,n,i)),i.promise}function Dc(e,t){const n=new uc(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){_(e).Ru.add(t),t.next()}(await Mc(e),n)),()=>{n.bc(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){_(e).Ru.delete(t)}(await Mc(e),n))}}function Lc(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new hc(e,t)}(function(e,t){if(e instanceof Uint8Array)return cc(e,t);if(e instanceof ArrayBuffer)return cc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,na(t));e.asyncQueue.enqueueAndForget(async()=>{jl(await Tc(e),r,i)})}function Nc(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=_(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ns.getNamedQuery(e,t))}(await xc(e),t))}class Bc{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ia(this,"async_queue_retry"),this.Wc=()=>{const e=ta();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const e=ta();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=ta();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new S;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!he(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(e=>{this.Kc=e,this.Gc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw m("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Gc=!1,e))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=ja.createAndSchedule(this,e,t,n,e=>this.Yc(e));return this.Uc.push(i),i}zc(){this.Kc&&y()}verifyOperationInProgress(){}async Xc(){let e;do{e=this.Bc,await e}while(e!==this.Bc)}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Fc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"==typeof n[i])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class jc{constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=-1;class zc extends Zl{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Bc,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gc(this),this._firestoreClient.terminate()}}function qc(e,t,n){n||(n="(default)");const r=Object(i["b"])(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Object(s["o"])(i,t))return e;throw new x(w.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new x(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Vc(e,t){const n="object"==typeof e?e:Object(i["e"])(),r="string"==typeof e?e:t||"(default)",o=Object(i["b"])(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=Object(s["t"])("firestore");e&&ec(o,...e)}return o}function Hc(e){return e._firestoreClient||Gc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gc(e){var t;const n=e._freezeSettings(),i=function(e,t,n,i){return new ve(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ac(e._authCredentials,e._appCheckCredentials,e._queue,i)}function Wc(e,t){nu(e=Yl(e,zc));const n=Hc(e),i=e._freezeSettings(),r=new Vl;return Xc(n,r,new zl(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function $c(e){nu(e=Yl(e,zc));const t=Hc(e),n=e._freezeSettings(),i=new Vl;return Xc(t,i,new ql(i,n.cacheSizeBytes))}function Xc(e,t,n){const i=new S;return e.asyncQueue.enqueue(async()=>{try{await yc(e,n),await vc(e,t),i.resolve()}catch(e){const n=e;if(!function(e){return"FirebaseError"===e.name?e.code===w.FAILED_PRECONDITION||e.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(n))throw n;g("Error enabling offline persistence. Falling back to persistence disabled: "+n),i.reject(n)}}).then(()=>i.promise)}function Yc(e){if(e._initialized&&!e._terminated)throw new x(w.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new S;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!le.C())return Promise.resolve();const t=e+"main";await le.delete(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(bs(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}function Kc(e){return function(e){const t=new S;return e.asyncQueue.enqueueAndForget(async()=>Al(await Tc(e),t)),t.promise}(Hc(e=Yl(e,zc)))}function Qc(e){return Cc(Hc(e=Yl(e,zc)))}function Jc(e){return Oc(Hc(e=Yl(e,zc)))}function Zc(e){return Object(i["d"])(e.app,"firestore",e._databaseId.database),e._delete()}function eu(e,t){const n=Hc(e=Yl(e,zc)),i=new jc;return Lc(n,e._databaseId,t,i),i}function tu(e,t){return Nc(Hc(e=Yl(e,zc)),t).then(t=>t?new nc(e,null,t.query):null)}function nu(e){if(e._initialized||e._terminated)throw new x(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(Ce.fromBase64String(e))}catch(e){throw new x(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new iu(Ce.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new x(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new H(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function ou(){return new ru("__name__")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return N(this._lat,e._lat)||N(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=/^__.*__$/;class cu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nn(e,this.data,t,this.fieldTransforms)}}class uu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class du{constructor(e,t,n,i,r,o){this.settings=e,this.databaseId=t,this.yt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new du(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:n,oa:!1});return i.ua(e),i}ca(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:n,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Iu(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(hu(this.sa)&&lu.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class fu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=n||na(e)}da(e,t,n,i=!1){return new du({sa:e,methodName:t,fa:n,path:H.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function pu(e){const t=e._freezeSettings(),n=na(e._databaseId);return new fu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mu(e,t,n,i,r,o={}){const s=e.da(o.merge||o.mergeFields?2:0,t,n,r);Cu("Data must be an object, but it was:",s,i);const a=Eu(i,s);let l,c;if(o.merge)l=new Rt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const i of o.mergeFields){const r=Ou(t,i,n);if(!s.contains(r))throw new x(w.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Ru(e,r)||e.push(r)}l=new Rt(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new cu(new Dt(a),l,c)}class gu extends su{_toFieldTransform(e){if(2!==e.sa)throw 1===e.sa?e.ha(this._methodName+"() can only appear at the top level of your update data"):e.ha(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gu}}function Au(e,t,n){return new du({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class yu extends su{_toFieldTransform(e){return new Tn(e.path,new An)}isEqual(e){return e instanceof yu}}class vu extends su{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Au(this,e,!0),n=this._a.map(e=>Tu(e,t)),i=new yn(n);return new Tn(e.path,i)}isEqual(e){return this===e}}class bu extends su{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Au(this,e,!0),n=this._a.map(e=>Tu(e,t)),i=new bn(n);return new Tn(e.path,i)}isEqual(e){return this===e}}class _u extends su{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new wn(e.yt,dn(e.yt,this.wa));return new Tn(e.path,t)}isEqual(e){return this===e}}function wu(e,t,n,i){const r=e.da(1,t,n);Cu("Data must be an object, but it was:",r,i);const o=[],a=Dt.empty();we(i,(e,i)=>{const l=Pu(t,e,n);i=Object(s["v"])(i);const c=r.ca(l);if(i instanceof gu)o.push(l);else{const e=Tu(i,c);null!=e&&(o.push(l),a.set(l,e))}});const l=new Rt(o);return new uu(a,l,r.fieldTransforms)}function xu(e,t,n,i,r,o){const a=e.da(1,t,n),l=[Ou(t,i,n)],c=[r];if(o.length%2!=0)throw new x(w.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let s=0;s<o.length;s+=2)l.push(Ou(t,o[s])),c.push(o[s+1]);const u=[],h=Dt.empty();for(let f=l.length-1;f>=0;--f)if(!Ru(u,l[f])){const e=l[f];let t=c[f];t=Object(s["v"])(t);const n=a.ca(e);if(t instanceof gu)u.push(e);else{const i=Tu(t,n);null!=i&&(u.push(e),h.set(e,i))}}const d=new Rt(u);return new uu(h,d,a.fieldTransforms)}function Su(e,t,n,i=!1){return Tu(n,e.da(i?4:3,t))}function Tu(e,t){if(Mu(e=Object(s["v"])(e)))return Cu("Unsupported field value:",t,e),Eu(e,t);if(e instanceof su)return function(e,t){if(!hu(t.sa))throw t.ha(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.ha(e._methodName+"() is not currently supported inside arrays");const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=Tu(r,t.aa(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(s["v"])(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dn(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=j.fromDate(e);return{timestampValue:_i(t.yt,n)}}if(e instanceof j){const n=new j(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_i(t.yt,n)}}if(e instanceof au)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iu)return{bytesValue:wi(t.yt,e._byteString)};if(e instanceof tc){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.ha(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ti(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: "+Xl(e))}(e,t)}function Eu(e,t){const n={};return xe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):we(e,(e,i)=>{const r=Tu(i,t.ra(e));null!=r&&(n[e]=r)}),{mapValue:{fields:n}}}function Mu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof j||e instanceof au||e instanceof iu||e instanceof tc||e instanceof su)}function Cu(e,t,n){if(!Mu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=Xl(n);throw"an object"===i?t.ha(e+" a custom object"):t.ha(e+" "+i)}}function Ou(e,t,n){if((t=Object(s["v"])(t))instanceof ru)return t._internalPath;if("string"==typeof t)return Pu(e,t);throw Iu("Field path arguments must be of type string or ",e,!1,void 0,n)}const ku=new RegExp("[~\\*/\\[\\]]");function Pu(e,t,n){if(t.search(ku)>=0)throw Iu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ru(...t.split("."))._internalPath}catch(i){throw Iu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Iu(e,t,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field "+i),s&&(l+=" in document "+r),l+=")"),new x(w.INVALID_ARGUMENT,a+e+l)}function Ru(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new tc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lu extends Du{data(){return super.data()}}function Nu(e,t){return"string"==typeof t?Pu(e,t):t instanceof ru?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new x(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fu{}class ju extends Fu{}function Uu(e,t,...n){let i=[];t instanceof Fu&&i.push(t),i=i.concat(n),function(e){const t=e.filter(e=>e instanceof Vu).length,n=e.filter(e=>e instanceof zu).length;if(t>1||t>0&&n>0)throw new x(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i);for(const r of i)e=r._apply(e);return e}class zu extends ju{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new zu(e,t,n)}_apply(e){const t=this._parse(e);return sh(e._query,t),new nc(e.firestore,e.converter,en(e._query,t))}_parse(e){const t=pu(e.firestore),n=function(e,t,n,i,r,o,s){let a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new x(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){oh(s,o);const t=[];for(const n of s)t.push(rh(i,e,n));a={arrayValue:{values:t}}}else a=rh(i,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||oh(s,o),a=Su(n,t,s,"in"===o||"not-in"===o);return at.create(r,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function qu(e,t,n){const i=t,r=Nu("where",e);return zu._create(r,i,n)}class Vu extends Fu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vu(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)sh(n,r),n=en(n,r)}(e._query,t),new nc(e.firestore,e.converter,en(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Hu(...e){return e.forEach(e=>lh("or",e)),Vu._create("or",e)}function Gu(...e){return e.forEach(e=>lh("and",e)),Vu._create("and",e)}class Wu extends ju{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wu(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new x(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new x(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Tt(t,n);return function(e,t){if(null===Yt(e)){const n=Kt(e);null!==n&&ah(e,n,t.field)}}(e,i),i}(e._query,this._field,this._direction);return new nc(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Gt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function $u(e,t="asc"){const n=t,i=Nu("orderBy",e);return Wu._create(i,n)}class Xu extends ju{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Xu(e,t,n)}_apply(e){return new nc(e.firestore,e.converter,tn(e._query,this._limit,this._limitType))}}function Yu(e){return Kl("limit",e),Xu._create("limit",e,"F")}function Ku(e){return Kl("limitToLast",e),Xu._create("limitToLast",e,"L")}class Qu extends ju{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Qu(e,t,n)}_apply(e){const t=ih(e,this.type,this._docOrFields,this._inclusive);return new nc(e.firestore,e.converter,function(e,t){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Ju(...e){return Qu._create("startAt",e,!0)}function Zu(...e){return Qu._create("startAfter",e,!1)}class eh extends ju{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new eh(e,t,n)}_apply(e){const t=ih(e,this.type,this._docOrFields,this._inclusive);return new nc(e.firestore,e.converter,function(e,t){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function th(...e){return eh._create("endBefore",e,!1)}function nh(...e){return eh._create("endAt",e,!0)}function ih(e,t,n,i){if(n[0]=Object(s["v"])(n[0]),n[0]instanceof Du)return function(e,t,n,i,r){if(!i)throw new x(w.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of Jt(e))if(s.field.isKeyField())o.push(Ge(t,i.key));else{const e=i.data.field(s.field);if(Re(e))throw new x(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new x(w.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new it(o,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=pu(e.firestore);return function(e,t,n,i,r,o){const s=e.explicitOrderBy;if(r.length>s.length)throw new x(w.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<r.length;l++){const o=r[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new x(w.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof o}`);if(!Qt(e)&&-1!==o.indexOf("/"))throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(q.fromString(o));if(!G.isDocumentKey(n))throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const r=new G(n);a.push(Ge(t,r))}else{const e=Su(n,i,o);a.push(e)}}return new it(a,o)}(e._query,e.firestore._databaseId,r,t,n,i)}}function rh(e,t,n){if("string"==typeof(n=Object(s["v"])(n))){if(""===n)throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qt(t)&&-1!==n.indexOf("/"))throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(q.fromString(n));if(!G.isDocumentKey(i))throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ge(e,new G(i))}if(n instanceof tc)return Ge(e,n._key);throw new x(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xl(n)}.`)}function oh(e,t){if(!Array.isArray(e)||0===e.length)throw new x(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new x(w.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function sh(e,t){if(t.isInequality()){const n=Kt(e),i=t.field;if(null!==n&&!n.isEqual(i))throw new x(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const r=Yt(e);null!==r&&ah(e,i,r)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new x(w.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new x(w.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ah(e,t,n){if(!n.isEqual(t))throw new x(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function lh(e,t){if(!(t instanceof zu||t instanceof Vu))throw new x(w.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class ch{convertValue(e,t="none"){switch(Fe(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ie(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){const n={};return we(e.fields,(e,i)=>{n[e]=this.convertValue(i,t)}),n}convertGeoPoint(e){return new au(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=De(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Le(e));default:return null}}convertTimestamp(e){const t=ke(e);return new j(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=q.fromString(e);v(Ji(n));const i=new be(n.get(1),n.get(3)),r=new G(n.popFirst(5));return i.isEqual(t)||m(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class hh extends ch{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tc(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fh extends Du{constructor(e,t,n,i,r,o){super(e,t,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Nu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ph extends fh{data(e={}){return super.data(e)}}class mh{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new dh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ph(this._firestore,this._userDataWriter,n.key,n,new dh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new x(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const i=new ph(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const i=new ph(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,o=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:gh(t.type),doc:i,oldIndex:r,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function Ah(e,t){return e instanceof fh&&t instanceof fh?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mh&&t instanceof mh&&e._firestore===t._firestore&&lc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(e){e=Yl(e,tc);const t=Yl(e.firestore,zc);return Pc(Hc(t),e._key).then(n=>Ih(t,e,n))}class vh extends ch{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tc(this.firestore,null,t)}}function bh(e){e=Yl(e,tc);const t=Yl(e.firestore,zc),n=Hc(t),i=new vh(t);return kc(n,e._key).then(n=>new fh(t,i,e._key,n,new dh(null!==n&&n.hasLocalMutations,!0),e.converter))}function _h(e){e=Yl(e,tc);const t=Yl(e.firestore,zc);return Pc(Hc(t),e._key,{source:"server"}).then(n=>Ih(t,e,n))}function wh(e){e=Yl(e,nc);const t=Yl(e.firestore,zc),n=Hc(t),i=new vh(t);return Bu(e._query),Rc(n,e._query).then(n=>new mh(t,i,e,n))}function xh(e){e=Yl(e,nc);const t=Yl(e.firestore,zc),n=Hc(t),i=new vh(t);return Ic(n,e._query).then(n=>new mh(t,i,e,n))}function Sh(e){e=Yl(e,nc);const t=Yl(e.firestore,zc),n=Hc(t),i=new vh(t);return Rc(n,e._query,{source:"server"}).then(n=>new mh(t,i,e,n))}function Th(e,t,n){e=Yl(e,tc);const i=Yl(e.firestore,zc),r=uh(e.converter,t,n);return Ph(i,[mu(pu(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Cn.none())])}function Eh(e,t,n,...i){e=Yl(e,tc);const r=Yl(e.firestore,zc),o=pu(r);let a;return a="string"==typeof(t=Object(s["v"])(t))||t instanceof ru?xu(o,"updateDoc",e._key,t,n,i):wu(o,"updateDoc",e._key,t),Ph(r,[a.toMutation(e._key,Cn.exists(!0))])}function Mh(e){return Ph(Yl(e.firestore,zc),[new zn(e._key,Cn.none())])}function Ch(e,t){const n=Yl(e.firestore,zc),i=sc(e),r=uh(e.converter,t);return Ph(n,[mu(pu(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Cn.exists(!1))]).then(()=>i)}function Oh(e,...t){var n,i,r;e=Object(s["v"])(e);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||Fc(t[a])||(o=t[a],a++);const l={includeMetadataChanges:o.includeMetadataChanges};if(Fc(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),t[a+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let c,u,h;if(e instanceof tc)u=Yl(e.firestore,zc),h=$t(e._key.path),c={next:n=>{t[a]&&t[a](Ih(u,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Yl(e,nc);u=Yl(n.firestore,zc),h=n._query;const i=new vh(u);c={next:e=>{t[a]&&t[a](new mh(u,i,n,e))},error:t[a+1],complete:t[a+2]},Bu(e._query)}return function(e,t,n,i){const r=new uc(i),o=new Qa(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>Wa(await Mc(e),o)),()=>{r.bc(),e.asyncQueue.enqueueAndForget(async()=>$a(await Mc(e),o))}}(Hc(u),h,l,c)}function kh(e,t){return Dc(Hc(e=Yl(e,zc)),Fc(t)?t:{next:t})}function Ph(e,t){return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget(async()=>hl(await Tc(e),t,n)),n.promise}(Hc(e),t)}function Ih(e,t,n){const i=n.docs.get(t._key),r=new vh(e);return new fh(e,r,t._key,i,new dh(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(e,t){return lc(e.query,t.query)&&Object(s["o"])(e.data(),t.data())}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(e){const t=Yl(e.firestore,zc);return function(e,t,n){const i=new S;return e.asyncQueue.enqueueAndForget(async()=>{try{if(va(await Sc(e))){const r=await Ec(e),o=new pc(t,r,n).run();i.resolve(o)}else i.reject(new x(w.UNAVAILABLE,"Failed to get count result because the client is offline."))}catch(e){i.reject(e)}}),i.promise}(Hc(t),e,new vh(t))}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pu(e)}set(e,t,n){this._verifyNotCommitted();const i=Bh(e,this._firestore),r=uh(i.converter,t,n),o=mu(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,Cn.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const r=Bh(e,this._firestore);let o;return o="string"==typeof(t=Object(s["v"])(t))||t instanceof ru?xu(this._dataReader,"WriteBatch.update",r._key,t,n,i):wu(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(o.toMutation(r._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bh(e,this._firestore);return this._mutations=this._mutations.concat(new zn(t._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bh(e,t){if((e=Object(s["v"])(e)).firestore!==t)throw new x(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pu(e)}get(e){const t=Bh(e,this._firestore),n=new hh(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return y();const i=e[0];if(i.isFoundDocument())return new Du(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new Du(this._firestore,n,t._key,null,t.converter);throw y()})}set(e,t,n){const i=Bh(e,this._firestore),r=uh(i.converter,t,n),o=mu(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,o),this}update(e,t,n,...i){const r=Bh(e,this._firestore);let o;return o="string"==typeof(t=Object(s["v"])(t))||t instanceof ru?xu(this._dataReader,"Transaction.update",r._key,t,n,i):wu(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,o),this}delete(e){const t=Bh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bh(e,this._firestore),n=new vh(this._firestore);return super.get(e).then(e=>new fh(this._firestore,n,t._key,e._document,new dh(!1,!1),t.converter))}}function jh(e,t,n){e=Yl(e,zc);const i=Object.assign(Object.assign({},Lh),n);return function(e){if(e.maxAttempts<1)throw new x(w.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(e,t,n){const i=new S;return e.asyncQueue.enqueueAndForget(async()=>{const r=await Ec(e);new gc(e.asyncQueue,r,n,t,i).run()}),i.promise}(Hc(e),n=>t(new Fh(e,n)),i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(){return new gu("deleteField")}function zh(){return new yu("serverTimestamp")}function qh(...e){return new vu("arrayUnion",e)}function Vh(...e){return new bu("arrayRemove",e)}function Hh(e){return new _u("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(e){return Hc(e=Yl(e,zc)),new Nh(e,t=>Ph(e,t))
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function Wh(e,t){var n;const i=Hc(e=Yl(e,zc));if(!(null===(n=i.offlineComponents)||void 0===n?void 0:n.indexBackfillerScheduler))return g("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new x(w.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const i of t.indexes){const e=$h(i,"collectionGroup"),t=[];if(Array.isArray(i.fields))for(const n of i.fields){const e=Pu("setIndexConfiguration",$h(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new K(e,2)):"ASCENDING"===n.order?t.push(new K(e,0)):"DESCENDING"===n.order&&t.push(new K(e,1))}n.push(new W(W.UNKNOWN_ID,e,t,J.empty()))}return n}(t);return xc(i).then(e=>async function(e,t){const n=_(e),i=n.indexManager,r=[];return n.persistence.runTransaction("Configure indexes","readwrite",e=>i.getFieldIndexes(e).next(n=>function(e,t,n,i,r){e=[...e],t=[...t],e.sort(n),t.sort(n);const o=e.length,s=t.length;let a=0,l=0;for(;a<s&&l<o;){const o=n(e[l],t[a]);o<0?r(e[l++]):o>0?i(t[a++]):(a++,l++)}for(;a<s;)i(t[a++]);for(;l<o;)r(e[l++])}(n,t,Y,t=>{r.push(i.addFieldIndex(e,t))},t=>{r.push(i.deleteFieldIndex(e,t))})).next(()=>se.waitFor(r)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,r))}function $h(e,t){if("string"!=typeof e[t])throw new x(w.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}!function(e,t=!0){!function(e){u=e}(i["a"]),Object(i["c"])(new r["a"]("firestore",(e,{instanceIdentifier:n,options:i})=>{const r=e.getProvider("app").getImmediate(),o=new zc(new C(e.getProvider("auth-internal")),new I(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new x(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new be(e.options.projectId,t)}(r,n),r);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Object(i["g"])(l,"3.8.3",e),Object(i["g"])(l,"3.8.3","esm2017")}()}).call(this,n("4362"))},"0a06":function(e,t,n){"use strict";var i=n("c532"),r=n("30b5"),o=n("f6b4"),s=n("5270"),a=n("4a7b"),l=n("848b"),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=a(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!r){var h=[s,void 0];Array.prototype.unshift.apply(h,i),h=h.concat(u),o=Promise.resolve(t);while(h.length)o=o.then(h.shift(),h.shift());return o}var d=t;while(i.length){var f=i.shift(),p=i.shift();try{d=f(d)}catch(m){p(m);break}}try{o=s(d)}catch(m){return Promise.reject(m)}while(u.length)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(a(i||{},{method:e,url:t,data:n}))}})),e.exports=u},"0c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return ze})),n.d(t,"b",(function(){return kt})),n.d(t,"c",(function(){return Zt})),n.d(t,"d",(function(){return Yt})),n.d(t,"e",(function(){return Jt})),n.d(t,"f",(function(){return Ge}));var i=n("cd93"),r=n.n(i),o=n("23bc"),s=n.n(o),a=n("ebd5"),l=n.n(a),c=n("c36e"),u=n.n(c),h=n("2fb4"),d=n.n(h),f=Object.prototype.toString;function p(e){return"[object Function]"===f.call(e)}var m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function A(e){return e.split("").map((function(e){return"(?:"+e.toUpperCase()+"|"+e.toLowerCase()+")"})).join("")}function y(e,t){for(var n=e.length-1;n>=0;n--)e[n]===t&&Array.prototype.splice.call(e,n,1)}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var b={},_=function(){function e(){m(this,e),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return g(e,null,[{key:"getInstance",value:function(t){return b[t]=b[t]||new e,b[t]}}]),g(e,[{key:"acronym",value:function(e){this.acronyms[e.toLowerCase()]=e;var t=[];for(var n in this.acronyms)v(this.acronyms,n)&&t.push(this.acronyms[n]);this.acronymRegex=new RegExp(t.join("|"))}},{key:"plural",value:function(e,t){"string"===typeof e&&y(this.uncountables,e),y(this.uncountables,t),this.plurals.unshift([e,t])}},{key:"singular",value:function(e,t){"string"===typeof e&&y(this.uncountables,e),y(this.uncountables,t),this.singulars.unshift([e,t])}},{key:"irregular",value:function(e,t){y(this.uncountables,e),y(this.uncountables,t);var n=e[0],i=e.substr(1),r=t[0],o=t.substr(1);if(n.toUpperCase()===r.toUpperCase())this.plural(new RegExp("("+n+")"+i+"$","i"),"$1"+o),this.plural(new RegExp("("+r+")"+o+"$","i"),"$1"+o),this.singular(new RegExp("("+n+")"+i+"$","i"),"$1"+i),this.singular(new RegExp("("+r+")"+o+"$","i"),"$1"+i);else{var s=A(i),a=A(o);this.plural(new RegExp(n.toUpperCase()+s+"$"),r.toUpperCase()+o),this.plural(new RegExp(n.toLowerCase()+s+"$"),r.toLowerCase()+o),this.plural(new RegExp(r.toUpperCase()+a+"$"),r.toUpperCase()+o),this.plural(new RegExp(r.toLowerCase()+a+"$"),r.toLowerCase()+o),this.singular(new RegExp(n.toUpperCase()+s+"$"),n.toUpperCase()+i),this.singular(new RegExp(n.toLowerCase()+s+"$"),n.toLowerCase()+i),this.singular(new RegExp(r.toUpperCase()+a+"$"),n.toUpperCase()+i),this.singular(new RegExp(r.toLowerCase()+a+"$"),n.toLowerCase()+i)}}},{key:"uncountable",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.uncountables=this.uncountables.concat(t)}},{key:"human",value:function(e,t){this.humans.unshift([e,t])}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===e?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[e]=[]}}]),e}();function w(e){e.plural(/$/,"s"),e.plural(/s$/i,"s"),e.plural(/^(ax|test)is$/i,"$1es"),e.plural(/(octop|vir)us$/i,"$1i"),e.plural(/(octop|vir)i$/i,"$1i"),e.plural(/(alias|status)$/i,"$1es"),e.plural(/(bu)s$/i,"$1ses"),e.plural(/(buffal|tomat)o$/i,"$1oes"),e.plural(/([ti])um$/i,"$1a"),e.plural(/([ti])a$/i,"$1a"),e.plural(/sis$/i,"ses"),e.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),e.plural(/(hive)$/i,"$1s"),e.plural(/([^aeiouy]|qu)y$/i,"$1ies"),e.plural(/(x|ch|ss|sh)$/i,"$1es"),e.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),e.plural(/^(m|l)ouse$/i,"$1ice"),e.plural(/^(m|l)ice$/i,"$1ice"),e.plural(/^(ox)$/i,"$1en"),e.plural(/^(oxen)$/i,"$1"),e.plural(/(quiz)$/i,"$1zes"),e.singular(/s$/i,""),e.singular(/(ss)$/i,"$1"),e.singular(/(n)ews$/i,"$1ews"),e.singular(/([ti])a$/i,"$1um"),e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),e.singular(/(^analy)(sis|ses)$/i,"$1sis"),e.singular(/([^f])ves$/i,"$1fe"),e.singular(/(hive)s$/i,"$1"),e.singular(/(tive)s$/i,"$1"),e.singular(/([lr])ves$/i,"$1f"),e.singular(/([^aeiouy]|qu)ies$/i,"$1y"),e.singular(/(s)eries$/i,"$1eries"),e.singular(/(m)ovies$/i,"$1ovie"),e.singular(/(x|ch|ss|sh)es$/i,"$1"),e.singular(/^(m|l)ice$/i,"$1ouse"),e.singular(/(bus)(es)?$/i,"$1"),e.singular(/(o)es$/i,"$1"),e.singular(/(shoe)s$/i,"$1"),e.singular(/(cris|test)(is|es)$/i,"$1is"),e.singular(/^(a)x[ie]s$/i,"$1xis"),e.singular(/(octop|vir)(us|i)$/i,"$1us"),e.singular(/(alias|status)(es)?$/i,"$1"),e.singular(/^(ox)en/i,"$1"),e.singular(/(vert|ind)ices$/i,"$1ex"),e.singular(/(matr)ices$/i,"$1ix"),e.singular(/(quiz)zes$/i,"$1"),e.singular(/(database)s$/i,"$1"),e.irregular("person","people"),e.irregular("man","men"),e.irregular("child","children"),e.irregular("sex","sexes"),e.irregular("move","moves"),e.irregular("zombie","zombies"),e.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}var x={en:w};function S(e,t){if(p(e)&&(t=e,e=null),e=e||"en",!t)return _.getInstance(e);t(_.getInstance(e))}for(var T in x)S(T,x[T]);function E(e,t){var n,i,r,o=""+e;if(0===o.length)return o;var s=o.toLowerCase().match(/\b\w+$/);if(s&&S().uncountables.indexOf(s[0])>-1)return o;for(var a=0,l=t.length;a<l;a++)if(n=t[a],i=n[0],r=n[1],o.match(i)){o=o.replace(i,r);break}return o}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return E(e,S(t).plurals)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return E(e,S(t).singulars)}function O(e){var t=null===e||void 0===e?"":String(e);return t.charAt(0).toUpperCase()+t.slice(1)}function k(e,t){null!==t&&void 0!==t||(t=!0);var n=""+e;return n=t?n.replace(/^[a-z\d]*/,(function(e){return S().acronyms[e]||O(e)})):n.replace(new RegExp("^(?:"+S().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),(function(e){return e.toLowerCase()})),n=n.replace(/(?:_|(\/))([a-z\d]*)/gi,(function(e,t,n,i,r){return t||(t=""),""+t+(S().acronyms[n]||O(n))})),n}function P(e){var t=""+e;return t=t.replace(new RegExp("(?:([A-Za-z\\d])|^)("+S().acronymRegex.source+")(?=\\b|[^a-z])","g"),(function(e,t,n){return(t||"")+(t?"_":"")+n.toLowerCase()})),t=t.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2"),t=t.replace(/([a-z\d])([A-Z])/g,"$1_$2"),t=t.replace(/-/g,"_"),t.toLowerCase()}function I(e){return e.replace(/_/g,"-")}var R={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","×":"x","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"Th","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","ĝ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"'n","Ŋ":"NG","ŋ":"ng","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"E","Ж":"ZH","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"KH","Ц":"C","Ч":"CH","Ш":"SH","Щ":"SHCH","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"YU","Я":"YA","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"shch","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya"},D="?",L={};(function(){function e(){for(var t in m(this,e),this.approximations={},R)this.approximate(t,R[t])}g(e,null,[{key:"getInstance",value:function(t){return L[t]=L[t]||new e,L[t]}}]),g(e,[{key:"approximate",value:function(e,t){this.approximations[e]=t}},{key:"transliterate",value:function(e,t){var n=this;return e.replace(/[^\u0000-\u007f]/g,(function(e){return n.approximations[e]||t||D}))}}])})();var N=n("fdda"),B=n.n(N),F=n("5da1"),j=n.n(F),U=n("35ae"),z=n.n(U),q=n("cd3f"),V=n.n(q),H=n("670d"),G=n.n(H),W=n("fc15"),$=n.n(W),X=n("6341"),Y=n.n(X),K=n("6df4"),Q=n.n(K),J=n("23db"),Z=n.n(J),ee=n("c832"),te=n.n(ee),ne=n("b71a"),ie=n.n(ne),re=n("1f5c"),oe=n.n(re),se=n("88bc"),ae=n.n(se),le=n("42a0"),ce=n.n(le),ue=n("14e8"),he=n.n(ue),de=n("4db4"),fe=n.n(de),pe=(n("e016"),n("1bb4"));n("8238");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){return Ae="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function be(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}function Se(e,t){return Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Se(e,t)}function Te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ee(e,t,n){return Ee=Te()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=Function.bind.apply(e,i),o=new r;return n&&Se(o,n.prototype),o},Ee.apply(null,arguments)}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Me(e)}function Oe(e){var t=Te();return function(){var n,i=xe(e);if(t){var r=xe(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ce(this,n)}}function ke(e,t){return Re(e)||Le(e,t)||Ne(e,t)||je()}function Pe(e){return Ie(e)||De(e)||Ne(e)||Fe()}function Ie(e){if(Array.isArray(e))return Be(e)}function Re(e){if(Array.isArray(e))return e}function De(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Le(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done);s=!0)if(o.push(i.value),t&&o.length===t)break}catch(l){a=!0,r=l}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw r}}return o}}function Ne(e,t){if(e){if("string"===typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Fe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function je(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ue(e){var t=u()(d()(e)),n=t.length,i=new Array(n),r={},o=n,s=function o(s,a,l){if(l.indexOf(s)>=0)throw new Error("Cyclic dependency in properties ".concat(JSON.stringify(l)));if(!r[a]){r[a]=!0;var c=e.filter((function(e){return e&&e[0]===s}));if(a=c.length,a){var u=l.concat(s);do{var h=c[--a],d=h[1];d&&o(d,t.indexOf(d),u)}while(a)}i[--n]=s}};while(o--)r[o]||s(t[o],o,[]);return i.reverse()}var ze=function e(){this.build=function(t){var n=this,i={},o=Object.assign({},this.attrs);delete o.afterCreate,Object.keys(o).forEach((function(t){e.isTrait.call(n,t)&&delete o[t]}));var a=qe(o,t);return a.forEach((function(e){var n,a;n=function(e){return l()(e,a)},a=function(e){return Array.isArray(e)?e.map(a):r()(e)?n(e):s()(e)?e.call(o,t):e};var c=o[e];s()(c)?i[e]=c.call(i,t):i[e]=a(c)})),i}};function qe(e,t){var n,i=function(){},r=new i,o=[];return Object.keys(e).forEach((function(e){var t;Object.defineProperty(r.constructor.prototype,e,{get:function(){return o.push([n,e]),t},set:function(e){t=e},enumerable:!1,configurable:!0})})),Object.keys(e).forEach((function(t){var n=e[t];"function"!==typeof n&&(r[t]=n)})),Object.keys(e).forEach((function(i){var s=e[i];n=i,"function"===typeof s&&(r[i]=s.call(r,t)),o.push([i])})),Ue(o)}function Ve(e){return(+e).toString()===e.toString()}ze.extend=function(e){var t=Object.assign({},this.attrs,e),n=function(){this.attrs=t,ze.call(this)};return n.extend=ze.extend,n.extractAfterCreateCallbacks=ze.extractAfterCreateCallbacks,n.isTrait=ze.isTrait,n.attrs=t,n},ze.extractAfterCreateCallbacks=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.traits,r=[],o=this.attrs||{};return o.afterCreate&&r.push(o.afterCreate),e=Array.isArray(i)?i:Object.keys(o),e.filter((function(e){return t.isTrait(e)&&o[e].extension.afterCreate})).forEach((function(e){r.push(o[e].extension.afterCreate)})),r},ze.isTrait=function(e){var t=this.attrs;return r()(t[e])&&!0===t[e].__isTrait__};var He=function(){function e(){ye(this,e),this._nextId=1,this._ids={}}return be(e,[{key:"get",value:function(){return this._nextId}},{key:"set",value:function(e){if(this._ids[e])throw new Error("Attempting to use the ID ".concat(e,", but it's already been used"));Ve(e)&&+e>=this._nextId&&(this._nextId=+e+1),this._ids[e]=!0}},{key:"inc",value:function(){var e=this.get()+1;return this._nextId=e,e}},{key:"fetch",value:function(){var e=this.get();return this._ids[e]=!0,this.inc(),e.toString()}},{key:"reset",value:function(){this._nextId=1,this._ids={}}}]),e}(),Ge=function(e){var t=!0;return{extension:e,__isTrait__:t}},We=console.warn,$e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;ye(this,e),this.code=t,this.headers=n,204===t?void 0!==i&&""!==i?We("Mirage: One of your route handlers is returning a custom\n          204 Response that has data, but this is a violation of the HTTP spec\n          and could lead to unexpected behavior. 204 responses should have no\n          content (an empty string) as their body."):this.data="":void 0!==i&&""!==i||Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")?this.data=i:this.data={},204===t||Object.prototype.hasOwnProperty.call(this.headers,"Content-Type")||(this.headers["Content-Type"]="application/json")}return be(e,[{key:"toRackResponse",value:function(){return[this.code,this.headers,this.data]}}]),e}(),Xe={},Ye={},Ke={},Qe={};function Je(e){if("string"!==typeof Xe[e]){var t=k(et(e),!1),n=t.split("/").map(B.a).join("/");Xe[e]=n}return Xe[e]}function Ze(e){if("string"!==typeof Ye[e]){var t=I(et(e));Ye[e]=t}return Ye[e]}function et(e){if("string"!==typeof Ke[e]){var t=P(e);Ke[e]=t}return Ke[e]}function tt(e){if("string"!==typeof Qe[e]){var t=O(e);Qe[e]=t}return Qe[e]}function nt(e){return r()(e)&&!0===e.__isAssociation__}var it=["description","fileName","lineNumber","message","name","number","stack"];function rt(e,t){if("string"===typeof e&&!t)throw new ot(e);if(!e)throw new ot(t.replace(/^ +/gm,"")||"Assertion failed")}function ot(e,t){var n=Error(e);t&&(n.stack=t);for(var i=0;i<it.length;i++){var r=it[i];["description","message","stack"].indexOf(r)>-1?this[r]="Mirage: ".concat(n[r]):this[r]=n[r]}}ot.prototype=Object.create(Error.prototype);var st=function(){function e(t,n){ye(this,e),this.modelName=void 0,"object"===Ae(t)?(this.modelName=void 0,this.opts=t):(this.modelName=t?Ze(t):"",this.opts=n||{}),this.name="",this.ownerModelName=""}return be(e,[{key:"setSchema",value:function(e){this.schema=e}},{key:"isReflexive",value:function(){var e=!(this.modelName!==this.ownerModelName||!this.opts.inverse),t=!(void 0!==this.opts.inverse||this.ownerModelName!==this.modelName);return e||t}},{key:"isPolymorphic",get:function(){return this.opts.polymorphic}},{key:"type",get:function(){throw new Error("Subclasses of Association must implement a getter for type")}},{key:"foreignKey",get:function(){return this.getForeignKey()}},{key:"identifier",get:function(){throw new Error("Subclasses of Association must implement a getter for identifier")}}]),e}(),at={},lt=function(e){we(n,e);var t=Oe(n);function n(){return ye(this,n),t.apply(this,arguments)}return be(n,[{key:"identifier",get:function(){if("string"!==typeof at[this.name]){var e="".concat(Je(this.name),"Id");at[this.name]=e}return at[this.name]}},{key:"type",get:function(){return"belongsTo"}},{key:"getForeignKeyArray",value:function(){return[Je(this.ownerModelName),this.getForeignKey()]}},{key:"getForeignKey",value:function(){if("string"!==typeof at[this.name]){var e="".concat(Je(this.name),"Id");at[this.name]=e}return at[this.name]}},{key:"addMethodsToModelClass",value:function(e,t){var n=e.prototype,i=this,r=this.getForeignKey(),o=_e({},t,this);n.belongsToAssociations=Object.assign(n.belongsToAssociations,o),Object.keys(n.belongsToAssociations).forEach((function(e){var t=n.belongsToAssociations[e];n.belongsToAssociationFks[t.getForeignKey()]=t})),this.schema.addDependentAssociation(this,this.modelName),n.associationKeys.add(t),n.associationIdKeys.add(r),Object.defineProperty(n,r,{get:function(){this._tempAssociations=this._tempAssociations||{};var e,n=this._tempAssociations[t];return e=null===n?null:i.isPolymorphic?n?{id:n.id,type:n.modelName}:this.attrs[r]:n?n.id:this.attrs[r],e},set:function(e){var n;null===e?n=null:void 0!==e&&(i.isPolymorphic?(rt("object"===Ae(e),"You're setting an ID on the polymorphic association '".concat(i.name,"' but you didn't pass in an object. Polymorphic IDs need to be in the form { type, id }.")),n=i.schema[i.schema.toCollectionName(e.type)].find(e.id)):(n=i.schema[i.schema.toCollectionName(i.modelName)].find(e),rt(n,"Couldn't find ".concat(i.modelName," with id = ").concat(e)))),this[t]=n}}),Object.defineProperty(n,t,{get:function(){this._tempAssociations=this._tempAssociations||{};var e=this._tempAssociations[t],n=this[r],o=null;return e?o=e:null!==n&&(o=i.isPolymorphic?i.schema[i.schema.toCollectionName(n.type)].find(n.id):i.schema[i.schema.toCollectionName(i.modelName)].find(n)),o},set:function(e){if(this._tempAssociations=this._tempAssociations||{},this._tempAssociations[t]=e,e&&e.hasInverseFor(i)){var n=e.inverseFor(i);e.associate(this,n)}}}),n["new".concat(tt(t))]=function(){var e,n;i.isPolymorphic?(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]):(e=i.modelName,n=arguments.length<=0?void 0:arguments[0]);var r=i.schema[i.schema.toCollectionName(e)]["new"](n);return this[t]=r,r},n["create".concat(tt(t))]=function(){var e,n;i.isPolymorphic?(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]):(e=i.modelName,n=arguments.length<=0?void 0:arguments[0]);var r=i.schema[i.schema.toCollectionName(e)].create(n);return this[t]=r,this.save(),r.reload()}}},{key:"disassociateAllDependentsFromTarget",value:function(e){var t,n=this,i=this.ownerModelName;t=this.isPolymorphic?{type:e.modelName,id:e.id}:e.id;var r=this.schema[this.schema.toCollectionName(i)].where((function(e){var i=e[n.getForeignKey()];return!!i&&("object"===Ae(i)?i.type===t.type&&i.id===t.id:i===t)}));r.models.forEach((function(t){t.disassociate(e,n),t.save()}))}}]),n}(st);function ct(e){return Array.isArray(e)?e.map(ct):Object.assign({},e)}var ut=function(){function e(t,n,i){ye(this,e),this.name=t,this._records=[],this.identityManager=new i,n&&this.insert(n)}return be(e,[{key:"all",value:function(){return ct(this._records)}},{key:"insert",value:function(e){var t=this;return Array.isArray(e)?z()(e,(function(e){return t._insertRecord(e)})):this._insertRecord(e)}},{key:"find",value:function(e){if(Array.isArray(e)){var t=this._findRecords(e).filter(Boolean).map(ct);return t}var n=this._findRecord(e);return n?ct(n):null}},{key:"findBy",value:function(e){var t=this._findRecordBy(e);return t?ct(t):null}},{key:"where",value:function(e){return this._findRecordsWhere(e).map(ct)}},{key:"firstOrCreate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.where(e),i=ke(n,1),r=i[0];if(r)return r;var o=Object.assign(t,e),s=this.insert(o);return s}},{key:"update",value:function(e,t){var n,i=this;if("undefined"===typeof t){t=e;var r=[];return this._records.forEach((function(e){var n=Object.assign({},e);i._updateRecord(e,t),j()(n,e)||r.push(e)})),r}if("number"===typeof e||"string"===typeof e){var o=e,s=this._findRecord(o);return this._updateRecord(s,t),s}if(Array.isArray(e)){var a=e;return n=this._findRecords(a),n.forEach((function(e){i._updateRecord(e,t)})),n}if("object"===Ae(e)){var l=e;return n=this._findRecordsWhere(l),n.forEach((function(e){i._updateRecord(e,t)})),n}}},{key:"remove",value:function(e){var t,n=this;if("undefined"===typeof e)this._records=[],this.identityManager.reset();else if("number"===typeof e||"string"===typeof e){var i=this._findRecord(e),r=this._records.indexOf(i);this._records.splice(r,1)}else Array.isArray(e)?(t=this._findRecords(e),t.forEach((function(e){var t=n._records.indexOf(e);n._records.splice(t,1)}))):"object"===Ae(e)&&(t=this._findRecordsWhere(e),t.forEach((function(e){var t=n._records.indexOf(e);n._records.splice(t,1)})))}},{key:"_findRecord",value:function(e){return e=e.toString(),this._records.find((function(t){return t.id===e}))}},{key:"_findRecordBy",value:function(e){return this._findRecordsWhere(e)[0]}},{key:"_findRecords",value:function(e){return e.map(this._findRecord,this)}},{key:"_findRecordsWhere",value:function(e){var t=this._records;function n(t){var n=Object.keys(e);return n.every((function(n){return String(t[n])===String(e[n])}))}var i="object"===Ae(e)?n:e;return t.filter(i)}},{key:"_insertRecord",value:function(e){var t=ct(e);return!t||void 0!==t.id&&null!==t.id?(t.id=t.id.toString(),this.identityManager.set(t.id)):t.id=this.identityManager.fetch(t),this._records.push(t),ct(t)}},{key:"_updateRecord",value:function(e,t){var n=t&&Object.prototype.hasOwnProperty.call(t,"id")?t.id.toString():null,i=e.id;if(n&&i!==n)throw new Error("Updating the ID of a record is not permitted");for(var r in t)"id"!==r&&(e[r]=t[r])}}]),e}(),ht=function(){function e(t,n){ye(this,e),this._collections=[],this.registerIdentityManagers(n),t&&this.loadData(t)}return be(e,[{key:"loadData",value:function(e){for(var t in e)this.createCollection(t,V()(e[t]))}},{key:"dump",value:function(){return this._collections.reduce((function(e,t){return e[t.name]=t.all(),e}),{})}},{key:"createCollection",value:function(e,t){if(this[e])t&&this[e].insert(t);else{var n=this.identityManagerFor(e),i=new ut(e,t,n);Object.defineProperty(this,e,{get:function(){var e=i.all();return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach((function(t){e[t]=function(){return i[t].apply(i,arguments)}})),e}}),Object.defineProperty(this,"_".concat(e),{get:function(){var e=[];return["insert","find","findBy","where","update","remove","firstOrCreate"].forEach((function(t){e[t]=function(){return i[t].apply(i,arguments)}})),e}}),this._collections.push(i)}return this}},{key:"createCollections",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){return e.createCollection(t)}))}},{key:"emptyData",value:function(){this._collections.forEach((function(e){return e.remove()}))}},{key:"identityManagerFor",value:function(e){return this._identityManagers[this._container.inflector.singularize(e)]||this._identityManagers.application||He}},{key:"registerIdentityManagers",value:function(e){this._identityManagers=e||{}}}]),e}(),dt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];ye(this,e),rt(t&&"string"===typeof t,"You must pass a `modelName` into a Collection"),this.modelName=t,this.models=n}return be(e,[{key:"length",get:function(){return this.models.length}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G.a.apply(void 0,[this.models,"update"].concat(t)),this}},{key:"save",value:function(){return G()(this.models,"save"),this}},{key:"reload",value:function(){return G()(this.models,"reload"),this}},{key:"destroy",value:function(){return G()(this.models,"destroy"),this}},{key:"add",value:function(e){return this.models.push(e),this}},{key:"remove",value:function(e){var t=this.models.find((function(t){return t.toString()===e.toString()}));if(t){var n=this.models.indexOf(t);this.models.splice(n,1)}return this}},{key:"includes",value:function(e){return this.models.some((function(t){return t.toString()===e.toString()}))}},{key:"filter",value:function(t){var n=this.models.filter(t);return new e(this.modelName,n)}},{key:"sort",value:function(t){var n=this.models.concat().sort(t);return new e(this.modelName,n)}},{key:"slice",value:function(){var t,n=(t=this.models).slice.apply(t,arguments);return new e(this.modelName,n)}},{key:"mergeCollection",value:function(e){return this.models=this.models.concat(e.models),this}},{key:"toString",value:function(){return"collection:".concat(this.modelName,"(").concat(this.models.map((function(e){return e.id})).join(","),")")}}]),e}(),ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ye(this,e),this.models=t}return be(e,[{key:"length",get:function(){return this.models.length}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G.a.apply(void 0,[this.models,"update"].concat(t)),this}},{key:"destroy",value:function(){return G()(this.models,"destroy"),this}},{key:"save",value:function(){return G()(this.models,"save"),this}},{key:"reload",value:function(){return G()(this.models,"reload"),this}},{key:"add",value:function(e){return this.models.push(e),this}},{key:"remove",value:function(e){var t=this.models.find((function(t){return j()(t.attrs,e.attrs)}));if(t){var n=this.models.indexOf(t);this.models.splice(n,1)}return this}},{key:"includes",value:function(e){return this.models.some((function(t){return j()(t.attrs,e.attrs)}))}},{key:"filter",value:function(t){var n=this.models.filter(t);return new e(n)}},{key:"sort",value:function(t){var n=this.models.concat().sort(t);return new e(n)}},{key:"slice",value:function(){var t,n=(t=this.models).slice.apply(t,arguments);return new e(n)}},{key:"mergeCollection",value:function(e){return this.models=this.models.concat(e.models),this}},{key:"toString",value:function(){return"collection:".concat(this.modelName,"(").concat(this.models.map((function(e){return e.id})).join(","),")")}}]),e}(),pt={},mt=function(e){we(n,e);var t=Oe(n);function n(){return ye(this,n),t.apply(this,arguments)}return be(n,[{key:"identifier",get:function(){if("string"!==typeof pt[this.name]){var e="".concat(Je(this._container.inflector.singularize(this.name)),"Ids");pt[this.name]=e}return pt[this.name]}},{key:"type",get:function(){return"hasMany"}},{key:"getForeignKeyArray",value:function(){return[Je(this.ownerModelName),this.getForeignKey()]}},{key:"getForeignKey",value:function(){if("string"!==typeof pt[this.name]){var e="".concat(this._container.inflector.singularize(Je(this.name)),"Ids");pt[this.name]=e}return pt[this.name]}},{key:"addMethodsToModelClass",value:function(e,t){var n=e.prototype,i=this,r=this.getForeignKey(),o=_e({},t,this);n.hasManyAssociations=Object.assign(n.hasManyAssociations,o),Object.keys(n.hasManyAssociations).forEach((function(e){var t=n.hasManyAssociations[e];n.hasManyAssociationFks[t.getForeignKey()]=t})),this.schema.addDependentAssociation(this,this.modelName),n.associationKeys.add(t),n.associationIdKeys.add(r),Object.defineProperty(n,r,{get:function(){this._tempAssociations=this._tempAssociations||{};var e=this._tempAssociations[t],n=[];return n=e?i.isPolymorphic?e.models.map((function(e){return{type:e.modelName,id:e.id}})):e.models.map((function(e){return e.id})):this.attrs[r]||[],n},set:function(e){var n;if(null===e)n=[];else if(void 0!==e)if(rt(Array.isArray(e),"You must pass an array in when setting ".concat(r," on ").concat(this)),i.isPolymorphic){rt(e.every((function(e){return"object"===Ae(e)&&void 0!==Ae(e.type)&&void 0!==Ae(e.id)})),"You must pass in an array of polymorphic identifiers (objects of shape { type, id }) when setting ".concat(r," on ").concat(this));var o=e.map((function(e){var t=e.type,n=e.id;return i.schema[i.schema.toCollectionName(t)].find(n)}));n=new ft(o)}else n=i.schema[i.schema.toCollectionName(i.modelName)].find(e);this[t]=n}}),Object.defineProperty(n,t,{get:function(){this._tempAssociations=this._tempAssociations||{};var e=null;if(this._tempAssociations[t])e=this._tempAssociations[t];else{if(i.isPolymorphic)if(this[r]){var n=this[r],o=n.map((function(e){var t=e.type,n=e.id;return i.schema[i.schema.toCollectionName(t)].find(n)}));e=new ft(o)}else e=new ft(i.modelName);else e=this[r]?i.schema[i.schema.toCollectionName(i.modelName)].find(this[r]):new dt(i.modelName);this._tempAssociations[t]=e}return e},set:function(e){var n,r=this;(e instanceof dt||e instanceof ft)&&(e=e.models),e=e?$()(e):[],this._tempAssociations=this._tempAssociations||{},n=i.isPolymorphic?new ft(e):new dt(i.modelName,e),this._tempAssociations[t]=n,e.forEach((function(e){if(e.hasInverseFor(i)){var t=e.inverseFor(i);e.associate(r,t)}}))}}),n["new".concat(tt(Je(this._container.inflector.singularize(i.name))))]=function(){var e,n;i.isPolymorphic?(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]):(e=i.modelName,n=arguments.length<=0?void 0:arguments[0]);var r=i.schema[i.schema.toCollectionName(e)]["new"](n),o=this[t].models;return o.push(r),this[t]=o,r},n["create".concat(tt(Je(this._container.inflector.singularize(i.name))))]=function(){var e,n;i.isPolymorphic?(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1]):(e=i.modelName,n=arguments.length<=0?void 0:arguments[0]);var r=i.schema[i.schema.toCollectionName(e)].create(n),o=this[t].models;return o.push(r),this[t]=o,this.save(),r.reload()}}},{key:"disassociateAllDependentsFromTarget",value:function(e){var t,n=this,i=this.ownerModelName;t=this.isPolymorphic?{type:e.modelName,id:e.id}:e.id;var r=this.schema[this.schema.toCollectionName(i)].where((function(e){var i=e[n.getForeignKey()];return i&&i.find((function(e){return"object"===Ae(e)?e.type===t.type&&e.id===t.id:e===t}))}));r.models.forEach((function(t){t.disassociate(e,n),t.save()}))}}]),n}(st),gt={},At=function(){function e(){ye(this,e)}return be(e,[{key:"getModelClassFromPath",value:function(e){if(e){if("string"!==typeof gt[e]){for(var t,n=e.split("/"),i=n.length-1;i>=0;i--){var r=n[i];if(r.length&&":"!==r[0]){t=r;break}}gt[e]=Ze(Je(this._container.inflector.singularize(t)))}return gt[e]}}},{key:"_getIdForRequest",value:function(e,t){var n;return e&&e.params&&e.params.id?n=e.params.id:t&&t.data&&t.data.id&&(n=t.data.id),n}},{key:"_getJsonApiDocForRequest",value:function(e,t){var n;return e&&e.requestBody&&(n=JSON.parse(e.requestBody)),this.serializerOrRegistry.normalize(n,t)}},{key:"_getAttrsForRequest",value:function(e,t){var n=this,i=this._getJsonApiDocForRequest(e,t),r=this._getIdForRequest(e,i),o={};return rt(i.data&&(i.data.attributes||i.data.type||i.data.relationships),"You're using a shorthand or #normalizedRequestAttrs, but your serializer's normalize function did not return a valid JSON:API document. Consult the docs for the normalize hook on the Serializer class."),i.data.attributes&&(o=Object.keys(i.data.attributes).reduce((function(e,t){return e[Je(t)]=i.data.attributes[t],e}),{})),i.data.relationships&&Object.keys(i.data.relationships).forEach((function(r){var s,a=i.data.relationships[r],l=n.schema.modelClassFor(t),c=l.associationFor(Je(r));rt(c,"You're passing the relationship '".concat(r,"' to the '").concat(t,"' model via a ").concat(e.method," to '").concat(e.url,"', but you did not define the '").concat(r,"' association on the '").concat(t,"' model.")),s=c.isPolymorphic?a.data:c instanceof mt?a.data&&a.data.map((function(e){return e.id})):a.data&&a.data.id,o[c.identifier]=s}),{}),r&&(o.id=r),o}},{key:"_getAttrsForFormRequest",value:function(e){var t,n=e.requestBody,i=[];return rt(n&&"string"===typeof n,"You're using the helper method #normalizedFormData, but the request body is empty or not a valid url encoded string."),i=n.split("&"),t=i.reduce((function(e,t){var n=t.split("="),i=ke(n,2),r=i[0],o=i[1];return e[r]=decodeURIComponent(o.replace(/\+/g," ")),e}),{}),t}}]),e}(),yt=function(e){we(n,e);var t=Oe(n);function n(e,i,r,o,s){var a;return ye(this,n),a=t.call(this,s),a.schema=e,a.serializerOrRegistry=i,a.userFunction=r,a.path=o,a}return be(n,[{key:"handle",value:function(e){return this.userFunction(this.schema,e)}},{key:"setRequest",value:function(e){this.request=e}},{key:"serialize",value:function(e,t){var n;return n=t?this.serializerOrRegistry.serializerFor(t,{explicit:!0}):this.serializerOrRegistry,n.serialize(e,this.request)}},{key:"normalizedRequestAttrs",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.path,i=this.request,r=this.request.requestHeaders,o={};for(var s in r)o[s.toLowerCase()]=r[s];return/x-www-form-urlencoded/.test(o["content-type"])?e=this._getAttrsForFormRequest(i):(t?rt(Ze(t)===t,"You called normalizedRequestAttrs('".concat(t,"'), but normalizedRequestAttrs was intended to be used with the dasherized version of the model type. Please change this to normalizedRequestAttrs('").concat(Ze(t),"').")):t=this.getModelClassFromPath(n),rt(this.schema.hasModelForModelName(t),"You're using a shorthand or the #normalizedRequestAttrs helper but the detected model of '".concat(t,"' does not exist. You might need to pass in the correct modelName as the first argument to #normalizedRequestAttrs.")),e=this._getAttrsForRequest(i,t)),e}}]),n}(At),vt=function(){function e(t,n,i){ye(this,e),this.schema=t,this.serializerOrRegistry=n,this.object=i}return be(e,[{key:"handle",value:function(){return this.object}}]),e}(),bt=function(e){we(n,e);var t=Oe(n);function n(e,i,r,o){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};ye(this,n),s=t.call(this),r=r||s.getModelClassFromPath(o),s.schema=e,s.serializerOrRegistry=i,s.shorthand=r,s.options=a;var l=Array.isArray(r)?"array":Ae(r);if("string"===l){var c=s.schema[s.schema.toCollectionName(r)];s.handle=function(e){return s.handleStringShorthand(e,c)}}else if("array"===l){var u=r.map((function(e){return s.schema[s.schema.toCollectionName(e)]}));s.handle=function(e){return s.handleArrayShorthand(e,u)}}return s}return n}(At),_t=function(e){we(n,e);var t=Oe(n);function n(){return ye(this,n),t.apply(this,arguments)}return be(n,[{key:"handleStringShorthand",value:function(e,t){var n=this.shorthand,i=Je(n);rt(t,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var r=this._getIdForRequest(e);if(r){var o=t.find(r);return o||new $e(404)}if(this.options.coalesce){var s=this.serializerOrRegistry.getCoalescedIds(e,i);if(s)return t.find(s)}return t.all()}},{key:"handleArrayShorthand",value:function(e,t){var n=this.shorthand,i=this._getIdForRequest(e);return rt(!i||this._container.inflector.singularize(n[0])!==n[0],"It looks like you're using the \"Single record with\n      related records\" version of the array shorthand, in addition to opting\n      in to the model layer. This shorthand was made when there was no\n      serializer layer. Now that you're using models, please ensure your\n      relationships are defined, and create a serializer for the parent\n      model, adding the relationships there."),t.map((function(e){return e.all()}))}}]),n}(bt),wt=function(e){we(n,e);var t=Oe(n);function n(){return ye(this,n),t.apply(this,arguments)}return be(n,[{key:"handleStringShorthand",value:function(e,t){var n=this.shorthand,i=Je(n);rt(t,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var r=this._getAttrsForRequest(e,t.camelizedModelName);return t.create(r)}}]),n}(bt),xt=function(e){we(n,e);var t=Oe(n);function n(){return ye(this,n),t.apply(this,arguments)}return be(n,[{key:"handleStringShorthand",value:function(e,t){var n=this.shorthand,i=Je(n);rt(t,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var r=this._getIdForRequest(e),o=t.find(r);if(!o)return new $e(404);var s=this._getAttrsForRequest(e,t.camelizedModelName);return o.update(s)}}]),n}(bt),St=function(e){we(n,e);var t=Oe(n);function n(){return ye(this,n),t.apply(this,arguments)}return be(n,[{key:"handleStringShorthand",value:function(e,t){var n=this.shorthand,i=Je(n);rt(t,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var r=this._getIdForRequest(e),o=t.find(r);if(!o)return new $e(404);o.destroy()}},{key:"handleArrayShorthand",value:function(e,t){var n=this,i=this._getIdForRequest(e),r=t[0].find(i),o=t.slice(1).map((function(e){return n._container.inflector.pluralize(e.camelizedModelName)}));o.forEach((function(e){return r[e].destroy()})),r.destroy()}}]),n}(bt),Tt=function(e){we(n,e);var t=Oe(n);function n(){return ye(this,n),t.apply(this,arguments)}return be(n,[{key:"handleStringShorthand",value:function(e,t){var n=this.shorthand,i=Je(n);rt(t,"The route handler for ".concat(e.url," is trying to access the ").concat(i," model, but that model doesn't exist."));var r=this._getIdForRequest(e);if(r){var o=t.find(r);return new $e(o?204:404)}if(this.options.coalesce&&e.queryParams&&e.queryParams.ids){var s=t.find(e.queryParams.ids);return new $e(s?204:404)}return new $e(204)}}]),n}(bt),Et={get:200,put:204,post:201,delete:204};function Mt(e){var t,n=e.verb,i=e.schema,r=e.serializerOrRegistry,o=e.path,s=e.rawHandler,a=e.options,l=[i,r,s,o,a],c=Ae(s);return"function"===c?t=Ee(yt,l):"object"===c&&s?t=Ee(vt,l):"get"===n?t=Ee(_t,l):"post"===n?t=Ee(wt,l):"put"===n||"patch"===n?t=Ee(xt,l):"delete"===n?t=Ee(St,l):"head"===n&&(t=Ee(Tt,l)),t}var Ct=function(){function e(t){var n=t.schema,i=t.verb,r=t.rawHandler,o=t.customizedCode,s=t.options,a=t.path,l=t.serializerOrRegistry;ye(this,e),this.verb=i,this.customizedCode=o,this.serializerOrRegistry=l,this.handler=Mt({verb:i,schema:n,path:a,serializerOrRegistry:l,rawHandler:r,options:s})}return be(e,[{key:"handle",value:function(e){var t=this;return this._getMirageResponseForRequest(e).then((function(n){return t.serialize(n,e)})).then((function(e){return e.toRackResponse()}))}},{key:"_getMirageResponseForRequest",value:function(e){var t;try{this.handler instanceof yt&&this.handler.setRequest(e),t=this.handler.handle(e)}catch(i){if(i instanceof ot)t=new $e(500,{},i);else{var n=i.message||i;t=new $e(500,{},{message:n,stack:"Mirage: Your ".concat(e.method," handler for the url ").concat(e.url," threw an error:\n\n").concat(i.stack||i)})}}return this._toMirageResponse(t)}},{key:"_toMirageResponse",value:function(e){var t,n=this;return new Promise((function(i,r){Promise.resolve(e).then((function(r){if(r instanceof $e)t=e;else{var o=n._getCodeForResponse(r);t=new $e(o,{},r)}i(t)}))["catch"](r)}))}},{key:"_getCodeForResponse",value:function(e){var t;return this.customizedCode?t=this.customizedCode:(t=Et[this.verb],204===t&&void 0!==e&&""!==e&&(t=200)),t}},{key:"serialize",value:function(e,t){return e.data=this.serializerOrRegistry.serialize(e.data,t),e}}]),e}();function Ot(e,t){var n=function(t){we(i,t);var n=Oe(i);function i(){var t,r;ye(this,i);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];(t=n.call.apply(n,[this].concat(s)),e&&Y()(e,"constructor"))&&(r=e.constructor).call.apply(r,[Me(t)].concat(s));return t}return i}(this);return Object.assign(n,this,t),e&&Object.assign(n.prototype,e),n}var kt=function(){function e(t,n,i,r){var o=this;return ye(this,e),rt(t,"A model requires a schema"),rt(n,"A model requires a modelName"),this._schema=t,this.modelName=n,this.fks=r||[],this.attrs={},i=i||{},this.fks.forEach((function(e){o.attrs[e]=void 0!==i[e]?i[e]:null})),Object.keys(i).forEach((function(e){var t=i[e];o._validateAttr(e,t),o._setupAttr(e,t),o._setupRelationship(e,t)})),this}return be(e,[{key:"save",value:function(){var e=this._schema.toInternalCollectionName(this.modelName);return this.isNew()?(this.attrs=this._schema.db[e].insert(this.attrs),this._definePlainAttribute("id")):(this._schema.isSaving[this.toString()]=!0,this._schema.db[e].update(this.attrs.id,this.attrs)),this._saveAssociations(),this._schema.isSaving[this.toString()]=!1,this}},{key:"update",value:function(e,t){var n;return null==e||("object"===Ae(e)?n=e:(n={})[e]=t,Object.keys(n).forEach((function(e){this.associationKeys.has(e)||this.associationIdKeys.has(e)||this._definePlainAttribute(e),this[e]=n[e]}),this),this.save()),this}},{key:"destroy",value:function(){if(this.isSaved()){this._disassociateFromDependents();var e=this._schema.toInternalCollectionName(this.modelName);this._schema.db[e].remove(this.attrs.id)}}},{key:"isNew",value:function(){var e=!1,t=void 0!==this.attrs.id&&null!==this.attrs.id;if(t){var n=this._schema.toInternalCollectionName(this.modelName),i=this._schema.db[n].find(this.attrs.id);i&&(e=!0)}return!e}},{key:"isSaved",value:function(){return!this.isNew()}},{key:"reload",value:function(){if(this.id){var e=this._schema.toInternalCollectionName(this.modelName),t=this._schema.db[e].find(this.id);Object.keys(t).filter((function(e){return"id"!==e})).forEach((function(e){this.attrs[e]=t[e]}),this)}return this._tempAssociations={},this}},{key:"toJSON",value:function(){return ge({},this.attrs)}},{key:"associations",get:function(){return this._schema.associationsFor(this.modelName)}},{key:"associationFor",value:function(e){return this.associations[e]}},{key:"inverseFor",value:function(e){return this._explicitInverseFor(e)||this._implicitInverseFor(e)}},{key:"_explicitInverseFor",value:function(e){this._checkForMultipleExplicitInverses(e);var t=this._schema.associationsFor(this.modelName),n=e.opts.inverse,i=n?t[n]:null,r=i&&i.isPolymorphic,o=i&&i.modelName===e.ownerModelName,s=i&&i.opts.inverse;return s&&i.opts.inverse!==e.name&&rt(!1,"You specified an inverse of ".concat(n," for ").concat(e.name,", but it does not match ").concat(i.modelName," ").concat(i.name,"'s inverse")),r||o?i:null}},{key:"_checkForMultipleExplicitInverses",value:function(e){var t=this._schema.associationsFor(this.modelName),n=Object.keys(t).filter((function(n){var i=t[n],r=e.ownerModelName===i.modelName,o=e.name===i.opts.inverse;return r&&o}));rt(n.length<=1,"The ".concat(this.modelName," model has defined multiple explicit inverse associations for the ").concat(e.ownerModelName,".").concat(e.name," association."))}},{key:"_implicitInverseFor",value:function(e){var t=this,n=this._schema.associationsFor(this.modelName),i=e.ownerModelName;return Q()(n).filter((function(e){return e.modelName===i})).reduce((function(n,i){var r=i.opts.inverse,o=void 0===r,s=r===e.name,a=o||s;return a&&(rt(!n,"The ".concat(t.modelName," model has multiple possible inverse associations for the ").concat(e.ownerModelName,".").concat(e.name," association.")),n=i),n}),null)}},{key:"hasInverseFor",value:function(e){return!!this.inverseFor(e)}},{key:"alreadyAssociatedWith",value:function(t,n){var i=this[n.name];if(i&&t)return i instanceof e?i.isSaved()&&t.isSaved()?i.toString()===t.toString():i===t:i.includes(t)}},{key:"associate",value:function(e,t){if(!this.alreadyAssociatedWith(e,t)){var n=t.name;t instanceof mt?this[n].includes(e)||this[n].add(e):this[n]=e}}},{key:"disassociate",value:function(e,t){var n=t.getForeignKey();if(t instanceof mt){var i;if(t.isPolymorphic){var r=this[n].find((function(t){var n=t.type,i=t.id;return n===e.modelName&&i===e.id}));i=r&&this[n].indexOf(r)}else i=this[n].map((function(e){return e.toString()})).indexOf(e.id.toString());i>-1&&this.attrs[n].splice(i,1)}else this.attrs[n]=null}},{key:"isSaving",get:function(){return this._schema.isSaving[this.toString()]}},{key:"_setupAttr",value:function(e,t){var n=this.associationKeys.has(e)||this.associationIdKeys.has(e);n||(this.attrs[e]=t,this._definePlainAttribute(e))}},{key:"_definePlainAttribute",value:function(e){var t=Object.getOwnPropertyDescriptor(this,e);t&&t.get||(Object.prototype.hasOwnProperty.call(this.attrs,e)||(this.attrs[e]=null),Object.defineProperty(this,e,{get:function(){return this.attrs[e]},set:function(t){this.attrs[e]=t}}))}},{key:"_setupRelationship",value:function(e,t){var n=this.associationIdKeys.has(e)||this.fks.includes(e),i=this.associationKeys.has(e);n&&(void 0!==t&&null!==t&&this._validateForeignKeyExistsInDatabase(e,t),this.attrs[e]=t),i&&(this[e]=t)}},{key:"_validateAttr",value:function(t,n){if(this.associationKeys.has(t)){var i=this.associationFor(t),r=null===n;if(i instanceof mt){var o=n instanceof dt||n instanceof ft,s=Array.isArray(n)&&n.every((function(t){return t instanceof e}));rt(o||s||r,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(t," key, but that key is a HasMany relationship. You must pass in a Collection, PolymorphicCollection, array of Models, or null."))}else i instanceof lt&&rt(n instanceof e||r,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(t," key, but that key is a BelongsTo relationship. You must pass in a Model or null."))}if(this.associationIdKeys.has(t)&&t.endsWith("Ids")){var a=Array.isArray(n),l=null===n;rt(a||l,"You're trying to create a ".concat(this.modelName,' model and you passed in "').concat(n,'" under the ').concat(t," key, but that key is a foreign key for a HasMany relationship. You must pass in an array of ids or null."))}var c=n instanceof e||n instanceof dt||n instanceof ft,u=Array.isArray(n)&&n.length&&n.every((function(t){return t instanceof e}));if(c||u){var h=n;rt(this.associationKeys.has(t),"You're trying to create a ".concat(this.modelName," model and you passed in a ").concat(h.toString()," under the ").concat(t," key, but you haven't defined that key as an association on your model."))}}},{key:"_validateForeignKeyExistsInDatabase",value:function(e,t){var n=this;if(Array.isArray(t)){var i,r=this.hasManyAssociationFks[e];r.isPolymorphic?(i=t.map((function(e){var t=e.type,i=e.id;return n._schema.db[n._schema.toInternalCollectionName(t)].find(i)})),i=$()(i)):i=this._schema.db[this._schema.toInternalCollectionName(r.modelName)].find(t);var o=r.isPolymorphic?t.map((function(e){return"".concat(e.type,":").concat(e.id)})).join(","):t;rt(i.length===t.length,"You're instantiating a ".concat(this.modelName," that has a ").concat(e," of ").concat(o,", but some of those records don't exist in the database."))}else{var s,a=this.belongsToAssociationFks[e];s=a.isPolymorphic?this._schema.db[this._schema.toInternalCollectionName(t.type)].find(t.id):this._schema.db[this._schema.toInternalCollectionName(a.modelName)].find(t);var l=a.isPolymorphic?"".concat(t.type,":").concat(t.id):t;rt(s,"You're instantiating a ".concat(this.modelName," that has a ").concat(e," of ").concat(l,", but that record doesn't exist in the database."))}}},{key:"_saveAssociations",value:function(){this._saveBelongsToAssociations(),this._saveHasManyAssociations()}},{key:"_saveBelongsToAssociations",value:function(){var e=this;Q()(this.belongsToAssociations).forEach((function(t){e._disassociateFromOldInverses(t),e._saveNewAssociates(t),e._associateWithNewInverses(t)}))}},{key:"_saveHasManyAssociations",value:function(){var e=this;Q()(this.hasManyAssociations).forEach((function(t){e._disassociateFromOldInverses(t),e._saveNewAssociates(t),e._associateWithNewInverses(t)}))}},{key:"_disassociateFromOldInverses",value:function(e){e instanceof mt?this._disassociateFromHasManyInverses(e):e instanceof lt&&this._disassociateFromBelongsToInverse(e)}},{key:"_disassociateFromHasManyInverses",value:function(e){var t,n=this,i=e.getForeignKey(),r=this._tempAssociations&&this._tempAssociations[e.name],o=this.attrs[i];r&&o&&(t=e.isPolymorphic?o.map((function(e){var t=e.type,i=e.id;return n._schema[n._schema.toCollectionName(t)].find(i)})):this._schema[this._schema.toCollectionName(e.modelName)].find(o||[]).models,t.filter((function(t){return!t.isSaving&&!r.includes(t)&&t.hasInverseFor(e)})).forEach((function(t){var i=t.inverseFor(e);t.disassociate(n,i),t.save()})))}},{key:"_disassociateFromBelongsToInverse",value:function(e){var t,n=e.getForeignKey(),i=this._tempAssociations&&this._tempAssociations[e.name],r=this.attrs[n];if(void 0!==i&&r&&(t=e.isPolymorphic?this._schema[this._schema.toCollectionName(r.type)].find(r.id):this._schema[this._schema.toCollectionName(e.modelName)].find(r),t.hasInverseFor(e))){var o=t.inverseFor(e);t.disassociate(this,o),t._updateInDb(t.attrs)}}},{key:"_disassociateFromDependents",value:function(){var e=this;this._schema.dependentAssociationsFor(this.modelName).forEach((function(t){t.disassociateAllDependentsFromTarget(e)}))}},{key:"_saveNewAssociates",value:function(e){var t=e.getForeignKey(),n=this._tempAssociations&&this._tempAssociations[e.name];if(void 0!==n){if(this.__isSavingNewChildren=!0,delete this._tempAssociations[e.name],n instanceof dt)n.models.filter((function(e){return!e.isSaving})).forEach((function(e){e.save()})),this._updateInDb(_e({},t,n.models.map((function(e){return e.id}))));else if(n instanceof ft)n.models.filter((function(e){return!e.isSaving})).forEach((function(e){e.save()})),this._updateInDb(_e({},t,n.models.map((function(e){return{type:e.modelName,id:e.id}}))));else if(null===n)this._updateInDb(_e({},t,null));else if(this.equals(n))this._updateInDb(_e({},t,this.id));else if(!n.isSaving){var i;n.save(),this._syncTempAssociations(n),i=e.isPolymorphic?{id:n.id,type:n.modelName}:n.id,this._updateInDb(_e({},t,i))}this.__isSavingNewChildren=!1}}},{key:"_associateWithNewInverses",value:function(t){var n=this;if(!this.__isSavingNewChildren){var i=this[t.name];i instanceof e?this._associateModelWithInverse(i,t):(i instanceof dt||i instanceof ft)&&i.models.forEach((function(e){n._associateModelWithInverse(e,t)})),delete this._tempAssociations[t.name]}}},{key:"_associateModelWithInverse",value:function(e,t){var n=this;if(e.hasInverseFor(t)){var i=e.inverseFor(t),r=i.getForeignKey(),o=this.id;if(i instanceof lt){var s;s=i.isPolymorphic?{type:this.modelName,id:o}:o,this._schema.db[this._schema.toInternalCollectionName(e.modelName)].update(e.id,_e({},r,s))}else{var a,l,c=this._schema.db[this._schema.toInternalCollectionName(e.modelName)],u=c.find(e.id)[i.getForeignKey()]||[],h=Object.assign([],u);i.isPolymorphic?(a={type:this.modelName,id:o},l=h.some((function(e){return e.type==n.modelName&&e.id==o}))):(a=o,l=h.includes(o)),l||h.push(a),c.update(e.id,_e({},r,h))}}}},{key:"_updateInDb",value:function(e){this.attrs=this._schema.db[this._schema.toInternalCollectionName(this.modelName)].update(this.attrs.id,e)}},{key:"_syncTempAssociations",value:function(e){var t=this;Object.keys(this._tempAssociations).forEach((function(n){t._tempAssociations[n]&&t._tempAssociations[n].toString()===e.toString()&&(t._tempAssociations[n]=e)}))}},{key:"toString",value:function(){var e=this.id?"(".concat(this.id,")"):"";return"model:".concat(this.modelName).concat(e)}},{key:"equals",value:function(e){return this.toString()===e.toString()}}]),e}();kt.extend=Ot,kt.findBelongsToAssociation=function(e){return this.prototype.belongsToAssociations[e]};var Pt=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ye(this,e),this.registry=t,this.type=n,this.request=r,this.attrs=this.attrs||void 0,this.include=this.include||[],this.root=this.root||void 0,this.embed=this.embed||void 0,this._embedFn=s()(this.embed)?this.embed:function(){return!!i.embed},this.serializeIds=this.serializeIds||void 0}return be(e,[{key:"serialize",value:function(e){return this.primaryResource=e,this.buildPayload(e)}},{key:"normalize",value:function(e){return e}},{key:"buildPayload",value:function(e,t,n,i){if(!e&&Z()(t))return i;if(e){var r=this.getHashForPrimaryResource(e),o=ke(r,2),s=o[0],a=o[1],l=this.isCollection(e)?e.models:[e];return this.buildPayload(void 0,a,l,s)}var c=t.shift(),u=this.getHashForIncludedResource(c),h=ke(u,2),d=h[0],f=h[1],p=f.filter((function(e){return!n.map((function(e){return e.toString()})).includes(e.toString())})).concat(t),m=(this.isCollection(c)?c.models:[c]).concat(n),g=this.mergePayloads(i,d);return this.buildPayload(void 0,p,m,g)}},{key:"getHashForPrimaryResource",value:function(e){var t,n=this.getHashForResource(e),i=ke(n,2),r=i[0],o=i[1];if(this.root){rt(!(e instanceof ft),"The base Serializer class cannot serialize a top-level PolymorphicCollection when root is true, since PolymorphicCollections have no type.");var s=this.serializerFor(e.modelName),a=s.keyForResource(e);t=_e({},a,r)}else t=r;return[t,o]}},{key:"getHashForIncludedResource",value:function(e){var t,n;if(e instanceof ft)t={},n=e.models;else{var i=this.serializerFor(e.modelName),r=i.getHashForResource(e),o=ke(r,2),s=o[0],a=o[1],l=i.keyForRelationship(e.modelName);t=Array.isArray(s)?_e({},l,s):_e({},l,[s]),n=a}return[t,n]}},{key:"getHashForResource",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this;o&&e.modelName&&(s=this.serializerFor(e.modelName)),t=this.isModel(e)?s._hashForModel(e,i,r):e.models.map((function(e){var t=s;return t||(t=n.serializerFor(e.modelName)),t._hashForModel(e,i,r)}));var a=ie()($()(d()(s.getKeysForIncluded().map((function(t){return n.isCollection(e)?e.models.map((function(e){return e[t]})):e[t]})))),(function(e){return e.toString()}));return[t,a]}},{key:"mergePayloads",value:function(e,t){var n,i=Object.keys(t),r=ke(i,1),o=r[0];return e[o]?(n=e,n[o]=e[o].concat(t[o])):n=Object.assign(e,t),n}},{key:"keyForResource",value:function(e){var t=e.modelName;return this.isModel(e)?this.keyForModel(t):this.keyForCollection(t)}},{key:"keyForModel",value:function(e){return Je(e)}},{key:"keyForCollection",value:function(e){return this._container.inflector.pluralize(this.keyForModel(e))}},{key:"_hashForModel",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._attrsForModel(e);if(t&&e.fks.forEach((function(e){delete r[e]})),this.embed){var o=Object.assign({},i);o[e.modelName]=o[e.modelName]||{},o[e.modelName][e.id]=!0,this.getKeysForEmbedded().forEach((function(t){var i=e[t];if(i&&!te()(o,"".concat(i.modelName,".").concat(i.id))){var s=n.getHashForResource(i,!0,o,!0),a=ke(s,1),l=a[0],c=n.keyForEmbeddedRelationship(t);if(r[c]=l,n.isModel(i)){var u="".concat(Je(t),"Id");delete r[u]}}}))}return this._maybeAddAssociationIds(e,r)}},{key:"_attrsForModel",value:function(e){var t={};return t=this.attrs?this.attrs.reduce((function(t,n){return t[n]=e[n],t}),{}):Object.assign(t,e.attrs),e.fks.forEach((function(e){return delete t[e]})),this._formatAttributeKeys(t)}},{key:"_maybeAddAssociationIds",value:function(e,t){var n=this,i=Object.assign({},t);return"always"===this.serializeIds?Pe(e.associationKeys).filter((function(e){return!n._embedFn(e)})).forEach((function(t){var r=e[t],o=e.associationFor(t);if(n.isCollection(r)){var s=n.keyForRelationshipIds(t);i[s]=e["".concat(n._container.inflector.singularize(t),"Ids")]}else if(n.isModel(r)&&o.isPolymorphic){var a=n.keyForPolymorphicForeignKeyType(t),l=n.keyForPolymorphicForeignKeyId(t);i[a]=e["".concat(t,"Id")].type,i[l]=e["".concat(t,"Id")].id}else if(r){var c=n.keyForForeignKey(t);i[c]=e["".concat(t,"Id")]}})):"included"===this.serializeIds&&this.getKeysForIncluded().forEach((function(t){var r=e[t],o=e.associationFor(t);if(n.isCollection(r)){var s=n.keyForRelationshipIds(t);i[s]=e["".concat(n._container.inflector.singularize(t),"Ids")]}else if(n.isModel(r)&&o.isPolymorphic){var a=n.keyForPolymorphicForeignKeyType(t),l=n.keyForPolymorphicForeignKeyId(t);i[a]=e["".concat(t,"Id")].type,i[l]=e["".concat(t,"Id")].id}else if(n.isModel(r)){var c=n.keyForForeignKey(t);i[c]=e["".concat(t,"Id")]}})),i}},{key:"keyForAttribute",value:function(e){return e}},{key:"keyForRelationship",value:function(e){return Je(this._container.inflector.pluralize(e))}},{key:"keyForEmbeddedRelationship",value:function(e){return Je(e)}},{key:"keyForRelationshipIds",value:function(e){return"".concat(this._container.inflector.singularize(Je(e)),"Ids")}},{key:"keyForForeignKey",value:function(e){return"".concat(Je(e),"Id")}},{key:"keyForPolymorphicForeignKeyId",value:function(e){return"".concat(Je(e),"Id")}},{key:"keyForPolymorphicForeignKeyType",value:function(e){return"".concat(Je(e),"Type")}},{key:"isModel",value:function(e){return e instanceof kt}},{key:"isCollection",value:function(e){return e instanceof dt||e instanceof ft}},{key:"isModelOrCollection",value:function(e){return this.isModel(e)||this.isCollection(e)}},{key:"serializerFor",value:function(e){return this.registry.serializerFor(e)}},{key:"getAssociationKeys",value:function(){return s()(this.include)?this.include(this.request,this.primaryResource):this.include}},{key:"getKeysForEmbedded",value:function(){var e=this;return this.getAssociationKeys().filter((function(t){return e._embedFn(t)}))}},{key:"getKeysForIncluded",value:function(){var e=this;return this.getAssociationKeys().filter((function(t){return!e._embedFn(t)}))}},{key:"schema",get:function(){return this.registry.schema}},{key:"_formatAttributeKeys",value:function(e){var t={};for(var n in e){var i=this.keyForAttribute(n);t[i]=e[n]}return t}},{key:"getCoalescedIds",value:function(){}}]),e}();Pt.prototype.include=[],Pt.prototype.root=!0,Pt.prototype.embed=!1,Pt.prototype.serializeIds="included",Pt.extend=Ot;var It=function(e){we(n,e);var t=Oe(n);function n(){var e;return ye(this,n),e=t.apply(this,arguments),e.alwaysIncludeLinkageData=e.alwaysIncludeLinkageData||void 0,e}return be(n,[{key:"keyForModel",value:function(e){return Ze(e)}},{key:"keyForCollection",value:function(e){return Ze(e)}},{key:"keyForAttribute",value:function(e){return Ze(e)}},{key:"keyForRelationship",value:function(e){return Ze(e)}},{key:"links",value:function(){}},{key:"getHashForPrimaryResource",value:function(e){this._createRequestedIncludesGraph(e);var t=this.getHashForResource(e),n={data:t},i=this.getAddToIncludesForResource(e);return[n,i]}},{key:"getHashForIncludedResource",value:function(e){var t=this.serializerFor(e.modelName),n=t.getHashForResource(e),i={included:this.isModel(e)?[n]:n},r=[];return this.hasQueryParamIncludes()||(r=this.getAddToIncludesForResource(e)),[i,r]}},{key:"getHashForResource",value:function(e){var t,n=this;return t=this.isModel(e)?this.getResourceObjectForModel(e):e.models.map((function(e){return n.getResourceObjectForModel(e)})),t}},{key:"getAddToIncludesForResource",value:function(e){var t;if(this.hasQueryParamIncludes())t=this.getQueryParamIncludes();else{var n=this.serializerFor(e.modelName);t=n.getKeysForIncluded()}return this.getAddToIncludesForResourceAndPaths(e,t)}},{key:"getAddToIncludesForResourceAndPaths",value:function(e,t){var n=this,i=[];return t.forEach((function(t){var r=t.split("."),o=n.getIncludesForResourceAndPath.apply(n,[e].concat(Pe(r)));i.push(o)})),ie()($()(d()(i)),(function(e){return e.toString()}))}},{key:"getIncludesForResourceAndPath",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=Je(i.shift()),s=[],a=[];if(this.isModel(e)){var l=e[o];this.isModel(l)?a=[l]:this.isCollection(l)&&(a=l.models)}else e.models.forEach((function(e){var n=e[o];t.isModel(n)?a.push(n):t.isCollection(n)&&(a=a.concat(n.models))}));return s=s.concat(a),i.length&&a.forEach((function(e){s=s.concat(t.getIncludesForResourceAndPath.apply(t,[e].concat(i)))})),s}},{key:"getResourceObjectForModel",value:function(e){var t=this._attrsForModel(e,!0);delete t.id;var n={type:this.typeKeyForModel(e),id:e.id,attributes:t};return this._maybeAddRelationshipsToResourceObjectForModel(n,e)}},{key:"_maybeAddRelationshipsToResourceObjectForModel",value:function(e,t){var n=this,i={};return t.associationKeys.forEach((function(e){var r=t[e],o=n.keyForRelationship(e),s={};if(n.hasLinksForRelationship(t,e)){var a=n.serializerFor(t.modelName),l=a.links(t);s.links=l[e]}if(n.alwaysIncludeLinkageData||n.shouldIncludeLinkageData(e,t)||n._relationshipIsIncludedForModel(e,t)){var c=null;n.isModel(r)?c={type:n.typeKeyForModel(r),id:r.id}:n.isCollection(r)&&(c=r.models.map((function(e){return{type:n.typeKeyForModel(e),id:e.id}}))),s.data=c}Z()(s)||(i[o]=s)})),Z()(i)||(e.relationships=i),e}},{key:"hasLinksForRelationship",value:function(e,t){var n=this.serializerFor(e.modelName),i=n.links&&n.links(e);return i&&null!=i[t]}},{key:"_relationshipIsIncludedForModel",value:function(e,t){if(this.hasQueryParamIncludes()){var n,i=this.request._includesGraph,r=this._graphKeyForModel(t);return i.data[r]?n=i.data[r]:i.included[this._container.inflector.pluralize(t.modelName)]&&(n=i.included[this._container.inflector.pluralize(t.modelName)][r]),n&&n.relationships&&Object.prototype.hasOwnProperty.call(n.relationships,Ze(e))}var o=this.getKeysForIncluded();return o.includes(e)}},{key:"_createRequestedIncludesGraph",value:function(e){var t=this,n={data:{}};if(this.isModel(e)){var i=this._graphKeyForModel(e);n.data[i]={},this._addPrimaryModelToRequestedIncludesGraph(n,e)}else this.isCollection(e)&&e.models.forEach((function(e){var i=t._graphKeyForModel(e);n.data[i]={},t._addPrimaryModelToRequestedIncludesGraph(n,e)}));this.request._includesGraph=n}},{key:"_addPrimaryModelToRequestedIncludesGraph",value:function(e,t){var n=this;if(this.hasQueryParamIncludes()){var i=this._graphKeyForModel(t);this.getQueryParamIncludes().filter((function(e){return!!e.trim()})).forEach((function(r){e.data[i].relationships=e.data[i].relationships||{};var o=r.split(".").map(Ze),s=o[0],a=s,l=Je(s),c=t.associationKeys.has(l);rt(c,'You tried to include "'.concat(s,'" with ').concat(t,' but no association named "').concat(l,'" is defined on the model.'));var u,h=t[l];u=n.isModel(h)?n._graphKeyForModel(h):n.isCollection(h)?h.models.map(n._graphKeyForModel):null,e.data[i].relationships[a]=u,h&&n._addResourceToRequestedIncludesGraph(e,h,o.slice(1))}))}}},{key:"_addResourceToRequestedIncludesGraph",value:function(e,t,n){var i=this;e.included=e.included||{};var r=this.isCollection(t)?t.models:[t];r.forEach((function(t){var r=i._container.inflector.pluralize(t.modelName);e.included[r]=e.included[r]||{},i._addModelToRequestedIncludesGraph(e,t,n)}))}},{key:"_addModelToRequestedIncludesGraph",value:function(e,t,n){var i=this._container.inflector.pluralize(t.modelName),r=this._graphKeyForModel(t);e.included[i][r]=e.included[i][r]||{},n.length&&this._addResourceRelationshipsToRequestedIncludesGraph(e,i,r,t,n)}},{key:"_addResourceRelationshipsToRequestedIncludesGraph",value:function(e,t,n,i,r){e.included[t][n].relationships=e.included[t][n].relationships||{};var o,s=r[0],a=i[Je(s)];this.isModel(a)?o=this._graphKeyForModel(a):this.isCollection(a)&&(o=a.models.map(this._graphKeyForModel)),e.included[t][n].relationships[s]=o,a&&this._addResourceToRequestedIncludesGraph(e,a,r.slice(1))}},{key:"_graphKeyForModel",value:function(e){return"".concat(e.modelName,":").concat(e.id)}},{key:"getQueryParamIncludes",value:function(){var e=te()(this,"request.queryParams.include");return e&&!Array.isArray(e)&&(e=e.split(",")),e}},{key:"hasQueryParamIncludes",value:function(){return!!this.getQueryParamIncludes()}},{key:"typeKeyForModel",value:function(e){return Ze(this._container.inflector.pluralize(e.modelName))}},{key:"getCoalescedIds",value:function(e){var t=e.queryParams&&e.queryParams["filter[id]"];return"string"===typeof t?t.split(","):t}},{key:"shouldIncludeLinkageData",value:function(e,t){return!1}}]),n}(Pt);It.prototype.alwaysIncludeLinkageData=!1;var Rt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ye(this,e),this.schema=t,this._serializerMap=n}return be(e,[{key:"normalize",value:function(e,t){return this.serializerFor(t).normalize(e)}},{key:"serialize",value:function(e,t){var n=this;if(this.request=t,this._isModelOrCollection(e)){var i=this.serializerFor(e.modelName);return i.serialize(e,t)}return Array.isArray(e)&&e.some(this._isCollection)?e.reduce((function(e,i){var r=n.serializerFor(i.modelName);return r.embed?e[n._container.inflector.pluralize(i.modelName)]=r.serialize(i,t):e=Object.assign(e,r.serialize(i,t)),e}),{}):e}},{key:"serializerFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.explicit,i=void 0!==n&&n,r=e&&this._serializerMap&&this._serializerMap[Je(e)];return i?rt(!!r,"You passed in ".concat(e," as an explicit serializer type but that serializer doesn't exist.")):(r=r||this._serializerMap.application||Pt,rt(!r||r.prototype.embed||r.prototype.root||new r instanceof It,"You cannot have a serializer that sideloads (embed: false) and disables the root (root: false).")),new r(this,e,this.request)}},{key:"_isModel",value:function(e){return e instanceof kt}},{key:"_isCollection",value:function(e){return e instanceof dt||e instanceof ft}},{key:"_isModelOrCollection",value:function(e){return this._isModel(e)||this._isCollection(e)}},{key:"registerSerializers",value:function(e){var t=this._serializerMap||{};this._serializerMap=Object.assign(t,e)}},{key:"getCoalescedIds",value:function(e,t){return this.serializerFor(t).getCoalescedIds(e)}}]),e}(),Dt={},Lt={},Nt={},Bt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ye(this,e),rt(t,"A schema requires a db"),this.db=t,this._registry={},this._dependentAssociations={polymorphic:[]},this.registerModels(n),this.isSaving={}}return be(e,[{key:"registerModels",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};oe()(t,(function(n,i){e.registerModel(i,t[i])}))}},{key:"registerModel",value:function(e,t){var n=this,i=Je(e),r=Ze(i);t=t.extend(),this._registry[i]=this._registry[i]||{class:null,foreignKeys:[]},this._registry[i]["class"]=t,t.prototype._schema=this,t.prototype.modelName=r,t.prototype.hasManyAssociations={},t.prototype.hasManyAssociationFks={},t.prototype.belongsToAssociations={},t.prototype.belongsToAssociationFks={},t.prototype.associationKeys=new Set,t.prototype.associationIdKeys=new Set,t.prototype.dependentAssociations=[];var o={};for(var s in t.prototype)if(t.prototype[s]instanceof st){var a=t.prototype[s];a.name=s,a.modelName=a.modelName||this.toModelName(s),a.ownerModelName=r,a.setSchema(this);var l=a.getForeignKeyArray(),c=ke(l,2),u=c[0],h=c[1];o[u]=o[u]||[],rt(!o[u].includes(h),"Your '".concat(e,"' model definition has multiple possible inverse relationships of type '").concat(u,"'. Please use explicit inverses.")),o[u].push(h),this._addForeignKeyToRegistry(u,h),a.addMethodsToModelClass(t,s)}var d=this.toCollectionName(r);return this.db[d]||this.db.createCollection(d),this[d]={camelizedModelName:i,new:function(e){return n["new"](i,e)},create:function(e){return n.create(i,e)},all:function(e){return n.all(i,e)},find:function(e){return n.find(i,e)},findBy:function(e){return n.findBy(i,e)},findOrCreateBy:function(e){return n.findOrCreateBy(i,e)},where:function(e){return n.where(i,e)},none:function(e){return n.none(i,e)},first:function(e){return n.first(i,e)}},this}},{key:"modelFor",value:function(e){return this._registry[e]}},{key:"new",value:function(e,t){return this._instantiateModel(Ze(e),t)}},{key:"create",value:function(e,t){return this["new"](e,t).save()}},{key:"all",value:function(e){var t=this.collectionForType(e);return this._hydrate(t,Ze(e))}},{key:"none",value:function(e){return this._hydrate([],Ze(e))}},{key:"find",value:function(e,t){var n=this.collectionForType(e),i=n.find(t);return Array.isArray(t)&&rt(i.length===t.length,"Couldn't find all ".concat(this._container.inflector.pluralize(e)," with ids: (").concat(t.join(","),") (found ").concat(i.length," results, but was looking for ").concat(t.length,")")),this._hydrate(i,Ze(e))}},{key:"findBy",value:function(e,t){var n=this.collectionForType(e),i=n.findBy(t);return this._hydrate(i,Ze(e))}},{key:"findOrCreateBy",value:function(e,t){var n,i=this.collectionForType(e),r=i.findBy(t);return n=r?this._hydrate(r,Ze(e)):this.create(e,t),n}},{key:"where",value:function(e,t){var n=this.collectionForType(e),i=n.where(t);return this._hydrate(i,Ze(e))}},{key:"first",value:function(e){var t=this.collectionForType(e),n=t[0];return this._hydrate(n,Ze(e))}},{key:"modelClassFor",value:function(e){var t=this._registry[Je(e)];return rt(t,"Model not registered: ".concat(e)),t["class"].prototype}},{key:"addDependentAssociation",value:function(e,t){e.isPolymorphic?this._dependentAssociations.polymorphic.push(e):(this._dependentAssociations[t]=this._dependentAssociations[t]||[],this._dependentAssociations[t].push(e))}},{key:"dependentAssociationsFor",value:function(e){var t=this._dependentAssociations[e]||[],n=this._dependentAssociations.polymorphic||[];return t.concat(n)}},{key:"associationsFor",value:function(e){var t=this.modelClassFor(e);return Object.assign({},t.belongsToAssociations,t.hasManyAssociations)}},{key:"hasModelForModelName",value:function(e){return this.modelFor(Je(e))}},{key:"collectionForType",value:function(e){var t=this.toCollectionName(e);return rt(this.db[t],"You're trying to find model(s) of type ".concat(e," but this collection doesn't exist in the database.")),this.db[t]}},{key:"toCollectionName",value:function(e){if("string"!==typeof Dt[e]){var t=Ze(e),n=Je(this._container.inflector.pluralize(t));Dt[e]=n}return Dt[e]}},{key:"toInternalCollectionName",value:function(e){if("string"!==typeof Lt[e]){var t="_".concat(this.toCollectionName(e));Lt[e]=t}return Lt[e]}},{key:"toModelName",value:function(e){if("string"!==typeof Nt[e]){var t=Ze(e),n=this._container.inflector.singularize(t);Nt[e]=n}return Nt[e]}},{key:"_addForeignKeyToRegistry",value:function(e,t){this._registry[e]=this._registry[e]||{class:null,foreignKeys:[]};var n=this._registry[e].foreignKeys;n.includes(t)||n.push(t)}},{key:"_instantiateModel",value:function(e,t){var n=this._modelFor(e),i=this._foreignKeysFor(e);return new n(this,e,t,i)}},{key:"_modelFor",value:function(e){return this._registry[Je(e)]["class"]}},{key:"_foreignKeysFor",value:function(e){return this._registry[Je(e)].foreignKeys}},{key:"_hydrate",value:function(e,t){if(Array.isArray(e)){var n=e.map((function(e){return this._instantiateModel(t,e)}),this);return new dt(t,n)}return e?this._instantiateModel(t,e):null}}]),e}(),Ft={Db:ht,Association:st,RouteHandler:Ct,BaseRouteHandler:At,Serializer:Pt,SerializerRegistry:Rt,Schema:Bt},jt={singularize:C,pluralize:M},Ut=function(){function e(){ye(this,e),this.inflector=jt}return be(e,[{key:"register",value:function(e,t){this[e]=t}},{key:"create",value:function(e){var t=Ft[e];t.prototype._container=this;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Ee(t,i)}}]),e}(),zt=new Ut;ht.prototype._container=zt,st.prototype._container=zt,At.prototype._container=zt,Ct.prototype._container=zt,Pt.prototype._container=zt,Rt.prototype._container=zt,Bt.prototype._container=zt;var qt=["http://localhost:0/chromecheckurl","http://localhost:30820/socket.io",function(e){return/.+\.hot-update.json$/.test(e.url)}],Vt={coalesce:!1,timing:void 0};function Ht(e){if(!e||"object"!==Ae(e))return!1;for(var t=Object.keys(Vt),n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(t.indexOf(r)>-1)return!0}return!1}function Gt(e){var t=e.splice(-1),n=ke(t,1),i=n[0];Ht(i)?i=ce()({},Vt,i):(e.push(i),i=Vt);var r=2-e.length;while(r-- >0)e.push(void 0);return e.push(i),e}var Wt=function(){function e(){ye(this,e),_e(this,"urlPrefix",void 0),_e(this,"namespace",void 0),_e(this,"timing",void 0),_e(this,"passthroughChecks",void 0),_e(this,"pretender",void 0),_e(this,"mirageServer",void 0),_e(this,"trackRequests",void 0)}return be(e,[{key:"create",value:function(e,t){var n=this;this.mirageServer=e,this.pretender=this._create(e,t),e.pretender=this.pretender,this.passthroughChecks=this.passthroughChecks||[],this.config(t),[["get"],["post"],["put"],["delete","del"],["patch"],["head"],["options"]].forEach((function(t){var i=ke(t,2),r=i[0],o=i[1];n[r]=function(t){for(var i,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];var l=Gt(s),c=ke(l,3),u=c[0],h=c[1],d=c[2],f=e.registerRouteHandler(r,t,u,h,d),p=n._getFullPath(t),m=void 0!==d.timing?d.timing:function(){return n.timing};return null===(i=n.pretender)||void 0===i?void 0:i[r](p,f,m)},e[r]=n[r],o&&(n[o]=n[r],e[o]=n[r])}))}},{key:"config",value:function(e){var t="undefined"===typeof e.useDefaultPassthroughs||e.useDefaultPassthroughs;t&&this._configureDefaultPassthroughs();var n=void 0!==e.trackRequests&&e.trackRequests!==this.trackRequests;rt(!n,"You cannot modify Pretender's request tracking once the server is created"),this.timing=this.timing||e.timing||400,this.urlPrefix=this.urlPrefix||e.urlPrefix||"",this.namespace=this.namespace||e.namespace||""}},{key:"_configureDefaultPassthroughs",value:function(){var e=this;qt.forEach((function(t){e.passthrough(t)}))}},{key:"_create",value:function(e,t){if("undefined"!==typeof window)return this.trackRequests=t.trackRequests||!1,new pe["a"]((function(){this.passthroughRequest=function(t,n,i){e.shouldLog()&&console.log("Mirage: Passthrough request for ".concat(t.toUpperCase()," ").concat(i.url))},this.handledRequest=function(t,n,i){if(e.shouldLog()){console.groupCollapsed("Mirage: [".concat(i.status,"] ").concat(t.toUpperCase()," ").concat(i.url));var r,o,s=i.requestBody,a=i.responseText;try{r=JSON.parse(s)}catch(l){r=s}try{o=JSON.parse(a)}catch(l){o=a}console.groupCollapsed("Response"),console.log(o),console.groupEnd(),console.groupCollapsed("Request (data)"),console.log(r),console.groupEnd(),console.groupCollapsed("Request (raw)"),console.log(i),console.groupEnd(),console.groupEnd()}};var t=this.checkPassthrough;this.checkPassthrough=function(n){var i=e.passthroughChecks.some((function(e){return e(n)}));if(i){var r=n.url.includes("?")?n.url.substr(0,n.url.indexOf("?")):n.url;this[n.method.toLowerCase()](r,this.passthrough)}return t.apply(this,arguments)},this.unhandledRequest=function(e,t){t=decodeURI(t);var n="";n=""===this.namespace?"There is no existing namespace defined. Please define one":"The existing namespace is ".concat(this.namespace),rt("Your app tried to ".concat(e," '").concat(t,"', but there was no route defined to handle this request. Define a route for this endpoint in your routes() config. Did you forget to define a namespace? ").concat(n))}}),{trackRequests:this.trackRequests})}},{key:"passthrough",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if("undefined"!==typeof window){var r=["get","post","put","delete","patch","options","head"],o=n[n.length-1];0===n.length?n=["/**","/"]:n.length>1&&Array.isArray(o)&&(r=n.pop()),n.forEach((function(t){"function"===typeof t?e.passthroughChecks.push(t):r.forEach((function(n){var i=e._getFullPath(t);e.pretender[n](i,e.pretender.passthrough)}))}))}}},{key:"_getFullPath",value:function(e){e="/"===e[0]?e.slice(1):e;var t="",n=this.urlPrefix?this.urlPrefix.trim():"",i="";if(this.urlPrefix&&this.namespace&&("/"===this.namespace[0]&&"/"===this.namespace[this.namespace.length-1]&&(i=this.namespace.substring(0,this.namespace.length-1).substring(1)),"/"===this.namespace[0]&&"/"!==this.namespace[this.namespace.length-1]&&(i=this.namespace.substring(1)),"/"!==this.namespace[0]&&"/"===this.namespace[this.namespace.length-1]&&(i=this.namespace.substring(0,this.namespace.length-1)),"/"!==this.namespace[0]&&"/"!==this.namespace[this.namespace.length-1]&&(i=this.namespace)),this.namespace&&!this.urlPrefix){if("/"===this.namespace[0]&&"/"===this.namespace[this.namespace.length-1]&&(i=this.namespace.substring(0,this.namespace.length-1)),"/"===this.namespace[0]&&"/"!==this.namespace[this.namespace.length-1]&&(i=this.namespace),"/"!==this.namespace[0]&&"/"===this.namespace[this.namespace.length-1]){var r=this.namespace.substring(0,this.namespace.length-1);i="/".concat(r)}"/"!==this.namespace[0]&&"/"!==this.namespace[this.namespace.length-1]&&(i="/".concat(this.namespace))}return this.namespace||(i=""),/^https?:\/\//.test(e)?t+=e:(n.length&&(t+="/"===n[n.length-1]?n:"".concat(n,"/")),t+=i,"/"!==t[t.length-1]&&(t+="/"),t+=e,/^https?:\/\//.test(t)||(t="/".concat(t),t=t.replace(/\/+/g,"/"))),t}},{key:"start",value:function(){}},{key:"shutdown",value:function(){this.pretender.shutdown()}}]),e}(),$t={},Xt={singularize:C,pluralize:M};function Yt(e){return new Kt(e)}var Kt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ye(this,e),this._container=new Ut,this.config(t),this.db=this.db||void 0,this.schema=this.schema||void 0}return be(e,[{key:"namespace",get:function(){return this.interceptor.namespace},set:function(e){this.interceptor.namespace=e}},{key:"urlPrefix",get:function(){return this.interceptor.urlPrefix},set:function(e){this.interceptor.urlPrefix=e}},{key:"timing",get:function(){return this.interceptor.timing},set:function(e){this.interceptor.timing=e}},{key:"passthroughChecks",get:function(){return this.interceptor.passthroughChecks},set:function(e){this.interceptor.passthroughChecks=e}},{key:"config",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.interceptor||(n.interceptor=new Wt),this.interceptor?this.interceptor.config(n):(this.interceptor=n.interceptor,this.interceptor.create(this,n));var i=n.environment&&this.environment&&this.environment!==n.environment;rt(!i,"You cannot modify Mirage's environment once the server is created"),this.environment=n.environment||this.environment||"development",n.routes&&(rt(!n.baseConfig,"The routes option is an alias for the baseConfig option. You can't pass both options into your server definition."),n.baseConfig=n.routes),n.seeds&&(rt(!n.scenarios,"The seeds option is an alias for the scenarios.default option. You can't pass both options into your server definition."),n.scenarios={default:n.seeds}),this._config=n,this.inflector=n.inflector||Xt,this._container.register("inflector",this.inflector),this.logging=void 0!==n.logging?this.logging:void 0,this.testConfig=this.testConfig||void 0,this.trackRequests=n.trackRequests,this.db?this.db.registerIdentityManagers(n.identityManagers):this.db=this._container.create("Db",void 0,n.identityManagers),this.schema?(this.schema.registerModels(n.models),this.serializerOrRegistry.registerSerializers(n.serializers||{})):(this.schema=this._container.create("Schema",this.db,n.models),this.serializerOrRegistry=this._container.create("SerializerRegistry",this.schema,n.serializers));var r=this._hasModulesOfType(n,"factories"),o=n.scenarios&&Object.prototype.hasOwnProperty.call(n.scenarios,"default");n.baseConfig&&this.loadConfig(n.baseConfig),this.isTest()&&(n.testConfig&&this.loadConfig(n.testConfig),"undefined"!==typeof window&&(window.server=this)),this.isTest()&&r?this.loadFactories(n.factories):!this.isTest()&&o?(this.loadFactories(n.factories),n.scenarios["default"](this)):this.loadFixtures(),null===(e=(t=this.interceptor).start)||void 0===e||e.call(t)}},{key:"isTest",value:function(){return"test"===this.environment}},{key:"shouldLog",value:function(){return"undefined"!==typeof this.logging?this.logging:!this.isTest()}},{key:"loadConfig",value:function(e){e.call(this),this.timing=this.isTest()?0:this.timing||0}},{key:"passthrough",value:function(){for(var e,t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];null===(e=(t=this.interceptor).passthrough)||void 0===e||e.call.apply(e,[t].concat(i))}},{key:"loadFixtures",value:function(){for(var e=this._config.fixtures,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length){var r=n.map(Je),o=r.filter((function(t){return!e[t]}));if(o.length)throw new Error("Fixtures not found: ".concat(o.join(", ")));e=ae.a.apply(void 0,[e].concat(Pe(r)))}this.db.loadData(e)}},{key:"loadFactories",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._factoryMap||{};this._factoryMap=ce()(n,t),Object.keys(t).forEach((function(t){var n=e.schema.toCollectionName(t);e.db.createCollection(n)}))}},{key:"factoryFor",value:function(e){var t=Je(e);if(this._factoryMap&&this._factoryMap[t])return this._factoryMap[t]}},{key:"build",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=n.filter((function(e){return e&&"string"===typeof e})),s=he()(n,(function(e){return r()(e)})),a=Je(e);this.factorySequences=this.factorySequences||{},this.factorySequences[a]=this.factorySequences[a]+1||0;var l=this.factoryFor(e);if(l){l=l.extend({});var c=l.attrs||{};this._validateTraits(o,l,e);var u=this._mergeExtensions(c,o,s);this._mapAssociationsFromAttributes(e,c,s),this._mapAssociationsFromAttributes(e,u);var h=l.extend(u),d=new h,f=this.factorySequences[a];return d.build(f)}return s}},{key:"buildList",value:function(e,t){rt(fe()(t),"second argument has to be an integer, you passed: ".concat(Ae(t)));for(var n=[],i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];for(var s=[e].concat(r),a=0;a<t;a++)n.push(this.build.apply(this,s));return n}},{key:"create",value:function(e){var t=this;rt(this._modelOrFactoryExistsForType(e),"You called server.create('".concat(e,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name."));for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var s,a=i.filter((function(e){return e&&"string"===typeof e})),l=he()(i,(function(e){return r()(e)})),c=he()(i,(function(e){return e&&Array.isArray(e)})),u=this.build.apply(this,[e].concat(Pe(a),[l]));if(this.schema&&this.schema[this.schema.toCollectionName(e)]){var h=this.schema[this.schema.toCollectionName(e)];s=h.create(u)}else{var d,f;c?d=c:(f=this.schema?this.schema.toInternalCollectionName(e):"_".concat(this.inflector.pluralize(e)),d=this.db[f]),rt(d,"You called server.create('".concat(e,"') but no model or factory was found.")),s=d.insert(u)}var p=this.factoryFor(e);return p&&p.extractAfterCreateCallbacks({traits:a}).forEach((function(e){e(s,t)})),s}},{key:"createList",value:function(e,t){rt(this._modelOrFactoryExistsForType(e),"You called server.createList('".concat(e,"') but no model or factory was found. Make sure you're passing in the singularized version of the model or factory name.")),rt(fe()(t),"second argument has to be an integer, you passed: ".concat(Ae(t)));for(var n=[],i=this.schema?this.schema.toInternalCollectionName(e):"_".concat(this.inflector.pluralize(e)),r=this.db[i],o=arguments.length,s=new Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];for(var l=[e].concat(s,[r]),c=0;c<t;c++)n.push(this.create.apply(this,l));return n}},{key:"shutdown",value:function(){"undefined"!==typeof window&&this.interceptor.shutdown(),"undefined"!==typeof window&&"test"===this.environment&&(window.server=void 0)}},{key:"resource",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.only,r=n.except,o=n.path;if(e=this.inflector.pluralize(e),o=o||"/".concat(e),i=i||[],r=r||[],i.length>0&&r.length>0)throw"cannot use both :only and :except options";var s={index:{methods:["get"],path:"".concat(o)},show:{methods:["get"],path:"".concat(o,"/:id")},create:{methods:["post"],path:"".concat(o)},update:{methods:["put","patch"],path:"".concat(o,"/:id")},delete:{methods:["del"],path:"".concat(o,"/:id")}},a=Object.keys(s),l=i.length>0&&i||r.length>0&&a.filter((function(e){return-1===r.indexOf(e)}))||a;l.forEach((function(n){var i=s[n];i.methods.forEach((function(n){return o===e?t[n](i.path):t[n](i.path,e)}))}))}},{key:"_serialize",value:function(e){return"string"===typeof e?e:JSON.stringify(e)}},{key:"registerRouteHandler",value:function(e,t,n,i,r){var o=this,s=this._container.create("RouteHandler",{schema:this.schema,verb:e,rawHandler:n,customizedCode:i,options:r,path:t,serializerOrRegistry:this.serializerOrRegistry});return function(e){return s.handle(e).then((function(e){var t=ke(e,3),n=t[0],i=t[1],r=t[2];return[n,i,o._serialize(r)]}))}}},{key:"_hasModulesOfType",value:function(e,t){var n=e[t];return!!n&&Object.keys(n).length>0}},{key:"_typeIsPluralForModel",value:function(e){if("boolean"!==typeof $t[e]){var t=this._modelOrFactoryExistsForTypeOrCollectionName(e),n=e===this.inflector.pluralize(e),i=this.inflector.singularize(e)===this.inflector.pluralize(e),r=n&&!i&&t;$t[e]=r}return $t[e]}},{key:"_modelOrFactoryExistsForType",value:function(e){var t=this.schema&&this.schema.modelFor(Je(e)),n=this.db[this.schema.toInternalCollectionName(e)];return(t||n)&&!this._typeIsPluralForModel(e)}},{key:"_modelOrFactoryExistsForTypeOrCollectionName",value:function(e){var t=this.schema&&this.schema.modelFor(Je(e)),n=this.db[this.schema.toInternalCollectionName(e)];return t||n}},{key:"_validateTraits",value:function(e,t,n){e.forEach((function(e){if(!t.isTrait(e))throw new Error("'".concat(e,"' trait is not registered in '").concat(n,"' factory"))}))}},{key:"_mergeExtensions",value:function(e,t,n){var i=t.map((function(t){return e[t].extension}));return i.push(n||{}),i.reduce((function(e,t){return ce()(e,t)}),{})}},{key:"_mapAssociationsFromAttributes",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(t||{}).filter((function(e){return nt(t[e])})).forEach((function(r){var o=n.schema.modelClassFor(e),s=o.associationFor(r);rt(s&&s instanceof lt,"You're using the `association` factory helper on the '".concat(r,"' attribute of your ").concat(e," factory, but that attribute is not a `belongsTo` association."));var a=s&&s instanceof lt&&s.modelName===e;rt(!a,"You're using the association() helper on your ".concat(e," factory for ").concat(r,", which is a belongsTo self-referential relationship. You can't do this as it will lead to infinite recursion. You can move the helper inside of a trait and use it selectively."));var l=s&&s.opts&&s.opts.polymorphic;rt(!l,"You're using the association() helper on your ".concat(e," factory for ").concat(r,", which is a polymorphic relationship. This is not currently supported."));var c=t[r],u="".concat(Je(r),"Id");i[r]||(t[u]=n.create.apply(n,[s.modelName].concat(Pe(c.traitsAndOverrides))).id),delete t[r]}))}}]),e}(),Qt=Pt.extend({serializeIds:"always",normalizeIds:!0,keyForModel:function(e){return et(e)},keyForAttribute:function(e){return et(e)},keyForRelationship:function(e){return this._container.inflector.pluralize(et(e))},keyForEmbeddedRelationship:function(e){return et(e)},keyForRelationshipIds:function(e){return"".concat(et(this._container.inflector.singularize(e)),"_ids")},keyForForeignKey:function(e){return"".concat(et(e),"_id")},keyForPolymorphicForeignKeyId:function(e){return"".concat(et(e),"_id")},keyForPolymorphicForeignKeyType:function(e){return"".concat(et(e),"_type")},normalize:function(e){var t=this,n=Object.keys(e)[0],i=e[n],r=Je(n),o=this.schema.modelClassFor(r),s=o.belongsToAssociations,a=o.hasManyAssociations,l=Object.keys(s),c=Object.keys(a),u={data:{type:this._container.inflector.pluralize(n),attributes:{}}};i.id&&(u.data.id=i.id);var h={};return Object.keys(i).forEach((function(e){if("id"!==e)if(t.normalizeIds)if(l.includes(e)){var n=s[e],r=n.modelName;h[Ze(e)]={data:{type:r,id:i[e]}}}else if(c.includes(e)){var o=a[e],d=o.modelName,f=i[e].map((function(e){return{type:d,id:e}}));h[Ze(e)]={data:f}}else u.data.attributes[Ze(e)]=i[e];else u.data.attributes[Ze(e)]=i[e]})),Object.keys(h).length&&(u.data.relationships=h),u},getCoalescedIds:function(e){return e.queryParams&&e.queryParams.ids}});Qt.extend({serializeIds:"always",keyForModel:function(e){return Je(e)},keyForAttribute:function(e){return Je(e)},keyForRelationship:function(e){return Je(this._container.inflector.pluralize(e))},keyForEmbeddedRelationship:function(e){return Je(e)},keyForRelationshipIds:function(e){return Je(this._container.inflector.pluralize(e))},keyForForeignKey:function(e){return Je(this._container.inflector.singularize(e))},getCoalescedIds:function(e){return e.queryParams&&e.queryParams.ids}});function Jt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ee(mt,t)}function Zt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ee(lt,t)}},"0cfb":function(e,t,n){var i=n("83ab"),r=n("d039"),o=n("cc12");e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d26":function(e,t,n){var i=n("e330"),r=Error,o=i("".replace),s=function(e){return String(r(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)while(t--)e=o(e,a,"");return e}},"0d51":function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"0d54":function(e,t,n){"use strict";var i;(function(r){function o(e,t,n){var i,r,o,s,f,p,m,g,A,y=0,v=[],b=0,_=!1,w=[],T=[],E=!1;if(n=n||{},i=n.encoding||"UTF8",A=n.numRounds||1,A!==parseInt(A,10)||1>A)throw Error("numRounds must a integer >= 1");if(0!==e.lastIndexOf("SHA-",0))throw Error("Chosen SHA variant is not supported");if(p=function(t,n){return S(t,n,e)},m=function(t,n,i,r){var o,s;if("SHA-224"!==e&&"SHA-256"!==e)throw Error("Unexpected error in SHA-2 implementation");for(o=15+(n+65>>>9<<4),s=16;t.length<=o;)t.push(0);for(t[n>>>5]|=128<<24-n%32,n+=i,t[o]=4294967295&n,t[o-1]=n/4294967296|0,i=t.length,n=0;n<i;n+=s)r=S(t.slice(n,n+s),r,e);if("SHA-224"===e)t=[r[0],r[1],r[2],r[3],r[4],r[5],r[6]];else{if("SHA-256"!==e)throw Error("Unexpected error in SHA-2 implementation");t=r}return t},g=function(e){return e.slice()},"SHA-224"===e)f=512,s=224;else{if("SHA-256"!==e)throw Error("Chosen SHA variant is not supported");f=512,s=256}o=d(t,i),r=x(e),this.setHMACKey=function(t,n,o){var s;if(!0===_)throw Error("HMAC key already set");if(!0===E)throw Error("Cannot set HMAC key after calling update");if(i=(o||{}).encoding||"UTF8",n=d(n,i)(t),t=n.binLen,n=n.value,s=f>>>3,o=s/4-1,s<t/8){for(n=m(n,t,0,x(e));n.length<=o;)n.push(0);n[o]&=4294967040}else if(s>t/8){for(;n.length<=o;)n.push(0);n[o]&=4294967040}for(t=0;t<=o;t+=1)w[t]=909522486^n[t],T[t]=1549556828^n[t];r=p(w,r),y=f,_=!0},this.update=function(e){var t,n,i,s=0,a=f>>>5;for(t=o(e,v,b),e=t.binLen,n=t.value,t=e>>>5,i=0;i<t;i+=a)s+f<=e&&(r=p(n.slice(i,i+a),r),s+=f);y+=s,v=n.slice(s>>>5),b=e%f,E=!0},this.getHash=function(t,n){var i,o,d,f;if(!0===_)throw Error("Cannot call getHash after setting HMAC key");switch(d=h(n),t){case"HEX":i=function(e){return a(e,s,d)};break;case"B64":i=function(e){return l(e,s,d)};break;case"BYTES":i=function(e){return c(e,s)};break;case"ARRAYBUFFER":try{o=new ArrayBuffer(0)}catch(p){throw Error("ARRAYBUFFER not supported by this environment")}i=function(e){return u(e,s)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(f=m(v.slice(),b,y,g(r)),o=1;o<A;o+=1)f=m(f,s,0,x(e));return i(f)},this.getHMAC=function(t,n){var i,o,d,A;if(!1===_)throw Error("Cannot call getHMAC without first setting HMAC key");switch(d=h(n),t){case"HEX":i=function(e){return a(e,s,d)};break;case"B64":i=function(e){return l(e,s,d)};break;case"BYTES":i=function(e){return c(e,s)};break;case"ARRAYBUFFER":try{i=new ArrayBuffer(0)}catch(w){throw Error("ARRAYBUFFER not supported by this environment")}i=function(e){return u(e,s)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return o=m(v.slice(),b,y,g(r)),A=p(T,x(e)),A=m(o,s,f,A),i(A)}}function s(){}function a(e,t,n){var i,r,o="";for(t/=8,i=0;i<t;i+=1)r=e[i>>>2]>>>8*(3+i%4*-1),o+="0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r);return n.outputUpper?o.toUpperCase():o}function l(e,t,n){var i,r,o,s="",a=t/8;for(i=0;i<a;i+=3)for(r=i+1<a?e[i+1>>>2]:0,o=i+2<a?e[i+2>>>2]:0,o=(e[i>>>2]>>>8*(3+i%4*-1)&255)<<16|(r>>>8*(3+(i+1)%4*-1)&255)<<8|o>>>8*(3+(i+2)%4*-1)&255,r=0;4>r;r+=1)s+=8*i+6*r<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-r)&63):n.b64Pad;return s}function c(e,t){var n,i,r="",o=t/8;for(n=0;n<o;n+=1)i=e[n>>>2]>>>8*(3+n%4*-1)&255,r+=String.fromCharCode(i);return r}function u(e,t){var n,i,r=t/8,o=new ArrayBuffer(r);for(i=new Uint8Array(o),n=0;n<r;n+=1)i[n]=e[n>>>2]>>>8*(3+n%4*-1)&255;return o}function h(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),"boolean"!==typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!==typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function d(e,t){var n;switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":n=function(e,t,n){var i,r,o,s,a,l=e.length;if(0!==l%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],n=n||0,a=n>>>3,i=0;i<l;i+=2){if(r=parseInt(e.substr(i,2),16),isNaN(r))throw Error("String of HEX type contains invalid characters");for(s=(i>>>1)+a,o=s>>>2;t.length<=o;)t.push(0);t[o]|=r<<8*(3+s%4*-1)}return{value:t,binLen:4*l+n}};break;case"TEXT":n=function(e,n,i){var r,o,s,a,l,c,u,h,d=0;if(n=n||[0],i=i||0,l=i>>>3,"UTF8"===t)for(h=3,s=0;s<e.length;s+=1)for(r=e.charCodeAt(s),o=[],128>r?o.push(r):2048>r?(o.push(192|r>>>6),o.push(128|63&r)):55296>r||57344<=r?o.push(224|r>>>12,128|r>>>6&63,128|63&r):(s+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(s)),o.push(240|r>>>18,128|r>>>12&63,128|r>>>6&63,128|63&r)),a=0;a<o.length;a+=1){for(u=d+l,c=u>>>2;n.length<=c;)n.push(0);n[c]|=o[a]<<8*(h+u%4*-1),d+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(h=2,o="UTF16LE"===t||"UTF16LE"!==t&&!1,s=0;s<e.length;s+=1){for(r=e.charCodeAt(s),!0===o&&(a=255&r,r=a<<8|r>>>8),u=d+l,c=u>>>2;n.length<=c;)n.push(0);n[c]|=r<<8*(h+u%4*-1),d+=2}return{value:n,binLen:8*d+i}};break;case"B64":n=function(e,t,n){var i,r,o,s,a,l,c,u=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(r=e.indexOf("="),e=e.replace(/\=/g,""),-1!==r&&r<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],n=n||0,l=n>>>3,r=0;r<e.length;r+=4){for(a=e.substr(r,4),o=s=0;o<a.length;o+=1)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[o]),s|=i<<18-6*o;for(o=0;o<a.length-1;o+=1){for(c=u+l,i=c>>>2;t.length<=i;)t.push(0);t[i]|=(s>>>16-8*o&255)<<8*(3+c%4*-1),u+=1}}return{value:t,binLen:8*u+n}};break;case"BYTES":n=function(e,t,n){var i,r,o,s,a;for(t=t||[0],n=n||0,o=n>>>3,r=0;r<e.length;r+=1)i=e.charCodeAt(r),a=r+o,s=a>>>2,t.length<=s&&t.push(0),t[s]|=i<<8*(3+a%4*-1);return{value:t,binLen:8*e.length+n}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(i){throw Error("ARRAYBUFFER not supported by this environment")}n=function(e,t,n){var i,r,o,s,a;for(t=t||[0],n=n||0,r=n>>>3,a=new Uint8Array(e),i=0;i<e.byteLength;i+=1)s=i+r,o=s>>>2,t.length<=o&&t.push(0),t[o]|=a[i]<<8*(3+s%4*-1);return{value:t,binLen:8*e.byteLength+n}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return n}function f(e,t){return e>>>t|e<<32-t}function p(e,t,n){return e&t^~e&n}function m(e,t,n){return e&t^e&n^t&n}function g(e){return f(e,2)^f(e,13)^f(e,22)}function A(e){return f(e,6)^f(e,11)^f(e,25)}function y(e){return f(e,7)^f(e,18)^e>>>3}function v(e){return f(e,17)^f(e,19)^e>>>10}function b(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function _(e,t,n,i){var r=(65535&e)+(65535&t)+(65535&n)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16)&65535)<<16|65535&r}function w(e,t,n,i,r){var o=(65535&e)+(65535&t)+(65535&n)+(65535&i)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16)+(o>>>16)&65535)<<16|65535&o}function x(e){var t,n=[];if(0!==e.lastIndexOf("SHA-",0))throw Error("No SHA variants supported");switch(n=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":n=t;break;case"SHA-384":n=[new s,new s,new s,new s,new s,new s,new s,new s];break;case"SHA-512":n=[new s,new s,new s,new s,new s,new s,new s,new s];break;default:throw Error("Unknown SHA variant")}return n}function S(e,t,n){var i,r,o,s,a,l,c,u,h,d,f,x,S,E,M,C,O,k,P,I,R,D,L,N=[];if("SHA-224"!==n&&"SHA-256"!==n)throw Error("Unexpected error in SHA-2 implementation");for(d=64,x=1,D=Number,S=b,E=_,M=w,C=y,O=v,k=g,P=A,R=m,I=p,L=T,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],c=t[7],f=0;f<d;f+=1)16>f?(h=f*x,u=e.length<=h?0:e[h],h=e.length<=h+1?0:e[h+1],N[f]=new D(u,h)):N[f]=E(O(N[f-2]),N[f-7],C(N[f-15]),N[f-16]),u=M(c,P(s),I(s,a,l),L[f],N[f]),h=S(k(n),R(n,i,r)),c=l,l=a,a=s,s=S(o,u),o=r,r=i,i=n,n=S(u,h);return t[0]=S(n,t[0]),t[1]=S(i,t[1]),t[2]=S(r,t[2]),t[3]=S(o,t[3]),t[4]=S(s,t[4]),t[5]=S(a,t[5]),t[6]=S(l,t[6]),t[7]=S(c,t[7]),t}var T;T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=function(){return o}.call(t,n,t,e),void 0===i||(e.exports=i)})()},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1093:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("b978");function r(e,t){if(e===t)return!0;if(i.ALIAS_KEYS[t])return!1;const n=i.FLIPPED_ALIAS_KEYS[t];if(n){if(n[0]===e)return!0;for(const t of n)if(e===t)return!0}return!1}},"117d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyword=h,t.isReservedWord=a,t.isStrictBindOnlyReservedWord=c,t.isStrictBindReservedWord=u,t.isStrictReservedWord=l;const i={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},r=new Set(i.keyword),o=new Set(i.strict),s=new Set(i.strictBind);function a(e,t){return t&&"await"===e||"enum"===e}function l(e,t){return a(e,t)||o.has(e)}function c(e){return s.has(e)}function u(e,t){return l(e,t)||c(e)}function h(e){return r.has(e)}},1315:function(e,t,n){"use strict";function i(e,t,n){t&&n&&(t[e]=Array.from(new Set([].concat(t[e],n[e]).filter(Boolean))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},"13d2":function(e,t,n){var i=n("e330"),r=n("d039"),o=n("1626"),s=n("1a2d"),a=n("83ab"),l=n("5e77").CONFIGURABLE,c=n("8925"),u=n("69f3"),h=u.enforce,d=u.get,f=String,p=Object.defineProperty,m=i("".slice),g=i("".replace),A=i([].join),y=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),v=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var i=h(e);return s(i,"source")||(i.source=A(v,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return o(this)&&d(this).source||c(this)}),"toString")},"13d5":function(e,t,n){"use strict";var i=n("23e7"),r=n("d58f").left,o=n("a640"),s=n("2d00"),a=n("605d"),l=!a&&s>79&&s<83,c=l||!o("reduce");i({target:"Array",proto:!0,forced:c},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},1494:function(e,t,n){"use strict";n.r(t);var i=n("0829");n.d(t,"AbstractUserDataWriter",(function(){return i["a"]})),n.d(t,"AggregateField",(function(){return i["b"]})),n.d(t,"AggregateQuerySnapshot",(function(){return i["c"]})),n.d(t,"Bytes",(function(){return i["d"]})),n.d(t,"CACHE_SIZE_UNLIMITED",(function(){return i["e"]})),n.d(t,"CollectionReference",(function(){return i["f"]})),n.d(t,"DocumentReference",(function(){return i["g"]})),n.d(t,"DocumentSnapshot",(function(){return i["h"]})),n.d(t,"FieldPath",(function(){return i["i"]})),n.d(t,"FieldValue",(function(){return i["j"]})),n.d(t,"Firestore",(function(){return i["k"]})),n.d(t,"FirestoreError",(function(){return i["l"]})),n.d(t,"GeoPoint",(function(){return i["m"]})),n.d(t,"LoadBundleTask",(function(){return i["n"]})),n.d(t,"Query",(function(){return i["o"]})),n.d(t,"QueryCompositeFilterConstraint",(function(){return i["p"]})),n.d(t,"QueryConstraint",(function(){return i["q"]})),n.d(t,"QueryDocumentSnapshot",(function(){return i["r"]})),n.d(t,"QueryEndAtConstraint",(function(){return i["s"]})),n.d(t,"QueryFieldFilterConstraint",(function(){return i["t"]})),n.d(t,"QueryLimitConstraint",(function(){return i["u"]})),n.d(t,"QueryOrderByConstraint",(function(){return i["v"]})),n.d(t,"QuerySnapshot",(function(){return i["w"]})),n.d(t,"QueryStartAtConstraint",(function(){return i["x"]})),n.d(t,"SnapshotMetadata",(function(){return i["y"]})),n.d(t,"Timestamp",(function(){return i["z"]})),n.d(t,"Transaction",(function(){return i["A"]})),n.d(t,"WriteBatch",(function(){return i["B"]})),n.d(t,"_DatabaseId",(function(){return i["C"]})),n.d(t,"_DocumentKey",(function(){return i["D"]})),n.d(t,"_EmptyAppCheckTokenProvider",(function(){return i["E"]})),n.d(t,"_EmptyAuthCredentialsProvider",(function(){return i["F"]})),n.d(t,"_FieldPath",(function(){return i["G"]})),n.d(t,"_cast",(function(){return i["H"]})),n.d(t,"_debugAssert",(function(){return i["I"]})),n.d(t,"_isBase64Available",(function(){return i["J"]})),n.d(t,"_logWarn",(function(){return i["K"]})),n.d(t,"_validateIsNotUsedTogether",(function(){return i["L"]})),n.d(t,"addDoc",(function(){return i["M"]})),n.d(t,"aggregateQuerySnapshotEqual",(function(){return i["N"]})),n.d(t,"and",(function(){return i["O"]})),n.d(t,"arrayRemove",(function(){return i["P"]})),n.d(t,"arrayUnion",(function(){return i["Q"]})),n.d(t,"clearIndexedDbPersistence",(function(){return i["R"]})),n.d(t,"collection",(function(){return i["S"]})),n.d(t,"collectionGroup",(function(){return i["T"]})),n.d(t,"connectFirestoreEmulator",(function(){return i["U"]})),n.d(t,"deleteDoc",(function(){return i["V"]})),n.d(t,"deleteField",(function(){return i["W"]})),n.d(t,"disableNetwork",(function(){return i["X"]})),n.d(t,"doc",(function(){return i["Y"]})),n.d(t,"documentId",(function(){return i["Z"]})),n.d(t,"enableIndexedDbPersistence",(function(){return i["ab"]})),n.d(t,"enableMultiTabIndexedDbPersistence",(function(){return i["bb"]})),n.d(t,"enableNetwork",(function(){return i["cb"]})),n.d(t,"endAt",(function(){return i["db"]})),n.d(t,"endBefore",(function(){return i["eb"]})),n.d(t,"ensureFirestoreConfigured",(function(){return i["fb"]})),n.d(t,"executeWrite",(function(){return i["gb"]})),n.d(t,"getCountFromServer",(function(){return i["hb"]})),n.d(t,"getDoc",(function(){return i["ib"]})),n.d(t,"getDocFromCache",(function(){return i["jb"]})),n.d(t,"getDocFromServer",(function(){return i["kb"]})),n.d(t,"getDocs",(function(){return i["lb"]})),n.d(t,"getDocsFromCache",(function(){return i["mb"]})),n.d(t,"getDocsFromServer",(function(){return i["nb"]})),n.d(t,"getFirestore",(function(){return i["ob"]})),n.d(t,"increment",(function(){return i["pb"]})),n.d(t,"initializeFirestore",(function(){return i["qb"]})),n.d(t,"limit",(function(){return i["rb"]})),n.d(t,"limitToLast",(function(){return i["sb"]})),n.d(t,"loadBundle",(function(){return i["tb"]})),n.d(t,"namedQuery",(function(){return i["ub"]})),n.d(t,"onSnapshot",(function(){return i["vb"]})),n.d(t,"onSnapshotsInSync",(function(){return i["wb"]})),n.d(t,"or",(function(){return i["xb"]})),n.d(t,"orderBy",(function(){return i["yb"]})),n.d(t,"query",(function(){return i["zb"]})),n.d(t,"queryEqual",(function(){return i["Ab"]})),n.d(t,"refEqual",(function(){return i["Bb"]})),n.d(t,"runTransaction",(function(){return i["Cb"]})),n.d(t,"serverTimestamp",(function(){return i["Db"]})),n.d(t,"setDoc",(function(){return i["Eb"]})),n.d(t,"setIndexConfiguration",(function(){return i["Fb"]})),n.d(t,"setLogLevel",(function(){return i["Gb"]})),n.d(t,"snapshotEqual",(function(){return i["Hb"]})),n.d(t,"startAfter",(function(){return i["Ib"]})),n.d(t,"startAt",(function(){return i["Jb"]})),n.d(t,"terminate",(function(){return i["Kb"]})),n.d(t,"updateDoc",(function(){return i["Lb"]})),n.d(t,"waitForPendingWrites",(function(){return i["Mb"]})),n.d(t,"where",(function(){return i["Nb"]})),n.d(t,"writeBatch",(function(){return i["Ob"]}))},"14d9":function(e,t,n){"use strict";var i=n("23e7"),r=n("7b0b"),o=n("07fa"),s=n("3a34"),a=n("3511"),l=n("d039"),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=c||!u();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=r(this),n=o(t),i=arguments.length;a(n+i);for(var l=0;l<i;l++)t[n]=arguments[l],n++;return s(t,n),n}})},"14e8":function(e,t,n){(function(e,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u=17976931348623157e292,h=NaN,d="[object Arguments]",f="[object Array]",p="[object Boolean]",m="[object Date]",g="[object Error]",A="[object Function]",y="[object GeneratorFunction]",v="[object Map]",b="[object Number]",_="[object Object]",w="[object Promise]",x="[object RegExp]",S="[object Set]",T="[object String]",E="[object Symbol]",M="[object WeakMap]",C="[object ArrayBuffer]",O="[object DataView]",k="[object Float32Array]",P="[object Float64Array]",I="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,z=/^\./,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,H=/^\s+|\s+$/g,G=/\\(\\)?/g,W=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,X=/^\[object .+?Constructor\]$/,Y=/^0o[0-7]+$/i,K=/^(?:0|[1-9]\d*)$/,Q={};Q[k]=Q[P]=Q[I]=Q[R]=Q[D]=Q[L]=Q[N]=Q[B]=Q[F]=!0,Q[d]=Q[f]=Q[C]=Q[p]=Q[O]=Q[m]=Q[g]=Q[A]=Q[v]=Q[b]=Q[_]=Q[x]=Q[S]=Q[T]=Q[M]=!1;var J=parseInt,Z="object"==typeof e&&e&&e.Object===Object&&e,ee="object"==typeof self&&self&&self.Object===Object&&self,te=Z||ee||Function("return this")(),ne=t&&!t.nodeType&&t,ie=ne&&"object"==typeof n&&n&&!n.nodeType&&n,re=ie&&ie.exports===ne,oe=re&&Z.process,se=function(){try{return oe&&oe.binding("util")}catch(e){}}(),ae=se&&se.isTypedArray;function le(e,t){var n=-1,i=e?e.length:0;while(++n<i)if(t(e[n],n,e))return!0;return!1}function ce(e,t,n,i){var r=e.length,o=n+(i?1:-1);while(i?o--:++o<r)if(t(e[o],o,e))return o;return-1}function ue(e){return function(t){return null==t?void 0:t[e]}}function he(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function de(e){return function(t){return e(t)}}function fe(e,t){return null==e?void 0:e[t]}function pe(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function me(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function ge(e,t){return function(n){return e(t(n))}}function Ae(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ye=Array.prototype,ve=Function.prototype,be=Object.prototype,_e=te["__core-js_shared__"],we=function(){var e=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),xe=ve.toString,Se=be.hasOwnProperty,Te=be.toString,Ee=RegExp("^"+xe.call(Se).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=te.Symbol,Ce=te.Uint8Array,Oe=be.propertyIsEnumerable,ke=ye.splice,Pe=ge(Object.keys,Object),Ie=Math.max,Re=Vt(te,"DataView"),De=Vt(te,"Map"),Le=Vt(te,"Promise"),Ne=Vt(te,"Set"),Be=Vt(te,"WeakMap"),Fe=Vt(Object,"create"),je=tn(Re),Ue=tn(De),ze=tn(Le),qe=tn(Ne),Ve=tn(Be),He=Me?Me.prototype:void 0,Ge=He?He.valueOf:void 0,We=He?He.toString:void 0;function $e(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Xe(){this.__data__=Fe?Fe(null):{}}function Ye(e){return this.has(e)&&delete this.__data__[e]}function Ke(e){var t=this.__data__;if(Fe){var n=t[e];return n===o?void 0:n}return Se.call(t,e)?t[e]:void 0}function Qe(e){var t=this.__data__;return Fe?void 0!==t[e]:Se.call(t,e)}function Je(e,t){var n=this.__data__;return n[e]=Fe&&void 0===t?o:t,this}function Ze(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function et(){this.__data__=[]}function tt(e){var t=this.__data__,n=_t(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():ke.call(t,n,1),!0}function nt(e){var t=this.__data__,n=_t(t,e);return n<0?void 0:t[n][1]}function it(e){return _t(this.__data__,e)>-1}function rt(e,t){var n=this.__data__,i=_t(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function ot(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function st(){this.__data__={hash:new $e,map:new(De||Ze),string:new $e}}function at(e){return zt(this,e)["delete"](e)}function lt(e){return zt(this,e).get(e)}function ct(e){return zt(this,e).has(e)}function ut(e,t){return zt(this,e).set(e,t),this}function ht(e){var t=-1,n=e?e.length:0;this.__data__=new ot;while(++t<n)this.add(e[t])}function dt(e){return this.__data__.set(e,o),this}function ft(e){return this.__data__.has(e)}function pt(e){this.__data__=new Ze(e)}function mt(){this.__data__=new Ze}function gt(e){return this.__data__["delete"](e)}function At(e){return this.__data__.get(e)}function yt(e){return this.__data__.has(e)}function vt(e,t){var n=this.__data__;if(n instanceof Ze){var r=n.__data__;if(!De||r.length<i-1)return r.push([e,t]),this;n=this.__data__=new ot(r)}return n.set(e,t),this}function bt(e,t){var n=ln(e)||an(e)?he(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!Se.call(e,o)||r&&("length"==o||Wt(o,i))||n.push(o);return n}function _t(e,t){var n=e.length;while(n--)if(sn(e[n][0],t))return n;return-1}function wt(e,t){t=$t(t,e)?[t]:Nt(t);var n=0,i=t.length;while(null!=e&&n<i)e=e[en(t[n++])];return n&&n==i?e:void 0}function xt(e){return Te.call(e)}function St(e,t){return null!=e&&t in Object(e)}function Tt(e,t,n,i,r){return e===t||(null==e||null==t||!fn(e)&&!pn(t)?e!==e&&t!==t:Et(e,t,Tt,n,i,r))}function Et(e,t,n,i,r,o){var s=ln(e),l=ln(t),c=f,u=f;s||(c=Ht(e),c=c==d?_:c),l||(u=Ht(t),u=u==d?_:u);var h=c==_&&!pe(e),p=u==_&&!pe(t),m=c==u;if(m&&!h)return o||(o=new pt),s||gn(e)?Ft(e,t,n,i,r,o):jt(e,t,c,n,i,r,o);if(!(r&a)){var g=h&&Se.call(e,"__wrapped__"),A=p&&Se.call(t,"__wrapped__");if(g||A){var y=g?e.value():e,v=A?t.value():t;return o||(o=new pt),n(y,v,i,r,o)}}return!!m&&(o||(o=new pt),Ut(e,t,n,i,r,o))}function Mt(e,t,n,i){var r=n.length,o=r,l=!i;if(null==e)return!o;e=Object(e);while(r--){var c=n[r];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}while(++r<o){c=n[r];var u=c[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var f=new pt;if(i)var p=i(h,d,u,e,t,f);if(!(void 0===p?Tt(d,h,i,s|a,f):p))return!1}}return!0}function Ct(e){if(!fn(e)||Yt(e))return!1;var t=hn(e)||pe(e)?Ee:X;return t.test(tn(e))}function Ot(e){return pn(e)&&dn(e.length)&&!!Q[Te.call(e)]}function kt(e){return"function"==typeof e?e:null==e?Sn:"object"==typeof e?ln(e)?Rt(e[0],e[1]):It(e):Tn(e)}function Pt(e){if(!Kt(e))return Pe(e);var t=[];for(var n in Object(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function It(e){var t=qt(e);return 1==t.length&&t[0][2]?Jt(t[0][0],t[0][1]):function(n){return n===e||Mt(n,e,t)}}function Rt(e,t){return $t(e)&&Qt(t)?Jt(en(e),t):function(n){var i=_n(n,e);return void 0===i&&i===t?wn(n,e):Tt(t,i,void 0,s|a)}}function Dt(e){return function(t){return wt(t,e)}}function Lt(e){if("string"==typeof e)return e;if(mn(e))return We?We.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}function Nt(e){return ln(e)?e:Zt(e)}function Bt(e){return function(t,n,i){var r=Object(t);if(!cn(t)){var o=kt(n,3);t=xn(t),n=function(e){return o(r[e],e,r)}}var s=e(t,n,i);return s>-1?r[o?t[s]:s]:void 0}}function Ft(e,t,n,i,r,o){var l=r&a,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(e);if(h&&o.get(t))return h==t;var d=-1,f=!0,p=r&s?new ht:void 0;o.set(e,t),o.set(t,e);while(++d<c){var m=e[d],g=t[d];if(i)var A=l?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(void 0!==A){if(A)continue;f=!1;break}if(p){if(!le(t,(function(e,t){if(!p.has(t)&&(m===e||n(m,e,i,r,o)))return p.add(t)}))){f=!1;break}}else if(m!==g&&!n(m,g,i,r,o)){f=!1;break}}return o["delete"](e),o["delete"](t),f}function jt(e,t,n,i,r,o,l){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!i(new Ce(e),new Ce(t)));case p:case m:case b:return sn(+e,+t);case g:return e.name==t.name&&e.message==t.message;case x:case T:return e==t+"";case v:var c=me;case S:var u=o&a;if(c||(c=Ae),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;o|=s,l.set(e,t);var d=Ft(c(e),c(t),i,r,o,l);return l["delete"](e),d;case E:if(Ge)return Ge.call(e)==Ge.call(t)}return!1}function Ut(e,t,n,i,r,o){var s=r&a,l=xn(e),c=l.length,u=xn(t),h=u.length;if(c!=h&&!s)return!1;var d=c;while(d--){var f=l[d];if(!(s?f in t:Se.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var m=!0;o.set(e,t),o.set(t,e);var g=s;while(++d<c){f=l[d];var A=e[f],y=t[f];if(i)var v=s?i(y,A,f,t,e,o):i(A,y,f,e,t,o);if(!(void 0===v?A===y||n(A,y,i,r,o):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(m=!1)}return o["delete"](e),o["delete"](t),m}function zt(e,t){var n=e.__data__;return Xt(t)?n["string"==typeof t?"string":"hash"]:n.map}function qt(e){var t=xn(e),n=t.length;while(n--){var i=t[n],r=e[i];t[n]=[i,r,Qt(r)]}return t}function Vt(e,t){var n=fe(e,t);return Ct(n)?n:void 0}$e.prototype.clear=Xe,$e.prototype["delete"]=Ye,$e.prototype.get=Ke,$e.prototype.has=Qe,$e.prototype.set=Je,Ze.prototype.clear=et,Ze.prototype["delete"]=tt,Ze.prototype.get=nt,Ze.prototype.has=it,Ze.prototype.set=rt,ot.prototype.clear=st,ot.prototype["delete"]=at,ot.prototype.get=lt,ot.prototype.has=ct,ot.prototype.set=ut,ht.prototype.add=ht.prototype.push=dt,ht.prototype.has=ft,pt.prototype.clear=mt,pt.prototype["delete"]=gt,pt.prototype.get=At,pt.prototype.has=yt,pt.prototype.set=vt;var Ht=xt;function Gt(e,t,n){t=$t(t,e)?[t]:Nt(t);var i,r=-1,o=t.length;while(++r<o){var s=en(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;o=e?e.length:0;return!!o&&dn(o)&&Wt(s,o)&&(ln(e)||an(e))}function Wt(e,t){return t=null==t?c:t,!!t&&("number"==typeof e||K.test(e))&&e>-1&&e%1==0&&e<t}function $t(e,t){if(ln(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!mn(e))||(U.test(e)||!j.test(e)||null!=t&&e in Object(t))}function Xt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Yt(e){return!!we&&we in e}function Kt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||be;return e===n}function Qt(e){return e===e&&!fn(e)}function Jt(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(Re&&Ht(new Re(new ArrayBuffer(1)))!=O||De&&Ht(new De)!=v||Le&&Ht(Le.resolve())!=w||Ne&&Ht(new Ne)!=S||Be&&Ht(new Be)!=M)&&(Ht=function(e){var t=Te.call(e),n=t==_?e.constructor:void 0,i=n?tn(n):void 0;if(i)switch(i){case je:return O;case Ue:return v;case ze:return w;case qe:return S;case Ve:return M}return t});var Zt=on((function(e){e=bn(e);var t=[];return z.test(e)&&t.push(""),e.replace(q,(function(e,n,i,r){t.push(i?r.replace(G,"$1"):n||e)})),t}));function en(e){if("string"==typeof e||mn(e))return e;var t=e+"";return"0"==t&&1/e==-l?"-0":t}function tn(e){if(null!=e){try{return xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function nn(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=null==n?0:yn(n);return r<0&&(r=Ie(i+r,0)),ce(e,kt(t,3),r)}var rn=Bt(nn);function on(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(on.Cache||ot),n}function sn(e,t){return e===t||e!==e&&t!==t}function an(e){return un(e)&&Se.call(e,"callee")&&(!Oe.call(e,"callee")||Te.call(e)==d)}on.Cache=ot;var ln=Array.isArray;function cn(e){return null!=e&&dn(e.length)&&!hn(e)}function un(e){return pn(e)&&cn(e)}function hn(e){var t=fn(e)?Te.call(e):"";return t==A||t==y}function dn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function fn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function pn(e){return!!e&&"object"==typeof e}function mn(e){return"symbol"==typeof e||pn(e)&&Te.call(e)==E}var gn=ae?de(ae):Ot;function An(e){if(!e)return 0===e?e:0;if(e=vn(e),e===l||e===-l){var t=e<0?-1:1;return t*u}return e===e?e:0}function yn(e){var t=An(e),n=t%1;return t===t?n?t-n:t:0}function vn(e){if("number"==typeof e)return e;if(mn(e))return h;if(fn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=fn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(H,"");var n=$.test(e);return n||Y.test(e)?J(e.slice(2),n?2:8):W.test(e)?h:+e}function bn(e){return null==e?"":Lt(e)}function _n(e,t,n){var i=null==e?void 0:wt(e,t);return void 0===i?n:i}function wn(e,t){return null!=e&&Gt(e,t,St)}function xn(e){return cn(e)?bt(e):Pt(e)}function Sn(e){return e}function Tn(e){return $t(e)?ue(en(e)):Dt(e)}n.exports=rn}).call(this,n("c8ba"),n("62e4")(e))},1626:function(e,t,n){var i=n("8ea1"),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},1633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("eb5b"),r=n("252a");function o(e,t){const n=e.value.split(/\r\n|\n|\r/);let o=0;for(let i=0;i<n.length;i++)n[i].match(/[^ \t]/)&&(o=i);let s="";for(let i=0;i<n.length;i++){const e=n[i],t=0===i,r=i===n.length-1,a=i===o;let l=e.replace(/\t/g," ");t||(l=l.replace(/^[ ]+/,"")),r||(l=l.replace(/[ ]+$/,"")),l&&(a||(l+=" "),s+=l)}s&&t.push((0,r.inherits)((0,i.stringLiteral)(s),e))}},"16c1":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return _}));var i=n("7a23");window.TradingView=window.TradingView||{};Object(i["defineComponent"])({name:"WChart",props:{options:{type:Object,default:()=>({})}},setup(e){const t=Object(i["ref"])("tradingview-chart"),n=Object(i["ref"])("tradingview-chart-script"),r={width:980,height:610,symbol:"NASDAQ:AAPL",interval:"D",timezone:"Etc/UTC",theme:"light",style:"1",locale:"en",toolbar_bg:"#f1f3f6",enable_publishing:!1,allow_symbol_change:!0,container_id:"tradingview-chart"},o=()=>typeof window<"u"&&window.document&&window.document.createElement,s=()=>document.getElementById(n.value),a=()=>null!==s(),l=e=>{if(!o()||a())return;const t=document.createElement("script");t.id=n.value+Date.now().toString(36),t.type="text/javascript",t.async=!0,t.src="https://s3.tradingview.com/tv.js",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},c=()=>{setTimeout(()=>{if(typeof window.TradingView>"u")return;const n={...r,...e.options};n.container_id===t.value?new window.TradingView.widget(Object.assign({container_id:t},n)):console.error('container_id in Chart component must be "tradingview-chart"')},300)};return Object(i["onMounted"])(()=>{l(()=>c())}),{container:t}}});const r=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n};const o=(e,t,n,r)=>{const o=Object(i["ref"])(t),s=Object(i["ref"])(n),a=Object(i["ref"])(),l=()=>typeof window<"u"&&window.document&&window.document.createElement,c=()=>document.getElementById(s.value),u=()=>null!==c(),h=()=>{if(!l()||u())return;const t=document.createElement("script");t.id=s.value,t.type="text/javascript",t.async=!0,t.src=r,t.textContent=JSON.stringify(e),a.value&&a.value.appendChild(t)};return Object(i["onMounted"])(()=>{setTimeout(()=>{h()},300)}),{container:o,tradingview:a}};Object(i["defineComponent"])({name:"WCompanyProfile",props:{options:{type:Object,default:()=>({})}},setup(e){const t={symbol:"NASDAQ:AAPL",width:480,height:650,colorTheme:"light",isTransparent:!1,locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-company-profile","tradingview-company-profile-script","https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js");return{container:n,tradingview:i}}});Object(i["defineComponent"])({name:"WCryptoMarket",props:{options:{type:Object,default:()=>({})}},setup(e){const t={width:"100%",height:"100%",defaultColumn:"overview",screener_type:"crypto_mkt",displayCurrency:"USD",colorTheme:"light",locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-crypto-market","tradingview-crypto-market-script","https://s3.tradingview.com/external-embedding/embed-widget-screener.js");return{container:n,tradingview:i}}});Object(i["defineComponent"])({name:"WEconomicCalendar",props:{options:{type:Object,default:()=>({})}},setup(e){const t={colorTheme:"light",isTransparent:!1,width:"510",height:"600",locale:"en",importanceFilter:"-1,0,1",...e.options},{container:n,tradingview:i}=o(t,"tradingview-economic-calendar","tradingview-economic-calendar-script","https://s3.tradingview.com/external-embedding/embed-widget-events.js");return{container:n,tradingview:i}}});const s=Object(i["defineComponent"])({name:"WForexCrossRates",props:{options:{type:Object,default:()=>({})}},setup(e){const t={symbol:"NASDAQ:AAPL",color:"blak",isTransparent:!1,largeChartUrl:"",displayMode:"regular",width:"100%",height:"100%",locale:"br",...e.options},{container:n,tradingview:i}=o(t,"tradingview-forex-cross-rates","tradingview-forex-cross-rates-script","https://s3.tradingview.com/external-embedding/embed-widget-forex-cross-rates.js");return{container:n,tradingview:i}}}),a=["id"];function l(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{ref:"tradingview",id:e.container},null,8,a)}const c=r(s,[["render",l]]),u=Object(i["defineComponent"])({name:"WForexHeatMap",props:{options:{type:Object,default:()=>({})}},setup(e){const t={width:770,height:400,currencies:["EUR","USD","JPY","GBP","CHF","AUD","CAD","NZD","CNY"],isTransparent:!1,colorTheme:"light",locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-forex-heat-map","tradingview-forex-heat-map-script","https://s3.tradingview.com/external-embedding/embed-widget-forex-heat-map.js");return{container:n,tradingview:i}}}),h=["id"];function d(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:e.container,ref:"tradingview"},null,8,h)}const f=r(u,[["render",d]]);Object(i["defineComponent"])({name:"WFundamentalData",props:{options:{type:Object,default:()=>({})}},setup(e){const t={symbol:"NASDAQ:AAPL",colorTheme:"light",isTransparent:!1,largeChartUrl:"",displayMode:"regular",width:480,height:830,locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-fundamental-data","tradingview-fundamental-data-script","https://s3.tradingview.com/external-embedding/embed-widget-financials.js");return{container:n,tradingview:i}}});const p=Object(i["defineComponent"])({name:"WMarketData",props:{options:{type:Object,default:()=>({})}},setup(e){const t={width:770,height:450,symbolsGroups:[{name:"Indices",originalName:"Indices",symbols:[{name:"FOREXCOM:SPXUSD",displayName:"S&P 500"},{name:"FOREXCOM:NSXUSD",displayName:"US 100"},{name:"FOREXCOM:DJI",displayName:"Dow 30"},{name:"INDEX:NKY",displayName:"Nikkei 225"},{name:"INDEX:DEU40",displayName:"DAX Index"},{name:"FOREXCOM:UKXGBP",displayName:"UK 100"}]},{name:"Futures",originalName:"Futures",symbols:[{name:"CME_MINI:ES1!",displayName:"S&P 500"},{name:"CME:6E1!",displayName:"Euro"},{name:"COMEX:GC1!",displayName:"Gold"},{name:"NYMEX:CL1!",displayName:"Crude Oil"},{name:"NYMEX:NG1!",displayName:"Natural Gas"},{name:"CBOT:ZC1!",displayName:"Corn"}]},{name:"Bonds",originalName:"Bonds",symbols:[{name:"CME:GE1!",displayName:"Eurodollar"},{name:"CBOT:ZB1!",displayName:"T-Bond"},{name:"CBOT:UB1!",displayName:"Ultra T-Bond"},{name:"EUREX:FGBL1!",displayName:"Euro Bund"},{name:"EUREX:FBTP1!",displayName:"Euro BTP"},{name:"EUREX:FGBM1!",displayName:"Euro BOBL"}]},{name:"Forex",originalName:"Forex",symbols:[{name:"FX:EURUSD"},{name:"FX:GBPUSD"},{name:"FX:USDJPY"},{name:"FX:USDCHF"},{name:"FX:AUDUSD"},{name:"FX:USDCAD"}]}],showSymbolLogo:!0,colorTheme:"light",isTransparent:!1,locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-market-data","tradingview-market-data-script","https://s3.tradingview.com/external-embedding/embed-widget-market-quotes.js");return{container:n,tradingview:i}}}),m=["id"];function g(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{ref:"tradingview",id:e.container},null,8,m)}const A=r(p,[["render",g]]);Object(i["defineComponent"])({name:"WMiniChart",props:{options:{type:Object,default:()=>({})}},setup(e){const t={symbol:"FX:EURUSD",width:350,height:220,locale:"en",dateRange:"12M",colorTheme:"light",trendLineColor:"rgba(41, 98, 255, 1)",underLineColor:"rgba(41, 98, 255, 0.3)",underLineBottomColor:"rgba(41, 98, 255, 0)",isTransparent:!1,autosize:!1,largeChartUrl:"",...e.options},{container:n,tradingview:i}=o(t,"tradingview-mini-chart","tradingview-mini-chart-script","https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js");return{container:n,tradingview:i}}});Object(i["defineComponent"])({name:"WScreener",props:{options:{type:Object,default:()=>({})}},setup(e){const t={width:1100,height:523,defaultColumn:"overview",defaultScreen:"general",market:"forex",showToolbar:!0,colorTheme:"light",locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-screener","tradingview-screener-script","https://s3.tradingview.com/external-embedding/embed-widget-screener.js");return{container:n,tradingview:i}}});Object(i["defineComponent"])({name:"WSingleTicker",props:{options:{type:Object,default:()=>({})}},setup(e){const t={symbol:"FX:EURUSD",width:350,colorTheme:"light",isTransparent:!1,locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-single-ticker","tradingview-single-ticker-script","https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js");return{container:n,tradingview:i}}});Object(i["defineComponent"])({name:"WSnaps",props:{options:{type:Object,default:()=>({})}},setup(e){const t={feedMode:"all_symbols",colorTheme:"light",isTransparent:!1,displayMode:"regular",width:480,height:830,locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-snaps","tradingview-snaps-script","https://s3.tradingview.com/external-embedding/embed-widget-timeline.js");return{container:n,tradingview:i}}});Object(i["defineComponent"])({name:"WStockMarket",props:{options:{type:Object,default:()=>({})}},setup(e){const t={colorTheme:"light",dateRange:"12M",exchange:"US",showChart:!0,locale:"en",largeChartUrl:"",isTransparent:!1,showSymbolLogo:!1,showFloatingTooltip:!1,width:"400",height:"600",plotLineColorGrowing:"rgba(41, 98, 255, 1)",plotLineColorFalling:"rgba(41, 98, 255, 1)",gridLineColor:"rgba(240, 243, 250, 0)",scaleFontColor:"rgba(120, 123, 134, 1)",belowLineFillColorGrowing:"rgba(41, 98, 255, 0.12)",belowLineFillColorFalling:"rgba(41, 98, 255, 0.12)",belowLineFillColorGrowingBottom:"rgba(41, 98, 255, 0)",belowLineFillColorFallingBottom:"rgba(41, 98, 255, 0)",symbolActiveColor:"rgba(41, 98, 255, 0.12)",...e.options},{container:n,tradingview:i}=o(t,"tradingview-stock-market","tradingview-stock-market-script","https://s3.tradingview.com/external-embedding/embed-widget-hotlists.js");return{container:n,tradingview:i}}});window.TradingView=window.TradingView||{};Object(i["defineComponent"])({name:"WSymbolOverview",props:{options:{type:Object,default:()=>({})}},setup(e){const t=Object(i["ref"])("tradingview-symbol-overview"),n=Object(i["ref"])("tradingview-symbol-overview-script"),r={symbols:[["Apple","AAPL"],["Google","GOOGL"],["Microsoft","MSFT"]],chartOnly:!1,width:1e3,height:400,locale:"en",colorTheme:"light",gridLineColor:"rgba(240, 243, 250, 0)",fontColor:"#787B86",isTransparent:!1,autosize:!1,showVolume:!1,scalePosition:"no",scaleMode:"Normal",fontFamily:"Trebuchet MS, sans-serif",noTimeScale:!1,valuesTracking:"1",chartType:"area",lineColor:"#2962FF",bottomColor:"rgba(41, 98, 255, 0)",topColor:"rgba(41, 98, 255, 0.3)",container_id:"tradingview-symbol-overview"},o=()=>typeof window<"u"&&window.document&&window.document.createElement,s=()=>document.getElementById(n.value),a=()=>null!==s(),l=e=>{if(!o()||a())return;const t=document.createElement("script");t.id=n.value+Date.now().toString(36),t.type="text/javascript",t.async=!0,t.src="https://s3.tradingview.com/tv.js",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},c=()=>{setTimeout(()=>{if(typeof window.TradingView>"u")return;const n={...r,...e.options};n.container_id===t.value?new window.TradingView.MediumWidget(Object.assign({container_id:t},n)):console.error('container_id in SymbolOverview component must be "tradingview-symbol-overview"')},300)};return Object(i["onMounted"])(()=>{l(()=>c())}),{container:t}}});Object(i["defineComponent"])({name:"WTechnicalAnalysis",props:{options:{type:Object,default:()=>({})}},setup(e){const t={interval:"1m",width:425,isTransparent:!1,height:450,symbol:"NASDAQ:AAPL",showIntervalTabs:!0,locale:"en",colorTheme:"light",...e.options},{container:n,tradingview:i}=o(t,"tradingview-technical-analysis","tradingview-technical-analysis-script","https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js");return{container:n,tradingview:i}}});Object(i["defineComponent"])({name:"WTicker",props:{options:{type:Object,default:()=>({})}},setup(e){const t={symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"FOREXCOM:NSXUSD",title:"US 100"},{proName:"FX_IDC:EURUSD",title:"EUR/USD"},{proName:"BITSTAMP:BTCUSD",title:"Bitcoin"},{proName:"BITSTAMP:ETHUSD",title:"Ethereum"}],colorTheme:"light",isTransparent:!1,showSymbolLogo:!0,locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-ticker","tradingview-ticker-script","https://s3.tradingview.com/external-embedding/embed-widget-tickers.js");return{container:n,tradingview:i}}});const y=Object(i["defineComponent"])({name:"WTickerTape",props:{options:{type:Object,default:()=>({})}},setup(e){const t={symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"FOREXCOM:NSXUSD",title:"US 100"},{proName:"FX_IDC:EURUSD",title:"EUR/USD"},{proName:"BITSTAMP:BTCUSD",title:"Bitcoin"},{proName:"BITSTAMP:ETHUSD",title:"Ethereum"}],showSymbolLogo:!0,colorTheme:"light",isTransparent:!1,displayMode:"adaptive",locale:"en",...e.options},{container:n,tradingview:i}=o(t,"tradingview-ticker-tape","tradingview-ticker-tape-script","https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js");return{container:n,tradingview:i}}}),v=["id"];function b(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{ref:"tradingview",id:e.container},null,8,v)}const _=r(y,[["render",b]]),w=Object(i["defineComponent"])({name:"WMarketOverview",props:{options:{type:Object,default:()=>({})}},setup(e){const t={colorTheme:"light",dateRange:"12M",showChart:!0,locale:"en",largeChartUrl:"",isTransparent:!1,showSymbolLogo:!0,showFloatingTooltip:!1,width:"400",height:"660",plotLineColorGrowing:"rgba(41, 98, 255, 1)",plotLineColorFalling:"rgba(41, 98, 255, 1)",gridLineColor:"rgba(240, 243, 250, 0)",scaleFontColor:"rgba(120, 123, 134, 1)",belowLineFillColorGrowing:"rgba(41, 98, 255, 0.12)",belowLineFillColorFalling:"rgba(41, 98, 255, 0.12)",belowLineFillColorGrowingBottom:"rgba(41, 98, 255, 0)",belowLineFillColorFallingBottom:"rgba(41, 98, 255, 0)",symbolActiveColor:"rgba(41, 98, 255, 0.12)",tabs:[{title:"Indices",symbols:[{s:"FOREXCOM:SPXUSD",d:"S&P 500"},{s:"FOREXCOM:NSXUSD",d:"US 100"},{s:"FOREXCOM:DJI",d:"Dow 30"},{s:"INDEX:NKY",d:"Nikkei 225"},{s:"INDEX:DEU40",d:"DAX Index"},{s:"FOREXCOM:UKXGBP",d:"UK 100"}],originalTitle:"Indices"},{title:"Futures",symbols:[{s:"CME_MINI:ES1!",d:"S&P 500"},{s:"CME:6E1!",d:"Euro"},{s:"COMEX:GC1!",d:"Gold"},{s:"NYMEX:CL1!",d:"Crude Oil"},{s:"NYMEX:NG1!",d:"Natural Gas"},{s:"CBOT:ZC1!",d:"Corn"}],originalTitle:"Futures"},{title:"Bonds",symbols:[{s:"CME:GE1!",d:"Eurodollar"},{s:"CBOT:ZB1!",d:"T-Bond"},{s:"CBOT:UB1!",d:"Ultra T-Bond"},{s:"EUREX:FGBL1!",d:"Euro Bund"},{s:"EUREX:FBTP1!",d:"Euro BTP"},{s:"EUREX:FGBM1!",d:"Euro BOBL"}],originalTitle:"Bonds"},{title:"Forex",symbols:[{s:"FX:EURUSD"},{s:"FX:GBPUSD"},{s:"FX:USDJPY"},{s:"FX:USDCHF"},{s:"FX:AUDUSD"},{s:"FX:USDCAD"}],originalTitle:"Forex"}],...e.options},{container:n,tradingview:i}=o(t,"tradingview-market-overview","tradingview-market-overview-script","https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js");return{container:n,tradingview:i}}}),x=["id"];function S(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{ref:"tradingview",id:e.container},null,8,x)}const T=r(w,[["render",S]]);Object(i["defineComponent"])({name:"WSymbolInfo",props:{options:{type:Object,default:()=>({symbol:"NASDAQ:AAPL",width:1e3,locale:"en",colorTheme:"light",isTransparent:!1})}},setup(e){const t={symbol:"NASDAQ:AAPL",width:1e3,locale:"en",colorTheme:"light",isTransparent:!1,...e.options},{container:n,tradingview:i}=o(t,"tradingview-symbol-info","tradingview-symbol-info-script","https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js");return{container:n,tradingview:i}}})},"177b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n("392e"),r=n("1093"),o=n("e3d8"),s=n("b978");function a(e,t,n){if(!t)return!1;const a=(0,r.default)(t.type,e);return a?"undefined"===typeof n||(0,i.default)(t,n):!n&&"Placeholder"===t.type&&e in s.FLIPPED_ALIAS_KEYS&&(0,o.default)(t.expectedNode,e)}},"1a2d":function(e,t,n){var i=n("e330"),r=n("7b0b"),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},"1aff":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485");function r(e){return(0,i.isIdentifier)(e)?e.name:`${e.right.name}.${r(e.left)}`}function o(e){const t=new Map,n=new Map,s=new Set,a=[];for(let l=0;l<e.length;l++){const c=e[l];if(c&&!(a.indexOf(c)>=0)){if((0,i.isTSAnyKeyword)(c))return[c];if((0,i.isTSBaseType)(c))n.set(c.type,c);else if((0,i.isTSUnionType)(c))s.has(c.types)||(e.push(...c.types),s.add(c.types));else if((0,i.isTSTypeReference)(c)&&c.typeParameters){const e=r(c.typeName);if(t.has(e)){let n=t.get(e);n.typeParameters?c.typeParameters&&(n.typeParameters.params=o(n.typeParameters.params.concat(c.typeParameters.params))):n=c.typeParameters}else t.set(e,c)}else a.push(c)}}for(const[,i]of n)a.push(i);for(const[,i]of t)a.push(i);return a}},"1bb4":function(e,t,n){"use strict";(function(e){var i,r=n("7384"),o=n("3f19"),s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},a=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},l=Object.prototype.hasOwnProperty;function c(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function u(e){var t,n=/([^=?&]+)=?([^&]*)/g,i={};while(t=n.exec(e)){var r=c(t[1]),o=c(t[2]);null===r||null===o||r in i||(i[r]=o)}return i}function h(e,t){t=t||"";var n,r,o=[];for(r in"string"!==typeof t&&(t="?"),e)if(l.call(e,r)){if(n=e[r],n||null!==n&&n!==i&&!isNaN(n)||(n=""),r=encodeURIComponent(r),n=encodeURIComponent(n),null===r||null===n)continue;o.push(r+"="+n)}return o.length?t+o.join("&"):""}var d=h,f=u,p={stringify:d,parse:f},m=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,g=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,A=/^[a-zA-Z]:/,y="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",v=new RegExp("^"+y+"+");function b(e){return(e||"").toString().replace(v,"")}var _=[["#","hash"],["?","query"],function(e,t){return S(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],w={hash:1,query:1};function x(e){var t;t="undefined"!==typeof window?window:"undefined"!==typeof s?s:"undefined"!==typeof self?self:{};var n=t.location||{};e=e||n;var i,r={},o=typeof e;if("blob:"===e.protocol)r=new M(unescape(e.pathname),{});else if("string"===o)for(i in r=new M(e,{}),w)delete r[i];else if("object"===o){for(i in e)i in w||(r[i]=e[i]);void 0===r.slashes&&(r.slashes=m.test(e.href))}return r}function S(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function T(e,t){e=b(e),t=t||{};var n,i=g.exec(e),r=i[1]?i[1].toLowerCase():"",o=!!i[2],s=!!i[3],a=0;return o?s?(n=i[2]+i[3]+i[4],a=i[2].length+i[3].length):(n=i[2]+i[4],a=i[2].length):s?(n=i[3]+i[4],a=i[3].length):n=i[4],"file:"===r?a>=2&&(n=n.slice(2)):S(r)?n=i[4]:r?o&&(n=n.slice(2)):a>=2&&S(t.protocol)&&(n=i[4]),{protocol:r,slashes:o||S(r),slashesCount:a,rest:n}}function E(e,t){if(""===e)return t;var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=n[i-1],o=!1,s=0;while(i--)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(o=!0),n.splice(i,1),s--);return o&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}function M(e,t,n){if(e=b(e),!(this instanceof M))return new M(e,t,n);var i,r,o,s,l,c,u=_.slice(),h=typeof t,d=this,f=0;for("object"!==h&&"string"!==h&&(n=t,t=null),n&&"function"!==typeof n&&(n=p.parse),t=x(t),r=T(e||"",t),i=!r.protocol&&!r.slashes,d.slashes=r.slashes||i&&t.slashes,d.protocol=r.protocol||t.protocol||"",e=r.rest,("file:"===r.protocol&&(2!==r.slashesCount||A.test(e))||!r.slashes&&(r.protocol||r.slashesCount<2||!S(d.protocol)))&&(u[3]=[/(.*)/,"pathname"]);f<u.length;f++)s=u[f],"function"!==typeof s?(o=s[0],c=s[1],o!==o?d[c]=e:"string"===typeof o?~(l=e.indexOf(o))&&("number"===typeof s[2]?(d[c]=e.slice(0,l),e=e.slice(l+s[2])):(d[c]=e.slice(l),e=e.slice(0,l))):(l=o.exec(e))&&(d[c]=l[1],e=e.slice(0,l.index)),d[c]=d[c]||i&&s[3]&&t[c]||"",s[4]&&(d[c]=d[c].toLowerCase())):e=s(e,d);n&&(d.query=n(d.query)),i&&t.slashes&&"/"!==d.pathname.charAt(0)&&(""!==d.pathname||""!==t.pathname)&&(d.pathname=E(d.pathname,t.pathname)),"/"!==d.pathname.charAt(0)&&S(d.protocol)&&(d.pathname="/"+d.pathname),a(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(s=d.auth.split(":"),d.username=s[0]||"",d.password=s[1]||""),d.origin="file:"!==d.protocol&&S(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function C(e,t,n){var i=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||p.parse)(t)),i[e]=t;break;case"port":i[e]=t,a(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var r="pathname"===e?"/":"#";i[e]=t.charAt(0)!==r?r+t:t}else i[e]=t;break;default:i[e]=t}for(var o=0;o<_.length;o++){var s=_[o];s[4]&&(i[s[1]]=i[s[1]].toLowerCase())}return i.origin="file:"!==i.protocol&&S(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function O(e){e&&"function"===typeof e||(e=p.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.slashes||S(n.protocol)?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,t="object"===typeof n.query?e(n.query):n.query,t&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}M.prototype={set:C,toString:O},M.extractProtocol=T,M.location=x,M.trimLeft=b,M.qs=p;var k=M;function P(e){var t=new k(e);t.host||(t.href=t.href);var n=t.pathname;"/"!==n.charAt(0)&&(n="/"+n);var i=t.host;return"80"!==t.port&&"443"!==t.port||(i=t.hostname),{host:i,protocol:t.protocol,search:t.query,hash:t.hash,href:t.href,pathname:n,fullpath:n+(t.query||"")+(t.hash||"")}}var I=function(){function e(){this.verbs={GET:new r["a"],PUT:new r["a"],POST:new r["a"],DELETE:new r["a"],PATCH:new r["a"],HEAD:new r["a"],OPTIONS:new r["a"]}}return e}(),R=function(){function e(){this.registries={}}return e.prototype.forURL=function(e){var t=P(e).host,n=this.registries[t];return void 0===n&&(n=this.registries[t]=new I),n.verbs},e}(),D="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof D&&D,L={searchParams:"URLSearchParams"in D,iterable:"Symbol"in D&&"iterator"in Symbol,blob:"FileReader"in D&&"Blob"in D&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in D,arrayBuffer:"ArrayBuffer"in D};function N(e){return e&&DataView.prototype.isPrototypeOf(e)}if(L.arrayBuffer)var B=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],F=ArrayBuffer.isView||function(e){return e&&B.indexOf(Object.prototype.toString.call(e))>-1};function j(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function U(e){return"string"!==typeof e&&(e=String(e)),e}function z(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return L.iterable&&(t[Symbol.iterator]=function(){return t}),t}function q(e){this.map={},e instanceof q?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function V(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function H(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function G(e){var t=new FileReader,n=H(t);return t.readAsArrayBuffer(e),n}function W(e){var t=new FileReader,n=H(t);return t.readAsText(e),n}function $(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function X(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Y(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:L.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:L.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:L.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():L.arrayBuffer&&L.blob&&N(e)?(this._bodyArrayBuffer=X(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):L.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||F(e))?this._bodyArrayBuffer=X(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):L.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},L.blob&&(this.blob=function(){var e=V(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=V(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(G)}),this.text=function(){var e=V(this);if(e)return e;if(this._bodyBlob)return W(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},L.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}q.prototype.append=function(e,t){e=j(e),t=U(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},q.prototype["delete"]=function(e){delete this.map[j(e)]},q.prototype.get=function(e){return e=j(e),this.has(e)?this.map[e]:null},q.prototype.has=function(e){return this.map.hasOwnProperty(j(e))},q.prototype.set=function(e,t){this.map[j(e)]=U(t)},q.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},q.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),z(e)},q.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),z(e)},q.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),z(e)},L.iterable&&(q.prototype[Symbol.iterator]=q.prototype.entries);var K=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Q(e){var t=e.toUpperCase();return K.indexOf(t)>-1?t:e}function J(e,t){if(!(this instanceof J))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof J){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new q(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new q(t.headers)),this.method=Q(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{var r=/\?/;this.url+=(r.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Z(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function ee(e){var t=new q,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t}function te(e,t){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new q(t.headers),this.url=t.url||"",this._initBody(e)}J.prototype.clone=function(){return new J(this,{body:this._bodyInit})},Y.call(J.prototype),Y.call(te.prototype),te.prototype.clone=function(){return new te(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new q(this.headers),url:this.url})},te.error=function(){var e=new te(null,{status:0,statusText:""});return e.type="error",e};var ne=[301,302,303,307,308];te.redirect=function(e,t){if(-1===ne.indexOf(t))throw new RangeError("Invalid status code");return new te(null,{status:t,headers:{location:e}})};var ie=D.DOMException;try{new ie}catch(pe){ie=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie}function re(e,t){return new Promise((function(n,i){var r=new J(e,t);if(r.signal&&r.signal.aborted)return i(new ie("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}function a(e){try{return""===e&&D.location.href?D.location.href:e}catch(t){return e}}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:ee(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;setTimeout((function(){n(new te(t,e))}),0)},o.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){i(new ie("Aborted","AbortError"))}),0)},o.open(r.method,a(r.url),!0),"include"===r.credentials?o.withCredentials=!0:"omit"===r.credentials&&(o.withCredentials=!1),"responseType"in o&&(L.blob?o.responseType="blob":L.arrayBuffer&&r.headers.get("Content-Type")&&-1!==r.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof q?r.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,U(t.headers[e]))})),r.signal&&(r.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&r.signal.removeEventListener("abort",s)}),o.send("undefined"===typeof r._bodyInit?null:r._bodyInit)}))}re.polyfill=!0,D.fetch||(D.fetch=re,D.Headers=q,D.Request=J,D.Response=te);var oe=Object.freeze({__proto__:null,Headers:q,Request:J,Response:te,get DOMException(){return ie},fetch:re});function se(e,t){var n,i=["error","timeout","abort","readystatechange"],r=[],o=["readyState","responseText","response","responseXML","responseURL","status","statusText"],s=e._passthroughRequest=new t;function a(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}}function l(e,t,n){e.dispatchEvent(n),e["on"+t]&&e["on"+t](n)}function c(t){s["on"+t]=function(n){a(o,s,e),l(e,t,n)}}function u(t){s.upload&&e.upload&&e.upload["on"+t]&&(s.upload["on"+t]=function(n){l(e.upload,t,n)})}s.open(e.method,e.url,e.async,e.username,e.password),"arraybuffer"===e.responseType&&(o=["readyState","response","status","statusText"],s.responseType=e.responseType),"onload"in s&&i.push("load"),e.async&&"arraybuffer"!==e.responseType&&(i.push("progress"),r.push("progress"));for(n=0;n<i.length;n++)c(i[n]);for(n=0;n<r.length;n++)u(r[n]);for(var h in e.async&&(s.timeout=e.timeout,s.withCredentials=e.withCredentials),s.timeout||0===s.timeout||(s.timeout=0),e.requestHeaders)s.setRequestHeader(h,e.requestHeaders[h]);return s}function ae(e){function t(){o["a"].call(this)}return t.prototype=Object.create(o["a"].prototype),t.prototype.constructor=t,t.prototype.send=function(){if(this.sendArguments=arguments,!e.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to");o["a"].prototype.send.apply(this,arguments),e.pretender.checkPassthrough(this)?this.passthrough():e.pretender.handleRequest(this)},t.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first");var t=se(this,e.pretender._nativeXMLHttpRequest);return t.send.apply(t,this.sendArguments),t},t.prototype._passthroughCheck=function(e,t){return this._passthroughRequest?this._passthroughRequest[e].apply(this._passthroughRequest,t):o["a"].prototype[e].apply(this,t)},t.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},t.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},t.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},e.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),t}var le=function(){function e(){this.length=0}return e.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0},e}();function ce(e,t,n){var i=0,r=e.requestBody;r&&(r instanceof FormData?r.forEach((function(e){e instanceof File?i+=e.size:i+=e.length})):i=r.byteLength||r.size||r.length||0),setTimeout((function(){if(e.aborted||e.status)e.status&&(e.upload._progress(!0,i,i),e._progress(!0,i,i));else{var r=(new Date).getTime()-t.getTime(),o=n<=0?0:r/n*i;e.upload._progress(!0,o,i),e._progress(!0,o,i),ce(e,t,n)}}),50)}function ue(e){return"[object Array]"===Object.prototype.toString.call(e)}var he={};function de(e){return function(t,n,i){return this.register(e,t,n,i)}}var fe=function(){function e(){var e=this;this.hosts=new R,this.handlers=[],this.get=de("GET"),this.post=de("POST"),this.put=de("PUT"),this.delete=de("DELETE"),this.patch=de("PATCH"),this.head=de("HEAD"),this.options=de("OPTIONS"),this.passthrough=he;var t=arguments[arguments.length-1],n="object"===typeof t?t:null,i=n&&!1===n.trackRequests;this.handledRequests=i?new le:[],this.passthroughRequests=i?new le:[],this.unhandledRequests=i?new le:[],this.requestReferences=[],this.forcePassthrough=n&&!0===n.forcePassthrough,this.disableUnhandled=n&&!0===n.disableUnhandled,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1;var r={pretender:this};this.ctx=r,self.XMLHttpRequest=ae(r),this._fetchProps=oe?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach((function(t){e["_native"+t]=self[t],self[t]=oe[t]}),this),this.running=!0;for(var o=n?arguments.length-1:arguments.length,s=0;s<o;s++)this.map(arguments[s])}return e.prototype.map=function(e){e.call(this)},e.prototype.register=function(e,t,n,i){if(!n)throw new Error("The function you tried passing to Pretender to handle "+e+" "+t+" is undefined or missing.");var r=n;r.numberOfCalls=0,r.async=i,this.handlers.push(r);var o=this.hosts.forURL(t)[e];return o.add([{path:P(t).fullpath,handler:r}]),r},e.prototype.checkPassthrough=function(e){var t=e.method.toUpperCase(),n=P(e.url).fullpath,i=this.hosts.forURL(e.url)[t].recognize(n),r=i&&i[0];return!!(r&&r.handler===he||this.forcePassthrough)&&(this.passthroughRequests.push(e),this.passthroughRequest(t,n,e),!0)},e.prototype.handleRequest=function(e){var t=e.method.toUpperCase(),n=e.url,i=this._handlerFor(t,n,e);if(i){i.handler.numberOfCalls++;var r=i.handler.async;this.handledRequests.push(e);var o=this,s=function(i){if(!ue(i)){var s="Remember to `return [status, headers, body];` in your route handler.";throw new Error("Nothing returned by handler for "+n+". "+s)}var a=i[0],l=o.prepareHeaders(i[1]),c=o.prepareBody(i[2],l);o.handleResponse(e,r,(function(){e.respond(a,l,c),o.handledRequest(t,n,e)}))};try{var a=i.handler(e);a&&"function"===typeof a.then?a.then((function(e){s(e)})):s(a)}catch(l){this.erroredRequest(t,n,e,l),this.resolve(e)}}else this.disableUnhandled||(this.unhandledRequests.push(e),this.unhandledRequest(t,n,e))},e.prototype.handleResponse=function(e,t,n){var i="function"===typeof t?t():t;if(i="boolean"===typeof i||"number"===typeof i?i:0,!1===i)n();else{var r=this;r.requestReferences.push({request:e,callback:n}),!0!==i&&(ce(e,new Date,i),setTimeout((function(){r.resolve(e)}),i))}},e.prototype.resolve=function(e){for(var t=0,n=this.requestReferences.length;t<n;t++){var i=this.requestReferences[t];if(i.request===e){i.callback(),this.requestReferences.splice(t,1);break}}},e.prototype.requiresManualResolution=function(e,t){var n=this._handlerFor(e.toUpperCase(),t,{});if(!n)return!1;var i=n.handler.async;return"function"===typeof i?!0===i():!0===i},e.prototype.prepareBody=function(e,t){return e},e.prototype.prepareHeaders=function(e){return e},e.prototype.handledRequest=function(e,t,n){},e.prototype.passthroughRequest=function(e,t,n){},e.prototype.unhandledRequest=function(e,t,n){throw new Error("Pretender intercepted "+e+" "+t+" but no handler was defined for this type of request")},e.prototype.erroredRequest=function(e,t,n,i){throw i.message="Pretender intercepted "+e+" "+t+" but encountered an error: "+i.message,i},e.prototype.shutdown=function(){var e=this;self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach((function(t){self[t]=e["_native"+t]}),this),this.ctx.pretender=void 0,this.running=!1},e.prototype._handlerFor=function(e,t,n){var i=this.hosts.forURL(t)[e],r=i.recognize(P(t).fullpath),o=r?r[0]:null;return o&&(n.params=o.params,n.queryParams=r.queryParams),o},e.parseURL=P,e.Hosts=R,e.Registry=I,e}();fe.parseURL=P,fe.Hosts=R,fe.Registry=I,t["a"]=fe}).call(this,n("c8ba"))},"1c35":function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n("1fb5"),r=n("9152"),o=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,n,i):"string"===typeof t?p(e,t,n):A(e,t)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,n,i){return h(t),t<=0?l(e,t):void 0!==n?"string"===typeof i?l(e,t).fill(n,i):l(e,t).fill(n):l(e,t)}function f(e,t){if(h(t),e=l(e,t<0?0:0|y(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|b(t,n);e=l(e,i);var r=e.write(t,n);return r!==i&&(e=e.slice(0,r)),e}function m(e,t){var n=t.length<0?0:0|y(t.length);e=l(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function g(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=m(e,t),e}function A(e,t){if(c.isBuffer(t)){var n=0|y(t.length);return e=l(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?l(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),c.alloc(+e)}function b(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(i)return K(e).length;t=(""+t).toLowerCase(),i=!0}}function _(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return B(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function w(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function x(e,t,n,i,r){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:S(e,t,n,i,r);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,i,r){var o,s=1,a=e.length,l=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function T(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function E(e,t,n,i){return ee(K(t,e.length-n),e,n,i)}function M(e,t,n,i){return ee(Q(t),e,n,i)}function C(e,t,n,i){return M(e,t,n,i)}function O(e,t,n,i){return ee(Z(t),e,n,i)}function k(e,t,n,i){return ee(J(t,e.length-n),e,n,i)}function P(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);var i=[],r=t;while(r<n){var o,s,a,l,c=e[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:o=e[r+1],128===(192&o)&&(l=(31&c)<<6|63&o,l>127&&(u=l));break;case 3:o=e[r+1],s=e[r+2],128===(192&o)&&128===(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return D(i)}t.Buffer=c,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return d(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):_.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,s=n-t,a=Math.min(o,s),l=this.slice(i,r),u=e.slice(t,n),h=0;h<a;++h)if(l[h]!==u[h]){o=l[h],s=u[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return x(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return x(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return M(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function D(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",i=0;while(i<t)n+=String.fromCharCode.apply(String,e.slice(i,i+=R));return n}function L(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function N(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function B(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=Y(e[o]);return r}function F(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function j(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function z(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function q(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function V(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,i,o){return o||V(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function G(e,t,n,i,o){return o||V(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);var i=this[e],r=1,o=0;while(++o<t&&(r*=256))i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);var i=this[e+--t],r=1;while(t>0&&(r*=256))i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);var i=this[e],r=1,o=0;while(++o<t&&(r*=256))i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);var i=t,r=1,o=this[e+--i];while(i>0&&(r*=256))o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;U(this,e,t,n,r,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;U(this,e,t,n,r,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):q(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):q(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return G(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return G(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:K(new c(e,i).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function $(e){if(e=X(e).replace(W,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function X(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function K(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],s=0;s<i;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,i,r,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i)}return o}function Z(e){return i.toByteArray($(e))}function ee(e,t,n,i){for(var r=0;r<i;++r){if(r+n>=t.length||r>=e.length)break;t[r+n]=e[r]}return r}function te(e){return e!==e}}).call(this,n("c8ba"))},"1cf8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("bf78");function r(e){return(0,i.default)(e,!1)}},"1d1c":function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var i=n("b622"),r=i("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},"069b":function(e,t,n){"use strict";var i=n("41fa"),r=n("3df9"),o=n("dd14"),s=n("9fc2")||0;function a(t){return i.seed(t),e.exports}function l(t){return s=t,e.exports}function c(e){return void 0!==e&&i.characters(e),i.shuffled()}function u(){return r(s)}e.exports=u,e.exports.generate=u,e.exports.seed=a,e.exports.worker=l,e.exports.characters=c,e.exports.isValid=o},"06cf":function(e,t,n){var i=n("83ab"),r=n("c65b"),o=n("d1e7"),s=n("5c6c"),a=n("fc6a"),l=n("a04b"),c=n("1a2d"),u=n("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(n){}if(c(e,t))return s(!r(o.f,e,t),e[t])}},"07fa":function(e,t,n){var i=n("50c4");e.exports=function(e){return i(e.length)}},"091d":function(e,t,n){"use strict";var i,r="object"===typeof window&&(window.crypto||window.msCrypto);i=r&&r.getRandomValues?function(e){return r.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=i},"0cfb":function(e,t,n){var i=n("83ab"),r=n("d039"),o=n("cc12");e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(e,t,n){var i=n("da84"),r=i.String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},"0fe3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n("3041"),o=u(r),s=n("308c"),a=u(s),l=n("dc91"),c=u(l);function u(e){return e&&e.__esModule?e:{default:e}}var h=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,o.default)();if(h||(h=(0,a.default)(r)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=c.default.proxyEvents(r);var s=new Promise((function(n){if("object"===("undefined"===typeof e?"undefined":i(e))&&e.playVideo instanceof Function){var o=e;n(o)}else h.then((function(i){var o=new i.Player(e,t);return r.on("ready",(function(){n(o)})),null}))})),l=c.default.promisifyPlayer(s,n);return l.on=r.on,l.off=r.off,l},e.exports=t["default"]},1626:function(e,t){e.exports=function(e){return"function"==typeof e}},"1a2d":function(e,t,n){var i=n("e330"),r=n("7b0b"),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},"1adc":function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r,s=365.25*o;function a(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),l=(t[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function l(e){return e>=o?Math.round(e/o)+"d":e>=r?Math.round(e/r)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}function c(e){return u(e,o,"day")||u(e,r,"hour")||u(e,i,"minute")||u(e,n,"second")||e+" ms"}function u(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return a(e);if("number"===n&&!1===isNaN(e))return t.long?c(e):l(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"1d80":function(e,t,n){var i=n("da84"),r=i.TypeError;e.exports=function(e){if(void 0==e)throw r("Can't call method on "+e);return e}},"23cb":function(e,t,n){var i=n("5926"),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},"241c":function(e,t,n){var i=n("ca84"),r=n("7839"),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},"2d00":function(e,t,n){var i,r,o=n("da84"),s=n("342f"),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),e.exports=r},3041:function(e,t,n){"use strict";var i;
/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/i=function(){var e={},t={};return e.on=function(e,n){var i={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(i),i},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var i,r=t[e];if(r){i=r.length;while(i--)r[i].handler(n)}},e},e.exports=i},"308c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("32e6"),r=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,r.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){i&&i(),t(window.YT)}}}));return t},e.exports=t["default"]},"32e6":function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function i(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof t&&(o=t,t={}),t=t||{},o=o||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&n(a,t.attrs),t.text&&(a.text=""+t.text);var l="onload"in a?i:r;l(a,o),a.onload||i(a,o),s.appendChild(a)}},"342f":function(e,t,n){var i=n("d066");e.exports=i("navigator","userAgent")||""},"3a9b":function(e,t,n){var i=n("e330");e.exports=i({}.isPrototypeOf)},"3bbe":function(e,t,n){var i=n("da84"),r=n("1626"),o=i.String,s=i.TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},"3df9":function(e,t,n){"use strict";var i,r,o=n("bd92"),s=(n("41fa"),1567752802062),a=7;function l(e){var t="",n=Math.floor(.001*(Date.now()-s));return n===r?i++:(i=0,r=n),t+=o(a),t+=o(e),i>0&&(t+=o(i)),t+=o(n),t}e.exports=l},"408a":function(e,t,n){var i=n("e330");e.exports=i(1..valueOf)},"40d5":function(e,t,n){var i=n("d039");e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"41fa":function(e,t,n){"use strict";var i,r,o,s=n("7eac"),a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function l(){o=!1}function c(e){if(e){if(e!==i){if(e.length!==a.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. These characters were not unique: "+t.join(", "));i=e,l()}}else i!==a&&(i=a,l())}function u(e){return c(e),i}function h(e){s.seed(e),r!==e&&(l(),r=e)}function d(){i||c(a);var e,t=i.split(""),n=[],r=s.nextValue();while(t.length>0)r=s.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}function f(){return o||(o=d(),o)}function p(e){var t=f();return t[e]}function m(){return i||a}e.exports={get:m,characters:u,seed:h,lookup:p,shuffled:f}},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,i="/";t.cwd=function(){return i},t.chdir=function(t){e||(e=n("df7c")),i=e.resolve(t,i)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var i=n("da84"),r=n("e330"),o=n("d039"),s=n("c6b6"),a=i.Object,l=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?l(e,""):a(e)}:a},"485a":function(e,t,n){var i=n("da84"),r=n("c65b"),o=n("1626"),s=n("861d"),a=i.TypeError;e.exports=function(e,t){var n,i;if("string"===t&&o(n=e.toString)&&!s(i=r(n,e)))return i;if(o(n=e.valueOf)&&!s(i=r(n,e)))return i;if("string"!==t&&o(n=e.toString)&&!s(i=r(n,e)))return i;throw a("Can't convert object to primitive value")}},4930:function(e,t,n){var i=n("2d00"),r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},"4d64":function(e,t,n){var i=n("fc6a"),r=n("23cb"),o=n("07fa"),s=function(e){return function(t,n,s){var a,l=i(t),c=o(l),u=r(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(e,t,n){var i=n("5926"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},5692:function(e,t,n){var i=n("c430"),r=n("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"577e":function(e,t,n){var i=n("da84"),r=n("f5df"),o=i.String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var i=n("e330"),r=n("1d80"),o=n("577e"),s=n("5899"),a=i("".replace),l="["+s+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),h=function(e){return function(t){var n=o(r(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,u,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},5926:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){var t=+e;return t!==t||0===t?0:(t>0?i:n)(t)}},"59ed":function(e,t,n){var i=n("da84"),r=n("1626"),o=n("0d51"),s=i.TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not a function")}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5cb1":function(e,t){e.exports=function(e,t,n){var i=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*i*n/t.length),o="";while(1){var s=e(r),a=r;while(a--)if(o+=t[s[a]&i]||"",o.length===+n)return o}}},"5e77":function(e,t,n){var i=n("83ab"),r=n("1a2d"),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},"69f3":function(e,t,n){var i,r,o,s=n("7f9a"),a=n("da84"),l=n("e330"),c=n("861d"),u=n("9112"),h=n("1a2d"),d=n("c6cd"),f=n("f772"),p=n("d012"),m="Object already initialized",g=a.TypeError,A=a.WeakMap,y=function(e){return o(e)?r(e):i(e,{})},v=function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var b=d.state||(d.state=new A),_=l(b.get),w=l(b.has),x=l(b.set);i=function(e,t){if(w(b,e))throw new g(m);return t.facade=e,x(b,e,t),t},r=function(e){return _(b,e)||{}},o=function(e){return w(b,e)}}else{var S=f("state");p[S]=!0,i=function(e,t){if(h(e,S))throw new g(m);return t.facade=e,u(e,S,t),t},r=function(e){return h(e,S)?e[S]:{}},o=function(e){return h(e,S)}}e.exports={set:i,get:r,has:o,enforce:y,getterFor:v}},"6b0d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n}},"6eeb":function(e,t,n){var i=n("da84"),r=n("1626"),o=n("1a2d"),s=n("9112"),a=n("ce4e"),l=n("8925"),c=n("69f3"),u=n("5e77").CONFIGURABLE,h=c.get,d=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,l){var c,h=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,m=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:t;r(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||u&&n.name!==g)&&s(n,"name",g),c=d(n),c.source||(c.source=f.join("string"==typeof g?g:""))),e!==i?(h?!m&&e[t]&&(p=!0):delete e[t],p?e[t]=n:s(e,t,n)):p?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return r(this)&&h(this).source||l(this)}))},7134:function(e,t,n){(function(i){function r(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),e.splice(o,0,i)}}function s(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function l(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof i&&"env"in i&&(e=Object({NODE_ENV:"production",BASE_URL:"/"}).DEBUG),e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=n("e2a0"),t.log=s,t.formatArgs=o,t.save=a,t.load=l,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(l())}).call(this,n("4362"))},7156:function(e,t,n){var i=n("1626"),r=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var s,a;return o&&i(s=t.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var i=n("da84"),r=n("1d80"),o=i.Object;e.exports=function(e){return o(r(e))}},"7eac":function(e,t,n){"use strict";var i=1;function r(){return i=(9301*i+49297)%233280,i/233280}function o(e){i=e}e.exports={nextValue:r,seed:o}},"7f9a":function(e,t,n){var i=n("da84"),r=n("1626"),o=n("8925"),s=i.WeakMap;e.exports=r(s)&&/native code/.test(o(s))},"825a":function(e,t,n){var i=n("da84"),r=n("861d"),o=i.String,s=i.TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not an object")}},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t,n){var i=n("1626");e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},8875:function(e,t,n){var i,r,o;(function(n,s){r=[],i=s,o="function"===typeof i?i.apply(t,r):i,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,i,r,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(f.stack)||s.exec(f.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(i,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===l)return h[d];if(l===u&&h[d].innerHTML&&h[d].innerHTML.trim()===r)return h[d]}return null}}return e}))},8925:function(e,t,n){var i=n("e330"),r=n("1626"),o=n("c6cd"),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},"8bbf":function(e,t){e.exports=n("7a23")},"8dee":function(e,t,n){"use strict";e.exports=n("069b")},"90e3":function(e,t,n){var i=n("e330"),r=0,o=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+o,36)}},9112:function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("5c6c");e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var i=n("d039"),r=n("1626"),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(r(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},"9bf2":function(e,t,n){var i=n("da84"),r=n("83ab"),o=n("0cfb"),s=n("aed9"),a=n("825a"),l=n("a04b"),c=i.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?s?function(e,t,n){if(a(e),t=l(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var i=h(e,t);i&&i[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:d in n?n[d]:i[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=l(t),a(n),o)try{return u(e,t,n)}catch(i){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9fc2":function(e,t,n){"use strict";e.exports=0},a04b:function(e,t,n){var i=n("c04e"),r=n("d9b5");e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},a9e3:function(e,t,n){"use strict";var i=n("83ab"),r=n("da84"),o=n("e330"),s=n("94ca"),a=n("6eeb"),l=n("1a2d"),c=n("7156"),u=n("3a9b"),h=n("d9b5"),d=n("c04e"),f=n("d039"),p=n("241c").f,m=n("06cf").f,g=n("9bf2").f,A=n("408a"),y=n("58a8").trim,v="Number",b=r[v],_=b.prototype,w=r.TypeError,x=o("".slice),S=o("".charCodeAt),T=function(e){var t=d(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,n,i,r,o,s,a,l,c=d(e,"number");if(h(c))throw w("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=y(c),t=S(c,0),43===t||45===t){if(n=S(c,2),88===n||120===n)return NaN}else if(48===t){switch(S(c,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=x(c,2),s=o.length,a=0;a<s;a++)if(l=S(o,a),l<48||l>r)return NaN;return parseInt(o,i)}return+c};if(s(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var M,C=function(e){var t=arguments.length<1?0:b(T(e)),n=this;return u(_,n)&&f((function(){A(n)}))?c(Object(t),n,C):t},O=i?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),k=0;O.length>k;k++)l(b,M=O[k])&&!l(C,M)&&g(C,M,m(b,M));C.prototype=_,_.constructor=C,a(r,v,C)}},aed9:function(e,t,n){var i=n("83ab"),r=n("d039");e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b3fa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t["default"]},b622:function(e,t,n){var i=n("da84"),r=n("5692"),o=n("1a2d"),s=n("90e3"),a=n("4930"),l=n("fdbf"),c=r("wks"),u=i.Symbol,h=u&&u["for"],d=l?u:u&&u.withoutSetter||s;e.exports=function(e){if(!o(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&o(u,e)?c[e]=u[e]:c[e]=l&&h?h(t):d(t)}return c[e]}},b74c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t["default"]},bbab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t["default"]},bd92:function(e,t,n){"use strict";var i=n("41fa"),r=n("091d"),o=n("5cb1");function s(e){var t,n=0,s="";while(!t)s+=o(r,i.get(),1),t=e<Math.pow(16,n+1),n++;return s}e.exports=s},c04e:function(e,t,n){var i=n("da84"),r=n("c65b"),o=n("861d"),s=n("d9b5"),a=n("dc4a"),l=n("485a"),c=n("b622"),u=i.TypeError,h=c("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,i=a(e,h);if(i){if(void 0===t&&(t="default"),n=r(i,e,t),!o(n)||s(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},c430:function(e,t){e.exports=!1},c65b:function(e,t,n){var i=n("40d5"),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},c6b6:function(e,t,n){var i=n("e330"),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},c6cd:function(e,t,n){var i=n("da84"),r=n("ce4e"),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var i=n("e330"),r=n("1a2d"),o=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),l=i([].push);e.exports=function(e,t){var n,i=o(e),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);while(t.length>c)r(i,n=t[c++])&&(~s(u,n)||l(u,n));return u}},cc12:function(e,t,n){var i=n("da84"),r=n("861d"),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,n){var i=n("da84"),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("da84"),r=n("1626"),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e]):i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},d2bb:function(e,t,n){var i=n("e330"),r=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},d9b5:function(e,t,n){var i=n("da84"),r=n("d066"),o=n("1626"),s=n("3a9b"),a=n("fdbf"),l=i.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&s(t.prototype,l(e))}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc4a:function(e,t,n){var i=n("59ed");e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},dc91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7134"),r=h(i),o=n("b74c"),s=h(o),a=n("b3fa"),l=h(a),c=n("e18f"),u=h(c);function h(e){return e&&e.__esModule?e:{default:e}}var d=(0,r.default)("youtube-player"),f={proxyEvents:function(e){var t={},n=function(n){var i="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[i]=function(t){d('event "%s"',i,t),e.trigger(n,t)}},i=!0,r=!1,o=void 0;try{for(var s,a=l.default[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value;n(c)}}catch(u){r=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},i=function(i){t&&u.default[i]?n[i]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.then((function(e){var t=u.default[i],r=e.getPlayerState(),o=e[i].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(r)?new Promise((function(n){var i=function i(){var r=e.getPlayerState(),o=void 0;"number"===typeof t.timeout&&(o=setTimeout((function(){e.removeEventListener("onStateChange",i),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(r)&&(e.removeEventListener("onStateChange",i),clearTimeout(o),n())};e.addEventListener("onStateChange",i)})).then((function(){return o})):o}))}:n[i]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.then((function(e){return e[i].apply(e,n)}))}},r=!0,o=!1,a=void 0;try{for(var l,c=s.default[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;i(h)}}catch(d){o=!0,a=d}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}};t.default=f,e.exports=t["default"]},dd14:function(e,t,n){"use strict";var i=n("41fa");function r(e){if(!e||"string"!==typeof e||e.length<6)return!1;var t=new RegExp("[^"+i.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}e.exports=r},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e){"string"!==typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),s="/"===o(e,-1);return e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"),e||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=i(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e18f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("bbab"),r=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t["default"]},e2a0:function(e,t,n){var i;function r(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(i||r);e.diff=o,e.prev=i,e.curr=r,i=r;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if("%%"===n)return n;l++;var r=t.formatters[i];if("function"===typeof r){var o=s[l];n=r.call(e,o),s.splice(l,1),l--}return n})),t.formatArgs.call(e,s);var c=n.log||t.log||console.log.bind(console);c.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"===typeof t.init&&t.init(n),n}function s(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function l(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o["default"]=o,t.coerce=c,t.disable=a,t.enable=s,t.enabled=l,t.humanize=n("1adc"),t.names=[],t.skips=[],t.formatters={}},e330:function(e,t,n){var i=n("40d5"),r=Function.prototype,o=r.bind,s=r.call,a=i&&o.bind(s,s);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},f5df:function(e,t,n){var i=n("da84"),r=n("00ee"),o=n("1626"),s=n("c6b6"),a=n("b622"),l=a("toStringTag"),c=i.Object,u="Arguments"==s(function(){return arguments}()),h=function(e,t){try{return e[t]}catch(n){}};e.exports=r?s:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=h(t=c(e),l))?n:u?s(t):"Object"==(i=s(t))&&o(t.callee)?"Arguments":i}},f772:function(e,t,n){var i=n("5692"),r=n("90e3"),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"YoutubeVue3",(function(){return A})),"undefined"!==typeof window){var i=window.document.currentScript,r=n("8875");i=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=n("8bbf"),a=["id"];function l(e,t,n,i,r,o){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{ref:"player",id:r.playerid},null,8,a)}n("a9e3");var c=n("0fe3"),u=n.n(c),h=n("8dee"),d=n.n(h),f={name:"YoutubeVue3",props:{width:{type:Number,default:480},height:{type:Number,default:320},autoplay:{type:Number,default:1,validator:function(e){return 0===Number(e)||1===Number(e)}},videoid:{type:String,required:!0},loop:{type:Number,default:1,validator:function(e){return 0===Number(e)||1===Number(e)}},controls:{type:Number,default:0,validator:function(e){return 0===Number(e)||1===Number(e)}},modestbranding:{type:Number,default:1,validator:function(e){return 0===Number(e)||1===Number(e)}}},data:function(){return{ready:0,playerid:""}},created:function(){this.playerid="youtube-vue-player-"+d.a.generate()},mounted:function(){var e=this,t={autoplay:this.autoplay,loop:this.loop,controls:this.controls,modestbranding:this.modestbranding,playlist:this.video_id};this.player=u()(this.playerid,{host:"https://www.youtube.com",width:this.width,height:this.height,videoId:this.videoid,playerVars:t}),this.player.on("stateChange",(function(t){t.data===window.YT.PlayerState.ENDED?e.$emit("ended"):t.data===window.YT.PlayerState.PAUSED?e.$emit("paused"):t.data===window.YT.PlayerState.PLAYING&&e.$emit("played")}))},unmounted:function(){this.player.destroy(),delete this.player},watch:{videoid:function(){this.player.loadVideoById(this.videoid),this.player.playVideo()},list:function(){this.player.getPlaylist(this.list),this.player.playVideo()}}},p=n("6b0d"),m=n.n(p);const g=m()(f,[["render",l]]);var A=g,y=function(e){e.component("youtube-vue3",A)},v=y;t["default"]=v},fc6a:function(e,t,n){var i=n("44ad"),r=n("1d80");e.exports=function(e){return i(r(e))}},fdbf:function(e,t,n){var i=n("4930");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},"1d80":function(e,t,n){var i=n("7234"),r=TypeError;e.exports=function(e){if(i(e))throw r("Can't call method on "+e);return e}},"1f5c":function(e,t){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/;function a(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}var l=Object.prototype,c=l.hasOwnProperty,u=l.toString,h=l.propertyIsEnumerable;function d(e,t){var n=b(e)||v(e)?a(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!c.call(e,o)||r&&("length"==o||g(o,i))||n.push(o);return n}var f=m();function p(e){if(!T(e))return y(e);var t=A(e),n=[];for(var i in e)("constructor"!=i||!t&&c.call(e,i))&&n.push(i);return n}function m(e){return function(t,n,i){var r=-1,o=Object(t),s=i(t),a=s.length;while(a--){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}function g(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function A(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||l;return e===n}function y(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function v(e){return w(e)&&c.call(e,"callee")&&(!h.call(e,"callee")||u.call(e)==i)}var b=Array.isArray;function _(e){return null!=e&&S(e.length)&&!x(e)}function w(e){return E(e)&&_(e)}function x(e){var t=T(e)?u.call(e):"";return t==r||t==o}function S(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}function M(e,t){return null==e?e:f(e,"function"==typeof t?t:O,C)}function C(e){return _(e)?d(e,!0):p(e)}function O(e){return e}e.exports=M},"1fb5":function(e,t,n){"use strict";t.byteLength=u,t.toByteArray=d,t.fromByteArray=m;for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}function u(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function h(e,t,n){return 3*(t+n)/4-n}function d(e){var t,n,i=c(e),s=i[0],a=i[1],l=new o(h(e,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function f(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function p(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(f(i));return r.join("")}function m(e){for(var t,n=e.length,r=n%3,o=[],s=16383,a=0,l=n-r;a<l;a+=s)o.push(p(e,a,a+s>l?l:a+s));return 1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"1fd5":function(e,t,n){"use strict";(function(e,i){n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return ne})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return $})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return ie})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return Q})),n.d(t,"p",(function(){return ae})),n.d(t,"q",(function(){return te})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return w})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return ue})),n.d(t,"w",(function(){return M})),n.d(t,"x",(function(){return W})),n.d(t,"y",(function(){return k})),n.d(t,"z",(function(){return Y})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return L})),n.d(t,"C",(function(){return C})),n.d(t,"D",(function(){return O})),n.d(t,"E",(function(){return R})),n.d(t,"F",(function(){return P})),n.d(t,"G",(function(){return D})),n.d(t,"H",(function(){return G})),n.d(t,"I",(function(){return q})),n.d(t,"J",(function(){return K})),n.d(t,"K",(function(){return Z})),n.d(t,"L",(function(){return ee})),n.d(t,"M",(function(){return X})),n.d(t,"N",(function(){return ce})),n.d(t,"O",(function(){return le})),n.d(t,"P",(function(){return V})),n.d(t,"Q",(function(){return N}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},l=function(e){const t=[];let n=0,i=0;while(n<e.length){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=e[n++],s=e[n++],a=e[n++],l=((7&r)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],o=r+1<e.length,s=o?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],o=r<e.length,s=o?n[e.charAt(r)]:0;++r;const a=r<e.length,l=a?n[e.charAt(r)]:64;++r;const c=r<e.length,u=c?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==l||null==u)throw Error();const h=t<<2|s>>4;if(i.push(h),64!==l){const e=s<<4&240|l>>2;if(i.push(e),64!==u){const e=l<<6&192|u;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){const t=a(e);return c.encodeByteArray(t,!0)},h=function(e){return u(e).replace(/\./g,"")},d=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&m(n)&&(e[n]=p(e[n],t[n]));return e}function m(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=()=>g().__FIREBASE_DEFAULTS__,y=()=>{if("undefined"===typeof i)return;const e=Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},v=()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&d(e[1]);return t&&JSON.parse(t)},b=()=>{try{return A()||y()||v()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},_=e=>{var t,n;return null===(n=null===(t=b())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},w=e=>{const t=_(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},x=()=>{var e;return null===(e=b())||void 0===e?void 0:e.config},S=e=>{var t;return null===(t=b())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/"+i,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[h(JSON.stringify(n)),h(JSON.stringify(s)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function C(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(M())}function O(){var t;const n=null===(t=b())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(i){return!1}}function k(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function P(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function I(){const e=M();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function R(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function D(){return!O()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){try{return"object"===typeof indexedDB}catch(e){return!1}}function N(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const B="FirebaseError";class F extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=B,Object.setPrototypeOf(this,F.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?U(r,n):"Error",s=`${this.serviceName}: ${o} (${i}).`,a=new F(i,s,n);return a}}function U(e,t){return e.replace(z,(e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`})}const z=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e){return JSON.parse(e)}function V(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(e){let t={},n={},i={},r="";try{const o=e.split(".");t=q(d(o[0])||""),n=q(d(o[1])||""),r=o[2],i=n["d"]||{},delete n["d"]}catch(o){}return{header:t,claims:n,data:i,signature:r}},G=function(e){const t=H(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},W=function(e){const t=H(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Y(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Q(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],o=t[r];if(J(n)&&J(o)){if(!Q(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function J(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Z(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ee(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach(e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}}),t}function te(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^s&(a^l),r=1518500249):(i=s^a^l,r=1859775393):u<60?(i=s&a|l&(s|a),r=2400959708):(i=s^a^l,r=3395469782);const e=(o<<5|o>>>27)+i+c+r+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;while(i<t){if(0===o)while(i<=n)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){while(i<t)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else while(i<t)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}function ie(e,t){const n=new re(e,t);return n.subscribe.bind(n)}class re{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=oe(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=se),void 0===i.error&&(i.error=se),void 0===i.complete&&(i.complete=se);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}}),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oe(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function se(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(e,t){return`${e} failed: ${t} argument `}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const le=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,o(i<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(i)-56320;r=65536+(t<<10)+n}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},ce=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ue(e){return e&&e._delegate?e._delegate:e}}).call(this,n("c8ba"),n("4362"))},"22e5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var i=n("1fd5");class r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i["a"];if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,o]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(r);n===e&&o.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(e){return e===o?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},"23bc":function(e,t,n){(function(t){var n="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",o="[object Null]",s="[object Proxy]",a="[object Undefined]",l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),h=Object.prototype,d=h.hasOwnProperty,f=h.toString,p=u.Symbol,m=p?p.toStringTag:void 0;function g(e){return null==e?void 0===e?a:o:m&&m in Object(e)?A(e):y(e)}function A(e){var t=d.call(e,m),n=e[m];try{e[m]=void 0;var i=!0}catch(o){}var r=f.call(e);return i&&(t?e[m]=n:delete e[m]),r}function y(e){return f.call(e)}function v(e){if(!b(e))return!1;var t=g(e);return t==i||t==r||t==n||t==s}function b(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=v}).call(this,n("c8ba"))},"23cb":function(e,t,n){var i=n("5926"),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},"23db":function(e,t,n){(function(e,n){var i=9007199254740991,r="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",h="[object WeakMap]",d="[object DataView]",f=/[\\^$.*+?()[\]{}|]/g,p=/^\[object .+?Constructor\]$/,m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,A=m||g||Function("return this")(),y=t&&!t.nodeType&&t,v=y&&"object"==typeof n&&n&&!n.nodeType&&n,b=v&&v.exports===y;function _(e,t){return null==e?void 0:e[t]}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function x(e,t){return function(n){return e(t(n))}}var S=Function.prototype,T=Object.prototype,E=A["__core-js_shared__"],M=function(){var e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),C=S.toString,O=T.hasOwnProperty,k=T.toString,P=RegExp("^"+C.call(O).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=b?A.Buffer:void 0,R=T.propertyIsEnumerable,D=I?I.isBuffer:void 0,L=x(Object.keys,Object),N=Y(A,"DataView"),B=Y(A,"Map"),F=Y(A,"Promise"),j=Y(A,"Set"),U=Y(A,"WeakMap"),z=!R.call({valueOf:1},"valueOf"),q=Z(N),V=Z(B),H=Z(F),G=Z(j),W=Z(U);function $(e){return k.call(e)}function X(e){if(!le(e)||Q(e))return!1;var t=se(e)||w(e)?P:p;return t.test(Z(e))}function Y(e,t){var n=_(e,t);return X(n)?n:void 0}var K=$;function Q(e){return!!M&&M in e}function J(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||T;return e===n}function Z(e){if(null!=e){try{return C.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ee(e){return ie(e)&&O.call(e,"callee")&&(!R.call(e,"callee")||k.call(e)==r)}(N&&K(new N(new ArrayBuffer(1)))!=d||B&&K(new B)!=a||F&&K(F.resolve())!=c||j&&K(new j)!=u||U&&K(new U)!=h)&&(K=function(e){var t=k.call(e),n=t==l?e.constructor:void 0,i=n?Z(n):void 0;if(i)switch(i){case q:return d;case V:return a;case H:return c;case G:return u;case W:return h}return t});var te=Array.isArray;function ne(e){return null!=e&&ae(e.length)&&!se(e)}function ie(e){return ce(e)&&ne(e)}var re=D||ue;function oe(e){if(ne(e)&&(te(e)||"string"==typeof e||"function"==typeof e.splice||re(e)||ee(e)))return!e.length;var t=K(e);if(t==a||t==u)return!e.size;if(z||J(e))return!L(e).length;for(var n in e)if(O.call(e,n))return!1;return!0}function se(e){var t=le(e)?k.call(e):"";return t==o||t==s}function ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ce(e){return!!e&&"object"==typeof e}function ue(){return!1}n.exports=oe}).call(this,n("c8ba"),n("62e4")(e))},"23e7":function(e,t,n){var i=n("da84"),r=n("06cf").f,o=n("9112"),s=n("cb2d"),a=n("6374"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,h,d,f,p,m=e.target,g=e.global,A=e.stat;if(u=g?i:A?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(h in t){if(f=t[h],e.dontCallGetSet?(p=r(u,h),d=p&&p.value):d=u[h],n=c(g?h:m+(A?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(u,h,f,e)}}},"241c":function(e,t,n){var i=n("ca84"),r=n("7839"),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},"252a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={react:!0,assertNode:!0,createTypeAnnotationBasedOnTypeof:!0,createUnionTypeAnnotation:!0,createFlowUnionType:!0,createTSUnionType:!0,cloneNode:!0,clone:!0,cloneDeep:!0,cloneDeepWithoutLoc:!0,cloneWithoutLoc:!0,addComment:!0,addComments:!0,inheritInnerComments:!0,inheritLeadingComments:!0,inheritsComments:!0,inheritTrailingComments:!0,removeComments:!0,ensureBlock:!0,toBindingIdentifierName:!0,toBlock:!0,toComputedKey:!0,toExpression:!0,toIdentifier:!0,toKeyAlias:!0,toSequenceExpression:!0,toStatement:!0,valueToNode:!0,appendToMemberExpression:!0,inherits:!0,prependToMemberExpression:!0,removeProperties:!0,removePropertiesDeep:!0,removeTypeDuplicates:!0,getBindingIdentifiers:!0,getOuterBindingIdentifiers:!0,traverse:!0,traverseFast:!0,shallowEqual:!0,is:!0,isBinding:!0,isBlockScoped:!0,isImmutable:!0,isLet:!0,isNode:!0,isNodesEquivalent:!0,isPlaceholderType:!0,isReferenced:!0,isScope:!0,isSpecifierDefault:!0,isType:!0,isValidES3Identifier:!0,isValidIdentifier:!0,isVar:!0,matchesPattern:!0,validate:!0,buildMatchMemberExpression:!0,__internal__deprecationWarning:!0};Object.defineProperty(t,"__internal__deprecationWarning",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(t,"addComment",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"addComments",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"appendToMemberExpression",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"assertNode",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"buildMatchMemberExpression",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"cloneDeepWithoutLoc",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"cloneNode",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"cloneWithoutLoc",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"createFlowUnionType",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createTSUnionType",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"createTypeAnnotationBasedOnTypeof",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"createUnionTypeAnnotation",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ensureBlock",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"getBindingIdentifiers",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(t,"getOuterBindingIdentifiers",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(t,"inheritInnerComments",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"inheritLeadingComments",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"inheritTrailingComments",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"inherits",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(t,"inheritsComments",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(t,"isBinding",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(t,"isBlockScoped",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(t,"isImmutable",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(t,"isLet",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(t,"isNodesEquivalent",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(t,"isPlaceholderType",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(t,"isReferenced",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(t,"isScope",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(t,"isSpecifierDefault",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(t,"isType",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(t,"isValidES3Identifier",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(t,"isValidIdentifier",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(t,"isVar",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(t,"matchesPattern",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(t,"prependToMemberExpression",{enumerable:!0,get:function(){return z.default}}),t.react=void 0,Object.defineProperty(t,"removeComments",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"removeProperties",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"removePropertiesDeep",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"removeTypeDuplicates",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"shallowEqual",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(t,"toBindingIdentifierName",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"toBlock",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"toComputedKey",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"toExpression",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"toIdentifier",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"toKeyAlias",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"toSequenceExpression",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"toStatement",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"traverse",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"traverseFast",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(t,"valueToNode",{enumerable:!0,get:function(){return B.default}});var r=n("da7f"),o=n("e04d"),s=n("72e7"),a=n("9b93"),l=n("04ca");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n("44d3"),u=n("629f"),h=n("62a0"),d=n("eb5b");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n("96b9");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=n("bf78"),m=n("1cf8"),g=n("c65e"),A=n("ccc7"),y=n("ef5f"),v=n("6100"),b=n("4702"),_=n("7e47"),w=n("fa5d"),x=n("a70d"),S=n("4285"),T=n("dd87"),E=n("9e80");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var M=n("9046");Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===M[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))}));var C=n("32fe"),O=n("5a5c"),k=n("7f0c"),P=n("bd6f"),I=n("d87c"),R=n("27f6"),D=n("27b5"),L=n("c49e"),N=n("9149"),B=n("9388"),F=n("b978");Object.keys(F).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===F[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return F[e]}}))}));var j=n("8042"),U=n("2c86"),z=n("d1f4"),q=n("5fac"),V=n("9973"),H=n("ead6"),G=n("c1f7"),W=n("ab02"),$=n("6083");Object.keys($).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===$[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return $[e]}}))}));var X=n("fafd"),Y=n("392e"),K=n("177b"),Q=n("4451"),J=n("8810"),Z=n("9539"),ee=n("c10d"),te=n("2f82"),ne=n("6309"),ie=n("e3d8"),re=n("b21a"),oe=n("8b44"),se=n("9a3d"),ae=n("1093"),le=n("9a00"),ce=n("b9c3"),ue=n("40a3"),he=n("fe0d"),de=n("62ea"),fe=n("57fa"),pe=n("c485");Object.keys(pe).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===pe[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return pe[e]}}))}));var me=n("075e");Object.keys(me).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===me[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return me[e]}}))}));var ge=n("a9c7");const Ae={isReactComponent:r.default,isCompatTag:o.default,buildChildren:s.default};t.react=Ae},"25a0":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n("8afd");function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=Object(i["m"])(e[r])),n),{})}function o(e){return"function"===typeof e}function s(e){return Object(i["d"])(e)||Object(i["e"])(e)}function a(e,t,n){let i=e;const r=t.split(".");for(let o=0;o<r.length;o++){if(!i[r[o]])return n;i=i[r[o]]}return i}function l(e,t,n){return Object(i["a"])(()=>e.some(e=>a(t,e,{[n]:!1})[n]))}function c(e,t,n){return Object(i["a"])(()=>e.reduce((e,i)=>{const r=a(t,i,{[n]:!1})[n]||[];return e.concat(r)},[]))}function u(e,t,n,r){return e.call(r,Object(i["m"])(t),Object(i["m"])(n),r)}function h(e){return void 0!==e.$valid?!e.$valid:!e}function d(e,t,n,r,o,s,a){let{$lazy:l,$rewardEarly:c}=o,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],f=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0,m=arguments.length>10?arguments[10]:void 0;const g=Object(i["l"])(!!r.value),A=Object(i["l"])(0);n.value=!1;const y=Object(i["n"])([t,r].concat(d,m),()=>{if(l&&!r.value||c&&!p.value&&!n.value)return;let i;try{i=u(e,t,f,a)}catch(o){i=Promise.reject(o)}A.value++,n.value=!!A.value,g.value=!1,Promise.resolve(i).then(e=>{A.value--,n.value=!!A.value,s.value=e,g.value=h(e)}).catch(e=>{A.value--,n.value=!!A.value,s.value=e,g.value=!0})},{immediate:!0,deep:"object"===typeof t});return{$invalid:g,$unwatch:y}}function f(e,t,n,r,o,s,a,l){let{$lazy:c,$rewardEarly:d}=r;const f=()=>({}),p=Object(i["a"])(()=>{if(c&&!n.value||d&&!l.value)return!1;let i=!0;try{const n=u(e,t,a,s);o.value=n,i=h(n)}catch(r){o.value=r}return i});return{$unwatch:f,$invalid:p}}function p(e,t,n,s,a,l,c,u,h,p,m){const g=Object(i["l"])(!1),A=e.$params||{},y=Object(i["l"])(null);let v,b;e.$async?({$invalid:v,$unwatch:b}=d(e.$validator,t,g,n,s,y,a,e.$watchTargets,h,p,m)):({$invalid:v,$unwatch:b}=f(e.$validator,t,n,s,y,a,h,p));const _=e.$message,w=o(_)?Object(i["a"])(()=>_(r({$pending:g,$invalid:v,$params:r(A),$model:t,$response:y,$validator:l,$propertyPath:u,$property:c}))):_||"";return{$message:w,$params:A,$pending:g,$invalid:v,$response:y,$unwatch:b}}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(i["m"])(e),n=Object.keys(t),r={},s={},a={};let l=null;return n.forEach(e=>{const n=t[e];switch(!0){case o(n.$validator):r[e]=n;break;case o(n):r[e]={$validator:n};break;case"$validationGroups"===e:l=n;break;case e.startsWith("$"):a[e]=n;break;default:s[e]=n}}),{rules:r,nestedValidators:s,config:a,validationGroups:l}}function g(){}const A="__root";function y(e,t,n){if(n)return t?t(e()):e();try{var i=Promise.resolve(e());return t?i.then(t):i}catch(r){return Promise.reject(r)}}function v(e,t){return y(e,g,t)}function b(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function _(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(i){return Promise.reject(i)}}}function w(e,t,n,r,o,s,a,l,c){const u=Object.keys(e),h=r.get(o,e),d=Object(i["l"])(!1),f=Object(i["l"])(!1),m=Object(i["l"])(0);if(h){if(!h.$partial)return h;h.$unwatch(),d.value=h.$dirty.value}const g={$dirty:d,$path:o,$touch:()=>{d.value||(d.value=!0)},$reset:()=>{d.value&&(d.value=!1)},$commit:()=>{}};return u.length?(u.forEach(i=>{g[i]=p(e[i],t,g.$dirty,s,a,i,n,o,c,f,m)}),g.$externalResults=Object(i["a"])(()=>l.value?[].concat(l.value).map((e,t)=>({$propertyPath:o,$property:n,$validator:"$externalResults",$uid:`${o}-externalResult-${t}`,$message:e,$params:{},$response:null,$pending:!1})):[]),g.$invalid=Object(i["a"])(()=>{const e=u.some(e=>Object(i["m"])(g[e].$invalid));return f.value=e,!!g.$externalResults.value.length||e}),g.$pending=Object(i["a"])(()=>u.some(e=>Object(i["m"])(g[e].$pending))),g.$error=Object(i["a"])(()=>!!g.$dirty.value&&(g.$pending.value||g.$invalid.value)),g.$silentErrors=Object(i["a"])(()=>u.filter(e=>Object(i["m"])(g[e].$invalid)).map(e=>{const t=g[e];return Object(i["k"])({$propertyPath:o,$property:n,$validator:e,$uid:`${o}-${e}`,$message:t.$message,$params:t.$params,$response:t.$response,$pending:t.$pending})}).concat(g.$externalResults.value)),g.$errors=Object(i["a"])(()=>g.$dirty.value?g.$silentErrors.value:[]),g.$unwatch=()=>u.forEach(e=>{g[e].$unwatch()}),g.$commit=()=>{f.value=!0,m.value=Date.now()},r.set(o,e,g),g):(h&&r.set(o,e,g),g)}function x(e,t,n,i,r,o,s){const a=Object.keys(e);return a.length?a.reduce((a,l)=>(a[l]=T({validations:e[l],state:t,key:l,parentKey:n,resultsCache:i,globalConfig:r,instance:o,externalResults:s}),a),{}):{}}function S(e,t,n){const r=Object(i["a"])(()=>[t,n].filter(e=>e).reduce((e,t)=>e.concat(Object.values(Object(i["m"])(t))),[])),o=Object(i["a"])({get(){return e.$dirty.value||!!r.value.length&&r.value.every(e=>e.$dirty)},set(t){e.$dirty.value=t}}),s=Object(i["a"])(()=>{const t=Object(i["m"])(e.$silentErrors)||[],n=r.value.filter(e=>(Object(i["m"])(e).$silentErrors||[]).length).reduce((e,t)=>e.concat(...t.$silentErrors),[]);return t.concat(n)}),a=Object(i["a"])(()=>{const t=Object(i["m"])(e.$errors)||[],n=r.value.filter(e=>(Object(i["m"])(e).$errors||[]).length).reduce((e,t)=>e.concat(...t.$errors),[]);return t.concat(n)}),l=Object(i["a"])(()=>r.value.some(e=>e.$invalid)||Object(i["m"])(e.$invalid)||!1),c=Object(i["a"])(()=>r.value.some(e=>Object(i["m"])(e.$pending))||Object(i["m"])(e.$pending)||!1),u=Object(i["a"])(()=>r.value.some(e=>e.$dirty)||r.value.some(e=>e.$anyDirty)||o.value),h=Object(i["a"])(()=>!!o.value&&(c.value||l.value)),d=()=>{e.$touch(),r.value.forEach(e=>{e.$touch()})},f=()=>{e.$commit(),r.value.forEach(e=>{e.$commit()})},p=()=>{e.$reset(),r.value.forEach(e=>{e.$reset()})};return r.value.length&&r.value.every(e=>e.$dirty)&&d(),{$dirty:o,$errors:a,$invalid:l,$anyDirty:u,$error:h,$pending:c,$touch:d,$reset:p,$silentErrors:s,$commit:f}}function T(e){const t=_((function(){return z(),b((function(){if(C.$rewardEarly)return H(),v(i["g"])}),(function(){return y(i["g"],(function(){return new Promise(e=>{if(!U.value)return e(!B.value);const t=Object(i["n"])(U,()=>{e(!B.value),t()})})}))}))}));let{validations:n,state:r,key:o,parentKey:s,childResults:a,resultsCache:u,globalConfig:h={},instance:d,externalResults:f}=e;const p=s?`${s}.${o}`:o,{rules:g,nestedValidators:T,config:E,validationGroups:M}=m(n),C=Object.assign({},h,E),O=o?Object(i["a"])(()=>{const e=Object(i["m"])(r);return e?Object(i["m"])(e[o]):void 0}):r,k=Object.assign({},Object(i["m"])(f)||{}),P=Object(i["a"])(()=>{const e=Object(i["m"])(f);return o?e?Object(i["m"])(e[o]):void 0:e}),I=w(g,O,o,u,p,C,d,P,r),R=x(T,O,p,u,C,d,P),D={};M&&Object.entries(M).forEach(e=>{let[t,n]=e;D[t]={$invalid:l(n,R,"$invalid"),$error:l(n,R,"$error"),$pending:l(n,R,"$pending"),$errors:c(n,R,"$errors"),$silentErrors:c(n,R,"$silentErrors")}});const{$dirty:L,$errors:N,$invalid:B,$anyDirty:F,$error:j,$pending:U,$touch:z,$reset:q,$silentErrors:V,$commit:H}=S(I,R,a),G=o?Object(i["a"])({get:()=>Object(i["m"])(O),set:e=>{L.value=!0;const t=Object(i["m"])(r),n=Object(i["m"])(f);n&&(n[o]=k[o]),Object(i["f"])(t[o])?t[o].value=e:t[o]=e}}):null;function W(e){return(a.value||{})[e]}function $(){Object(i["f"])(f)?f.value=k:0===Object.keys(k).length?Object.keys(f).forEach(e=>{delete f[e]}):Object.assign(f,k)}return o&&C.$autoDirty&&Object(i["n"])(O,()=>{L.value||z();const e=Object(i["m"])(f);e&&(e[o]=k[o])},{flush:"sync"}),Object(i["k"])(Object.assign({},I,{$model:G,$dirty:L,$error:j,$errors:N,$invalid:B,$anyDirty:F,$pending:U,$touch:z,$reset:q,$path:p||A,$silentErrors:V,$validate:t,$commit:H},a&&{$getResultsForChild:W,$clearExternalResults:$,$validationGroups:D},R))}class E{constructor(){this.storage=new Map}set(e,t,n){this.storage.set(e,{rules:t,result:n})}checkRulesValidity(e,t,n){const r=Object.keys(n),o=Object.keys(t);if(o.length!==r.length)return!1;const s=o.every(e=>r.includes(e));return!!s&&o.every(e=>!t[e].$params||Object.keys(t[e].$params).every(r=>Object(i["m"])(n[e].$params[r])===Object(i["m"])(t[e].$params[r])))}get(e,t){const n=this.storage.get(e);if(!n)return;const{rules:i,result:r}=n,o=this.checkRulesValidity(e,t,i),s=r.$unwatch?r.$unwatch:()=>({});return o?r:{$dirty:r.$dirty,$partial:!0,$unwatch:s}}}const M={COLLECT_ALL:!0,COLLECT_NONE:!1},C=Symbol("vuelidate#injectChildResults"),O=Symbol("vuelidate#removeChildResults");function k(e){let{$scope:t,instance:n}=e;const r={},o=Object(i["l"])([]),s=Object(i["a"])(()=>o.value.reduce((e,t)=>(e[t]=Object(i["m"])(r[t]),e),{}));function a(e,n){let{$registerAs:i,$scope:s,$stopPropagation:a}=n;a||t===M.COLLECT_NONE||s===M.COLLECT_NONE||t!==M.COLLECT_ALL&&t!==s||(r[i]=e,o.value.push(i))}function l(e){o.value=o.value.filter(t=>t!==e),delete r[e]}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],a),n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],l);const c=Object(i["c"])(C,[]);Object(i["j"])(C,n.__vuelidateInjectInstances);const u=Object(i["c"])(O,[]);return Object(i["j"])(O,n.__vuelidateRemoveInstances),{childResults:s,sendValidationResultsToParent:c,removeValidationResultsFromParent:u}}function P(e){return new Proxy(e,{get(e,t){return"object"===typeof e[t]?P(e[t]):Object(i["a"])(()=>e[t])}})}let I=0;function R(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};1===arguments.length&&(r=e,e=void 0,t=void 0);let{$registerAs:a,$scope:l=M.COLLECT_ALL,$stopPropagation:c,$externalResults:u,currentVueInstance:h}=r;const d=h||(null===(n=Object(i["b"])())||void 0===n?void 0:n.proxy),f=d?d.$options:{};a||(I+=1,a="_vuelidate_"+I);const p=Object(i["l"])({}),m=new E,{childResults:g,sendValidationResultsToParent:A,removeValidationResultsFromParent:y}=d?k({$scope:l,instance:d}):{childResults:Object(i["l"])({})};if(!e&&f.validations){const e=f.validations;t=Object(i["l"])({}),Object(i["h"])(()=>{t.value=d,Object(i["n"])(()=>o(e)?e.call(t.value,new P(t.value)):e,e=>{p.value=T({validations:e,state:t,childResults:g,resultsCache:m,globalConfig:r,instance:d,externalResults:u||d.vuelidateExternalResults})},{immediate:!0})}),r=f.validationsConfig||r}else{const n=Object(i["f"])(e)||s(e)?e:Object(i["k"])(e||{});Object(i["n"])(n,e=>{p.value=T({validations:e,state:t,childResults:g,resultsCache:m,globalConfig:r,instance:null!==d&&void 0!==d?d:{},externalResults:u})},{immediate:!0})}return d&&(A.forEach(e=>e(p,{$registerAs:a,$scope:l,$stopPropagation:c})),Object(i["i"])(()=>y.forEach(e=>e(a)))),Object(i["a"])(()=>Object.assign({},Object(i["m"])(p.value),g.value))}},"27b5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n("c485"),r=n("bf78"),o=n("9973");function s(e,t=e.key){let n;return"method"===e.kind?s.increment()+"":(n=(0,i.isIdentifier)(t)?t.name:(0,i.isStringLiteral)(t)?JSON.stringify(t.value):JSON.stringify((0,o.default)((0,r.default)(t))),e.computed&&(n=`[${n}]`),e.static&&(n="static:"+n),n)}s.uid=0,s.increment=function(){return s.uid>=Number.MAX_SAFE_INTEGER?s.uid=0:s.uid++}},"27f6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("b9c3"),r=n("036e");function o(e){e+="";let t="";for(const n of e)t+=(0,r.isIdentifierChar)(n.codePointAt(0))?n:"-";return t=t.replace(/^[-0-9]+/,""),t=t.replace(/[-\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""})),(0,i.default)(t)||(t="_"+t),t||"_"}},"2a8b":function(e,t,n){var i=n("a141"),r=n("5044"),o=n("dd98");function s(e){try{var t=o.decode(e);return r.decode(new Uint8Array(t).buffer)}catch(n){return null}}e.exports={isValidAddress:function(e){var t=s(e);if(!t||!Array.isArray(t)&&2!=t.length)return!1;var n=t[0],r=t[1];if("number"!=typeof r)return!1;var o=i.crc32(n);return o==r}}},"2ba4":function(e,t,n){var i=n("40d5"),r=Function.prototype,o=r.apply,s=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},"2c86":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("9046"),r=n("a70d");function o(e,t){if(!e||!t)return e;for(const n of i.INHERIT_KEYS.optional)null==e[n]&&(e[n]=t[n]);for(const n of Object.keys(t))"_"===n[0]&&"__clone"!==n&&(e[n]=t[n]);for(const n of i.INHERIT_KEYS.force)e[n]=t[n];return(0,r.default)(e,t),e}},"2d00":function(e,t,n){var i,r,o=n("da84"),s=n("342f"),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),e.exports=r},"2d83":function(e,t,n){"use strict";var i=n("387f");e.exports=function(e,t,n,r,o){var s=new Error(e);return i(s,t,n,r,o)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"2f82":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("b978");function r(e){return!(!e||!i.VISITOR_KEYS[e.type])}},"2fb4":function(e,t,n){(function(t){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",s="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,l=s||a||Function("return this")();function c(e,t){var n=-1,i=t.length,r=e.length;while(++n<i)e[r+n]=t[n];return e}var u=Object.prototype,h=u.hasOwnProperty,d=u.toString,f=l.Symbol,p=u.propertyIsEnumerable,m=f?f.isConcatSpreadable:void 0;function g(e,t,n,i,r){var o=-1,s=e.length;n||(n=A),r||(r=[]);while(++o<s){var a=e[o];t>0&&n(a)?t>1?g(a,t-1,n,i,r):c(r,a):i||(r[r.length]=a)}return r}function A(e){return b(e)||v(e)||!!(m&&e&&e[m])}function y(e){var t=e?e.length:0;return t?g(e,1):[]}function v(e){return w(e)&&h.call(e,"callee")&&(!p.call(e,"callee")||d.call(e)==i)}var b=Array.isArray;function _(e){return null!=e&&S(e.length)&&!x(e)}function w(e){return E(e)&&_(e)}function x(e){var t=T(e)?d.call(e):"";return t==r||t==o}function S(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}e.exports=y}).call(this,n("c8ba"))},"30b5":function(e,t,n){"use strict";var i=n("c532");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},"32fe":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("7f0c");function r(e,t="body"){const n=(0,i.default)(e[t],e);return e[t]=n,n}},"342f":function(e,t){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3511:function(e,t){var n=TypeError,i=9007199254740991;e.exports=function(e){if(e>i)throw n("Maximum allowed index exceeded");return e}},"35ae":function(e,t,n){(function(e,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",g="[object GeneratorFunction]",A="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",_="[object RegExp]",w="[object Set]",x="[object String]",S="[object Symbol]",T="[object WeakMap]",E="[object ArrayBuffer]",M="[object DataView]",C="[object Float32Array]",O="[object Float64Array]",k="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",R="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",N="[object Uint32Array]",B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,j=/^\./,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,q=/\\(\\)?/g,V=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,G={};G[C]=G[O]=G[k]=G[P]=G[I]=G[R]=G[D]=G[L]=G[N]=!0,G[u]=G[h]=G[E]=G[d]=G[M]=G[f]=G[p]=G[m]=G[A]=G[y]=G[v]=G[_]=G[w]=G[x]=G[T]=!1;var W="object"==typeof e&&e&&e.Object===Object&&e,$="object"==typeof self&&self&&self.Object===Object&&self,X=W||$||Function("return this")(),Y=t&&!t.nodeType&&t,K=Y&&"object"==typeof n&&n&&!n.nodeType&&n,Q=K&&K.exports===Y,J=Q&&W.process,Z=function(){try{return J&&J.binding("util")}catch(e){}}(),ee=Z&&Z.isTypedArray;function te(e,t){var n=-1,i=e?e.length:0,r=Array(i);while(++n<i)r[n]=t(e[n],n,e);return r}function ne(e,t){var n=-1,i=e?e.length:0;while(++n<i)if(t(e[n],n,e))return!0;return!1}function ie(e){return function(t){return null==t?void 0:t[e]}}function re(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function oe(e){return function(t){return e(t)}}function se(e,t){return null==e?void 0:e[t]}function ae(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function le(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function ce(e,t){return function(n){return e(t(n))}}function ue(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var he=Array.prototype,de=Function.prototype,fe=Object.prototype,pe=X["__core-js_shared__"],me=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ge=de.toString,Ae=fe.hasOwnProperty,ye=fe.toString,ve=RegExp("^"+ge.call(Ae).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=X.Symbol,_e=X.Uint8Array,we=fe.propertyIsEnumerable,xe=he.splice,Se=ce(Object.keys,Object),Te=Ut(X,"DataView"),Ee=Ut(X,"Map"),Me=Ut(X,"Promise"),Ce=Ut(X,"Set"),Oe=Ut(X,"WeakMap"),ke=Ut(Object,"create"),Pe=Jt(Te),Ie=Jt(Ee),Re=Jt(Me),De=Jt(Ce),Le=Jt(Oe),Ne=be?be.prototype:void 0,Be=Ne?Ne.valueOf:void 0,Fe=Ne?Ne.toString:void 0;function je(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Ue(){this.__data__=ke?ke(null):{}}function ze(e){return this.has(e)&&delete this.__data__[e]}function qe(e){var t=this.__data__;if(ke){var n=t[e];return n===o?void 0:n}return Ae.call(t,e)?t[e]:void 0}function Ve(e){var t=this.__data__;return ke?void 0!==t[e]:Ae.call(t,e)}function He(e,t){var n=this.__data__;return n[e]=ke&&void 0===t?o:t,this}function Ge(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function We(){this.__data__=[]}function $e(e){var t=this.__data__,n=ft(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():xe.call(t,n,1),!0}function Xe(e){var t=this.__data__,n=ft(t,e);return n<0?void 0:t[n][1]}function Ye(e){return ft(this.__data__,e)>-1}function Ke(e,t){var n=this.__data__,i=ft(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function Qe(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Je(){this.__data__={hash:new je,map:new(Ee||Ge),string:new je}}function Ze(e){return Ft(this,e)["delete"](e)}function et(e){return Ft(this,e).get(e)}function tt(e){return Ft(this,e).has(e)}function nt(e,t){return Ft(this,e).set(e,t),this}function it(e){var t=-1,n=e?e.length:0;this.__data__=new Qe;while(++t<n)this.add(e[t])}function rt(e){return this.__data__.set(e,o),this}function ot(e){return this.__data__.has(e)}function st(e){this.__data__=new Ge(e)}function at(){this.__data__=new Ge}function lt(e){return this.__data__["delete"](e)}function ct(e){return this.__data__.get(e)}function ut(e){return this.__data__.has(e)}function ht(e,t){var n=this.__data__;if(n instanceof Ge){var r=n.__data__;if(!Ee||r.length<i-1)return r.push([e,t]),this;n=this.__data__=new Qe(r)}return n.set(e,t),this}function dt(e,t){var n=rn(e)||nn(e)?re(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!Ae.call(e,o)||r&&("length"==o||Vt(o,i))||n.push(o);return n}function ft(e,t){var n=e.length;while(n--)if(tn(e[n][0],t))return n;return-1}je.prototype.clear=Ue,je.prototype["delete"]=ze,je.prototype.get=qe,je.prototype.has=Ve,je.prototype.set=He,Ge.prototype.clear=We,Ge.prototype["delete"]=$e,Ge.prototype.get=Xe,Ge.prototype.has=Ye,Ge.prototype.set=Ke,Qe.prototype.clear=Je,Qe.prototype["delete"]=Ze,Qe.prototype.get=et,Qe.prototype.has=tt,Qe.prototype.set=nt,it.prototype.add=it.prototype.push=rt,it.prototype.has=ot,st.prototype.clear=at,st.prototype["delete"]=lt,st.prototype.get=ct,st.prototype.has=ut,st.prototype.set=ht;var pt=Rt(gt),mt=Dt();function gt(e,t){return e&&mt(e,t,gn)}function At(e,t){t=Ht(t,e)?[t]:It(t);var n=0,i=t.length;while(null!=e&&n<i)e=e[Qt(t[n++])];return n&&n==i?e:void 0}function yt(e){return ye.call(e)}function vt(e,t){return null!=e&&t in Object(e)}function bt(e,t,n,i,r){return e===t||(null==e||null==t||!cn(e)&&!un(t)?e!==e&&t!==t:_t(e,t,bt,n,i,r))}function _t(e,t,n,i,r,o){var s=rn(e),l=rn(t),c=h,d=h;s||(c=zt(e),c=c==u?v:c),l||(d=zt(t),d=d==u?v:d);var f=c==v&&!ae(e),p=d==v&&!ae(t),m=c==d;if(m&&!f)return o||(o=new st),s||dn(e)?Lt(e,t,n,i,r,o):Nt(e,t,c,n,i,r,o);if(!(r&a)){var g=f&&Ae.call(e,"__wrapped__"),A=p&&Ae.call(t,"__wrapped__");if(g||A){var y=g?e.value():e,b=A?t.value():t;return o||(o=new st),n(y,b,i,r,o)}}return!!m&&(o||(o=new st),Bt(e,t,n,i,r,o))}function wt(e,t,n,i){var r=n.length,o=r,l=!i;if(null==e)return!o;e=Object(e);while(r--){var c=n[r];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}while(++r<o){c=n[r];var u=c[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var f=new st;if(i)var p=i(h,d,u,e,t,f);if(!(void 0===p?bt(d,h,i,s|a,f):p))return!1}}return!0}function xt(e){if(!cn(e)||Wt(e))return!1;var t=an(e)||ae(e)?ve:V;return t.test(Jt(e))}function St(e){return un(e)&&ln(e.length)&&!!G[ye.call(e)]}function Tt(e){return"function"==typeof e?e:null==e?An:"object"==typeof e?rn(e)?Ot(e[0],e[1]):Ct(e):yn(e)}function Et(e){if(!$t(e))return Se(e);var t=[];for(var n in Object(e))Ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mt(e,t){var n=-1,i=on(e)?Array(e.length):[];return pt(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ct(e){var t=jt(e);return 1==t.length&&t[0][2]?Yt(t[0][0],t[0][1]):function(n){return n===e||wt(n,e,t)}}function Ot(e,t){return Ht(e)&&Xt(t)?Yt(Qt(e),t):function(n){var i=pn(n,e);return void 0===i&&i===t?mn(n,e):bt(t,i,void 0,s|a)}}function kt(e){return function(t){return At(t,e)}}function Pt(e){if("string"==typeof e)return e;if(hn(e))return Fe?Fe.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}function It(e){return rn(e)?e:Kt(e)}function Rt(e,t){return function(n,i){if(null==n)return n;if(!on(n))return e(n,i);var r=n.length,o=t?r:-1,s=Object(n);while(t?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function Dt(e){return function(t,n,i){var r=-1,o=Object(t),s=i(t),a=s.length;while(a--){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}function Lt(e,t,n,i,r,o){var l=r&a,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(e);if(h&&o.get(t))return h==t;var d=-1,f=!0,p=r&s?new it:void 0;o.set(e,t),o.set(t,e);while(++d<c){var m=e[d],g=t[d];if(i)var A=l?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(void 0!==A){if(A)continue;f=!1;break}if(p){if(!ne(t,(function(e,t){if(!p.has(t)&&(m===e||n(m,e,i,r,o)))return p.add(t)}))){f=!1;break}}else if(m!==g&&!n(m,g,i,r,o)){f=!1;break}}return o["delete"](e),o["delete"](t),f}function Nt(e,t,n,i,r,o,l){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new _e(e),new _e(t)));case d:case f:case y:return tn(+e,+t);case p:return e.name==t.name&&e.message==t.message;case _:case x:return e==t+"";case A:var c=le;case w:var u=o&a;if(c||(c=ue),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;o|=s,l.set(e,t);var m=Lt(c(e),c(t),i,r,o,l);return l["delete"](e),m;case S:if(Be)return Be.call(e)==Be.call(t)}return!1}function Bt(e,t,n,i,r,o){var s=r&a,l=gn(e),c=l.length,u=gn(t),h=u.length;if(c!=h&&!s)return!1;var d=c;while(d--){var f=l[d];if(!(s?f in t:Ae.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var m=!0;o.set(e,t),o.set(t,e);var g=s;while(++d<c){f=l[d];var A=e[f],y=t[f];if(i)var v=s?i(y,A,f,t,e,o):i(A,y,f,e,t,o);if(!(void 0===v?A===y||n(A,y,i,r,o):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(m=!1)}return o["delete"](e),o["delete"](t),m}function Ft(e,t){var n=e.__data__;return Gt(t)?n["string"==typeof t?"string":"hash"]:n.map}function jt(e){var t=gn(e),n=t.length;while(n--){var i=t[n],r=e[i];t[n]=[i,r,Xt(r)]}return t}function Ut(e,t){var n=se(e,t);return xt(n)?n:void 0}var zt=yt;function qt(e,t,n){t=Ht(t,e)?[t]:It(t);var i,r=-1,o=t.length;while(++r<o){var s=Qt(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;o=e?e.length:0;return!!o&&ln(o)&&Vt(s,o)&&(rn(e)||nn(e))}function Vt(e,t){return t=null==t?c:t,!!t&&("number"==typeof e||H.test(e))&&e>-1&&e%1==0&&e<t}function Ht(e,t){if(rn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hn(e))||(F.test(e)||!B.test(e)||null!=t&&e in Object(t))}function Gt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Wt(e){return!!me&&me in e}function $t(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||fe;return e===n}function Xt(e){return e===e&&!cn(e)}function Yt(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(Te&&zt(new Te(new ArrayBuffer(1)))!=M||Ee&&zt(new Ee)!=A||Me&&zt(Me.resolve())!=b||Ce&&zt(new Ce)!=w||Oe&&zt(new Oe)!=T)&&(zt=function(e){var t=ye.call(e),n=t==v?e.constructor:void 0,i=n?Jt(n):void 0;if(i)switch(i){case Pe:return M;case Ie:return A;case Re:return b;case De:return w;case Le:return T}return t});var Kt=en((function(e){e=fn(e);var t=[];return j.test(e)&&t.push(""),e.replace(U,(function(e,n,i,r){t.push(i?r.replace(q,"$1"):n||e)})),t}));function Qt(e){if("string"==typeof e||hn(e))return e;var t=e+"";return"0"==t&&1/e==-l?"-0":t}function Jt(e){if(null!=e){try{return ge.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Zt(e,t){var n=rn(e)?te:Mt;return n(e,Tt(t,3))}function en(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(en.Cache||Qe),n}function tn(e,t){return e===t||e!==e&&t!==t}function nn(e){return sn(e)&&Ae.call(e,"callee")&&(!we.call(e,"callee")||ye.call(e)==u)}en.Cache=Qe;var rn=Array.isArray;function on(e){return null!=e&&ln(e.length)&&!an(e)}function sn(e){return un(e)&&on(e)}function an(e){var t=cn(e)?ye.call(e):"";return t==m||t==g}function ln(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function cn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function un(e){return!!e&&"object"==typeof e}function hn(e){return"symbol"==typeof e||un(e)&&ye.call(e)==S}var dn=ee?oe(ee):St;function fn(e){return null==e?"":Pt(e)}function pn(e,t,n){var i=null==e?void 0:At(e,t);return void 0===i?n:i}function mn(e,t){return null!=e&&qt(e,t,vt)}function gn(e){return on(e)?dt(e):Et(e)}function An(e){return e}function yn(e){return Ht(e)?ie(Qt(e)):kt(e)}n.exports=Zt}).call(this,n("c8ba"),n("62e4")(e))},"36c6":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},"392e":function(e,t,n){"use strict";function i(e,t){const n=Object.keys(t);for(const i of n)if(e[i]!==t[i])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},3934:function(e,t,n){"use strict";var i=n("c532");e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"3a34":function(e,t,n){"use strict";var i=n("83ab"),r=n("e8b5"),o=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(r(e)&&!s(e,"length").writable)throw o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,n){var i=n("e330");e.exports=i({}.isPrototypeOf)},"3bbe":function(e,t,n){var i=n("1626"),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+r(e)+" as a prototype")}},"3c96":function(e,t,n){function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n("d9e2"),e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"3f19":function(e,t,n){"use strict";
/**
 * Minimal Event interface implementation
 *
 * Original implementation by Sven Fuchs: https://gist.github.com/995028
 * Modifications and tests by Christian Johansen.
 *
 * @author Sven Fuchs (svenfuchs@artweb-design.de)
 * @author Christian Johansen (christian@cjohansen.no)
 * @license BSD
 *
 * Copyright (c) 2011 Sven Fuchs, Christian Johansen
 */var i=function(e,t,n,i){this.type=e,this.bubbles=t,this.cancelable=n,this.target=i};i.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}};var r={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function o(e){var t;if("undefined"!=typeof DOMParser){var n=new DOMParser;t=n.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t}var s={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0};function a(e,t){t.addEventListener(e,(function(n){var i=t["on"+e];i&&"function"==typeof i&&i.call(n.target,n)}))}function l(){this._eventListeners={};for(var e=["loadstart","progress","load","abort","loadend"],t=e.length-1;t>=0;t--)a(e[t],this)}function c(){l.call(this),this.readyState=c.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new l,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}l.prototype={addEventListener:function(e,t){this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push(t)},removeEventListener:function(e,t){for(var n=this._eventListeners[e]||[],i=0,r=n.length;i<r;++i)if(n[i]==t)return n.splice(i,1)},dispatchEvent:function(e){for(var t=e.type,n=this._eventListeners[t]||[],i=0;i<n.length;i++)"function"==typeof n[i]?n[i].call(this,e):n[i].handleEvent(e);return!!e.defaultPrevented},_progress:function(e,t,n){var r=new i("progress");r.target=this,r.lengthComputable=e,r.loaded=t,r.total=n,this.dispatchEvent(r)}},c.prototype=new l,c.UNSENT=0,c.OPENED=1,c.HEADERS_RECEIVED=2,c.LOADING=3,c.DONE=4;var u={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(e,t,n,i,r){this.method=e,this.url=t,this.async="boolean"!=typeof n||n,this.username=i,this.password=r,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=t,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(c.OPENED)},setRequestHeader:function(e,t){if(d(this),s[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"');this.requestHeaders[e]?this.requestHeaders[e]+=","+t:this.requestHeaders[e]=t},send:function(e){if(d(this),!/^(get|head)$/i.test(this.method)){var t=!1;Object.keys(this.requestHeaders).forEach((function(e){"content-type"===e.toLowerCase()&&(t=!0)})),t||(e||"").toString().match("FormData")||(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=e}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(c.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new i("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new i("abort",!1,!1,this)),this.readyState>c.UNSENT&&this.sendFlag&&(this._readyStateChange(c.UNSENT),this.sendFlag=!1),"function"===typeof this.onerror&&this.onerror()},getResponseHeader:function(e){if(this.readyState<c.HEADERS_RECEIVED)return null;if(/^Set-Cookie2?$/i.test(e))return null;for(var t in e=e.toLowerCase(),this.responseHeaders)if(t.toLowerCase()==e)return this.responseHeaders[t];return null},getAllResponseHeaders:function(){if(this.readyState<c.HEADERS_RECEIVED)return"";var e="";for(var t in this.responseHeaders)this.responseHeaders.hasOwnProperty(t)&&!/^Set-Cookie2?$/i.test(t)&&(e+=t+": "+this.responseHeaders[t]+"\r\n");return e},overrideMimeType:function(e){"string"===typeof e&&(this.forceMimeType=e.toLowerCase())},_readyStateChange:function(e){this.readyState=e,"function"==typeof this.onreadystatechange&&this.onreadystatechange(new i("readystatechange")),this.dispatchEvent(new i("readystatechange")),this.readyState==c.DONE&&this.dispatchEvent(new i("load",!1,!1,this)),this.readyState!=c.UNSENT&&this.readyState!=c.DONE||this.dispatchEvent(new i("loadend",!1,!1,this))},_setResponseHeaders:function(e){for(var t in this.responseHeaders={},e)e.hasOwnProperty(t)&&(this.responseHeaders[t]=e[t]);this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(c.HEADERS_RECEIVED):this.readyState=c.HEADERS_RECEIVED},_setResponseBody:function(e){f(this),p(this),m(e);var t=this.chunkSize||10,n=0;this.responseText="",this.response=this.responseText;do{this.async&&this._readyStateChange(c.LOADING),this.responseText+=e.substring(n,n+t),this.response=this.responseText,n+=t}while(n<e.length);var i=this.getResponseHeader("Content-Type");if(this.responseText&&(!i||/(text\/xml)|(application\/xml)|(\+xml)/.test(i)))try{this.responseXML=o(this.responseText)}catch(r){}this.async?this._readyStateChange(c.DONE):this.readyState=c.DONE},respond:function(e,t,n){this._setResponseHeaders(t||{}),this.status="number"==typeof e?e:200,this.statusText=r[this.status],this._setResponseBody(n||"")}};for(var h in u)c.prototype[h]=u[h];function d(e){if(e.readyState!==c.OPENED)throw new Error("INVALID_STATE_ERR");if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}function f(e){if(e.readyState==c.DONE)throw new Error("Request done")}function p(e){if(e.async&&e.readyState!=c.HEADERS_RECEIVED)throw new Error("No headers received")}function m(e){if("string"!=typeof e){var t=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.");throw t.name="InvalidBodyException",t}}t["a"]=c},"3f4e":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("abc5");const r="devtools-plugin:setup",o="plugin:settings:set";var s=n("5134");class a{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const o in e.settings){const t=e.settings[o];n[o]=t.defaultValue}const i="__vue-devtools-plugin-settings__"+e.id;let r=Object.assign({},n);try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(r,t)}catch(a){}this.fallbacks={getSettings(){return r},setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(a){}r=e},now(){return Object(s["a"])()}},t&&t.on(o,(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise(n=>{this.targetQueue.push({method:t,args:e,resolve:n})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function l(e,t){const n=e,o=Object(i["b"])(),s=Object(i["a"])(),l=i["c"]&&n.enableEarlyProxy;if(!s||!o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&l){const e=l?new a(n,s):null,i=o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[];i.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else s.emit(r,e,t)}},"40a3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485"),r=n("9046");function o(e){return(0,i.isVariableDeclaration)(e,{kind:"var"})&&!e[r.BLOCK_SCOPED_SYMBOL]}},"40d5":function(e,t,n){var i=n("d039");e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("1315");function r(e,t){(0,i.default)("trailingComments",e,t)}},"42a0":function(e,t){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/;function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function c(e,t){return function(n){return e(t(n))}}var u=Object.prototype,h=u.hasOwnProperty,d=u.toString,f=u.propertyIsEnumerable,p=c(Object.keys,Object),m=Math.max,g=!f.call({valueOf:1},"valueOf");function A(e,t){var n=C(e)||M(e)?l(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!h.call(e,o)||r&&("length"==o||x(o,i))||n.push(o);return n}function y(e,t,n){var i=e[t];h.call(e,t)&&E(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function v(e){if(!T(e))return p(e);var t=[];for(var n in Object(e))h.call(e,n)&&"constructor"!=n&&t.push(n);return t}function b(e,t){return t=m(void 0===t?e.length-1:t,0),function(){var n=arguments,i=-1,r=m(n.length-t,0),o=Array(r);while(++i<r)o[i]=n[t+i];i=-1;var s=Array(t+1);while(++i<t)s[i]=n[i];return s[t]=o,a(e,this,s)}}function _(e,t,n,i){n||(n={});var r=-1,o=t.length;while(++r<o){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;y(n,s,void 0===a?e[s]:a)}return n}function w(e){return b((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&S(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);while(++i<r){var a=n[i];a&&e(t,a,i,o)}return t}))}function x(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function S(e,t,n){if(!R(n))return!1;var i=typeof t;return!!("number"==i?O(n)&&x(t,n.length):"string"==i&&t in n)&&E(n[t],e)}function T(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||u;return e===n}function E(e,t){return e===t||e!==e&&t!==t}function M(e){return k(e)&&h.call(e,"callee")&&(!f.call(e,"callee")||d.call(e)==i)}var C=Array.isArray;function O(e){return null!=e&&I(e.length)&&!P(e)}function k(e){return D(e)&&O(e)}function P(e){var t=R(e)?d.call(e):"";return t==r||t==o}function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function R(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){return!!e&&"object"==typeof e}var L=w((function(e,t){if(g||T(t)||O(t))_(t,N(t),e);else for(var n in t)h.call(t,n)&&y(e,n,t[n])}));function N(e){return O(e)?A(e):v(e)}e.exports=L},"42a7":function(e,t,n){"use strict";var i=n("8707").Buffer;function r(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var o=e.charAt(r),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=r}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";var n=0,r=0,o=0,s=t.length;while(o!==s&&0===t[o])o++,n++;var c=(s-o)*u+1>>>0,h=new Uint8Array(c);while(o!==s){for(var d=t[o],f=0,p=c-1;(0!==d||f<r)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,o++}var m=c-r;while(m!==c&&0===h[m])m++;for(var g=l.repeat(n);m<c;++m)g+=e.charAt(h[m]);return g}function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return i.alloc(0);var n=0,r=0,o=0;while(e[n]===l)r++,n++;var s=(e.length-n)*c+1>>>0,u=new Uint8Array(s);while(e[n]){var h=t[e.charCodeAt(n)];if(255===h)return;for(var d=0,f=s-1;(0!==h||d<o)&&-1!==f;f--,d++)h+=a*u[f]>>>0,u[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=d,n++}var p=s-o;while(p!==s&&0===u[p])p++;var m=i.allocUnsafe(r+(s-p));m.fill(0,0,r);var g=r;while(p!==s)m[g++]=u[p++];return m}function f(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}return{encode:h,decodeUnsafe:d,decode:f}}e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,i="/";t.cwd=function(){return i},t.chdir=function(t){e||(e=n("df7c")),i=e.resolve(t,i)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},4451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("c1f7");function r(e,t,n){if(n&&"Identifier"===e.type&&"ObjectProperty"===t.type&&"ObjectExpression"===n.type)return!1;const r=i.default.keys[t.type];if(r)for(let i=0;i<r.length;i++){const n=r[i],o=t[n];if(Array.isArray(o)){if(o.indexOf(e)>=0)return!0}else if(o===e)return!0}return!1}},"44ad":function(e,t,n){var i=n("e330"),r=n("d039"),o=n("c6b6"),s=Object,a=i("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):s(e)}:s},"44d3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("eb5b"),r=o;function o(e){switch(e){case"string":return(0,i.stringTypeAnnotation)();case"number":return(0,i.numberTypeAnnotation)();case"undefined":return(0,i.voidTypeAnnotation)();case"boolean":return(0,i.booleanTypeAnnotation)();case"function":return(0,i.genericTypeAnnotation)((0,i.identifier)("Function"));case"object":return(0,i.genericTypeAnnotation)((0,i.identifier)("Object"));case"symbol":return(0,i.genericTypeAnnotation)((0,i.identifier)("Symbol"));case"bigint":return(0,i.anyTypeAnnotation)()}throw new Error("Invalid typeof value: "+e)}t.default=r},4656:function(e,t,n){var i=n("48c4"),r=n("42a7"),o="rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz",s=r(o),a=new RegExp("^r["+o+"]{27,35}$");e.exports={isValidAddress:function(e){return!!a.test(e)&&this.verifyChecksum(e)},verifyChecksum:function(e){var t=s.decode(e),n=i.sha256Checksum(i.toHex(t.slice(0,-4))),r=i.toHex(t.slice(-4));return n===r}}},"467f":function(e,t,n){"use strict";var i=n("2d83");e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},4702:function(e,t,n){"use strict";function i(e,t,n){if(!n||!e)return e;const i=t+"Comments";return e[i]?"leading"===t?e[i]=n.concat(e[i]):e[i].push(...n):e[i]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},4703:function(e,t,n){"use strict";n.r(t),n.d(t,"getCoord",(function(){return r})),n.d(t,"getCoords",(function(){return o})),n.d(t,"containsNumber",(function(){return s})),n.d(t,"geojsonType",(function(){return a})),n.d(t,"featureOf",(function(){return l})),n.d(t,"collectionOf",(function(){return c})),n.d(t,"getGeom",(function(){return u})),n.d(t,"getType",(function(){return h}));function i(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function r(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function o(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function s(e){if(e.length>1&&i(e[0])&&i(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return s(e[0]);throw new Error("coordinates must only contain numbers")}function a(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)}function l(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}function c(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0,r=e.features;i<r.length;i++){var o=r[i];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+o.geometry.type)}}function u(e){return"Feature"===e.type?e.geometry:e}function h(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},"485a":function(e,t,n){var i=n("c65b"),r=n("1626"),o=n("861d"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&r(n=e.toString)&&!o(a=i(n,e)))return a;if(r(n=e.valueOf)&&!o(a=i(n,e)))return a;if("string"!==t&&r(n=e.toString)&&!o(a=i(n,e)))return a;throw s("Can't convert object to primitive value")}},"48c4":function(e,t,n){var i=n("0d54"),r=n("e357"),o=n("952b")["keccak256"],s=n("66f0"),a=n("dd98");function l(e){var t=Math.round(e).toString(16);return 1===t.length&&(t="0"+t),t}function c(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return new Uint8Array(t)}function u(e){var t="0123456789ABCDEF",n="";return n+=t.charAt(e>>4),n+=t.charAt(15&e),n}function h(e){for(var t="",n=0;n<e.length-1;n++)t+=u(e[n]);return t+=u(e[n]),t}function d(e){return e>="A"&&e<="F"||e>="a"&&e<="f"||e>="0"&&e<="9"?1:0}function f(e){var t=0;return e>="A"&&e<="F"?t=e.charCodeAt(0)-"A".charCodeAt(0)+10:e>="a"&&e<="f"?t=e.charCodeAt(0)-"a".charCodeAt(0)+10:e>="0"&&e<="9"&&(t=e.charCodeAt(0)-"0".charCodeAt(0)),t}function p(e){var t=Array(),n=0,i=0,r=0,o=0;for(i=0;i<e.length;i++){var s=e.charAt(i);d(s)&&(n<<=4,n+=f(s),r++,0===r%2&&(t[o++]=n,n=0))}return t}e.exports={toHex:function(e){for(var t="",n=0;n<e.length;n++)t+=l(e[n]);return t},sha256:function(e){var t=new i("SHA-256","HEX");return t.update(e),t.getHash("HEX")},sha256Checksum:function(e){return this.sha256(this.sha256(e)).substr(0,8)},blake256:function(e){return(new r).update(e,"hex").digest("hex")},blake256Checksum:function(e){return this.blake256(this.blake256(e)).substr(0,8)},blake2b:function(e,t){return new s(t).update(c(e)).digest("hex")},keccak256:function(e){return o(e)},keccak256Checksum:function(e){return o(e).toString().substr(0,8)},base58:a.decode,byteArray2hexStr:h,hexStr2byteArray:p}},"4a4b":function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t,i)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"4a7b":function(e,t,n){"use strict";var i=n("c532");e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},"4b22":function(e,t){var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i=[996825010,642813549,513874426,1027748829,705979059];function r(e){for(var t=1,n=0;n<e.length;++n){var r=t>>25;t=(33554431&t)<<5^e[n];for(var o=0;o<5;++o)r>>o&1&&(t^=i[o])}return t}function o(e){var t,n=[];for(t=0;t<e.length;++t)n.push(e.charCodeAt(t)>>5);for(n.push(0),t=0;t<e.length;++t)n.push(31&e.charCodeAt(t));return n}function s(e,t){return 1===r(o(e).concat(t))}function a(e,t){for(var n=o(e).concat(t).concat([0,0,0,0,0,0]),i=1^r(n),s=[],a=0;a<6;++a)s.push(i>>5*(5-a)&31);return s}function l(e,t){for(var i=t.concat(a(e,t)),r=e+"1",o=0;o<i.length;++o)r+=n.charAt(i[o]);return r}function c(e){var t,i=!1,r=!1;for(t=0;t<e.length;++t){if(e.charCodeAt(t)<33||e.charCodeAt(t)>126)return null;e.charCodeAt(t)>=97&&e.charCodeAt(t)<=122&&(i=!0),e.charCodeAt(t)>=65&&e.charCodeAt(t)<=90&&(r=!0)}if(i&&r)return null;e=e.toLowerCase();var o=e.lastIndexOf("1");if(o<1||o+7>e.length||e.length>90)return null;var a=e.substring(0,o),l=[];for(t=o+1;t<e.length;++t){var c=n.indexOf(e.charAt(t));if(-1===c)return null;l.push(c)}return s(a,l)?{hrp:a,data:l.slice(0,l.length-6)}:null}e.exports={decode:c,encode:l}},"4c3d":function(e,t,n){"use strict";(function(t){var i=n("c532"),r=n("c8af"),o=n("387f"),s=n("cafa"),a={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("b50d")),e}function u(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}var h={transitional:s,adapter:c(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional||h.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){h.headers[e]=i.merge(a)})),e.exports=h}).call(this,n("4362"))},"4d5c":function(e,t,n){(function(n){var i,r,o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();
/*!
 * Materialize v1.0.0 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT */(function(e){window.cash=e()})((function(){var e,t=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,s=i.push,a=function(){},l=function(e){return typeof e===typeof a&&e.call},c=function(e){return"string"===typeof e},u=/^#[\w-]*$/,h=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(e,n){n=n||t;var i=h.test(e)?n.getElementsByClassName(e.slice(1)):f.test(e)?n.getElementsByTagName(e):n.querySelectorAll(e);return i}function m(n){if(!e){e=t.implementation.createHTMLDocument(null);var i=e.createElement("base");i.href=t.location.href,e.head.appendChild(i)}return e.body.innerHTML=n,e.body.childNodes}function g(e){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}function A(e,i){if(!e)return this;if(e.cash&&e!==n)return e;var r,o=e,s=0;if(c(e))o=u.test(e)?t.getElementById(e.slice(1)):d.test(e)?m(e):p(e,i);else if(l(e))return g(e),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(r=this.length=o.length;s<r;s++)this[s]=o[s];return this}function y(e,t){return new A(e,t)}var v=y.fn=y.prototype=A.prototype={cash:!0,length:0,push:s,splice:i.splice,map:i.map,init:A};function b(e,t){for(var n=e.length,i=0;i<n;i++)if(!1===t.call(e[i],e[i],i,e))break}function _(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function w(e){return c(e)?_:e.cash?function(t){return e.is(t)}:function(e,t){return e===t}}function x(e){return y(r.call(e).filter((function(e,t,n){return n.indexOf(e)===t})))}Object.defineProperty(v,"constructor",{value:y}),y.parseHTML=m,y.noop=a,y.isFunction=l,y.isString=c,y.extend=v.extend=function(e){e=e||{};var t=r.call(arguments),n=t.length,i=1;for(1===t.length&&(e=this,i=0);i<n;i++)if(t[i])for(var o in t[i])t[i].hasOwnProperty(o)&&(e[o]=t[i][o]);return e},y.extend({merge:function(e,t){for(var n=+t.length,i=e.length,r=0;r<n;i++,r++)e[i]=t[r];return e.length=i,e},each:b,matches:_,unique:x,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var S=y.uid="_cash"+Date.now();function T(e){return e[S]=e[S]||{}}function E(e,t,n){return T(e)[t]=n}function M(e,t){var n=T(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:y(e).attr("data-"+t)),n[t]}function C(e,t){var n=T(e);n?delete n[t]:e.dataset?delete e.dataset[t]:y(e).removeAttr("data-"+name)}v.extend({data:function(e,t){if(c(e))return void 0===t?M(this[0],e):this.each((function(n){return E(n,e,t)}));for(var n in e)this.data(n,e[n]);return this},removeData:function(e){return this.each((function(t){return C(t,e)}))}});var O=/\S+/g;function k(e){return c(e)&&e.match(O)}function P(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function I(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function R(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}v.extend({addClass:function(e){var t=k(e);return t?this.each((function(e){var n=" "+e.className+" ";b(t,(function(t){I(e,t,n)}))})):this},attr:function(e,t){if(e){if(c(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(e,t):n[e]=t}));for(var n in e)this.attr(n,e[n]);return this}},hasClass:function(e){var t=!1,n=k(e);return n&&n.length&&this.each((function(e){return t=P(e,n[0]),!t})),t},prop:function(e,t){if(c(e))return void 0===t?this[0][e]:this.each((function(n){n[e]=t}));for(var n in e)this.prop(n,e[n]);return this},removeAttr:function(e){return this.each((function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]}))},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=k(e);return t?this.each((function(e){b(t,(function(t){R(e,t)}))})):this},removeProp:function(e){return this.each((function(t){delete t[e]}))},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var n=k(e);return n?this.each((function(e){var t=" "+e.className+" ";b(n,(function(n){P(e,n)?R(e,n):I(e,n,t)}))})):this}}),v.extend({add:function(e,t){return x(y.merge(this,y(e,t)))},each:function(e){return b(this,e),this},eq:function(e){return y(this.get(e))},filter:function(e){if(!e)return this;var t=l(e)?e:w(e);return y(o.call(this,(function(n){return t(n,e)})))},first:function(){return this.eq(0)},get:function(e){return void 0===e?r.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?y(e)[0]:this[0],n=e?this:y(t).parent().children();return r.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var D=function(){var e=/(?:^\w|[A-Z]|\b\w)/g,t=/[\s-_]+/g;return function(n){return n.replace(e,(function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()})).replace(t,"")}}(),L=function(){var e={},t=document,n=t.createElement("div"),i=n.style;return function(t){if(t=D(t),e[t])return e[t];var n=t.charAt(0).toUpperCase()+t.slice(1),r=["webkit","moz","ms","o"],o=(t+" "+r.join(n+" ")+n).split(" ");return b(o,(function(n){if(n in i)return e[n]=t=e[t]=n,!1})),e[t]}}();function N(e,t){return parseInt(n.getComputedStyle(e[0],null)[t],10)||0}function B(e,t,n){var i=M(e,"_cashEvents")||E(e,"_cashEvents",{});i[t]=i[t]||[],i[t].push(n),e.addEventListener(t,n)}function F(e,t,n){var i,r=M(e,"_cashEvents"),o=r&&r[t];o&&(n?(e.removeEventListener(t,n),i=o.indexOf(n),i>=0&&o.splice(i,1)):(b(o,(function(n){e.removeEventListener(t,n)})),o=[]))}function j(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function U(e){var t=[];return b(e.options,(function(e){e.selected&&t.push(e.value)})),t.length?t:null}function z(e){var t=e.selectedIndex;return t>=0?e.options[t].value:null}function q(e){var t=e.type;if(!t)return null;switch(t.toLowerCase()){case"select-one":return z(e);case"select-multiple":return U(e);case"radio":return e.checked?e.value:null;case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function V(e,t,n){if(n){var i=e.childNodes[0];e.insertBefore(t,i)}else e.appendChild(t)}function H(e,t,n){var i=c(t);i||!t.length?b(e,i?function(e){return e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,i){return V(e,0===i?t:t.cloneNode(!0),n)}):b(t,(function(t){return H(e,t,n)}))}y.prefixedProp=L,y.camelCase=D,v.extend({css:function(e,t){if(c(e))return e=L(e),arguments.length>1?this.each((function(n){return n.style[e]=t})):n.getComputedStyle(this[0])[e];for(var i in e)this.css(i,e[i]);return this}}),b(["Width","Height"],(function(e){var t=e.toLowerCase();v[t]=function(){return this[0].getBoundingClientRect()[t]},v["inner"+e]=function(){return this[0]["client"+e]},v["outer"+e]=function(t){return this[0]["offset"+e]+(t?N(this,"margin"+("Width"===e?"Left":"Top"))+N(this,"margin"+("Width"===e?"Right":"Bottom")):0)}})),v.extend({off:function(e,t){return this.each((function(n){return F(n,e,t)}))},on:function(e,t,n,i){var r;if(!c(e)){for(var o in e)this.on(o,t,e[o]);return this}return l(t)&&(n=t,t=null),"ready"===e?(g(n),this):(t&&(r=n,n=function(e){var n=e.target;while(!_(n,t)){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,e)}),this.each((function(t){var r=n;i&&(r=function(){n.apply(this,arguments),F(t,e,r)}),B(t,e,r)})))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:g,trigger:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!1),n=this.extend(n,t),this.each((function(e){return e.dispatchEvent(n)}))}}}),v.extend({serialize:function(){var e="";return b(this[0].elements||this,(function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var n=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=q(t);null!==i&&b(i,(function(t){e+=j(n,t)}));break;default:var r=q(t);null!==r&&(e+=j(n,r))}}})),e.substr(1)},val:function(e){return void 0===e?q(this[0]):this.each((function(t){return t.value=e}))}}),v.extend({after:function(e){return y(e).insertAfter(this),this},append:function(e){return H(this,e),this},appendTo:function(e){return H(y(e),this),this},before:function(e){return y(e).insertBefore(this),this},clone:function(){return y(this.map((function(e){return e.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each((function(e){return e.innerHTML=t}))},insertAfter:function(e){var t=this;return y(e).each((function(e,n){var i=e.parentNode,r=e.nextSibling;t.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),r)}))})),this},insertBefore:function(e){var t=this;return y(e).each((function(e,n){var i=e.parentNode;t.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),e)}))})),this},prepend:function(e){return H(this,e,!0),this},prependTo:function(e){return H(y(e),this,!0),this},remove:function(){return this.each((function(e){if(e.parentNode)return e.parentNode.removeChild(e)}))},text:function(e){return void 0===e?this[0].textContent:this.each((function(t){return t.textContent=e}))}});var G=t.documentElement;return v.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+n.pageYOffset-G.clientTop,left:e.left+n.pageXOffset-G.clientLeft}},offsetParent:function(){return y(this[0].offsetParent)}}),v.extend({children:function(e){var t=[];return this.each((function(e){s.apply(t,e.children)})),t=x(t),e?t.filter((function(t){return _(t,e)})):t},closest:function(e){return!e||this.length<1?y():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,n=w(e);return this.each((function(i){return t=n(i,e),!t})),t},find:function(e){if(!e||e.nodeType)return y(e&&this.has(e).length?e:null);var t=[];return this.each((function(n){s.apply(t,p(e,n))})),x(t)},has:function(e){var t=c(e)?function(t){return 0!==p(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return y(this[0].nextElementSibling)},not:function(e){if(!e)return this;var t=w(e);return this.filter((function(n){return!t(n,e)}))},parent:function(){var e=[];return this.each((function(t){t&&t.parentNode&&e.push(t.parentNode)})),x(e)},parents:function(e){var n,i=[];return this.each((function(r){n=r;while(n&&n.parentNode&&n!==t.body.parentNode)n=n.parentNode,(!e||e&&_(n,e))&&i.push(n)})),x(i)},prev:function(){return y(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),n=this[0];return t.filter((function(e){return e!==n}))}}),y}));var u=function(){function e(t,n,i){c(this,e),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=t.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return s(e,null,[{key:"init",value:function(e,t,n){var i=null;if(t instanceof Element)i=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var r=[],o=0;o<t.length;o++)r.push(new e(t[o],n));i=r}return i}}]),e}();(function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery})(window),i=[],r=function(){return M}.apply(t,i),void 0===r||(e.exports=r),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;var h=function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)},d=function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)},f=function(e){M.keyDown&&document.body.classList.add("keyboard-focused")},p=function(e){document.body.classList.remove("keyboard-focused")};document.addEventListener("keydown",h,!0),document.addEventListener("keyup",d,!0),document.addEventListener("focus",f,!0),document.addEventListener("blur",p,!0),M.initializeJqueryWrapper=function(e,t,n){jQuery.fn[t]=function(i){if(e.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each((function(){var e=this[n];e[i].apply(e,r)}))}if("object"===typeof i||!i)return e.init(this,arguments[0]),this;jQuery.error("Method "+i+" does not exist on jQuery."+t)}},M.AutoInit=function(e){var t=e||document.body,n={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n){var r=M[i];r.init(n[i])}},M.objectSelectorString=function(e){var t=e.prop("tagName")||"",n=e.attr("id")||"",i=e.attr("class")||"";return(t+n+i).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),n=t.add(t.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return i=!0,!1})),i},M.checkWithinContainer=function(e,t,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=e.getBoundingClientRect(),o=e===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=e.scrollLeft,a=e.scrollTop,l=t.left-s,c=t.top-a;return(l<r.left+n||l<n)&&(i.left=!0),(l+t.width>r.right-n||l+t.width>window.innerWidth-n)&&(i.right=!0),(c<r.top+n||c<n)&&(i.top=!0),(c+t.height>o-n||c+t.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(e,t,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(t).overflow,s=t.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),l=Math.min(s.width,window.innerWidth),c=e.getBoundingClientRect(),u=t.scrollLeft,h=t.scrollTop,d=n.left-u,f=n.top-h,p=n.top+c.height-h;return r.spaceOnRight=o?window.innerWidth-(c.left+n.width):l-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?c.right-n.width:d-n.width+c.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(c.top+n.height+i):a-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?c.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=e.getAttribute("href"),t=t?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};
/**
 * Get time in ms
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @type {function}
 * @return {number}
 */
var m=Date.now||function(){return(new Date).getTime()};
/**
 * Returns a function, that, when invoked, will only be triggered at most once
 * during a given window of time. Normally, the throttled function will run
 * as much as it can, without ever going more than once per `wait` duration;
 * but if you'd like to disable the execution on the leading edge, pass
 * `{leading: false}`. To disable execution on the trailing edge, ditto.
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @param {function} func
 * @param {number} wait
 * @param {Object=} options
 * @returns {Function}
 */M.throttle=function(e,t,n){var i=void 0,r=void 0,o=void 0,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:m(),s=null,o=e.apply(i,r),i=r=null};return function(){var c=m();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(s),s=null,a=c,o=e.apply(i,r),i=r=null):s||!1===n.trailing||(s=setTimeout(l,u)),o}};var g={scope:{}};g.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},g.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof n&&null!=n?n:e},g.global=g.getGlobal(this),g.SYMBOL_PREFIX="jscomp_symbol_",g.initSymbol=function(){g.initSymbol=function(){},g.global.Symbol||(g.global.Symbol=g.Symbol)},g.symbolCounter_=0,g.Symbol=function(e){return g.SYMBOL_PREFIX+(e||"")+g.symbolCounter_++},g.initSymbolIterator=function(){g.initSymbol();var e=g.global.Symbol.iterator;e||(e=g.global.Symbol.iterator=g.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&g.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return g.arrayIterator(this)}}),g.initSymbolIterator=function(){}},g.arrayIterator=function(e){var t=0;return g.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},g.iteratorPrototype=function(e){return g.initSymbolIterator(),e={next:e},e[g.global.Symbol.iterator]=function(){return this},e},g.array=g.array||{},g.iteratorFromArray=function(e,t){g.initSymbolIterator(),e instanceof String&&(e+="");var n=0,i={next:function(){if(n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},g.polyfill=function(e,t,n,i){if(t){for(n=g.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&null!=t&&g.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},g.polyfill("Array.prototype.keys",(function(e){return e||function(){return g.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3");var A=this;(function(e){M.anime=e()})((function(){function e(e){if(!F.col(e))try{return document.querySelectorAll(e)}catch(t){}}function t(e,t){for(var n=e.length,i=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}function n(e){return e.reduce((function(e,t){return e.concat(F.arr(t)?n(t):t)}),[])}function i(t){return F.arr(t)?t:(F.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function r(e,t){return e.some((function(e){return e===t}))}function o(e){var t,n={};for(t in e)n[t]=e[t];return n}function s(e,t){var n,i=o(e);for(n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function a(e,t){var n,i=o(e);for(n in t)i[n]=F.und(e[n])?t[n]:e[n];return i}function l(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e=parseInt(t[1],16);var n=parseInt(t[2],16);t=parseInt(t[3],16);return"rgba("+e+","+n+","+t+",1)"}function c(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;n=n[4]||1;if(0==i)r=i=e=r;else{var o=.5>r?r*(1+i):r+i-r*i,s=2*r-o;r=t(s,o,e+1/3),i=t(s,o,e);e=t(s,o,e-1/3)}return"rgba("+255*r+","+255*i+","+255*e+","+n+")"}function u(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function h(e){return-1<e.indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}function d(e,t){return F.fnc(e)?e(t.target,t.id,t.total):e}function f(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function p(e,t){return F.dom(e)&&r(B,t)?"transform":F.dom(e)&&(e.getAttribute(t)||F.svg(e)&&e[t])?"attribute":F.dom(e)&&"transform"!==t&&f(e,t)?"css":null!=e[t]?"object":void 0}function m(e,n){var i=h(n);i=-1<n.indexOf("scale")?1:0+i;if(e=e.style.transform,!e)return i;for(var r=[],o=[],s=[],a=/(\w+)\((.+?)\)/g;r=a.exec(e);)o.push(r[1]),s.push(r[2]);return e=t(s,(function(e,t){return o[t]===n})),e.length?e[0]:i}function g(e,t){switch(p(e,t)){case"transform":return m(e,t);case"css":return f(e,t);case"attribute":return e.getAttribute(t)}return e[t]||0}function y(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=u(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+i;case"-":return t-e+i;case"*":return t*e+i}}function v(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function b(e){e=e.points;for(var t,n=0,i=0;i<e.numberOfItems;i++){var r=e.getItem(i);0<i&&(n+=v(t,r)),t=r}return n}function _(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return v({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return b(e);case"polygon":var t=e.points;return b(e)+v(t.getItem(t.numberOfItems-1),t.getItem(0))}}function w(e,t){function n(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var i=n(),r=n(-1),o=n(1);switch(e.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function x(e,t){var n,i=/-?\d*\.?\d+/g;if(n=F.pth(e)?e.totalLength:e,F.col(n))if(F.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=F.hex(n)?l(n):F.hsl(n)?c(n):void 0;else r=(r=u(n))?n.substr(0,n.length-r.length):n,n=t&&!/\s/g.test(n)?r+t:r;return n+="",{original:n,numbers:n.match(i)?n.match(i).map(Number):[0],strings:F.str(e)||t?n.split(i):[]}}function S(e){return e=e?n(F.arr(e)?e.map(i):i(e)):[],t(e,(function(e,t,n){return n.indexOf(e)===t}))}function T(e){var t=S(e);return t.map((function(e,n){return{target:e,id:n,total:t.length}}))}function E(e,t){var n=o(t);if(F.arr(e)){var r=e.length;2!==r||F.obj(e[0])?F.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}return i(e).map((function(e,n){return n=n?0:t.delay,e=F.obj(e)&&!F.pth(e)?e:{value:e},F.und(e.delay)&&(e.delay=n),e})).map((function(e){return a(e,n)}))}function M(e,t){var n,i={};for(n in e){var r=d(e[n],t);F.arr(r)&&(r=r.map((function(e){return d(e,t)})),1===r.length&&(r=r[0])),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function C(e){return F.arr(e)?j.apply(this,e):U[e]}function O(e,t){var n;return e.tweens.map((function(i){i=M(i,t);var r=i.value,o=g(t.target,e.name),s=n?n.to.original:o,a=(s=F.arr(r)?r[0]:s,y(F.arr(r)?r[1]:r,s));o=u(a)||u(s)||u(o);return i.from=x(s,o),i.to=x(a,o),i.start=n?n.end:e.offset,i.end=i.start+i.delay+i.duration,i.easing=C(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=F.pth(r),i.isColor=F.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function k(e,i){return t(n(e.map((function(e){return i.map((function(t){var n=p(e.target,t.name);if(n){var i=O(t,e);t={type:n,property:t.name,animatable:e,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else t=void 0;return t}))}))),(function(e){return!F.und(e)}))}function P(e,t,n,i){var r="delay"===e;return t.length?(r?Math.min:Math.max).apply(Math,t.map((function(t){return t[e]}))):r?i.delay:n.offset+i.delay+i.duration}function I(e){var t,n=s(L,e),i=s(N,e),r=T(e.targets),o=[],l=a(n,i);for(t in e)l.hasOwnProperty(t)||"targets"===t||o.push({name:t,offset:l.offset,tweens:E(e[t],i)});return e=k(r,o),a(n,{children:[],animatables:r,animations:e,duration:P("duration",e,n,i),delay:P("delay",e,n,i)})}function R(e){function n(){return window.Promise&&new Promise((function(e){return h=e}))}function i(e){return p.reversed?p.duration-e:e}function r(e){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var s=r[n],a=s.animatable,l=s.tweens,c=l.length-1,u=l[c];c&&(u=t(l,(function(t){return e<t.end}))[0]||u);l=Math.min(Math.max(e-u.start-u.delay,0),u.duration)/u.duration;for(var h=isNaN(l)?1:u.easing(l,u.elasticity),d=(l=u.to.strings,u.round),m=(c=[],void 0),g=(m=u.to.numbers.length,0);g<m;g++){var A=void 0,y=(A=u.to.numbers[g],u.from.numbers[g]);A=u.isPath?w(u.value,h*A):y+h*(A-y);d&&(u.isColor&&2<g||(A=Math.round(A*d)/d)),c.push(A)}if(u=l.length)for(m=l[0],h=0;h<u;h++)d=l[h+1],g=c[h],isNaN(g)||(m=d?m+(g+d):m+(g+" "));else m=c[0];z[s.type](a.target,s.property,m,i,a.id),s.currentValue=m,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)D||(D=f(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[D]=i[r].join(" ");p.currentTime=e,p.progress=e/p.duration*100}function o(e){p[e]&&p[e](p)}function s(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(e){var t=p.duration,a=p.offset,f=a+p.delay,m=p.currentTime,g=p.reversed,A=i(e);if(p.children.length){var y=p.children,v=y.length;if(A>=p.currentTime)for(var b=0;b<v;b++)y[b].seek(A);else for(;v--;)y[v].seek(A)}(A>=f||!t)&&(p.began||(p.began=!0,o("begin")),o("run")),A>a&&A<t?r(A):(A<=a&&0!==m&&(r(0),g&&s()),(A>=t&&m!==t||!t)&&(r(t),g||s())),o("update"),e>=t&&(p.remaining?(c=l,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(h(),d=n()))),u=0)}e=void 0===e?{}:e;var l,c,u=0,h=null,d=n(),p=I(e);return p.reset=function(){var e=p.direction,t=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===e,p.remaining="alternate"===e&&1===t?2:t,r(0),e=p.children.length;e--;)p.children[e].reset()},p.tick=function(e){l=e,c||(c=l),a((u+l-c)*R.speed)},p.seek=function(e){a(i(e))},p.pause=function(){var e=q.indexOf(p);-1<e&&q.splice(e,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,c=0,u=i(p.currentTime),q.push(p),V||H())},p.reverse=function(){p.reversed=!p.reversed,c=0,u=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=d,p.reset(),p.autoplay&&p.play(),p}var D,L={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},N={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},B="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),F={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return F.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||F.svg(e)},str:function(e){return"string"===typeof e},fnc:function(e){return"function"===typeof e},und:function(e){return"undefined"===typeof e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return F.hex(e)||F.rgb(e)||F.hsl(e)}},j=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(t,n,i,r){if(0<=t&&1>=t&&0<=i&&1>=i){var o=new Float32Array(11);if(t!==n||i!==r)for(var s=0;11>s;++s)o[s]=e(.1*s,t,i);return function(s){if(t===n&&i===r)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,l=1;10!==l&&o[l]<=s;++l)a+=.1;--l;l=a+(s-o[l])/(o[l+1]-o[l])*.1;var c=3*(1-3*i+3*t)*l*l+2*(3*i-6*t)*l+3*t;if(.001<=c){for(a=0;4>a;++a){if(c=3*(1-3*i+3*t)*l*l+2*(3*i-6*t)*l+3*t,0===c)break;var u=e(l,t,i)-s;l=l-u/c}s=l}else if(0===c)s=l;else{l=a,a=a+.1;var h=0;do{u=l+(a-l)/2,c=e(u,t,i)-s,0<c?a=u:l=u}while(1e-7<Math.abs(c)&&10>++h);s=u}return e(s,n,r)}}}}(),U=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,n){return 1-e(1-t,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,n){return.5>t?e(2*t,n)/2:1-e(-2*t+2,n)/2}]},r={linear:j(.25,.25,.75,.75)},o={};for(t in i)o.type=t,i[o.type].forEach(function(e){return function(t,i){r["ease"+e.type+n[i]]=F.fnc(t)?t:j.apply(A,t)}}(o)),o={type:o.type};return r}(),z={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){i[r]||(i[r]=[]),i[r].push(t+"("+n+")")}},q=[],V=0,H=function(){function e(){V=requestAnimationFrame(t)}function t(t){var n=q.length;if(n){for(var i=0;i<n;)q[i]&&q[i].tick(t),i++;e()}else cancelAnimationFrame(V),V=0}return e}();return R.version="2.2.0",R.speed=1,R.running=q,R.remove=function(e){e=S(e);for(var t=q.length;t--;)for(var n=q[t],i=n.animations,o=i.length;o--;)r(e,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},R.getValue=g,R.path=function(t,n){var i=F.str(t)?e(t)[0]:t,r=n||100;return function(e){return{el:i,property:e,totalLength:_(i)*(r/100)}}},R.setDashoffset=function(e){var t=_(e);return e.setAttribute("stroke-dasharray",t),t},R.bezier=j,R.easings=U,R.timeline=function(e){var t=R(e);return t.pause(),t.duration=0,t.add=function(n){return t.children.forEach((function(e){e.began=!0,e.completed=!0})),i(n).forEach((function(n){var i=a(n,s(N,e||{}));i.targets=i.targets||e.targets,n=t.duration;var r=i.offset;i.autoplay=!1,i.direction=t.direction,i.offset=F.und(r)?n:y(r,n),t.began=!0,t.completed=!0,t.seek(i.offset),i=R(i),i.began=!0,i.completed=!0,i.duration>n&&(t.duration=i.duration),t.children.push(i)})),t.seek(0),t.reset(),t.autoplay&&t.restart(),t},t},R.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},R})),function(e,t){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));i.el.M_Collapsible=i,i.options=e.extend({},r.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var o=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?o.first().css("display","block"):o.css("display","block"),i}return l(r,i),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(t){var n=e(t.target).closest(".collapsible-header");if(t.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),s=r[0].classList.contains("active"),a=o.index(r);s?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),s=r.css("padding-bottom"),a=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),t({targets:r[0],height:a,paddingTop:o,paddingBottom:s,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css("overflow","hidden"),t({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length&&!i[0].classList.contains("active")){if("function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li"),o=this.$el.children("li.active");o.each((function(t){var i=r.index(e(t));n.close(i)}))}i[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Collapsible}},{key:"defaults",get:function(){return n}}]),r}(u);M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(e,t){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Dropdown=i,r._dropdowns.push(i),i.id=M.getIdFromTrigger(t),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=e(i.dropdownEl),i.options=e.extend({},r.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?e(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return l(r,i),s(r,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),r._dropdowns.splice(r._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var n=t.toElement||t.relatedTarget,i=!!e(n).closest(".dropdown-content").length,r=!1,o=e(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(t){var n=this,i=e(t.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){var n=e(t.target);n.closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(t){if("function"===typeof this.options.onItemClick){var n=e(t.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=e(n).find("a, button").first();i.length?i[0].click():n&&n.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var r=t.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,s=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){s=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);s&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(t.which).toLowerCase(),l=[9,13,27,38,40];if(a&&-1===l.indexOf(t.which)){this.filterQuery.push(a);var c=this.filterQuery.join(""),u=e(this.dropdownEl).find("li").filter((function(t){return 0===e(t).text().toLowerCase().indexOf(c)}))[0];u&&(this.focusedIndex=e(u).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,e(this.dropdownEl).children().each((function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),n=t.height,i=t.width,r=e.left-t.left,o=e.top-t.top,s={left:r,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,l=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:e.height),c="top",u=this.options.alignment;if(o+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,l.top||(l.bottom?c="bottom":(this.isScrollable=!0,l.spaceOnTop>l.spaceOnBottom?(c="bottom",n+=l.spaceOnTop,o-=l.spaceOnTop):n+=l.spaceOnBottom)),!l[u]){var h="left"===u?"right":"left";l[h]?u=h:l.spaceOnLeft>l.spaceOnRight?(u="right",i+=l.spaceOnLeft,r-=l.spaceOnLeft):(u="left",i+=l.spaceOnRight)}return"bottom"===c&&(o=o-t.height+(this.options.coverTrigger?e.height:0)),"right"===u&&(r=r-t.width+e.width),{x:r,y:o,verticalAlignment:c,horizontalAlignment:u,height:n,width:i}}},{key:"_animateIn",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){e.options.autoFocus&&e.dropdownEl.focus(),"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOut",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(t){e._resetDropdownStyles(),"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Dropdown}},{key:"defaults",get:function(){return n}}]),r}(u);i._dropdowns=[],M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(e,t){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Modal=i,i.options=e.extend({},r.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=e('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,r._count++,i._setupEventHandlers(),i}return l(r,i),s(r,[{key:"destroy",value:function(){r._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===r._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===r._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){var n=e(t.target).closest(".modal-close");n.length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==r._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;e.extend(this.el.style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),t({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:0,opacity:1}),t(i)):(e.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),t(i))}},{key:"_animateOut",value:function(){var n=this;t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:"-100%",opacity:0}),t(i)):(e.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),t(i))}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,r._modalsOpen++,this._nthModalOpened=r._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*r._modalsOpen,this.el.style.zIndex=1e3+2*r._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,r._modalsOpen--,this._nthModalOpened=0,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===r._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Modal}},{key:"defaults",get:function(){return n}}]),r}(u);i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(e,t){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Materialbox=i,i.options=e.extend({},r.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=e("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return l(r,i),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,e(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=e();var t=this.placeholder[0].parentNode;while(null!==t&&!e(t).is(document)){var n=e(t);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),t(n)}},{key:"_animateImageOut",value:function(){var e=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.originInlineStyles&&e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};t(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=e('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),t.remove(this.el),t.remove(this.$overlay[0]),t({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&t.remove(this.$photoCaption[0]),this.$photoCaption=e('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),e("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),t({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>s?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),t.remove(this.el),t.remove(this.$overlay[0]),""!==this.caption&&t.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&t({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Materialbox}},{key:"defaults",get:function(){return n}}]),r}(u);M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(e){"use strict";var t={responsiveThreshold:0},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Parallax=r,r.options=e.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each((function(){var t=this;t.complete&&e(t).trigger("load")})),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return l(i,n),s(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=this.$el.height()>0?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight,n=t-e,i=this.$el.offset().top+e,r=this.$el.offset().top,o=M.getDocumentScrollTop(),s=window.innerHeight,a=o+s,l=(a-r)/(e+s),c=n*l;this._enabled?i>o&&r<o+s&&(this.$img[0].style.transform="translate3D(-50%, "+c+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),i}(u);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(e,t){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Tabs=i,i.options=e.extend({},r.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return l(r,i),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var n=this,i=e(t.target).closest("li.tab"),r=e(t.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))t.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=e(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var s=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"===typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"===typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(s),t.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout((function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=e(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=e(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var t=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=e();this.$tabLinks.each((function(t){var i=e(M.escapeHash(t.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=e('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=t.index;t.index=e(n).index(),t.$activeTabLink.removeClass("active"),t.$activeTabLink=t.$tabLinks.eq(t.index),t.$activeTabLink.addClass("active"),t._animateIndicator(i),"function"===typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var n=0,i=0;this.index-e>=0?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};t.remove(this._indicator),t(r)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Tabs}},{key:"defaults",get:function(){return n}}]),r}(u);M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(e,t){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Tooltip=i,i.options=e.extend({},r.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return l(r,i),s(r,[{key:"destroy",value:function(){e(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=e.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){e.isHovered||e.isFocused||e._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(e){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(t.isHovered||t.isFocused||e)&&t._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t=this.el,n=this.tooltipEl,i=t.offsetHeight,r=t.offsetWidth,o=n.offsetHeight,s=n.offsetWidth,a=void 0,l=this.options.margin,c=void 0,u=void 0;this.xMovement=0,this.yMovement=0,c=t.getBoundingClientRect().top+M.getDocumentScrollTop(),u=t.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(c+=-o-l,u+=r/2-s/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(c+=i/2-o/2,u+=r+l,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(c+=i/2-o/2,u+=-s-l,this.xMovement=-this.options.transitionMovement):(c+=i+l,u+=r/2-s/2,this.yMovement=this.options.transitionMovement),a=this._repositionWithinScreen(u,c,s,o),e(n).css({top:a.y+"px",left:a.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=e-r,a=t-o,l={left:s,top:a,width:n,height:i},c=this.options.margin+this.options.transitionMovement,u=M.checkWithinContainer(document.body,l,c);return u.left?s=c:u.right&&(s-=s+n-window.innerWidth),u.top?a=c:u.bottom&&(a-=a+i-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return t&&(e.html=t),n&&(e.position=n),e}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Tooltip}},{key:"defaults",get:function(){return n}}]),r}(u);M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(e){"use strict";var t=t||{},n=document.querySelectorAll.bind(document);function i(e){return null!==e&&e===e.window}function r(e){return i(e)?e:9===e.nodeType&&e.defaultView}function o(e){var t,n,i={top:0,left:0},o=e&&e.ownerDocument;return t=o.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(i=e.getBoundingClientRect()),n=r(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}}function s(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}var a={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,i=document.createElement("div");i.className="waves-ripple",n.appendChild(i);var r=o(n),l=e.pageY-r.top,c=e.pageX-r.left,u="scale("+n.clientWidth/100*10+")";"touches"in e&&(l=e.touches[0].pageY-r.top,c=e.touches[0].pageX-r.left),i.setAttribute("data-hold",Date.now()),i.setAttribute("data-scale",u),i.setAttribute("data-x",c),i.setAttribute("data-y",l);var h={top:l+"px",left:c+"px"};i.className=i.className+" waves-notransition",i.setAttribute("style",s(h)),i.className=i.className.replace("waves-notransition",""),h["-webkit-transform"]=u,h["-moz-transform"]=u,h["-ms-transform"]=u,h["-o-transform"]=u,h.transform=u,h.opacity="1",h["-webkit-transition-duration"]=a.duration+"ms",h["-moz-transition-duration"]=a.duration+"ms",h["-o-transition-duration"]=a.duration+"ms",h["transition-duration"]=a.duration+"ms",h["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",h["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",h["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",h["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",i.setAttribute("style",s(h))},hide:function(e){l.touchup(e);var t=this,n=(t.clientWidth,null),i=t.getElementsByClassName("waves-ripple");if(!(i.length>0))return!1;n=i[i.length-1];var r=n.getAttribute("data-x"),o=n.getAttribute("data-y"),c=n.getAttribute("data-scale"),u=Date.now()-Number(n.getAttribute("data-hold")),h=350-u;h<0&&(h=0),setTimeout((function(){var i={top:o+"px",left:r+"px",opacity:"0","-webkit-transition-duration":a.duration+"ms","-moz-transition-duration":a.duration+"ms","-o-transition-duration":a.duration+"ms","transition-duration":a.duration+"ms","-webkit-transform":c,"-moz-transform":c,"-ms-transform":c,"-o-transform":c,transform:c};n.setAttribute("style",s(i)),setTimeout((function(){try{t.removeChild(n)}catch(e){return!1}}),a.duration)}),h)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},l={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?l.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){l.touches>0&&(l.touches-=1)}),500):"mousedown"===e.type&&l.touches>0&&(t=!1),t},touchup:function(e){l.allowEvent(e)}};function c(e){if(!1===l.allowEvent(e))return null;var t=null,n=e.target||e.srcElement;while(null!==n.parentNode){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}function u(t){var n=c(t);null!==n&&(a.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",a.hide,!1),n.addEventListener("touchcancel",a.hide,!1)),n.addEventListener("mouseup",a.hide,!1),n.addEventListener("mouseleave",a.hide,!1),n.addEventListener("dragend",a.hide,!1))}t.displayEffect=function(t){t=t||{},"duration"in t&&(a.duration=t.duration),a.wrapInput(n(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",u,!1),document.body.addEventListener("mousedown",u,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(a.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",u,!1),t.addEventListener("mousedown",u,!1)},e.Waves=t,document.addEventListener("DOMContentLoaded",(function(){t.displayEffect()}),!1)}(window),function(e,t){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(t){c(this,i),this.options=e.extend({},i.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=e(n),this._animateIn(),this._setTimer()}return s(i,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&e(t).addClass(this.options.classes),("object"===typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"===typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"===typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?e(t).append(this.message[0]):t.innerHTML=this.message,i._container.appendChild(t),t}},{key:"_animateIn",value:function(){t({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()}),20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),t({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"===typeof e.options.completeCallback&&e.options.completeCallback(),e.$el.remove(),i._toasts.splice(i._toasts.indexOf(e),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",i._onDragStart),e.addEventListener("touchmove",i._onDragMove),e.addEventListener("touchend",i._onDragEnd),e.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(e),i._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),e(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var n=e(t.target).closest(".toast"),r=n[0].M_Toast;r.panning=!0,i._draggedToast=r,r.el.classList.add("panning"),r.el.style.transition="",r.startingXPos=i._xPos(t),r.time=Date.now(),r.xPos=i._xPos(t)}}},{key:"_onDragMove",value:function(e){if(i._draggedToast){e.preventDefault();var t=i._draggedToast;t.deltaX=Math.abs(t.xPos-i._xPos(e)),t.xPos=i._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var n=t.xPos-t.startingXPos,r=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+n+"px)",t.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var e=i._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent,r=Math.abs(t)>n||e.velocityX>1;r?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in i._toasts)i._toasts[e].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(e){return new i(e)}}(cash,M.anime),function(e,t){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Sidenav=i,i.id=i.$el.attr("id"),i.options=e.extend({},r.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),r._sidenavs.push(i),i}return l(r,i),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=r._sidenavs.indexOf(this);e>=0&&r._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===r._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===r._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".sidenav-trigger");if(t.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),t.preventDefault()}}},{key:"_startDrag",value:function(e){var n=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,t.remove(this.el),t.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===n&&(t=0);var i=t,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==n&&(t=0);var i=-t;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){var n=e(t.target).closest(".sidenav-close");n.length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){var e=document.body;e.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){var e=document.body;e.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(t.remove(this.el),t({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:e(this._overlay).css({display:"block"}),t.remove(this._overlay),t({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;t.remove(this._overlay),t({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e(n._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Sidenav}},{key:"defaults",get:function(){return n}}]),r}(u);i._sidenavs=[],M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(e,t){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_ScrollSpy=i,i.options=e.extend({},r.defaults,n),r._elements.push(i),r._count++,r._increment++,i.tickId=-1,i.id=r._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return l(r,i),s(r,[{key:"destroy",value:function(){r._elements.splice(r._elements.indexOf(this),1),r._elementsInView.splice(r._elementsInView.indexOf(this),1),r._visibleElements.splice(r._visibleElements.indexOf(this.$el),1),r._count--,this._removeEventHandlers(),e(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===r._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===r._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=e(n.target),o=r._elements.length-1;o>=0;o--){var s=r._elements[o];if(i.is('a[href="#'+s.$el.attr("id")+'"]')){n.preventDefault();var a=s.$el.offset().top+1;t({targets:[document.documentElement,document.body],scrollTop:a-s.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){r._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,i=e+window.innerHeight,o=r._findElements(e,n,i,t),s=0;s<o.length;s++){var a=o[s],l=a.tickId;l<0&&a._enter(),a.tickId=r._ticks}for(var c=0;c<r._elementsInView.length;c++){var u=r._elementsInView[c],h=u.tickId;h>=0&&h!==r._ticks&&(u._exit(),u.tickId=-1)}r._elementsInView=o}},{key:"_enter",value:function(){r._visibleElements=r._visibleElements.filter((function(e){return 0!=e.height()})),r._visibleElements[0]?(e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),r._visibleElements[0][0].M_ScrollSpy&&this.id<r._visibleElements[0][0].M_ScrollSpy.id?r._visibleElements.unshift(this.$el):r._visibleElements.push(this.$el)):r._visibleElements.push(this.$el),e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;r._visibleElements=r._visibleElements.filter((function(e){return 0!=e.height()})),r._visibleElements[0]&&(e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),r._visibleElements=r._visibleElements.filter((function(e){return e.attr("id")!=t.$el.attr("id")})),r._visibleElements[0]&&e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,i){for(var o=[],s=0;s<r._elements.length;s++){var a=r._elements[s],l=e+a.options.scrollOffset||200;if(a.$el.height()>0){var c=a.$el.offset().top,u=a.$el.offset().left,h=u+a.$el.width(),d=c+a.$el.height(),f=!(u>t||h<i||c>n||d<l);f&&o.push(a)}}return o}},{key:"defaults",get:function(){return n}}]),r}(u);i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(e){"use strict";var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,n){return e.indexOf(n)-t.indexOf(n)}},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Autocomplete=r,r.options=e.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=e(),r._mousedown=!1,r._setupDropdown(),r._setupEventHandlers(),r}return l(i,n),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var t=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),e(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){t.selectOption(e(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(e){"keyup"===e.type&&(i._keydown=!1),this.count=0;var t=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal===t||!M.tabPressed&&"focus"===e.type||this.open(),this.oldVal=t)}},{key:"_handleInputKeydown",value:function(t){i._keydown=!0;var n=t.keyCode,r=void 0,o=e(this.container).children("li").length;if(n===M.keys.ENTER&&this.activeIndex>=0)return r=e(this.container).children("li").eq(this.activeIndex),void(r.length&&(this.selectOption(r),t.preventDefault()));n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(t.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=e(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(e){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(e){this._mousedown=!1}},{key:"_highlight",value:function(e,t){var n=t.find("img"),i=t.text().toLowerCase().indexOf(""+e.toLowerCase()),r=i+e.length-1,o=t.text().slice(0,i),s=t.text().slice(i,r+1),a=t.text().slice(r+1);t.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&t.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){e(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"===typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(t,n){var i=this;this._resetAutocomplete();var r=[];for(var o in t)if(t.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var s={data:t[o],key:o};r.push(s),this.count++}if(this.options.sortFunction){var a=function(e,t){return i.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),n.toLowerCase())};r.sort(a)}for(var l=0;l<r.length;l++){var c=r[l],u=e("<li></li>");c.data?u.append('<img src="'+c.data+'" class="right circle"><span>'+c.key+"</span>"):u.append("<span>"+c.key+"</span>"),e(this.container).append(u),this._highlight(n,u)}}},{key:"open",value:function(){var e=this.el.value.toLowerCase();this._resetAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Autocomplete}},{key:"defaults",get:function(){return t}}]),i}(u);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(e){M.updateTextFields=function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(t).each((function(t,n){var i=e(this);t.value.length>0||e(t).is(":focus")||t.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):t.validity?i.siblings("label").toggleClass("active",!0===t.validity.badInput):i.siblings("label").removeClass("active")}))},M.validate_field=function(e){var t=null!==e.attr("data-length"),n=parseInt(e.attr("data-length")),i=e[0].value.length;0!==i||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&i<=n||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=e(t)),t.length){var n=e(".hiddendiv").first();n.length||(n=e('<div class="hiddendiv common"></div>'),e("body").append(n));var i=t.css("font-family"),r=t.css("font-size"),o=t.css("line-height"),s=t.css("padding-top"),a=t.css("padding-right"),l=t.css("padding-bottom"),c=t.css("padding-left");r&&n.css("font-size",r),i&&n.css("font-family",i),o&&n.css("line-height",o),s&&n.css("padding-top",s),a&&n.css("padding-right",a),l&&n.css("padding-bottom",l),c&&n.css("padding-left",c),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(t[0].value+"\n");var u=n.html().replace(/\n/g,"<br>");n.html(u),t[0].offsetWidth>0&&t[0].offsetHeight>0?n.css("width",t.width()+"px"):n.css("width",window.innerWidth/2+"px"),t.data("original-height")<=n.innerHeight()?t.css("height",n.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},e(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(document).on("change",t,(function(){0===this.value.length&&null===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),M.validate_field(e(this))})),e(document).ready((function(){M.updateTextFields()})),e(document).on("reset",(function(n){var i=e(n.target);i.is("form")&&(i.find(t).removeClass("valid").removeClass("invalid"),i.find(t).each((function(t){this.value.length&&e(this).siblings("label").removeClass("active")})),setTimeout((function(){i.find("select").each((function(){this.M_FormSelect&&e(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){e(n.target).is(t)&&e(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var i=e(n.target);if(i.is(t)){var r=".prefix";0===i[0].value.length&&!0!==i[0].validity.badInput&&null===i.attr("placeholder")&&(r+=", label"),i.siblings(r).removeClass("active"),M.validate_field(i)}}),!0);var n="input[type=radio], input[type=checkbox]";e(document).on("keyup",n,(function(t){if(t.which!==M.keys.TAB);else{e(this).addClass("tabbed");var n=e(this);n.one("blur",(function(t){e(this).removeClass("tabbed")}))}}));var i=".materialize-textarea";e(i).each((function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),e(document).on("keyup",i,(function(){M.textareaAutoResize(e(this))})),e(document).on("keydown",i,(function(){M.textareaAutoResize(e(this))})),e(document).on("change",'.file-field input[type="file"]',(function(){for(var t=e(this).closest(".file-field"),n=t.find("input.file-path"),i=e(this)[0].files,r=[],o=0;o<i.length;o++)r.push(i[o].name);n[0].value=r.join(", "),n.trigger("change")}))}))}(cash),function(e,t){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function r(n,i){c(this,r);var o=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,n,i));return o.el.M_Slider=o,o.options=e.extend({},r.defaults,i),o.$slider=o.$el.find(".slides"),o.$slides=o.$slider.children("li"),o.activeIndex=o.$slides.filter((function(t){return e(t).hasClass("active")})).first().index(),-1!=o.activeIndex&&(o.$active=o.$slides.eq(o.activeIndex)),o._setSliderHeight(),o.$slides.find(".caption").each((function(e){o._animateCaptionIn(e,0)})),o.$slides.find("img").each((function(t){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(t).attr("src")!==n&&(e(t).css("background-image",'url("'+e(t).attr("src")+'")'),e(t).attr("src",n))})),o._setupIndicators(),o.$active?o.$active.css("display","block"):(o.$slides.first().addClass("active"),t({targets:o.$slides.first()[0],opacity:1,duration:o.options.duration,easing:"easeOutQuad"}),o.activeIndex=0,o.$active=o.$slides.eq(o.activeIndex),o.options.indicators&&o.$indicators.eq(o.activeIndex).addClass("active")),o.$active.find("img").each((function(e){t({targets:o.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:o.options.duration,easing:"easeOutQuad"})})),o._setupEventHandlers(),o.start(),o}return l(r,i),s(r,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(t){t.addEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each((function(t){t.removeEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(t){var n=e(t.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};e(n).hasClass("center-align")?r.translateY=-100:e(n).hasClass("right-align")?r.translateX=100:e(n).hasClass("left-align")&&(r.translateX=-100),t(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var t=this;this.options.indicators&&(this.$indicators=e('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=e('<li class="indicator-item"></li>');t.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var n=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),t({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(e){t({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),t({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),t({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Slider}},{key:"defaults",get:function(){return n}}]),r}(u);M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),function(e,t){e(document).on("click",".card",(function(n){if(e(this).children(".card-reveal").length){var i=e(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var r=e(this).find(".card-reveal");e(n.target).is(e(".card-reveal .card-title"))||e(n.target).is(e(".card-reveal .card-title i"))?t({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;e(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(e(n.target).is(e(".card .activator"))||e(n.target).is(e(".card .activator i")))&&(i.css("overflow","hidden"),r.css({display:"block"}),t({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(e){"use strict";var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Chips=r,r.options=e.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=e(),r._setupInput(),r.hasAutocomplete=Object.keys(r.options.autocompleteOptions).length>0,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return l(i,n),s(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var n=e(t.target).closest(".chip"),i=e(t.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(i._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=t.tag,n.setAttribute("tabindex",0),e(i).addClass("material-icons close"),i.textContent="close",t.image){var r=document.createElement("img");r.setAttribute("src",t.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=e("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?e(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&e(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(t);this.$chips.add(n),this.chipsData.push(t),e(this.$input).before(n),this._setPlaceholder(),"function"===typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(t){var n=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter((function(t){return e(t).index()>=0})),this.chipsData.splice(t,1),this._setPlaceholder(),"function"===typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);this._selectedChip=t,t[0].focus(),"function"===typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Chips}},{key:"_handleChipsKeydown",value:function(t){i._keydown=!0;var n=e(t.target).closest(".chips"),r=t.target&&n.length;if(!e(t.target).is("input, textarea")&&r){var o=n[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var s=o.chipsData.length;if(o._selectedChip){var a=o._selectedChip.index();o.deleteChip(a),o._selectedChip=null,s=Math.max(a-1,0)}o.chipsData.length&&o.selectChip(s)}else if(37===t.keyCode){if(o._selectedChip){var l=o._selectedChip.index()-1;if(l<0)return;o.selectChip(l)}}else if(39===t.keyCode&&o._selectedChip){var c=o._selectedChip.index()+1;c>=o.chipsData.length?o.$input[0].focus():o.selectChip(c)}}}},{key:"_handleChipsKeyup",value:function(e){i._keydown=!1}},{key:"_handleChipsBlur",value:function(t){if(!i._keydown){var n=e(t.target).closest(".chips"),r=n[0].M_Chips;r._selectedChip=null}}},{key:"defaults",get:function(){return t}}]),i}(u);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),e(document).ready((function(){e(document.body).on("click",".chip .close",(function(){var t=e(this).closest(".chips");t.length&&t[0].M_Chips||e(this).closest(".chip").remove()}))}))}(cash),function(e){"use strict";var t={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Pushpin=r,r.options=e.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return l(i,n),s(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=i._pushpins.indexOf(this);i._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Pushpin}},{key:"_updateElements",value:function(){for(var e in i._pushpins){var t=i._pushpins[e];t._updatePosition()}}},{key:"defaults",get:function(){return t}}]),i}(u);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(e,t){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};e.fn.reverse=[].reverse;var i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_FloatingActionButton=i,i.options=e.extend({},r.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return l(r,i),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){t({targets:i,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each((function(n){t.remove(n),t({targets:n,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var t=this,n=void 0,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),s=e('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(s),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,n=i/s[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),s.css({"background-color":a}),setTimeout((function(){t.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),t.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){t.$el.css({overflow:"hidden","background-color":a}),s.css({transform:"scale("+n+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),t.$menu.children("li").children("a").css({opacity:1}),t._handleDocumentClickBound=t._handleDocumentClick.bind(t),window.addEventListener("scroll",t._handleCloseBound,!0),document.body.addEventListener("click",t._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout((function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),r}(u);M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(e){"use strict";var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"‹",nextMonth:"›",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));r.el.M_Datepicker=r,r.options=e.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"===typeof n.i18n&&(r.options.i18n=e.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)));var o=r.options.defaultDate;return i._isDate(o)?r.options.setDefaultDate?(r.setDate(o,!0),r.setInputValue()):r.gotoDate(o):r.gotoDate(new Date),r.isOpen=!1,r}return l(i,n),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".orig-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".orig-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(e(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;if(e=e||this.options.format,!i._isDate(this.date))return"";var n=e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),r=n.map((function(e){return t.formats[e]?t.formats[e]():e})).join("");return r}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"===typeof e&&(e=new Date(Date.parse(e))),i._isDate(e)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&e<n?e=n:i._isDate(r)&&e>r&&(e=r),this.date=new Date(e.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!==typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=i._isDate(this.date)?this.date:new Date,t=this.options.i18n,n=t.weekdaysShort[e.getDay()],r=t.monthsShort[e.getMonth()],o=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+o}},{key:"gotoDate",value:function(e){var t=!0;if(i._isDate(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=o<n.getTime()||r.getTime()<o}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,n){var r=this.options,o=new Date,s=i._getDaysInMonth(e,t),a=new Date(e,t,1).getDay(),l=[],c=[];i._setToStartOfDay(o),r.firstDay>0&&(a-=r.firstDay,a<0&&(a+=7));var u=0===t?11:t-1,h=11===t?0:t+1,d=0===t?e-1:e,f=11===t?e+1:e,p=i._getDaysInMonth(d,u),m=s+a,g=m;while(g>7)g-=7;m+=7-g;for(var A=!1,y=0,v=0;y<m;y++){var b=new Date(e,t,y-a+1),_=!!i._isDate(this.date)&&i._compareDates(b,this.date),w=i._compareDates(b,o),x=-1!==r.events.indexOf(b.toDateString()),S=y<a||y>=s+a,T=y-a+1,E=t,M=e,C=r.startRange&&i._compareDates(r.startRange,b),O=r.endRange&&i._compareDates(r.endRange,b),k=r.startRange&&r.endRange&&r.startRange<b&&b<r.endRange,P=r.minDate&&b<r.minDate||r.maxDate&&b>r.maxDate||r.disableWeekends&&i._isWeekend(b)||r.disableDayFn&&r.disableDayFn(b);S&&(y<a?(T=p+T,E=u,M=d):(T-=s,E=h,M=f));var I={day:T,month:E,year:M,hasEvent:x,isSelected:_,isToday:w,isDisabled:P,isEmpty:S,isStartRange:C,isEndRange:O,isInRange:k,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};c.push(this.renderDay(I)),7===++v&&(l.push(this.renderRow(c,r.isRTL,A)),c=[],v=0,A=!1)}return this.renderTable(r,l,n)}},{key:"renderDay",value:function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+e.year+'" data-month="'+e.month+'" data-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,n,i,r,o,s){var a=void 0,l=void 0,c=void 0,u=this.options,h=i===u.minYear,d=i===u.maxYear,f='<div id="'+s+'" class="datepicker-controls" role="heading" aria-live="assertive">',p=void 0,m=void 0,g=!0,A=!0;for(c=[],a=0;a<12;a++)c.push('<option value="'+(i===o?a-n:12+a-n)+'"'+(a===r?' selected="selected"':"")+(h&&a<u.minMonth||d&&a>u.maxMonth?'disabled="disabled"':"")+">"+u.i18n.months[a]+"</option>");for(p='<select class="datepicker-select orig-select-month" tabindex="-1">'+c.join("")+"</select>",e.isArray(u.yearRange)?(a=u.yearRange[0],l=u.yearRange[1]+1):(a=i-u.yearRange,l=1+i+u.yearRange),c=[];a<l&&a<=u.maxYear;a++)a>=u.minYear&&c.push('<option value="'+a+'" '+(a===i?'selected="selected"':"")+">"+a+"</option>");m='<select class="datepicker-select orig-select-year" tabindex="-1">'+c.join("")+"</select>";var y='<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg>';f+='<button class="month-prev'+(g?"":" is-disabled")+'" type="button">'+y+"</button>",f+='<div class="selects-container">',u.showMonthAfterYear?f+=m+p:f+=p+m,f+="</div>",h&&(0===r||u.minMonth>=r)&&(g=!1),d&&(11===r||u.maxMonth<=r)&&(A=!1);var v='<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg>';return f+='<button class="month-next'+(A?"":" is-disabled")+'" type="button">'+v+"</button>",f+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t=this.options,n=t.minYear,i=t.maxYear,r=t.minMonth,o=t.maxMonth,s="",a=void 0;this._y<=n&&(this._y=n,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=i&&(this._y=i,!isNaN(o)&&this._m>o&&(this._m=o)),a="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),s+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a);this.destroySelects(),this.calendarEl.innerHTML=s;var c=this.calendarEl.querySelector(".orig-select-year"),u=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(c,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(u,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),c.addEventListener("change",this._handleYearChange.bind(this)),u.addEventListener("change",this._handleMonthChange.bind(this)),"function"===typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=e(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var n=e(t.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,n){t+=e.firstDay;while(t>=7)t-=7;return n?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"===typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"===typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){i._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,i._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4===0&&e%100!==0||e%400===0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){i._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Datepicker}},{key:"defaults",get:function(){return t}}]),i}(u);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(e){"use strict";var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Timepicker=r,r.options=e.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return l(i,n),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),e(this.spanHours).on("click",this.showView.bind(this,"hours")),e(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),n={x:t.left,y:t.top};this.x0=n.x+this.options.dialRadius,this.y0=n.y+this.options.dialRadius,this.moved=!1;var r=i._Pos(e);this.dx=r.x-this.x0,this.dy=r.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=i._Pos(e),n=t.x-this.x0,r=t.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var n=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(t),o=r.x-this.x0,s=r.y-this.y0;this.moved&&o===this.dx&&s===this.dy&&this.setHand(o,s),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(e(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"===typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=e(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e),e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=e('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var n=e('<div class="confirmation-btns"></div>');e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=e('<div class="am-btn">AM</div>'),this.$pmBtn=e('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,n=2*e,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var o=i._createSVGEl("g");o.setAttribute("transform","translate("+e+","+e+")");var s=i._createSVGEl("circle");s.setAttribute("class","timepicker-canvas-bearing"),s.setAttribute("cx",0),s.setAttribute("cy",0),s.setAttribute("r",4);var a=i._createSVGEl("line");a.setAttribute("x1",0),a.setAttribute("y1",0);var l=i._createSVGEl("circle");l.setAttribute("class","timepicker-canvas-bg"),l.setAttribute("r",t),o.appendChild(a),o.appendChild(l),o.appendChild(s),r.appendChild(o),this._canvas.appendChild(r),this.hand=a,this.bg=l,this.bearing=s,this.g=o}},{key:"_buildHoursView",value:function(){var t=e('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=t.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var s=0;s<24;s+=1){var a=t.clone(),l=s/6*Math.PI,c=s>0&&s<13,u=c?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(l)*u-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(l)*u-this.options.tickRadius+"px"}),a.html(0===s?"00":s),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var t=e('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=t.clone(),o=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(t){var n=e(t.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&"undefined"!==typeof e[1]&&(e[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=e[0]>=12&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,n){"minutes"===t&&e(this.hoursView).css("visibility");var i="hours"===t,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=t,e(this.spanHours).toggleClass("text-primary",i),e(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),e(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){e(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(t){var n=this.currentView,i=this[n],r="hours"===n,o=Math.PI/(r?6:30),s=i*o,a=r&&i>0&&i<13?this.options.innerRadius:this.options.outerRadius,l=Math.sin(s)*a,c=-Math.cos(s)*a,u=this;t?(e(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){e(u.canvas).removeClass("timepicker-canvas-out"),u.setHand(l,c)}),t)):this.setHand(l,c)}},{key:"setHand",value:function(e,t,n){var r=this,o=Math.atan2(e,-t),s="hours"===this.currentView,a=Math.PI/(s||n?6:30),l=Math.sqrt(e*e+t*t),c=s&&l<(this.options.outerRadius+this.options.innerRadius)/2,u=c?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(u=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/a);o=h*a,this.options.twelveHour?s?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):s?(12===h&&(h=0),h=c?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){r.vibrateTimer=null}),100))),this[this.currentView]=h,s?this["spanHours"].innerHTML=h:this["spanMinutes"].innerHTML=i._addLeadingZero(h);var d=Math.sin(o)*(u-this.options.tickRadius),f=-Math.cos(o)*(u-this.options.tickRadius),p=Math.sin(o)*u,m=-Math.cos(o)*u;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",m)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var n=this.el.value,r=t?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!t&&this.options.twelveHour&&(r=r+" "+this.amOrPm),this.el.value=r,r!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){var t="http://www.w3.org/2000/svg";return document.createElementNS(t,e)}},{key:"_Pos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Timepicker}},{key:"defaults",get:function(){return t}}]),i}(u);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(e){"use strict";var t={},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_CharacterCounter=r,r.options=e.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return l(i,n),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),e(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){e(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=t;var i=n;t&&(i+="/"+t,this._validateInput()),e(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),i}(u);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(e){"use strict";var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Carousel=r,r.options=e.extend({},i.defaults,n),r.hasMultipleSlides=r.$el.find(".carousel-item").length>1,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=e('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each((function(t,n){if(r.images.push(t),r.showIndicators){var i=e('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}})),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every((function(e){var t=e+"Transform";return"undefined"===typeof document.body.style[t]||(r.xform=t,!1)})),r._setupEventHandlers(),r._scroll(r.offset),r}return l(i,n),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),"undefined"!==typeof window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(t,n){t.addEventListener("click",e._handleIndicatorClickBound)})));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;"undefined"!==typeof window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(t,n){t.removeEventListener("click",e._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,n=void 0,i=void 0,r=void 0;if(this.pressed)if(t=this._xpos(e),n=this._ypos(e),i=this.reference-t,r=Math.abs(this.referenceY-n),r<30&&!this.verticalDragged)(i>2||i<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+i));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var n=e(t.target).closest(".carousel-item").index(),i=this._wrap(this.center)-n;0!==i&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var n=e(t.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var t=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(r>0)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,s=i[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else i.one("load",(function(e,n){t.$el.css("height",e.offsetHeight+"px")}));else if(!e){var l=n.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0;e=Date.now(),t=e-this.timestamp,this.timestamp=e,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+t),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,t=this.amplitude*Math.exp(-e/this.options.duration),t>2||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"===typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),o=this.offset-this.center*this.dim,s=o<0?1:-1,a=-s*o*2/this.dim,r=this.count>>1,this.options.fullWidth?(c="translateX(0)",d=1):(c="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",c+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*a),this.showIndicators){var m=this.center%this.count,g=this.$indicators.find(".indicator-item.active");g.index()!==m&&(g.removeClass("active"),this.$indicators.find(".indicator-item").eq(m)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)],e(l).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),l.classList.add("active"));var A=c+" translateX("+-o/2+"px) translateX("+s*this.options.shift*a*i+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(l,d,0,A)}for(i=1;i<=r;++i){if(this.options.fullWidth?(u=this.options.dist,h=i===r&&o<0?1-a:1):(u=this.options.dist*(2*i+a*s),h=1-p*(2*i+a*s)),!this.noWrap||this.center+i<this.count){l=this.images[this._wrap(this.center+i)];var y=c+" translateX("+(this.options.shift+(this.dim*i-o)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(l,h,-i,y)}if(this.options.fullWidth?(u=this.options.dist,h=i===r&&o>0?1-a:1):(u=this.options.dist*(2*i-a*s),h=1-p*(2*i-a*s)),!this.noWrap||this.center-i>=0){l=this.images[this._wrap(this.center-i)];var v=c+" translateX("+(-this.options.shift+(-this.dim*i-o)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(l,h,-i,v)}}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)];var b=c+" translateX("+-o/2+"px) translateX("+s*this.options.shift*a+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(l,d,0,b)}var _=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"===typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,_[0],this.dragged),"function"===typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,_[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,n,i){e.style[this.xform]=i,e.style.zIndex=n,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var n=this.center%this.count-e;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"===typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Carousel}},{key:"defaults",get:function(){return t}}]),i}(u);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(e){"use strict";var t={onOpen:void 0,onClose:void 0},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_TapTarget=r,r.options=e.extend({},i.defaults,n),r.isOpen=!1,r.$origin=e("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return l(i,n),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=e(this.wrapper).find(".tap-target-wave")[0],this.originEl=e(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],e(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(e(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var n=this.$origin.parents(),i=0;i<n.length;i++)if(t="fixed"==e(n[i]).css("position"),t)break;var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),s=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,l=window.innerWidth,c=window.innerHeight,u=l/2,h=c/2,d=a<=u,f=a>u,p=s<=h,m=s>h,g=a>=.25*l&&a<=.75*l,A=this.$el.outerWidth(),y=this.$el.outerHeight(),v=s+o/2-y/2,b=a+r/2-A/2,_=t?"fixed":"absolute",w=g?A:A/2+r,x=y/2,S=p?y/2:0,T=0,E=d&&!g?A/2-r:0,C=0,O=r,k=m?"bottom":"top",P=2*r,I=P,R=y/2-I/2,D=A/2-P/2,L={};L.top=p?v+"px":"",L.right=f?l-b-A+"px":"",L.bottom=m?c-v-y+"px":"",L.left=d?b+"px":"",L.position=_,e(this.wrapper).css(L),e(this.contentEl).css({width:w+"px",height:x+"px",top:S+"px",right:C+"px",bottom:T+"px",left:E+"px",padding:O+"px",verticalAlign:k}),e(this.waveEl).css({top:R+"px",left:D+"px",width:P+"px",height:I+"px"})}},{key:"open",value:function(){this.isOpen||("function"===typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"===typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_TapTarget}},{key:"defaults",get:function(){return t}}]),i}(u);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(e){"use strict";var t={classes:"",dropdownOptions:{}},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.$el.hasClass("browser-default")?a(r):(r.el.M_FormSelect=r,r.options=e.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return l(i,n),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.addEventListener("click",t._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.removeEventListener("click",t._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var n=e(t.target).closest("li")[0],i=n.id;if(!e(n).hasClass("disabled")&&!e(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=e(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(i)}else e(this.dropdownOptions).find("li").removeClass("selected"),e(n).toggleClass("selected",r);var s=e(this._valueDict[i].el).prop("selected");s!==r&&(e(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var t=this;this.wrapper=document.createElement("div"),e(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(e(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),e(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(e(n).is("option")){var i=void 0;i=t.isMultiple?t._appendOptionWithIcon(t.$el,n,"multiple"):t._appendOptionWithIcon(t.$el,n),t._addOptionToValueDict(n,i)}else if(e(n).is("optgroup")){var r=e(n).children("option");e(t.dropdownOptions).append(e('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(e){var n=t._appendOptionWithIcon(t.$el,e,"optgroup-option");t._addOptionToValueDict(e,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),e(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&e(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=e('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=e.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=e(t.dropdownOptions).find(".selected").first();if(i.length&&(M.keyDown=!0,t.dropdown.focusedIndex=i.index(),t.dropdown._focusFocusedItem(),M.keyDown=!1,t.dropdown.isScrollable)){var r=i[0].getBoundingClientRect().top-t.dropdownOptions.getBoundingClientRect().top;r-=t.dropdownOptions.clientHeight/2,t.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};t.id=i,r.el=e,r.optionEl=t,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){e(this.wrapper).find(".caret").remove(),e(this.input).remove(),e(this.dropdownOptions).remove(),e(this.wrapper).before(this.$el),e(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",s=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,a=e("<li></li>"),l=e("<span></span>");l.html(s),a.addClass(r+" "+o),a.append(l);var c=n.getAttribute("data-icon");if(c){var u=e('<img alt="" src="'+c+'">');a.prepend(u)}return e(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(t){var n=!this._keysSelected.hasOwnProperty(t),i=e(this._valueDict[t].optionEl);return n?this._keysSelected[t]=!0:delete this._keysSelected[t],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var t=[],n=this.$el.find("option");if(n.each((function(n){if(e(n).prop("selected")){var i=e(n).text();t.push(i)}})),!t.length){var i=this.$el.find("option:disabled").eq(0);i.length&&""===i[0].value&&t.push(i.text())}this.input.value=t.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var n=this._valueDict[t],i=e(n.el).prop("selected");e(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(e(this.dropdownOptions),e(n.optionEl)),this._keysSelected[t]=!0):e(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,n){if(n){this.isMultiple||t.find("li.selected").removeClass("selected");var i=e(n);i.addClass("selected")}}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_FormSelect}},{key:"defaults",get:function(){return t}}]),i}(u);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(e,t){"use strict";var n={},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Range=i,i.options=e.extend({},r.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return l(r,i),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){e(this.value).html(this.$el.val()),e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(e(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),e(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var n=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px"),e(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=parseInt(this.$el.css("padding-left")),i=7+n+"px";e(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:i,duration:100})),e(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),e(this.thumb).addClass("thumb"),e(this.value).addClass("value"),e(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){e(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=parseInt(e(this.thumb).parent().css("padding-left")),i=-7+n+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:i,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0,i=(parseFloat(this.$el.val())-n)/(t-n);return i*e}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){var t=e.jquery?e[0]:e;return t.M_Range}},{key:"defaults",get:function(){return n}}]),r}(u);M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(e("input[type=range]"))}(cash,M.anime)}).call(this,n("c8ba"))},"4d64":function(e,t,n){var i=n("fc6a"),r=n("23cb"),o=n("07fa"),s=function(e){return function(t,n,s){var a,l=i(t),c=o(l),u=r(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4db4":function(e,t){var n=1/0,i=17976931348623157e292,r=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,h=Object.prototype,d=h.toString;function f(e){return"number"==typeof e&&e==y(e)}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){return!!e&&"object"==typeof e}function g(e){return"symbol"==typeof e||m(e)&&d.call(e)==o}function A(e){if(!e)return 0===e?e:0;if(e=v(e),e===n||e===-n){var t=e<0?-1:1;return t*i}return e===e?e:0}function y(e){var t=A(e),n=t%1;return t===t?n?t-n:t:0}function v(e){if("number"==typeof e)return e;if(g(e))return r;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=f},5044:function(e,t,n){var i,r;(function(o,s){"use strict";var a=5.960464477539063e-8,l=4294967296,c=9007199254740992;function u(e){var t,n=new ArrayBuffer(256),i=new DataView(n),r=0;function o(e){var o=n.byteLength,s=r+e;while(o<s)o<<=1;if(o!==n.byteLength){var a=i;n=new ArrayBuffer(o),i=new DataView(n);for(var l=r+3>>2,c=0;c<l;++c)i.setUint32(c<<2,a.getUint32(c<<2))}return t=e,i}function a(){r+=t}function u(e){a(o(8).setFloat64(r,e))}function h(e){a(o(1).setUint8(r,e))}function d(e){for(var t=o(e.length),n=0;n<e.length;++n)t.setUint8(r+n,e[n]);a()}function f(e){a(o(2).setUint16(r,e))}function p(e){a(o(4).setUint32(r,e))}function m(e){var t=e%l,n=(e-t)/l,i=o(8);i.setUint32(r,n),i.setUint32(r+4,t),a()}function g(e,t){t<24?h(e<<5|t):t<256?(h(e<<5|24),h(t)):t<65536?(h(e<<5|25),f(t)):t<4294967296?(h(e<<5|26),p(t)):(h(e<<5|27),m(t))}function A(e){var t;if(!1===e)return h(244);if(!0===e)return h(245);if(null===e)return h(246);if(e===s)return h(247);switch(typeof e){case"number":if(Math.floor(e)===e){if(0<=e&&e<=c)return g(0,e);if(-c<=e&&e<0)return g(1,-(e+1))}return h(251),u(e);case"string":var n=[];for(t=0;t<e.length;++t){var i=e.charCodeAt(t);i<128?n.push(i):i<2048?(n.push(192|i>>6),n.push(128|63&i)):i<55296?(n.push(224|i>>12),n.push(128|i>>6&63),n.push(128|63&i)):(i=(1023&i)<<10,i|=1023&e.charCodeAt(++t),i+=65536,n.push(240|i>>18),n.push(128|i>>12&63),n.push(128|i>>6&63),n.push(128|63&i))}return g(3,n.length),d(n);default:var r;if(Array.isArray(e))for(r=e.length,g(4,r),t=0;t<r;++t)A(e[t]);else if(e instanceof Uint8Array)g(2,e.length),d(e);else{var o=Object.keys(e);for(r=o.length,g(5,r),t=0;t<r;++t){var a=o[t];A(a),A(e[a])}}}}if(A(e),"slice"in n)return n.slice(0,r);for(var y=new ArrayBuffer(r),v=new DataView(y),b=0;b<r;++b)v.setUint8(b,i.getUint8(b));return y}function h(e,t,n){var i=new DataView(e),r=0;function o(e,t){return r+=e,t}function c(t){return o(t,new Uint8Array(e,r,t))}function u(){var e=new ArrayBuffer(4),t=new DataView(e),n=p(),i=32768&n,r=31744&n,o=1023&n;if(31744===r)r=261120;else if(0!==r)r+=114688;else if(0!==o)return(i?-1:1)*o*a;return t.setUint32(0,i<<16|r<<13|o<<13),t.getFloat32(0)}function h(){return o(4,i.getFloat32(r))}function d(){return o(8,i.getFloat64(r))}function f(){return o(1,i.getUint8(r))}function p(){return o(2,i.getUint16(r))}function m(){return o(4,i.getUint32(r))}function g(){return m()*l+m()}function A(){return 255===i.getUint8(r)&&(r+=1,!0)}function y(e){if(e<24)return e;if(24===e)return f();if(25===e)return p();if(26===e)return m();if(27===e)return g();if(31===e)return-1;throw"Invalid length encoding"}function v(e){var t=f();if(255===t)return-1;var n=y(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function b(e,t){for(var n=0;n<t;++n){var i=f();128&i&&(i<224?(i=(31&i)<<6|63&f(),t-=1):i<240?(i=(15&i)<<12|(63&f())<<6|63&f(),t-=2):(i=(15&i)<<18|(63&f())<<12|(63&f())<<6|63&f(),t-=3)),i<65536?e.push(i):(i-=65536,e.push(55296|i>>10),e.push(56320|1023&i))}}function _(){var e,i,r=f(),o=r>>5,a=31&r;if(7===o)switch(a){case 25:return u();case 26:return h();case 27:return d()}if(i=y(a),i<0&&(o<2||6<o))throw"Invalid length";switch(o){case 0:return i;case 1:return-1-i;case 2:if(i<0){var l=[],p=0;while((i=v(o))>=0)p+=i,l.push(c(i));var m=new Uint8Array(p),g=0;for(e=0;e<l.length;++e)m.set(l[e],g),g+=l[e].length;return m}return c(i);case 3:var w=[];if(i<0)while((i=v(o))>=0)b(w,i);else b(w,i);return String.fromCharCode.apply(null,w);case 4:var x;if(i<0){x=[];while(!A())x.push(_())}else for(x=new Array(i),e=0;e<i;++e)x[e]=_();return x;case 5:var S={};for(e=0;e<i||i<0&&!A();++e){var T=_();S[T]=_()}return S;case 6:return t(_(),i);case 7:switch(i){case 20:return!1;case 21:return!0;case 22:return null;case 23:return s;default:return n(i)}}}"function"!==typeof t&&(t=function(e){return e}),"function"!==typeof n&&(n=function(){return s});var w=_();if(r!==e.byteLength)throw"Remaining bytes";return w}var d={encode:u,decode:h};i=d,r="function"===typeof i?i.call(t,n,t,e):i,r===s||(e.exports=r)})()},"50c4":function(e,t,n){var i=n("5926"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},5134:function(e,t,n){"use strict";(function(e){let i,r;function o(){var t;return void 0!==i||("undefined"!==typeof window&&window.performance?(i=!0,r=window.performance):"undefined"!==typeof e&&(null===(t=e.perf_hooks)||void 0===t?void 0:t.performance)?(i=!0,r=e.perf_hooks.performance):i=!1),i}function s(){return o()?r.now():Date.now()}n.d(t,"a",(function(){return s}))}).call(this,n("c8ba"))},"51b0":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ua})),n.d(t,"b",(function(){return Ks})),n.d(t,"c",(function(){return ta})),n.d(t,"d",(function(){return Xs})),n.d(t,"e",(function(){return pa})),n.d(t,"f",(function(){return Qs}));var i=n("589b"),r=n("22e5"),o=n("1fd5"),s=n("e691");const a="@firebase/database",l="0.14.3";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let c="";function u(e){c=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o["P"])(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o["I"])(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Object(o["k"])(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(t){}return new d},p=f("localStorage"),m=f("sessionStorage"),g=new s["b"]("@firebase/database"),A=function(){let e=1;return function(){return e++}}(),y=function(e){const t=Object(o["O"])(e),n=new o["d"];n.update(t);const i=n.digest();return o["g"].encodeByteArray(i)},v=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?t+=v.apply(null,i):t+="object"===typeof i?Object(o["P"])(i):i,t+=" "}return t};let b=null,_=!0;const w=function(e,t){Object(o["e"])(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s["a"].VERBOSE,b=g.log.bind(g),t&&m.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,m.remove("logging_enabled"))},x=function(...e){if(!0===_&&(_=!1,null===b&&!0===m.get("logging_enabled")&&w(!0)),b){const t=v.apply(null,e);b(t)}},S=function(e){return function(...t){x(e,...t)}},T=function(...e){const t="FIREBASE INTERNAL ERROR: "+v(...e);g.error(t)},E=function(...e){const t="FIREBASE FATAL ERROR: "+v(...e);throw g.error(t),new Error(t)},M=function(...e){const t="FIREBASE WARNING: "+v(...e);g.warn(t)},C=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},O=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},k=function(e){if(Object(o["E"])()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},P="[MIN_NAME]",I="[MAX_NAME]",R=function(e,t){if(e===t)return 0;if(e===P||t===I)return-1;if(t===P||e===I)return 1;{const n=W(e),i=W(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},D=function(e,t){return e===t?0:e<t?-1:1},L=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o["P"])(t))},N=function(e){if("object"!==typeof e||null===e)return Object(o["P"])(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=Object(o["P"])(t[i]),n+=":",n+=N(e[t[i]]);return n+="}",n},B=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function F(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const j=function(e){Object(o["e"])(!O(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,s,a,l,c;0===e?(s=0,a=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=l+i,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(c=n;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const h=u.join("");let d="";for(c=0;c<64;c+=8){let e=parseInt(h.substr(c,8),2).toString(16);1===e.length&&(e="0"+e),d+=e}return d.toLowerCase()},U=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},z=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function q(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const V=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,G=2147483647,W=function(e){if(V.test(e)){const t=Number(e);if(t>=H&&t<=G)return t}return null},$=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw M("Exception was thrown by user callback.",e),t},Math.floor(0))}},X=function(){const e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Y=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno["unrefTimer"]?Deno.unrefTimer(n):"object"===typeof n&&n["unref"]&&n["unref"](),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class K{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){M(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',M(e)}}class J{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}J.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Z="5",ee="v",te="s",ne="r",ie="f",re=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="ls",se="p",ae="ac",le="websocket",ce="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ue{constructor(e,t,n,i,r=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return`${e}${this.host}/${t}`}}function he(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function de(e,t,n){let i;if(Object(o["e"])("string"===typeof t,"typeof type must == string"),Object(o["e"])("object"===typeof n,"typeof params must == object"),t===le)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ce)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}he(e)&&(n["ns"]=e.namespace);const r=[];return F(n,(e,t)=>{r.push(e+"="+t)}),i+r.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(){this.counters_={}}incrementCounter(e,t=1){Object(o["k"])(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Object(o["n"])(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={},me={};function ge(e){const t=e.toString();return pe[t]||(pe[t]=new fe),pe[t]}function Ae(e,t){const n=e.toString();return me[n]||(me[n]=t()),me[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){this.pendingResponses[e]=t;while(this.pendingResponses[this.currentResponseNum]){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&$(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve="start",be="close",_e="pLPCommand",we="pRTLPCB",xe="id",Se="pw",Te="ser",Ee="cb",Me="seg",Ce="ts",Oe="d",ke="dframe",Pe=1870,Ie=30,Re=Pe-Ie,De=25e3,Le=3e4;class Ne{constructor(e,t,n,i,r,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=ge(t),this.urlFn=e=>(this.appCheckToken&&(e[ae]=this.appCheckToken),de(t,ce,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ye(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Le)),k(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Be((...e)=>{const[t,n,i,r,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ve)this.id=n,this.password=i;else{if(t!==be)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={};e[ve]="t",e[Te]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[Ee]=this.scriptTagHolder.uniqueCallbackIdentifier),e[ee]=Z,this.transportSessionId&&(e[te]=this.transportSessionId),this.lastSessionId&&(e[oe]=this.lastSessionId),this.applicationId&&(e[se]=this.applicationId),this.appCheckToken&&(e[ae]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(e[ne]=ie);const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ne.forceAllow_=!0}static forceDisallow(){Ne.forceDisallow_=!0}static isAvailable(){return!Object(o["E"])()&&(!!Ne.forceAllow_||!Ne.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!U()&&!z())}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Object(o["P"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Object(o["i"])(t),i=B(n,Re);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Object(o["E"])())return;this.myDisconnFrame=document.createElement("iframe");const n={};n[ke]="t",n[xe]=e,n[Se]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Object(o["P"])(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Be{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o["E"])())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=A(),window[_e+this.uniqueCallbackIdentifier]=e,window[we+this.uniqueCallbackIdentifier]=t,this.myIFrame=Be.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){const e=document.domain;n='<script>document.domain="'+e+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(r){x("frame writing exception"),r.stack&&x(r.stack),x(r)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{const t=e.contentWindow.document;t||x("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xe]=this.myID,e[Se]=this.myPW,e[Te]=this.currentSerial;let t=this.urlFn(e),n="",i=0;while(this.pendingSegs.length>0){const e=this.pendingSegs[0];if(!(e.d.length+Ie+n.length<=Pe))break;{const e=this.pendingSegs.shift();n=n+"&"+Me+i+"="+e.seg+"&"+Ce+i+"="+e.ts+"&"+Oe+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(De)),r=()=>{clearTimeout(i),n()};this.addTag(e,r)}addTag(e,t){Object(o["E"])()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{x("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=16384,je=45e3;let Ue=null;"undefined"!==typeof MozWebSocket?Ue=MozWebSocket:"undefined"!==typeof WebSocket&&(Ue=WebSocket);class ze{constructor(e,t,n,i,r,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=ge(t),this.connURL=ze.connectionURL_(t,o,s,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const s={};return s[ee]=Z,!Object(o["E"])()&&"undefined"!==typeof location&&location.hostname&&re.test(location.hostname)&&(s[ne]=ie),t&&(s[te]=t),n&&(s[oe]=n),i&&(s[ae]=i),r&&(s[se]=r),de(e,le,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{let t;if(Object(o["E"])()){const n=this.nodeAdmin?"AdminNode":"Node";t={headers:{"User-Agent":`Firebase/${Z}/${c}/${e.platform}/${n}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(t.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(t.headers["X-Firebase-AppCheck"]=this.appCheckToken);const i=Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}),r=0===this.connURL.indexOf("wss://")?i["HTTPS_PROXY"]||i["https_proxy"]:i["HTTP_PROXY"]||i["http_proxy"];r&&(t["proxy"]={origin:r})}this.mySock=new Ue(this.connURL,[],t)}catch(i){this.log_("Error instantiating WebSocket.");const e=i.message||i.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ze.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ue&&!ze.forceDisallow_}static previouslyFailed(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")}markConnectionHealthy(){p.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Object(o["I"])(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Object(o["e"])(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Object(o["P"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=B(t,Fe);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(je))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ze.responsesRequiredToBeHealthy=2,ze.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qe{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ne,ze]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=ze&&ze["isAvailable"]();let n=t&&!ze.previouslyFailed();if(e.webSocketOnly&&(t||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ze];else{const e=this.transports_=[];for(const t of qe.ALL_TRANSPORTS)t&&t["isAvailable"]()&&e.push(t);qe.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qe.globalTransportInitialized_=!1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ve=6e4,He=5e3,Ge=10240,We=102400,$e="t",Xe="d",Ye="s",Ke="r",Qe="e",Je="o",Ze="a",et="n",tt="p",nt="h";class it{constructor(e,t,n,i,r,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new qe(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=Y(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>We?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ge?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($e in e){const t=e[$e];t===Ze?this.upgradeIfSecondaryHealthy_():t===Ke?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Je&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=L("t",e),n=L("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tt,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ze,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:et,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=L("t",e),n=L("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=L($e,e);if(Xe in e){const n=e[Xe];if(t===nt){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if(t===et){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ye?this.onConnectionShutdown_(n):t===Ke?this.onReset_(n):t===Qe?T("Server Error: "+n):t===Je?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Z!==n&&M("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Y(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ve))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(He))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tt,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.allowedEvents_=e,this.listeners_={},Object(o["e"])(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){Object(o["e"])(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends ot{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o["C"])()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new st}getInitialEvent(e){return Object(o["e"])("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at=32,lt=768;class ct{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ut(){return new ct("")}function ht(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function dt(e){return e.pieces_.length-e.pieceNum_}function ft(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ct(e.pieces_,t)}function pt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function mt(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function gt(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function At(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ct(t,0)}function yt(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ct)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ct(n,0)}function vt(e){return e.pieceNum_>=e.pieces_.length}function bt(e,t){const n=ht(e),i=ht(t);if(null===n)return t;if(n===i)return bt(ft(e),ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _t(e,t){const n=gt(e,0),i=gt(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=R(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function wt(e,t){if(dt(e)!==dt(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function xt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(dt(e)>dt(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class St{constructor(e,t){this.errorPrefix_=t,this.parts_=gt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o["N"])(this.parts_[n]);Mt(this)}}function Tt(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o["N"])(t),Mt(e)}function Et(e){const t=e.parts_.pop();e.byteLength_-=Object(o["N"])(t),e.parts_.length>0&&(e.byteLength_-=1)}function Mt(e){if(e.byteLength_>lt)throw new Error(e.errorPrefix_+"has a key path longer than "+lt+" bytes ("+e.byteLength_+").");if(e.parts_.length>at)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+at+") or object contains a cycle "+Ct(e))}function Ct(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends ot{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(t="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new Ot}getInitialEvent(e){return Object(o["e"])("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt=1e3,Pt=3e5,It=3e4,Rt=1.3,Dt=3e4,Lt="server_kill",Nt=3;class Bt extends rt{constructor(e,t,n,i,r,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Bt.nextPersistentConnectionId_++,this.log_=S("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kt,this.maxReconnectDelay_=Pt,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Object(o["E"])())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ot.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&st.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(Object(o["P"])(r)),Object(o["e"])(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new o["a"],n={p:e._path.toString(),q:e._queryObject},i={action:"g",request:n,onComplete:e=>{const n=e["d"];"ok"===e["s"]?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),Object(o["e"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o["e"])(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n},o="q";e.tag&&(r["q"]=t._queryObject,r["t"]=e.tag),r["h"]=e.hashFn(),this.sendRequest(o,r,r=>{const o=r["d"],s=r["s"];Bt.warnOnListenWarnings_(o,t);const a=this.listens.get(n)&&this.listens.get(n).get(i);a===e&&(this.log_("listen response",r),"ok"!==s&&this.removeListen_(n,i),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Object(o["k"])(e,"w")){const n=Object(o["M"])(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();M(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at `+n+" to your security rules for better performance.")}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){const t=e&&40===e.length;(t||Object(o["x"])(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=It)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Object(o["H"])(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n["noauth"]=!0:"object"===typeof this.authOverride_&&(n["authvar"]=this.authOverride_),this.sendRequest(t,n,t=>{const n=t["s"],i=t["d"]||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e["s"],n=e["d"]||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Object(o["e"])(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");const r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e},o="n";i&&(r["q"]=n,r["t"]=i),this.sendRequest(o,r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{i&&setTimeout(()=>{i(e["s"],e["d"])},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const o={p:t,d:n};void 0!==r&&(o["h"]=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n["s"],n["d"])})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{const t=e["s"];if("ok"!==t){const t=e["d"];this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Object(o["P"])(e));const t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+Object(o["P"])(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Object(o["e"])(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){const e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>Dt&&(this.reconnectDelay_=kt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rt)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Bt.nextConnectionId_++,r=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,n())},c=function(e){Object(o["e"])(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new it(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{M(e+" ("+this.repoInfo_.toString()+")"),this.interrupt(Lt)},r))}catch(T){this.log_("Failed to get token: "+T),s||(this.repoInfo_.nodeAdmin&&M(T),l())}}}interrupt(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o["z"])(this.interruptReasons_)&&(this.reconnectDelay_=kt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>N(e)).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new ct(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Nt&&(this.reconnectDelay_=It,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Nt&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);while(this.onDisconnectRequestQueue_.length){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Object(o["E"])()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,Object(o["C"])()?e["framework.cordova"]=1:Object(o["F"])()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=st.getInstance().currentlyOnline();return Object(o["z"])(this.interruptReasons_)&&e}}Bt.nextPersistentConnectionId_=0,Bt.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ft{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ft(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Ft(P,e),i=new Ft(P,t);return 0!==this.compare(n,i)}minPost(){return Ft.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ut;class zt extends jt{static get __EMPTY_NODE(){return Ut}static set __EMPTY_NODE(e){Ut=e}compare(e,t){return R(e.name,t.name)}isDefinedOn(e){throw Object(o["f"])("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ft.MIN}maxPost(){return new Ft(I,Ut)}makePost(e,t){return Object(o["e"])("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ft(e,Ut)}toString(){return".key"}}const qt=new zt;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;while(!e.isEmpty())if(e=e,o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ht{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Ht.RED,this.left=null!=i?i:Wt.EMPTY_NODE,this.right=null!=r?r:Wt.EMPTY_NODE}copy(e,t,n,i,r){return new Ht(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wt.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Wt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ht.RED=!0,Ht.BLACK=!1;class Gt{copy(e,t,n,i,r){return this}insert(e,t,n){return new Ht(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Wt{constructor(e,t=Wt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Wt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Wt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ht.BLACK,null,null))}get(e){let t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vt(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Vt(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Vt(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Vt(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $t(e,t){return R(e.name,t.name)}function Xt(e,t){return R(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt;function Kt(e){Yt=e}Wt.EMPTY_NODE=new Gt;const Qt=function(e){return"number"===typeof e?"number:"+j(e):"string:"+e},Jt=function(e){if(e.isLeafNode()){const t=e.val();Object(o["e"])("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o["k"])(t,".sv"),"Priority must be a string or number.")}else Object(o["e"])(e===Yt||e.isEmpty(),"priority of unexpected type.");Object(o["e"])(e===Yt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Zt,en,tn;class nn{constructor(e,t=nn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Object(o["e"])(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Jt(this.priorityNode_)}static set __childrenNodeConstructor(e){Zt=e}static get __childrenNodeConstructor(){return Zt}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nn(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:nn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vt(e)?this:".priority"===ht(e)?this.priorityNode_:nn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:nn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ht(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Object(o["e"])(".priority"!==n||1===dt(e),".priority must be the last token in a path"),this.updateImmediateChild(n,nn.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qt(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nn.__childrenNodeConstructor?-1:(Object(o["e"])(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=nn.VALUE_TYPE_ORDER.indexOf(t),r=nn.VALUE_TYPE_ORDER.indexOf(n);return Object(o["e"])(i>=0,"Unknown leaf type: "+t),Object(o["e"])(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}function rn(e){en=e}function on(e){tn=e}nn.VALUE_TYPE_ORDER=["object","boolean","number","string"];class sn extends jt{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?R(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ft.MIN}maxPost(){return new Ft(I,new nn("[PRIORITY-POST]",tn))}makePost(e,t){const n=en(e);return new Ft(t,new nn("[PRIORITY-POST]",n))}toString(){return".priority"}}const an=new sn,ln=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){const t=e=>parseInt(Math.log(e)/ln,10),n=e=>parseInt(Array(e+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const un=function(e,t,n,i){e.sort(t);const r=function(t,i){const o=i-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Ht(a,s.node,Ht.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=r(t,l),u=r(l+1,i);return s=e[l],a=n?n(s):s,new Ht(a,s.node,Ht.BLACK,c,u)}},o=function(t){let i=null,o=null,s=e.length;const a=function(t,i){const o=s-t,a=s;s-=t;const c=r(o+1,a),u=e[o],h=n?n(u):u;l(new Ht(h,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(o=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,Ht.BLACK):(a(i,Ht.BLACK),a(i,Ht.RED))}return o},s=new cn(e.length),a=o(s);return new Wt(i||t,a)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn;const dn={};class fn{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Object(o["e"])(dn&&an,"ChildrenNode.ts has not been loaded"),hn=hn||new fn({".priority":dn},{".priority":an}),hn}get(e){const t=Object(o["M"])(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Wt?t:null}hasIndex(e){return Object(o["k"])(this.indexSet_,e.toString())}addIndex(e,t){Object(o["e"])(e!==qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(Ft.Wrap);let s,a=r.getNext();while(a)i=i||e.isDefinedOn(a.node),n.push(a),a=r.getNext();s=i?un(n,e.getCompare()):dn;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=s,new fn(u,c)}addToIndexes(e,t){const n=Object(o["J"])(this.indexes_,(n,i)=>{const r=Object(o["M"])(this.indexSet_,i);if(Object(o["e"])(r,"Missing index implementation for "+i),n===dn){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(Ft.Wrap);let o=i.getNext();while(o)o.name!==e.name&&n.push(o),o=i.getNext();return n.push(e),un(n,r.getCompare())}return dn}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new Ft(e.name,i))),r.insert(e,e.node)}});return new fn(n,this.indexSet_)}removeFromIndexes(e,t){const n=Object(o["J"])(this.indexes_,n=>{if(n===dn)return n;{const i=t.get(e.name);return i?n.remove(new Ft(e.name,i)):n}});return new fn(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn;class mn{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Jt(this.priorityNode_),this.children_.isEmpty()&&Object(o["e"])(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pn||(pn=new mn(new Wt(Xt),null,fn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pn}updatePriority(e){return this.children_.isEmpty()?this:new mn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?pn:t}}getChild(e){const t=ht(e);return null===t?this:this.getImmediateChild(t).getChild(ft(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Object(o["e"])(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Ft(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?pn:this.priorityNode_;return new mn(i,o,r)}}updateChild(e,t){const n=ht(e);if(null===n)return t;{Object(o["e"])(".priority"!==ht(e)||1===dt(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(ft(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(an,(o,s)=>{t[o]=s.val(e),n++,r&&mn.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Qt(this.getPriority().val())+":"),this.forEachChild(an,(t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new Ft(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ft(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ft(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Ft.Wrap);let i=n.peek();while(null!=i&&t.compare(i,e)<0)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Ft.Wrap);let i=n.peek();while(null!=i&&t.compare(i,e)>0)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===An?-1:0}withIndex(e){if(e===qt||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new mn(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===qt||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(an),n=t.getIterator(an);let i=e.getNext(),r=n.getNext();while(i&&r){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===qt?null:this.indexMap_.get(e.toString())}}mn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gn extends mn{constructor(){super(new Wt(Xt),mn.EMPTY_NODE,fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return mn.EMPTY_NODE}isEmpty(){return!1}}const An=new gn;Object.defineProperties(Ft,{MIN:{value:new Ft(P,mn.EMPTY_NODE)},MAX:{value:new Ft(I,An)}}),zt.__EMPTY_NODE=mn.EMPTY_NODE,nn.__childrenNodeConstructor=mn,Kt(An),on(An);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yn=!0;function vn(e,t=null){if(null===e)return mn.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o["e"])(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){const n=e;return new nn(n,vn(t))}if(e instanceof Array||!yn){let n=mn.EMPTY_NODE;return F(e,(t,i)=>{if(Object(o["k"])(e,t)&&"."!==t.substring(0,1)){const e=vn(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(vn(t))}{const n=[];let i=!1;const r=e;if(F(r,(e,t)=>{if("."!==e.substring(0,1)){const r=vn(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new Ft(e,r)))}}),0===n.length)return mn.EMPTY_NODE;const o=un(n,$t,e=>e.name,Xt);if(i){const e=un(n,an.getCompare());return new mn(o,vn(t),new fn({".priority":e},{".priority":an}))}return new mn(o,vn(t),fn.Default)}}rn(vn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bn extends jt{constructor(e){super(),this.indexPath_=e,Object(o["e"])(!vt(e)&&".priority"!==ht(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?R(e.name,t.name):r}makePost(e,t){const n=vn(e),i=mn.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ft(t,i)}maxPost(){const e=mn.EMPTY_NODE.updateChild(this.indexPath_,An);return new Ft(I,e)}toString(){return gt(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends jt{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?R(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ft.MIN}maxPost(){return Ft.MAX}makePost(e,t){const n=vn(e);return new Ft(t,n)}toString(){return".value"}}const wn=new _n;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e){return{type:"value",snapshotNode:e}}function Sn(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Tn(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function En(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Mn(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){Object(o["e"])(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Tn(t,a)):Object(o["e"])(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Sn(t,n)):s.trackChildChange(En(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(an,(e,i)=>{t.hasChild(e)||n.trackChildChange(Tn(e,i))}),t.isLeafNode()||t.forEachChild(an,(t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(En(t,i,r))}else n.trackChildChange(Sn(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?mn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.indexedFilter_=new Cn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=On.getStartPost_(e),this.endPost_=On.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,o){return this.matches(new Ft(t,n))||(n=mn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=mn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(mn.EMPTY_NODE);const r=this;return t.forEachChild(an,(e,t)=>{r.matches(new Ft(e,t))||(i=i.updateImmediateChild(e,mn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new On(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,o){return this.rangedFilter_.matches(new Ft(t,n))||(n=mn.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,o):this.fullLimitUpdateChild_(e,t,n,r,o)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=mn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=mn.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;while(e.hasNext()&&n<this.limit_){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(mn.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;while(e.hasNext()){const t=e.getNext(),r=n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t);r?n++:i=i.updateImmediateChild(t.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;Object(o["e"])(a.numChildren()===this.limit_,"");const l=new Ft(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let o=i.getChildAfterChild(this.index_,c,this.reverse_);while(null!=o&&(o.name===t||a.hasChild(o.name)))o=i.getChildAfterChild(this.index_,o,this.reverse_);const h=null==o?1:s(o,l),d=u&&!n.isEmpty()&&h>=0;if(d)return null!=r&&r.trackChildChange(En(t,n,e)),a.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(Tn(t,e));const n=a.updateImmediateChild(t,mn.EMPTY_NODE),i=null!=o&&this.rangedFilter_.matches(o);return i?(null!=r&&r.trackChildChange(Sn(o.name,o.node)),n.updateImmediateChild(o.name,o.node)):n}}return n.isEmpty()?e:u&&s(c,l)>=0?(null!=r&&(r.trackChildChange(Tn(c.name,c.node)),r.trackChildChange(Sn(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,mn.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Object(o["e"])(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Object(o["e"])(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P}hasEnd(){return this.endSet_}getIndexEndValue(){return Object(o["e"])(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Object(o["e"])(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Object(o["e"])(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const e=new Pn;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function In(e){return e.loadsAllData()?new Cn(e.getIndex()):e.hasLimit()?new kn(e):new On(e)}function Rn(e){const t={};if(e.isDefault())return t;let n;if(e.index_===an?n="$priority":e.index_===wn?n="$value":e.index_===qt?n="$key":(Object(o["e"])(e.index_ instanceof bn,"Unrecognized index type!"),n=e.index_.toString()),t["orderBy"]=Object(o["P"])(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Object(o["P"])(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Object(o["P"])(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Object(o["P"])(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Object(o["P"])(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t["limitToFirst"]=e.limit_:t["limitToLast"]=e.limit_),t}function Dn(e){const t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_),t["sin"]=!e.startAfterSet_),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_),t["ein"]=!e.endBeforeSet_),e.limitSet_){t["l"]=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==an&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends rt{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=S("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Object(o["e"])(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const s=Ln.getListenId_(e,n),a={};this.listens_[s]=a;const l=Rn(e._queryParams);this.restRequest_(r+".json",l,(e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(r,l,!1,n),Object(o["M"])(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}})}unlisten(e,t){const n=Ln.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Rn(e._queryParams),n=e._path.toString(),i=new o["a"];return this.restRequest_(n+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t["auth"]=i.accessToken),r&&r.token&&(t["ac"]=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Object(o["K"])(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=Object(o["I"])(a.responseText)}catch(e){M("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&M("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(){this.rootNode_=mn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return{value:null,children:new Map}}function Fn(e,t,n){if(vt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=ht(t);e.children.has(i)||e.children.set(i,Bn());const r=e.children.get(i);t=ft(t),Fn(r,t,n)}}function jn(e,t){if(vt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(an,(t,n)=>{Fn(e,new ct(t),n)}),jn(e,t)}}if(e.children.size>0){const n=ht(t);if(t=ft(t),e.children.has(n)){const i=jn(e.children.get(n),t);i&&e.children.delete(n)}return 0===e.children.size}return!0}function Un(e,t,n){null!==e.value?n(t,e.value):zn(e,(e,i)=>{const r=new ct(t.toString()+"/"+e);Un(i,r,n)})}function zn(e,t){e.children.forEach((e,n)=>{t(n,e)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&F(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=1e4,Hn=3e4,Gn=3e5;class Wn{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qn(e);const n=Vn+(Hn-Vn)*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;F(e,(e,i)=>{i>0&&Object(o["k"])(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*Gn))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n;function Xn(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yn(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Kn(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})($n||($n={}));class Qn{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=$n.ACK_USER_WRITE,this.source=Xn()}operationForChild(e){if(vt(this.path)){if(null!=this.affectedTree.value)return Object(o["e"])(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ct(e));return new Qn(ut(),t,this.revert)}}return Object(o["e"])(ht(this.path)===e,"operationForChild called for unrelated child."),new Qn(ft(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){this.source=e,this.path=t,this.type=$n.LISTEN_COMPLETE}operationForChild(e){return vt(this.path)?new Jn(this.source,ut()):new Jn(this.source,ft(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=$n.OVERWRITE}operationForChild(e){return vt(this.path)?new Zn(this.source,ut(),this.snap.getImmediateChild(e)):new Zn(this.source,ft(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=$n.MERGE}operationForChild(e){if(vt(this.path)){const t=this.children.subtree(new ct(e));return t.isEmpty()?null:t.value?new Zn(this.source,ut(),t.value):new ei(this.source,ut(),t)}return Object(o["e"])(ht(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ei(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vt(e))return this.isFullyInitialized()&&!this.filtered_;const t=ht(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ii(e,t,n,i){const r=[],o=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Mn(t.childName,t.snapshotNode))}),ri(e,r,"child_removed",t,i,n),ri(e,r,"child_added",t,i,n),ri(e,r,"child_moved",o,i,n),ri(e,r,"child_changed",t,i,n),ri(e,r,"value",t,i,n),r}function ri(e,t,n,i,r,o){const s=i.filter(e=>e.type===n);s.sort((t,n)=>si(e,t,n)),s.forEach(n=>{const i=oi(e,n,o);r.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))})})}function oi(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function si(e,t,n){if(null==t.childName||null==n.childName)throw Object(o["f"])("Should only compare child_ events.");const i=new Ft(t.childName,t.snapshotNode),r=new Ft(n.childName,n.snapshotNode);return e.index_.compare(i,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e,t){return{eventCache:e,serverCache:t}}function li(e,t,n,i){return ai(new ti(t,n,i),e.serverCache)}function ci(e,t,n,i){return ai(e.eventCache,new ti(t,n,i))}function ui(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function hi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;const fi=()=>(di||(di=new Wt(D)),di);class pi{constructor(e,t=fi()){this.value=e,this.children=t}static fromObject(e){let t=new pi(null);return F(e,(e,n)=>{t=t.set(new ct(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ut(),value:this.value};if(vt(e))return null;{const n=ht(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue(ft(e),t);if(null!=r){const e=yt(new ct(n),r.path);return{path:e,value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vt(e))return this;{const t=ht(e),n=this.children.get(t);return null!==n?n.subtree(ft(e)):new pi(null)}}set(e,t){if(vt(e))return new pi(t,this.children);{const n=ht(e),i=this.children.get(n)||new pi(null),r=i.set(ft(e),t),o=this.children.insert(n,r);return new pi(this.value,o)}}remove(e){if(vt(e))return this.children.isEmpty()?new pi(null):new pi(null,this.children);{const t=ht(e),n=this.children.get(t);if(n){const i=n.remove(ft(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new pi(null):new pi(this.value,r)}return this}}get(e){if(vt(e))return this.value;{const t=ht(e),n=this.children.get(t);return n?n.get(ft(e)):null}}setTree(e,t){if(vt(e))return t;{const n=ht(e),i=this.children.get(n)||new pi(null),r=i.setTree(ft(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new pi(this.value,o)}}fold(e){return this.fold_(ut(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(yt(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ut(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(vt(e))return null;{const i=ht(e),r=this.children.get(i);return r?r.findOnPath_(ft(e),yt(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ut(),t)}foreachOnPath_(e,t,n){if(vt(e))return this;{this.value&&n(t,this.value);const i=ht(e),r=this.children.get(i);return r?r.foreachOnPath_(ft(e),yt(t,i),n):new pi(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(yt(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.writeTree_=e}static empty(){return new mi(new pi(null))}}function gi(e,t,n){if(vt(t))return new mi(new pi(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=bt(r,t);return o=o.updateChild(s,n),new mi(e.writeTree_.set(r,o))}{const i=new pi(n),r=e.writeTree_.setTree(t,i);return new mi(r)}}}function Ai(e,t,n){let i=e;return F(n,(e,n)=>{i=gi(i,yt(t,e),n)}),i}function yi(e,t){if(vt(t))return mi.empty();{const n=e.writeTree_.setTree(t,new pi(null));return new mi(n)}}function vi(e,t){return null!=bi(e,t)}function bi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(bt(n.path,t)):null}function _i(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(an,(e,n)=>{t.push(new Ft(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Ft(e,n.value))}),t}function wi(e,t){if(vt(t))return e;{const n=bi(e,t);return new mi(null!=n?new pi(n):e.writeTree_.subtree(t))}}function xi(e){return e.writeTree_.isEmpty()}function Si(e,t){return Ti(ut(),e.writeTree_,t)}function Ti(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((t,r)=>{".priority"===t?(Object(o["e"])(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Ti(yt(e,t),r,n)}),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(yt(e,".priority"),i)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e,t){return Xi(t,e)}function Mi(e,t,n,i,r){Object(o["e"])(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=gi(e.visibleWrites,t,n)),e.lastWriteId=i}function Ci(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function Oi(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Object(o["e"])(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,a=e.allWrites.length-1;while(r&&a>=0){const t=e.allWrites[a];t.visible&&(a>=n&&ki(t,i.path)?r=!1:xt(i.path,t.path)&&(s=!0)),a--}if(r){if(s)return Pi(e),!0;if(i.snap)e.visibleWrites=yi(e.visibleWrites,i.path);else{const t=i.children;F(t,t=>{e.visibleWrites=yi(e.visibleWrites,yt(i.path,t))})}return!0}return!1}function ki(e,t){if(e.snap)return xt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&xt(yt(e.path,n),t))return!0;return!1}function Pi(e){e.visibleWrites=Ri(e.allWrites,Ii,ut()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Ii(e){return e.visible}function Ri(e,t,n){let i=mi.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const e=s.path;let t;if(s.snap)xt(n,e)?(t=bt(n,e),i=gi(i,t,s.snap)):xt(e,n)&&(t=bt(e,n),i=gi(i,ut(),s.snap.getChild(t)));else{if(!s.children)throw Object(o["f"])("WriteRecord should have .snap or .children");if(xt(n,e))t=bt(n,e),i=Ai(i,t,s.children);else if(xt(e,n))if(t=bt(e,n),vt(t))i=Ai(i,ut(),s.children);else{const e=Object(o["M"])(s.children,ht(t));if(e){const n=e.getChild(ft(t));i=gi(i,ut(),n)}}}}}return i}function Di(e,t,n,i,r){if(i||r){const o=wi(e.visibleWrites,t);if(!r&&xi(o))return n;if(r||null!=n||vi(o,ut())){const o=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(xt(e.path,t)||xt(t,e.path))},s=Ri(e.allWrites,o,t),a=n||mn.EMPTY_NODE;return Si(s,a)}return null}{const i=bi(e.visibleWrites,t);if(null!=i)return i;{const i=wi(e.visibleWrites,t);if(xi(i))return n;if(null!=n||vi(i,ut())){const e=n||mn.EMPTY_NODE;return Si(i,e)}return null}}}function Li(e,t,n){let i=mn.EMPTY_NODE;const r=bi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(an,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){const r=wi(e.visibleWrites,t);return n.forEachChild(an,(e,t)=>{const n=Si(wi(r,new ct(e)),t);i=i.updateImmediateChild(e,n)}),_i(r).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}{const n=wi(e.visibleWrites,t);return _i(n).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}}function Ni(e,t,n,i,r){Object(o["e"])(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=yt(t,n);if(vi(e.visibleWrites,s))return null;{const t=wi(e.visibleWrites,s);return xi(t)?r.getChild(n):Si(t,r.getChild(n))}}function Bi(e,t,n,i){const r=yt(t,n),o=bi(e.visibleWrites,r);if(null!=o)return o;if(i.isCompleteForChild(n)){const t=wi(e.visibleWrites,r);return Si(t,i.getNode().getImmediateChild(n))}return null}function Fi(e,t){return bi(e.visibleWrites,t)}function ji(e,t,n,i,r,o,s){let a;const l=wi(e.visibleWrites,t),c=bi(l,ut());if(null!=c)a=c;else{if(null==n)return[];a=Si(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let l=n.getNext();while(l&&e.length<r)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}function Ui(){return{visibleWrites:mi.empty(),allWrites:[],lastWriteId:-1}}function zi(e,t,n,i){return Di(e.writeTree,e.treePath,t,n,i)}function qi(e,t){return Li(e.writeTree,e.treePath,t)}function Vi(e,t,n,i){return Ni(e.writeTree,e.treePath,t,n,i)}function Hi(e,t){return Fi(e.writeTree,yt(e.treePath,t))}function Gi(e,t,n,i,r,o){return ji(e.writeTree,e.treePath,t,n,i,r,o)}function Wi(e,t,n){return Bi(e.writeTree,e.treePath,t,n)}function $i(e,t){return Xi(yt(e.treePath,t),e.writeTree)}function Xi(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Object(o["e"])("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o["e"])(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,En(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,Tn(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,Sn(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw Object(o["f"])("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,En(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const Qi=new Ki;class Ji{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wi(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hi(this.viewCache_),r=Gi(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){return{filter:e}}function er(e,t){Object(o["e"])(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Object(o["e"])(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function tr(e,t,n,i,r){const s=new Yi;let a,l;if(n.type===$n.OVERWRITE){const c=n;c.source.fromUser?a=or(e,t,c.path,c.snap,i,r,s):(Object(o["e"])(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!vt(c.path),a=rr(e,t,c.path,c.snap,i,r,l,s))}else if(n.type===$n.MERGE){const c=n;c.source.fromUser?a=ar(e,t,c.path,c.children,i,r,s):(Object(o["e"])(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),a=cr(e,t,c.path,c.children,i,r,l,s))}else if(n.type===$n.ACK_USER_WRITE){const o=n;a=o.revert?dr(e,t,o.path,i,r,s):ur(e,t,o.path,o.affectedTree,i,r,s)}else{if(n.type!==$n.LISTEN_COMPLETE)throw Object(o["f"])("Unknown operation type: "+n.type);a=hr(e,t,n.path,i,s)}const c=s.getChanges();return nr(t,a,c),{viewCache:a,changes:c}}function nr(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=ui(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(xn(ui(t)))}}function ir(e,t,n,i,r,s){const a=t.eventCache;if(null!=Hi(i,n))return t;{let l,c;if(vt(n))if(Object(o["e"])(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=hi(t),r=n instanceof mn?n:mn.EMPTY_NODE,o=qi(i,r);l=e.filter.updateFullNode(t.eventCache.getNode(),o,s)}else{const n=zi(i,hi(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=ht(n);if(".priority"===u){Object(o["e"])(1===dt(n),"Can't have a priority with additional path components");const r=a.getNode();c=t.serverCache.getNode();const s=Vi(i,n,r,c);l=null!=s?e.filter.updatePriority(r,s):a.getNode()}else{const o=ft(n);let h;if(a.isCompleteForChild(u)){c=t.serverCache.getNode();const e=Vi(i,n,a.getNode(),c);h=null!=e?a.getNode().getImmediateChild(u).updateChild(o,e):a.getNode().getImmediateChild(u)}else h=Wi(i,u,t.serverCache);l=null!=h?e.filter.updateChild(a.getNode(),u,h,o,r,s):a.getNode()}}return li(t,l,a.isFullyInitialized()||vt(n),e.filter.filtersNodes())}}function rr(e,t,n,i,r,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(vt(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=ht(n);if(!l.isCompleteForPath(n)&&dt(n)>1)return t;const r=ft(n),o=l.getNode().getImmediateChild(e),s=o.updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,r,Qi,null)}const h=ci(t,c,l.isFullyInitialized()||vt(n),u.filtersNodes()),d=new Ji(r,h,o);return ir(e,h,n,r,d,a)}function or(e,t,n,i,r,o,s){const a=t.eventCache;let l,c;const u=new Ji(r,t,o);if(vt(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=li(t,c,!0,e.filter.filtersNodes());else{const r=ht(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=li(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=ft(n),c=a.getNode().getImmediateChild(r);let h;if(vt(o))h=i;else{const e=u.getCompleteChild(r);h=null!=e?".priority"===pt(o)&&e.getChild(At(o)).isEmpty()?e:e.updateChild(o,i):mn.EMPTY_NODE}if(c.equals(h))l=t;else{const n=e.filter.updateChild(a.getNode(),r,h,o,u,s);l=li(t,n,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function sr(e,t){return e.eventCache.isCompleteForChild(t)}function ar(e,t,n,i,r,o,s){let a=t;return i.foreach((i,l)=>{const c=yt(n,i);sr(t,ht(c))&&(a=or(e,a,c,l,r,o,s))}),i.foreach((i,l)=>{const c=yt(n,i);sr(t,ht(c))||(a=or(e,a,c,l,r,o,s))}),a}function lr(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function cr(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=vt(n)?i:new pi(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(u.hasChild(n)){const l=t.serverCache.getNode().getImmediateChild(n),u=lr(e,l,i);c=rr(e,c,new ct(n),u,r,o,s,a)}}),l.children.inorderTraversal((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=t.serverCache.getNode().getImmediateChild(n),u=lr(e,l,i);c=rr(e,c,new ct(n),u,r,o,s,a)}}),c}function ur(e,t,n,i,r,o,s){if(null!=Hi(r,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(vt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rr(e,t,n,l.getNode().getChild(n),r,o,a,s);if(vt(n)){let i=new pi(null);return l.getNode().forEachChild(qt,(e,t)=>{i=i.set(new ct(e),t)}),cr(e,t,n,i,r,o,a,s)}return t}{let c=new pi(null);return i.foreach((e,t)=>{const i=yt(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))}),cr(e,t,n,c,r,o,a,s)}}function hr(e,t,n,i,r){const o=t.serverCache,s=ci(t,o.getNode(),o.isFullyInitialized()||vt(n),o.isFiltered());return ir(e,s,n,i,Qi,r)}function dr(e,t,n,i,r,s){let a;if(null!=Hi(i,n))return t;{const l=new Ji(i,t,r),c=t.eventCache.getNode();let u;if(vt(n)||".priority"===ht(n)){let n;if(t.serverCache.isFullyInitialized())n=zi(i,hi(t));else{const e=t.serverCache.getNode();Object(o["e"])(e instanceof mn,"serverChildren would be complete if leaf node"),n=qi(i,e)}n=n,u=e.filter.updateFullNode(c,n,s)}else{const r=ht(n);let o=Wi(i,r,t.serverCache);null==o&&t.serverCache.isCompleteForChild(r)&&(o=c.getImmediateChild(r)),u=null!=o?e.filter.updateChild(c,r,o,ft(n),l,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(c,r,mn.EMPTY_NODE,ft(n),l,s):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=zi(i,hi(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=Hi(i,ut()),li(t,u,a,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new Cn(n.getIndex()),r=In(n);this.processor_=Zi(r);const o=t.serverCache,s=t.eventCache,a=i.updateFullNode(mn.EMPTY_NODE,o.getNode(),null),l=r.updateFullNode(mn.EMPTY_NODE,s.getNode(),null),c=new ti(a,o.isFullyInitialized(),i.filtersNodes()),u=new ti(l,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=ai(u,c),this.eventGenerator_=new ni(this.query_)}get query(){return this.query_}}function pr(e){return e.viewCache_.serverCache.getNode()}function mr(e,t){const n=hi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!vt(t)&&!n.getImmediateChild(ht(t)).isEmpty())?n.getChild(t):null}function gr(e){return 0===e.eventRegistrations_.length}function Ar(e,t){e.eventRegistrations_.push(t)}function yr(e,t,n){const i=[];if(n){Object(o["e"])(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function vr(e,t,n,i){t.type===$n.MERGE&&null!==t.source.queryId&&(Object(o["e"])(hi(e.viewCache_),"We should always have a full cache before handling merges"),Object(o["e"])(ui(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=tr(e.processor_,r,t,n,i);return er(e.processor_,s.viewCache),Object(o["e"])(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,_r(e,s.changes,s.viewCache.eventCache.getNode(),null)}function br(e,t){const n=e.viewCache_.eventCache,i=[];if(!n.getNode().isLeafNode()){const e=n.getNode();e.forEachChild(an,(e,t)=>{i.push(Sn(e,t))})}return n.isFullyInitialized()&&i.push(xn(n.getNode())),_r(e,i,n.getNode(),t)}function _r(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return ii(e.eventGenerator_,t,n,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr,xr;class Sr{constructor(){this.views=new Map}}function Tr(e){Object(o["e"])(!wr,"__referenceConstructor has already been defined"),wr=e}function Er(){return Object(o["e"])(wr,"Reference.ts has not been loaded"),wr}function Mr(e){return 0===e.views.size}function Cr(e,t,n,i){const r=t.source.queryId;if(null!==r){const s=e.views.get(r);return Object(o["e"])(null!=s,"SyncTree gave us an op for an invalid query."),vr(s,t,n,i)}{let r=[];for(const o of e.views.values())r=r.concat(vr(o,t,n,i));return r}}function Or(e,t,n,i,r){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=zi(n,r?i:null),o=!1;e?o=!0:i instanceof mn?(e=qi(n,i),o=!1):(e=mn.EMPTY_NODE,o=!1);const s=ai(new ti(e,o,!1),new ti(i,r,!1));return new fr(t,s)}return s}function kr(e,t,n,i,r,o){const s=Or(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),Ar(s,n),br(s,n)}function Pr(e,t,n,i){const r=t._queryIdentifier,o=[];let s=[];const a=Nr(e);if("default"===r)for(const[l,c]of e.views.entries())s=s.concat(yr(c,n,i)),gr(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(r);t&&(s=s.concat(yr(t,n,i)),gr(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Nr(e)&&o.push(new(Er())(t._repo,t._path)),{removed:o,events:s}}function Ir(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Rr(e,t){let n=null;for(const i of e.views.values())n=n||mr(i,t);return n}function Dr(e,t){const n=t._queryParams;if(n.loadsAllData())return Br(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Lr(e,t){return null!=Dr(e,t)}function Nr(e){return null!=Br(e)}function Br(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e){Object(o["e"])(!xr,"__referenceConstructor has already been defined"),xr=e}function jr(){return Object(o["e"])(xr,"Reference.ts has not been loaded"),xr}let Ur=1;class zr{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pi(null),this.pendingWriteTree_=Ui(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qr(e,t,n,i,r){return Mi(e.pendingWriteTree_,t,n,i,r),r?Zr(e,new Zn(Xn(),t,n)):[]}function Vr(e,t,n=!1){const i=Ci(e.pendingWriteTree_,t),r=Oi(e.pendingWriteTree_,t);if(r){let t=new pi(null);return null!=i.snap?t=t.set(ut(),!0):F(i.children,e=>{t=t.set(new ct(e),!0)}),Zr(e,new Qn(i.path,t,n))}return[]}function Hr(e,t,n){return Zr(e,new Zn(Yn(),t,n))}function Gr(e,t,n){const i=pi.fromObject(n);return Zr(e,new ei(Yn(),t,i))}function Wr(e,t){return Zr(e,new Jn(Yn(),t))}function $r(e,t,n){const i=oo(e,n);if(i){const n=so(i),r=n.path,o=n.queryId,s=bt(r,t),a=new Jn(Kn(o),s);return ao(e,r,a)}return[]}function Xr(e,t,n,i,r=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Lr(s,t))){const l=Pr(s,t,n,i);Mr(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(o,(e,t)=>Nr(t));if(n&&!r){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=lo(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,o=no(e,i);e.listenProvider_.startListening(co(r),io(e,r),o.hashFn,o.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(co(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(ro(t));e.listenProvider_.stopListening(co(t),n)})}uo(e,c)}return a}function Yr(e,t,n,i){const r=oo(e,i);if(null!=r){const i=so(r),o=i.path,s=i.queryId,a=bt(o,t),l=new Zn(Kn(s),a,n);return ao(e,o,l)}return[]}function Kr(e,t,n,i){const r=oo(e,i);if(r){const i=so(r),o=i.path,s=i.queryId,a=bt(o,t),l=pi.fromObject(n),c=new ei(Kn(s),a,l);return ao(e,o,c)}return[]}function Qr(e,t,n,i=!1){const r=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=bt(e,r);s=s||Rr(t,n),a=a||Nr(t)});let l,c=e.syncPointTree_.get(r);if(c?(a=a||Nr(c),s=s||Rr(c,ut())):(c=new Sr,e.syncPointTree_=e.syncPointTree_.set(r,c)),null!=s)l=!0;else{l=!1,s=mn.EMPTY_NODE;const t=e.syncPointTree_.subtree(r);t.foreachChild((e,t)=>{const n=Rr(t,ut());n&&(s=s.updateImmediateChild(e,n))})}const u=Lr(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=ro(t);Object(o["e"])(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=ho();e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}const h=Ei(e.pendingWriteTree_,r);let d=kr(c,t,n,h,s,l);if(!u&&!a&&!i){const n=Dr(c,t);d=d.concat(fo(e,t,n))}return d}function Jr(e,t,n){const i=!0,r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(e,n)=>{const i=bt(e,t),r=Rr(n,i);if(r)return r});return Di(r,t,o,n,i)}function Zr(e,t){return eo(t,e.syncPointTree_,null,Ei(e.pendingWriteTree_,ut()))}function eo(e,t,n,i){if(vt(e.path))return to(e,t,n,i);{const r=t.get(ut());null==n&&null!=r&&(n=Rr(r,ut()));let o=[];const s=ht(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=$i(i,s);o=o.concat(eo(a,l,e,t))}return r&&(o=o.concat(Cr(r,e,i,n))),o}}function to(e,t,n,i){const r=t.get(ut());null==n&&null!=r&&(n=Rr(r,ut()));let o=[];return t.children.inorderTraversal((t,r)=>{const s=n?n.getImmediateChild(t):null,a=$i(i,t),l=e.operationForChild(t);l&&(o=o.concat(to(l,r,s,a)))}),r&&(o=o.concat(Cr(r,e,i,n))),o}function no(e,t){const n=t.query,i=io(e,n);return{hashFn:()=>{const e=pr(t)||mn.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?$r(e,n._path,i):Wr(e,n._path);{const i=q(t,n);return Xr(e,n,null,i)}}}}function io(e,t){const n=ro(t);return e.queryToTagMap.get(n)}function ro(e){return e._path.toString()+"$"+e._queryIdentifier}function oo(e,t){return e.tagToQueryMap.get(t)}function so(e){const t=e.indexOf("$");return Object(o["e"])(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ct(e.substr(0,t))}}function ao(e,t,n){const i=e.syncPointTree_.get(t);Object(o["e"])(i,"Missing sync point for query tag that we're tracking");const r=Ei(e.pendingWriteTree_,t);return Cr(i,n,r,null)}function lo(e){return e.fold((e,t,n)=>{if(t&&Nr(t)){const e=Br(t);return[e]}{let e=[];return t&&(e=Ir(t)),F(n,(t,n)=>{e=e.concat(n)}),e}})}function co(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(jr())(e._repo,e._path):e}function uo(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=ro(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}function ho(){return Ur++}function fo(e,t,n){const i=t._path,r=io(e,t),s=no(e,n),a=e.listenProvider_.startListening(co(t),r,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(i);if(r)Object(o["e"])(!Nr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold((e,t,n)=>{if(!vt(e)&&t&&Nr(t))return[Br(t).query];{let e=[];return t&&(e=e.concat(Ir(t).map(e=>e.query))),F(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(co(i),io(e,i))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new po(t)}node(){return this.node_}}class mo{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=yt(this.path_,e);return new mo(this.syncTree_,t)}node(){return Jr(this.syncTree_,this.path_)}}const go=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},Ao=function(e,t,n){return e&&"object"===typeof e?(Object(o["e"])(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?yo(e[".sv"],t,n):"object"===typeof e[".sv"]?vo(e[".sv"],t):void Object(o["e"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},yo=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:Object(o["e"])(!1,"Unexpected server value: "+e)}},vo=function(e,t,n){e.hasOwnProperty("increment")||Object(o["e"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e["increment"];"number"!==typeof i&&Object(o["e"])(!1,"Unexpected increment value: "+i);const r=t.node();if(Object(o["e"])(null!==r&&"undefined"!==typeof r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r,a=s.getValue();return"number"!==typeof a?i:a+i},bo=function(e,t,n,i){return wo(t,new mo(n,e),i)},_o=function(e,t,n){return wo(e,new po(t),n)};function wo(e,t,n){const i=e.getPriority().val(),r=Ao(i,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const i=e,o=Ao(i.getValue(),t,n);return o!==i.getValue()||r!==i.getPriority().val()?new nn(o,vn(r)):e}{const i=e;return o=i,r!==i.getPriority().val()&&(o=o.updatePriority(new nn(r))),i.forEachChild(an,(e,i)=>{const r=wo(i,t.getImmediateChild(e),n);r!==i&&(o=o.updateImmediateChild(e,r))}),o}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function So(e,t){let n=t instanceof ct?t:new ct(t),i=e,r=ht(n);while(null!==r){const e=Object(o["M"])(i.node.children,r)||{children:{},childCount:0};i=new xo(r,i,e),n=ft(n),r=ht(n)}return i}function To(e){return e.node.value}function Eo(e,t){e.node.value=t,Ro(e)}function Mo(e){return e.node.childCount>0}function Co(e){return void 0===To(e)&&!Mo(e)}function Oo(e,t){F(e.node.children,(n,i)=>{t(new xo(n,e,i))})}function ko(e,t,n,i){n&&!i&&t(e),Oo(e,e=>{ko(e,t,!0,i)}),n&&i&&t(e)}function Po(e,t,n){let i=n?e:e.parent;while(null!==i){if(t(i))return!0;i=i.parent}return!1}function Io(e){return new ct(null===e.parent?e.name:Io(e.parent)+"/"+e.name)}function Ro(e){null!==e.parent&&Do(e.parent,e.name,e)}function Do(e,t,n){const i=Co(n),r=Object(o["k"])(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Ro(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,Ro(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=/[\[\].#$\/\u0000-\u001F\u007F]/,No=/[\[\].#$\u0000-\u001F\u007F]/,Bo=10485760,Fo=function(e){return"string"===typeof e&&0!==e.length&&!Lo.test(e)},jo=function(e){return"string"===typeof e&&0!==e.length&&!No.test(e)},Uo=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jo(e)},zo=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!O(e)||e&&"object"===typeof e&&Object(o["k"])(e,".sv")},qo=function(e,t,n,i){i&&void 0===t||Vo(Object(o["p"])(e,"value"),t,n)},Vo=function(e,t,n){const i=n instanceof ct?new St(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ct(i));if("function"===typeof t)throw new Error(e+"contains a function "+Ct(i)+" with contents = "+t.toString());if(O(t))throw new Error(e+"contains "+t.toString()+" "+Ct(i));if("string"===typeof t&&t.length>Bo/3&&Object(o["N"])(t)>Bo)throw new Error(e+"contains a string greater than "+Bo+" utf8 bytes "+Ct(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,r=!1;if(F(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!Fo(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ct(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Tt(i,t),Vo(e,o,i),Et(i)}),n&&r)throw new Error(e+' contains ".value" child '+Ct(i)+" in addition to actual children.")}},Ho=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=gt(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!Fo(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_t);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&xt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Go=function(e,t,n,i){if(i&&void 0===t)return;const r=Object(o["p"])(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];F(t,(e,t)=>{const i=new ct(e);if(Vo(r,t,yt(n,i)),".priority"===pt(i)&&!zo(t))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(i)}),Ho(r,s)},Wo=function(e,t,n){if(!n||void 0!==t){if(O(t))throw new Error(Object(o["p"])(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zo(t))throw new Error(Object(o["p"])(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$o=function(e,t,n,i){if((!i||void 0!==n)&&!jo(n))throw new Error(Object(o["p"])(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xo=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$o(e,t,n,i)},Yo=function(e,t){if(".info"===ht(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ko=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Fo(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!Uo(n))throw new Error(Object(o["p"])(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jo(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null===n||wt(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function Zo(e,t,n){Jo(e,n),ts(e,e=>wt(e,t))}function es(e,t,n){Jo(e,n),ts(e,e=>xt(e,t)||xt(t,e))}function ts(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const o=r.path;t(o)?(ns(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ns(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();b&&x("event: "+n.toString()),$(i)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="repo_interrupt",rs=25;class os{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bn(),this.transactionQueueTree_=new xo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ss(e,t,n){if(e.stats_=ge(e.repoInfo_),e.forceRestClient_||X())e.server_=new Ln(e.repoInfo_,(t,n,i,r)=>{cs(e,t,n,i,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>us(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o["P"])(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Bt(e.repoInfo_,t,(t,n,i,r)=>{cs(e,t,n,i,r)},t=>{us(e,t)},t=>{hs(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=Ae(e.repoInfo_,()=>new Wn(e.stats_,e.server_)),e.infoData_=new Nn,e.infoSyncTree_=new zr({startListening:(t,n,i,r)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Hr(e.infoSyncTree_,t._path,s),setTimeout(()=>{r("ok")},0)),o},stopListening:()=>{}}),ds(e,"connected",!1),e.serverSyncTree_=new zr({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,(n,i)=>{const o=r(n,i);es(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function as(e){const t=e.infoData_.getNode(new ct(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function ls(e){return go({timestamp:as(e)})}function cs(e,t,n,i,r){e.dataUpdateCount++;const s=new ct(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(r)if(i){const t=Object(o["J"])(n,e=>vn(e));a=Kr(e.serverSyncTree_,s,t,r)}else{const t=vn(n);a=Yr(e.serverSyncTree_,s,t,r)}else if(i){const t=Object(o["J"])(n,e=>vn(e));a=Gr(e.serverSyncTree_,s,t)}else{const t=vn(n);a=Hr(e.serverSyncTree_,s,t)}let l=s;a.length>0&&(l=Cs(e,s)),es(e.eventQueue_,l,a)}function us(e,t){ds(e,"connected",t),!1===t&&ms(e)}function hs(e,t){F(t,(t,n)=>{ds(e,t,n)})}function ds(e,t,n){const i=new ct("/.info/"+t),r=vn(n);e.infoData_.updateSnapshot(i,r);const o=Hr(e.infoSyncTree_,i,r);es(e.eventQueue_,i,o)}function fs(e){return e.nextWriteId_++}function ps(e,t,n,i,r){xs(e,"set",{path:t.toString(),value:n,priority:i});const o=ls(e),s=vn(n,i),a=Jr(e.serverSyncTree_,t),l=_o(s,a,o),c=fs(e),u=qr(e.serverSyncTree_,t,l,c,!0);Jo(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,i)=>{const o="ok"===n;o||M("set at "+t+" failed: "+n);const s=Vr(e.serverSyncTree_,c,!o);es(e.eventQueue_,t,s),Ss(e,r,n,i)});const h=Ds(e,t);Cs(e,h),es(e.eventQueue_,h,[])}function ms(e){xs(e,"onDisconnectEvents");const t=ls(e),n=Bn();Un(e.onDisconnect_,ut(),(i,r)=>{const o=bo(i,r,e.serverSyncTree_,t);Fn(n,i,o)});let i=[];Un(n,ut(),(t,n)=>{i=i.concat(Hr(e.serverSyncTree_,t,n));const r=Ds(e,t);Cs(e,r)}),e.onDisconnect_=Bn(),es(e.eventQueue_,ut(),i)}function gs(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&jn(e.onDisconnect_,t),Ss(e,n,i,r)})}function As(e,t,n,i){const r=vn(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(n,o)=>{"ok"===n&&Fn(e.onDisconnect_,t,r),Ss(e,i,n,o)})}function ys(e,t,n,i,r){const o=vn(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,i)=>{"ok"===n&&Fn(e.onDisconnect_,t,o),Ss(e,r,n,i)})}function vs(e,t,n,i){if(Object(o["z"])(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void Ss(e,i,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{"ok"===r&&F(n,(n,i)=>{const r=vn(i);Fn(e.onDisconnect_,yt(t,n),r)}),Ss(e,i,r,o)})}function bs(e,t,n){let i;i=".info"===ht(t._path)?Qr(e.infoSyncTree_,t,n):Qr(e.serverSyncTree_,t,n),Zo(e.eventQueue_,t._path,i)}function _s(e,t,n){let i;i=".info"===ht(t._path)?Xr(e.infoSyncTree_,t,n):Xr(e.serverSyncTree_,t,n),Zo(e.eventQueue_,t._path,i)}function ws(e){e.persistentConnection_&&e.persistentConnection_.interrupt(is)}function xs(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),x(n,...t)}function Ss(e,t,n,i){t&&$(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const o=new Error(r);o.code=e,t(o)}})}function Ts(e,t,n){return Jr(e.serverSyncTree_,t,n)||mn.EMPTY_NODE}function Es(e,t=e.transactionQueueTree_){if(t||Rs(e,t),To(t)){const n=Ps(e,t);Object(o["e"])(n.length>0,"Sending zero length transaction queue");const i=n.every(e=>0===e.status);i&&Ms(e,Io(t),n)}else Mo(t)&&Oo(t,t=>{Es(e,t)})}function Ms(e,t,n){const i=n.map(e=>e.currentWriteId),r=Ts(e,t,i);let s=r;const a=r.hash();for(let u=0;u<n.length;u++){const e=n[u];Object(o["e"])(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=bt(t,e.path);s=s.updateChild(i,e.currentOutputSnapshotRaw)}const l=s.val(!0),c=t;e.server_.put(c.toString(),l,i=>{xs(e,"transaction put response",{path:c.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(Vr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Rs(e,So(e.transactionQueueTree_,t)),Es(e,e.transactionQueueTree_),es(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)$(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{M("transaction at "+c.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}Cs(e,t)}},a)}function Cs(e,t){const n=ks(e,t),i=Io(n),r=Ps(e,n);return Os(e,r,i),i}function Os(e,t,n){if(0===t.length)return;const i=[];let r=[];const s=t.filter(e=>0===e.status),a=s.map(e=>e.currentWriteId);for(let l=0;l<t.length;l++){const s=t[l],c=bt(n,s.path);let u,h=!1;if(Object(o["e"])(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,r=r.concat(Vr(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=rs)h=!0,u="maxretry",r=r.concat(Vr(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Ts(e,s.path,a);s.currentInputSnapshot=n;const i=t[l].update(n.val());if(void 0!==i){Vo("transaction failed: Data returned ",i,s.path);let t=vn(i);const l="object"===typeof i&&null!=i&&Object(o["k"])(i,".priority");l||(t=t.updatePriority(n.getPriority()));const c=s.currentWriteId,u=ls(e),h=_o(t,n,u);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=h,s.currentWriteId=fs(e),a.splice(a.indexOf(c),1),r=r.concat(qr(e.serverSyncTree_,s.path,h,s.currentWriteId,s.applyLocally)),r=r.concat(Vr(e.serverSyncTree_,c,!0))}else h=!0,u="nodata",r=r.concat(Vr(e.serverSyncTree_,s.currentWriteId,!0))}es(e.eventQueue_,n,r),r=[],h&&(t[l].status=2,function(e){setTimeout(e,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&("nodata"===u?i.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):i.push(()=>t[l].onComplete(new Error(u),!1,null))))}Rs(e,e.transactionQueueTree_);for(let o=0;o<i.length;o++)$(i[o]);Es(e,e.transactionQueueTree_)}function ks(e,t){let n,i=e.transactionQueueTree_;n=ht(t);while(null!==n&&void 0===To(i))i=So(i,n),t=ft(t),n=ht(t);return i}function Ps(e,t){const n=[];return Is(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Is(e,t,n){const i=To(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Oo(t,t=>{Is(e,t,n)})}function Rs(e,t){const n=To(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Eo(t,n.length>0?n:void 0)}Oo(t,t=>{Rs(e,t)})}function Ds(e,t){const n=Io(ks(e,t)),i=So(e.transactionQueueTree_,t);return Po(i,t=>{Ls(e,t)}),Ls(e,i),ko(i,t=>{Ls(e,t)}),n}function Ls(e,t){const n=To(t);if(n){const i=[];let r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Object(o["e"])(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Object(o["e"])(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(Vr(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Eo(t,void 0):n.length=s+1,es(e.eventQueue_,Io(t),r);for(let e=0;e<i.length;e++)$(i[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}t+="/"+e}return t}function Bs(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):M(`Invalid query segment '${n}' in query '${e}'`)}return t}const Fs=function(e,t){const n=js(e),i=n.namespace;"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||C();const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ue(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ct(n.pathString)}},js=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(r=Ns(e.substring(u,h)));const d=Bs(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=i}"ns"in d&&(o=d["ns"])}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},Us="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";(function(){let e=0;const t=[]})();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zs{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Object(o["P"])(this.snapshot.exportVal())}}class qs{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Object(o["e"])(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new o["a"];return gs(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Yo("OnDisconnect.remove",this._path);const e=new o["a"];return As(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Yo("OnDisconnect.set",this._path),qo("OnDisconnect.set",e,this._path,!1);const t=new o["a"];return As(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Yo("OnDisconnect.setWithPriority",this._path),qo("OnDisconnect.setWithPriority",e,this._path,!1),Wo("OnDisconnect.setWithPriority",t,!1);const n=new o["a"];return ys(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Yo("OnDisconnect.update",this._path),Go("OnDisconnect.update",e,this._path,!1);const t=new o["a"];return vs(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return vt(this._path)?null:pt(this._path)}get ref(){return new Ws(this._repo,this._path)}get _queryIdentifier(){const e=Dn(this._queryParams),t=N(e);return"{}"===t?"default":t}get _queryObject(){return Dn(this._queryParams)}isEqual(e){if(e=Object(o["v"])(e),!(e instanceof Gs))return!1;const t=this._repo===e._repo,n=wt(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+mt(this._path)}}class Ws extends Gs{constructor(e,t){super(e,t,new Pn,!1)}get parent(){const e=At(this._path);return null===e?null:new Ws(this._repo,e)}get root(){let e=this;while(null!==e.parent)e=e.parent;return e}}class $s{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ct(e),n=Ys(this.ref,e);return new $s(this._node.getChild(t),n,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;const t=this._node;return!!t.forEachChild(this._index,(t,n)=>e(new $s(n,Ys(this.ref,t),an)))}hasChild(e){const t=new ct(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xs(e,t){return e=Object(o["v"])(e),e._checkNotDeleted("ref"),void 0!==t?Ys(e._root,t):e._root}function Ys(e,t){return e=Object(o["v"])(e),null===ht(e._path)?Xo("child","path",t,!1):$o("child","path",t,!1),new Ws(e._repo,yt(e._path,t))}function Ks(e){return e=Object(o["v"])(e),new Hs(e._repo,e._path)}function Qs(e,t){e=Object(o["v"])(e),Yo("set",e._path),qo("set",t,e._path,!1);const n=new o["a"];return ps(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class Js{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new zs("value",this,new $s(e.snapshotNode,new Ws(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qs(this,e,t):null}matches(e){return e instanceof Js&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Zs{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qs(this,e,t):null}createEvent(e,t){Object(o["e"])(null!=e.childName,"Child events should have a childName.");const n=Ys(new Ws(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new zs(e.type,this,new $s(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Zs&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function ea(e,t,n,i,r){let o;if("object"===typeof i&&(o=void 0,r=i),"function"===typeof i&&(o=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{_s(e._repo,e,a),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const s=new Vs(n,o||void 0),a="value"===t?new Js(s):new Zs(t,s);return bs(e._repo,e,a),()=>_s(e._repo,e,a)}function ta(e,t,n,i){return ea(e,"value",t,n,i)}Tr(Ws),Fr(Ws);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const na="FIREBASE_DATABASE_EMULATOR_HOST",ia={};let ra=!1;function oa(e,t,n,i){e.repoInfo_=new ue(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function sa(t,n,i,r,o){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");let a,l=Fs(s,o),c=l.repoInfo,u=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"})&&(u=Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"})[na]),u?(a=!0,s=`http://${u}?ns=${c.namespace}`,l=Fs(s,o),c=l.repoInfo):a=!l.repoInfo.secure;const h=o&&a?new J(J.OWNER):new Q(t.name,t.options,n);Ko("Invalid Firebase Database URL",l),vt(l.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");const d=la(c,t,h,new K(t.name,i));return new ca(d,t)}function aa(e,t){const n=ia[t];n&&n[e.key]===e||E(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ws(e),delete n[e.key]}function la(e,t,n,i){let r=ia[t.name];r||(r={},ia[t.name]=r);let o=r[e.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new os(e,ra,n,i),r[e.toURLString()]=o,o}class ca{constructor(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ss(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ws(this._repo,ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(aa(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&E("Cannot call "+e+" on a deleted database.")}}function ua(e=Object(i["e"])(),t){const n=Object(i["b"])(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Object(o["t"])("database");e&&ha(n,...e)}return n}function ha(e,t,n,i={}){e=Object(o["v"])(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let s=void 0;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new J(J.OWNER);else if(i.mockUserToken){const t="string"===typeof i.mockUserToken?i.mockUserToken:Object(o["l"])(i.mockUserToken,e.app.options.projectId);s=new J(t)}oa(r,t,n,s)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function da(e){u(i["a"]),Object(i["c"])(new r["a"]("database",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return sa(n,i,r,t)},"PUBLIC").setMultipleInstances(!0)),Object(i["g"])(a,l,e),Object(i["g"])(a,l,"esm2017")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa={".sv":"timestamp"};function pa(){return fa}Bt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Bt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};da()}).call(this,n("4362"))},5270:function(e,t,n){"use strict";var i=n("c532"),r=n("c401"),o=n("2e67"),s=n("4c3d"),a=n("7a77");function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5502:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return J}));var i=n("7a23"),r=n("3f4e"),o="store";function s(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function a(e){return null!==e&&"object"===typeof e}function l(e){return e&&"function"===typeof e.then}function c(e,t){if(!e)throw new Error("[vuex] "+t)}function u(e,t){return function(){return e(t)}}function h(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function d(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;p(e,n,[],e._modules.root,!0),f(e,n,t)}function f(e,t,n){var r=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,l={},c={},h=Object(i["effectScope"])(!0);h.run((function(){s(a,(function(t,n){l[n]=u(t,e),c[n]=Object(i["computed"])((function(){return l[n]()})),Object.defineProperty(e.getters,n,{get:function(){return c[n].value},enumerable:!0})}))})),e._state=Object(i["reactive"])({data:t}),e._scope=h,e.strict&&b(e),r&&n&&e._withCommit((function(){r.data=null})),o&&o.stop()}function p(e,t,n,i,r){var o=!n.length,s=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[s]&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[s]=i),!o&&!r){var a=_(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){l in a&&console.warn('[vuex] state field "'+l+'" was overridden by a module with the same name at "'+n.join(".")+'"'),a[l]=i.state}))}var c=i.context=m(e,s,n);i.forEachMutation((function(t,n){var i=s+n;A(e,i,t,c)})),i.forEachAction((function(t,n){var i=t.root?n:s+n,r=t.handler||t;y(e,i,r,c)})),i.forEachGetter((function(t,n){var i=s+n;v(e,i,t,c)})),i.forEachChild((function(i,o){p(e,t,n.concat(o),i,r)}))}function m(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var o=w(n,i,r),s=o.payload,a=o.options,l=o.type;if(a&&a.root||(l=t+l,e._actions[l]))return e.dispatch(l,s);console.error("[vuex] unknown local action type: "+o.type+", global type: "+l)},commit:i?e.commit:function(n,i,r){var o=w(n,i,r),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=t+l,e._mutations[l])?e.commit(l,s,a):console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+l)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return g(e,t)}},state:{get:function(){return _(e.state,n)}}}),r}function g(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function A(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push((function(t){n.call(e,i.state,t)}))}function y(e,t,n,i){var r=e._actions[t]||(e._actions[t]=[]);r.push((function(t){var r=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return l(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):r}))}function v(e,t,n,i){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)}}function b(e){Object(i["watch"])((function(){return e._state.data}),(function(){c(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function _(e,t){return t.reduce((function(e,t){return e[t]}),e)}function w(e,t,n){return a(e)&&e.type&&(n=t,t=e,e=e.type),c("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}var x="vuex bindings",S="vuex:mutations",T="vuex:actions",E="vuex",M=0;function C(e,t){Object(r["a"])({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[x]},(function(n){n.addTimelineLayer({id:S,label:"Vuex Mutations",color:O}),n.addTimelineLayer({id:T,label:"Vuex Actions",color:O}),n.addInspector({id:E,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===E)if(n.filter){var i=[];L(i,t._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[D(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===E){var i=n.nodeId;g(t,i),n.state=N(F(t._modules,i),"root"===i?t.getters:t._makeLocalGettersCache,i)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===E){var i=n.nodeId,r=n.path;"root"!==i&&(r=i.split("/").filter(Boolean).concat(r)),t._withCommit((function(){n.set(t._state.data,r,n.state.value)}))}})),t.subscribe((function(e,t){var i={};e.payload&&(i.payload=e.payload),i.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(E),n.sendInspectorState(E),n.addTimelineEvent({layerId:S,event:{time:Date.now(),title:e.type,data:i}})})),t.subscribeAction({before:function(e,t){var i={};e.payload&&(i.payload=e.payload),e._id=M++,e._time=Date.now(),i.state=t,n.addTimelineEvent({layerId:T,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:i}})},after:function(e,t){var i={},r=Date.now()-e._time;i.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},e.payload&&(i.payload=e.payload),i.state=t,n.addTimelineEvent({layerId:T,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:i}})}})}))}var O=8702998,k=6710886,P=16777215,I={label:"namespaced",textColor:P,backgroundColor:k};function R(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function D(e,t){return{id:t||"root",label:R(t),tags:e.namespaced?[I]:[],children:Object.keys(e._children).map((function(n){return D(e._children[n],t+n+"/")}))}}function L(e,t,n,i){i.includes(n)&&e.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[I]:[]}),Object.keys(t._children).forEach((function(r){L(e,t._children[r],n,i+r+"/")}))}function N(e,t,n){t="root"===n?t:t[n];var i=Object.keys(t),r={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(i.length){var o=B(t);r.getters=Object.keys(o).map((function(e){return{key:e.endsWith("/")?R(e):e,editable:!1,value:j((function(){return o[e]}))}}))}return r}function B(e){var t={};return Object.keys(e).forEach((function(n){var i=n.split("/");if(i.length>1){var r=t,o=i.pop();i.forEach((function(e){r[e]||(r[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),r=r[e]._custom.value})),r[o]=j((function(){return e[n]}))}else t[n]=j((function(){return e[n]}))})),t}function F(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,i,r){var o=e[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+t+'".');return r===n.length-1?o:o._children}),"root"===t?e:e.root._children)}function j(e){try{return e()}catch(t){return t}}var U=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},z={namespaced:{configurable:!0}};z.namespaced.get=function(){return!!this._rawModule.namespaced},U.prototype.addChild=function(e,t){this._children[e]=t},U.prototype.removeChild=function(e){delete this._children[e]},U.prototype.getChild=function(e){return this._children[e]},U.prototype.hasChild=function(e){return e in this._children},U.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},U.prototype.forEachChild=function(e){s(this._children,e)},U.prototype.forEachGetter=function(e){this._rawModule.getters&&s(this._rawModule.getters,e)},U.prototype.forEachAction=function(e){this._rawModule.actions&&s(this._rawModule.actions,e)},U.prototype.forEachMutation=function(e){this._rawModule.mutations&&s(this._rawModule.mutations,e)},Object.defineProperties(U.prototype,z);var q=function(e){this.register([],e,!1)};function V(e,t,n){if($(e,n),t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return void console.warn("[vuex] trying to add a new module '"+i+"' on hot reloading, manual reload is needed");V(e.concat(i),t.getChild(i),n.modules[i])}}q.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},q.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},q.prototype.update=function(e){V([],this.root,e)},q.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0),$(e,t);var r=new U(t,n);if(0===e.length)this.root=r;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],r)}t.modules&&s(t.modules,(function(t,r){i.register(e.concat(r),t,n)}))},q.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i?i.runtime&&t.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},q.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var H={assert:function(e){return"function"===typeof e},expected:"function"},G={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},W={getters:H,mutations:H,actions:G};function $(e,t){Object.keys(W).forEach((function(n){if(t[n]){var i=W[n];s(t[n],(function(t,r){c(i.assert(t),X(e,n,r,t,i.expected))}))}}))}function X(e,t,n,i,r){var o=t+" should be "+r+' but "'+t+"."+n+'"';return e.length>0&&(o+=' in module "'+e.join(".")+'"'),o+=" is "+JSON.stringify(i)+".",o}function Y(e){return new K(e)}var K=function e(t){var n=this;void 0===t&&(t={}),c("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),c(this instanceof e,"store must be called with the new operator.");var i=t.plugins;void 0===i&&(i=[]);var r=t.strict;void 0===r&&(r=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new q(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(e,t){return l.call(s,e,t)},this.commit=function(e,t,n){return u.call(s,e,t,n)},this.strict=r;var h=this._modules.root.state;p(this,h,[],this._modules.root),f(this,h),i.forEach((function(e){return e(n)}))},Q={state:{configurable:!0}};K.prototype.install=function(e,t){e.provide(t||o,this),e.config.globalProperties.$store=this;var n=void 0===this._devtools||this._devtools;n&&C(e,this)},Q.state.get=function(){return this._state.data},Q.state.set=function(e){c(!1,"use store.replaceState() to explicit replace store state.")},K.prototype.commit=function(e,t,n){var i=this,r=w(e,t,n),o=r.type,s=r.payload,a=r.options,l={type:o,payload:s},c=this._mutations[o];c?(this._withCommit((function(){c.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(l,i.state)})),a&&a.silent&&console.warn("[vuex] mutation type: "+o+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+o)},K.prototype.dispatch=function(e,t){var n=this,i=w(e,t),r=i.type,o=i.payload,s={type:r,payload:o},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(c){console.warn("[vuex] error in before action subscribers: "),console.error(c)}var l=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(c){console.warn("[vuex] error in after action subscribers: "),console.error(c)}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(c){console.warn("[vuex] error in error action subscribers: "),console.error(c)}t(e)}))}))}console.error("[vuex] unknown action type: "+r)},K.prototype.subscribe=function(e,t){return h(e,this._subscribers,t)},K.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return h(n,this._actionSubscribers,t)},K.prototype.watch=function(e,t,n){var r=this;return c("function"===typeof e,"store.watch only accepts a function."),Object(i["watch"])((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},K.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},K.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),c(Array.isArray(e),"module path must be a string or an Array."),c(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),p(this,this.state,e,this._modules.get(e),n.preserveState),f(this,this.state)},K.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),c(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var n=_(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),d(this)},K.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),c(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},K.prototype.hotUpdate=function(e){this._modules.update(e),d(this,!0)},K.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(K.prototype,Q);var J=te((function(e,t){var n={};return ee(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),Z(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=ne(this.$store,"mapState",e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"===typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0})),n}));te((function(e,t){var n={};return ee(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),Z(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var i=this.$store.commit;if(e){var o=ne(this.$store,"mapMutations",e);if(!o)return;i=o.context.commit}return"function"===typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n})),te((function(e,t){var n={};return ee(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),Z(t).forEach((function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||ne(this.$store,"mapGetters",e)){if(r in this.$store.getters)return this.$store.getters[r];console.error("[vuex] unknown getter: "+r)}},n[i].vuex=!0})),n})),te((function(e,t){var n={};return ee(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),Z(t).forEach((function(t){var i=t.key,r=t.val;n[i]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var o=ne(this.$store,"mapActions",e);if(!o)return;i=o.context.dispatch}return"function"===typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}})),n}));function Z(e){return ee(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function ee(e){return Array.isArray(e)||a(e)}function te(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function ne(e,t,n){var i=e._modulesNamespaceMap[n];return i||console.error("[vuex] module namespace not found in "+t+"(): "+n),i}},"55b5":function(e,t,n){var i=n("4a4b");function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},5664:function(e,t,n){"use strict";function i(e,t,n){n=n||2;var i,o,a,l,c,u,d,f=t&&t.length,p=f?t[0]*n:e.length,m=r(e,0,p,n,!0),g=[];if(!m||m.next===m.prev)return g;if(f&&(m=h(e,t,m,n)),e.length>80*n){i=a=e[0],o=l=e[1];for(var A=n;A<p;A+=n)c=e[A],u=e[A+1],c<i&&(i=c),u<o&&(o=u),c>a&&(a=c),u>l&&(l=u);d=Math.max(a-i,l-o),d=0!==d?32767/d:0}return s(m,g,n,i,o,d,0),g}function r(e,t,n,i,r){var o,s;if(r===D(e,t,n,i)>0)for(o=t;o<n;o+=i)s=P(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=P(o,e[o],e[o+1],s);return s&&x(s,s.next)&&(I(s),s=s.next),s}function o(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!x(i,i.next)&&0!==w(i.prev,i,i.next))i=i.next;else{if(I(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function s(e,t,n,i,r,h,d){if(e){!d&&h&&g(e,i,r,h);var f,p,m=e;while(e.prev!==e.next)if(f=e.prev,p=e.next,h?l(e,i,r,h):a(e))t.push(f.i/n|0),t.push(e.i/n|0),t.push(p.i/n|0),I(e),e=p.next,m=p.next;else if(e=p,e===m){d?1===d?(e=c(o(e),t,n),s(e,t,n,i,r,h,2)):2===d&&u(e,t,n,i,r,h):s(o(e),t,n,i,r,h,1);break}}}function a(e){var t=e.prev,n=e,i=e.next;if(w(t,n,i)>=0)return!1;var r=t.x,o=n.x,s=i.x,a=t.y,l=n.y,c=i.y,u=r<o?r<s?r:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,d=r>o?r>s?r:s:o>s?o:s,f=a>l?a>c?a:c:l>c?l:c,p=i.next;while(p!==t){if(p.x>=u&&p.x<=d&&p.y>=h&&p.y<=f&&b(r,a,o,l,s,c,p.x,p.y)&&w(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function l(e,t,n,i){var r=e.prev,o=e,s=e.next;if(w(r,o,s)>=0)return!1;var a=r.x,l=o.x,c=s.x,u=r.y,h=o.y,d=s.y,f=a<l?a<c?a:c:l<c?l:c,p=u<h?u<d?u:d:h<d?h:d,m=a>l?a>c?a:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,A=y(f,p,t,n,i),v=y(m,g,t,n,i),_=e.prevZ,x=e.nextZ;while(_&&_.z>=A&&x&&x.z<=v){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==r&&_!==s&&b(a,u,l,h,c,d,_.x,_.y)&&w(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==r&&x!==s&&b(a,u,l,h,c,d,x.x,x.y)&&w(x.prev,x,x.next)>=0)return!1;x=x.nextZ}while(_&&_.z>=A){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==r&&_!==s&&b(a,u,l,h,c,d,_.x,_.y)&&w(_.prev,_,_.next)>=0)return!1;_=_.prevZ}while(x&&x.z<=v){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==r&&x!==s&&b(a,u,l,h,c,d,x.x,x.y)&&w(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function c(e,t,n){var i=e;do{var r=i.prev,s=i.next.next;!x(r,s)&&S(r,i,i.next,s)&&C(r,s)&&C(s,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(s.i/n|0),I(i),I(i.next),i=e=s),i=i.next}while(i!==e);return o(i)}function u(e,t,n,i,r,a){var l=e;do{var c=l.next.next;while(c!==l.prev){if(l.i!==c.i&&_(l,c)){var u=k(l,c);return l=o(l,l.next),u=o(u,u.next),s(l,t,n,i,r,a,0),void s(u,t,n,i,r,a,0)}c=c.next}l=l.next}while(l!==e)}function h(e,t,n,i){var o,s,a,l,c,u=[];for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=r(e,a,l,i,!1),c===c.next&&(c.steiner=!0),u.push(v(c));for(u.sort(d),o=0;o<u.length;o++)n=f(u[o],n);return n}function d(e,t){return e.x-t.x}function f(e,t){var n=p(e,t);if(!n)return t;var i=k(n,e);return o(i,i.next),o(n,n.next)}function p(e,t){var n,i=t,r=e.x,o=e.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s&&(s=a,n=i.x<i.next.x?i:i.next,a===r))return n}i=i.next}while(i!==t);if(!n)return null;var l,c=n,u=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&b(o<h?r:s,o,u,h,o<h?s:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),C(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&m(n,i)))&&(n=i,d=l)),i=i.next}while(i!==c);return n}function m(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function g(e,t,n,i){var r=e;do{0===r.z&&(r.z=y(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,A(r)}function A(e){var t,n,i,r,o,s,a,l,c=1;do{n=e,e=null,o=null,s=0;while(n){for(s++,i=n,a=0,t=0;t<c;t++)if(a++,i=i.nextZ,!i)break;l=c;while(a>0||l>0&&i)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1);return e}function y(e,t,n,i,r){return e=(e-n)*r|0,t=(t-i)*r|0,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function v(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function b(e,t,n,i,r,o,s,a){return(r-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(i-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!M(e,t)&&(C(e,t)&&C(t,e)&&O(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||x(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,n,i){var r=E(w(e,t,n)),o=E(w(e,t,i)),s=E(w(n,i,e)),a=E(w(n,i,t));return r!==o&&s!==a||(!(0!==r||!T(e,n,t))||(!(0!==o||!T(e,i,t))||(!(0!==s||!T(n,e,i))||!(0!==a||!T(n,t,i)))))}function T(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function E(e){return e>0?1:e<0?-1:0}function M(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&S(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function C(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function O(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}function k(e,t){var n=new R(e.i,e.x,e.y),i=new R(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function P(e,t,n,i){var r=new R(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function I(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,t,n,i){for(var r=0,o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}e.exports=i,e.exports.default=i,i.deviation=function(e,t,n,i){var r=t&&t.length,o=r?t[0]*n:e.length,s=Math.abs(D(e,0,o,n));if(r)for(var a=0,l=t.length;a<l;a++){var c=t[a]*n,u=a<l-1?t[a+1]*n:e.length;s-=Math.abs(D(e,c,u,n))}var h=0;for(a=0;a<i.length;a+=3){var d=i[a]*n,f=i[a+1]*n,p=i[a+2]*n;h+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},i.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var s=0;s<t;s++)n.vertices.push(e[r][o][s]);r>0&&(i+=e[r-1].length,n.holes.push(i))}return n}},5692:function(e,t,n){var i=n("c430"),r=n("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.28.0",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){var i=n("d066"),r=n("e330"),o=n("241c"),s=n("7418"),a=n("825a"),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},"577e":function(e,t,n){var i=n("f5df"),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},"57de":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VISITOR_KEYS=t.NODE_PARENT_VALIDATIONS=t.NODE_FIELDS=t.FLIPPED_ALIAS_KEYS=t.DEPRECATED_KEYS=t.BUILDER_KEYS=t.ALIAS_KEYS=void 0,t.arrayOf=y,t.arrayOfType=v,t.assertEach=_,t.assertNodeOrValueType=S,t.assertNodeType=x,t.assertOneOf=w,t.assertOptionalChainStart=M,t.assertShape=E,t.assertValueType=T,t.chain=C,t.default=R,t.defineAliasedType=I,t.typeIs=p,t.validate=f,t.validateArrayOfType=b,t.validateOptional=g,t.validateOptionalType=A,t.validateType=m;var i=n("177b"),r=n("62ea");const o={};t.VISITOR_KEYS=o;const s={};t.ALIAS_KEYS=s;const a={};t.FLIPPED_ALIAS_KEYS=a;const l={};t.NODE_FIELDS=l;const c={};t.BUILDER_KEYS=c;const u={};t.DEPRECATED_KEYS=u;const h={};function d(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function f(e){return{validate:e}}function p(e){return"string"===typeof e?x(e):x(...e)}function m(e){return f(p(e))}function g(e){return{validate:e,optional:!0}}function A(e){return{validate:p(e),optional:!0}}function y(e){return C(T("array"),_(e))}function v(e){return y(p(e))}function b(e){return f(v(e))}function _(e){function t(t,n,i){if(Array.isArray(i))for(let o=0;o<i.length;o++){const s=`${n}[${o}]`,a=i[o];e(t,s,a),Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&(0,r.validateChild)(t,s,a)}}return t.each=e,t}function w(...e){function t(t,n,i){if(e.indexOf(i)<0)throw new TypeError(`Property ${n} expected value to be one of ${JSON.stringify(e)} but got ${JSON.stringify(i)}`)}return t.oneOf=e,t}function x(...e){function t(t,n,o){for(const s of e)if((0,i.default)(s,o))return void(0,r.validateChild)(t,n,o);throw new TypeError(`Property ${n} of ${t.type} expected node to be of a type ${JSON.stringify(e)} but instead got ${JSON.stringify(null==o?void 0:o.type)}`)}return t.oneOfNodeTypes=e,t}function S(...e){function t(t,n,o){for(const s of e)if(d(o)===s||(0,i.default)(s,o))return void(0,r.validateChild)(t,n,o);throw new TypeError(`Property ${n} of ${t.type} expected node to be of a type ${JSON.stringify(e)} but instead got ${JSON.stringify(null==o?void 0:o.type)}`)}return t.oneOfNodeOrValueTypes=e,t}function T(e){function t(t,n,i){const r=d(i)===e;if(!r)throw new TypeError(`Property ${n} expected type of ${e} but got ${d(i)}`)}return t.type=e,t}function E(e){function t(t,n,i){const o=[];for(const a of Object.keys(e))try{(0,r.validateField)(t,a,i[a],e[a])}catch(s){if(s instanceof TypeError){o.push(s.message);continue}throw s}if(o.length)throw new TypeError(`Property ${n} of ${t.type} expected to have the following:\n${o.join("\n")}`)}return t.shapeOf=e,t}function M(){function e(e){var t;let n=e;while(e){const{type:e}=n;if("OptionalCallExpression"!==e){if("OptionalMemberExpression"!==e)break;if(n.optional)return;n=n.object}else{if(n.optional)return;n=n.callee}}throw new TypeError(`Non-optional ${e.type} must chain from an optional OptionalMemberExpression or OptionalCallExpression. Found chain from ${null==(t=n)?void 0:t.type}`)}return e}function C(...e){function t(...t){for(const n of e)n(...t)}if(t.chainOf=e,e.length>=2&&"type"in e[0]&&"array"===e[0].type&&!("each"in e[1]))throw new Error('An assertValueType("array") validator can only be followed by an assertEach(...) validator.');return t}t.NODE_PARENT_VALIDATIONS=h;const O=["aliases","builder","deprecatedAlias","fields","inherits","visitor","validate"],k=["default","optional","validate"],P={};function I(...e){return(t,n={})=>{let i=n.aliases;var r;i||(n.inherits&&(i=null==(r=P[n.inherits].aliases)?void 0:r.slice()),null!=i||(i=[]),n.aliases=i);const o=e.filter(e=>!i.includes(e));return i.unshift(...o),R(t,n)}}function R(e,t={}){const n=t.inherits&&P[t.inherits]||{};let i=t.fields;if(!i&&(i={},n.fields)){const e=Object.getOwnPropertyNames(n.fields);for(const t of e){const e=n.fields[t],r=e.default;if(Array.isArray(r)?r.length>0:r&&"object"===typeof r)throw new Error("field defaults can only be primitives or empty arrays currently");i[t]={default:Array.isArray(r)?[]:r,optional:e.optional,validate:e.validate}}}const r=t.visitor||n.visitor||[],f=t.aliases||n.aliases||[],p=t.builder||n.builder||t.visitor||[];for(const o of Object.keys(t))if(-1===O.indexOf(o))throw new Error(`Unknown type option "${o}" on ${e}`);t.deprecatedAlias&&(u[t.deprecatedAlias]=e);for(const o of r.concat(p))i[o]=i[o]||{};for(const o of Object.keys(i)){const t=i[o];void 0!==t.default&&-1===p.indexOf(o)&&(t.optional=!0),void 0===t.default?t.default=null:t.validate||null==t.default||(t.validate=T(d(t.default)));for(const n of Object.keys(t))if(-1===k.indexOf(n))throw new Error(`Unknown field key "${n}" on ${e}.${o}`)}o[e]=t.visitor=r,c[e]=t.builder=p,l[e]=t.fields=i,s[e]=t.aliases=f,f.forEach(t=>{a[t]=a[t]||[],a[t].push(e)}),t.validate&&(h[e]=t.validate),P[e]=t}},"57fa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("fe0d");function r(e,t){const n=e.split(".");return e=>(0,i.default)(e,n,t)}},"589b":function(e,t,n){"use strict";n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return he})),n.d(t,"c",(function(){return ue})),n.d(t,"d",(function(){return de})),n.d(t,"e",(function(){return ye})),n.d(t,"f",(function(){return Ae})),n.d(t,"g",(function(){return ve}));var i=n("22e5"),r=n("e691"),o=n("1fd5");const s=(e,t)=>t.some(t=>e instanceof t);let a,l;function c(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap;function g(e){const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(w(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&h.set(t,e)}).catch(()=>{}),m.set(t,e),t}function A(e){if(d.has(e))return;const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});d.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return d.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return w(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function v(e){y=e(y)}function b(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?u().includes(e)?function(...t){return e.apply(x(this),t),w(h.get(this))}:function(...t){return w(e.apply(x(this),t))}:function(t,...n){const i=e.call(x(this),t,...n);return f.set(i,t.sort?t.sort():[t]),w(i)}}function _(e){return"function"===typeof e?b(e):(e instanceof IDBTransaction&&A(e),s(e,c())?new Proxy(e,y):e)}function w(e){if(e instanceof IDBRequest)return g(e);if(p.has(e))return p.get(e);const t=_(e);return t!==e&&(p.set(e,t),m.set(t,e)),t}const x=e=>m.get(e);function S(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,t),a=w(s);return i&&s.addEventListener("upgradeneeded",e=>{i(w(s.result),e.oldVersion,e.newVersion,w(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(e=>{o&&e.addEventListener("close",()=>o()),r&&e.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const T=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],M=new Map;function C(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(M.get(t))return M.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=E.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!T.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),r&&o.done]))[0]};return M.set(t,o),o}v(e=>({...e,get:(t,n,i)=>C(t,n)||e.get(t,n,i),has:(t,n)=>!!C(t,n)||e.has(t,n)}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class O{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(k(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}function k(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const P="@firebase/app",I="0.9.3",R=new r["b"]("@firebase/app"),D="@firebase/app-compat",L="@firebase/analytics-compat",N="@firebase/analytics",B="@firebase/app-check-compat",F="@firebase/app-check",j="@firebase/auth",U="@firebase/auth-compat",z="@firebase/database",q="@firebase/database-compat",V="@firebase/functions",H="@firebase/functions-compat",G="@firebase/installations",W="@firebase/installations-compat",$="@firebase/messaging",X="@firebase/messaging-compat",Y="@firebase/performance",K="@firebase/performance-compat",Q="@firebase/remote-config",J="@firebase/remote-config-compat",Z="@firebase/storage",ee="@firebase/storage-compat",te="@firebase/firestore",ne="@firebase/firestore-compat",ie="firebase",re="9.17.1",oe="[DEFAULT]",se={[P]:"fire-core",[D]:"fire-core-compat",[N]:"fire-analytics",[L]:"fire-analytics-compat",[F]:"fire-app-check",[B]:"fire-app-check-compat",[j]:"fire-auth",[U]:"fire-auth-compat",[z]:"fire-rtdb",[q]:"fire-rtdb-compat",[V]:"fire-fn",[H]:"fire-fn-compat",[G]:"fire-iid",[W]:"fire-iid-compat",[$]:"fire-fcm",[X]:"fire-fcm-compat",[Y]:"fire-perf",[K]:"fire-perf-compat",[Q]:"fire-rc",[J]:"fire-rc-compat",[Z]:"fire-gcs",[ee]:"fire-gcs-compat",[te]:"fire-fst",[ne]:"fire-fst-compat","fire-js":"fire-js",[ie]:"fire-js-all"},ae=new Map,le=new Map;function ce(e,t){try{e.container.addComponent(t)}catch(n){R.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ue(e){const t=e.name;if(le.has(t))return R.debug(`There were multiple attempts to register component ${t}.`),!1;le.set(t,e);for(const n of ae.values())ce(n,e);return!0}function he(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function de(e,t,n=oe){he(e,t).clearInstance(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pe=new o["b"]("app","Firebase",fe);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class me{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i["a"]("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pe.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=re;function Ae(e,t={}){let n=e;if("object"!==typeof t){const e=t;t={name:e}}const r=Object.assign({name:oe,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw pe.create("bad-app-name",{appName:String(s)});if(n||(n=Object(o["r"])()),!n)throw pe.create("no-options");const a=ae.get(s);if(a){if(Object(o["o"])(n,a.options)&&Object(o["o"])(r,a.config))return a;throw pe.create("duplicate-app",{appName:s})}const l=new i["b"](s);for(const i of le.values())l.addComponent(i);const c=new me(n,r,l);return ae.set(s,c),c}function ye(e=oe){const t=ae.get(e);if(!t&&e===oe)return Ae();if(!t)throw pe.create("no-app",{appName:e});return t}function ve(e,t,n){var r;let o=null!==(r=se[e])&&void 0!==r?r:e;n&&(o+="-"+n);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void R.warn(e.join(" "))}ue(new i["a"](o+"-version",()=>({library:o,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const be="firebase-heartbeat-database",_e=1,we="firebase-heartbeat-store";let xe=null;function Se(){return xe||(xe=S(be,_e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(we)}}}).catch(e=>{throw pe.create("idb-open",{originalErrorMessage:e.message})})),xe}async function Te(e){try{const t=await Se();return t.transaction(we).objectStore(we).get(Me(e))}catch(t){if(t instanceof o["c"])R.warn(t.message);else{const e=pe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});R.warn(e.message)}}}async function Ee(e,t){try{const n=await Se(),i=n.transaction(we,"readwrite"),r=i.objectStore(we);return await r.put(t,Me(e)),i.done}catch(n){if(n instanceof o["c"])R.warn(n.message);else{const e=pe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});R.warn(e.message)}}}function Me(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce=1024,Oe=2592e6;class ke{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Re(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=Pe();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some(e=>e.date===n))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Oe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Pe(),{heartbeatsToSend:t,unsentEntries:n}=Ie(this._heartbeatsCache.heartbeats),i=Object(o["j"])(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Pe(){const e=new Date;return e.toISOString().substring(0,10)}function Ie(e,t=Ce){const n=[];let i=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),De(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),De(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Re{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(o["B"])()&&Object(o["Q"])().then(()=>!0).catch(()=>!1)}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Te(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ee(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ee(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function De(e){return Object(o["j"])(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){ue(new i["a"]("platform-logger",e=>new O(e),"PRIVATE")),ue(new i["a"]("heartbeat",e=>new ke(e),"PRIVATE")),ve(P,I,e),ve(P,I,"esm2017"),ve("fire-js","")}Le("")},5926:function(e,t,n){var i=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},"59ed":function(e,t,n){var i=n("1626"),r=n("0d51"),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not a function")}},"5a5c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("27f6");function r(e){return e=(0,i.default)(e),"eval"!==e&&"arguments"!==e||(e="_"+e),e}},"5a89":function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return te})),n.d(t,"AddEquation",(function(){return S})),n.d(t,"AddOperation",(function(){return K})),n.d(t,"AdditiveAnimationBlendMode",(function(){return kt})),n.d(t,"AdditiveBlending",(function(){return b})),n.d(t,"AlphaFormat",(function(){return Re})),n.d(t,"AlwaysDepth",(function(){return z})),n.d(t,"AlwaysStencilFunc",(function(){return sn})),n.d(t,"AmbientLight",(function(){return Bm})),n.d(t,"AmbientLightProbe",(function(){return eg})),n.d(t,"AnimationClip",(function(){return sm})),n.d(t,"AnimationLoader",(function(){return gm})),n.d(t,"AnimationMixer",(function(){return Lg})),n.d(t,"AnimationObjectGroup",(function(){return Ig})),n.d(t,"AnimationUtils",(function(){return $p})),n.d(t,"ArcCurve",(function(){return Gd})),n.d(t,"ArrayCamera",(function(){return bh})),n.d(t,"ArrowHelper",(function(){return EA})),n.d(t,"Audio",(function(){return dg})),n.d(t,"AudioAnalyser",(function(){return yg})),n.d(t,"AudioContext",(function(){return Qm})),n.d(t,"AudioListener",(function(){return hg})),n.d(t,"AudioLoader",(function(){return Jm})),n.d(t,"AxesHelper",(function(){return MA})),n.d(t,"BackSide",(function(){return m})),n.d(t,"BasicDepthPacking",(function(){return Nt})),n.d(t,"BasicShadowMap",(function(){return u})),n.d(t,"Bone",(function(){return ld})),n.d(t,"BooleanKeyframeTrack",(function(){return Zp})),n.d(t,"Box2",(function(){return $g})),n.d(t,"Box3",(function(){return Mi})),n.d(t,"Box3Helper",(function(){return _A})),n.d(t,"BoxBufferGeometry",(function(){return DA})),n.d(t,"BoxGeometry",(function(){return Po})),n.d(t,"BoxHelper",(function(){return bA})),n.d(t,"BufferAttribute",(function(){return Xr})),n.d(t,"BufferGeometry",(function(){return fo})),n.d(t,"BufferGeometryLoader",(function(){return Hm})),n.d(t,"ByteType",(function(){return xe})),n.d(t,"Cache",(function(){return cm})),n.d(t,"Camera",(function(){return Uo})),n.d(t,"CameraHelper",(function(){return AA})),n.d(t,"CanvasTexture",(function(){return qd})),n.d(t,"CapsuleBufferGeometry",(function(){return LA})),n.d(t,"CapsuleGeometry",(function(){return bf})),n.d(t,"CatmullRomCurve3",(function(){return Qd})),n.d(t,"CineonToneMapping",(function(){return ee})),n.d(t,"CircleBufferGeometry",(function(){return NA})),n.d(t,"CircleGeometry",(function(){return _f})),n.d(t,"ClampToEdgeWrapping",(function(){return ue})),n.d(t,"Clock",(function(){return og})),n.d(t,"Color",(function(){return Vr})),n.d(t,"ColorKeyframeTrack",(function(){return em})),n.d(t,"ColorManagement",(function(){return fi})),n.d(t,"CompressedArrayTexture",(function(){return zd})),n.d(t,"CompressedTexture",(function(){return Ud})),n.d(t,"CompressedTextureLoader",(function(){return Am})),n.d(t,"ConeBufferGeometry",(function(){return BA})),n.d(t,"ConeGeometry",(function(){return xf})),n.d(t,"CubeCamera",(function(){return Ho})),n.d(t,"CubeReflectionMapping",(function(){return re})),n.d(t,"CubeRefractionMapping",(function(){return oe})),n.d(t,"CubeTexture",(function(){return Go})),n.d(t,"CubeTextureLoader",(function(){return vm})),n.d(t,"CubeUVReflectionMapping",(function(){return le})),n.d(t,"CubicBezierCurve",(function(){return cf})),n.d(t,"CubicBezierCurve3",(function(){return uf})),n.d(t,"CubicInterpolant",(function(){return Yp})),n.d(t,"CullFaceBack",(function(){return a})),n.d(t,"CullFaceFront",(function(){return l})),n.d(t,"CullFaceFrontBack",(function(){return c})),n.d(t,"CullFaceNone",(function(){return s})),n.d(t,"Curve",(function(){return Vd})),n.d(t,"CurvePath",(function(){return Af})),n.d(t,"CustomBlending",(function(){return x})),n.d(t,"CustomToneMapping",(function(){return ne})),n.d(t,"CylinderBufferGeometry",(function(){return FA})),n.d(t,"CylinderGeometry",(function(){return wf})),n.d(t,"Cylindrical",(function(){return Gg})),n.d(t,"Data3DTexture",(function(){return Si})),n.d(t,"DataArrayTexture",(function(){return wi})),n.d(t,"DataTexture",(function(){return cd})),n.d(t,"DataTextureLoader",(function(){return bm})),n.d(t,"DataUtils",(function(){return RA})),n.d(t,"DecrementStencilOp",(function(){return Xt})),n.d(t,"DecrementWrapStencilOp",(function(){return Kt})),n.d(t,"DefaultLoadingManager",(function(){return hm})),n.d(t,"DepthFormat",(function(){return Be})),n.d(t,"DepthStencilFormat",(function(){return Fe})),n.d(t,"DepthTexture",(function(){return Sh})),n.d(t,"DirectionalLight",(function(){return Nm})),n.d(t,"DirectionalLightHelper",(function(){return pA})),n.d(t,"DiscreteInterpolant",(function(){return Qp})),n.d(t,"DisplayP3ColorSpace",(function(){return Vt})),n.d(t,"DodecahedronBufferGeometry",(function(){return jA})),n.d(t,"DodecahedronGeometry",(function(){return Tf})),n.d(t,"DoubleSide",(function(){return g})),n.d(t,"DstAlphaFactor",(function(){return L})),n.d(t,"DstColorFactor",(function(){return B})),n.d(t,"DynamicCopyUsage",(function(){return pn})),n.d(t,"DynamicDrawUsage",(function(){return ln})),n.d(t,"DynamicReadUsage",(function(){return hn})),n.d(t,"EdgesGeometry",(function(){return kf})),n.d(t,"EllipseCurve",(function(){return Hd})),n.d(t,"EqualDepth",(function(){return H})),n.d(t,"EqualStencilFunc",(function(){return en})),n.d(t,"EquirectangularReflectionMapping",(function(){return se})),n.d(t,"EquirectangularRefractionMapping",(function(){return ae})),n.d(t,"Euler",(function(){return ur})),n.d(t,"EventDispatcher",(function(){return vn})),n.d(t,"ExtrudeBufferGeometry",(function(){return UA})),n.d(t,"ExtrudeGeometry",(function(){return fp})),n.d(t,"FileLoader",(function(){return mm})),n.d(t,"Float16BufferAttribute",(function(){return no})),n.d(t,"Float32BufferAttribute",(function(){return io})),n.d(t,"Float64BufferAttribute",(function(){return ro})),n.d(t,"FloatType",(function(){return Ce})),n.d(t,"Fog",(function(){return Ih})),n.d(t,"FogExp2",(function(){return Ph})),n.d(t,"FramebufferTexture",(function(){return jd})),n.d(t,"FrontSide",(function(){return p})),n.d(t,"Frustum",(function(){return Zo})),n.d(t,"GLBufferAttribute",(function(){return Ug})),n.d(t,"GLSL1",(function(){return gn})),n.d(t,"GLSL3",(function(){return An})),n.d(t,"GreaterDepth",(function(){return W})),n.d(t,"GreaterEqualDepth",(function(){return G})),n.d(t,"GreaterEqualStencilFunc",(function(){return on})),n.d(t,"GreaterStencilFunc",(function(){return nn})),n.d(t,"GridHelper",(function(){return cA})),n.d(t,"Group",(function(){return _h})),n.d(t,"HalfFloatType",(function(){return Oe})),n.d(t,"HemisphereLight",(function(){return xm})),n.d(t,"HemisphereLightHelper",(function(){return lA})),n.d(t,"HemisphereLightProbe",(function(){return Zm})),n.d(t,"IcosahedronBufferGeometry",(function(){return zA})),n.d(t,"IcosahedronGeometry",(function(){return gp})),n.d(t,"ImageBitmapLoader",(function(){return Ym})),n.d(t,"ImageLoader",(function(){return ym})),n.d(t,"ImageUtils",(function(){return mi})),n.d(t,"IncrementStencilOp",(function(){return $t})),n.d(t,"IncrementWrapStencilOp",(function(){return Yt})),n.d(t,"InstancedBufferAttribute",(function(){return fd})),n.d(t,"InstancedBufferGeometry",(function(){return Vm})),n.d(t,"InstancedInterleavedBuffer",(function(){return jg})),n.d(t,"InstancedMesh",(function(){return vd})),n.d(t,"Int16BufferAttribute",(function(){return Jr})),n.d(t,"Int32BufferAttribute",(function(){return eo})),n.d(t,"Int8BufferAttribute",(function(){return Yr})),n.d(t,"IntType",(function(){return Ee})),n.d(t,"InterleavedBuffer",(function(){return Dh})),n.d(t,"InterleavedBufferAttribute",(function(){return Nh})),n.d(t,"Interpolant",(function(){return Xp})),n.d(t,"InterpolateDiscrete",(function(){return xt})),n.d(t,"InterpolateLinear",(function(){return St})),n.d(t,"InterpolateSmooth",(function(){return Tt})),n.d(t,"InvertStencilOp",(function(){return Qt})),n.d(t,"KeepStencilOp",(function(){return Gt})),n.d(t,"KeyframeTrack",(function(){return Jp})),n.d(t,"LOD",(function(){return td})),n.d(t,"LatheBufferGeometry",(function(){return qA})),n.d(t,"LatheGeometry",(function(){return vf})),n.d(t,"Layers",(function(){return hr})),n.d(t,"LessDepth",(function(){return q})),n.d(t,"LessEqualDepth",(function(){return V})),n.d(t,"LessEqualStencilFunc",(function(){return tn})),n.d(t,"LessStencilFunc",(function(){return Zt})),n.d(t,"Light",(function(){return wm})),n.d(t,"LightProbe",(function(){return Um})),n.d(t,"Line",(function(){return Ed})),n.d(t,"Line3",(function(){return Kg})),n.d(t,"LineBasicMaterial",(function(){return bd})),n.d(t,"LineCurve",(function(){return hf})),n.d(t,"LineCurve3",(function(){return df})),n.d(t,"LineDashedMaterial",(function(){return Fp})),n.d(t,"LineLoop",(function(){return kd})),n.d(t,"LineSegments",(function(){return Od})),n.d(t,"LinearEncoding",(function(){return Dt})),n.d(t,"LinearFilter",(function(){return Ae})),n.d(t,"LinearInterpolant",(function(){return Kp})),n.d(t,"LinearMipMapLinearFilter",(function(){return _e})),n.d(t,"LinearMipMapNearestFilter",(function(){return ve})),n.d(t,"LinearMipmapLinearFilter",(function(){return be})),n.d(t,"LinearMipmapNearestFilter",(function(){return ye})),n.d(t,"LinearSRGBColorSpace",(function(){return qt})),n.d(t,"LinearToneMapping",(function(){return J})),n.d(t,"Loader",(function(){return dm})),n.d(t,"LoaderUtils",(function(){return qm})),n.d(t,"LoadingManager",(function(){return um})),n.d(t,"LoopOnce",(function(){return bt})),n.d(t,"LoopPingPong",(function(){return wt})),n.d(t,"LoopRepeat",(function(){return _t})),n.d(t,"LuminanceAlphaFormat",(function(){return Ne})),n.d(t,"LuminanceFormat",(function(){return Le})),n.d(t,"MOUSE",(function(){return r})),n.d(t,"Material",(function(){return Fr})),n.d(t,"MaterialLoader",(function(){return zm})),n.d(t,"MathUtils",(function(){return Wn})),n.d(t,"Matrix3",(function(){return Xn})),n.d(t,"Matrix4",(function(){return er})),n.d(t,"MaxEquation",(function(){return C})),n.d(t,"Mesh",(function(){return Co})),n.d(t,"MeshBasicMaterial",(function(){return Gr})),n.d(t,"MeshDepthMaterial",(function(){return dh})),n.d(t,"MeshDistanceMaterial",(function(){return fh})),n.d(t,"MeshLambertMaterial",(function(){return Np})),n.d(t,"MeshMatcapMaterial",(function(){return Bp})),n.d(t,"MeshNormalMaterial",(function(){return Lp})),n.d(t,"MeshPhongMaterial",(function(){return Rp})),n.d(t,"MeshPhysicalMaterial",(function(){return Ip})),n.d(t,"MeshStandardMaterial",(function(){return Pp})),n.d(t,"MeshToonMaterial",(function(){return Dp})),n.d(t,"MinEquation",(function(){return M})),n.d(t,"MirroredRepeatWrapping",(function(){return he})),n.d(t,"MixOperation",(function(){return Y})),n.d(t,"MultiplyBlending",(function(){return w})),n.d(t,"MultiplyOperation",(function(){return X})),n.d(t,"NearestFilter",(function(){return de})),n.d(t,"NearestMipMapLinearFilter",(function(){return ge})),n.d(t,"NearestMipMapNearestFilter",(function(){return pe})),n.d(t,"NearestMipmapLinearFilter",(function(){return me})),n.d(t,"NearestMipmapNearestFilter",(function(){return fe})),n.d(t,"NeverDepth",(function(){return U})),n.d(t,"NeverStencilFunc",(function(){return Jt})),n.d(t,"NoBlending",(function(){return y})),n.d(t,"NoColorSpace",(function(){return Ut})),n.d(t,"NoToneMapping",(function(){return Q})),n.d(t,"NormalAnimationBlendMode",(function(){return Ot})),n.d(t,"NormalBlending",(function(){return v})),n.d(t,"NotEqualDepth",(function(){return $})),n.d(t,"NotEqualStencilFunc",(function(){return rn})),n.d(t,"NumberKeyframeTrack",(function(){return tm})),n.d(t,"Object3D",(function(){return Tr})),n.d(t,"ObjectLoader",(function(){return Gm})),n.d(t,"ObjectSpaceNormalMap",(function(){return jt})),n.d(t,"OctahedronBufferGeometry",(function(){return VA})),n.d(t,"OctahedronGeometry",(function(){return Ap})),n.d(t,"OneFactor",(function(){return k})),n.d(t,"OneMinusDstAlphaFactor",(function(){return N})),n.d(t,"OneMinusDstColorFactor",(function(){return F})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return D})),n.d(t,"OneMinusSrcColorFactor",(function(){return I})),n.d(t,"OrthographicCamera",(function(){return Gl})),n.d(t,"PCFShadowMap",(function(){return h})),n.d(t,"PCFSoftShadowMap",(function(){return d})),n.d(t,"PMREMGenerator",(function(){return tc})),n.d(t,"Path",(function(){return yf})),n.d(t,"PerspectiveCamera",(function(){return zo})),n.d(t,"Plane",(function(){return Ko})),n.d(t,"PlaneBufferGeometry",(function(){return HA})),n.d(t,"PlaneGeometry",(function(){return ns})),n.d(t,"PlaneHelper",(function(){return wA})),n.d(t,"PointLight",(function(){return Dm})),n.d(t,"PointLightHelper",(function(){return rA})),n.d(t,"Points",(function(){return Nd})),n.d(t,"PointsMaterial",(function(){return Pd})),n.d(t,"PolarGridHelper",(function(){return uA})),n.d(t,"PolyhedronBufferGeometry",(function(){return GA})),n.d(t,"PolyhedronGeometry",(function(){return Sf})),n.d(t,"PositionalAudio",(function(){return Ag})),n.d(t,"PropertyBinding",(function(){return Pg})),n.d(t,"PropertyMixer",(function(){return vg})),n.d(t,"QuadraticBezierCurve",(function(){return ff})),n.d(t,"QuadraticBezierCurve3",(function(){return pf})),n.d(t,"Quaternion",(function(){return ei})),n.d(t,"QuaternionKeyframeTrack",(function(){return im})),n.d(t,"QuaternionLinearInterpolant",(function(){return nm})),n.d(t,"RED_GREEN_RGTC2_Format",(function(){return yt})),n.d(t,"RED_RGTC1_Format",(function(){return gt})),n.d(t,"REVISION",(function(){return i})),n.d(t,"RGBADepthPacking",(function(){return Bt})),n.d(t,"RGBAFormat",(function(){return De})),n.d(t,"RGBAIntegerFormat",(function(){return Ve})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return dt})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return ct})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return ut})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return ht})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return ft})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return pt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return tt})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return nt})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return it})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return rt})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return ot})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return st})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return at})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return lt})),n.d(t,"RGBA_BPTC_Format",(function(){return mt})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return et})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return Qe})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return Ke})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return Ge})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return We})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return $e})),n.d(t,"RGB_ETC1_Format",(function(){return Je})),n.d(t,"RGB_ETC2_Format",(function(){return Ze})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return Ye})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return Xe})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return He})),n.d(t,"RGFormat",(function(){return ze})),n.d(t,"RGIntegerFormat",(function(){return qe})),n.d(t,"RawShaderMaterial",(function(){return kp})),n.d(t,"Ray",(function(){return Zi})),n.d(t,"Raycaster",(function(){return zg})),n.d(t,"RectAreaLight",(function(){return Fm})),n.d(t,"RedFormat",(function(){return je})),n.d(t,"RedIntegerFormat",(function(){return Ue})),n.d(t,"ReinhardToneMapping",(function(){return Z})),n.d(t,"RepeatWrapping",(function(){return ce})),n.d(t,"ReplaceStencilOp",(function(){return Wt})),n.d(t,"ReverseSubtractEquation",(function(){return E})),n.d(t,"RingBufferGeometry",(function(){return WA})),n.d(t,"RingGeometry",(function(){return yp})),n.d(t,"SIGNED_RED_GREEN_RGTC2_Format",(function(){return vt})),n.d(t,"SIGNED_RED_RGTC1_Format",(function(){return At})),n.d(t,"SRGBColorSpace",(function(){return zt})),n.d(t,"Scene",(function(){return Rh})),n.d(t,"ShaderChunk",(function(){return Ll})),n.d(t,"ShaderLib",(function(){return Bl})),n.d(t,"ShaderMaterial",(function(){return jo})),n.d(t,"ShadowMaterial",(function(){return Op})),n.d(t,"Shape",(function(){return Pf})),n.d(t,"ShapeBufferGeometry",(function(){return $A})),n.d(t,"ShapeGeometry",(function(){return vp})),n.d(t,"ShapePath",(function(){return CA})),n.d(t,"ShapeUtils",(function(){return up})),n.d(t,"ShortType",(function(){return Se})),n.d(t,"Skeleton",(function(){return dd})),n.d(t,"SkeletonHelper",(function(){return nA})),n.d(t,"SkinnedMesh",(function(){return ad})),n.d(t,"Source",(function(){return gi})),n.d(t,"Sphere",(function(){return Gi})),n.d(t,"SphereBufferGeometry",(function(){return XA})),n.d(t,"SphereGeometry",(function(){return _p})),n.d(t,"Spherical",(function(){return Hg})),n.d(t,"SphericalHarmonics3",(function(){return jm})),n.d(t,"SplineCurve",(function(){return mf})),n.d(t,"SpotLight",(function(){return Om})),n.d(t,"SpotLightHelper",(function(){return Jg})),n.d(t,"Sprite",(function(){return Qh})),n.d(t,"SpriteMaterial",(function(){return Bh})),n.d(t,"SrcAlphaFactor",(function(){return R})),n.d(t,"SrcAlphaSaturateFactor",(function(){return j})),n.d(t,"SrcColorFactor",(function(){return P})),n.d(t,"StaticCopyUsage",(function(){return fn})),n.d(t,"StaticDrawUsage",(function(){return an})),n.d(t,"StaticReadUsage",(function(){return un})),n.d(t,"StereoCamera",(function(){return rg})),n.d(t,"StreamCopyUsage",(function(){return mn})),n.d(t,"StreamDrawUsage",(function(){return cn})),n.d(t,"StreamReadUsage",(function(){return dn})),n.d(t,"StringKeyframeTrack",(function(){return rm})),n.d(t,"SubtractEquation",(function(){return T})),n.d(t,"SubtractiveBlending",(function(){return _})),n.d(t,"TOUCH",(function(){return o})),n.d(t,"TangentSpaceNormalMap",(function(){return Ft})),n.d(t,"TetrahedronBufferGeometry",(function(){return YA})),n.d(t,"TetrahedronGeometry",(function(){return wp})),n.d(t,"Texture",(function(){return vi})),n.d(t,"TextureLoader",(function(){return _m})),n.d(t,"TorusBufferGeometry",(function(){return KA})),n.d(t,"TorusGeometry",(function(){return xp})),n.d(t,"TorusKnotBufferGeometry",(function(){return QA})),n.d(t,"TorusKnotGeometry",(function(){return Sp})),n.d(t,"Triangle",(function(){return Nr})),n.d(t,"TriangleFanDrawMode",(function(){return Rt})),n.d(t,"TriangleStripDrawMode",(function(){return It})),n.d(t,"TrianglesDrawMode",(function(){return Pt})),n.d(t,"TubeBufferGeometry",(function(){return JA})),n.d(t,"TubeGeometry",(function(){return Tp})),n.d(t,"TwoPassDoubleSide",(function(){return A})),n.d(t,"UVMapping",(function(){return ie})),n.d(t,"Uint16BufferAttribute",(function(){return Zr})),n.d(t,"Uint32BufferAttribute",(function(){return to})),n.d(t,"Uint8BufferAttribute",(function(){return Kr})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Qr})),n.d(t,"Uniform",(function(){return Ng})),n.d(t,"UniformsGroup",(function(){return Fg})),n.d(t,"UniformsLib",(function(){return Nl})),n.d(t,"UniformsUtils",(function(){return No})),n.d(t,"UnsignedByteType",(function(){return we})),n.d(t,"UnsignedInt248Type",(function(){return Ie})),n.d(t,"UnsignedIntType",(function(){return Me})),n.d(t,"UnsignedShort4444Type",(function(){return ke})),n.d(t,"UnsignedShort5551Type",(function(){return Pe})),n.d(t,"UnsignedShortType",(function(){return Te})),n.d(t,"VSMShadowMap",(function(){return f})),n.d(t,"Vector2",(function(){return $n})),n.d(t,"Vector3",(function(){return ti})),n.d(t,"Vector4",(function(){return bi})),n.d(t,"VectorKeyframeTrack",(function(){return om})),n.d(t,"VideoTexture",(function(){return Fd})),n.d(t,"WebGL1Renderer",(function(){return kh})),n.d(t,"WebGL3DRenderTarget",(function(){return Ti})),n.d(t,"WebGLArrayRenderTarget",(function(){return xi})),n.d(t,"WebGLCubeRenderTarget",(function(){return Wo})),n.d(t,"WebGLMultipleRenderTargets",(function(){return Ei})),n.d(t,"WebGLRenderTarget",(function(){return _i})),n.d(t,"WebGLRenderer",(function(){return Oh})),n.d(t,"WebGLUtils",(function(){return vh})),n.d(t,"WireframeGeometry",(function(){return Ep})),n.d(t,"WrapAroundEnding",(function(){return Ct})),n.d(t,"ZeroCurvatureEnding",(function(){return Et})),n.d(t,"ZeroFactor",(function(){return O})),n.d(t,"ZeroSlopeEnding",(function(){return Mt})),n.d(t,"ZeroStencilOp",(function(){return Ht})),n.d(t,"_SRGBAFormat",(function(){return yn})),n.d(t,"sRGBEncoding",(function(){return Lt}));
/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const i="150",r={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,a=1,l=2,c=3,u=0,h=1,d=2,f=3,p=0,m=1,g=2,A=2,y=0,v=1,b=2,_=3,w=4,x=5,S=100,T=101,E=102,M=103,C=104,O=200,k=201,P=202,I=203,R=204,D=205,L=206,N=207,B=208,F=209,j=210,U=0,z=1,q=2,V=3,H=4,G=5,W=6,$=7,X=0,Y=1,K=2,Q=0,J=1,Z=2,ee=3,te=4,ne=5,ie=300,re=301,oe=302,se=303,ae=304,le=306,ce=1e3,ue=1001,he=1002,de=1003,fe=1004,pe=1004,me=1005,ge=1005,Ae=1006,ye=1007,ve=1007,be=1008,_e=1008,we=1009,xe=1010,Se=1011,Te=1012,Ee=1013,Me=1014,Ce=1015,Oe=1016,ke=1017,Pe=1018,Ie=1020,Re=1021,De=1023,Le=1024,Ne=1025,Be=1026,Fe=1027,je=1028,Ue=1029,ze=1030,qe=1031,Ve=1033,He=33776,Ge=33777,We=33778,$e=33779,Xe=35840,Ye=35841,Ke=35842,Qe=35843,Je=36196,Ze=37492,et=37496,tt=37808,nt=37809,it=37810,rt=37811,ot=37812,st=37813,at=37814,lt=37815,ct=37816,ut=37817,ht=37818,dt=37819,ft=37820,pt=37821,mt=36492,gt=36283,At=36284,yt=36285,vt=36286,bt=2200,_t=2201,wt=2202,xt=2300,St=2301,Tt=2302,Et=2400,Mt=2401,Ct=2402,Ot=2500,kt=2501,Pt=0,It=1,Rt=2,Dt=3e3,Lt=3001,Nt=3200,Bt=3201,Ft=0,jt=1,Ut="",zt="srgb",qt="srgb-linear",Vt="display-p3",Ht=0,Gt=7680,Wt=7681,$t=7682,Xt=7683,Yt=34055,Kt=34056,Qt=5386,Jt=512,Zt=513,en=514,tn=515,nn=516,rn=517,on=518,sn=519,an=35044,ln=35048,cn=35040,un=35045,hn=35049,dn=35041,fn=35046,pn=35050,mn=35042,gn="100",An="300 es",yn=1035;class vn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners,i=n[e];if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,i=t.length;n<i;n++)t[n].call(this,e);e.target=null}}}const bn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _n=1234567;const wn=Math.PI/180,xn=180/Math.PI;function Sn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=bn[255&e]+bn[e>>8&255]+bn[e>>16&255]+bn[e>>24&255]+"-"+bn[255&t]+bn[t>>8&255]+"-"+bn[t>>16&15|64]+bn[t>>24&255]+"-"+bn[63&n|128]+bn[n>>8&255]+"-"+bn[n>>16&255]+bn[n>>24&255]+bn[255&i]+bn[i>>8&255]+bn[i>>16&255]+bn[i>>24&255];return r.toLowerCase()}function Tn(e,t,n){return Math.max(t,Math.min(n,e))}function En(e,t){return(e%t+t)%t}function Mn(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)}function Cn(e,t,n){return e!==t?(n-e)/(t-e):0}function On(e,t,n){return(1-n)*e+n*t}function kn(e,t,n,i){return On(e,t,1-Math.exp(-n*i))}function Pn(e,t=1){return t-Math.abs(En(e,2*t)-t)}function In(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function Rn(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))}function Dn(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Ln(e,t){return e+Math.random()*(t-e)}function Nn(e){return e*(.5-Math.random())}function Bn(e){void 0!==e&&(_n=e);let t=_n+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}function Fn(e){return e*wn}function jn(e){return e*xn}function Un(e){return 0===(e&e-1)&&0!==e}function zn(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function qn(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Vn(e,t,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),u=s((t+i)/2),h=o((t-i)/2),d=s((t-i)/2),f=o((i-t)/2),p=s((i-t)/2);switch(r){case"XYX":e.set(a*u,l*h,l*d,a*c);break;case"YZY":e.set(l*d,a*u,l*h,a*c);break;case"ZXZ":e.set(l*h,l*d,a*u,a*c);break;case"XZX":e.set(a*u,l*p,l*f,a*c);break;case"YXY":e.set(l*f,a*u,l*p,a*c);break;case"ZYZ":e.set(l*p,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Hn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Gn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Wn={DEG2RAD:wn,RAD2DEG:xn,generateUUID:Sn,clamp:Tn,euclideanModulo:En,mapLinear:Mn,inverseLerp:Cn,lerp:On,damp:kn,pingpong:Pn,smoothstep:In,smootherstep:Rn,randInt:Dn,randFloat:Ln,randFloatSpread:Nn,seededRandom:Bn,degToRad:Fn,radToDeg:jn,isPowerOfTwo:Un,ceilPowerOfTwo:zn,floorPowerOfTwo:qn,setQuaternionFromProperEuler:Vn,normalize:Gn,denormalize:Hn};class $n{constructor(e=0,t=0){$n.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const e=Math.atan2(-this.y,-this.x)+Math.PI;return e}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Xn{constructor(){Xn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,r,o,s,a,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=i[0],m=i[3],g=i[6],A=i[1],y=i[4],v=i[7],b=i[2],_=i[5],w=i[8];return r[0]=o*p+s*A+a*b,r[3]=o*m+s*y+a*_,r[6]=o*g+s*v+a*w,r[1]=l*p+c*A+u*b,r[4]=l*m+c*y+u*_,r[7]=l*g+c*v+u*w,r[2]=h*p+d*A+f*b,r[5]=h*m+d*y+f*_,r[8]=h*g+d*v+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=c*o-s*l,h=s*a-c*r,d=l*r-o*a,f=t*u+n*h+i*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(i*l-c*n)*p,e[2]=(s*n-i*o)*p,e[3]=h*p,e[4]=(c*t-i*a)*p,e[5]=(i*r-s*t)*p,e[6]=d*p,e[7]=(n*a-l*t)*p,e[8]=(o*t-n*r)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,s){const a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(Yn.makeScale(e,t)),this}rotate(e){return this.premultiply(Yn.makeRotation(-e)),this}translate(e,t){return this.premultiply(Yn.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Yn=new Xn;function Kn(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Qn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Jn(e,t){return new Qn[e](t)}function Zn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}class ei{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const h=r[o+0],d=r[o+1],f=r[o+2],p=r[o+3];if(0===s)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===s)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(u!==p||a!==h||l!==d||c!==f){let e=1-s;const t=a*h+l*d+c*f+u*p,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,t*n);e=Math.sin(e*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*e+h*r,l=l*e+d*r,c=c*e+f*r,u=u*e+p*r,e===1-s){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,o){const s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],h=r[o+1],d=r[o+2],f=r[o+3];return e[t]=s*f+c*u+a*d-l*h,e[t+1]=a*f+c*h+l*u-s*d,e[t+2]=l*f+c*d+s*h-a*u,e[t+3]=c*f-s*u-a*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),h=a(n/2),d=a(i/2),f=a(r/2);switch(o){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=n+s+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(r-l)*e,this._z=(o-i)*e}else if(n>s&&n>u){const e=2*Math.sqrt(1+n-s-u);this._w=(c-a)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(r+l)/e}else if(s>u){const e=2*Math.sqrt(1+s-n-u);this._w=(r-l)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-n-s);this._w=(o-i)/e,this._x=(r+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ti{constructor(e=0,t=0,n=0){ti.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ii.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ii.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,u=a*i+r*n-o*t,h=-r*t-o*n-s*i;return this.x=l*a+h*-r+c*-s-u*-o,this.y=c*a+h*-o+u*-r-l*-s,this.z=u*a+h*-s+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ni.copy(this).projectOnVector(e),this.sub(ni)}reflect(e){return this.sub(ni.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Tn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ni=new ti,ii=new ei;function ri(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function oi(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const si=(new Xn).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),ai=(new Xn).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),li=new ti;function ci(e){return e.convertSRGBToLinear(),li.set(e.r,e.g,e.b).applyMatrix3(ai),e.setRGB(li.x,li.y,li.z)}function ui(e){return li.set(e.r,e.g,e.b).applyMatrix3(si),e.setRGB(li.x,li.y,li.z).convertLinearToSRGB()}const hi={[qt]:e=>e,[zt]:e=>e.convertSRGBToLinear(),[Vt]:ci},di={[qt]:e=>e,[zt]:e=>e.convertLinearToSRGB(),[Vt]:ui},fi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return qt},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const i=hi[t],r=di[n];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${t}" to "${n}".`);return r(i(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};let pi;class mi{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===pi&&(pi=Zn("canvas")),pi.width=e.width,pi.height=e.height;const n=pi.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=pi}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=Zn("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*ri(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*ri(t[e]/255)):t[e]=ri(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class gi{constructor(e=null){this.isSource=!0,this.uuid=Sn(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(Ai(i[t].image)):e.push(Ai(i[t]))}else e=Ai(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function Ai(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?mi.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yi=0;class vi extends vn{constructor(e=vi.DEFAULT_IMAGE,t=vi.DEFAULT_MAPPING,n=ue,i=ue,r=Ae,o=be,s=De,a=we,l=vi.DEFAULT_ANISOTROPY,c=Dt){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yi++}),this.uuid=Sn(),this.name="",this.source=new gi(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new $n(0,0),this.repeat=new $n(1,1),this.center=new $n(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ie)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ce:e.x=e.x-Math.floor(e.x);break;case ue:e.x=e.x<0?0:1;break;case he:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ce:e.y=e.y-Math.floor(e.y);break;case ue:e.y=e.y<0?0:1;break;case he:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}vi.DEFAULT_IMAGE=null,vi.DEFAULT_MAPPING=ie,vi.DEFAULT_ANISOTROPY=1;class bi{constructor(e=0,t=0,n=0,i=1){bi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const o=.01,s=.1,a=e.elements,l=a[0],c=a[4],u=a[8],h=a[1],d=a[5],f=a[9],p=a[2],m=a[6],g=a[10];if(Math.abs(c-h)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(c+h)<s&&Math.abs(u+p)<s&&Math.abs(f+m)<s&&Math.abs(l+d+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,a=(d+1)/2,A=(g+1)/2,y=(c+h)/4,v=(u+p)/4,b=(f+m)/4;return e>a&&e>A?e<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=y/n,r=v/n):a>A?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=y/i,r=b/i):A<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(A),n=v/r,i=b/r),this.set(n,i,r,t),this}let A=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(A)<.001&&(A=1),this.x=(m-f)/A,this.y=(u-p)/A,this.z=(h-c)/A,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _i extends vn{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new bi(0,0,e,t),this.scissorTest=!1,this.viewport=new bi(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new vi(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ae,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new gi(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wi extends vi{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=de,this.minFilter=de,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xi extends _i{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new wi(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Si extends vi{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=de,this.minFilter=de,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ti extends _i{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Si(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ei extends _i{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const r=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Mi{constructor(e=new ti(1/0,1/0,1/0),t=new ti(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){const l=e[a],c=e[a+1],u=e[a+2];l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){const l=e.getX(a),c=e.getY(a),u=e.getZ(a);l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Oi.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,i=t.count;n<i;n++)Oi.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(Oi)}else null===n.boundingBox&&n.computeBoundingBox(),ki.copy(n.boundingBox),ki.applyMatrix4(e.matrixWorld),this.union(ki);const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Oi),Oi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bi),Fi.subVectors(this.max,Bi),Pi.subVectors(e.a,Bi),Ii.subVectors(e.b,Bi),Ri.subVectors(e.c,Bi),Di.subVectors(Ii,Pi),Li.subVectors(Ri,Ii),Ni.subVectors(Pi,Ri);let t=[0,-Di.z,Di.y,0,-Li.z,Li.y,0,-Ni.z,Ni.y,Di.z,0,-Di.x,Li.z,0,-Li.x,Ni.z,0,-Ni.x,-Di.y,Di.x,0,-Li.y,Li.x,0,-Ni.y,Ni.x,0];return!!zi(t,Pi,Ii,Ri,Fi)&&(t=[1,0,0,0,1,0,0,0,1],!!zi(t,Pi,Ii,Ri,Fi)&&(ji.crossVectors(Di,Li),t=[ji.x,ji.y,ji.z],zi(t,Pi,Ii,Ri,Fi)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Oi).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Oi).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Ci[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ci[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ci[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ci[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ci[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ci[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ci[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ci[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ci)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ci=[new ti,new ti,new ti,new ti,new ti,new ti,new ti,new ti],Oi=new ti,ki=new Mi,Pi=new ti,Ii=new ti,Ri=new ti,Di=new ti,Li=new ti,Ni=new ti,Bi=new ti,Fi=new ti,ji=new ti,Ui=new ti;function zi(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){Ui.fromArray(e,o);const s=r.x*Math.abs(Ui.x)+r.y*Math.abs(Ui.y)+r.z*Math.abs(Ui.z),a=t.dot(Ui),l=n.dot(Ui),c=i.dot(Ui);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const qi=new Mi,Vi=new ti,Hi=new ti;class Gi{constructor(e=new ti,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):qi.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vi.subVectors(e,this.center);const t=Vi.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Vi,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Hi.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vi.copy(e.center).add(Hi)),this.expandByPoint(Vi.copy(e.center).sub(Hi))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Wi=new ti,$i=new ti,Xi=new ti,Yi=new ti,Ki=new ti,Qi=new ti,Ji=new ti;class Zi{constructor(e=new ti,t=new ti(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wi)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Wi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Wi.copy(this.origin).addScaledVector(this.direction,t),Wi.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){$i.copy(e).add(t).multiplyScalar(.5),Xi.copy(t).sub(e).normalize(),Yi.copy(this.origin).sub($i);const r=.5*e.distanceTo(t),o=-this.direction.dot(Xi),s=Yi.dot(this.direction),a=-Yi.dot(Xi),l=Yi.lengthSq(),c=Math.abs(1-o*o);let u,h,d,f;if(c>0)if(u=o*a-s,h=o*s-a,f=r*c,u>=0)if(h>=-f)if(h<=f){const e=1/c;u*=e,h*=e,d=u*(u+o*h+2*s)+h*(o*u+h+2*a)+l}else h=r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h=-r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h<=-f?(u=Math.max(0,-(-o*r+s)),h=u>0?-r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l):h<=f?(u=0,h=Math.min(Math.max(-r,-a),r),d=h*(h+2*a)+l):(u=Math.max(0,-(o*r+s)),h=u>0?r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l);else h=o>0?-r:r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy($i).addScaledVector(Xi,h),d}intersectSphere(e,t){Wi.subVectors(e.center,this.origin);const n=Wi.dot(this.direction),i=Wi.dot(Wi)-n*n,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return a<0?null:s<0?this.at(a,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;const n=e.normal.dot(this.direction);return n*t<0}intersectBox(e,t){let n,i,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||r>i?null:((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),u>=0?(s=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(s=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||s>i?null:((s>n||n!==n)&&(n=s),(a<i||i!==i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,Wi)}intersectTriangle(e,t,n,i,r){Ki.subVectors(t,e),Qi.subVectors(n,e),Ji.crossVectors(Ki,Qi);let o,s=this.direction.dot(Ji);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Yi.subVectors(this.origin,e);const a=o*this.direction.dot(Qi.crossVectors(Yi,Qi));if(a<0)return null;const l=o*this.direction.dot(Ki.cross(Yi));if(l<0)return null;if(a+l>s)return null;const c=-o*Yi.dot(Ji);return c<0?null:this.at(c/s,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class er{constructor(){er.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new er).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/tr.setFromMatrixColumn(e,0).length(),r=1/tr.setFromMatrixColumn(e,1).length(),o=1/tr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-s*a,t[2]=r-e*l,t[6]=i+n*l,t[10]=o*a}else if("YXZ"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e+r*s,t[4]=i*s-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-s,t[2]=n*s-i,t[6]=r+e*s,t[10]=o*a}else if("ZXY"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e-r*s,t[4]=-o*u,t[8]=i+n*s,t[1]=n+i*s,t[5]=o*c,t[9]=r-e*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=a*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=o*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=s*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ir,e,rr)}lookAt(e,t,n){const i=this.elements;return ar.subVectors(e,t),0===ar.lengthSq()&&(ar.z=1),ar.normalize(),or.crossVectors(n,ar),0===or.lengthSq()&&(1===Math.abs(n.z)?ar.x+=1e-4:ar.z+=1e-4,ar.normalize(),or.crossVectors(n,ar)),or.normalize(),sr.crossVectors(ar,or),i[0]=or.x,i[4]=sr.x,i[8]=ar.x,i[1]=or.y,i[5]=sr.y,i[9]=ar.y,i[2]=or.z,i[6]=sr.z,i[10]=ar.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],A=n[3],y=n[7],v=n[11],b=n[15],_=i[0],w=i[4],x=i[8],S=i[12],T=i[1],E=i[5],M=i[9],C=i[13],O=i[2],k=i[6],P=i[10],I=i[14],R=i[3],D=i[7],L=i[11],N=i[15];return r[0]=o*_+s*T+a*O+l*R,r[4]=o*w+s*E+a*k+l*D,r[8]=o*x+s*M+a*P+l*L,r[12]=o*S+s*C+a*I+l*N,r[1]=c*_+u*T+h*O+d*R,r[5]=c*w+u*E+h*k+d*D,r[9]=c*x+u*M+h*P+d*L,r[13]=c*S+u*C+h*I+d*N,r[2]=f*_+p*T+m*O+g*R,r[6]=f*w+p*E+m*k+g*D,r[10]=f*x+p*M+m*P+g*L,r[14]=f*S+p*C+m*I+g*N,r[3]=A*_+y*T+v*O+b*R,r[7]=A*w+y*E+v*k+b*D,r[11]=A*x+y*M+v*P+b*L,r[15]=A*S+y*C+v*I+b*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14],f=e[3],p=e[7],m=e[11],g=e[15];return f*(+r*a*u-i*l*u-r*s*h+n*l*h+i*s*d-n*a*d)+p*(+t*a*d-t*l*h+r*o*h-i*o*d+i*l*c-r*a*c)+m*(+t*l*u-t*s*d-r*o*u+n*o*d+r*s*c-n*l*c)+g*(-i*s*c-t*a*u+t*s*h+i*o*u-n*o*h+n*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],A=u*m*l-p*h*l+p*a*d-s*m*d-u*a*g+s*h*g,y=f*h*l-c*m*l-f*a*d+o*m*d+c*a*g-o*h*g,v=c*p*l-f*u*l+f*s*d-o*p*d-c*s*g+o*u*g,b=f*u*a-c*p*a-f*s*h+o*p*h+c*s*m-o*u*m,_=t*A+n*y+i*v+r*b;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=A*w,e[1]=(p*h*r-u*m*r-p*i*d+n*m*d+u*i*g-n*h*g)*w,e[2]=(s*m*r-p*a*r+p*i*l-n*m*l-s*i*g+n*a*g)*w,e[3]=(u*a*r-s*h*r-u*i*l+n*h*l+s*i*d-n*a*d)*w,e[4]=y*w,e[5]=(c*m*r-f*h*r+f*i*d-t*m*d-c*i*g+t*h*g)*w,e[6]=(f*a*r-o*m*r-f*i*l+t*m*l+o*i*g-t*a*g)*w,e[7]=(o*h*r-c*a*r+c*i*l-t*h*l-o*i*d+t*a*d)*w,e[8]=v*w,e[9]=(f*u*r-c*p*r-f*n*d+t*p*d+c*n*g-t*u*g)*w,e[10]=(o*p*r-f*s*r+f*n*l-t*p*l-o*n*g+t*s*g)*w,e[11]=(c*s*r-o*u*r-c*n*l+t*u*l+o*n*d-t*s*d)*w,e[12]=b*w,e[13]=(c*p*i-f*u*i+f*n*h-t*p*h-c*n*m+t*u*m)*w,e[14]=(f*s*i-o*p*i-f*n*a+t*p*a+o*n*m-t*s*m)*w,e[15]=(o*u*i-c*s*i+c*n*a-t*u*a-o*n*h+t*s*h)*w,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,u=s+s,h=r*l,d=r*c,f=r*u,p=o*c,m=o*u,g=s*u,A=a*l,y=a*c,v=a*u,b=n.x,_=n.y,w=n.z;return i[0]=(1-(p+g))*b,i[1]=(d+v)*b,i[2]=(f-y)*b,i[3]=0,i[4]=(d-v)*_,i[5]=(1-(h+g))*_,i[6]=(m+A)*_,i[7]=0,i[8]=(f+y)*w,i[9]=(m-A)*w,i[10]=(1-(h+p))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=tr.set(i[0],i[1],i[2]).length();const o=tr.set(i[4],i[5],i[6]).length(),s=tr.set(i[8],i[9],i[10]).length(),a=this.determinant();a<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],nr.copy(this);const l=1/r,c=1/o,u=1/s;return nr.elements[0]*=l,nr.elements[1]*=l,nr.elements[2]*=l,nr.elements[4]*=c,nr.elements[5]*=c,nr.elements[6]*=c,nr.elements[8]*=u,nr.elements[9]*=u,nr.elements[10]*=u,t.setFromRotationMatrix(nr),n.x=r,n.y=o,n.z=s,this}makePerspective(e,t,n,i,r,o){const s=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(o+r)/(o-r),d=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o){const s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),u=(t+e)*a,h=(n+i)*l,d=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const tr=new ti,nr=new er,ir=new ti(0,0,0),rr=new ti(1,1,1),or=new ti,sr=new ti,ar=new ti,lr=new er,cr=new ei;class ur{constructor(e=0,t=0,n=0,i=ur.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],c=i[9],u=i[2],h=i[6],d=i[10];switch(t){case"XYZ":this._y=Math.asin(Tn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Tn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Tn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-Tn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Tn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-Tn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return lr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(lr,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return cr.setFromEuler(this),this.setFromQuaternion(cr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ur.DEFAULT_ORDER="XYZ";class hr{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&(1<<e|0))}}let dr=0;const fr=new ti,pr=new ei,mr=new er,gr=new ti,Ar=new ti,yr=new ti,vr=new ei,br=new ti(1,0,0),_r=new ti(0,1,0),wr=new ti(0,0,1),xr={type:"added"},Sr={type:"removed"};class Tr extends vn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dr++}),this.uuid=Sn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tr.DEFAULT_UP.clone();const e=new ti,t=new ur,n=new ei,i=new ti(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new er},normalMatrix:{value:new Xn}}),this.matrix=new er,this.matrixWorld=new er,this.matrixAutoUpdate=Tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new hr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pr.setFromAxisAngle(e,t),this.quaternion.multiply(pr),this}rotateOnWorldAxis(e,t){return pr.setFromAxisAngle(e,t),this.quaternion.premultiply(pr),this}rotateX(e){return this.rotateOnAxis(br,e)}rotateY(e){return this.rotateOnAxis(_r,e)}rotateZ(e){return this.rotateOnAxis(wr,e)}translateOnAxis(e,t){return fr.copy(e).applyQuaternion(this.quaternion),this.position.add(fr.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(br,e)}translateY(e){return this.translateOnAxis(_r,e)}translateZ(e){return this.translateOnAxis(wr,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(mr.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?gr.copy(e):gr.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Ar.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mr.lookAt(Ar,gr,this.up):mr.lookAt(gr,Ar,this.up),this.quaternion.setFromRotationMatrix(mr),i&&(mr.extractRotation(i.matrixWorld),pr.setFromRotationMatrix(mr),this.quaternion.premultiply(pr.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Sr)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Sr)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),mr.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),mr.multiply(e.parent.matrixWorld)),e.applyMatrix4(mr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n],r=i.getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,r=this.children.length;i<r;i++){const r=this.children[i].getObjectsByProperty(e,t);r.length>0&&(n=n.concat(r))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ar,e,yr),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ar,vr,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=o(e.geometries),i=o(e.materials),r=o(e.textures),s=o(e.images),a=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function o(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Tr.DEFAULT_UP=new ti(0,1,0),Tr.DEFAULT_MATRIX_AUTO_UPDATE=!0,Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Er=new ti,Mr=new ti,Cr=new ti,Or=new ti,kr=new ti,Pr=new ti,Ir=new ti,Rr=new ti,Dr=new ti,Lr=new ti;class Nr{constructor(e=new ti,t=new ti,n=new ti){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Er.subVectors(e,t),i.cross(Er);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Er.subVectors(i,t),Mr.subVectors(n,t),Cr.subVectors(e,t);const o=Er.dot(Er),s=Er.dot(Mr),a=Er.dot(Cr),l=Mr.dot(Mr),c=Mr.dot(Cr),u=o*l-s*s;if(0===u)return r.set(-2,-1,-1);const h=1/u,d=(l*a-s*c)*h,f=(o*c-s*a)*h;return r.set(1-d-f,f,d)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Or),Or.x>=0&&Or.y>=0&&Or.x+Or.y<=1}static getUV(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,Or),a.set(0,0),a.addScaledVector(r,Or.x),a.addScaledVector(o,Or.y),a.addScaledVector(s,Or.z),a}static isFrontFacing(e,t,n,i){return Er.subVectors(n,t),Mr.subVectors(e,t),Er.cross(Mr).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Er.subVectors(this.c,this.b),Mr.subVectors(this.a,this.b),.5*Er.cross(Mr).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Nr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Nr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return Nr.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Nr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Nr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let o,s;kr.subVectors(i,n),Pr.subVectors(r,n),Rr.subVectors(e,n);const a=kr.dot(Rr),l=Pr.dot(Rr);if(a<=0&&l<=0)return t.copy(n);Dr.subVectors(e,i);const c=kr.dot(Dr),u=Pr.dot(Dr);if(c>=0&&u<=c)return t.copy(i);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(kr,o);Lr.subVectors(e,r);const d=kr.dot(Lr),f=Pr.dot(Lr);if(f>=0&&d<=f)return t.copy(r);const p=d*l-a*f;if(p<=0&&l>=0&&f<=0)return s=l/(l-f),t.copy(n).addScaledVector(Pr,s);const m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return Ir.subVectors(r,i),s=(u-c)/(u-c+(d-f)),t.copy(i).addScaledVector(Ir,s);const g=1/(m+p+h);return o=p*g,s=h*g,t.copy(n).addScaledVector(kr,o).addScaledVector(Pr,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Br=0;class Fr extends vn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Br++}),this.uuid=Sn(),this.name="",this.type="Material",this.blending=v,this.side=p,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=R,this.blendDst=D,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=V,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=sn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Gt,this.stencilZFail=Gt,this.stencilZPass=Gt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==v&&(n.blending=this.blending),this.side!==p&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const jr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ur={h:0,s:0,l:0},zr={h:0,s:0,l:0};function qr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Vr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=zt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,fi.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=fi.workingColorSpace){return this.r=e,this.g=t,this.b=n,fi.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=fi.workingColorSpace){if(e=En(e,1),t=Tn(t,0,1),n=Tn(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=qr(r,i,e+1/3),this.g=qr(r,i,e),this.b=qr(r,i,e-1/3)}return fi.toWorkingColorSpace(this,i),this}setStyle(e,t=zt){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,fi.toWorkingColorSpace(this,t),n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,fi.toWorkingColorSpace(this,t),n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const e=parseFloat(r[1])/360,i=parseFloat(r[2])/100,o=parseFloat(r[3])/100;return n(r[4]),this.setHSL(e,i,o,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=i[1],r=n.length;if(3===r)return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,fi.toWorkingColorSpace(this,t),this;if(6===r)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,fi.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=zt){const n=jr[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ri(e.r),this.g=ri(e.g),this.b=ri(e.b),this}copyLinearToSRGB(e){return this.r=oi(e.r),this.g=oi(e.g),this.b=oi(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=zt){return fi.fromWorkingColorSpace(Hr.copy(this),e),Tn(255*Hr.r,0,255)<<16^Tn(255*Hr.g,0,255)<<8^Tn(255*Hr.b,0,255)<<0}getHexString(e=zt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=fi.workingColorSpace){fi.fromWorkingColorSpace(Hr.copy(this),t);const n=Hr.r,i=Hr.g,r=Hr.b,o=Math.max(n,i,r),s=Math.min(n,i,r);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const e=o-s;switch(l=c<=.5?e/(o+s):e/(2-o-s),o){case n:a=(i-r)/e+(i<r?6:0);break;case i:a=(r-n)/e+2;break;case r:a=(n-i)/e+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getRGB(e,t=fi.workingColorSpace){return fi.fromWorkingColorSpace(Hr.copy(this),t),e.r=Hr.r,e.g=Hr.g,e.b=Hr.b,e}getStyle(e=zt){fi.fromWorkingColorSpace(Hr.copy(this),e);const t=Hr.r,n=Hr.g,i=Hr.b;return e!==zt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${255*t|0},${255*n|0},${255*i|0})`}offsetHSL(e,t,n){return this.getHSL(Ur),Ur.h+=e,Ur.s+=t,Ur.l+=n,this.setHSL(Ur.h,Ur.s,Ur.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ur),e.getHSL(zr);const n=On(Ur.h,zr.h,t),i=On(Ur.s,zr.s,t),r=On(Ur.l,zr.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Hr=new Vr;Vr.NAMES=jr;class Gr extends Fr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wr=new ti,$r=new $n;class Xr{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=an,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)$r.fromBufferAttribute(this,t),$r.applyMatrix3(e),this.setXY(t,$r.x,$r.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Wr.fromBufferAttribute(this,t),Wr.applyMatrix3(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Wr.fromBufferAttribute(this,t),Wr.applyMatrix4(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Wr.fromBufferAttribute(this,t),Wr.applyNormalMatrix(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Wr.fromBufferAttribute(this,t),Wr.transformDirection(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Hn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Gn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Hn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Gn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Hn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Gn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Hn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Gn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Gn(t,this.array),n=Gn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Gn(t,this.array),n=Gn(n,this.array),i=Gn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Gn(t,this.array),n=Gn(n,this.array),i=Gn(i,this.array),r=Gn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==an&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Yr extends Xr{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Kr extends Xr{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Qr extends Xr{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Jr extends Xr{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Zr extends Xr{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class eo extends Xr{constructor(e,t,n){super(new Int32Array(e),t,n)}}class to extends Xr{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class no extends Xr{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class io extends Xr{constructor(e,t,n){super(new Float32Array(e),t,n)}}class ro extends Xr{constructor(e,t,n){super(new Float64Array(e),t,n)}}let oo=0;const so=new er,ao=new Tr,lo=new ti,co=new Mi,uo=new Mi,ho=new ti;class fo extends vn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:oo++}),this.uuid=Sn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Kn(e)?to:Zr)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Xn).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return so.makeRotationFromQuaternion(e),this.applyMatrix4(so),this}rotateX(e){return so.makeRotationX(e),this.applyMatrix4(so),this}rotateY(e){return so.makeRotationY(e),this.applyMatrix4(so),this}rotateZ(e){return so.makeRotationZ(e),this.applyMatrix4(so),this}translate(e,t,n){return so.makeTranslation(e,t,n),this.applyMatrix4(so),this}scale(e,t,n){return so.makeScale(e,t,n),this.applyMatrix4(so),this}lookAt(e){return ao.lookAt(e),ao.updateMatrix(),this.applyMatrix4(ao.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lo).negate(),this.translate(lo.x,lo.y,lo.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new io(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Mi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ti(-1/0,-1/0,-1/0),new ti(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const e=t[n];co.setFromBufferAttribute(e),this.morphTargetsRelative?(ho.addVectors(this.boundingBox.min,co.min),this.boundingBox.expandByPoint(ho),ho.addVectors(this.boundingBox.max,co.max),this.boundingBox.expandByPoint(ho)):(this.boundingBox.expandByPoint(co.min),this.boundingBox.expandByPoint(co.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Gi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ti,1/0);if(e){const n=this.boundingSphere.center;if(co.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const n=t[e];uo.setFromBufferAttribute(n),this.morphTargetsRelative?(ho.addVectors(co.min,uo.min),co.expandByPoint(ho),ho.addVectors(co.max,uo.max),co.expandByPoint(ho)):(co.expandByPoint(uo.min),co.expandByPoint(uo.max))}co.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)ho.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(ho));if(t)for(let r=0,o=t.length;r<o;r++){const o=t[r],s=this.morphTargetsRelative;for(let t=0,r=o.count;t<r;t++)ho.fromBufferAttribute(o,t),s&&(lo.fromBufferAttribute(e,t),ho.add(lo)),i=Math.max(i,n.distanceToSquared(ho))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,s=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Xr(new Float32Array(4*s),4));const a=this.getAttribute("tangent").array,l=[],c=[];for(let T=0;T<s;T++)l[T]=new ti,c[T]=new ti;const u=new ti,h=new ti,d=new ti,f=new $n,p=new $n,m=new $n,g=new ti,A=new ti;function y(e,t,n){u.fromArray(i,3*e),h.fromArray(i,3*t),d.fromArray(i,3*n),f.fromArray(o,2*e),p.fromArray(o,2*t),m.fromArray(o,2*n),h.sub(u),d.sub(u),p.sub(f),m.sub(f);const r=1/(p.x*m.y-m.x*p.y);isFinite(r)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar(r),A.copy(d).multiplyScalar(p.x).addScaledVector(h,-m.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(A),c[t].add(A),c[n].add(A))}let v=this.groups;0===v.length&&(v=[{start:0,count:n.length}]);for(let T=0,E=v.length;T<E;++T){const e=v[T],t=e.start,i=e.count;for(let r=t,o=t+i;r<o;r+=3)y(n[r+0],n[r+1],n[r+2])}const b=new ti,_=new ti,w=new ti,x=new ti;function S(e){w.fromArray(r,3*e),x.copy(w);const t=l[e];b.copy(t),b.sub(w.multiplyScalar(w.dot(t))).normalize(),_.crossVectors(x,t);const n=_.dot(c[e]),i=n<0?-1:1;a[4*e]=b.x,a[4*e+1]=b.y,a[4*e+2]=b.z,a[4*e+3]=i}for(let T=0,E=v.length;T<E;++T){const e=v[T],t=e.start,i=e.count;for(let r=t,o=t+i;r<o;r+=3)S(n[r+0]),S(n[r+1]),S(n[r+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Xr(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new ti,r=new ti,o=new ti,s=new ti,a=new ti,l=new ti,c=new ti,u=new ti;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,f),o.fromBufferAttribute(t,p),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,d),a.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),s.add(c),a.add(c),l.add(c),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(f,a.x,a.y,a.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ho.fromBufferAttribute(e,t),ho.normalize(),e.setXYZ(t,ho.x,ho.y,ho.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,o=new n.constructor(t.length*i);let s=0,a=0;for(let l=0,c=t.length;l<c;l++){s=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(let e=0;e<i;e++)o[a++]=n[s++]}return new Xr(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new fo,n=this.index.array,i=this.attributes;for(const s in i){const r=i[s],o=e(r,n);t.setAttribute(s,o)}const r=this.morphAttributes;for(const s in r){const i=[],o=r[s];for(let t=0,r=o.length;t<r;t++){const r=o[t],s=e(r,n);i.push(s)}t.morphAttributes[s]=i}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const e=o[s];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const t=n[a];e.data.attributes[a]=t.toJSON(e.data)}const i={};let r=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];n.push(r.toJSON(e.data))}n.length>0&&(i[a]=n,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const e=i[l];this.setAttribute(l,e.clone(t))}const r=e.morphAttributes;for(const l in r){const e=[],n=r[l];for(let i=0,r=n.length;i<r;i++)e.push(n[i].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const po=new er,mo=new Zi,go=new Gi,Ao=new ti,yo=new ti,vo=new ti,bo=new ti,_o=new ti,wo=new ti,xo=new $n,So=new $n,To=new $n,Eo=new ti,Mo=new ti;class Co extends Tr{constructor(e=new fo,t=new Gr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(r&&s){wo.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=s[n],a=r[n];0!==i&&(_o.fromBufferAttribute(a,e),o?wo.addScaledVector(_o,i):wo.addScaledVector(_o.sub(t),i))}t.add(wo)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),go.copy(n.boundingSphere),go.applyMatrix4(r),mo.copy(e.ray).recast(e.near),!1===go.containsPoint(mo.origin)){if(null===mo.intersectSphere(go,Ao))return;if(mo.origin.distanceToSquared(Ao)>(e.far-e.near)**2)return}if(po.copy(r).invert(),mo.copy(e.ray).applyMatrix4(po),null!==n.boundingBox&&!1===mo.intersectsBox(n.boundingBox))return;let o;const s=n.index,a=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.groups,h=n.drawRange;if(null!==s)if(Array.isArray(i))for(let d=0,f=u.length;d<f;d++){const n=u[d],r=i[n.materialIndex],a=Math.max(n.start,h.start),f=Math.min(s.count,Math.min(n.start+n.count,h.start+h.count));for(let i=a,u=f;i<u;i+=3){const a=s.getX(i),u=s.getX(i+1),h=s.getX(i+2);o=ko(this,r,e,mo,l,c,a,u,h),o&&(o.faceIndex=Math.floor(i/3),o.face.materialIndex=n.materialIndex,t.push(o))}}else{const n=Math.max(0,h.start),r=Math.min(s.count,h.start+h.count);for(let a=n,u=r;a<u;a+=3){const n=s.getX(a),r=s.getX(a+1),u=s.getX(a+2);o=ko(this,i,e,mo,l,c,n,r,u),o&&(o.faceIndex=Math.floor(a/3),t.push(o))}}else if(void 0!==a)if(Array.isArray(i))for(let d=0,f=u.length;d<f;d++){const n=u[d],r=i[n.materialIndex],s=Math.max(n.start,h.start),f=Math.min(a.count,Math.min(n.start+n.count,h.start+h.count));for(let i=s,a=f;i<a;i+=3){const s=i,a=i+1,u=i+2;o=ko(this,r,e,mo,l,c,s,a,u),o&&(o.faceIndex=Math.floor(i/3),o.face.materialIndex=n.materialIndex,t.push(o))}}else{const n=Math.max(0,h.start),r=Math.min(a.count,h.start+h.count);for(let s=n,a=r;s<a;s+=3){const n=s,r=s+1,a=s+2;o=ko(this,i,e,mo,l,c,n,r,a),o&&(o.faceIndex=Math.floor(s/3),t.push(o))}}}}function Oo(e,t,n,i,r,o,s,a){let l;if(l=t.side===m?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,t.side===p,a),null===l)return null;Mo.copy(a),Mo.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Mo);return c<n.near||c>n.far?null:{distance:c,point:Mo.clone(),object:e}}function ko(e,t,n,i,r,o,s,a,l){e.getVertexPosition(s,yo),e.getVertexPosition(a,vo),e.getVertexPosition(l,bo);const c=Oo(e,t,n,i,yo,vo,bo,Eo);if(c){r&&(xo.fromBufferAttribute(r,s),So.fromBufferAttribute(r,a),To.fromBufferAttribute(r,l),c.uv=Nr.getUV(Eo,yo,vo,bo,xo,So,To,new $n)),o&&(xo.fromBufferAttribute(o,s),So.fromBufferAttribute(o,a),To.fromBufferAttribute(o,l),c.uv2=Nr.getUV(Eo,yo,vo,bo,xo,So,To,new $n));const e={a:s,b:a,c:l,normal:new ti,materialIndex:0};Nr.getNormal(yo,vo,bo,e.normal),c.face=e}return c}class Po extends fo{constructor(e=1,t=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],l=[],c=[],u=[];let h=0,d=0;function f(e,t,n,i,r,o,f,p,m,g,A){const y=o/m,v=f/g,b=o/2,_=f/2,w=p/2,x=m+1,S=g+1;let T=0,E=0;const M=new ti;for(let s=0;s<S;s++){const o=s*v-_;for(let a=0;a<x;a++){const h=a*y-b;M[e]=h*i,M[t]=o*r,M[n]=w,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,c.push(M.x,M.y,M.z),u.push(a/m),u.push(1-s/g),T+=1}}for(let s=0;s<g;s++)for(let e=0;e<m;e++){const t=h+e+x*s,n=h+e+x*(s+1),i=h+(e+1)+x*(s+1),r=h+(e+1)+x*s;a.push(t,n,r),a.push(n,i,r),E+=6}s.addGroup(d,E,A),d+=E,h+=T}f("z","y","x",-1,-1,n,t,e,o,r,0),f("z","y","x",1,-1,n,t,-e,o,r,1),f("x","z","y",1,1,e,n,t,i,o,2),f("x","z","y",1,-1,e,n,-t,i,o,3),f("x","y","z",1,-1,e,t,n,i,r,4),f("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new io(l,3)),this.setAttribute("normal",new io(c,3)),this.setAttribute("uv",new io(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Po(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Io(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Ro(e){const t={};for(let n=0;n<e.length;n++){const i=Io(e[n]);for(const e in i)t[e]=i[e]}return t}function Do(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function Lo(e){return null===e.getRenderTarget()&&e.outputEncoding===Lt?zt:qt}const No={clone:Io,merge:Ro};var Bo="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Fo="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class jo extends Fr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Bo,this.fragmentShader=Fo,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Io(e.uniforms),this.uniformsGroups=Do(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i],r=n.value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Uo extends Tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new er,this.projectionMatrix=new er,this.projectionMatrixInverse=new er}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class zo extends Uo{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*xn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*wn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*xn*Math.atan(Math.tan(.5*wn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*wn*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/e,t-=o.offsetY*n/s,i*=o.width/e,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const qo=-90,Vo=1;class Ho extends Tr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const i=new zo(qo,Vo,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const r=new zo(qo,Vo,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);const o=new zo(qo,Vo,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const s=new zo(qo,Vo,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);const a=new zo(qo,Vo,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(0,0,1),this.add(a);const l=new zo(qo,Vo,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[i,r,o,s,a,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,h=e.xr.enabled;e.toneMapping=Q,e.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class Go extends vi{constructor(e,t,n,i,r,o,s,a,l,c){e=void 0!==e?e:[],t=void 0!==t?t:re,super(e,t,n,i,r,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Wo extends _i{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Go(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ae}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},i=new Po(5,5,5),r=new jo({name:"CubemapFromEquirect",uniforms:Io(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:m,blending:y});r.uniforms.tEquirect.value=t;const o=new Co(i,r),s=t.minFilter;t.minFilter===be&&(t.minFilter=Ae);const a=new Ho(1,10,this);return a.update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}}const $o=new ti,Xo=new ti,Yo=new Xn;class Ko{constructor(e=new ti(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=$o.subVectors(n,t).cross(Xo.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta($o),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Yo.getNormalMatrix(e),i=this.coplanarPoint($o).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Qo=new Gi,Jo=new ti;class Zo{constructor(e=new Ko,t=new Ko,n=new Ko,i=new Ko,r=new Ko,o=new Ko){this.planes=[e,t,n,i,r,o]}set(e,t,n,i,r,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],A=n[14],y=n[15];return t[0].setComponents(s-i,u-a,p-h,y-m).normalize(),t[1].setComponents(s+i,u+a,p+h,y+m).normalize(),t[2].setComponents(s+r,u+l,p+d,y+g).normalize(),t[3].setComponents(s-r,u-l,p-d,y-g).normalize(),t[4].setComponents(s-o,u-c,p-f,y-A).normalize(),t[5].setComponents(s+o,u+c,p+f,y+A).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Qo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Qo)}intersectsSprite(e){return Qo.center.set(0,0,0),Qo.radius=.7071067811865476,Qo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qo)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++){const e=t[r].distanceToPoint(n);if(e<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Jo.x=i.normal.x>0?e.max.x:e.min.x,Jo.y=i.normal.y>0?e.max.y:e.min.y,Jo.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Jo)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function es(){let e=null,t=!1,n=null,i=null;function r(t,o){n(t,o),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function ts(e,t){const n=t.isWebGL2,i=new WeakMap;function r(t,i){const r=t.array,o=t.usage,s=e.createBuffer();let a;if(e.bindBuffer(i,s),e.bufferData(i,r,o),t.onUploadCallback(),r instanceof Float32Array)a=5126;else if(r instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");a=5131}else a=5123;else if(r instanceof Int16Array)a=5122;else if(r instanceof Uint32Array)a=5125;else if(r instanceof Int32Array)a=5124;else if(r instanceof Int8Array)a=5120;else if(r instanceof Uint8Array)a=5121;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);a=5121}return{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function o(t,i,r){const o=i.array,s=i.updateRange;e.bindBuffer(r,t),-1===s.count?e.bufferSubData(r,0,o):(n?e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1),i.onUploadCallback()}function s(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)}function a(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))}function l(e,t){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);void 0===n?i.set(e,r(e,t)):n.version<e.version&&(o(n.buffer,e,t),n.version=e.version)}return{get:s,remove:a,update:l}}class ns extends fo{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,o=t/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,u=e/s,h=t/a,d=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*h-o;for(let t=0;t<l;t++){const n=t*u-r;f.push(n,-e,0),p.push(0,0,1),m.push(t/s),m.push(1-g/a)}}for(let g=0;g<a;g++)for(let e=0;e<s;e++){const t=e+l*g,n=e+l*(g+1),i=e+1+l*(g+1),r=e+1+l*g;d.push(t,n,r),d.push(n,i,r)}this.setIndex(d),this.setAttribute("position",new io(f,3)),this.setAttribute("normal",new io(p,3)),this.setAttribute("uv",new io(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ns(e.width,e.height,e.widthSegments,e.heightSegments)}}var is="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",rs="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",os="#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",ss="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",as="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",ls="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",cs="vec3 transformed = vec3( position );",us="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",hs="vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",ds="#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",fs="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",ps="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",ms="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",gs="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",As="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",ys="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",vs="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",bs="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",_s="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",ws="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nfloat w0( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n}\nfloat w1( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n}\nfloat w2( float a ){\n    return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n}\nfloat w3( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n}\nfloat g0( float a ) {\n\treturn w0( a ) + w1( a );\n}\nfloat g1( float a ) {\n\treturn w2( a ) + w3( a );\n}\nfloat h0( float a ) {\n\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n}\nfloat h1( float a ) {\n    return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n}\nvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\tuv = uv * texelSize.zw + 0.5;\n\tvec2 iuv = floor( uv );\n    vec2 fuv = fract( uv );\n    float g0x = g0( fuv.x );\n    float g1x = g1( fuv.x );\n    float h0x = h0( fuv.x );\n    float h1x = h1( fuv.x );\n    float h0y = h0( fuv.y );\n    float h1y = h1( fuv.y );\n    vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n    vec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n}\nvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\treturn mix( fSample, cSample, fract( lod ) );\n}",xs="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",Ss="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",Ts="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",Es="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",Ms="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Cs="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",Os="gl_FragColor = linearToOutputTexel( gl_FragColor );",ks="vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",Ps="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",Is="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",Rs="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Ds="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",Ls="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Ns="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",Bs="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",Fs="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",js="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Us="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",zs="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",qs="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Vs="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",Hs="varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",Gs="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",Ws="#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",$s="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",Xs="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",Ys="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Ks="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",Qs="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",Js="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Zs="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",ea="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",ta="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",na="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",ia="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",ra="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",oa="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",sa="#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",aa="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",la="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",ca="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",ua="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",ha="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",da="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",fa="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",pa="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",ma="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",ga="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",Aa="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",ya="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",va="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",ba="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",_a="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",wa="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",xa="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",Sa="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",Ta="#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",Ea="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",Ma="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",Ca="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",Oa="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",ka="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Pa="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",Ia="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Ra="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Da="#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",La="#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",Na="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",Ba="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",Fa="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ja="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",Ua="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",za="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",qa="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Va="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Ha="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Ga="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",Wa="#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",$a="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",Xa="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",Ya="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",Ka="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Qa="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Ja="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",Za="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",el="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif";const tl="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",nl="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",il="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",rl="#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",ol="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",sl="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",al="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",ll="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",cl="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",ul="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",hl="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",dl="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",fl="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",pl="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",ml="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",gl="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Al="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",yl="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",vl="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",bl="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",_l="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",wl="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",xl="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Sl="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Tl="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",El="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Ml="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Cl="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Ol="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",kl="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Pl="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Il="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Rl="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Dl="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Ll={alphamap_fragment:is,alphamap_pars_fragment:rs,alphatest_fragment:os,alphatest_pars_fragment:ss,aomap_fragment:as,aomap_pars_fragment:ls,begin_vertex:cs,beginnormal_vertex:us,bsdfs:hs,iridescence_fragment:ds,bumpmap_pars_fragment:fs,clipping_planes_fragment:ps,clipping_planes_pars_fragment:ms,clipping_planes_pars_vertex:gs,clipping_planes_vertex:As,color_fragment:ys,color_pars_fragment:vs,color_pars_vertex:bs,color_vertex:_s,common:ws,cube_uv_reflection_fragment:xs,defaultnormal_vertex:Ss,displacementmap_pars_vertex:Ts,displacementmap_vertex:Es,emissivemap_fragment:Ms,emissivemap_pars_fragment:Cs,encodings_fragment:Os,encodings_pars_fragment:ks,envmap_fragment:Ps,envmap_common_pars_fragment:Is,envmap_pars_fragment:Rs,envmap_pars_vertex:Ds,envmap_physical_pars_fragment:Ws,envmap_vertex:Ls,fog_vertex:Ns,fog_pars_vertex:Bs,fog_fragment:Fs,fog_pars_fragment:js,gradientmap_pars_fragment:Us,lightmap_fragment:zs,lightmap_pars_fragment:qs,lights_lambert_fragment:Vs,lights_lambert_pars_fragment:Hs,lights_pars_begin:Gs,lights_toon_fragment:$s,lights_toon_pars_fragment:Xs,lights_phong_fragment:Ys,lights_phong_pars_fragment:Ks,lights_physical_fragment:Qs,lights_physical_pars_fragment:Js,lights_fragment_begin:Zs,lights_fragment_maps:ea,lights_fragment_end:ta,logdepthbuf_fragment:na,logdepthbuf_pars_fragment:ia,logdepthbuf_pars_vertex:ra,logdepthbuf_vertex:oa,map_fragment:sa,map_pars_fragment:aa,map_particle_fragment:la,map_particle_pars_fragment:ca,metalnessmap_fragment:ua,metalnessmap_pars_fragment:ha,morphcolor_vertex:da,morphnormal_vertex:fa,morphtarget_pars_vertex:pa,morphtarget_vertex:ma,normal_fragment_begin:ga,normal_fragment_maps:Aa,normal_pars_fragment:ya,normal_pars_vertex:va,normal_vertex:ba,normalmap_pars_fragment:_a,clearcoat_normal_fragment_begin:wa,clearcoat_normal_fragment_maps:xa,clearcoat_pars_fragment:Sa,iridescence_pars_fragment:Ta,output_fragment:Ea,packing:Ma,premultiplied_alpha_fragment:Ca,project_vertex:Oa,dithering_fragment:ka,dithering_pars_fragment:Pa,roughnessmap_fragment:Ia,roughnessmap_pars_fragment:Ra,shadowmap_pars_fragment:Da,shadowmap_pars_vertex:La,shadowmap_vertex:Na,shadowmask_pars_fragment:Ba,skinbase_vertex:Fa,skinning_pars_vertex:ja,skinning_vertex:Ua,skinnormal_vertex:za,specularmap_fragment:qa,specularmap_pars_fragment:Va,tonemapping_fragment:Ha,tonemapping_pars_fragment:Ga,transmission_fragment:Wa,transmission_pars_fragment:$a,uv_pars_fragment:Xa,uv_pars_vertex:Ya,uv_vertex:Ka,uv2_pars_fragment:Qa,uv2_pars_vertex:Ja,uv2_vertex:Za,worldpos_vertex:el,background_vert:tl,background_frag:nl,backgroundCube_vert:il,backgroundCube_frag:rl,cube_vert:ol,cube_frag:sl,depth_vert:al,depth_frag:ll,distanceRGBA_vert:cl,distanceRGBA_frag:ul,equirect_vert:hl,equirect_frag:dl,linedashed_vert:fl,linedashed_frag:pl,meshbasic_vert:ml,meshbasic_frag:gl,meshlambert_vert:Al,meshlambert_frag:yl,meshmatcap_vert:vl,meshmatcap_frag:bl,meshnormal_vert:_l,meshnormal_frag:wl,meshphong_vert:xl,meshphong_frag:Sl,meshphysical_vert:Tl,meshphysical_frag:El,meshtoon_vert:Ml,meshtoon_frag:Cl,points_vert:Ol,points_frag:kl,shadow_vert:Pl,shadow_frag:Il,sprite_vert:Rl,sprite_frag:Dl},Nl={common:{diffuse:{value:new Vr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Xn},uv2Transform:{value:new Xn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Xn}},sprite:{diffuse:{value:new Vr(16777215)},opacity:{value:1},center:{value:new $n(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Xn}}},Bl={basic:{uniforms:Ro([Nl.common,Nl.specularmap,Nl.envmap,Nl.aomap,Nl.lightmap,Nl.fog]),vertexShader:Ll.meshbasic_vert,fragmentShader:Ll.meshbasic_frag},lambert:{uniforms:Ro([Nl.common,Nl.specularmap,Nl.envmap,Nl.aomap,Nl.lightmap,Nl.emissivemap,Nl.bumpmap,Nl.normalmap,Nl.displacementmap,Nl.fog,Nl.lights,{emissive:{value:new Vr(0)}}]),vertexShader:Ll.meshlambert_vert,fragmentShader:Ll.meshlambert_frag},phong:{uniforms:Ro([Nl.common,Nl.specularmap,Nl.envmap,Nl.aomap,Nl.lightmap,Nl.emissivemap,Nl.bumpmap,Nl.normalmap,Nl.displacementmap,Nl.fog,Nl.lights,{emissive:{value:new Vr(0)},specular:{value:new Vr(1118481)},shininess:{value:30}}]),vertexShader:Ll.meshphong_vert,fragmentShader:Ll.meshphong_frag},standard:{uniforms:Ro([Nl.common,Nl.envmap,Nl.aomap,Nl.lightmap,Nl.emissivemap,Nl.bumpmap,Nl.normalmap,Nl.displacementmap,Nl.roughnessmap,Nl.metalnessmap,Nl.fog,Nl.lights,{emissive:{value:new Vr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ll.meshphysical_vert,fragmentShader:Ll.meshphysical_frag},toon:{uniforms:Ro([Nl.common,Nl.aomap,Nl.lightmap,Nl.emissivemap,Nl.bumpmap,Nl.normalmap,Nl.displacementmap,Nl.gradientmap,Nl.fog,Nl.lights,{emissive:{value:new Vr(0)}}]),vertexShader:Ll.meshtoon_vert,fragmentShader:Ll.meshtoon_frag},matcap:{uniforms:Ro([Nl.common,Nl.bumpmap,Nl.normalmap,Nl.displacementmap,Nl.fog,{matcap:{value:null}}]),vertexShader:Ll.meshmatcap_vert,fragmentShader:Ll.meshmatcap_frag},points:{uniforms:Ro([Nl.points,Nl.fog]),vertexShader:Ll.points_vert,fragmentShader:Ll.points_frag},dashed:{uniforms:Ro([Nl.common,Nl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ll.linedashed_vert,fragmentShader:Ll.linedashed_frag},depth:{uniforms:Ro([Nl.common,Nl.displacementmap]),vertexShader:Ll.depth_vert,fragmentShader:Ll.depth_frag},normal:{uniforms:Ro([Nl.common,Nl.bumpmap,Nl.normalmap,Nl.displacementmap,{opacity:{value:1}}]),vertexShader:Ll.meshnormal_vert,fragmentShader:Ll.meshnormal_frag},sprite:{uniforms:Ro([Nl.sprite,Nl.fog]),vertexShader:Ll.sprite_vert,fragmentShader:Ll.sprite_frag},background:{uniforms:{uvTransform:{value:new Xn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ll.background_vert,fragmentShader:Ll.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ll.backgroundCube_vert,fragmentShader:Ll.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ll.cube_vert,fragmentShader:Ll.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ll.equirect_vert,fragmentShader:Ll.equirect_frag},distanceRGBA:{uniforms:Ro([Nl.common,Nl.displacementmap,{referencePosition:{value:new ti},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ll.distanceRGBA_vert,fragmentShader:Ll.distanceRGBA_frag},shadow:{uniforms:Ro([Nl.lights,Nl.fog,{color:{value:new Vr(0)},opacity:{value:1}}]),vertexShader:Ll.shadow_vert,fragmentShader:Ll.shadow_frag}};Bl.physical={uniforms:Ro([Bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $n(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Vr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new $n},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Vr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Vr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ll.meshphysical_vert,fragmentShader:Ll.meshphysical_frag};const Fl={r:0,b:0,g:0};function jl(e,t,n,i,r,o,s){const a=new Vr(0);let l,c,u=!0===o?0:1,h=null,d=0,f=null;function g(i,o){let s=!1,g=!0===o.isScene?o.background:null;if(g&&g.isTexture){const e=o.backgroundBlurriness>0;g=(e?n:t).get(g)}const y=e.xr,v=y.getSession&&y.getSession();v&&"additive"===v.environmentBlendMode&&(g=null),null===g?A(a,u):g&&g.isColor&&(A(g,1),s=!0),(e.autoClear||s)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===le)?(void 0===c&&(c=new Co(new Po(1,1,1),new jo({name:"BackgroundCubeMaterial",uniforms:Io(Bl.backgroundCube.uniforms),vertexShader:Bl.backgroundCube.vertexShader,fragmentShader:Bl.backgroundCube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=g,c.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=o.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,c.material.toneMapped=g.encoding!==Lt,h===g&&d===g.version&&f===e.toneMapping||(c.material.needsUpdate=!0,h=g,d=g.version,f=e.toneMapping),c.layers.enableAll(),i.unshift(c,c.geometry,c.material,0,0,null)):g&&g.isTexture&&(void 0===l&&(l=new Co(new ns(2,2),new jo({name:"BackgroundMaterial",uniforms:Io(Bl.background.uniforms),vertexShader:Bl.background.vertexShader,fragmentShader:Bl.background.fragmentShader,side:p,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=g,l.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,l.material.toneMapped=g.encoding!==Lt,!0===g.matrixAutoUpdate&&g.updateMatrix(),l.material.uniforms.uvTransform.value.copy(g.matrix),h===g&&d===g.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=g,d=g.version,f=e.toneMapping),l.layers.enableAll(),i.unshift(l,l.geometry,l.material,0,0,null))}function A(t,n){t.getRGB(Fl,Lo(e)),i.buffers.color.setClear(Fl.r,Fl.g,Fl.b,n,s)}return{getClearColor:function(){return a},setClearColor:function(e,t=1){a.set(e),u=t,A(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,A(a,u)},render:g}}function Ul(e,t,n,i){const r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},l=g(null);let c=l,u=!1;function h(t,i,r,o,a){let l=!1;if(s){const e=m(o,r,i);c!==e&&(c=e,f(c.object)),l=A(t,o,r,a),l&&y(t,o,r,a)}else{const e=!0===i.wireframe;c.geometry===o.id&&c.program===r.id&&c.wireframe===e||(c.geometry=o.id,c.program=r.id,c.wireframe=e,l=!0)}null!==a&&n.update(a,34963),(l||u)&&(u=!1,S(t,i,r,o),null!==a&&e.bindBuffer(34963,n.get(a).buffer))}function d(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function f(t){return i.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function p(t){return i.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function m(e,t,n){const i=!0===n.wireframe;let r=a[e.id];void 0===r&&(r={},a[e.id]=r);let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[i];return void 0===s&&(s=g(d()),o[i]=s),s}function g(e){const t=[],n=[],i=[];for(let o=0;o<r;o++)t[o]=0,n[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function A(e,t,n,i){const r=c.attributes,o=t.attributes;let s=0;const a=n.getAttributes();for(const l in a){const t=a[l];if(t.location>=0){const t=r[l];let n=o[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return c.attributesNum!==s||c.index!==i}function y(e,t,n,i){const r={},o=t.attributes;let s=0;const a=n.getAttributes();for(const l in a){const t=a[l];if(t.location>=0){let t=o[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),r[l]=n,s++}}c.attributes=r,c.attributesNum=s,c.index=i}function v(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function b(e){_(e,0)}function _(n,r){const o=c.newAttributes,s=c.enabledAttributes,a=c.attributeDivisors;if(o[n]=1,0===s[n]&&(e.enableVertexAttribArray(n),s[n]=1),a[n]!==r){const o=i.isWebGL2?e:t.get("ANGLE_instanced_arrays");o[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r}}function w(){const t=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function x(t,n,r,o,s,a){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,o,s,a):e.vertexAttribIPointer(t,n,r,s,a)}function S(r,o,s,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;v();const l=a.attributes,c=s.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const i=c[t];if(i.location>=0){let o=l[t];if(void 0===o&&("instanceMatrix"===t&&r.instanceMatrix&&(o=r.instanceMatrix),"instanceColor"===t&&r.instanceColor&&(o=r.instanceColor)),void 0!==o){const t=o.normalized,s=o.itemSize,l=n.get(o);if(void 0===l)continue;const c=l.buffer,u=l.type,h=l.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,l=n.stride,d=o.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)_(i.location+e,n.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<i.locationSize;e++)b(i.location+e);e.bindBuffer(34962,c);for(let e=0;e<i.locationSize;e++)x(i.location+e,s/i.locationSize,u,t,l*h,(d+s/i.locationSize*e)*h)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)_(i.location+e,o.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<i.locationSize;e++)b(i.location+e);e.bindBuffer(34962,c);for(let e=0;e<i.locationSize;e++)x(i.location+e,s/i.locationSize,u,t,s*h,s/i.locationSize*e*h)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(i.location,n);break;case 3:e.vertexAttrib3fv(i.location,n);break;case 4:e.vertexAttrib4fv(i.location,n);break;default:e.vertexAttrib1fv(i.location,n)}}}}w()}function T(){C();for(const e in a){const t=a[e];for(const e in t){const n=t[e];for(const e in n)p(n[e].object),delete n[e];delete t[e]}delete a[e]}}function E(e){if(void 0===a[e.id])return;const t=a[e.id];for(const n in t){const e=t[n];for(const t in e)p(e[t].object),delete e[t];delete t[n]}delete a[e.id]}function M(e){for(const t in a){const n=a[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)p(i[e].object),delete i[e];delete n[e.id]}}function C(){O(),u=!0,c!==l&&(c=l,f(c.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:C,resetDefaultState:O,dispose:T,releaseStatesOfGeometry:E,releaseStatesOfProgram:M,initAttributes:v,enableAttribute:b,disableUnusedAttributes:w}}function zl(e,t,n,i){const r=i.isWebGL2;let o;function s(e){o=e}function a(t,i){e.drawArrays(o,t,i),n.update(i,o,1)}function l(i,s,a){if(0===a)return;let l,c;if(r)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,i,s,a),n.update(s,o,a)}this.setMode=s,this.render=a,this.renderInstances=l}function ql(e,t,n){let i;function r(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;let a=void 0!==n.precision?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=s||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,h=e.getParameter(34930),d=e.getParameter(35660),f=e.getParameter(3379),p=e.getParameter(34076),m=e.getParameter(34921),g=e.getParameter(36347),A=e.getParameter(36348),y=e.getParameter(36349),v=d>0,b=s||t.has("OES_texture_float"),_=v&&b,w=s?e.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:A,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:_,maxSamples:w}}function Vl(e){const t=this;let n=null,i=0,r=!1,o=!1;const s=new Ko,a=new Xn,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(e,n,i,r){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const t=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=i;n!==o;++n,l+=4)s.copy(e[n]).applyMatrix4(r,a),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(t,s,a){const h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!r||null===h||0===h.length||o&&!f)o?u(null):c();else{const e=o?0:i,t=4*e;let r=p.clippingState||null;l.value=r,r=u(h,s,t,a);for(let i=0;i!==t;++i)r[i]=n[i];p.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function Hl(e){let t=new WeakMap;function n(e,t){return t===se?e.mapping=re:t===ae&&(e.mapping=oe),e}function i(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping;if(o===se||o===ae){if(t.has(i)){const e=t.get(i).texture;return n(e,i.mapping)}{const o=i.image;if(o&&o.height>0){const s=new Wo(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}}return i}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}function o(){t=new WeakMap}return{get:i,dispose:o}}class Gl extends Uo{constructor(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,s=i+t,a=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,o=r+e*this.view.width,s-=t*this.view.offsetY,a=s-t*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Wl=4,$l=[.125,.215,.35,.446,.526,.582],Xl=20,Yl=new Gl,Kl=new Vr;let Ql=null;const Jl=(1+Math.sqrt(5))/2,Zl=1/Jl,ec=[new ti(1,1,1),new ti(-1,1,1),new ti(1,1,-1),new ti(-1,1,-1),new ti(0,Jl,Zl),new ti(0,Jl,-Zl),new ti(Zl,0,Jl),new ti(-Zl,0,Jl),new ti(Jl,Zl,0),new ti(-Jl,Zl,0)];class tc{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){Ql=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=ac(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=sc(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ql),e.scissorTest=!1,rc(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===re||e.mapping===oe?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ql=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Ae,minFilter:Ae,generateMipmaps:!1,type:Oe,format:De,encoding:Dt,depthBuffer:!1},i=ic(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ic(e,t,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=nc(i)),this._blurMaterial=oc(i,e,t)}return i}_compileMaterial(e){const t=new Co(this._lodPlanes[0],e);this._renderer.compile(t,Yl)}_sceneToCubeUV(e,t,n,i){const r=90,o=1,s=new zo(r,o,t,n),a=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,h=c.toneMapping;c.getClearColor(Kl),c.toneMapping=Q,c.autoClear=!1;const d=new Gr({name:"PMREM.Background",side:m,depthWrite:!1,depthTest:!1}),f=new Co(new Po,d);let p=!1;const g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,p=!0):(d.color.copy(Kl),p=!0);for(let m=0;m<6;m++){const t=m%3;0===t?(s.up.set(0,a[m],0),s.lookAt(l[m],0,0)):1===t?(s.up.set(0,0,a[m]),s.lookAt(0,l[m],0)):(s.up.set(0,a[m],0),s.lookAt(0,0,l[m]));const n=this._cubeSize;rc(i,t*n,m>2?n:0,n,n),c.setRenderTarget(i),p&&c.render(f,s),c.render(e,s)}f.geometry.dispose(),f.material.dispose(),c.toneMapping=h,c.autoClear=u,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===re||e.mapping===oe;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=ac()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=sc());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new Co(this._lodPlanes[0],r),s=r.uniforms;s["envMap"].value=e;const a=this._cubeSize;rc(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,Yl)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=ec[(i-1)%ec.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,s){const a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Co(this._lodPlanes[i],l),h=l.uniforms,d=this._sizeLods[n]-1,f=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*Xl-1),p=r/f,m=isFinite(r)?1+Math.floor(c*p):Xl;m>Xl&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Xl}`);const g=[];let A=0;for(let w=0;w<Xl;++w){const e=w/p,t=Math.exp(-e*e/2);g.push(t),0===w?A+=t:w<m&&(A+=2*t)}for(let w=0;w<g.length;w++)g[w]=g[w]/A;h["envMap"].value=e.texture,h["samples"].value=m,h["weights"].value=g,h["latitudinal"].value="latitudinal"===o,s&&(h["poleAxis"].value=s);const{_lodMax:y}=this;h["dTheta"].value=f,h["mipInt"].value=y-n;const v=this._sizeLods[i],b=3*v*(i>y-Wl?i-y+Wl:0),_=4*(this._cubeSize-v);rc(t,b,_,3*v,2*v),a.setRenderTarget(t),a.render(u,Yl)}}function nc(e){const t=[],n=[],i=[];let r=e;const o=e-Wl+1+$l.length;for(let s=0;s<o;s++){const o=Math.pow(2,r);n.push(o);let a=1/o;s>e-Wl?a=$l[s-e+Wl-1]:0===s&&(a=0),i.push(a);const l=1/(o-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,f=6,p=3,m=2,g=1,A=new Float32Array(p*f*d),y=new Float32Array(m*f*d),v=new Float32Array(g*f*d);for(let e=0;e<d;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];A.set(i,p*f*e),y.set(h,m*f*e);const r=[e,e,e,e,e,e];v.set(r,g*f*e)}const b=new fo;b.setAttribute("position",new Xr(A,p)),b.setAttribute("uv",new Xr(y,m)),b.setAttribute("faceIndex",new Xr(v,g)),t.push(b),r>Wl&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}function ic(e,t,n){const i=new _i(e,t,n);return i.texture.mapping=le,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function rc(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function oc(e,t,n){const i=new Float32Array(Xl),r=new ti(0,1,0),o=new jo({name:"SphericalGaussianBlur",defines:{n:Xl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:e+".0"},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:lc(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:y,depthTest:!1,depthWrite:!1});return o}function sc(){return new jo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lc(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:y,depthTest:!1,depthWrite:!1})}function ac(){return new jo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lc(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:y,depthTest:!1,depthWrite:!1})}function lc(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function cc(e){let t=new WeakMap,n=null;function i(i){if(i&&i.isTexture){const s=i.mapping,a=s===se||s===ae,l=s===re||s===oe;if(a||l){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new tc(e)),r=a?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const s=i.image;if(a&&s&&s.height>0||l&&s&&r(s)){null===n&&(n=new tc(e));const r=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,r),i.addEventListener("dispose",o),r.texture}return null}}}return i}function r(e){let t=0;const n=6;for(let i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}function o(e){const n=e.target;n.removeEventListener("dispose",o);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}function s(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}return{get:i,dispose:s}}function uc(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function hc(e,t,n,i){const r={},o=new WeakMap;function s(e){const a=e.target;null!==a.index&&t.remove(a.index);for(const n in a.attributes)t.remove(a.attributes[n]);a.removeEventListener("dispose",s),delete r[a.id];const l=o.get(a);l&&(t.remove(l),o.delete(a)),i.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(e,t){return!0===r[t.id]||(t.addEventListener("dispose",s),r[t.id]=!0,n.memory.geometries++),t}function l(e){const n=e.attributes;for(const r in n)t.update(n[r],34962);const i=e.morphAttributes;for(const r in i){const e=i[r];for(let n=0,i=e.length;n<i;n++)t.update(e[n],34962)}}function c(e){const n=[],i=e.index,r=e.attributes.position;let s=0;if(null!==i){const e=i.array;s=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],o=e[t+2];n.push(i,r,r,o,o,i)}}else{const e=r.array;s=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}const a=new(Kn(n)?to:Zr)(n,1);a.version=s;const l=o.get(e);l&&t.remove(l),o.set(e,a)}function u(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&c(e)}else c(e);return o.get(e)}return{get:a,update:l,getWireframeAttribute:u}}function dc(e,t,n,i){const r=i.isWebGL2;let o,s,a;function l(e){o=e}function c(e){s=e.type,a=e.bytesPerElement}function u(t,i){e.drawElements(o,i,s,t*a),n.update(i,o,1)}function h(i,l,c){if(0===c)return;let u,h;if(r)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,l,s,i*a,c),n.update(l,o,c)}this.setMode=l,this.setIndex=c,this.render=u,this.renderInstances=h}function fc(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(e,t,i){switch(n.calls++,t){case 4:n.triangles+=i*(e/3);break;case 1:n.lines+=i*(e/2);break;case 3:n.lines+=i*(e-1);break;case 2:n.lines+=i*e;break;case 0:n.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function pc(e,t){return e[0]-t[0]}function mc(e,t){return Math.abs(t[1])-Math.abs(e[1])}function gc(e,t,n){const i={},r=new Float32Array(8),o=new WeakMap,s=new bi,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(l,c,u){const h=l.morphTargetInfluences;if(!0===t.isWebGL2){const i=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,r=void 0!==i?i.length:0;let a=o.get(c);if(void 0===a||a.count!==r){void 0!==a&&a.texture.dispose();const e=void 0!==c.morphAttributes.position,n=void 0!==c.morphAttributes.normal,i=void 0!==c.morphAttributes.color,l=c.morphAttributes.position||[],u=c.morphAttributes.normal||[],h=c.morphAttributes.color||[];let f=0;!0===e&&(f=1),!0===n&&(f=2),!0===i&&(f=3);let p=c.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const g=new Float32Array(p*m*4*r),A=new wi(g,p,m,r);A.type=Ce,A.needsUpdate=!0;const y=4*f;for(let t=0;t<r;t++){const r=l[t],o=u[t],a=h[t],c=p*m*4*t;for(let t=0;t<r.count;t++){const l=t*y;!0===e&&(s.fromBufferAttribute(r,t),g[c+l+0]=s.x,g[c+l+1]=s.y,g[c+l+2]=s.z,g[c+l+3]=0),!0===n&&(s.fromBufferAttribute(o,t),g[c+l+4]=s.x,g[c+l+5]=s.y,g[c+l+6]=s.z,g[c+l+7]=0),!0===i&&(s.fromBufferAttribute(a,t),g[c+l+8]=s.x,g[c+l+9]=s.y,g[c+l+10]=s.z,g[c+l+11]=4===a.itemSize?s.w:1)}}function d(){A.dispose(),o.delete(c),c.removeEventListener("dispose",d)}a={count:r,texture:A,size:new $n(p,m)},o.set(c,a),c.addEventListener("dispose",d)}let l=0;for(let e=0;e<h.length;e++)l+=h[e];const f=c.morphTargetsRelative?1:1-l;u.getUniforms().setValue(e,"morphTargetBaseInfluence",f),u.getUniforms().setValue(e,"morphTargetInfluences",h),u.getUniforms().setValue(e,"morphTargetsTexture",a.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",a.size)}else{const t=void 0===h?0:h.length;let n=i[c.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];i[c.id]=n}for(let e=0;e<t;e++){const t=n[e];t[0]=e,t[1]=h[e]}n.sort(mc);for(let e=0;e<8;e++)e<t&&n[e][1]?(a[e][0]=n[e][0],a[e][1]=n[e][1]):(a[e][0]=Number.MAX_SAFE_INTEGER,a[e][1]=0);a.sort(pc);const o=c.morphAttributes.position,s=c.morphAttributes.normal;let l=0;for(let e=0;e<8;e++){const t=a[e],n=t[0],i=t[1];n!==Number.MAX_SAFE_INTEGER&&i?(o&&c.getAttribute("morphTarget"+e)!==o[n]&&c.setAttribute("morphTarget"+e,o[n]),s&&c.getAttribute("morphNormal"+e)!==s[n]&&c.setAttribute("morphNormal"+e,s[n]),r[e]=i,l+=i):(o&&!0===c.hasAttribute("morphTarget"+e)&&c.deleteAttribute("morphTarget"+e),s&&!0===c.hasAttribute("morphNormal"+e)&&c.deleteAttribute("morphNormal"+e),r[e]=0)}const d=c.morphTargetsRelative?1:1-l;u.getUniforms().setValue(e,"morphTargetBaseInfluence",d),u.getUniforms().setValue(e,"morphTargetInfluences",r)}}return{update:l}}function Ac(e,t,n,i){let r=new WeakMap;function o(e){const o=i.render.frame,s=e.geometry,l=t.get(e,s);return r.get(l)!==o&&(t.update(l),r.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l}function s(){r=new WeakMap}function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:o,dispose:s}}const yc=new vi,vc=new wi,bc=new Si,_c=new Go,wc=[],xc=[],Sc=new Float32Array(16),Tc=new Float32Array(9),Ec=new Float32Array(4);function Mc(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let o=wc[r];if(void 0===o&&(o=new Float32Array(r),wc[r]=o),0!==t){i.toArray(o,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(o,r)}return o}function Cc(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Oc(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function kc(e,t){let n=xc[t];void 0===n&&(n=new Int32Array(t),xc[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Pc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ic(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Cc(n,t))return;e.uniform2fv(this.addr,t),Oc(n,t)}}function Rc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Cc(n,t))return;e.uniform3fv(this.addr,t),Oc(n,t)}}function Dc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Cc(n,t))return;e.uniform4fv(this.addr,t),Oc(n,t)}}function Lc(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Cc(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Oc(n,t)}else{if(Cc(n,i))return;Ec.set(i),e.uniformMatrix2fv(this.addr,!1,Ec),Oc(n,i)}}function Nc(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Cc(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Oc(n,t)}else{if(Cc(n,i))return;Tc.set(i),e.uniformMatrix3fv(this.addr,!1,Tc),Oc(n,i)}}function Bc(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Cc(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Oc(n,t)}else{if(Cc(n,i))return;Sc.set(i),e.uniformMatrix4fv(this.addr,!1,Sc),Oc(n,i)}}function Fc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function jc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Cc(n,t))return;e.uniform2iv(this.addr,t),Oc(n,t)}}function Uc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Cc(n,t))return;e.uniform3iv(this.addr,t),Oc(n,t)}}function zc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Cc(n,t))return;e.uniform4iv(this.addr,t),Oc(n,t)}}function qc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Vc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Cc(n,t))return;e.uniform2uiv(this.addr,t),Oc(n,t)}}function Hc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Cc(n,t))return;e.uniform3uiv(this.addr,t),Oc(n,t)}}function Gc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Cc(n,t))return;e.uniform4uiv(this.addr,t),Oc(n,t)}}function Wc(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||yc,r)}function $c(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||bc,r)}function Xc(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||_c,r)}function Yc(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||vc,r)}function Kc(e){switch(e){case 5126:return Pc;case 35664:return Ic;case 35665:return Rc;case 35666:return Dc;case 35674:return Lc;case 35675:return Nc;case 35676:return Bc;case 5124:case 35670:return Fc;case 35667:case 35671:return jc;case 35668:case 35672:return Uc;case 35669:case 35673:return zc;case 5125:return qc;case 36294:return Vc;case 36295:return Hc;case 36296:return Gc;case 35678:case 36198:case 36298:case 36306:case 35682:return Wc;case 35679:case 36299:case 36307:return $c;case 35680:case 36300:case 36308:case 36293:return Xc;case 36289:case 36303:case 36311:case 36292:return Yc}}function Qc(e,t){e.uniform1fv(this.addr,t)}function Jc(e,t){const n=Mc(t,this.size,2);e.uniform2fv(this.addr,n)}function Zc(e,t){const n=Mc(t,this.size,3);e.uniform3fv(this.addr,n)}function eu(e,t){const n=Mc(t,this.size,4);e.uniform4fv(this.addr,n)}function tu(e,t){const n=Mc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function nu(e,t){const n=Mc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function iu(e,t){const n=Mc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ru(e,t){e.uniform1iv(this.addr,t)}function ou(e,t){e.uniform2iv(this.addr,t)}function su(e,t){e.uniform3iv(this.addr,t)}function au(e,t){e.uniform4iv(this.addr,t)}function lu(e,t){e.uniform1uiv(this.addr,t)}function cu(e,t){e.uniform2uiv(this.addr,t)}function uu(e,t){e.uniform3uiv(this.addr,t)}function hu(e,t){e.uniform4uiv(this.addr,t)}function du(e,t,n){const i=this.cache,r=t.length,o=kc(n,r);Cc(i,o)||(e.uniform1iv(this.addr,o),Oc(i,o));for(let s=0;s!==r;++s)n.setTexture2D(t[s]||yc,o[s])}function fu(e,t,n){const i=this.cache,r=t.length,o=kc(n,r);Cc(i,o)||(e.uniform1iv(this.addr,o),Oc(i,o));for(let s=0;s!==r;++s)n.setTexture3D(t[s]||bc,o[s])}function pu(e,t,n){const i=this.cache,r=t.length,o=kc(n,r);Cc(i,o)||(e.uniform1iv(this.addr,o),Oc(i,o));for(let s=0;s!==r;++s)n.setTextureCube(t[s]||_c,o[s])}function mu(e,t,n){const i=this.cache,r=t.length,o=kc(n,r);Cc(i,o)||(e.uniform1iv(this.addr,o),Oc(i,o));for(let s=0;s!==r;++s)n.setTexture2DArray(t[s]||vc,o[s])}function gu(e){switch(e){case 5126:return Qc;case 35664:return Jc;case 35665:return Zc;case 35666:return eu;case 35674:return tu;case 35675:return nu;case 35676:return iu;case 5124:case 35670:return ru;case 35667:case 35671:return ou;case 35668:case 35672:return su;case 35669:case 35673:return au;case 5125:return lu;case 36294:return cu;case 36295:return uu;case 36296:return hu;case 35678:case 36198:case 36298:case 36306:case 35682:return du;case 35679:case 36299:case 36307:return fu;case 35680:case 36300:case 36308:case 36293:return pu;case 36289:case 36303:case 36311:case 36292:return mu}}class Au{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Kc(t.type)}}class yu{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=gu(t.type)}}class vu{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(e,t[o.id],n)}}}const bu=/(\w+)(\])?(\[|\.)?/g;function _u(e,t){e.seq.push(t),e.map[t.id]=t}function wu(e,t,n){const i=e.name,r=i.length;bu.lastIndex=0;while(1){const o=bu.exec(i),s=bu.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===r){_u(n,void 0===c?new Au(a,e,t):new yu(a,e,t));break}{const e=n.map;let t=e[a];void 0===t&&(t=new vu(a),_u(n,t)),n=t}}}class xu{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i),r=e.getUniformLocation(t,n.name);wu(n,r,this)}}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function Su(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let Tu=0;function Eu(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=r;s<o;s++){const e=s+1;i.push(`${e===t?">":" "} ${e}: ${n[s]}`)}return i.join("\n")}function Mu(e){switch(e){case Dt:return["Linear","( value )"];case Lt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Cu(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const i=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+Eu(e.getShaderSource(t),i)}return r}function Ou(e,t){const n=Mu(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ku(e,t){let n;switch(t){case J:n="Linear";break;case Z:n="Reinhard";break;case ee:n="OptimizedCineon";break;case te:n="ACESFilmic";break;case ne:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Pu(e){const t=[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(Du).join("\n")}function Iu(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}function Ru(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),o=i.name;let s=1;35674===i.type&&(s=2),35675===i.type&&(s=3),35676===i.type&&(s=4),n[o]={type:i.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}function Du(e){return""!==e}function Lu(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Nu(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Bu=/^[ \t]*#include +<([\w\d./]+)>/gm;function Fu(e){return e.replace(Bu,ju)}function ju(e,t){const n=Ll[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Fu(n)}const Uu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zu(e){return e.replace(Uu,qu)}function qu(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function Vu(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Hu(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===h?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===d?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===f&&(t="SHADOWMAP_TYPE_VSM"),t}function Gu(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case re:case oe:t="ENVMAP_TYPE_CUBE";break;case le:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Wu(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case oe:t="ENVMAP_MODE_REFRACTION";break}return t}function $u(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case X:t="ENVMAP_BLENDING_MULTIPLY";break;case Y:t="ENVMAP_BLENDING_MIX";break;case K:t="ENVMAP_BLENDING_ADD";break}return t}function Xu(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t,r=1/(3*Math.max(Math.pow(2,n),112));return{texelWidth:r,texelHeight:i,maxMip:n}}function Yu(e,t,n,i){const r=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=Hu(n),c=Gu(n),u=Wu(n),h=$u(n),d=Xu(n),f=n.isWebGL2?"":Pu(n),p=Iu(o),m=r.createProgram();let g,A,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[p].filter(Du).join("\n"),g.length>0&&(g+="\n"),A=[f,p].filter(Du).join("\n"),A.length>0&&(A+="\n")):(g=[Vu(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Du).join("\n"),A=[f,Vu(n),"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Q?"#define TONE_MAPPING":"",n.toneMapping!==Q?Ll["tonemapping_pars_fragment"]:"",n.toneMapping!==Q?ku("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ll["encodings_pars_fragment"],Ou("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Du).join("\n")),s=Fu(s),s=Lu(s,n),s=Nu(s,n),a=Fu(a),a=Lu(a,n),a=Nu(a,n),s=zu(s),a=zu(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,A=["#define varying in",n.glslVersion===An?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===An?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+A);const v=y+g+s,b=y+A+a,_=Su(r,35633,v),w=Su(r,35632,b);if(r.attachShader(m,_),r.attachShader(m,w),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),e.debug.checkShaderErrors){const e=r.getProgramInfoLog(m).trim(),t=r.getShaderInfoLog(_).trim(),n=r.getShaderInfoLog(w).trim();let i=!0,o=!0;if(!1===r.getProgramParameter(m,35714)){i=!1;const t=Cu(r,_,"vertex"),n=Cu(r,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+n)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:i,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:A}})}let x,S;return r.deleteShader(_),r.deleteShader(w),this.getUniforms=function(){return void 0===x&&(x=new xu(r,m)),x},this.getAttributes=function(){return void 0===S&&(S=Ru(r,m)),S},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=Tu++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=w,this}let Ku=0;class Qu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Ju(e),t.set(e,n)),n}}class Ju{constructor(e){this.id=Ku++,this.code=e,this.usedTimes=0}}function Zu(e,t,n,i,r,o,s){const a=new hr,l=new Qu,c=[],u=r.isWebGL2,h=r.logarithmicDepthBuffer,d=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(o,a,c,A,y){const b=A.fog,_=y.geometry,w=o.isMeshStandardMaterial?A.environment:null,x=(o.isMeshStandardMaterial?n:t).get(o.envMap||w),S=x&&x.mapping===le?x.image.height:null,T=p[o.type];null!==o.precision&&(f=r.getMaxPrecision(o.precision),f!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",f,"instead."));const E=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,M=void 0!==E?E.length:0;let C,O,k,P,I=0;if(void 0!==_.morphAttributes.position&&(I=1),void 0!==_.morphAttributes.normal&&(I=2),void 0!==_.morphAttributes.color&&(I=3),T){const e=Bl[T];C=e.vertexShader,O=e.fragmentShader}else C=o.vertexShader,O=o.fragmentShader,l.update(o),k=l.getVertexShaderID(o),P=l.getFragmentShaderID(o);const R=e.getRenderTarget(),D=o.alphaTest>0,L=o.clearcoat>0,N=o.iridescence>0,B={isWebGL2:u,shaderID:T,shaderName:o.type,vertexShader:C,fragmentShader:O,defines:o.defines,customVertexShaderID:k,customFragmentShaderID:P,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:f,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:d,outputEncoding:null===R?e.outputEncoding:!0===R.isXRRenderTarget?R.texture.encoding:Dt,map:!!o.map,matcap:!!o.matcap,envMap:!!x,envMapMode:x&&x.mapping,envMapCubeUVHeight:S,lightMap:!!o.lightMap,aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:o.normalMapType===jt,tangentSpaceNormalMap:o.normalMapType===Ft,decodeVideoTexture:!!o.map&&!0===o.map.isVideoTexture&&o.map.encoding===Lt,clearcoat:L,clearcoatMap:L&&!!o.clearcoatMap,clearcoatRoughnessMap:L&&!!o.clearcoatRoughnessMap,clearcoatNormalMap:L&&!!o.clearcoatNormalMap,iridescence:N,iridescenceMap:N&&!!o.iridescenceMap,iridescenceThicknessMap:N&&!!o.iridescenceThicknessMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularColorMap:!!o.specularColorMap,opaque:!1===o.transparent&&o.blending===v,alphaMap:!!o.alphaMap,alphaTest:D,gradientMap:!!o.gradientMap,sheen:o.sheen>0,sheenColorMap:!!o.sheenColorMap,sheenRoughnessMap:!!o.sheenRoughnessMap,transmission:o.transmission>0,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!_.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,vertexUvs:!!o.map||!!o.bumpMap||!!o.normalMap||!!o.specularMap||!!o.alphaMap||!!o.emissiveMap||!!o.roughnessMap||!!o.metalnessMap||!!o.clearcoatMap||!!o.clearcoatRoughnessMap||!!o.clearcoatNormalMap||!!o.iridescenceMap||!!o.iridescenceThicknessMap||!!o.displacementMap||!!o.transmissionMap||!!o.thicknessMap||!!o.specularIntensityMap||!!o.specularColorMap||!!o.sheenColorMap||!!o.sheenRoughnessMap,uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.iridescenceMap||o.iridescenceThicknessMap||o.transmission>0||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheen>0||o.sheenColorMap||o.sheenRoughnessMap)&&!!o.displacementMap,fog:!!b,useFog:!0===o.fog,fogExp2:b&&b.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==_.morphAttributes.position,morphNormals:void 0!==_.morphAttributes.normal,morphColors:void 0!==_.morphAttributes.color,morphTargetsCount:M,morphTextureStride:I,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numSpotLightMaps:a.spotLightMap.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numSpotLightShadowsWithMaps:a.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:Q,useLegacyLights:e.useLegacyLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===g,flipSided:o.side===m,useDepthPacking:!!o.depthPacking,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()};return B}function y(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(b(n,t),_(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()}function b(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}function _(e,t){a.disableAll(),t.isWebGL2&&a.enable(0),t.supportsVertexTextures&&a.enable(1),t.instancing&&a.enable(2),t.instancingColor&&a.enable(3),t.map&&a.enable(4),t.matcap&&a.enable(5),t.envMap&&a.enable(6),t.lightMap&&a.enable(7),t.aoMap&&a.enable(8),t.emissiveMap&&a.enable(9),t.bumpMap&&a.enable(10),t.normalMap&&a.enable(11),t.objectSpaceNormalMap&&a.enable(12),t.tangentSpaceNormalMap&&a.enable(13),t.clearcoat&&a.enable(14),t.clearcoatMap&&a.enable(15),t.clearcoatRoughnessMap&&a.enable(16),t.clearcoatNormalMap&&a.enable(17),t.iridescence&&a.enable(18),t.iridescenceMap&&a.enable(19),t.iridescenceThicknessMap&&a.enable(20),t.displacementMap&&a.enable(21),t.specularMap&&a.enable(22),t.roughnessMap&&a.enable(23),t.metalnessMap&&a.enable(24),t.gradientMap&&a.enable(25),t.alphaMap&&a.enable(26),t.alphaTest&&a.enable(27),t.vertexColors&&a.enable(28),t.vertexAlphas&&a.enable(29),t.vertexUvs&&a.enable(30),t.vertexTangents&&a.enable(31),t.uvsVertexOnly&&a.enable(32),e.push(a.mask),a.disableAll(),t.fog&&a.enable(0),t.useFog&&a.enable(1),t.flatShading&&a.enable(2),t.logarithmicDepthBuffer&&a.enable(3),t.skinning&&a.enable(4),t.morphTargets&&a.enable(5),t.morphNormals&&a.enable(6),t.morphColors&&a.enable(7),t.premultipliedAlpha&&a.enable(8),t.shadowMapEnabled&&a.enable(9),t.useLegacyLights&&a.enable(10),t.doubleSided&&a.enable(11),t.flipSided&&a.enable(12),t.useDepthPacking&&a.enable(13),t.dithering&&a.enable(14),t.specularIntensityMap&&a.enable(15),t.specularColorMap&&a.enable(16),t.transmission&&a.enable(17),t.transmissionMap&&a.enable(18),t.thicknessMap&&a.enable(19),t.sheen&&a.enable(20),t.sheenColorMap&&a.enable(21),t.sheenRoughnessMap&&a.enable(22),t.decodeVideoTexture&&a.enable(23),t.opaque&&a.enable(24),e.push(a.mask)}function w(e){const t=p[e.type];let n;if(t){const e=Bl[t];n=No.clone(e.uniforms)}else n=e.uniforms;return n}function x(t,n){let i;for(let e=0,r=c.length;e<r;e++){const t=c[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new Yu(e,n,t,o),c.push(i)),i}function S(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}}function T(e){l.remove(e)}function E(){l.dispose()}return{getParameters:A,getProgramCacheKey:y,getUniforms:w,acquireProgram:x,releaseProgram:S,releaseShaderCache:T,programs:c,dispose:E}}function eh(){let e=new WeakMap;function t(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n}function n(t){e.delete(t)}function i(t,n,i){e.get(t)[n]=i}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function th(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function nh(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ih(){const e=[];let t=0;const n=[],i=[],r=[];function o(){t=0,n.length=0,i.length=0,r.length=0}function s(n,i,r,o,s,a){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:o,renderOrder:n.renderOrder,z:s,group:a},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=a),t++,l}function a(e,t,o,a,l,c){const u=s(e,t,o,a,l,c);o.transmission>0?i.push(u):!0===o.transparent?r.push(u):n.push(u)}function l(e,t,o,a,l,c){const u=s(e,t,o,a,l,c);o.transmission>0?i.unshift(u):!0===o.transparent?r.unshift(u):n.unshift(u)}function c(e,t){n.length>1&&n.sort(e||th),i.length>1&&i.sort(t||nh),r.length>1&&r.sort(t||nh)}function u(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}}return{opaque:n,transmissive:i,transparent:r,init:o,push:a,unshift:l,finish:u,sort:c}}function rh(){let e=new WeakMap;function t(t,n){const i=e.get(t);let r;return void 0===i?(r=new ih,e.set(t,[r])):n>=i.length?(r=new ih,i.push(r)):r=i[n],r}function n(){e=new WeakMap}return{get:t,dispose:n}}function oh(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new ti,color:new Vr};break;case"SpotLight":n={position:new ti,direction:new ti,color:new Vr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ti,color:new Vr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ti,skyColor:new Vr,groundColor:new Vr};break;case"RectAreaLight":n={color:new Vr,position:new ti,halfWidth:new ti,halfHeight:new ti};break}return e[t.id]=n,n}}}function sh(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $n};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $n};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $n,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let ah=0;function lh(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function ch(e,t){const n=new oh,i=sh(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new ti);const o=new ti,s=new er,a=new er;function l(o,s){let a=0,l=0,c=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0;o.sort(lh);const b=!0===s?Math.PI:1;for(let e=0,t=o.length;e<t;e++){const t=o[e],s=t.color,_=t.intensity,w=t.distance,x=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)a+=s.r*_*b,l+=s.g*_*b,c+=s.b*_*b;else if(t.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(t.sh.coefficients[e],_);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.directionalShadow[u]=n,r.directionalShadowMap[u]=x,r.directionalShadowMatrix[u]=t.shadow.matrix,m++}r.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(s).multiplyScalar(_*b),e.distance=w,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,r.spot[d]=e;const o=t.shadow;if(t.map&&(r.spotLightMap[y]=t.map,y++,o.updateMatrices(t),t.castShadow&&v++),r.spotLightMatrix[d]=o.matrix,t.castShadow){const e=i.get(t);e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,r.spotShadow[d]=e,r.spotShadowMap[d]=x,A++}d++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(s).multiplyScalar(_),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),r.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,r.pointShadow[h]=n,r.pointShadowMap[h]=x,r.pointShadowMatrix[h]=t.shadow.matrix,g++}r.point[h]=e,h++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(_*b),e.groundColor.copy(t.groundColor).multiplyScalar(_*b),r.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=Nl.LTC_FLOAT_1,r.rectAreaLTC2=Nl.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Nl.LTC_HALF_1,r.rectAreaLTC2=Nl.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=a,r.ambient[1]=l,r.ambient[2]=c;const _=r.hash;_.directionalLength===u&&_.pointLength===h&&_.spotLength===d&&_.rectAreaLength===f&&_.hemiLength===p&&_.numDirectionalShadows===m&&_.numPointShadows===g&&_.numSpotShadows===A&&_.numSpotMaps===y||(r.directional.length=u,r.spot.length=d,r.rectArea.length=f,r.point.length=h,r.hemi.length=p,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=g,r.spotLightMatrix.length=A+y-v,r.spotLightMap.length=y,r.numSpotLightShadowsWithMaps=v,_.directionalLength=u,_.pointLength=h,_.spotLength=d,_.rectAreaLength=f,_.hemiLength=p,_.numDirectionalShadows=m,_.numPointShadows=g,_.numSpotShadows=A,_.numSpotMaps=y,r.version=ah++)}function c(e,t){let n=0,i=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,f=e.length;d<f;d++){const t=e[d];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),s.copy(t.matrixWorld),s.premultiply(h),a.extractRotation(s),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=r.point[i];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),i++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),u++}}}return{setup:l,setupView:c,state:r}}function uh(e,t){const n=new ch(e,t),i=[],r=[];function o(){i.length=0,r.length=0}function s(e){i.push(e)}function a(e){r.push(e)}function l(e){n.setup(i,e)}function c(e){n.setupView(i,e)}const u={lightsArray:i,shadowsArray:r,lights:n};return{init:o,state:u,setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function hh(e,t){let n=new WeakMap;function i(i,r=0){const o=n.get(i);let s;return void 0===o?(s=new uh(e,t),n.set(i,[s])):r>=o.length?(s=new uh(e,t),o.push(s)):s=o[r],s}function r(){n=new WeakMap}return{get:i,dispose:r}}class dh extends Fr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fh extends Fr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ti,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ph="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",mh="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function gh(e,t,n){let i=new Zo;const r=new $n,o=new $n,s=new bi,a=new dh({depthPacking:Bt}),l=new fh,c={},u=n.maxTextureSize,d={[p]:m,[m]:p,[g]:g},A=new jo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $n},radius:{value:4}},vertexShader:ph,fragmentShader:mh}),v=A.clone();v.defines.HORIZONTAL_PASS=1;const b=new fo;b.setAttribute("position",new Xr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Co(b,A),w=this;function x(n,i){const o=t.update(_);A.defines.VSM_SAMPLES!==n.blurSamples&&(A.defines.VSM_SAMPLES=n.blurSamples,v.defines.VSM_SAMPLES=n.blurSamples,A.needsUpdate=!0,v.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new _i(r.x,r.y)),A.uniforms.shadow_pass.value=n.map.texture,A.uniforms.resolution.value=n.mapSize,A.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,o,A,_,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,o,v,_,null)}function S(t,n,i,r,o,s){let u=null;const h=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==h)u=h;else if(u=!0===i.isPointLight?l:a,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=u.uuid,t=n.uuid;let i=c[e];void 0===i&&(i={},c[e]=i);let r=i[t];void 0===r&&(r=u.clone(),i[t]=r),u=r}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=s===f?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],u.alphaMap=n.alphaMap,u.alphaTest=n.alphaTest,u.map=n.map,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.displacementMap=n.displacementMap,u.displacementScale=n.displacementScale,u.displacementBias=n.displacementBias,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,!0===i.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(i.matrixWorld),u.nearDistance=r,u.farDistance=o),u}function T(n,r,o,s,a){if(!1===n.visible)return;const l=n.layers.test(r.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&a===f)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=t.update(n),r=n.material;if(Array.isArray(r)){const t=i.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=r[c.materialIndex];if(u&&u.visible){const t=S(n,u,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,c)}}}else if(r.visible){const t=S(n,r,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)T(c[e],r,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=h,this.render=function(t,n,a){if(!1===w.enabled)return;if(!1===w.autoUpdate&&!1===w.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(y),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let p=0,m=t.length;p<m;p++){const l=t[p],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;r.copy(c.mapSize);const h=c.getFrameExtents();if(r.multiply(h),o.copy(c.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(o.x=Math.floor(u/h.x),r.x=o.x*h.x,c.mapSize.x=o.x),r.y>u&&(o.y=Math.floor(u/h.y),r.y=o.y*h.y,c.mapSize.y=o.y)),null===c.map){const e=this.type!==f?{minFilter:de,magFilter:de}:{};c.map=new _i(r.x,r.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const m=c.getViewportCount();for(let e=0;e<m;e++){const t=c.getViewport(e);s.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),d.viewport(s),c.updateMatrices(l,e),i=c.getFrustum(),T(n,a,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===f&&x(c,a),c.needsUpdate=!1}w.needsUpdate=!1,e.setRenderTarget(l,c,h)}}function Ah(e,t,n){const i=n.isWebGL2;function r(){let t=!1;const n=new bi;let i=null;const r=new bi(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,s,a){!0===a&&(t*=s,i*=s,o*=s),n.set(t,i,o,s),!1===r.equals(n)&&(e.clearColor(t,i,o,s),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}}function o(){let t=!1,n=null,i=null,r=null;return{setTest:function(e){e?Se(2929):Te(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){switch(t){case U:e.depthFunc(512);break;case z:e.depthFunc(519);break;case q:e.depthFunc(513);break;case V:e.depthFunc(515);break;case H:e.depthFunc(514);break;case G:e.depthFunc(518);break;case W:e.depthFunc(516);break;case $:e.depthFunc(517);break;default:e.depthFunc(515)}i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}}function c(){let t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(e){t||(e?Se(2960):Te(2960))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,s){i===t&&r===n&&o===s||(e.stencilFunc(t,n,s),i=t,r=n,o=s)},setOp:function(t,n,i){s===t&&a===n&&l===i||(e.stencilOp(t,n,i),s=t,a=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null}}}const u=new r,h=new o,d=new c,f=new WeakMap,p=new WeakMap;let A={},X={},Y=new WeakMap,K=[],Q=null,J=!1,Z=null,ee=null,te=null,ne=null,ie=null,re=null,oe=null,se=!1,ae=null,le=null,ce=null,ue=null,he=null;const de=e.getParameter(35661);let fe=!1,pe=0;const me=e.getParameter(7938);-1!==me.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(me)[1]),fe=pe>=1):-1!==me.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(me)[1]),fe=pe>=2);let ge=null,Ae={};const ye=e.getParameter(3088),ve=e.getParameter(2978),be=(new bi).fromArray(ye),_e=(new bi).fromArray(ve);function we(t,n,i){const r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let s=0;s<i;s++)e.texImage2D(n+s,0,6408,1,1,0,6408,5121,r);return o}const xe={};function Se(t){!0!==A[t]&&(e.enable(t),A[t]=!0)}function Te(t){!1!==A[t]&&(e.disable(t),A[t]=!1)}function Ee(t,n){return X[t]!==n&&(e.bindFramebuffer(t,n),X[t]=n,i&&(36009===t&&(X[36160]=n),36160===t&&(X[36009]=n)),!0)}function Me(i,r){let o=K,s=!1;if(i)if(o=Y.get(r),void 0===o&&(o=[],Y.set(r,o)),i.isWebGLMultipleRenderTargets){const e=i.texture;if(o.length!==e.length||36064!==o[0]){for(let t=0,n=e.length;t<n;t++)o[t]=36064+t;o.length=e.length,s=!0}}else 36064!==o[0]&&(o[0]=36064,s=!0);else 1029!==o[0]&&(o[0]=1029,s=!0);s&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))}function Ce(t){return Q!==t&&(e.useProgram(t),Q=t,!0)}xe[3553]=we(3553,3553,1),xe[34067]=we(34067,34069,6),u.setClear(0,0,0,1),h.setClear(1),d.setClear(0),Se(2929),h.setFunc(V),Re(!1),De(a),Se(2884),Pe(y);const Oe={[S]:32774,[T]:32778,[E]:32779};if(i)Oe[M]=32775,Oe[C]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(Oe[M]=e.MIN_EXT,Oe[C]=e.MAX_EXT)}const ke={[O]:0,[k]:1,[P]:768,[R]:770,[j]:776,[B]:774,[L]:772,[I]:769,[D]:771,[F]:775,[N]:773};function Pe(t,n,i,r,o,s,a,l){if(t!==y){if(!1===J&&(Se(3042),J=!0),t===x)o=o||n,s=s||i,a=a||r,n===ee&&o===ie||(e.blendEquationSeparate(Oe[n],Oe[o]),ee=n,ie=o),i===te&&r===ne&&s===re&&a===oe||(e.blendFuncSeparate(ke[i],ke[r],ke[s],ke[a]),te=i,ne=r,re=s,oe=a),Z=t,se=!1;else if(t!==Z||l!==se){if(ee===S&&ie===S||(e.blendEquation(32774),ee=S,ie=S),l)switch(t){case v:e.blendFuncSeparate(1,771,1,771);break;case b:e.blendFunc(1,1);break;case _:e.blendFuncSeparate(0,769,0,1);break;case w:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}else switch(t){case v:e.blendFuncSeparate(770,771,1,771);break;case b:e.blendFunc(770,1);break;case _:e.blendFuncSeparate(0,769,0,1);break;case w:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}te=null,ne=null,re=null,oe=null,Z=t,se=l}}else!0===J&&(Te(3042),J=!1)}function Ie(e,t){e.side===g?Te(2884):Se(2884);let n=e.side===m;t&&(n=!n),Re(n),e.blending===v&&!1===e.transparent?Pe(y):Pe(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),h.setFunc(e.depthFunc),h.setTest(e.depthTest),h.setMask(e.depthWrite),u.setMask(e.colorWrite);const i=e.stencilWrite;d.setTest(i),i&&(d.setMask(e.stencilWriteMask),d.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),d.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ne(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?Se(32926):Te(32926)}function Re(t){ae!==t&&(t?e.frontFace(2304):e.frontFace(2305),ae=t)}function De(t){t!==s?(Se(2884),t!==le&&(t===a?e.cullFace(1029):t===l?e.cullFace(1028):e.cullFace(1032))):Te(2884),le=t}function Le(t){t!==ce&&(fe&&e.lineWidth(t),ce=t)}function Ne(t,n,i){t?(Se(32823),ue===n&&he===i||(e.polygonOffset(n,i),ue=n,he=i)):Te(32823)}function Be(e){e?Se(3089):Te(3089)}function Fe(t){void 0===t&&(t=33984+de-1),ge!==t&&(e.activeTexture(t),ge=t)}function je(t,n,i){void 0===i&&(i=null===ge?33984+de-1:ge);let r=Ae[i];void 0===r&&(r={type:void 0,texture:void 0},Ae[i]=r),r.type===t&&r.texture===n||(ge!==i&&(e.activeTexture(i),ge=i),e.bindTexture(t,n||xe[t]),r.type=t,r.texture=n)}function Ue(){const t=Ae[ge];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function ze(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function qe(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ve(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function He(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ge(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function We(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function $e(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Xe(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ye(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ke(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Qe(t){!1===be.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),be.copy(t))}function Je(t){!1===_e.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),_e.copy(t))}function Ze(t,n){let i=p.get(n);void 0===i&&(i=new WeakMap,p.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))}function et(t,n){const i=p.get(n),r=i.get(t);f.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),f.set(n,r))}function tt(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===i&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),A={},ge=null,Ae={},X={},Y=new WeakMap,K=[],Q=null,J=!1,Z=null,ee=null,te=null,ne=null,ie=null,re=null,oe=null,se=!1,ae=null,le=null,ce=null,ue=null,he=null,be.set(0,0,e.canvas.width,e.canvas.height),_e.set(0,0,e.canvas.width,e.canvas.height),u.reset(),h.reset(),d.reset()}return{buffers:{color:u,depth:h,stencil:d},enable:Se,disable:Te,bindFramebuffer:Ee,drawBuffers:Me,useProgram:Ce,setBlending:Pe,setMaterial:Ie,setFlipSided:Re,setCullFace:De,setLineWidth:Le,setPolygonOffset:Ne,setScissorTest:Be,activeTexture:Fe,bindTexture:je,unbindTexture:Ue,compressedTexImage2D:ze,compressedTexImage3D:qe,texImage2D:Ye,texImage3D:Ke,updateUBOMapping:Ze,uniformBlockBinding:et,texStorage2D:$e,texStorage3D:Xe,texSubImage2D:Ve,texSubImage3D:He,compressedTexSubImage2D:Ge,compressedTexSubImage3D:We,scissor:Qe,viewport:Je,reset:tt}}function yh(e,t,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let A=!1;try{A="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(re){}function y(e,t){return A?new OffscreenCanvas(e,t):Zn("canvas")}function v(e,t,n,i){let r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const i=t?qn:Math.floor,o=i(r*e.width),s=i(r*e.height);void 0===m&&(m=y(o,s));const a=n?y(o,s):m;a.width=o,a.height=s;const l=a.getContext("2d");return l.drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Un(e.width)&&Un(e.height)}function _(e){return!a&&(e.wrapS!==ue||e.wrapT!==ue||e.minFilter!==de&&e.minFilter!==Ae)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==de&&e.minFilter!==Ae}function x(t){e.generateMipmap(t)}function S(n,i,r,o,s=!1){if(!1===a)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=i;return 6403===i&&(5126===r&&(l=33326),5131===r&&(l=33325),5121===r&&(l=33321)),33319===i&&(5126===r&&(l=33328),5131===r&&(l=33327),5121===r&&(l=33323)),6408===i&&(5126===r&&(l=34836),5131===r&&(l=34842),5121===r&&(l=o===Lt&&!1===s?35907:32856),32819===r&&(l=32854),32820===r&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function T(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==de&&e.minFilter!==Ae?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function E(e){return e===de||e===fe||e===me?9728:9729}function M(e){const t=e.target;t.removeEventListener("dispose",M),O(t),t.isVideoTexture&&p.delete(t)}function C(e){const t=e.target;t.removeEventListener("dispose",C),P(t)}function O(e){const t=i.get(e);if(void 0===t.__webglInit)return;const n=e.source,r=g.get(n);if(r){const i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&k(e),0===Object.keys(r).length&&g.delete(n)}i.remove(e)}function k(t){const n=i.get(t);e.deleteTexture(n.__webglTexture);const r=t.source,o=g.get(r);delete o[n.__cacheKey],s.memory.textures--}function P(t){const n=t.texture,r=i.get(t),o=i.get(n);if(void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),s.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let i=0;i<6;i++)e.deleteFramebuffer(r.__webglFramebuffer[i]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[i]);else{if(e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(let t=0;t<r.__webglColorRenderbuffer.length;t++)r.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(r.__webglColorRenderbuffer[t]);r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let a=0,l=n.length;a<l;a++){const t=i.get(n[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),s.memory.textures--),i.remove(n[a])}i.remove(n),i.remove(t)}let I=0;function R(){I=0}function D(){const e=I;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),I+=1,e}function L(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}function N(e,t){const r=i.get(e);if(e.isVideoTexture&&ne(e),!1===e.isRenderTargetTexture&&e.version>0&&r.__version!==e.version){const n=e.image;if(null===n)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void H(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,r.__webglTexture,33984+t)}function B(e,t){const r=i.get(e);e.version>0&&r.__version!==e.version?H(r,e,t):n.bindTexture(35866,r.__webglTexture,33984+t)}function F(e,t){const r=i.get(e);e.version>0&&r.__version!==e.version?H(r,e,t):n.bindTexture(32879,r.__webglTexture,33984+t)}function j(e,t){const r=i.get(e);e.version>0&&r.__version!==e.version?G(r,e,t):n.bindTexture(34067,r.__webglTexture,33984+t)}const U={[ce]:10497,[ue]:33071,[he]:33648},z={[de]:9728,[fe]:9984,[me]:9986,[Ae]:9729,[ye]:9985,[be]:9987};function q(n,o,s){if(s?(e.texParameteri(n,10242,U[o.wrapS]),e.texParameteri(n,10243,U[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,U[o.wrapR]),e.texParameteri(n,10240,z[o.magFilter]),e.texParameteri(n,10241,z[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===ue&&o.wrapT===ue||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,E(o.magFilter)),e.texParameteri(n,10241,E(o.minFilter)),o.minFilter!==de&&o.minFilter!==Ae&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const s=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===de)return;if(o.minFilter!==me&&o.minFilter!==be)return;if(o.type===Ce&&!1===t.has("OES_texture_float_linear"))return;if(!1===a&&o.type===Oe&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function V(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",M));const r=n.source;let o=g.get(r);void 0===o&&(o={},g.set(r,o));const a=L(n);if(a!==t.__cacheKey){void 0===o[a]&&(o[a]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,i=!0),o[a].usedTimes++;const r=o[t.__cacheKey];void 0!==r&&(o[t.__cacheKey].usedTimes--,0===r.usedTimes&&k(n)),t.__cacheKey=a,t.__webglTexture=o[a].texture}return i}function H(t,r,s){let l=3553;(r.isDataArrayTexture||r.isCompressedArrayTexture)&&(l=35866),r.isData3DTexture&&(l=32879);const c=V(t,r),h=r.source;n.bindTexture(l,t.__webglTexture,33984+s);const d=i.get(h);if(h.version!==d.__version||!0===c){n.activeTexture(33984+s),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const t=_(r)&&!1===b(r.image);let i=v(r.image,t,!1,u);i=ie(r,i);const f=b(i)||a,p=o.convert(r.format,r.encoding);let m,g=o.convert(r.type),A=S(r.internalFormat,p,g,r.encoding,r.isVideoTexture);q(l,r,f);const y=r.mipmaps,E=a&&!0!==r.isVideoTexture,M=void 0===d.__version||!0===c,C=T(r,i,f);if(r.isDepthTexture)A=6402,a?A=r.type===Ce?36012:r.type===Me?33190:r.type===Ie?35056:33189:r.type===Ce&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Be&&6402===A&&r.type!==Te&&r.type!==Me&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Me,g=o.convert(r.type)),r.format===Fe&&6402===A&&(A=34041,r.type!==Ie&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ie,g=o.convert(r.type))),M&&(E?n.texStorage2D(3553,1,A,i.width,i.height):n.texImage2D(3553,0,A,i.width,i.height,0,p,g,null));else if(r.isDataTexture)if(y.length>0&&f){E&&M&&n.texStorage2D(3553,C,A,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],E?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,A,m.width,m.height,0,p,g,m.data);r.generateMipmaps=!1}else E?(M&&n.texStorage2D(3553,C,A,i.width,i.height),n.texSubImage2D(3553,0,0,0,i.width,i.height,p,g,i.data)):n.texImage2D(3553,0,A,i.width,i.height,0,p,g,i.data);else if(r.isCompressedTexture)if(r.isCompressedArrayTexture){E&&M&&n.texStorage3D(35866,C,A,y[0].width,y[0].height,i.depth);for(let e=0,t=y.length;e<t;e++)m=y[e],r.format!==De?null!==p?E?n.compressedTexSubImage3D(35866,e,0,0,0,m.width,m.height,i.depth,p,m.data,0,0):n.compressedTexImage3D(35866,e,A,m.width,m.height,i.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage3D(35866,e,0,0,0,m.width,m.height,i.depth,p,g,m.data):n.texImage3D(35866,e,A,m.width,m.height,i.depth,0,p,g,m.data)}else{E&&M&&n.texStorage2D(3553,C,A,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],r.format!==De?null!==p?E?n.compressedTexSubImage2D(3553,e,0,0,m.width,m.height,p,m.data):n.compressedTexImage2D(3553,e,A,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,A,m.width,m.height,0,p,g,m.data)}else if(r.isDataArrayTexture)E?(M&&n.texStorage3D(35866,C,A,i.width,i.height,i.depth),n.texSubImage3D(35866,0,0,0,0,i.width,i.height,i.depth,p,g,i.data)):n.texImage3D(35866,0,A,i.width,i.height,i.depth,0,p,g,i.data);else if(r.isData3DTexture)E?(M&&n.texStorage3D(32879,C,A,i.width,i.height,i.depth),n.texSubImage3D(32879,0,0,0,0,i.width,i.height,i.depth,p,g,i.data)):n.texImage3D(32879,0,A,i.width,i.height,i.depth,0,p,g,i.data);else if(r.isFramebufferTexture){if(M)if(E)n.texStorage2D(3553,C,A,i.width,i.height);else{let e=i.width,t=i.height;for(let i=0;i<C;i++)n.texImage2D(3553,i,A,e,t,0,p,g,null),e>>=1,t>>=1}}else if(y.length>0&&f){E&&M&&n.texStorage2D(3553,C,A,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],E?n.texSubImage2D(3553,e,0,0,p,g,m):n.texImage2D(3553,e,A,p,g,m);r.generateMipmaps=!1}else E?(M&&n.texStorage2D(3553,C,A,i.width,i.height),n.texSubImage2D(3553,0,0,0,p,g,i)):n.texImage2D(3553,0,A,p,g,i);w(r,f)&&x(l),d.__version=h.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function G(t,r,s){if(6!==r.image.length)return;const l=V(t,r),u=r.source;n.bindTexture(34067,t.__webglTexture,33984+s);const h=i.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(33984+s),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const t=r.isCompressedTexture||r.image[0].isCompressedTexture,i=r.image[0]&&r.image[0].isDataTexture,d=[];for(let e=0;e<6;e++)d[e]=t||i?i?r.image[e].image:r.image[e]:v(r.image[e],!1,!0,c),d[e]=ie(r,d[e]);const f=d[0],p=b(f)||a,m=o.convert(r.format,r.encoding),g=o.convert(r.type),A=S(r.internalFormat,m,g,r.encoding),y=a&&!0!==r.isVideoTexture,_=void 0===h.__version||!0===l;let E,M=T(r,f,p);if(q(34067,r,p),t){y&&_&&n.texStorage2D(34067,M,A,f.width,f.height);for(let e=0;e<6;e++){E=d[e].mipmaps;for(let t=0;t<E.length;t++){const i=E[t];r.format!==De?null!==m?y?n.compressedTexSubImage2D(34069+e,t,0,0,i.width,i.height,m,i.data):n.compressedTexImage2D(34069+e,t,A,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(34069+e,t,0,0,i.width,i.height,m,g,i.data):n.texImage2D(34069+e,t,A,i.width,i.height,0,m,g,i.data)}}}else{E=r.mipmaps,y&&_&&(E.length>0&&M++,n.texStorage2D(34067,M,A,d[0].width,d[0].height));for(let e=0;e<6;e++)if(i){y?n.texSubImage2D(34069+e,0,0,0,d[e].width,d[e].height,m,g,d[e].data):n.texImage2D(34069+e,0,A,d[e].width,d[e].height,0,m,g,d[e].data);for(let t=0;t<E.length;t++){const i=E[t],r=i.image[e].image;y?n.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,m,g,r.data):n.texImage2D(34069+e,t+1,A,r.width,r.height,0,m,g,r.data)}}else{y?n.texSubImage2D(34069+e,0,0,0,m,g,d[e]):n.texImage2D(34069+e,0,A,m,g,d[e]);for(let t=0;t<E.length;t++){const i=E[t];y?n.texSubImage2D(34069+e,t+1,0,0,m,g,i.image[e]):n.texImage2D(34069+e,t+1,A,m,g,i.image[e])}}}w(r,p)&&x(34067),h.__version=u.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function W(t,r,s,a,l){const c=o.convert(s.format,s.encoding),u=o.convert(s.type),h=S(s.internalFormat,c,u,s.encoding),f=i.get(r);f.__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,r.width,r.height,r.depth,0,c,u,null):n.texImage2D(l,0,h,r.width,r.height,0,c,u,null)),n.bindFramebuffer(36160,t),te(r)?d.framebufferTexture2DMultisampleEXT(36160,a,l,i.get(s).__webglTexture,0,ee(r)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,a,l,i.get(s).__webglTexture,0),n.bindFramebuffer(36160,null)}function $(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i||te(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Ce?r=36012:t.type===Me&&(r=33190));const i=ee(n);te(n)?d.renderbufferStorageMultisampleEXT(36161,i,r,n.width,n.height):e.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else e.renderbufferStorage(36161,r,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){const r=ee(n);i&&!1===te(n)?e.renderbufferStorageMultisample(36161,r,35056,n.width,n.height):te(n)?d.renderbufferStorageMultisampleEXT(36161,r,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let r=0;r<t.length;r++){const s=t[r],a=o.convert(s.format,s.encoding),l=o.convert(s.type),c=S(s.internalFormat,a,l,s.encoding),u=ee(n);i&&!1===te(n)?e.renderbufferStorageMultisample(36161,u,c,n.width,n.height):te(n)?d.renderbufferStorageMultisampleEXT(36161,u,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function X(t,r){const o=r&&r.isWebGLCubeRenderTarget;if(o)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),N(r.depthTexture,0);const s=i.get(r.depthTexture).__webglTexture,a=ee(r);if(r.depthTexture.format===Be)te(r)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,s,0,a):e.framebufferTexture2D(36160,36096,3553,s,0);else{if(r.depthTexture.format!==Fe)throw new Error("Unknown depthTexture format");te(r)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,s,0,a):e.framebufferTexture2D(36160,33306,3553,s,0)}}function Y(t){const r=i.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");X(r.__webglFramebuffer,t)}else if(o){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(36160,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=e.createRenderbuffer(),$(r.__webglDepthbuffer[i],t,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),$(r.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function K(e,t,n){const r=i.get(e);void 0!==t&&W(r.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&Y(e)}function Q(t){const l=t.texture,c=i.get(t),u=i.get(l);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,s.memory.textures++);const h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=b(t)||a;if(h){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),d)if(r.drawBuffers){const n=t.texture;for(let t=0,r=n.length;t<r;t++){const r=i.get(n[t]);void 0===r.__webglTexture&&(r.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&t.samples>0&&!1===te(t)){const i=d?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<i.length;n++){const r=i[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);const s=o.convert(r.format,r.encoding),a=o.convert(r.type),l=S(r.internalFormat,s,a,r.encoding,!0===t.isXRRenderTarget),u=ee(t);e.renderbufferStorageMultisample(36161,u,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),$(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),q(34067,l,f);for(let e=0;e<6;e++)W(c.__webglFramebuffer[e],t,l,36064,34069+e);w(l,f)&&x(34067),n.unbindTexture()}else if(d){const e=t.texture;for(let r=0,o=e.length;r<o;r++){const o=e[r],s=i.get(o);n.bindTexture(3553,s.__webglTexture),q(3553,o,f),W(c.__webglFramebuffer,t,o,36064+r,3553),w(o,f)&&x(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(a?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(e,u.__webglTexture),q(e,l,f),W(c.__webglFramebuffer,t,l,36064,e),w(l,f)&&x(e),n.unbindTexture()}t.depthBuffer&&Y(t)}function J(e){const t=b(e)||a,r=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let o=0,s=r.length;o<s;o++){const s=r[o];if(w(s,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,r=i.get(s).__webglTexture;n.bindTexture(t,r),x(t),n.unbindTexture()}}}function Z(t){if(a&&t.samples>0&&!1===te(t)){const r=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,s=t.height;let a=16384;const l=[],c=t.stencilBuffer?33306:36096,u=i.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(let t=0;t<r.length;t++)n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer);for(let n=0;n<r.length;n++){l.push(36064+n),t.depthBuffer&&l.push(c);const d=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===d&&(t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024)),h&&e.framebufferRenderbuffer(36008,36064,36161,u.__webglColorRenderbuffer[n]),!0===d&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),h){const t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,o,s,0,0,o,s,a,9728),f&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),h)for(let t=0;t<r.length;t++){n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,u.__webglColorRenderbuffer[t]);const o=i.get(r[t]).__webglTexture;n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,o,0)}n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}}function ee(e){return Math.min(h,e.samples)}function te(e){const n=i.get(e);return a&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function ne(e){const t=s.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}function ie(e,n){const i=e.encoding,r=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===yn||i!==Dt&&(i===Lt?!1===a?!0===t.has("EXT_sRGB")&&r===De?(e.format=yn,e.minFilter=Ae,e.generateMipmaps=!1):n=mi.sRGBToLinear(n):r===De&&o===we||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",i)),n}this.allocateTextureUnit=D,this.resetTextureUnits=R,this.setTexture2D=N,this.setTexture2DArray=B,this.setTexture3D=F,this.setTextureCube=j,this.rebindTextures=K,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=J,this.updateMultisampleRenderTarget=Z,this.setupDepthRenderbuffer=Y,this.setupFrameBufferTexture=W,this.useMultisampledRTT=te}function vh(e,t,n){const i=n.isWebGL2;function r(n,r=null){let o;if(n===we)return 5121;if(n===ke)return 32819;if(n===Pe)return 32820;if(n===xe)return 5120;if(n===Se)return 5122;if(n===Te)return 5123;if(n===Ee)return 5124;if(n===Me)return 5125;if(n===Ce)return 5126;if(n===Oe)return i?5131:(o=t.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(n===Re)return 6406;if(n===De)return 6408;if(n===Le)return 6409;if(n===Ne)return 6410;if(n===Be)return 6402;if(n===Fe)return 34041;if(n===yn)return o=t.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(n===je)return 6403;if(n===Ue)return 36244;if(n===ze)return 33319;if(n===qe)return 33320;if(n===Ve)return 36249;if(n===He||n===Ge||n===We||n===$e)if(r===Lt){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(n===He)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ge)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===We)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===$e)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(n===He)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ge)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===We)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===$e)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Xe||n===Ye||n===Ke||n===Qe){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(n===Xe)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ye)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Ke)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Qe)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Je)return o=t.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Ze||n===et){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(n===Ze)return r===Lt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===et)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(n===tt||n===nt||n===it||n===rt||n===ot||n===st||n===at||n===lt||n===ct||n===ut||n===ht||n===dt||n===ft||n===pt){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(n===tt)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===nt)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===it)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===rt)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===ot)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===st)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===at)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===lt)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ct)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===ut)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ht)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===dt)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===ft)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===pt)return r===Lt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===mt){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(n===mt)return r===Lt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===gt||n===At||n===yt||n===vt){if(o=t.get("EXT_texture_compression_rgtc"),null===o)return null;if(n===mt)return o.COMPRESSED_RED_RGTC1_EXT;if(n===At)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===yt)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===vt)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Ie?i?34042:(o=t.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}return{convert:r}}class bh extends zo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class _h extends Tr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const wh={type:"move"};class xh{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new _h,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new _h,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ti,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ti),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new _h,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ti,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ti),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),i=this._getHandJoint(l,o);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],s=i.position.distanceTo(r.position),a=.02,c=.005;l.inputState.pinching&&s>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&s<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(wh)))}return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new _h;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Sh extends vi{constructor(e,t,n,i,r,o,s,a,l,c){if(c=void 0!==c?c:Be,c!==Be&&c!==Fe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Be&&(n=Me),void 0===n&&c===Fe&&(n=Ie),super(null,i,r,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:de,this.minFilter=void 0!==a?a:de,this.flipY=!1,this.generateMipmaps=!1}}class Th extends vn{constructor(e,t){super();const n=this;let i=null,r=1,o=null,s="local-floor",a=1,l=null,c=null,u=null,h=null,d=null,f=null;const p=t.getContextAttributes();let m=null,g=null;const A=[],y=[],v=new Set,b=new Map,_=new zo;_.layers.enable(1),_.viewport=new bi;const w=new zo;w.layers.enable(2),w.viewport=new bi;const x=[_,w],S=new bh;S.layers.enable(1),S.layers.enable(2);let T=null,E=null;function M(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=A[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function C(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",C),i.removeEventListener("inputsourceschange",O);for(let e=0;e<A.length;e++){const t=y[e];null!==t&&(y[e]=null,A[e].disconnect(t))}T=null,E=null,e.setRenderTarget(m),d=null,h=null,u=null,i=null,g=null,N.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function O(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=y.indexOf(n);i>=0&&(y[i]=null,A[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=y.indexOf(n);if(-1===i){for(let e=0;e<A.length;e++){if(e>=y.length){y.push(n),i=e;break}if(null===y[e]){y[e]=n,i=e;break}}if(-1===i)break}const r=A[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=A[e];return void 0===t&&(t=new xh,A[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=A[e];return void 0===t&&(t=new xh,A[e]=t),t.getGripSpace()},this.getHand=function(e){let t=A[e];return void 0===t&&(t=new xh,A[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){if(m=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",C),i.addEventListener("inputsourceschange",O),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==i.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};d=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:d}),g=new _i(d.framebufferWidth,d.framebufferHeight,{format:De,type:we,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let n=null,o=null,s=null;p.depth&&(s=p.stencil?35056:33190,n=p.stencil?Fe:Be,o=p.stencil?Ie:Me);const a={colorFormat:32856,depthFormat:s,scaleFactor:r};u=new XRWebGLBinding(i,t),h=u.createProjectionLayer(a),i.updateRenderState({layers:[h]}),g=new _i(h.textureWidth,h.textureHeight,{format:De,type:we,depthTexture:new Sh(h.textureWidth,h.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});const l=e.properties.get(g);l.__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=await i.requestReferenceSpace(s),N.setContext(i),N.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const k=new ti,P=new ti;function I(e,t,n){k.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);const i=k.distanceTo(P),r=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],d=s*u,f=s*h,p=i/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=s+p,A=a+p,y=d-m,v=f+(i-m),b=l*a/A*g,_=c*a/A*g;e.projectionMatrix.makePerspective(y,v,b,_,g,A)}function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===i)return;S.near=w.near=_.near=e.near,S.far=w.far=_.far=e.far,T===S.near&&E===S.far||(i.updateRenderState({depthNear:S.near,depthFar:S.far}),T=S.near,E=S.far);const t=e.parent,n=S.cameras;R(S,t);for(let i=0;i<n.length;i++)R(n[i],t);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),e.matrix.copy(S.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);const r=e.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);2===n.length?I(S,_,w):S.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){if(null!==h||null!==d)return a},this.setFoveation=function(e){a=e,null!==h&&(h.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)},this.getPlanes=function(){return v};let D=null;function L(t,i){if(c=i.getViewerPose(l||o),f=i,null!==c){const t=c.views;null!==d&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const r=t[i];let o=null;if(null!==d)o=d.getViewport(r);else{const t=u.getViewSubImage(h,r);o=t.viewport,0===i&&(e.setRenderTargetTextures(g,t.colorTexture,h.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let s=x[i];void 0===s&&(s=new zo,s.layers.enable(i),s.viewport=new bi,x[i]=s),s.matrix.fromArray(r.transform.matrix),s.projectionMatrix.fromArray(r.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===i&&S.matrix.copy(s.matrix),!0===n&&S.cameras.push(s)}}for(let e=0;e<A.length;e++){const t=y[e],n=A[e];null!==t&&void 0!==n&&n.update(t,i,l||o)}if(D&&D(t,i),i.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:i.detectedPlanes});let e=null;for(const t of v)i.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(const t of e)v.delete(t),b.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(const t of i.detectedPlanes)if(v.has(t)){const e=b.get(t);t.lastChangedTime>e&&(b.set(t,t.lastChangedTime),n.dispatchEvent({type:"planechanged",data:t}))}else v.add(t),b.set(t,i.lastChangedTime),n.dispatchEvent({type:"planeadded",data:t})}f=null}const N=new es;N.setAnimationLoop(L),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}function Eh(e,t){function n(t,n){n.color.getRGB(t.fogColor.value,Lo(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)}function i(e,t,n,i,m){t.isMeshBasicMaterial||t.isMeshLambertMaterial?r(e,t):t.isMeshToonMaterial?(r(e,t),u(e,t)):t.isMeshPhongMaterial?(r(e,t),c(e,t)):t.isMeshStandardMaterial?(r(e,t),h(e,t),t.isMeshPhysicalMaterial&&d(e,t,m)):t.isMeshMatcapMaterial?(r(e,t),f(e,t)):t.isMeshDepthMaterial?r(e,t):t.isMeshDistanceMaterial?(r(e,t),p(e,t)):t.isMeshNormalMaterial?r(e,t):t.isLineBasicMaterial?(o(e,t),t.isLineDashedMaterial&&s(e,t)):t.isPointsMaterial?a(e,t,n,i):t.isSpriteMaterial?l(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}function r(n,i){n.opacity.value=i.opacity,i.color&&n.diffuse.value.copy(i.color),i.emissive&&n.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(n.map.value=i.map),i.alphaMap&&(n.alphaMap.value=i.alphaMap),i.bumpMap&&(n.bumpMap.value=i.bumpMap,n.bumpScale.value=i.bumpScale,i.side===m&&(n.bumpScale.value*=-1)),i.displacementMap&&(n.displacementMap.value=i.displacementMap,n.displacementScale.value=i.displacementScale,n.displacementBias.value=i.displacementBias),i.emissiveMap&&(n.emissiveMap.value=i.emissiveMap),i.normalMap&&(n.normalMap.value=i.normalMap,n.normalScale.value.copy(i.normalScale),i.side===m&&n.normalScale.value.negate()),i.specularMap&&(n.specularMap.value=i.specularMap),i.alphaTest>0&&(n.alphaTest.value=i.alphaTest);const r=t.get(i).envMap;if(r&&(n.envMap.value=r,n.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,n.reflectivity.value=i.reflectivity,n.ior.value=i.ior,n.refractionRatio.value=i.refractionRatio),i.lightMap){n.lightMap.value=i.lightMap;const t=!0===e.useLegacyLights?Math.PI:1;n.lightMapIntensity.value=i.lightMapIntensity*t}let o,s;i.aoMap&&(n.aoMap.value=i.aoMap,n.aoMapIntensity.value=i.aoMapIntensity),i.map?o=i.map:i.specularMap?o=i.specularMap:i.displacementMap?o=i.displacementMap:i.normalMap?o=i.normalMap:i.bumpMap?o=i.bumpMap:i.roughnessMap?o=i.roughnessMap:i.metalnessMap?o=i.metalnessMap:i.alphaMap?o=i.alphaMap:i.emissiveMap?o=i.emissiveMap:i.clearcoatMap?o=i.clearcoatMap:i.clearcoatNormalMap?o=i.clearcoatNormalMap:i.clearcoatRoughnessMap?o=i.clearcoatRoughnessMap:i.iridescenceMap?o=i.iridescenceMap:i.iridescenceThicknessMap?o=i.iridescenceThicknessMap:i.specularIntensityMap?o=i.specularIntensityMap:i.specularColorMap?o=i.specularColorMap:i.transmissionMap?o=i.transmissionMap:i.thicknessMap?o=i.thicknessMap:i.sheenColorMap?o=i.sheenColorMap:i.sheenRoughnessMap&&(o=i.sheenRoughnessMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uvTransform.value.copy(o.matrix)),i.aoMap?s=i.aoMap:i.lightMap&&(s=i.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),n.uv2Transform.value.copy(s.matrix))}function o(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}function s(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function a(e,t,n,i){let r;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*i,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?r=t.map:t.alphaMap&&(r=t.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}function l(e,t){let n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function c(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}function u(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function h(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);const i=t.get(n).envMap;i&&(e.envMapIntensity.value=n.envMapIntensity)}function d(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===m&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap)),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}function f(e,t){t.matcap&&(e.matcap.value=t.matcap)}function p(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function Mh(e,t,n,i){let r={},o={},s=[];const a=n.isWebGL2?e.getParameter(35375):0;function l(e,t){const n=t.program;i.uniformBlockBinding(e,n)}function c(e,n){let s=r[e.id];void 0===s&&(p(e),s=u(e),r[e.id]=s,e.addEventListener("dispose",g));const a=n.program;i.updateUBOMapping(e,a);const l=t.render.frame;o[e.id]!==l&&(d(e),o[e.id]=l)}function u(t){const n=h();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,o=t.usage;return e.bindBuffer(35345,i),e.bufferData(35345,r,o),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,i),i}function h(){for(let e=0;e<a;e++)if(-1===s.indexOf(e))return s.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(t){const n=r[t.id],i=t.uniforms,o=t.__cache;e.bindBuffer(35345,n);for(let r=0,s=i.length;r<s;r++){const t=i[r];if(!0===f(t,r,o)){const n=t.__offset,i=Array.isArray(t.value)?t.value:[t.value];let r=0;for(let o=0;o<i.length;o++){const s=i[o],a=m(s);"number"===typeof s?(t.__data[0]=s,e.bufferSubData(35345,n+r,t.__data)):s.isMatrix3?(t.__data[0]=s.elements[0],t.__data[1]=s.elements[1],t.__data[2]=s.elements[2],t.__data[3]=s.elements[0],t.__data[4]=s.elements[3],t.__data[5]=s.elements[4],t.__data[6]=s.elements[5],t.__data[7]=s.elements[0],t.__data[8]=s.elements[6],t.__data[9]=s.elements[7],t.__data[10]=s.elements[8],t.__data[11]=s.elements[0]):(s.toArray(t.__data,r),r+=a.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,n,t.__data)}}e.bindBuffer(35345,null)}function f(e,t,n){const i=e.value;if(void 0===n[t]){if("number"===typeof i)n[t]=i;else{const e=Array.isArray(i)?i:[i],r=[];for(let t=0;t<e.length;t++)r.push(e[t].clone());n[t]=r}return!0}if("number"===typeof i){if(n[t]!==i)return n[t]=i,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],r=Array.isArray(i)?i:[i];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(r[t]))return n.copy(r[t]),!0}}return!1}function p(e){const t=e.uniforms;let n=0;const i=16;let r=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s={boundary:0,storage:0},a=Array.isArray(e.value)?e.value:[e.value];for(let t=0,n=a.length;t<n;t++){const e=a[t],n=m(e);s.boundary+=n.boundary,s.storage+=n.storage}if(e.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,o>0){r=n%i;const t=i-r;0!==r&&t-s.boundary<0&&(n+=i-r,e.__offset=n)}n+=s.storage}return r=n%i,r>0&&(n+=i-r),e.__size=n,e.__cache={},this}function m(e){const t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function g(t){const n=t.target;n.removeEventListener("dispose",g);const i=s.indexOf(n.__bindingPointIndex);s.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete o[n.id]}function A(){for(const t in r)e.deleteBuffer(r[t]);s=[],r={},o={}}return{bind:l,update:c,dispose:A}}function Ch(){const e=Zn("canvas");return e.style.display="block",e}function Oh(e={}){this.isWebGLRenderer=!0;const t=void 0!==e.canvas?e.canvas:Ch(),n=void 0!==e.context?e.context:null,r=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h;h=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let d=null,f=null;const A=[],y=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Dt,this.useLegacyLights=!0,this.toneMapping=Q,this.toneMappingExposure=1;const v=this;let b=!1,_=0,w=0,x=null,S=-1,T=null;const E=new bi,M=new bi;let C=null,O=t.width,k=t.height,P=1,I=null,R=null;const D=new bi(0,0,O,k),L=new bi(0,0,O,k);let N=!1;const B=new Zo;let F=!1,j=!1,U=null;const z=new er,q=new ti,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===x?P:1}let G,W,$,X,Y,K,J,Z,ee,te,ne,ie,re,oe,se,ae,le,ce,ue,he,de,fe,pe,me,ge=n;function Ae(e,n){for(let i=0;i<e.length;i++){const r=e[i],o=t.getContext(r,n);if(null!==o)return o}return null}try{const e={alpha:!0,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r"+i),t.addEventListener("webglcontextlost",_e,!1),t.addEventListener("webglcontextrestored",xe,!1),t.addEventListener("webglcontextcreationerror",Se,!1),null===ge){const t=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&t.shift(),ge=Ae(t,e),null===ge)throw Ae(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(We){throw console.error("THREE.WebGLRenderer: "+We.message),We}function ye(){G=new uc(ge),W=new ql(ge,G,e),G.init(W),fe=new vh(ge,G,W),$=new Ah(ge,G,W),X=new fc,Y=new eh,K=new yh(ge,G,$,Y,W,fe,X),J=new Hl(v),Z=new cc(v),ee=new ts(ge,W),pe=new Ul(ge,G,ee,W),te=new hc(ge,ee,X,pe),ne=new Ac(ge,te,ee,X),ue=new gc(ge,W,K),ae=new Vl(Y),ie=new Zu(v,J,Z,G,W,pe,ae),re=new Eh(v,Y),oe=new rh,se=new hh(G,W),ce=new jl(v,J,Z,$,ne,h,a),le=new gh(v,ne,W),me=new Mh(ge,X,W,$),he=new zl(ge,G,X,W),de=new dc(ge,G,X,W),X.programs=ie.programs,v.capabilities=W,v.extensions=G,v.properties=Y,v.renderLists=oe,v.shadowMap=le,v.state=$,v.info=X}ye();const ve=new Th(v,ge);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function xe(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=X.autoReset,t=le.enabled,n=le.autoUpdate,i=le.needsUpdate,r=le.type;ye(),X.autoReset=e,le.enabled=t,le.autoUpdate=n,le.needsUpdate=i,le.type=r}function Se(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Te(e){const t=e.target;t.removeEventListener("dispose",Te),Ee(t)}function Ee(e){Me(e),Y.remove(e)}function Me(e){const t=Y.get(e).programs;void 0!==t&&(t.forEach((function(e){ie.releaseProgram(e)})),e.isShaderMaterial&&ie.releaseShaderCache(e))}this.xr=ve,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const e=G.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=G.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(O,k,!1))},this.getSize=function(e){return e.set(O,k)},this.setSize=function(e,n,i=!0){ve.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=e,k=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!0===i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(O*P,k*P).floor()},this.setDrawingBufferSize=function(e,n,i){O=e,k=n,P=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,i){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,i),$.viewport(E.copy(D).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,i){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,i),$.scissor(M.copy(L).multiplyScalar(P).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){$.setScissorTest(N=e)},this.setOpaqueSort=function(e){I=e},this.setTransparentSort=function(e){R=e},this.getClearColor=function(e){return e.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(e=!0,t=!0,n=!0){let i=0;e&&(i|=16384),t&&(i|=256),n&&(i|=1024),ge.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_e,!1),t.removeEventListener("webglcontextrestored",xe,!1),t.removeEventListener("webglcontextcreationerror",Se,!1),oe.dispose(),se.dispose(),Y.dispose(),J.dispose(),Z.dispose(),ne.dispose(),pe.dispose(),me.dispose(),ie.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",Ie),ve.removeEventListener("sessionend",Re),U&&(U.dispose(),U=null),Le.stop()},this.renderBufferDirect=function(e,t,n,i,r,o){null===t&&(t=V);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=Ve(e,t,n,i,r);$.setMaterial(i,s);let l=n.index,c=1;!0===i.wireframe&&(l=te.getWireframeAttribute(n),c=2);const u=n.drawRange,h=n.attributes.position;let d=u.start*c,f=(u.start+u.count)*c;null!==o&&(d=Math.max(d,o.start*c),f=Math.min(f,(o.start+o.count)*c)),null!==l?(d=Math.max(d,0),f=Math.min(f,l.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),f=Math.min(f,h.count));const p=f-d;if(p<0||p===1/0)return;let m;pe.setup(r,i,a,n,l);let g=he;if(null!==l&&(m=ee.get(l),g=de,g.setIndex(m)),r.isMesh)!0===i.wireframe?($.setLineWidth(i.wireframeLinewidth*H()),g.setMode(1)):g.setMode(4);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),$.setLineWidth(e*H()),r.isLineSegments?g.setMode(1):r.isLineLoop?g.setMode(2):g.setMode(3)}else r.isPoints?g.setMode(0):r.isSprite&&g.setMode(4);if(r.isInstancedMesh)g.renderInstances(d,p,r.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(d,p,t)}else g.render(d,p)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===g&&!1===e.forceSinglePass?(e.side=m,e.needsUpdate=!0,ze(e,t,n),e.side=p,e.needsUpdate=!0,ze(e,t,n),e.side=g):ze(e,t,n)}f=se.get(e),f.init(),y.push(f),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(v.useLegacyLights),e.traverse((function(t){const i=t.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];n(o,e,t)}else n(i,e,t)})),y.pop(),f=null};let ke=null;function Pe(e){ke&&ke(e)}function Ie(){Le.stop()}function Re(){Le.start()}const Le=new es;function Ne(e,t,n,i){if(!1===e.visible)return;const r=e.layers.test(t.layers);if(r)if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||B.intersectsSprite(e)){i&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=ne.update(e),r=e.material;r.visible&&d.push(e,t,r,n,q.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==X.render.frame&&(e.skeleton.update(),e.skeleton.frame=X.render.frame),!e.frustumCulled||B.intersectsObject(e))){i&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=ne.update(e),r=e.material;if(Array.isArray(r)){const i=t.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&d.push(e,t,a,n,q.z,s)}}else r.visible&&d.push(e,t,r,n,q.z,null)}const o=e.children;for(let s=0,a=o.length;s<a;s++)Ne(o[s],t,n,i)}function Be(e,t,n,i){const r=e.opaque,o=e.transmissive,s=e.transparent;f.setupLightsView(n),!0===F&&ae.setGlobalState(v.clippingPlanes,n),o.length>0&&Fe(r,t,n),i&&$.viewport(E.copy(i)),r.length>0&&je(r,t,n),o.length>0&&je(o,t,n),s.length>0&&je(s,t,n),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1)}function Fe(e,t,n){const i=W.isWebGL2;null===U&&(U=new _i(1024,1024,{generateMipmaps:!0,type:G.has("EXT_color_buffer_half_float")?Oe:we,minFilter:be,samples:i&&!0===s?4:0}));const r=v.getRenderTarget();v.setRenderTarget(U),v.clear();const o=v.toneMapping;v.toneMapping=Q,je(e,t,n),v.toneMapping=o,K.updateMultisampleRenderTarget(U),K.updateRenderTargetMipmap(U),v.setRenderTarget(r)}function je(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,o=e.length;r<o;r++){const o=e[r],s=o.object,a=o.geometry,l=null===i?o.material:i,c=o.group;s.layers.test(n.layers)&&Ue(s,t,n,a,l,c)}}function Ue(e,t,n,i,r,o){e.onBeforeRender(v,t,n,i,r,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(v,t,n,i,e,o),!0===r.transparent&&r.side===g&&!1===r.forceSinglePass?(r.side=m,r.needsUpdate=!0,v.renderBufferDirect(n,t,i,r,e,o),r.side=p,r.needsUpdate=!0,v.renderBufferDirect(n,t,i,r,e,o),r.side=g):v.renderBufferDirect(n,t,i,r,e,o),e.onAfterRender(v,t,n,i,r,o)}function ze(e,t,n){!0!==t.isScene&&(t=V);const i=Y.get(e),r=f.state.lights,o=f.state.shadowsArray,s=r.state.version,a=ie.getParameters(e,r.state,o,t,n),l=ie.getProgramCacheKey(a);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?Z:J).get(e.envMap||i.environment),void 0===c&&(e.addEventListener("dispose",Te),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===s)return qe(e,a),u}else a.uniforms=ie.getUniforms(e),e.onBuild(n,a,v),e.onBeforeCompile(a,v),u=ie.acquireProgram(a,l),c.set(l,u),i.uniforms=a.uniforms;const h=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=ae.uniform),qe(e,a),i.needsLights=Ge(e),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotLightMatrix.value=r.state.spotLightMatrix,h.spotLightMap.value=r.state.spotLightMap,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const d=u.getUniforms(),p=xu.seqWithValue(d.seq,h);return i.currentProgram=u,i.uniformsList=p,u}function qe(e,t){const n=Y.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function Ve(e,t,n,i,r){!0!==t.isScene&&(t=V),K.resetTextureUnits();const o=t.fog,s=i.isMeshStandardMaterial?t.environment:null,a=null===x?v.outputEncoding:!0===x.isXRRenderTarget?x.texture.encoding:Dt,l=(i.isMeshStandardMaterial?Z:J).get(i.envMap||s),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!i.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=i.toneMapped?v.toneMapping:Q,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,A=void 0!==g?g.length:0,y=Y.get(i),b=f.state.lights;if(!0===F&&(!0===j||e!==T)){const t=e===T&&i.id===S;ae.setState(i,e,t)}let _=!1;i.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputEncoding!==a||r.isInstancedMesh&&!1===y.instancing?_=!0:r.isInstancedMesh||!0!==y.instancing?r.isSkinnedMesh&&!1===y.skinning?_=!0:r.isSkinnedMesh||!0!==y.skinning?y.envMap!==l||!0===i.fog&&y.fog!==o?_=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===ae.numPlanes&&y.numIntersection===ae.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==h||y.morphNormals!==d||y.morphColors!==p||y.toneMapping!==m||!0===W.isWebGL2&&y.morphTargetsCount!==A)&&(_=!0):_=!0:_=!0:_=!0:(_=!0,y.__version=i.version);let w=y.currentProgram;!0===_&&(w=ze(i,t,r));let E=!1,M=!1,C=!1;const O=w.getUniforms(),I=y.uniforms;if($.useProgram(w.program)&&(E=!0,M=!0,C=!0),i.id!==S&&(S=i.id,M=!0),E||T!==e){if(O.setValue(ge,"projectionMatrix",e.projectionMatrix),W.logarithmicDepthBuffer&&O.setValue(ge,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),T!==e&&(T=e,M=!0,C=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){const t=O.map.cameraPosition;void 0!==t&&t.setValue(ge,q.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&O.setValue(ge,"isOrthographic",!0===e.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||r.isSkinnedMesh)&&O.setValue(ge,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){O.setOptional(ge,r,"bindMatrix"),O.setOptional(ge,r,"bindMatrixInverse");const e=r.skeleton;e&&(W.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),O.setValue(ge,"boneTexture",e.boneTexture,K),O.setValue(ge,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const R=n.morphAttributes;if((void 0!==R.position||void 0!==R.normal||void 0!==R.color&&!0===W.isWebGL2)&&ue.update(r,n,w),(M||y.receiveShadow!==r.receiveShadow)&&(y.receiveShadow=r.receiveShadow,O.setValue(ge,"receiveShadow",r.receiveShadow)),i.isMeshGouraudMaterial&&null!==i.envMap&&(I.envMap.value=l,I.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),M&&(O.setValue(ge,"toneMappingExposure",v.toneMappingExposure),y.needsLights&&He(I,C),o&&!0===i.fog&&re.refreshFogUniforms(I,o),re.refreshMaterialUniforms(I,i,P,k,U),xu.upload(ge,y.uniformsList,I,K)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(xu.upload(ge,y.uniformsList,I,K),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&O.setValue(ge,"center",r.center),O.setValue(ge,"modelViewMatrix",r.modelViewMatrix),O.setValue(ge,"normalMatrix",r.normalMatrix),O.setValue(ge,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const e=i.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(W.isWebGL2){const n=e[t];me.update(n,w),me.bind(n,w)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return w}function He(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function Ge(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Le.setAnimationLoop(Pe),"undefined"!==typeof self&&Le.setContext(self),this.setAnimationLoop=function(e){ke=e,ve.setAnimationLoop(e),null===e?Le.stop():Le.start()},ve.addEventListener("sessionstart",Ie),ve.addEventListener("sessionend",Re),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===ve.enabled&&!0===ve.isPresenting&&(!0===ve.cameraAutoUpdate&&ve.updateCamera(t),t=ve.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,x),f=se.get(e,y.length),f.init(),y.push(f),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),B.setFromProjectionMatrix(z),j=this.localClippingEnabled,F=ae.init(this.clippingPlanes,j),d=oe.get(e,A.length),d.init(),A.push(d),Ne(e,t,0,v.sortObjects),d.finish(),!0===v.sortObjects&&d.sort(I,R),!0===F&&ae.beginShadows();const n=f.state.shadowsArray;if(le.render(n,e,t),!0===F&&ae.endShadows(),!0===this.info.autoReset&&this.info.reset(),ce.render(d,e),f.setupLights(v.useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,i=n.length;t<i;t++){const i=n[t];Be(d,e,i,i.viewport)}}else Be(d,e,t);null!==x&&(K.updateMultisampleRenderTarget(x),K.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(v,e,t),pe.resetDefaultState(),S=-1,T=null,y.pop(),f=y.length>0?y[y.length-1]:null,A.pop(),d=A.length>0?A[A.length-1]:null},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){Y.get(e.texture).__webglTexture=t,Y.get(e.depthTexture).__webglTexture=n;const i=Y.get(e);i.__hasExternalTextures=!0,i.__hasExternalTextures&&(i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===G.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=Y.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){x=e,_=t,w=n;let i=!0,r=null,o=!1,s=!1;if(e){const n=Y.get(e);void 0!==n.__useDefaultFramebuffer?($.bindFramebuffer(36160,null),i=!1):void 0===n.__webglFramebuffer?K.setupRenderTarget(e):n.__hasExternalTextures&&K.rebindTextures(e,Y.get(e.texture).__webglTexture,Y.get(e.depthTexture).__webglTexture);const a=e.texture;(a.isData3DTexture||a.isDataArrayTexture||a.isCompressedArrayTexture)&&(s=!0);const l=Y.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=l[t],o=!0):r=W.isWebGL2&&e.samples>0&&!1===K.useMultisampledRTT(e)?Y.get(e).__webglMultisampledFramebuffer:l,E.copy(e.viewport),M.copy(e.scissor),C=e.scissorTest}else E.copy(D).multiplyScalar(P).floor(),M.copy(L).multiplyScalar(P).floor(),C=N;const a=$.bindFramebuffer(36160,r);if(a&&W.drawBuffers&&i&&$.drawBuffers(e,r),$.viewport(E),$.scissor(M),$.setScissorTest(C),o){const i=Y.get(e.texture);ge.framebufferTexture2D(36160,36064,34069+t,i.__webglTexture,n)}else if(s){const i=Y.get(e.texture),r=t||0;ge.framebufferTextureLayer(36160,36064,i.__webglTexture,n||0,r)}S=-1},this.readRenderTargetPixels=function(e,t,n,i,r,o,s){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=Y.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){$.bindFramebuffer(36160,a);try{const s=e.texture,a=s.format,l=s.type;if(a!==De&&fe.convert(a)!==ge.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===Oe&&(G.has("EXT_color_buffer_half_float")||W.isWebGL2&&G.has("EXT_color_buffer_float"));if(l!==we&&fe.convert(l)!==ge.getParameter(35738)&&(l!==Ce||!(W.isWebGL2||G.has("OES_texture_float")||G.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&ge.readPixels(t,n,i,r,fe.convert(a),fe.convert(l),o)}finally{const e=null!==x?Y.get(x).__webglFramebuffer:null;$.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),o=Math.floor(t.image.height*i);K.setTexture2D(t,0),ge.copyTexSubImage2D(3553,n,0,0,e.x,e.y,r,o),$.unbindTexture()},this.copyTextureToTexture=function(e,t,n,i=0){const r=t.image.width,o=t.image.height,s=fe.convert(n.format),a=fe.convert(n.type);K.setTexture2D(n,0),ge.pixelStorei(37440,n.flipY),ge.pixelStorei(37441,n.premultiplyAlpha),ge.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ge.texSubImage2D(3553,i,e.x,e.y,r,o,s,a,t.image.data):t.isCompressedTexture?ge.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):ge.texSubImage2D(3553,i,e.x,e.y,s,a,t.image),0===i&&n.generateMipmaps&&ge.generateMipmap(3553),$.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i,r=0){if(v.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,a=e.max.z-e.min.z+1,l=fe.convert(i.format),c=fe.convert(i.type);let u;if(i.isData3DTexture)K.setTexture3D(i,0),u=32879;else{if(!i.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");K.setTexture2DArray(i,0),u=35866}ge.pixelStorei(37440,i.flipY),ge.pixelStorei(37441,i.premultiplyAlpha),ge.pixelStorei(3317,i.unpackAlignment);const h=ge.getParameter(3314),d=ge.getParameter(32878),f=ge.getParameter(3316),p=ge.getParameter(3315),m=ge.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ge.pixelStorei(3314,g.width),ge.pixelStorei(32878,g.height),ge.pixelStorei(3316,e.min.x),ge.pixelStorei(3315,e.min.y),ge.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ge.texSubImage3D(u,r,t.x,t.y,t.z,o,s,a,l,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ge.compressedTexSubImage3D(u,r,t.x,t.y,t.z,o,s,a,l,g.data)):ge.texSubImage3D(u,r,t.x,t.y,t.z,o,s,a,l,c,g),ge.pixelStorei(3314,h),ge.pixelStorei(32878,d),ge.pixelStorei(3316,f),ge.pixelStorei(3315,p),ge.pixelStorei(32877,m),0===r&&i.generateMipmaps&&ge.generateMipmap(u),$.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?K.setTextureCube(e,0):e.isData3DTexture?K.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?K.setTexture2DArray(e,0):K.setTexture2D(e,0),$.unbindTexture()},this.resetState=function(){_=0,w=0,x=null,$.reset(),pe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(Oh.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}});class kh extends Oh{}kh.prototype.isWebGL1Renderer=!0;class Ph{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Vr(e),this.density=t}clone(){return new Ph(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Ih{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Vr(e),this.near=t,this.far=n}clone(){return new Ih(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Rh extends Tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Dh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=an,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Sn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Sn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Sn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Lh=new ti;class Nh{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Lh.fromBufferAttribute(this,t),Lh.applyMatrix4(e),this.setXYZ(t,Lh.x,Lh.y,Lh.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Lh.fromBufferAttribute(this,t),Lh.applyNormalMatrix(e),this.setXYZ(t,Lh.x,Lh.y,Lh.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Lh.fromBufferAttribute(this,t),Lh.transformDirection(e),this.setXYZ(t,Lh.x,Lh.y,Lh.z);return this}setX(e,t){return this.normalized&&(t=Gn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Hn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Hn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Hn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Hn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gn(t,this.array),n=Gn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gn(t,this.array),n=Gn(n,this.array),i=Gn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gn(t,this.array),n=Gn(n,this.array),i=Gn(i,this.array),r=Gn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Xr(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Nh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Bh extends Fr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Vr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Fh;const jh=new ti,Uh=new ti,zh=new ti,qh=new $n,Vh=new $n,Hh=new er,Gh=new ti,Wh=new ti,$h=new ti,Xh=new $n,Yh=new $n,Kh=new $n;class Qh extends Tr{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Fh){Fh=new fo;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Dh(e,5);Fh.setIndex([0,1,2,0,2,3]),Fh.setAttribute("position",new Nh(t,3,0,!1)),Fh.setAttribute("uv",new Nh(t,2,3,!1))}this.geometry=Fh,this.material=void 0!==e?e:new Bh,this.center=new $n(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Uh.setFromMatrixScale(this.matrixWorld),Hh.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),zh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Uh.multiplyScalar(-zh.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Jh(Gh.set(-.5,-.5,0),zh,o,Uh,i,r),Jh(Wh.set(.5,-.5,0),zh,o,Uh,i,r),Jh($h.set(.5,.5,0),zh,o,Uh,i,r),Xh.set(0,0),Yh.set(1,0),Kh.set(1,1);let s=e.ray.intersectTriangle(Gh,Wh,$h,!1,jh);if(null===s&&(Jh(Wh.set(-.5,.5,0),zh,o,Uh,i,r),Yh.set(0,1),s=e.ray.intersectTriangle(Gh,$h,Wh,!1,jh),null===s))return;const a=e.ray.origin.distanceTo(jh);a<e.near||a>e.far||t.push({distance:a,point:jh.clone(),uv:Nr.getUV(jh,Gh,Wh,$h,Xh,Yh,Kh,new $n),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Jh(e,t,n,i,r,o){qh.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(Vh.x=o*qh.x-r*qh.y,Vh.y=r*qh.x+o*qh.y):Vh.copy(qh),e.copy(t),e.x+=Vh.x,e.y+=Vh.y,e.applyMatrix4(Hh)}const Zh=new ti,ed=new ti;class td extends Tr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length;r++)if(t<i[r].distance)break;return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){const n=this.levels;if(n.length>0){Zh.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Zh);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Zh.setFromMatrixPosition(e.matrixWorld),ed.setFromMatrixPosition(this.matrixWorld);const n=Zh.distanceTo(ed)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r;i++){let e=t[i].distance;if(t[i].object.visible&&(e-=e*t[i].hysteresis),!(n>=e))break;t[i-1].object.visible=!1,t[i].object.visible=!0}for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const e=n[i];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const nd=new ti,id=new bi,rd=new bi,od=new ti,sd=new er;class ad extends Co{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new er,this.bindMatrixInverse=new er}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new bi,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,i=this.geometry;id.fromBufferAttribute(i.attributes.skinIndex,e),rd.fromBufferAttribute(i.attributes.skinWeight,e),nd.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const e=rd.getComponent(r);if(0!==e){const i=id.getComponent(r);sd.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(od.copy(nd).applyMatrix4(sd),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class ld extends Tr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class cd extends vi{constructor(e=null,t=1,n=1,i,r,o,s,a,l=de,c=de,u,h){super(null,o,s,a,l,c,i,r,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ud=new er,hd=new er;class dd{constructor(e=[],t=[]){this.uuid=Sn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new er)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new er;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const i=e[r]?e[r].matrixWorld:hd;ud.multiplyMatrices(i,t[r]),ud.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}clone(){return new dd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=zn(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new cd(t,e,e,De,Ce);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new ld),this.bones.push(r),this.boneInverses.push((new er).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}}class fd extends Xr{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const pd=new er,md=new er,gd=[],Ad=new er,yd=new Co;class vd extends Co{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new fd(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let i=0;i<n;i++)this.setMatrixAt(i,Ad)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,i=this.count;if(yd.geometry=this.geometry,yd.material=this.material,void 0!==yd.material)for(let r=0;r<i;r++){this.getMatrixAt(r,pd),md.multiplyMatrices(n,pd),yd.matrixWorld=md,yd.raycast(e,gd);for(let e=0,n=gd.length;e<n;e++){const n=gd[e];n.instanceId=r,n.object=this,t.push(n)}gd.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new fd(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class bd extends Fr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _d=new ti,wd=new ti,xd=new er,Sd=new Zi,Td=new Gi;class Ed extends Tr{constructor(e=new fo,t=new bd){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)_d.fromBufferAttribute(t,e-1),wd.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=_d.distanceTo(wd);e.setAttribute("lineDistance",new io(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Td.copy(n.boundingSphere),Td.applyMatrix4(i),Td.radius+=r,!1===e.ray.intersectsSphere(Td))return;xd.copy(i).invert(),Sd.copy(e.ray).applyMatrix4(xd);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=new ti,c=new ti,u=new ti,h=new ti,d=this.isLineSegments?2:1,f=n.index,p=n.attributes,m=p.position;if(null!==f){const n=Math.max(0,o.start),i=Math.min(f.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=d){const n=f.getX(r),i=f.getX(r+1);l.fromBufferAttribute(m,n),c.fromBufferAttribute(m,i);const o=Sd.distanceSqToSegment(l,c,h,u);if(o>a)continue;h.applyMatrix4(this.matrixWorld);const s=e.ray.origin.distanceTo(h);s<e.near||s>e.far||t.push({distance:s,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else{const n=Math.max(0,o.start),i=Math.min(m.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=d){l.fromBufferAttribute(m,r),c.fromBufferAttribute(m,r+1);const n=Sd.distanceSqToSegment(l,c,h,u);if(n>a)continue;h.applyMatrix4(this.matrixWorld);const i=e.ray.origin.distanceTo(h);i<e.near||i>e.far||t.push({distance:i,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}const Md=new ti,Cd=new ti;class Od extends Ed{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)Md.fromBufferAttribute(t,e),Cd.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Md.distanceTo(Cd);e.setAttribute("lineDistance",new io(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class kd extends Ed{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Pd extends Fr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Id=new er,Rd=new Zi,Dd=new Gi,Ld=new ti;class Nd extends Tr{constructor(e=new fo,t=new Pd){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Dd.copy(n.boundingSphere),Dd.applyMatrix4(i),Dd.radius+=r,!1===e.ray.intersectsSphere(Dd))return;Id.copy(i).invert(),Rd.copy(e.ray).applyMatrix4(Id);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=n.index,c=n.attributes,u=c.position;if(null!==l){const n=Math.max(0,o.start),r=Math.min(l.count,o.start+o.count);for(let o=n,s=r;o<s;o++){const n=l.getX(o);Ld.fromBufferAttribute(u,n),Bd(Ld,n,a,i,e,t,this)}}else{const n=Math.max(0,o.start),r=Math.min(u.count,o.start+o.count);for(let o=n,s=r;o<s;o++)Ld.fromBufferAttribute(u,o),Bd(Ld,o,a,i,e,t,this)}}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}function Bd(e,t,n,i,r,o,s){const a=Rd.distanceSqToPoint(e);if(a<n){const n=new ti;Rd.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:t,face:null,object:s})}}class Fd extends vi{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:Ae,this.magFilter=void 0!==r?r:Ae,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image,t="requestVideoFrameCallback"in e;!1===t&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jd extends vi{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=de,this.minFilter=de,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ud extends vi{constructor(e,t,n,i,r,o,s,a,l,c,u,h){super(null,o,s,a,l,c,i,r,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class zd extends Ud{constructor(e,t,n,i,r,o){super(e,t,n,r,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ue}}class qd extends vi{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vd{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const r=n.length;let o;o=t||e*n[r-1];let s,a=0,l=r-1;while(a<=l)if(i=Math.floor(a+(l-a)/2),s=n[i]-o,s<0)a=i+1;else{if(!(s>0)){l=i;break}l=i-1}if(i=l,n[i]===o)return i/(r-1);const c=n[i],u=n[i+1],h=u-c,d=(o-c)/h,f=(i+d)/(r-1);return f}getTangent(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=t||(o.isVector2?new $n:new ti);return a.copy(s).sub(o).normalize(),a}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new ti,i=[],r=[],o=[],s=new ti,a=new er;for(let d=0;d<=e;d++){const t=d/e;i[d]=this.getTangentAt(t,new ti)}r[0]=new ti,o[0]=new ti;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let d=1;d<=e;d++){if(r[d]=r[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(Tn(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(s,e))}o[d].crossVectors(i[d],r[d])}if(!0===t){let t=Math.acos(Tn(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],t*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Hd extends Vd{constructor(e=0,t=0,n=1,i=1,r=0,o=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e,t){const n=t||new $n,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;while(r<0)r+=i;while(r>i)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const s=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,i=l-this.aY;a=n*e-i*t+this.aX,l=n*t+i*e+this.aY}return n.set(a,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Gd extends Hd{constructor(e,t,n,i,r,o){super(e,t,n,n,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Wd(){let e=0,t=0,n=0,i=0;function r(r,o,s,a){e=r,t=s,n=-3*r+3*o-2*s-a,i=2*r-2*o+s+a}return{initCatmullRom:function(e,t,n,i,o){r(t,n,o*(n-e),o*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,o,s,a){let l=(t-e)/o-(n-e)/(o+s)+(n-t)/s,c=(n-t)/s-(i-t)/(s+a)+(i-n)/a;l*=s,c*=s,r(t,n,l,c)},calc:function(r){const o=r*r,s=o*r;return e+t*r+n*o+i*s}}}const $d=new ti,Xd=new Wd,Yd=new Wd,Kd=new Wd;class Qd extends Vd{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new ti){const n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e;let s,a,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?s=i[(l-1)%r]:($d.subVectors(i[0],i[1]).add(i[0]),s=$d);const u=i[l%r],h=i[(l+1)%r];if(this.closed||l+2<r?a=i[(l+2)%r]:($d.subVectors(i[r-1],i[r-2]).add(i[r-1]),a=$d),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(s.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),i=Math.pow(h.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),Xd.initNonuniformCatmullRom(s.x,u.x,h.x,a.x,t,n,i),Yd.initNonuniformCatmullRom(s.y,u.y,h.y,a.y,t,n,i),Kd.initNonuniformCatmullRom(s.z,u.z,h.z,a.z,t,n,i)}else"catmullrom"===this.curveType&&(Xd.initCatmullRom(s.x,u.x,h.x,a.x,this.tension),Yd.initCatmullRom(s.y,u.y,h.y,a.y,this.tension),Kd.initCatmullRom(s.z,u.z,h.z,a.z,this.tension));return n.set(Xd.calc(c),Yd.calc(c),Kd.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new ti).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Jd(e,t,n,i,r){const o=.5*(i-t),s=.5*(r-n),a=e*e,l=e*a;return(2*n-2*i+o+s)*l+(-3*n+3*i-2*o-s)*a+o*e+n}function Zd(e,t){const n=1-e;return n*n*t}function ef(e,t){return 2*(1-e)*e*t}function tf(e,t){return e*e*t}function nf(e,t,n,i){return Zd(e,t)+ef(e,n)+tf(e,i)}function rf(e,t){const n=1-e;return n*n*n*t}function of(e,t){const n=1-e;return 3*n*n*e*t}function sf(e,t){return 3*(1-e)*e*e*t}function af(e,t){return e*e*e*t}function lf(e,t,n,i,r){return rf(e,t)+of(e,n)+sf(e,i)+af(e,r)}class cf extends Vd{constructor(e=new $n,t=new $n,n=new $n,i=new $n){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new $n){const n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(lf(e,i.x,r.x,o.x,s.x),lf(e,i.y,r.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uf extends Vd{constructor(e=new ti,t=new ti,n=new ti,i=new ti){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new ti){const n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(lf(e,i.x,r.x,o.x,s.x),lf(e,i.y,r.y,o.y,s.y),lf(e,i.z,r.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hf extends Vd{constructor(e=new $n,t=new $n){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new $n){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $n){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class df extends Vd{constructor(e=new ti,t=new ti){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ti){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ti){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ff extends Vd{constructor(e=new $n,t=new $n,n=new $n){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new $n){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(nf(e,i.x,r.x,o.x),nf(e,i.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pf extends Vd{constructor(e=new ti,t=new ti,n=new ti){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ti){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(nf(e,i.x,r.x,o.x),nf(e,i.y,r.y,o.y),nf(e,i.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mf extends Vd{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new $n){const n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(Jd(s,a.x,l.x,c.x,u.x),Jd(s,a.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new $n).fromArray(n))}return this}}var gf=Object.freeze({__proto__:null,ArcCurve:Gd,CatmullRomCurve3:Qd,CubicBezierCurve:cf,CubicBezierCurve3:uf,EllipseCurve:Hd,LineCurve:hf,LineCurve3:df,QuadraticBezierCurve:ff,QuadraticBezierCurve3:pf,SplineCurve:mf});class Af extends Vd{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new hf(t,e))}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let r=0;while(r<i.length){if(i[r]>=n){const e=i[r]-n,o=this.curves[r],s=o.getLength(),a=0===s?0:1-e/s;return o.getPointAt(a,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let e=0;e<a.length;e++){const i=a[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new gf[n.type]).fromJSON(n))}return this}}class yf extends Af{constructor(e){super(),this.type="Path",this.currentPoint=new $n,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new hf(this.currentPoint.clone(),new $n(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new ff(this.currentPoint.clone(),new $n(e,t),new $n(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,o){const s=new cf(this.currentPoint.clone(),new $n(e,t),new $n(n,i),new $n(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new mf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,i,r,o),this}absarc(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this}ellipse(e,t,n,i,r,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,o,s,a),this}absellipse(e,t,n,i,r,o,s,a){const l=new Hd(e,t,n,i,r,o,s,a);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vf extends fo{constructor(e=[new $n(0,-.5),new $n(.5,0),new $n(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Tn(i,0,2*Math.PI);const r=[],o=[],s=[],a=[],l=[],c=1/t,u=new ti,h=new $n,d=new ti,f=new ti,p=new ti;let m=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:m=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,d.x=1*g,d.y=-m,d.z=0*g,p.copy(d),d.normalize(),a.push(d.x,d.y,d.z);break;case e.length-1:a.push(p.x,p.y,p.z);break;default:m=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,d.x=1*g,d.y=-m,d.z=0*g,f.copy(d),d.x+=p.x,d.y+=p.y,d.z+=p.z,d.normalize(),a.push(d.x,d.y,d.z),p.copy(f)}for(let A=0;A<=t;A++){const r=n+A*c*i,d=Math.sin(r),f=Math.cos(r);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*d,u.y=e[n].y,u.z=e[n].x*f,o.push(u.x,u.y,u.z),h.x=A/t,h.y=n/(e.length-1),s.push(h.x,h.y);const i=a[3*n+0]*d,r=a[3*n+1],c=a[3*n+0]*f;l.push(i,r,c)}}for(let A=0;A<t;A++)for(let t=0;t<e.length-1;t++){const n=t+A*e.length,i=n,o=n+e.length,s=n+e.length+1,a=n+1;r.push(i,o,a),r.push(s,a,o)}this.setIndex(r),this.setAttribute("position",new io(o,3)),this.setAttribute("uv",new io(s,2)),this.setAttribute("normal",new io(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vf(e.points,e.segments,e.phiStart,e.phiLength)}}class bf extends vf{constructor(e=1,t=1,n=4,i=8){const r=new yf;r.absarc(0,-t/2,e,1.5*Math.PI,0),r.absarc(0,t/2,e,0,.5*Math.PI),super(r.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new bf(e.radius,e.length,e.capSegments,e.radialSegments)}}class _f extends fo{constructor(e=1,t=32,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],o=[],s=[],a=[],l=new ti,c=new $n;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const r=n+u/t*i;l.x=e*Math.cos(r),l.y=e*Math.sin(r),o.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,a.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new io(o,3)),this.setAttribute("normal",new io(s,3)),this.setAttribute("uv",new io(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _f(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class wf extends fo{constructor(e=1,t=1,n=1,i=32,r=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function A(){const o=new ti,A=new ti;let y=0;const v=(t-e)/n;for(let l=0;l<=r;l++){const c=[],g=l/r,y=g*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*a+s,l=Math.sin(r),p=Math.cos(r);A.x=y*l,A.y=-g*n+m,A.z=y*p,u.push(A.x,A.y,A.z),o.set(l,v,p).normalize(),h.push(o.x,o.y,o.z),d.push(t,1-g),c.push(f++)}p.push(c)}for(let e=0;e<i;e++)for(let t=0;t<r;t++){const n=p[t][e],i=p[t+1][e],r=p[t+1][e+1],o=p[t][e+1];c.push(n,i,o),c.push(i,r,o),y+=6}l.addGroup(g,y,0),g+=y}function y(n){const r=f,o=new $n,p=new ti;let A=0;const y=!0===n?e:t,v=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,m*v,0),h.push(0,v,0),d.push(.5,.5),f++;const b=f;for(let e=0;e<=i;e++){const t=e/i,n=t*a+s,r=Math.cos(n),l=Math.sin(n);p.x=y*l,p.y=m*v,p.z=y*r,u.push(p.x,p.y,p.z),h.push(0,v,0),o.x=.5*r+.5,o.y=.5*l*v+.5,d.push(o.x,o.y),f++}for(let e=0;e<i;e++){const t=r+e,i=b+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),A+=3}l.addGroup(g,A,!0===n?1:2),g+=A}A(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(c),this.setAttribute("position",new io(u,3)),this.setAttribute("normal",new io(h,3)),this.setAttribute("uv",new io(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xf extends wf{constructor(e=1,t=1,n=32,i=1,r=!1,o=0,s=2*Math.PI){super(0,e,t,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}static fromJSON(e){return new xf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Sf extends fo{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],o=[];function s(e){const n=new ti,i=new ti,r=new ti;for(let o=0;o<t.length;o+=3)d(t[o+0],n),d(t[o+1],i),d(t[o+2],r),a(n,i,r,e)}function a(e,t,n,i){const r=i+1,o=[];for(let s=0;s<=r;s++){o[s]=[];const i=e.clone().lerp(n,s/r),a=t.clone().lerp(n,s/r),l=r-s;for(let e=0;e<=l;e++)o[s][e]=0===e&&s===r?i:i.clone().lerp(a,e/l)}for(let s=0;s<r;s++)for(let e=0;e<2*(r-s)-1;e++){const t=Math.floor(e/2);e%2===0?(h(o[s][t+1]),h(o[s+1][t]),h(o[s][t])):(h(o[s][t+1]),h(o[s+1][t+1]),h(o[s+1][t]))}}function l(e){const t=new ti;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}function c(){const e=new ti;for(let t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];const n=m(e)/2/Math.PI+.5,i=g(e)/Math.PI+.5;o.push(n,1-i)}f(),u()}function u(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],i=o[e+4],r=Math.max(t,n,i),s=Math.min(t,n,i);r>.9&&s<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),i<.2&&(o[e+4]+=1))}}function h(e){r.push(e.x,e.y,e.z)}function d(t,n){const i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function f(){const e=new ti,t=new ti,n=new ti,i=new ti,s=new $n,a=new $n,l=new $n;for(let c=0,u=0;c<r.length;c+=9,u+=6){e.set(r[c+0],r[c+1],r[c+2]),t.set(r[c+3],r[c+4],r[c+5]),n.set(r[c+6],r[c+7],r[c+8]),s.set(o[u+0],o[u+1]),a.set(o[u+2],o[u+3]),l.set(o[u+4],o[u+5]),i.copy(e).add(t).add(n).divideScalar(3);const h=m(i);p(s,u+0,e,h),p(a,u+2,t,h),p(l,u+4,n,h)}}function p(e,t,n,i){i<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=i/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}s(i),l(n),c(),this.setAttribute("position",new io(r,3)),this.setAttribute("normal",new io(r.slice(),3)),this.setAttribute("uv",new io(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sf(e.vertices,e.indices,e.radius,e.details)}}class Tf extends Sf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Tf(e.radius,e.detail)}}const Ef=new ti,Mf=new ti,Cf=new ti,Of=new Nr;class kf extends fo{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,i=Math.pow(10,n),r=Math.cos(wn*t),o=e.getIndex(),s=e.getAttribute("position"),a=o?o.count:s.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},d=[];for(let e=0;e<a;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:a}=Of;if(t.fromBufferAttribute(s,l[0]),n.fromBufferAttribute(s,l[1]),a.fromBufferAttribute(s,l[2]),Of.getNormal(Cf),u[0]=`${Math.round(t.x*i)},${Math.round(t.y*i)},${Math.round(t.z*i)}`,u[1]=`${Math.round(n.x*i)},${Math.round(n.y*i)},${Math.round(n.z*i)}`,u[2]=`${Math.round(a.x*i)},${Math.round(a.y*i)},${Math.round(a.z*i)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],i=u[t],o=Of[c[e]],s=Of[c[t]],a=`${n}_${i}`,f=`${i}_${n}`;f in h&&h[f]?(Cf.dot(h[f].normal)<=r&&(d.push(o.x,o.y,o.z),d.push(s.x,s.y,s.z)),h[f]=null):a in h||(h[a]={index0:l[e],index1:l[t],normal:Cf.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];Ef.fromBufferAttribute(s,t),Mf.fromBufferAttribute(s,n),d.push(Ef.x,Ef.y,Ef.z),d.push(Mf.x,Mf.y,Mf.z)}this.setAttribute("position",new io(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Pf extends yf{constructor(e){super(e),this.uuid=Sn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new yf).fromJSON(n))}return this}}const If={triangulate:function(e,t,n=2){const i=t&&t.length,r=i?t[0]*n:e.length;let o=Rf(e,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,h,d,f;if(i&&(o=Uf(e,t,o,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)h=e[t],d=e[t+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);f=Math.max(c-a,u-l),f=0!==f?32767/f:0}return Lf(o,s,n,a,l,f,0),s}};function Rf(e,t,n,i,r){let o,s;if(r===cp(e,t,n,i)>0)for(o=t;o<n;o+=i)s=sp(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=sp(o,e[o],e[o+1],s);return s&&Jf(s,s.next)&&(ap(s),s=s.next),s}function Df(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!Jf(i,i.next)&&0!==Qf(i.prev,i,i.next))i=i.next;else{if(ap(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function Lf(e,t,n,i,r,o,s){if(!e)return;!s&&o&&Gf(e,i,r,o);let a,l,c=e;while(e.prev!==e.next)if(a=e.prev,l=e.next,o?Bf(e,i,r,o):Nf(e))t.push(a.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),ap(e),e=l.next,c=l.next;else if(e=l,e===c){s?1===s?(e=Ff(Df(e),t,n),Lf(e,t,n,i,r,o,2)):2===s&&jf(e,t,n,i,r,o):Lf(Df(e),t,n,i,r,o,1);break}}function Nf(e){const t=e.prev,n=e,i=e.next;if(Qf(t,n,i)>=0)return!1;const r=t.x,o=n.x,s=i.x,a=t.y,l=n.y,c=i.y,u=r<o?r<s?r:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,d=r>o?r>s?r:s:o>s?o:s,f=a>l?a>c?a:c:l>c?l:c;let p=i.next;while(p!==t){if(p.x>=u&&p.x<=d&&p.y>=h&&p.y<=f&&Yf(r,a,o,l,s,c,p.x,p.y)&&Qf(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Bf(e,t,n,i){const r=e.prev,o=e,s=e.next;if(Qf(r,o,s)>=0)return!1;const a=r.x,l=o.x,c=s.x,u=r.y,h=o.y,d=s.y,f=a<l?a<c?a:c:l<c?l:c,p=u<h?u<d?u:d:h<d?h:d,m=a>l?a>c?a:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,A=$f(f,p,t,n,i),y=$f(m,g,t,n,i);let v=e.prevZ,b=e.nextZ;while(v&&v.z>=A&&b&&b.z<=y){if(v.x>=f&&v.x<=m&&v.y>=p&&v.y<=g&&v!==r&&v!==s&&Yf(a,u,l,h,c,d,v.x,v.y)&&Qf(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==r&&b!==s&&Yf(a,u,l,h,c,d,b.x,b.y)&&Qf(b.prev,b,b.next)>=0)return!1;b=b.nextZ}while(v&&v.z>=A){if(v.x>=f&&v.x<=m&&v.y>=p&&v.y<=g&&v!==r&&v!==s&&Yf(a,u,l,h,c,d,v.x,v.y)&&Qf(v.prev,v,v.next)>=0)return!1;v=v.prevZ}while(b&&b.z<=y){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==r&&b!==s&&Yf(a,u,l,h,c,d,b.x,b.y)&&Qf(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Ff(e,t,n){let i=e;do{const r=i.prev,o=i.next.next;!Jf(r,o)&&Zf(r,i,i.next,o)&&ip(r,o)&&ip(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),ap(i),ap(i.next),i=e=o),i=i.next}while(i!==e);return Df(i)}function jf(e,t,n,i,r,o){let s=e;do{let e=s.next.next;while(e!==s.prev){if(s.i!==e.i&&Kf(s,e)){let a=op(s,e);return s=Df(s,s.next),a=Df(a,a.next),Lf(s,t,n,i,r,o,0),void Lf(a,t,n,i,r,o,0)}e=e.next}s=s.next}while(s!==e)}function Uf(e,t,n,i){const r=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=Rf(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Xf(c));for(r.sort(zf),o=0;o<r.length;o++)n=qf(r[o],n);return n}function zf(e,t){return e.x-t.x}function qf(e,t){const n=Vf(e,t);if(!n)return t;const i=op(n,e);return Df(i,i.next),Df(n,n.next)}function Vf(e,t){let n,i=t,r=-1/0;const o=e.x,s=e.y;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){const e=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=o&&e>r&&(r=e,n=i.x<i.next.x?i:i.next,e===o))return n}i=i.next}while(i!==t);if(!n)return null;const a=n,l=n.x,c=n.y;let u,h=1/0;i=n;do{o>=i.x&&i.x>=l&&o!==i.x&&Yf(s<c?o:r,s,l,c,s<c?r:o,s,i.x,i.y)&&(u=Math.abs(s-i.y)/(o-i.x),ip(i,e)&&(u<h||u===h&&(i.x>n.x||i.x===n.x&&Hf(n,i)))&&(n=i,h=u)),i=i.next}while(i!==a);return n}function Hf(e,t){return Qf(e.prev,e,t.prev)<0&&Qf(t.next,e,e.next)<0}function Gf(e,t,n,i){let r=e;do{0===r.z&&(r.z=$f(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,Wf(r)}function Wf(e){let t,n,i,r,o,s,a,l,c=1;do{n=e,e=null,o=null,s=0;while(n){for(s++,i=n,a=0,t=0;t<c;t++)if(a++,i=i.nextZ,!i)break;l=c;while(a>0||l>0&&i)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1);return e}function $f(e,t,n,i,r){return e=(e-n)*r|0,t=(t-i)*r|0,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function Xf(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Yf(e,t,n,i,r,o,s,a){return(r-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(i-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function Kf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!np(e,t)&&(ip(e,t)&&ip(t,e)&&rp(e,t)&&(Qf(e.prev,e,t.prev)||Qf(e,t.prev,t))||Jf(e,t)&&Qf(e.prev,e,e.next)>0&&Qf(t.prev,t,t.next)>0)}function Qf(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Jf(e,t){return e.x===t.x&&e.y===t.y}function Zf(e,t,n,i){const r=tp(Qf(e,t,n)),o=tp(Qf(e,t,i)),s=tp(Qf(n,i,e)),a=tp(Qf(n,i,t));return r!==o&&s!==a||(!(0!==r||!ep(e,n,t))||(!(0!==o||!ep(e,i,t))||(!(0!==s||!ep(n,e,i))||!(0!==a||!ep(n,t,i)))))}function ep(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function tp(e){return e>0?1:e<0?-1:0}function np(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Zf(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function ip(e,t){return Qf(e.prev,e,e.next)<0?Qf(e,t,e.next)>=0&&Qf(e,e.prev,t)>=0:Qf(e,t,e.prev)<0||Qf(e,e.next,t)<0}function rp(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}function op(e,t){const n=new lp(e.i,e.x,e.y),i=new lp(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function sp(e,t,n,i){const r=new lp(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ap(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function lp(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cp(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}class up{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return up.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];hp(e),dp(n,e);let o=e.length;t.forEach(hp);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,dp(n,t[a]);const s=If.triangulate(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}}function hp(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function dp(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class fp extends fo{constructor(e=new Pf([new $n(.5,.5),new $n(-.5,.5),new $n(-.5,-.5),new $n(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let s=0,a=e.length;s<a;s++){const t=e[s];o(t)}function o(e){const o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:pp;let g,A,y,v,b,_=!1;p&&(g=p.getSpacedPoints(a),_=!0,c=!1,A=p.computeFrenetFrames(a,!1),y=new ti,v=new ti,b=new ti),c||(f=0,u=0,h=0,d=0);const w=e.extractPoints(s);let x=w.shape;const S=w.holes,T=!up.isClockWise(x);if(T){x=x.reverse();for(let e=0,t=S.length;e<t;e++){const t=S[e];up.isClockWise(t)&&(S[e]=t.reverse())}}const E=up.triangulateShape(x,S),M=x;for(let t=0,n=S.length;t<n;t++){const e=S[t];x=x.concat(e)}function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const O=x.length,k=E.length;function P(e,t,n){let i,r,o;const s=e.x-t.x,a=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=s*s+a*a,h=s*c-a*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=t.x-a/h,p=t.y+s/h,m=n.x-c/d,g=n.y+l/d,A=((m-f)*c-(g-p)*l)/(s*c-a*l);i=f+s*A-e.x,r=p+a*A-e.y;const y=i*i+r*r;if(y<=2)return new $n(i,r);o=Math.sqrt(y/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(c)&&(e=!0),e?(i=-a,r=s,o=Math.sqrt(u)):(i=s,r=a,o=Math.sqrt(u/2))}return new $n(i/o,r/o)}const I=[];for(let t=0,n=M.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),I[t]=P(M[t],M[i],M[r]);const R=[];let D,L=I.concat();for(let t=0,n=S.length;t<n;t++){const e=S[t];D=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[t]=P(e[t],e[i],e[r]);R.push(D),L=L.concat(D)}for(let t=0;t<f;t++){const e=t/f,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=M.length;t<r;t++){const e=C(M[t],I[t],i);U(e.x,e.y,-n)}for(let t=0,r=S.length;t<r;t++){const e=S[t];D=R[t];for(let t=0,r=e.length;t<r;t++){const r=C(e[t],D[t],i);U(r.x,r.y,-n)}}}const N=h+d;for(let t=0;t<O;t++){const e=c?C(x[t],L[t],N):x[t];_?(v.copy(A.normals[0]).multiplyScalar(e.x),y.copy(A.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(v).add(y),U(b.x,b.y,b.z)):U(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<O;e++){const n=c?C(x[e],L[e],N):x[e];_?(v.copy(A.normals[t]).multiplyScalar(n.x),y.copy(A.binormals[t]).multiplyScalar(n.y),b.copy(g[t]).add(v).add(y),U(b.x,b.y,b.z)):U(n.x,n.y,l/a*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=M.length;t<r;t++){const e=C(M[t],I[t],i);U(e.x,e.y,l+n)}for(let t=0,r=S.length;t<r;t++){const e=S[t];D=R[t];for(let t=0,r=e.length;t<r;t++){const r=C(e[t],D[t],i);_?U(r.x,r.y+g[a-1].y,g[a-1].x+n):U(r.x,r.y,l+n)}}}function B(){const e=i.length/3;if(c){let e=0,t=O*e;for(let n=0;n<k;n++){const e=E[n];z(e[2]+t,e[1]+t,e[0]+t)}e=a+2*f,t=O*e;for(let n=0;n<k;n++){const e=E[n];z(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<k;e++){const t=E[e];z(t[2],t[1],t[0])}for(let e=0;e<k;e++){const t=E[e];z(t[0]+O*a,t[1]+O*a,t[2]+O*a)}}n.addGroup(e,i.length/3-e,0)}function F(){const e=i.length/3;let t=0;j(M,t),t+=M.length;for(let n=0,i=S.length;n<i;n++){const e=S[n];j(e,t),t+=e.length}n.addGroup(e,i.length/3-e,1)}function j(e,t){let n=e.length;while(--n>=0){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=a+2*f;e<n;e++){const n=O*e,o=O*(e+1),s=t+i+n,a=t+r+n,l=t+r+o,c=t+i+o;q(s,a,l,c)}}}function U(e,t,n){o.push(e),o.push(t),o.push(n)}function z(e,t,r){V(e),V(t),V(r);const o=i.length/3,s=m.generateTopUV(n,i,o-3,o-2,o-1);H(s[0]),H(s[1]),H(s[2])}function q(e,t,r,o){V(e),V(t),V(o),V(t),V(r),V(o);const s=i.length/3,a=m.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);H(a[0]),H(a[1]),H(a[3]),H(a[1]),H(a[2]),H(a[3])}function V(e){i.push(o[3*e+0]),i.push(o[3*e+1]),i.push(o[3*e+2])}function H(e){r.push(e.x),r.push(e.y)}B(),F()}this.setAttribute("position",new io(i,3)),this.setAttribute("uv",new io(r,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return mp(t,n,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const i=t[e.shapes[r]];n.push(i)}const i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=(new gf[i.type]).fromJSON(i)),new fp(n,e.options)}}const pp={generateTopUV:function(e,t,n,i,r){const o=t[3*n],s=t[3*n+1],a=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new $n(o,s),new $n(a,l),new $n(c,u)]},generateSideWallUV:function(e,t,n,i,r,o){const s=t[3*n],a=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],h=t[3*i+2],d=t[3*r],f=t[3*r+1],p=t[3*r+2],m=t[3*o],g=t[3*o+1],A=t[3*o+2];return Math.abs(a-u)<Math.abs(s-c)?[new $n(s,1-l),new $n(c,1-h),new $n(d,1-p),new $n(m,1-A)]:[new $n(a,1-l),new $n(u,1-h),new $n(f,1-p),new $n(g,1-A)]}};function mp(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const t=e[i];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class gp extends Sf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gp(e.radius,e.detail)}}class Ap extends Sf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ap(e.radius,e.detail)}}class yp extends fo{constructor(e=.5,t=1,n=32,i=1,r=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);const s=[],a=[],l=[],c=[];let u=e;const h=(t-e)/i,d=new ti,f=new $n;for(let p=0;p<=i;p++){for(let e=0;e<=n;e++){const i=r+e/n*o;d.x=u*Math.cos(i),d.y=u*Math.sin(i),a.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(d.x/t+1)/2,f.y=(d.y/t+1)/2,c.push(f.x,f.y)}u+=h}for(let p=0;p<i;p++){const e=p*(n+1);for(let t=0;t<n;t++){const i=t+e,r=i,o=i+n+1,a=i+n+2,l=i+1;s.push(r,o,l),s.push(o,a,l)}}this.setIndex(s),this.setAttribute("position",new io(a,3)),this.setAttribute("normal",new io(l,3)),this.setAttribute("uv",new io(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vp extends fo{constructor(e=new Pf([new $n(0,.5),new $n(-.5,-.5),new $n(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],o=[];let s=0,a=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,a,c),s+=a,a=0;function l(e){const s=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===up.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===up.isClockWise(e)&&(u[t]=e.reverse())}const h=up.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,i=h.length;t<i;t++){const e=h[t],i=e[0]+s,r=e[1]+s,o=e[2]+s;n.push(i,r,o),a+=3}}this.setIndex(n),this.setAttribute("position",new io(i,3)),this.setAttribute("normal",new io(r,3)),this.setAttribute("uv",new io(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return bp(t,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}return new vp(n,e.curveSegments)}}function bp(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}class _p extends fo{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const a=Math.min(o+s,Math.PI);let l=0;const c=[],u=new ti,h=new ti,d=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const d=[],A=g/n;let y=0;0==g&&0==o?y=.5/t:g==n&&a==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const a=n/t;u.x=-e*Math.cos(i+a*r)*Math.sin(o+A*s),u.y=e*Math.cos(o+A*s),u.z=e*Math.sin(i+a*r)*Math.sin(o+A*s),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(a+y,1-A),d.push(l++)}c.push(d)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],i=c[g][e],r=c[g+1][e],s=c[g+1][e+1];(0!==g||o>0)&&d.push(t,i,s),(g!==n-1||a<Math.PI)&&d.push(i,r,s)}this.setIndex(d),this.setAttribute("position",new io(f,3)),this.setAttribute("normal",new io(p,3)),this.setAttribute("uv",new io(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class wp extends Sf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wp(e.radius,e.detail)}}class xp extends fo{constructor(e=1,t=.4,n=12,i=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const o=[],s=[],a=[],l=[],c=new ti,u=new ti,h=new ti;for(let d=0;d<=n;d++)for(let o=0;o<=i;o++){const f=o/i*r,p=d/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),s.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),h.subVectors(u,c).normalize(),a.push(h.x,h.y,h.z),l.push(o/i),l.push(d/n)}for(let d=1;d<=n;d++)for(let e=1;e<=i;e++){const t=(i+1)*d+e-1,n=(i+1)*(d-1)+e-1,r=(i+1)*(d-1)+e,s=(i+1)*d+e;o.push(t,n,s),o.push(n,r,s)}this.setIndex(o),this.setAttribute("position",new io(s,3)),this.setAttribute("normal",new io(a,3)),this.setAttribute("uv",new io(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Sp extends fo{constructor(e=1,t=.4,n=64,i=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],l=[],c=[],u=new ti,h=new ti,d=new ti,f=new ti,p=new ti,m=new ti,g=new ti;for(let y=0;y<=n;++y){const s=y/n*r*Math.PI*2;A(s,r,o,e,d),A(s+.01,r,o,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,o=-t*Math.cos(r),s=t*Math.sin(r);u.x=d.x+(o*g.x+s*p.x),u.y=d.y+(o*g.y+s*p.y),u.z=d.z+(o*g.z+s*p.z),a.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(e/i)}}for(let y=1;y<=n;y++)for(let e=1;e<=i;e++){const t=(i+1)*(y-1)+(e-1),n=(i+1)*y+(e-1),r=(i+1)*y+e,o=(i+1)*(y-1)+e;s.push(t,n,o),s.push(n,r,o)}function A(e,t,n,i,r){const o=Math.cos(e),s=Math.sin(e),a=n/t*e,l=Math.cos(a);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*s*.5,r.z=i*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new io(a,3)),this.setAttribute("normal",new io(l,3)),this.setAttribute("uv",new io(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Tp extends fo{constructor(e=new pf(new ti(-1,-1,0),new ti(-1,1,0),new ti(1,1,0)),t=64,n=1,i=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new ti,a=new ti,l=new $n;let c=new ti;const u=[],h=[],d=[],f=[];function p(){for(let e=0;e<t;e++)m(e);m(!1===r?t:0),A(),g()}function m(r){c=e.getPointAt(r/t,c);const l=o.normals[r],d=o.binormals[r];for(let e=0;e<=i;e++){const t=e/i*Math.PI*2,r=Math.sin(t),o=-Math.cos(t);a.x=o*l.x+r*d.x,a.y=o*l.y+r*d.y,a.z=o*l.z+r*d.z,a.normalize(),h.push(a.x,a.y,a.z),s.x=c.x+n*a.x,s.y=c.y+n*a.y,s.z=c.z+n*a.z,u.push(s.x,s.y,s.z)}}function g(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),o=(i+1)*e+t,s=(i+1)*(e-1)+t;f.push(n,r,s),f.push(r,o,s)}}function A(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,d.push(l.x,l.y)}p(),this.setIndex(f),this.setAttribute("position",new io(u,3)),this.setAttribute("normal",new io(h,3)),this.setAttribute("uv",new io(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Tp((new gf[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ep extends fo{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,i=new ti,r=new ti;if(null!==e.index){const o=e.attributes.position,s=e.index;let a=e.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,l=a.length;e<l;++e){const l=a[e],c=l.start,u=l.count;for(let e=c,a=c+u;e<a;e+=3)for(let l=0;l<3;l++){const a=s.getX(e+l),c=s.getX(e+(l+1)%3);i.fromBufferAttribute(o,a),r.fromBufferAttribute(o,c),!0===Mp(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let e=0,s=o.count/3;e<s;e++)for(let a=0;a<3;a++){const s=3*e+a,l=3*e+(a+1)%3;i.fromBufferAttribute(o,s),r.fromBufferAttribute(o,l),!0===Mp(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new io(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Mp(e,t,n){const i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var Cp=Object.freeze({__proto__:null,BoxGeometry:Po,CapsuleGeometry:bf,CircleGeometry:_f,ConeGeometry:xf,CylinderGeometry:wf,DodecahedronGeometry:Tf,EdgesGeometry:kf,ExtrudeGeometry:fp,IcosahedronGeometry:gp,LatheGeometry:vf,OctahedronGeometry:Ap,PlaneGeometry:ns,PolyhedronGeometry:Sf,RingGeometry:yp,ShapeGeometry:vp,SphereGeometry:_p,TetrahedronGeometry:wp,TorusGeometry:xp,TorusKnotGeometry:Sp,TubeGeometry:Tp,WireframeGeometry:Ep});class Op extends Fr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Vr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kp extends jo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Pp extends Fr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Vr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ft,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ip extends Pp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $n(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Tn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Rp extends Fr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vr(16777215),this.specular=new Vr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ft,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Dp extends Fr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ft,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Lp extends Fr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ft,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Np extends Fr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Vr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ft,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Bp extends Fr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ft,this.normalScale=new $n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fp extends bd{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function jp(e,t,n){return zp(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Up(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function zp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qp(e){function t(t,n){return e[t]-e[n]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i}function Vp(e,t,n){const i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*t;for(let n=0;n!==t;++n)r[s++]=e[i+n]}return r}function Hp(e,t,n,i){let r=1,o=e[0];while(void 0!==o&&void 0===o[i])o=e[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(t.push(o.time),n.push(s)),o=e[r++]}while(void 0!==o)}function Gp(e,t,n,i,r=30){const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),a=[],c=[];for(let o=0;o<e.times.length;++o){const s=e.times[o]*r;if(!(s<n||s>=i)){a.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==a.length&&(e.times=Up(a,e.times.constructor),e.values=Up(c,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function Wp(e,t=0,n=e,i=30){i<=0&&(i=30);const r=n.tracks.length,o=t/i;for(let s=0;s<r;++s){const t=n.tracks[s],i=t.ValueTypeName;if("bool"===i||"string"===i)continue;const r=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===i}));if(void 0===r)continue;let a=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(o<=t.times[0]){const e=a,n=l-a;d=jp(t.values,e,n)}else if(o>=t.times[h]){const e=h*l+a,n=e+l-a;d=jp(t.values,e,n)}else{const e=t.createInterpolant(),n=a,i=l-a;e.evaluate(o),d=jp(e.resultBuffer,n,i)}if("quaternion"===i){const e=(new ei).fromArray(d).normalize().conjugate();e.toArray(d)}const f=r.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===i)ei.multiplyQuaternionsFlat(r.values,t,d,0,r.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)r.values[t+n]-=d[n]}}}return e.blendMode=kt,e}const $p={arraySlice:jp,convertArray:Up,isTypedArray:zp,getKeyframeOrder:qp,sortedArray:Vp,flattenJSON:Hp,subclip:Gp,makeClipAdditive:Wp};class Xp{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;{const s=t[1];e<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}}while(n<o){const i=n+o>>>1;e<t[i]?o=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Yp extends Xp{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Et,endingEnd:Et}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,o=e+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case Mt:r=e,s=2*t-n;break;case Ct:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Mt:o=e,a=2*n-t;break;case Ct:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(i-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,A=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,v=d*m-d*p;for(let b=0;b!==s;++b)r[b]=g*o[c+b]+A*o[l+b]+y*o[a+b]+v*o[u+b];return r}}class Kp extends Xp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),u=1-c;for(let h=0;h!==s;++h)r[h]=o[l+h]*u+o[a+h]*c;return r}}class Qp extends Xp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jp{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Up(t,this.TimeBufferType),this.values=Up(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Up(e.times,Array),values:Up(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Qp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Kp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Yp(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case xt:t=this.InterpolantFactoryMethodDiscrete;break;case St:t=this.InterpolantFactoryMethodLinear;break;case Tt:t=this.InterpolantFactoryMethodSmooth;break}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xt;case this.InterpolantFactoryMethodLinear:return St;case this.InterpolantFactoryMethodSmooth:return Tt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,o=i-1;while(r!==i&&n[r]<e)++r;while(-1!==o&&n[o]>t)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const e=this.getValueSize();this.times=jp(n,r,o),this.values=jp(this.values,r*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){const t=n[s];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,t,o),e=!1;break}o=t}if(void 0!==i&&zp(i))for(let s=0,a=i.length;s!==a;++s){const t=i[s];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,t),e=!1;break}}return e}optimize(){const e=jp(this.times),t=jp(this.values),n=this.getValueSize(),i=this.getInterpolation()===Tt,r=e.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=e[s],l=e[s+1];if(a!==l&&(1!==s||a!==e[0]))if(i)r=!0;else{const e=s*n,i=e-n,o=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[i+s]||n!==t[o+s]){r=!0;break}}}if(r){if(s!==o){e[o]=e[s];const i=s*n,r=o*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++o}}if(r>0){e[o]=e[r];for(let e=r*n,i=o*n,s=0;s!==n;++s)t[i+s]=t[e+s];++o}return o!==e.length?(this.times=jp(e,0,o),this.values=jp(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=jp(this.times,0),t=jp(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Jp.prototype.TimeBufferType=Float32Array,Jp.prototype.ValueBufferType=Float32Array,Jp.prototype.DefaultInterpolation=St;class Zp extends Jp{}Zp.prototype.ValueTypeName="bool",Zp.prototype.ValueBufferType=Array,Zp.prototype.DefaultInterpolation=xt,Zp.prototype.InterpolantFactoryMethodLinear=void 0,Zp.prototype.InterpolantFactoryMethodSmooth=void 0;class em extends Jp{}em.prototype.ValueTypeName="color";class tm extends Jp{}tm.prototype.ValueTypeName="number";class nm extends Xp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t);let l=e*s;for(let c=l+s;l!==c;l+=4)ei.slerpFlat(r,0,o,l-s,o,l,a);return r}}class im extends Jp{InterpolantFactoryMethodLinear(e){return new nm(this.times,this.values,this.getValueSize(),e)}}im.prototype.ValueTypeName="quaternion",im.prototype.DefaultInterpolation=St,im.prototype.InterpolantFactoryMethodSmooth=void 0;class rm extends Jp{}rm.prototype.ValueTypeName="string",rm.prototype.ValueBufferType=Array,rm.prototype.DefaultInterpolation=xt,rm.prototype.InterpolantFactoryMethodLinear=void 0,rm.prototype.InterpolantFactoryMethodSmooth=void 0;class om extends Jp{}om.prototype.ValueTypeName="vector";class sm{constructor(e,t=-1,n,i=Ot){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Sn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(lm(n[o]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(Jp.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,o=[];for(let s=0;s<r;s++){let e=[],a=[];e.push((s+r-1)%r,s,(s+1)%r),a.push(0,1,0);const l=qp(e);e=Vp(e,1,l),a=Vp(a,1,l),i||0!==e[0]||(e.push(r),a.push(a[0])),o.push(new tm(".morphTargetInfluences["+t[s].name+"]",e,a).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const t=e[s],n=t.name.match(r);if(n&&n.length>1){const e=n[1];let r=i[e];r||(i[e]=r=[]),r.push(t)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const o=[],s=[];Hp(n,o,s,i),0!==o.length&&r.push(new e(t,o,s))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const e=l[u].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let i=0;i<e[n].morphTargets.length;i++)t[e[n].morphTargets[i]]=-1;for(const r in t){const t=[],o=[];for(let i=0;i!==e[n].morphTargets.length;++i){const i=e[n];t.push(i.time),o.push(i.morphTarget===r?1:0)}i.push(new tm(".morphTargetInfluence["+r+"]",t,o))}a=t.length*o}else{const r=".bones["+t[u].name+"]";n(om,r+".position",e,"pos",i),n(im,r+".quaternion",e,"rot",i),n(om,r+".scale",e,"scl",i)}}if(0===i.length)return null;const c=new this(r,a,i,s);return c}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const e=this.tracks[n];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function am(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return tm;case"vector":case"vector2":case"vector3":case"vector4":return om;case"color":return em;case"quaternion":return im;case"bool":case"boolean":return Zp;case"string":return rm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function lm(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=am(e.type);if(void 0===e.times){const t=[],n=[];Hp(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const cm={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class um{constructor(e,t,n){const i=this;let r=!1,o=0,s=0,a=void 0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===r&&void 0!==i.onStart&&i.onStart(e,o,s),r=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}}const hm=new um;class dm{constructor(e){this.manager=void 0!==e?e:hm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const fm={};class pm extends Error{constructor(e,t){super(e),this.response=t}}class mm extends dm{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=cm.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==fm[e])return void fm[e].push({onLoad:t,onProgress:n,onError:i});fm[e]=[],fm[e].push({onLoad:t,onProgress:n,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=fm[e],i=t.body.getReader(),r=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),o=r?parseInt(r):0,s=0!==o;let a=0;const l=new ReadableStream({start(e){function t(){i.read().then(({done:i,value:r})=>{if(i)e.close();else{a+=r.byteLength;const i=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(i)}e.enqueue(r),t()}})}t()}});return new Response(l)}throw new pm(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(a){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>{const t=new DOMParser;return t.parseFromString(e,s)});case"json":return e.json();default:if(void 0===s)return e.text();{const t=/charset="?([^;"\s]*)"?/i,n=t.exec(s),i=n&&n[1]?n[1].toLowerCase():void 0,r=new TextDecoder(i);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{cm.add(e,t);const n=fm[e];delete fm[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onLoad&&i.onLoad(t)}}).catch(t=>{const n=fm[e];if(void 0===n)throw this.manager.itemError(e),t;delete fm[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gm extends dm{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new mm(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=sm.parse(e[n]);t.push(i)}return t}}class Am extends dm{constructor(e){super(e)}load(e,t,n,i){const r=this,o=[],s=new Ud,a=new mm(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(c){a.load(e[c],(function(e){const n=r.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=Ae),s.image=o,s.format=n.format,s.needsUpdate=!0,t&&t(s))}),n,i)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else a.load(e,(function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=Ae),s.format=n.format,s.needsUpdate=!0,t&&t(s)}),n,i);return s}}class ym extends dm{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=cm.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;const s=Zn("img");function a(){c(),cm.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}}class vm extends dm{constructor(e){super(e)}load(e,t,n,i){const r=new Go,o=new ym(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(e[n],(function(e){r.images[n]=e,s++,6===s&&(r.needsUpdate=!0,t&&t(r))}),void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}}class bm extends dm{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new cd,s=new mm(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(e,(function(e){const n=r.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ue,o.wrapT=void 0!==n.wrapT?n.wrapT:ue,o.magFilter=void 0!==n.magFilter?n.magFilter:Ae,o.minFilter=void 0!==n.minFilter?n.minFilter:Ae,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=be),1===n.mipmapCount&&(o.minFilter=Ae),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n))}),n,i),o}}class _m extends dm{constructor(e){super(e)}load(e,t,n,i){const r=new vi,o=new ym(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}class wm extends Tr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Vr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class xm extends wm{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Sm=new er,Tm=new ti,Em=new ti;class Mm{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $n(512,512),this.map=null,this.mapPass=null,this.matrix=new er,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zo,this._frameExtents=new $n(1,1),this._viewportCount=1,this._viewports=[new bi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Tm.setFromMatrixPosition(e.matrixWorld),t.position.copy(Tm),Em.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Em),t.updateMatrixWorld(),Sm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sm),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Sm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Cm extends Mm{constructor(){super(new zo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*xn*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Om extends wm{constructor(e,t,n=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new Cm}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const km=new er,Pm=new ti,Im=new ti;class Rm extends Mm{constructor(){super(new zo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $n(4,2),this._viewportCount=6,this._viewports=[new bi(2,1,1,1),new bi(0,1,1,1),new bi(3,1,1,1),new bi(1,1,1,1),new bi(3,0,1,1),new bi(1,0,1,1)],this._cubeDirections=[new ti(1,0,0),new ti(-1,0,0),new ti(0,0,1),new ti(0,0,-1),new ti(0,1,0),new ti(0,-1,0)],this._cubeUps=[new ti(0,1,0),new ti(0,1,0),new ti(0,1,0),new ti(0,1,0),new ti(0,0,1),new ti(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Pm.setFromMatrixPosition(e.matrixWorld),n.position.copy(Pm),Im.copy(n.position),Im.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Im),n.updateMatrixWorld(),i.makeTranslation(-Pm.x,-Pm.y,-Pm.z),km.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(km)}}class Dm extends wm{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Rm}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Lm extends Mm{constructor(){super(new Gl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Nm extends wm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.shadow=new Lm}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Bm extends wm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Fm extends wm{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class jm{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ti)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*i*1.092548),t.addScaledVector(o[5],i*r*1.092548),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],n*r*1.092548),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*i),t.addScaledVector(o[2],1.023328*r),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*i),t.addScaledVector(o[5],.858086*i*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],.858086*n*r),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class Um extends wm{constructor(e=new jm,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class zm extends dm{constructor(e){super(e),this.textures={}}load(e,t,n,i){const r=this,o=new mm(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=zm.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new Vr).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const r in e.uniforms){const t=e.uniforms[r];switch(i.uniforms[r]={},t.type){case"t":i.uniforms[r].value=n(t.value);break;case"c":i.uniforms[r].value=(new Vr).setHex(t.value);break;case"v2":i.uniforms[r].value=(new $n).fromArray(t.value);break;case"v3":i.uniforms[r].value=(new ti).fromArray(t.value);break;case"v4":i.uniforms[r].value=(new bi).fromArray(t.value);break;case"m3":i.uniforms[r].value=(new Xn).fromArray(t.value);break;case"m4":i.uniforms[r].value=(new er).fromArray(t.value);break;default:i.uniforms[r].value=t.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new $n).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new $n).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Op,SpriteMaterial:Bh,RawShaderMaterial:kp,ShaderMaterial:jo,PointsMaterial:Pd,MeshPhysicalMaterial:Ip,MeshStandardMaterial:Pp,MeshPhongMaterial:Rp,MeshToonMaterial:Dp,MeshNormalMaterial:Lp,MeshLambertMaterial:Np,MeshDepthMaterial:dh,MeshDistanceMaterial:fh,MeshBasicMaterial:Gr,MeshMatcapMaterial:Bp,LineDashedMaterial:Fp,LineBasicMaterial:bd,Material:Fr};return new t[e]}}class qm{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Vm extends fo{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Hm extends dm{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new mm(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}parse(e){const t={},n={};function i(e,n){if(void 0!==t[n])return t[n];const i=e.interleavedBuffers,o=i[n],s=r(e,o.buffer),a=Jn(o.type,s),l=new Dh(a,o.stride);return l.uuid=o.uuid,t[n]=l,l}function r(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers,r=i[t],o=new Uint32Array(r).buffer;return n[t]=o,o}const o=e.isInstancedBufferGeometry?new Vm:new fo,s=e.data.index;if(void 0!==s){const e=Jn(s.type,s.array);o.setIndex(new Xr(e,1))}const a=e.data.attributes;for(const d in a){const t=a[d];let n;if(t.isInterleavedBufferAttribute){const r=i(e.data,t.data);n=new Nh(r,t.itemSize,t.offset,t.normalized)}else{const e=Jn(t.type,t.array),i=t.isInstancedBufferAttribute?fd:Xr;n=new i(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),void 0!==t.updateRange&&(n.updateRange.offset=t.updateRange.offset,n.updateRange.count=t.updateRange.count),o.setAttribute(d,n)}const l=e.data.morphAttributes;if(l)for(const d in l){const t=l[d],n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];let s;if(o.isInterleavedBufferAttribute){const t=i(e.data,o.data);s=new Nh(t,o.itemSize,o.offset,o.normalized)}else{const e=Jn(o.type,o.array);s=new Xr(e,o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}o.morphAttributes[d]=n}const c=e.data.morphTargetsRelative;c&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==u)for(let d=0,f=u.length;d!==f;++d){const e=u[d];o.addGroup(e.start,e.count,e.materialIndex)}const h=e.data.boundingSphere;if(void 0!==h){const e=new ti;void 0!==h.center&&e.fromArray(h.center),o.boundingSphere=new Gi(e,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Gm extends dm{constructor(e){super(e)}load(e,t,n,i){const r=this,o=""===this.path?qm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new mm(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(a){return void 0!==i&&i(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}const s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);r.parse(o,t)}),n,i)}async loadAsync(e,t){const n=this,i=""===this.path?qm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const r=new mm(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,t),s=JSON.parse(o),a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,a,s,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,i,s,o,t),l=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,l),a}parseShapes(e){const t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){const i=(new Pf).fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse((function(e){e.isBone&&(i[e.uuid]=e)})),void 0!==e)for(let r=0,o=e.length;r<o;r++){const t=(new dd).fromJSON(e[r],i);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const i=new Hm;for(let r=0,o=e.length;r<o;r++){let o;const s=e[r];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;default:s.type in Cp?o=Cp[s.type].fromJSON(s,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${s.type}"`)}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}}return n}parseMaterials(e,t){const n={},i={};if(void 0!==e){const r=new zm;r.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const i=e[n],r=sm.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function o(e){return n.manager.itemStart(e),r.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}function s(e){if("string"===typeof e){const t=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t;return o(i)}return e.data?{data:Jn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new um(t);r=new ym(n),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const n=e[t],r=n.url;if(Array.isArray(r)){const e=[];for(let t=0,n=r.length;t<n;t++){const n=r[t],i=s(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new cd(i.data,i.width,i.height)))}i[n.uuid]=new gi(e)}else{const e=s(n.url);i[n.uuid]=new gi(e)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(e){if("string"===typeof e){const n=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await i.loadAsync(r)}return e.data?{data:Jn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){i=new ym(this.manager),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],o=i.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],i=await r(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new cd(i.data,i.width,i.height)))}n[i.uuid]=new gi(e)}else{const e=await r(i.url);n[i.uuid]=new gi(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const i={};if(void 0!==e)for(let r=0,o=e.length;r<o;r++){const o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const s=t[o.image],a=s.data;let l;Array.isArray(a)?(l=new Go,6===a.length&&(l.needsUpdate=!0)):(l=a&&a.data?new cd:new vi,a&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Wm)),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],$m),l.wrapT=n(o.wrap[1],$m)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,Xm)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,Xm)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),i[o.uuid]=l}return i}parseObject(e,t,n,i,r){let o,s,a;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":o=new Rh,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new Vr(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Ih(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new Ph(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new zo(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Gl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Bm(e.color,e.intensity);break;case"DirectionalLight":o=new Nm(e.color,e.intensity);break;case"PointLight":o=new Dm(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Fm(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Om(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new xm(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new Um).fromJSON(e);break;case"SkinnedMesh":s=l(e.geometry),a=c(e.material),o=new ad(s,a),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":s=l(e.geometry),a=c(e.material),o=new Co(s,a);break;case"InstancedMesh":s=l(e.geometry),a=c(e.material);const t=e.count,n=e.instanceMatrix,i=e.instanceColor;o=new vd(s,a,t),o.instanceMatrix=new fd(new Float32Array(n.array),16),void 0!==i&&(o.instanceColor=new fd(new Float32Array(i.array),i.itemSize));break;case"LOD":o=new td;break;case"Line":o=new Ed(l(e.geometry),c(e.material));break;case"LineLoop":o=new kd(l(e.geometry),c(e.material));break;case"LineSegments":o=new Od(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new Nd(l(e.geometry),c(e.material));break;case"Sprite":o=new Qh(c(e.material));break;case"Group":o=new _h;break;case"Bone":o=new ld;break;default:o=new Tr}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const s=e.children;for(let e=0;e<s.length;e++)o.add(this.parseObject(s[e],t,n,i,r))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(r[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=o.getObjectByProperty("uuid",n.object);void 0!==i&&o.addLevel(i,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const Wm={UVMapping:ie,CubeReflectionMapping:re,CubeRefractionMapping:oe,EquirectangularReflectionMapping:se,EquirectangularRefractionMapping:ae,CubeUVReflectionMapping:le},$m={RepeatWrapping:ce,ClampToEdgeWrapping:ue,MirroredRepeatWrapping:he},Xm={NearestFilter:de,NearestMipmapNearestFilter:fe,NearestMipmapLinearFilter:me,LinearFilter:Ae,LinearMipmapNearestFilter:ye,LinearMipmapLinearFilter:be};class Ym extends dm{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=cm.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){cm.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}let Km;class Qm{static getContext(){return void 0===Km&&(Km=new(window.AudioContext||window.webkitAudioContext)),Km}static setContext(e){Km=e}}class Jm extends dm{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new mm(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{const e=n.slice(0),i=Qm.getContext();i.decodeAudioData(e,(function(e){t(e)}))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}}class Zm extends Um{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const i=(new Vr).set(e),r=(new Vr).set(t),o=new ti(i.r,i.g,i.b),s=new ti(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(l)}}class eg extends Um{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=(new Vr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const tg=new er,ng=new er,ig=new er;class rg{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache,n=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(n){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ig.copy(e.projectionMatrix);const n=t.eyeSep/2,i=n*t.near/t.focus,r=t.near*Math.tan(wn*t.fov*.5)/t.zoom;let o,s;ng.elements[12]=-n,tg.elements[12]=n,o=-r*t.aspect+i,s=r*t.aspect+i,ig.elements[0]=2*t.near/(s-o),ig.elements[8]=(s+o)/(s-o),this.cameraL.projectionMatrix.copy(ig),o=-r*t.aspect-i,s=r*t.aspect-i,ig.elements[0]=2*t.near/(s-o),ig.elements[8]=(s+o)/(s-o),this.cameraR.projectionMatrix.copy(ig)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ng),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tg)}}class og{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sg(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=sg();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function sg(){return("undefined"===typeof performance?Date:performance).now()}const ag=new ti,lg=new ei,cg=new ti,ug=new ti;class hg extends Tr{constructor(){super(),this.type="AudioListener",this.context=Qm.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new og}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ag,lg,cg),ug.set(0,0,-1).applyQuaternion(lg),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ag.x,e),t.positionY.linearRampToValueAtTime(ag.y,e),t.positionZ.linearRampToValueAtTime(ag.z,e),t.forwardX.linearRampToValueAtTime(ug.x,e),t.forwardY.linearRampToValueAtTime(ug.y,e),t.forwardZ.linearRampToValueAtTime(ug.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(ag.x,ag.y,ag.z),t.setOrientation(ug.x,ug.y,ug.z,n.x,n.y,n.z)}}class dg extends Tr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const fg=new ti,pg=new ei,mg=new ti,gg=new ti;class Ag extends dg{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(fg,pg,mg),gg.set(0,0,1).applyQuaternion(pg);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(fg.x,e),t.positionY.linearRampToValueAtTime(fg.y,e),t.positionZ.linearRampToValueAtTime(fg.z,e),t.orientationX.linearRampToValueAtTime(gg.x,e),t.orientationY.linearRampToValueAtTime(gg.y,e),t.orientationZ.linearRampToValueAtTime(gg.z,e)}else t.setPosition(fg.x,fg.y,fg.z),t.setOrientation(gg.x,gg.y,gg.z)}}class yg{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class vg{constructor(e,t,n){let i,r,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==i;++e)n[r+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){ei.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const o=this._workIndex*r;ei.multiplyQuaternionsFlat(e,o,e,t,e,n),ei.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=t+s;e[r]=e[r]*o+e[n+s]*i}}_lerpAdditive(e,t,n,i,r){for(let o=0;o!==r;++o){const r=t+o;e[r]=e[r]+e[n+o]*i}}}const bg="\\[\\]\\.:\\/",_g=new RegExp("["+bg+"]","g"),wg="[^"+bg+"]",xg="[^"+bg.replace("\\.","")+"]",Sg=/((?:WC+[\/:])*)/.source.replace("WC",wg),Tg=/(WCOD+)?/.source.replace("WCOD",xg),Eg=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wg),Mg=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wg),Cg=new RegExp("^"+Sg+Tg+Eg+Mg+"$"),Og=["material","materials","bones","map"];class kg{constructor(e,t,n){const i=n||Pg.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Pg{constructor(e,t,n){this.path=t,this.parsedPath=n||Pg.parseTrackName(t),this.node=Pg.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Pg.Composite(e,t,n):new Pg(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_g,"")}static parseTrackName(e){const t=Cg.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==Og.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const o=n(r.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Pg.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const o=e[i];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pg.Composite=kg,Pg.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Pg.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Pg.prototype.GetterByBindingType=[Pg.prototype._getValue_direct,Pg.prototype._getValue_array,Pg.prototype._getValue_arrayElement,Pg.prototype._getValue_toArray],Pg.prototype.SetterByBindingTypeAndVersioning=[[Pg.prototype._setValue_direct,Pg.prototype._setValue_direct_setNeedsUpdate,Pg.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pg.prototype._setValue_array,Pg.prototype._setValue_array_setNeedsUpdate,Pg.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pg.prototype._setValue_arrayElement,Pg.prototype._setValue_arrayElement_setNeedsUpdate,Pg.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pg.prototype._setValue_fromArray,Pg.prototype._setValue_fromArray_setNeedsUpdate,Pg.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ig{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Sn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s=void 0,a=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=a++,t[h]=d,e.push(u);for(let e=0,t=o;e!==t;++e)r[e].push(new Pg(u,n[e],i[e]))}else if(d<l){s=e[d];const a=--l,c=e[a];t[c.uuid]=d,e[d]=c,t[h]=a,e[a]=u;for(let e=0,t=o;e!==t;++e){const t=r[e],o=t[a];let s=t[d];t[d]=o,void 0===s&&(s=new Pg(u,n[e],i[e])),t[a]=s}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,l=t[a];if(void 0!==l&&l>=r){const o=r++,c=e[o];t[c.uuid]=l,e[l]=c,t[a]=o,e[o]=s;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[o],r=t[l];t[l]=i,t[o]=r}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],l=a.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<r){const s=--r,a=e[s],l=--o,u=e[l];t[a.uuid]=c,e[c]=a,t[u.uuid]=s,e[s]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[s],r=t[l];t[c]=i,t[s]=r,t.pop()}}else{const r=--o,s=e[r];r>0&&(t[s.uuid]=c),e[c]=s,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[c]=t[r],t.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,o.push(e),s.push(t),r.push(u);for(let h=c,d=a.length;h!==d;++h){const n=a[h];u[h]=new Pg(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],l=e[s];t[l]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}}class Rg{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,o=r.length,s=new Array(o),a={endingStart:Et,endingEnd:Et};for(let l=0;l!==o;++l){const e=r[l].createInterpolant(null);s[l]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=_t,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,i=e._clip.duration,r=i/n,o=n/i;e.warp(1,r,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case kt:for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulateAdditive(s);break;case Ot:default:for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const o=n===wt;if(0===e)return-1===r?i:o&&1===(1&r)?t-i:i;if(n===bt){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1===(1&r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Mt,i.endingEnd=Mt):(i.endingStart=e?this.zeroSlopeAtStart?Mt:Et:Ct,i.endingEnd=t?this.zeroSlopeAtEnd?Mt:Et:Ct)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}}const Dg=new Float32Array(1);class Lg extends vn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==r;++u){const e=i[u],r=e.name;let l=c[r];if(void 0!==l)++l.referenceCount,o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,r));continue}const i=t&&t._propertyBindings[u].binding.parsedPath;l=new vg(Pg.create(n,r,i),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,r),o[u]=l}s[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;const u=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[t];void 0===o&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Kp(new Float32Array(2),new Float32Array(2),1,Dg),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let o="string"===typeof e?sm.findByName(i,e):e;const s=null!==o?o.uuid:e,a=this._actionsByClip[s];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:Ot),void 0!==a){const e=a.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Rg(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c}existingAction(e,t){const n=t||this._root,i=n.uuid,r="string"===typeof e?sm.findByName(n,e):e,o=r?r.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){const n=t[l];n._update(i,e,r,o)}const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,o=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,t[r]=o,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const e=n[o].actionByRoot,i=e[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName,r=i[t];if(void 0!==r)for(const o in r){const e=r[o];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Ng{constructor(e){this.value=e}clone(){return new Ng(void 0===this.value.clone?this.value:this.value.clone())}}let Bg=0;class Fg extends vn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Bg++}),this.name="",this.usage=an,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++)this.uniforms.push(t[n].clone());return this}clone(){return(new this.constructor).copy(this)}}class jg extends Dh{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Ug{constructor(e,t,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class zg{constructor(e,t,n=0,i=1/0){this.ray=new Zi(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new hr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return Vg(e,this,n,t),n.sort(qg),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)Vg(e[i],this,n,t);return n.sort(qg),n}}function qg(e,t){return e.distance-t.distance}function Vg(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)Vg(i[e],t,n,!0)}}class Hg{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Tn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Gg{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const Wg=new $n;class $g{constructor(e=new $n(1/0,1/0),t=new $n(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Wg.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Wg).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xg=new ti,Yg=new ti;class Kg{constructor(e=new ti,t=new ti){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Xg.subVectors(e,this.start),Yg.subVectors(this.end,this.start);const n=Yg.dot(Yg),i=Yg.dot(Xg);let r=i/n;return t&&(r=Tn(r,0,1)),r}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Qg=new ti;class Jg extends Tr{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new fo,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const e=o/a*Math.PI*2,t=s/a*Math.PI*2;i.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new io(i,3));const r=new bd({fog:!1,toneMapped:!1});this.cone=new Od(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Qg.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Qg),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Zg=new ti,eA=new er,tA=new er;class nA extends Od{constructor(e){const t=iA(e),n=new fo,i=[],r=[],o=new Vr(0,0,1),s=new Vr(0,1,0);for(let l=0;l<t.length;l++){const e=t[l];e.parent&&e.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new io(i,3)),n.setAttribute("color",new io(r,3));const a=new bd({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");tA.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const e=t[r];e.parent&&e.parent.isBone&&(eA.multiplyMatrices(tA,e.matrixWorld),Zg.setFromMatrixPosition(eA),i.setXYZ(o,Zg.x,Zg.y,Zg.z),eA.multiplyMatrices(tA,e.parent.matrixWorld),Zg.setFromMatrixPosition(eA),i.setXYZ(o+1,Zg.x,Zg.y,Zg.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function iA(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,iA(e.children[n]));return t}class rA extends Co{constructor(e,t,n){const i=new _p(t,4,2),r=new Gr({wireframe:!0,fog:!1,toneMapped:!1});super(i,r),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oA=new ti,sA=new Vr,aA=new Vr;class lA extends Tr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new Ap(t);i.rotateY(.5*Math.PI),this.material=new Gr({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.setAttribute("color",new Xr(o,3)),this.add(new Co(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");sA.copy(this.light.color),aA.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const i=e<n/2?sA:aA;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oA.setFromMatrixPosition(this.light.matrixWorld).negate())}}class cA extends Od{constructor(e=10,t=10,n=4473924,i=8947848){n=new Vr(n),i=new Vr(i);const r=t/2,o=e/t,s=e/2,a=[],l=[];for(let h=0,d=0,f=-s;h<=t;h++,f+=o){a.push(-s,0,f,s,0,f),a.push(f,0,-s,f,0,s);const e=h===r?n:i;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new fo;c.setAttribute("position",new io(a,3)),c.setAttribute("color",new io(l,3));const u=new bd({vertexColors:!0,toneMapped:!1});super(c,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class uA extends Od{constructor(e=10,t=16,n=8,i=64,r=4473924,o=8947848){r=new Vr(r),o=new Vr(o);const s=[],a=[];if(t>1)for(let u=0;u<t;u++){const n=u/t*(2*Math.PI),i=Math.sin(n)*e,l=Math.cos(n)*e;s.push(0,0,0),s.push(i,0,l);const c=1&u?r:o;a.push(c.r,c.g,c.b),a.push(c.r,c.g,c.b)}for(let u=0;u<n;u++){const t=1&u?r:o,l=e-e/n*u;for(let e=0;e<i;e++){let n=e/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l;s.push(r,0,o),a.push(t.r,t.g,t.b),n=(e+1)/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l,s.push(r,0,o),a.push(t.r,t.g,t.b)}}const l=new fo;l.setAttribute("position",new io(s,3)),l.setAttribute("color",new io(a,3));const c=new bd({vertexColors:!0,toneMapped:!1});super(l,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const hA=new ti,dA=new ti,fA=new ti;class pA extends Tr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new fo;i.setAttribute("position",new io([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new bd({fog:!1,toneMapped:!1});this.lightPlane=new Ed(i,r),this.add(this.lightPlane),i=new fo,i.setAttribute("position",new io([0,0,0,0,0,1],3)),this.targetLine=new Ed(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),hA.setFromMatrixPosition(this.light.matrixWorld),dA.setFromMatrixPosition(this.light.target.matrixWorld),fA.subVectors(dA,hA),this.lightPlane.lookAt(dA),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(dA),this.targetLine.scale.z=fA.length()}}const mA=new ti,gA=new Uo;class AA extends Od{constructor(e){const t=new fo,n=new bd({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={};function s(e,t){a(e),a(t)}function a(e){i.push(0,0,0),r.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(i.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new io(i,3)),t.setAttribute("color",new io(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new Vr(16755200),c=new Vr(16711680),u=new Vr(43775),h=new Vr(16777215),d=new Vr(3355443);this.setColors(l,c,u,h,d)}setColors(e,t,n,i,r){const o=this.geometry,s=o.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,r.r,r.g,r.b),s.setXYZ(41,r.r,r.g,r.b),s.setXYZ(42,r.r,r.g,r.b),s.setXYZ(43,r.r,r.g,r.b),s.setXYZ(44,r.r,r.g,r.b),s.setXYZ(45,r.r,r.g,r.b),s.setXYZ(46,r.r,r.g,r.b),s.setXYZ(47,r.r,r.g,r.b),s.setXYZ(48,r.r,r.g,r.b),s.setXYZ(49,r.r,r.g,r.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;gA.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),yA("c",t,e,gA,0,0,-1),yA("t",t,e,gA,0,0,1),yA("n1",t,e,gA,-n,-i,-1),yA("n2",t,e,gA,n,-i,-1),yA("n3",t,e,gA,-n,i,-1),yA("n4",t,e,gA,n,i,-1),yA("f1",t,e,gA,-n,-i,1),yA("f2",t,e,gA,n,-i,1),yA("f3",t,e,gA,-n,i,1),yA("f4",t,e,gA,n,i,1),yA("u1",t,e,gA,.7*n,1.1*i,-1),yA("u2",t,e,gA,.7*-n,1.1*i,-1),yA("u3",t,e,gA,0,2*i,-1),yA("cf1",t,e,gA,-n,0,1),yA("cf2",t,e,gA,n,0,1),yA("cf3",t,e,gA,0,-i,1),yA("cf4",t,e,gA,0,i,1),yA("cn1",t,e,gA,-n,0,-1),yA("cn2",t,e,gA,n,0,-1),yA("cn3",t,e,gA,0,-i,-1),yA("cn4",t,e,gA,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yA(e,t,n,i,r,o,s){mA.set(r,o,s).unproject(i);const a=t[e];if(void 0!==a){const e=n.getAttribute("position");for(let t=0,n=a.length;t<n;t++)e.setXYZ(a[t],mA.x,mA.y,mA.z)}}const vA=new Mi;class bA extends Od{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new fo;r.setIndex(new Xr(n,1)),r.setAttribute("position",new Xr(i,3)),super(r,new bd({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&vA.setFromObject(this.object),vA.isEmpty())return;const t=vA.min,n=vA.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _A extends Od{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new fo;r.setIndex(new Xr(n,1)),r.setAttribute("position",new io(i,3)),super(r,new bd({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wA extends Ed{constructor(e,t=1,n=16776960){const i=n,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new fo;o.setAttribute("position",new io(r,3)),o.computeBoundingSphere(),super(o,new bd({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new fo;a.setAttribute("position",new io(s,3)),a.computeBoundingSphere(),this.add(new Co(a,new Gr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xA=new ti;let SA,TA;class EA extends Tr{constructor(e=new ti(0,0,1),t=new ti(0,0,0),n=1,i=16776960,r=.2*n,o=.2*r){super(),this.type="ArrowHelper",void 0===SA&&(SA=new fo,SA.setAttribute("position",new io([0,0,0,0,1,0],3)),TA=new wf(0,.5,1,5,1),TA.translate(0,-.5,0)),this.position.copy(t),this.line=new Ed(SA,new bd({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Co(TA,new Gr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xA,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class MA extends Od{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new fo;i.setAttribute("position",new io(t,3)),i.setAttribute("color",new io(n,3));const r=new bd({vertexColors:!0,toneMapped:!1});super(i,r),this.type="AxesHelper"}setColors(e,t,n){const i=new Vr,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class CA{constructor(){this.type="ShapePath",this.color=new Vr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new yf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,o){return this.currentPath.bezierCurveTo(e,t,n,i,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new Pf;r.curves=i.curves,t.push(r)}return t}function n(e,t){const n=t.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=t[r],s=t[o],a=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],a=-a,s=t[r],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-a*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return i}const i=up.isClockWise,r=this.subPaths;if(0===r.length)return[];let o,s,a;const l=[];if(1===r.length)return s=r[0],a=new Pf,a.curves=s.curves,l.push(a),l;let c=!i(r[0].getPoints());c=e?!c:c;const u=[],h=[];let d,f,p=[],m=0;h[m]=void 0,p[m]=[];for(let g=0,A=r.length;g<A;g++)s=r[g],d=s.getPoints(),o=i(d),o=e?!o:o,o?(!c&&h[m]&&m++,h[m]={s:new Pf,p:d},h[m].s.curves=s.curves,c&&m++,p[m]=[]):p[m].push({h:s,p:d[0]});if(!h[0])return t(r);if(h.length>1){let e=!1,t=0;for(let n=0,i=h.length;n<i;n++)u[n]=[];for(let i=0,r=h.length;i<r;i++){const r=p[i];for(let o=0;o<r.length;o++){const s=r[o];let a=!0;for(let r=0;r<h.length;r++)n(s.p,h[r].p)&&(i!==r&&t++,a?(a=!1,u[r].push(s)):e=!0);a&&u[i].push(s)}}t>0&&!1===e&&(p=u)}for(let g=0,A=h.length;g<A;g++){a=h[g].s,l.push(a),f=p[g];for(let e=0,t=f.length;e<t;e++)a.holes.push(f[e].h)}return l}}const OA=kA();function kA(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):e<-14?(i[l]=1024>>-e-14,i[256|l]=1024>>-e-14|32768,r[l]=-e-1,r[256|l]=-e-1):e<=15?(i[l]=e+15<<10,i[256|l]=e+15<<10|32768,r[l]=13,r[256|l]=13):e<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;while(0===(8388608&e))e<<=1,t-=8388608;e&=-8388609,t+=947912704,o[l]=e|t}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}function PA(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Tn(e,-65504,65504),OA.floatView[0]=e;const t=OA.uint32View[0],n=t>>23&511;return OA.baseTable[n]+((8388607&t)>>OA.shiftTable[n])}function IA(e){const t=e>>10;return OA.uint32View[0]=OA.mantissaTable[OA.offsetTable[t]+(1023&e)]+OA.exponentTable[t],OA.floatView[0]}const RA={toHalfFloat:PA,fromHalfFloat:IA};class DA extends Po{constructor(e,t,n,i,r,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,i,r,o)}}class LA extends bf{constructor(e,t,n,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,i)}}class NA extends _f{constructor(e,t,n,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,i)}}class BA extends xf{constructor(e,t,n,i,r,o,s){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,i,r,o,s)}}class FA extends wf{constructor(e,t,n,i,r,o,s,a){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,i,r,o,s,a)}}class jA extends Tf{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class UA extends fp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class zA extends gp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class qA extends vf{constructor(e,t,n,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,i)}}class VA extends Ap{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class HA extends ns{constructor(e,t,n,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,i)}}class GA extends Sf{constructor(e,t,n,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,i)}}class WA extends yp{constructor(e,t,n,i,r,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,i,r,o)}}class $A extends vp{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class XA extends _p{constructor(e,t,n,i,r,o,s){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,i,r,o,s)}}class YA extends wp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class KA extends xp{constructor(e,t,n,i,r){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,i,r)}}class QA extends Sp{constructor(e,t,n,i,r,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,i,r,o)}}class JA extends Tp{constructor(e,t,n,i,r){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,i,r)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:i}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=i)},"5c40":function(e,t,n){"use strict";n.d(t,"a",(function(){return Se})),n.d(t,"b",(function(){return Mn})),n.d(t,"d",(function(){return Tn})),n.d(t,"e",(function(){return Be})),n.d(t,"g",(function(){return Cn})),n.d(t,"h",(function(){return ee})),n.d(t,"i",(function(){return xn})),n.d(t,"j",(function(){return En})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return a})),n.d(t,"p",(function(){return Yn})),n.d(t,"q",(function(){return $i})),n.d(t,"r",(function(){return Ei})),n.d(t,"s",(function(){return Fn})),n.d(t,"t",(function(){return Jn})),n.d(t,"u",(function(){return Bn})),n.d(t,"v",(function(){return Gn})),n.d(t,"w",(function(){return hn})),n.d(t,"x",(function(){return Li})),n.d(t,"y",(function(){return un})),n.d(t,"z",(function(){return pt})),n.d(t,"A",(function(){return Qn})),n.d(t,"B",(function(){return Kn})),n.d(t,"C",(function(){return Wn})),n.d(t,"E",(function(){return Re})),n.d(t,"F",(function(){return Pe})),n.d(t,"G",(function(){return Ci})),n.d(t,"H",(function(){return Oi})),n.d(t,"I",(function(){return Mi})),n.d(t,"J",(function(){return P})),n.d(t,"M",(function(){return li})),n.d(t,"O",(function(){return ke})),n.d(t,"P",(function(){return Xn})),n.d(t,"Q",(function(){return Bi})),n.d(t,"R",(function(){return c})),n.d(t,"S",(function(){return Ui})),n.d(t,"T",(function(){return he})),n.d(t,"U",(function(){return qi})),n.d(t,"Z",(function(){return vi})),n.d(t,"bb",(function(){return jn})),n.d(t,"db",(function(){return Di})),n.d(t,"eb",(function(){return ni})),n.d(t,"fb",(function(){return b})),n.d(t,"jb",(function(){return je})),n.d(t,"kb",(function(){return $e})),n.d(t,"lb",(function(){return Qe})),n.d(t,"mb",(function(){return Ye})),n.d(t,"nb",(function(){return Ue})),n.d(t,"ob",(function(){return nt})),n.d(t,"pb",(function(){return Xe})),n.d(t,"qb",(function(){return tt})),n.d(t,"rb",(function(){return et})),n.d(t,"tb",(function(){return Ze})),n.d(t,"ub",(function(){return Je})),n.d(t,"vb",(function(){return Ke})),n.d(t,"wb",(function(){return Pn})),n.d(t,"xb",(function(){return q})),n.d(t,"yb",(function(){return ue})),n.d(t,"Ab",(function(){return z})),n.d(t,"Bb",(function(){return T})),n.d(t,"Fb",(function(){return yi})),n.d(t,"Gb",(function(){return ft})),n.d(t,"Hb",(function(){return mt})),n.d(t,"Ib",(function(){return at})),n.d(t,"Jb",(function(){return ut})),n.d(t,"Kb",(function(){return ct})),n.d(t,"Lb",(function(){return Wi})),n.d(t,"Mb",(function(){return Ee})),n.d(t,"Nb",(function(){return Ln})),n.d(t,"Ob",(function(){return D})),n.d(t,"Pb",(function(){return Oe})),n.d(t,"Tb",(function(){return Fi})),n.d(t,"Ub",(function(){return Gi})),n.d(t,"Yb",(function(){return At})),n.d(t,"cc",(function(){return zn})),n.d(t,"fc",(function(){return Ii})),n.d(t,"gc",(function(){return ji})),n.d(t,"hc",(function(){return Pi})),n.d(t,"ic",(function(){return _e})),n.d(t,"jc",(function(){return Vi})),n.d(t,"kc",(function(){return o})),n.d(t,"lc",(function(){return ge})),n.d(t,"mc",(function(){return de})),n.d(t,"nc",(function(){return fe})),n.d(t,"oc",(function(){return pe})),n.d(t,"pc",(function(){return Ni})),n.d(t,"qc",(function(){return H})),n.d(t,"rc",(function(){return ki})),n.d(t,"sc",(function(){return it})),n.d(t,"tc",(function(){return zi})),n.d(t,"uc",(function(){return V}));var i=n("a1e9");n.d(t,"c",(function(){return i["a"]})),n.d(t,"f",(function(){return i["b"]})),n.d(t,"D",(function(){return i["d"]})),n.d(t,"K",(function(){return i["e"]})),n.d(t,"L",(function(){return i["f"]})),n.d(t,"N",(function(){return i["g"]})),n.d(t,"V",(function(){return i["h"]})),n.d(t,"W",(function(){return i["i"]})),n.d(t,"X",(function(){return i["j"]})),n.d(t,"Y",(function(){return i["k"]})),n.d(t,"ab",(function(){return i["l"]})),n.d(t,"cb",(function(){return i["m"]})),n.d(t,"sb",(function(){return i["n"]})),n.d(t,"zb",(function(){return i["p"]})),n.d(t,"Cb",(function(){return i["q"]})),n.d(t,"Db",(function(){return i["r"]})),n.d(t,"Eb",(function(){return i["s"]})),n.d(t,"Qb",(function(){return i["u"]})),n.d(t,"Rb",(function(){return i["v"]})),n.d(t,"Sb",(function(){return i["w"]})),n.d(t,"Vb",(function(){return i["x"]})),n.d(t,"Zb",(function(){return i["y"]})),n.d(t,"ac",(function(){return i["z"]})),n.d(t,"bc",(function(){return i["A"]})),n.d(t,"dc",(function(){return i["D"]})),n.d(t,"ec",(function(){return i["E"]}));var r=n("9ff4");n.d(t,"n",(function(){return r["e"]})),n.d(t,"o",(function(){return r["f"]})),n.d(t,"gb",(function(){return r["L"]})),n.d(t,"hb",(function(){return r["M"]})),n.d(t,"ib",(function(){return r["N"]})),n.d(t,"Wb",(function(){return r["P"]})),n.d(t,"Xb",(function(){return r["Q"]}));function o(e,...t){}function s(e,t){}function a(e,t,n,i){let r;try{r=i?e(...i):e()}catch(o){c(o,t,n)}return r}function l(e,t,n,i){if(Object(r["q"])(e)){const o=a(e,t,n,i);return o&&Object(r["z"])(o)&&o.catch(e=>{c(e,t,n)}),o}const o=[];for(let r=0;r<e.length;r++)o.push(l(e[r],t,n,i));return o}function c(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,o=n;while(i){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,o))return;i=i.parent}const s=t.appContext.config.errorHandler;if(s)return void a(s,null,10,[e,r,o])}u(e,n,r,i)}function u(e,t,n,i=!0){console.error(e)}let h=!1,d=!1;const f=[];let p=0;const m=[];let g=null,A=0;const y=Promise.resolve();let v=null;function b(e){const t=v||y;return e?t.then(this?e.bind(this):e):t}function _(e){let t=p+1,n=f.length;while(t<n){const i=t+n>>>1,r=C(f[i]);r<e?t=i+1:n=i}return t}function w(e){f.length&&f.includes(e,h&&e.allowRecurse?p+1:p)||(null==e.id?f.push(e):f.splice(_(e.id),0,e),x())}function x(){h||d||(d=!0,v=y.then(k))}function S(e){const t=f.indexOf(e);t>p&&f.splice(t,1)}function T(e){Object(r["o"])(e)?m.push(...e):g&&g.includes(e,e.allowRecurse?A+1:A)||m.push(e),x()}function E(e,t=(h?p+1:0)){for(0;t<f.length;t++){const e=f[t];e&&e.pre&&(f.splice(t,1),t--,e())}}function M(e){if(m.length){const e=[...new Set(m)];if(m.length=0,g)return void g.push(...e);for(g=e,g.sort((e,t)=>C(e)-C(t)),A=0;A<g.length;A++)g[A]();g=null,A=0}}const C=e=>null==e.id?1/0:e.id,O=(e,t)=>{const n=C(e)-C(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function k(e){d=!1,h=!0,f.sort(O);r["d"];try{for(p=0;p<f.length;p++){const e=f[p];e&&!1!==e.active&&a(e,null,14)}}finally{p=0,f.length=0,M(e),h=!1,v=null,(f.length||m.length)&&k(e)}}new Set;new Map;let P,I=[],R=!1;function D(e,t){var n,i;if(P=e,P)P.enabled=!0,I.forEach(({event:e,args:t})=>P.emit(e,...t)),I=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(i=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.includes("jsdom"))){const e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push(e=>{D(e,t)}),setTimeout(()=>{P||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,R=!0,I=[])},3e3)}else R=!0,I=[]}function L(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r["b"];let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const e=("modelValue"===a?"model":a)+"Modifiers",{number:t,trim:s}=i[e]||r["b"];s&&(o=n.map(e=>Object(r["F"])(e)?e.trim():e)),t&&(o=n.map(r["J"]))}let c;let u=i[c=Object(r["Q"])(t)]||i[c=Object(r["Q"])(Object(r["e"])(t))];!u&&s&&(u=i[c=Object(r["Q"])(Object(r["l"])(t))]),u&&l(u,e,6,o);const h=i[c+"Once"];if(h){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,l(h,e,6,o)}}function N(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(void 0!==o)return o;const s=e.emits;let a={},l=!1;if(!Object(r["q"])(e)){const i=e=>{const n=N(e,t,!0);n&&(l=!0,Object(r["h"])(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||l?(Object(r["o"])(s)?s.forEach(e=>a[e]=null):Object(r["h"])(a,s),Object(r["w"])(e)&&i.set(e,a),a):(Object(r["w"])(e)&&i.set(e,null),null)}function B(e,t){return!(!e||!Object(r["x"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(r["k"])(e,t[0].toLowerCase()+t.slice(1))||Object(r["k"])(e,Object(r["l"])(t))||Object(r["k"])(e,t))}let F=null,j=null;function U(e){const t=F;return F=e,j=e&&e.type.__scopeId||null,t}function z(e){j=e}function q(){j=null}const V=e=>H;function H(e,t=F,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Ln(-1);const r=U(t);let o;try{o=e(...n)}finally{U(r),i._d&&Ln(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function G(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:u,emit:h,render:d,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:A}=e;let y,v;const b=U(e);try{if(4&n.shapeFlag){const e=o||i;y=Zn(d.call(e,e,f,s,m,p,g)),v=u}else{const e=t;0,y=Zn(e.length>1?e(s,{attrs:u,slots:l,emit:h}):e(s,null)),v=t.props?u:$(u)}}catch(w){On.length=0,c(w,e,1),y=Wn(Mn)}let _=y;if(v&&!1!==A){const e=Object.keys(v),{shapeFlag:t}=_;e.length&&7&t&&(a&&e.some(r["v"])&&(v=X(v,a)),_=Yn(_,v))}return n.dirs&&(_=Yn(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,U(b),y}function W(e){let t;for(let n=0;n<e.length;n++){const i=e[n];if(!jn(i))return;if(i.type!==Mn||"v-if"===i.children){if(t)return;t=i}}return t}const $=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(r["x"])(n))&&((t||(t={}))[n]=e[n]);return t},X=(e,t)=>{const n={};for(const i in e)Object(r["v"])(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function Y(e,t,n){const{props:i,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||K(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?K(i,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==i[n]&&!B(c,n))return!0}}return!1}function K(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!B(n,o))return!0}return!1}function Q({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const J=e=>e.__isSuspense,Z={name:"Suspense",__isSuspense:!0,process(e,t,n,i,r,o,s,a,l,c){null==e?ne(t,n,i,r,o,s,a,l,c):ie(e,t,n,i,r,s,a,l,c)},hydrate:oe,create:re,normalize:se},ee=Z;function te(e,t){const n=e.props&&e.props[t];Object(r["q"])(n)&&n()}function ne(e,t,n,i,r,o,s,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),d=e.suspense=re(e,r,i,t,h,n,o,s,a,l);c(null,d.pendingBranch=e.ssContent,h,null,i,d,o,s),d.deps>0?(te(e,"onPending"),te(e,"onFallback"),c(null,e.ssFallback,t,n,i,null,o,s),ce(d,e.ssFallback)):d.resolve()}function ie(e,t,n,i,r,o,s,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:A}=h;if(m)h.pendingBranch=d,Un(d,m)?(l(m,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0?h.resolve():g&&(l(p,f,n,i,r,null,o,s,a),ce(h,f))):(h.pendingId++,A?(h.isHydrating=!1,h.activeBranch=m):c(m,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),g?(l(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0?h.resolve():(l(p,f,n,i,r,null,o,s,a),ce(h,f))):p&&Un(d,p)?(l(p,d,n,i,r,h,o,s,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0&&h.resolve()));else if(p&&Un(d,p))l(p,d,n,i,r,h,o,s,a),ce(h,d);else if(te(t,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout(()=>{h.pendingId===t&&h.fallback(f)},e):0===e&&h.fallback(f)}}function re(e,t,n,i,o,s,a,l,u,h,d=!1){const{p:f,m:p,um:m,n:g,o:{parentNode:A,remove:y}}=h,v=e.props?Object(r["R"])(e.props.timeout):void 0;const b={vnode:e,parent:t,parentComponent:n,isSVG:a,container:i,hiddenContainer:o,anchor:s,deps:0,pendingId:0,timeout:"number"===typeof v?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:i,pendingId:r,effects:o,parentComponent:s,container:a}=b;if(b.isHydrating)b.isHydrating=!1;else if(!e){const e=n&&i.transition&&"out-in"===i.transition.mode;e&&(n.transition.afterLeave=()=>{r===b.pendingId&&p(i,a,t,0)});let{anchor:t}=b;n&&(t=g(n),m(n,s,b,!0)),e||p(i,a,t,0)}ce(b,i),b.pendingBranch=null,b.isInFallback=!1;let l=b.parent,c=!1;while(l){if(l.pendingBranch){l.effects.push(...o),c=!0;break}l=l.parent}c||T(o),b.effects=[],te(t,"onResolve")},fallback(e){if(!b.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:i,container:r,isSVG:o}=b;te(t,"onFallback");const s=g(n),a=()=>{b.isInFallback&&(f(null,e,r,s,i,null,o,l,u),ce(b,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(n.transition.afterLeave=a),b.isInFallback=!0,m(n,i,null,!0),c||a()},move(e,t,n){b.activeBranch&&p(b.activeBranch,e,t,n),b.container=e},next(){return b.activeBranch&&g(b.activeBranch)},registerDep(e,t){const n=!!b.pendingBranch;n&&b.deps++;const i=e.vnode.el;e.asyncDep.catch(t=>{c(t,e,0)}).then(r=>{if(e.isUnmounted||b.isUnmounted||b.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:o}=e;Ai(e,r,!1),i&&(o.el=i);const s=!i&&e.subTree.el;t(e,o,A(i||e.subTree.el),i?null:g(e.subTree),b,a,u),s&&y(s),Q(e,o.el),n&&0===--b.deps&&b.resolve()})},unmount(e,t){b.isUnmounted=!0,b.activeBranch&&m(b.activeBranch,n,e,t),b.pendingBranch&&m(b.pendingBranch,n,e,t)}};return b}function oe(e,t,n,i,r,o,s,a,l){const c=t.suspense=re(t,i,n,e.parentNode,document.createElement("div"),null,r,o,s,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,o,s);return 0===c.deps&&c.resolve(),u}function se(e){const{shapeFlag:t,children:n}=e,i=32&t;e.ssContent=ae(i?n.default:n),e.ssFallback=i?ae(n.fallback):Wn(Mn)}function ae(e){let t;if(Object(r["q"])(e)){const n=Dn&&e._c;n&&(e._d=!1,Pn()),e=e(),n&&(e._d=!0,t=kn,In())}if(Object(r["o"])(e)){const t=W(e);0,e=t}return e=Zn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function le(e,t){t&&t.pendingBranch?Object(r["o"])(e)?t.effects.push(...e):t.effects.push(e):T(e)}function ce(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e,r=n.el=t.el;i&&i.subTree===n&&(i.vnode.el=r,Q(i,r))}function ue(e,t){if(ai){let n=ai.provides;const i=ai.parent&&ai.parent.provides;i===n&&(n=ai.provides=Object.create(i)),n[e]=t}else 0}function he(e,t,n=!1){const i=ai||F;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Object(r["q"])(t)?t.call(i.proxy):t}else 0}function de(e,t){return Ae(e,null,t)}function fe(e,t){return Ae(e,null,{flush:"post"})}function pe(e,t){return Ae(e,null,{flush:"sync"})}const me={};function ge(e,t,n){return Ae(e,t,n)}function Ae(e,t,{immediate:n,deep:o,flush:s,onTrack:c,onTrigger:u}=r["b"]){const h=Object(i["g"])()===(null===ai||void 0===ai?void 0:ai.scope)?ai:null;let d,f,p=!1,m=!1;if(Object(i["k"])(e)?(d=()=>e.value,p=Object(i["l"])(e)):Object(i["i"])(e)?(d=()=>e,o=!0):Object(r["o"])(e)?(m=!0,p=e.some(e=>Object(i["i"])(e)||Object(i["l"])(e)),d=()=>e.map(e=>Object(i["k"])(e)?e.value:Object(i["i"])(e)?be(e):Object(r["q"])(e)?a(e,h,2):void 0)):d=Object(r["q"])(e)?t?()=>a(e,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),l(e,h,3,[A])}:r["d"],t&&o){const e=d;d=()=>be(e())}let g,A=e=>{f=_.onStop=()=>{a(e,h,4)}};if(pi){if(A=r["d"],t?n&&l(t,h,3,[d(),m?[]:void 0,A]):d(),"sync"!==s)return r["d"];{const e=ji();g=e.__watcherHandles||(e.__watcherHandles=[])}}let y=m?new Array(e.length).fill(me):me;const v=()=>{if(_.active)if(t){const e=_.run();(o||p||(m?e.some((e,t)=>Object(r["j"])(e,y[t])):Object(r["j"])(e,y)))&&(f&&f(),l(t,h,3,[e,y===me?void 0:m&&y[0]===me?[]:y,A]),y=e)}else _.run()};let b;v.allowRecurse=!!t,"sync"===s?b=v:"post"===s?b=()=>cn(v,h&&h.suspense):(v.pre=!0,h&&(v.id=h.uid),b=()=>w(v));const _=new i["b"](d,b);t?n?v():y=_.run():"post"===s?cn(_.run.bind(_),h&&h.suspense):_.run();const x=()=>{_.stop(),h&&h.scope&&Object(r["O"])(h.scope.effects,_)};return g&&g.push(x),x}function ye(e,t,n){const i=this.proxy,o=Object(r["F"])(e)?e.includes(".")?ve(i,e):()=>i[e]:e.bind(i,i);let s;Object(r["q"])(t)?s=t:(s=t.handler,n=t);const a=ai;ci(this);const l=Ae(o,s.bind(i),n);return a?ci(a):ui(),l}function ve(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function be(e,t){if(!Object(r["w"])(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),Object(i["k"])(e))be(e.value,t);else if(Object(r["o"])(e))for(let n=0;n<e.length;n++)be(e[n],t);else if(Object(r["D"])(e)||Object(r["u"])(e))e.forEach(e=>{be(e,t)});else if(Object(r["y"])(e))for(const n in e)be(e[n],t);return e}function _e(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xe(()=>{e.isMounted=!0}),Qe(()=>{e.isUnmounting=!0}),e}const we=[Function,Array],xe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:we,onEnter:we,onAfterEnter:we,onEnterCancelled:we,onBeforeLeave:we,onLeave:we,onAfterLeave:we,onLeaveCancelled:we,onBeforeAppear:we,onAppear:we,onAfterAppear:we,onAppearCancelled:we},setup(e,{slots:t}){const n=li(),r=_e();let o;return()=>{const s=t.default&&ke(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==Mn){0,a=t,e=!0;break}}const l=Object(i["y"])(e),{mode:c}=l;if(r.isLeaving)return Me(a);const u=Ce(a);if(!u)return Me(a);const h=Ee(u,l,r,n);Oe(u,h);const d=n.subTree,f=d&&Ce(d);let p=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(f&&f.type!==Mn&&(!Un(u,f)||p)){const e=Ee(f,l,r,n);if(Oe(f,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},Me(a);"in-out"===c&&u.type!==Mn&&(e.delayLeave=(e,t,n)=>{const i=Te(r,f);i[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},Se=xe;function Te(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Ee(e,t,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:A,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=t,_=String(e.key),w=Te(n,e),x=(e,t)=>{e&&l(e,i,9,t)},S=(e,t)=>{const n=t[1];x(e,t),Object(r["o"])(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},T={mode:s,persisted:a,beforeEnter(t){let i=c;if(!n.isMounted){if(!o)return;i=A||c}t._leaveCb&&t._leaveCb(!0);const r=w[_];r&&Un(e,r)&&r.el._leaveCb&&r.el._leaveCb(),x(i,[t])},enter(e){let t=u,i=h,r=d;if(!n.isMounted){if(!o)return;t=y||u,i=v||h,r=b||d}let s=!1;const a=e._enterCb=t=>{s||(s=!0,x(t?r:i,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?S(t,[e,a]):a()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();x(f,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,i(),x(n?g:m,[t]),t._leaveCb=void 0,w[r]===e&&delete w[r])};w[r]=e,p?S(p,[t,s]):s()},clone(e){return Ee(e,t,n,i)}};return T}function Me(e){if(Le(e))return e=Yn(e),e.children=null,e}function Ce(e){return Le(e)?e.children?e.children[0]:void 0:e}function Oe(e,t){6&e.shapeFlag&&e.component?Oe(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ke(e,t=!1,n){let i=[],r=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===Tn?(128&s.patchFlag&&r++,i=i.concat(ke(s.children,t,a))):(t||s.type!==Mn)&&i.push(null!=a?Yn(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Pe(e){return Object(r["q"])(e)?{setup:e,name:e.name}:e}const Ie=e=>!!e.type.__asyncLoader;function Re(e){Object(r["q"])(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:s=200,timeout:a,suspensible:l=!0,onError:u}=e;let h,d=null,f=0;const p=()=>(f++,d=null,m()),m=()=>{let e;return d||(e=d=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),u)return new Promise((t,n)=>{const i=()=>t(p()),r=()=>n(e);u(e,i,r,f+1)});throw e}).then(t=>e!==d&&d?d:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),h=t,t)))};return Pe({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return h},setup(){const e=ai;if(h)return()=>De(h,e);const t=t=>{d=null,c(t,e,13,!o)};if(l&&e.suspense||pi)return m().then(t=>()=>De(t,e)).catch(e=>(t(e),()=>o?Wn(o,{error:e}):null));const r=Object(i["s"])(!1),u=Object(i["s"])(),f=Object(i["s"])(!!s);return s&&setTimeout(()=>{f.value=!1},s),null!=a&&setTimeout(()=>{if(!r.value&&!u.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),u.value=e}},a),m().then(()=>{r.value=!0,e.parent&&Le(e.parent.vnode)&&w(e.parent.update)}).catch(e=>{t(e),u.value=e}),()=>r.value&&h?De(h,e):u.value&&o?Wn(o,{error:u.value}):n&&!f.value?Wn(n):void 0}})}function De(e,t){const{ref:n,props:i,children:r,ce:o}=t.vnode,s=Wn(e,i,r);return s.ref=n,s.ce=o,delete t.vnode.ce,s}const Le=e=>e.type.__isKeepAlive,Ne={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=li(),i=n.ctx;if(!i.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=new Map,s=new Set;let a=null;const l=n.suspense,{renderer:{p:c,m:u,um:h,o:{createElement:d}}}=i,f=d("div");function p(e){Ve(e),h(e,n,l,!0)}function m(e){o.forEach((t,n)=>{const i=Si(t.type);!i||e&&e(i)||g(n)})}function g(e){const t=o.get(e);a&&Un(t,a)?a&&Ve(a):p(t),o.delete(e),s.delete(e)}i.activate=(e,t,n,i,o)=>{const s=e.component;u(e,t,n,0,l),c(s.vnode,e,t,n,s,l,i,e.slotScopeIds,o),cn(()=>{s.isDeactivated=!1,s.a&&Object(r["n"])(s.a);const t=e.props&&e.props.onVnodeMounted;t&&ii(t,s.parent,e)},l)},i.deactivate=e=>{const t=e.component;u(e,f,null,1,l),cn(()=>{t.da&&Object(r["n"])(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&ii(n,t.parent,e),t.isDeactivated=!0},l)},ge(()=>[e.include,e.exclude],([e,t])=>{e&&m(t=>Fe(e,t)),t&&m(e=>!Fe(t,e))},{flush:"post",deep:!0});let A=null;const y=()=>{null!=A&&o.set(A,He(n.subTree))};return Xe(y),Ke(y),Qe(()=>{o.forEach(e=>{const{subTree:t,suspense:i}=n,r=He(t);if(e.type!==r.type||e.key!==r.key)p(e);else{Ve(r);const e=r.component.da;e&&cn(e,i)}})}),()=>{if(A=null,!t.default)return null;const n=t.default(),i=n[0];if(n.length>1)return a=null,n;if(!jn(i)||!(4&i.shapeFlag)&&!(128&i.shapeFlag))return a=null,i;let r=He(i);const l=r.type,c=Si(Ie(r)?r.type.__asyncResolved||{}:l),{include:u,exclude:h,max:d}=e;if(u&&(!c||!Fe(u,c))||h&&c&&Fe(h,c))return a=r,i;const f=null==r.key?l:r.key,p=o.get(f);return r.el&&(r=Yn(r),128&i.shapeFlag&&(i.ssContent=r)),A=f,p?(r.el=p.el,r.component=p.component,r.transition&&Oe(r,r.transition),r.shapeFlag|=512,s.delete(f),s.add(f)):(s.add(f),d&&s.size>parseInt(d,10)&&g(s.values().next().value)),r.shapeFlag|=256,a=r,J(i.type)?i:r}}},Be=Ne;function Fe(e,t){return Object(r["o"])(e)?e.some(e=>Fe(e,t)):Object(r["F"])(e)?e.split(",").includes(t):!!Object(r["A"])(e)&&e.test(t)}function je(e,t){ze(e,"a",t)}function Ue(e,t){ze(e,"da",t)}function ze(e,t,n=ai){const i=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ge(t,i,n),n){let e=n.parent;while(e&&e.parent)Le(e.parent.vnode)&&qe(i,t,n,e),e=e.parent}}function qe(e,t,n,i){const o=Ge(t,e,i,!0);Je(()=>{Object(r["O"])(i[t],o)},n)}function Ve(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function He(e){return 128&e.shapeFlag?e.ssContent:e}function Ge(e,t,n=ai,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;Object(i["o"])(),ci(n);const o=l(t,n,e,r);return ui(),Object(i["t"])(),o});return r?o.unshift(s):o.push(s),s}}const We=e=>(t,n=ai)=>(!pi||"sp"===e)&&Ge(e,(...e)=>t(...e),n),$e=We("bm"),Xe=We("m"),Ye=We("bu"),Ke=We("u"),Qe=We("bum"),Je=We("um"),Ze=We("sp"),et=We("rtg"),tt=We("rtc");function nt(e,t=ai){Ge("ec",e,t)}function it(e,t){const n=F;if(null===n)return e;const i=xi(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,a,l=r["b"]]=t[s];e&&(Object(r["q"])(e)&&(e={mounted:e,updated:e}),e.deep&&be(n),o.push({dir:e,instance:i,value:n,oldValue:void 0,arg:a,modifiers:l}))}return e}function rt(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let u=c.dir[r];u&&(Object(i["o"])(),l(u,n,8,[e.el,c,e,t]),Object(i["t"])())}}const ot="components",st="directives";function at(e,t){return ht(ot,e,!0,t)||e}const lt=Symbol();function ct(e){return Object(r["F"])(e)?ht(ot,e,!1)||e:e||lt}function ut(e){return ht(st,e)}function ht(e,t,n=!0,i=!1){const o=F||ai;if(o){const n=o.type;if(e===ot){const e=Si(n,!1);if(e&&(e===t||e===Object(r["e"])(t)||e===Object(r["f"])(Object(r["e"])(t))))return n}const s=dt(o[e]||n[e],t)||dt(o.appContext[e],t);return!s&&i?n:s}}function dt(e,t){return e&&(e[t]||e[Object(r["e"])(t)]||e[Object(r["f"])(Object(r["e"])(t))])}function ft(e,t,n,i){let o;const s=n&&n[i];if(Object(r["o"])(e)||Object(r["F"])(e)){o=new Array(e.length);for(let n=0,i=e.length;n<i;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if(Object(r["w"])(e))if(e[Symbol.iterator])o=Array.from(e,(e,n)=>t(e,n,void 0,s&&s[n]));else{const n=Object.keys(e);o=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];o[i]=t(e[r],r,i,s&&s[i])}}else o=[];return n&&(n[i]=o),o}function pt(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(Object(r["o"])(i))for(let t=0;t<i.length;t++)e[i[t].name]=i[t].fn;else i&&(e[i.name]=i.key?(...e)=>{const t=i.fn(...e);return t&&(t.key=i.key),t}:i.fn)}return e}function mt(e,t,n={},i,r){if(F.isCE||F.parent&&Ie(F.parent)&&F.parent.isCE)return"default"!==t&&(n.name=t),Wn("slot",n,i&&i());let o=e[t];o&&o._c&&(o._d=!1),Pn();const s=o&&gt(o(n)),a=Fn(Tn,{key:n.key||s&&s.key||"_"+t},s||(i?i():[]),s&&1===e._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function gt(e){return e.some(e=>!jn(e)||e.type!==Mn&&!(e.type===Tn&&!gt(e.children)))?e:null}function At(e,t){const n={};for(const i in e)n[t&&/[A-Z]/.test(i)?"on:"+i:Object(r["Q"])(i)]=e[i];return n}const yt=e=>e?hi(e)?xi(e)||e.proxy:yt(e.parent):null,vt=Object(r["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yt(e.parent),$root:e=>yt(e.root),$emit:e=>e.emit,$options:e=>Ct(e),$forceUpdate:e=>e.f||(e.f=()=>w(e.update)),$nextTick:e=>e.n||(e.n=b.bind(e.proxy)),$watch:e=>ye.bind(e)}),bt=(e,t)=>e!==r["b"]&&!e.__isScriptSetup&&Object(r["k"])(e,t),_t={get({_:e},t){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:c,appContext:u}=e;let h;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(bt(o,t))return l[t]=1,o[t];if(s!==r["b"]&&Object(r["k"])(s,t))return l[t]=2,s[t];if((h=e.propsOptions[0])&&Object(r["k"])(h,t))return l[t]=3,a[t];if(n!==r["b"]&&Object(r["k"])(n,t))return l[t]=4,n[t];xt&&(l[t]=0)}}const d=vt[t];let f,p;return d?("$attrs"===t&&Object(i["B"])(e,"get",t),d(e)):(f=c.__cssModules)&&(f=f[t])?f:n!==r["b"]&&Object(r["k"])(n,t)?(l[t]=4,n[t]):(p=u.config.globalProperties,Object(r["k"])(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return bt(o,t)?(o[t]=n,!0):i!==r["b"]&&Object(r["k"])(i,t)?(i[t]=n,!0):!Object(r["k"])(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==r["b"]&&Object(r["k"])(e,a)||bt(t,a)||(l=s[0])&&Object(r["k"])(l,a)||Object(r["k"])(i,a)||Object(r["k"])(vt,a)||Object(r["k"])(o.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:Object(r["k"])(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const wt=Object(r["h"])({},_t,{get(e,t){if(t!==Symbol.unscopables)return _t.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!Object(r["r"])(t);return n}});let xt=!0;function St(e){const t=Ct(e),n=e.proxy,o=e.ctx;xt=!1,t.beforeCreate&&Et(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:A,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:w,render:x,renderTracked:S,renderTriggered:T,errorCaptured:E,serverPrefetch:M,expose:C,inheritAttrs:O,components:k,directives:P,filters:I}=t,R=null;if(h&&Tt(h,o,R,e.appContext.config.unwrapInjectedRef),l)for(const i in l){const e=l[i];Object(r["q"])(e)&&(o[i]=e.bind(n))}if(s){0;const t=s.call(n,n);0,Object(r["w"])(t)&&(e.data=Object(i["q"])(t))}if(xt=!0,a)for(const i in a){const e=a[i],t=Object(r["q"])(e)?e.bind(n,n):Object(r["q"])(e.get)?e.get.bind(n,n):r["d"];0;const s=!Object(r["q"])(e)&&Object(r["q"])(e.set)?e.set.bind(n):r["d"],l=Ei({get:t,set:s});Object.defineProperty(o,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const i in c)Mt(c[i],o,n,i);if(u){const e=Object(r["q"])(u)?u.call(n):u;Reflect.ownKeys(e).forEach(t=>{ue(t,e[t])})}function D(e,t){Object(r["o"])(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(d&&Et(d,e,"c"),D($e,f),D(Xe,p),D(Ye,m),D(Ke,g),D(je,A),D(Ue,y),D(nt,E),D(tt,S),D(et,T),D(Qe,b),D(Je,w),D(Ze,M),Object(r["o"])(C))if(C.length){const t=e.exposed||(e.exposed={});C.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});x&&e.render===r["d"]&&(e.render=x),null!=O&&(e.inheritAttrs=O),k&&(e.components=k),P&&(e.directives=P)}function Tt(e,t,n=r["d"],o=!1){Object(r["o"])(e)&&(e=Rt(e));for(const s in e){const n=e[s];let a;a=Object(r["w"])(n)?"default"in n?he(n.from||s,n.default,!0):he(n.from||s):he(n),Object(i["k"])(a)&&o?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[s]=a}}function Et(e,t,n){l(Object(r["o"])(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Mt(e,t,n,i){const o=i.includes(".")?ve(n,i):()=>n[i];if(Object(r["F"])(e)){const n=t[e];Object(r["q"])(n)&&ge(o,n)}else if(Object(r["q"])(e))ge(o,e.bind(n));else if(Object(r["w"])(e))if(Object(r["o"])(e))e.forEach(e=>Mt(e,t,n,i));else{const i=Object(r["q"])(e.handler)?e.handler.bind(n):t[e.handler];Object(r["q"])(i)&&ge(o,i,e)}else 0}function Ct(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let c;return l?c=l:o.length||n||i?(c={},o.length&&o.forEach(e=>Ot(c,e,a,!0)),Ot(c,t,a)):c=t,Object(r["w"])(t)&&s.set(t,c),c}function Ot(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&Ot(e,o,n,!0),r&&r.forEach(t=>Ot(e,t,n,!0));for(const s in t)if(i&&"expose"===s);else{const i=kt[s]||n&&n[s];e[s]=i?i(e[s],t[s]):t[s]}return e}const kt={data:Pt,props:Lt,emits:Lt,methods:Lt,computed:Lt,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:Lt,directives:Lt,watch:Nt,provide:Pt,inject:It};function Pt(e,t){return t?e?function(){return Object(r["h"])(Object(r["q"])(e)?e.call(this,this):e,Object(r["q"])(t)?t.call(this,this):t)}:t:e}function It(e,t){return Lt(Rt(e),Rt(t))}function Rt(e){if(Object(r["o"])(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Dt(e,t){return e?[...new Set([].concat(e,t))]:t}function Lt(e,t){return e?Object(r["h"])(Object(r["h"])(Object.create(null),e),t):t}function Nt(e,t){if(!e)return t;if(!t)return e;const n=Object(r["h"])(Object.create(null),e);for(const i in t)n[i]=Dt(e[i],t[i]);return n}function Bt(e,t,n,o=!1){const s={},a={};Object(r["g"])(a,qn,1),e.propsDefaults=Object.create(null),jt(e,t,s,a);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=o?s:Object(i["u"])(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function Ft(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,c=Object(i["y"])(s),[u]=e.propsOptions;let h=!1;if(!(o||l>0)||16&l){let i;jt(e,t,s,a)&&(h=!0);for(const o in c)t&&(Object(r["k"])(t,o)||(i=Object(r["l"])(o))!==o&&Object(r["k"])(t,i))||(u?!n||void 0===n[o]&&void 0===n[i]||(s[o]=Ut(u,c,o,void 0,e,!0)):delete s[o]);if(a!==c)for(const e in a)t&&Object(r["k"])(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(B(e.emitsOptions,o))continue;const l=t[o];if(u)if(Object(r["k"])(a,o))l!==a[o]&&(a[o]=l,h=!0);else{const t=Object(r["e"])(o);s[t]=Ut(u,c,t,l,e,!1)}else l!==a[o]&&(a[o]=l,h=!0)}}h&&Object(i["C"])(e,"set","$attrs")}function jt(e,t,n,o){const[s,a]=e.propsOptions;let l,c=!1;if(t)for(let i in t){if(Object(r["B"])(i))continue;const u=t[i];let h;s&&Object(r["k"])(s,h=Object(r["e"])(i))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:B(e.emitsOptions,i)||i in o&&u===o[i]||(o[i]=u,c=!0)}if(a){const t=Object(i["y"])(n),o=l||r["b"];for(let i=0;i<a.length;i++){const l=a[i];n[l]=Ut(s,t,l,o[l],e,!Object(r["k"])(o,l))}}return c}function Ut(e,t,n,i,o,s){const a=e[n];if(null!=a){const e=Object(r["k"])(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&Object(r["q"])(e)){const{propsDefaults:r}=o;n in r?i=r[n]:(ci(o),i=r[n]=e.call(null,t),ui())}else i=e}a[0]&&(s&&!e?i=!1:!a[1]||""!==i&&i!==Object(r["l"])(n)||(i=!0))}return i}function zt(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let c=!1;if(!Object(r["q"])(e)){const i=e=>{c=!0;const[n,i]=zt(e,t,!0);Object(r["h"])(a,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!s&&!c)return Object(r["w"])(e)&&i.set(e,r["a"]),r["a"];if(Object(r["o"])(s))for(let h=0;h<s.length;h++){0;const e=Object(r["e"])(s[h]);qt(e)&&(a[e]=r["b"])}else if(s){0;for(const e in s){const t=Object(r["e"])(e);if(qt(t)){const n=s[e],i=a[t]=Object(r["o"])(n)||Object(r["q"])(n)?{type:n}:Object.assign({},n);if(i){const e=Gt(Boolean,i.type),n=Gt(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||Object(r["k"])(i,"default"))&&l.push(t)}}}}const u=[a,l];return Object(r["w"])(e)&&i.set(e,u),u}function qt(e){return"$"!==e[0]}function Vt(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Ht(e,t){return Vt(e)===Vt(t)}function Gt(e,t){return Object(r["o"])(t)?t.findIndex(t=>Ht(t,e)):Object(r["q"])(t)&&Ht(t,e)?0:-1}const Wt=e=>"_"===e[0]||"$stable"===e,$t=e=>Object(r["o"])(e)?e.map(Zn):[Zn(e)],Xt=(e,t,n)=>{if(t._n)return t;const i=H((...e)=>$t(t(...e)),n);return i._c=!1,i},Yt=(e,t,n)=>{const i=e._ctx;for(const o in e){if(Wt(o))continue;const n=e[o];if(Object(r["q"])(n))t[o]=Xt(o,n,i);else if(null!=n){0;const e=$t(n);t[o]=()=>e}}},Kt=(e,t)=>{const n=$t(t);e.slots.default=()=>n},Qt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Object(i["y"])(t),Object(r["g"])(t,"_",n)):Yt(t,e.slots={})}else e.slots={},t&&Kt(e,t);Object(r["g"])(e.slots,qn,1)},Jt=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=r["b"];if(32&i.shapeFlag){const e=t._;e?n&&1===e?s=!1:(Object(r["h"])(o,t),n||1!==e||delete o._):(s=!t.$stable,Yt(t,o)),a=t}else t&&(Kt(e,t),a={default:1});if(s)for(const r in o)Wt(r)||r in a||delete o[r]};function Zt(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let en=0;function tn(e,t){return function(n,i=null){Object(r["q"])(n)||(n=Object.assign({},n)),null==i||Object(r["w"])(i)||(i=null);const o=Zt(),s=new Set;let a=!1;const l=o.app={_uid:en++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Vi,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&Object(r["q"])(e.install)?(s.add(e),e.install(l,...t)):Object(r["q"])(e)&&(s.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(r,s,c){if(!a){0;const u=Wn(n,i);return u.appContext=o,s&&t?t(u,r):e(u,r,c),a=!0,l._container=r,r.__vue_app__=l,xi(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l}};return l}}function nn(e,t,n,o,s=!1){if(Object(r["o"])(e))return void e.forEach((e,i)=>nn(e,t&&(Object(r["o"])(t)?t[i]:t),n,o,s));if(Ie(o)&&!s)return;const l=4&o.shapeFlag?xi(o.component)||o.component.proxy:o.el,c=s?null:l,{i:u,r:h}=e;const d=t&&t.r,f=u.refs===r["b"]?u.refs={}:u.refs,p=u.setupState;if(null!=d&&d!==h&&(Object(r["F"])(d)?(f[d]=null,Object(r["k"])(p,d)&&(p[d]=null)):Object(i["k"])(d)&&(d.value=null)),Object(r["q"])(h))a(h,u,12,[c,f]);else{const t=Object(r["F"])(h),o=Object(i["k"])(h);if(t||o){const i=()=>{if(e.f){const n=t?Object(r["k"])(p,h)?p[h]:f[h]:h.value;s?Object(r["o"])(n)&&Object(r["O"])(n,l):Object(r["o"])(n)?n.includes(l)||n.push(l):t?(f[h]=[l],Object(r["k"])(p,h)&&(p[h]=f[h])):(h.value=[l],e.k&&(f[e.k]=h.value))}else t?(f[h]=c,Object(r["k"])(p,h)&&(p[h]=c)):o&&(h.value=c,e.k&&(f[e.k]=c))};c?(i.id=-1,cn(i,n)):i()}else 0}}let rn=!1;const on=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,sn=e=>8===e.nodeType;function an(e){const{mt:t,p:n,o:{patchProp:i,createText:o,nextSibling:s,parentNode:a,remove:l,insert:c,createComment:u}}=e,h=(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),M(),void(t._vnode=e);rn=!1,d(t.firstChild,e,null,null,null),M(),t._vnode=e,rn&&console.error("Hydration completed but contains mismatches.")},d=(n,i,r,l,u,h=!1)=>{const y=sn(n)&&"["===n.data,v=()=>g(n,i,r,l,u,y),{type:b,ref:_,shapeFlag:w,patchFlag:x}=i;let S=n.nodeType;i.el=n,-2===x&&(h=!1,i.dynamicChildren=null);let T=null;switch(b){case En:3!==S?""===i.children?(c(i.el=o(""),a(n),n),T=n):T=v():(n.data!==i.children&&(rn=!0,n.data=i.children),T=s(n));break;case Mn:T=8!==S||y?v():s(n);break;case Cn:if(y&&(n=s(n),S=n.nodeType),1===S||3===S){T=n;const e=!i.children.length;for(let t=0;t<i.staticCount;t++)e&&(i.children+=1===T.nodeType?T.outerHTML:T.data),t===i.staticCount-1&&(i.anchor=T),T=s(T);return y?s(T):T}v();break;case Tn:T=y?m(n,i,r,l,u,h):v();break;default:if(1&w)T=1!==S||i.type.toLowerCase()!==n.tagName.toLowerCase()?v():f(n,i,r,l,u,h);else if(6&w){i.slotScopeIds=u;const e=a(n);if(t(i,e,null,r,l,on(e),h),T=y?A(n):s(n),T&&sn(T)&&"teleport end"===T.data&&(T=s(T)),Ie(i)){let t;y?(t=Wn(Tn),t.anchor=T?T.previousSibling:e.lastChild):t=3===n.nodeType?Kn(""):Wn("div"),t.el=n,i.component.subTree=t}}else 64&w?T=8!==S?v():i.type.hydrate(n,i,r,l,u,h,e,p):128&w&&(T=i.type.hydrate(n,i,r,l,on(a(n)),u,h,e,d))}return null!=_&&nn(_,null,l,i),T},f=(e,t,n,o,s,a)=>{a=a||!!t.dynamicChildren;const{type:c,props:u,patchFlag:h,shapeFlag:d,dirs:f}=t,m="input"===c&&f||"option"===c;if(m||-1!==h){if(f&&rt(t,null,n,"created"),u)if(m||!a||48&h)for(const t in u)(m&&t.endsWith("value")||Object(r["x"])(t)&&!Object(r["B"])(t))&&i(e,t,null,u[t],!1,void 0,n);else u.onClick&&i(e,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&ii(c,n,t),f&&rt(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&le(()=>{c&&ii(c,n,t),f&&rt(t,null,n,"mounted")},o),16&d&&(!u||!u.innerHTML&&!u.textContent)){let i=p(e.firstChild,t,e,n,o,s,a);while(i){rn=!0;const e=i;i=i.nextSibling,l(e)}}else 8&d&&e.textContent!==t.children&&(rn=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,i,r,o,s,a)=>{a=a||!!t.dynamicChildren;const l=t.children,c=l.length;for(let u=0;u<c;u++){const t=a?l[u]:l[u]=Zn(l[u]);if(e)e=d(e,t,r,o,s,a);else{if(t.type===En&&!t.children)continue;rn=!0,n(null,t,i,null,r,o,on(i),s)}}return e},m=(e,t,n,i,r,o)=>{const{slotScopeIds:l}=t;l&&(r=r?r.concat(l):l);const h=a(e),d=p(s(e),t,h,n,i,r,o);return d&&sn(d)&&"]"===d.data?s(t.anchor=d):(rn=!0,c(t.anchor=u("]"),h,d),d)},g=(e,t,i,r,o,c)=>{if(rn=!0,t.el=null,c){const t=A(e);while(1){const n=s(e);if(!n||n===t)break;l(n)}}const u=s(e),h=a(e);return l(e),n(null,t,h,u,i,r,on(h),o),u},A=e=>{let t=0;while(e)if(e=s(e),e&&sn(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return s(e);t--}return e};return[h,d]}function ln(){}const cn=le;function un(e){return dn(e)}function hn(e){return dn(e,an)}function dn(e,t){ln();const n=Object(r["i"])();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=r["d"],insertStaticContent:g}=e,A=(e,t,n,i=null,r=null,o=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Un(e,t)&&(i=J(e),H(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case En:y(e,t,n,i);break;case Mn:v(e,t,n,i);break;case Cn:null==e&&b(t,n,i,s);break;case Tn:D(e,t,n,i,r,o,s,a,l);break;default:1&h?T(e,t,n,i,r,o,s,a,l):6&h?L(e,t,n,i,r,o,s,a,l):(64&h||128&h)&&c.process(e,t,n,i,r,o,s,a,l,ee)}null!=u&&r&&nn(u,e&&e.ref,o,t||e,!t)},y=(e,t,n,i)=>{if(null==e)o(t.el=c(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},v=(e,t,n,i)=>{null==e?o(t.el=u(t.children||""),n,i):t.el=e.el},b=(e,t,n,i)=>{[e.el,e.anchor]=g(e.children,t,n,i,e.el,e.anchor)},_=({el:e,anchor:t},n,i)=>{let r;while(e&&e!==t)r=p(e),o(e,n,i),e=r;o(t,n,i)},x=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),s(e),e=n;s(t)},T=(e,t,n,i,r,o,s,a,l)=>{s=s||"svg"===t.type,null==e?C(t,n,i,r,o,s,a,l):P(e,t,r,o,s,a,l)},C=(e,t,n,i,s,c,u,h)=>{let f,p;const{type:m,props:g,shapeFlag:A,transition:y,dirs:v}=e;if(f=e.el=l(e.type,c,g&&g.is,g),8&A?d(f,e.children):16&A&&k(e.children,f,null,i,s,c&&"foreignObject"!==m,u,h),v&&rt(e,null,i,"created"),O(f,e,e.scopeId,u,i),g){for(const t in g)"value"===t||Object(r["B"])(t)||a(f,t,null,g[t],c,e.children,i,s,K);"value"in g&&a(f,"value",null,g.value),(p=g.onVnodeBeforeMount)&&ii(p,i,e)}v&&rt(e,null,i,"beforeMount");const b=(!s||s&&!s.pendingBranch)&&y&&!y.persisted;b&&y.beforeEnter(f),o(f,t,n),((p=g&&g.onVnodeMounted)||b||v)&&cn(()=>{p&&ii(p,i,e),b&&y.enter(f),v&&rt(e,null,i,"mounted")},s)},O=(e,t,n,i,r)=>{if(n&&m(e,n),i)for(let o=0;o<i.length;o++)m(e,i[o]);if(r){let n=r.subTree;if(t===n){const t=r.vnode;O(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},k=(e,t,n,i,r,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?ei(e[c]):Zn(e[c]);A(null,l,t,n,i,r,o,s,a)}},P=(e,t,n,i,o,s,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=t;u|=16&e.patchFlag;const p=e.props||r["b"],m=t.props||r["b"];let g;n&&fn(n,!1),(g=m.onVnodeBeforeUpdate)&&ii(g,n,t,e),f&&rt(t,e,n,"beforeUpdate"),n&&fn(n,!0);const A=o&&"foreignObject"!==t.type;if(h?I(e.dynamicChildren,h,c,n,i,A,s):l||U(e,t,c,null,n,i,A,s,!1),u>0){if(16&u)R(c,t,p,m,n,i,o);else if(2&u&&p.class!==m.class&&a(c,"class",null,m.class,o),4&u&&a(c,"style",p.style,m.style,o),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const s=r[t],l=p[s],u=m[s];u===l&&"value"!==s||a(c,s,l,u,o,e.children,n,i,K)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||R(c,t,p,m,n,i,o);((g=m.onVnodeUpdated)||f)&&cn(()=>{g&&ii(g,n,t,e),f&&rt(t,e,n,"updated")},i)},I=(e,t,n,i,r,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===Tn||!Un(l,c)||70&l.shapeFlag)?f(l.el):n;A(l,c,u,null,i,r,o,s,!0)}},R=(e,t,n,i,o,s,l)=>{if(n!==i){if(n!==r["b"])for(const c in n)Object(r["B"])(c)||c in i||a(e,c,n[c],null,l,t.children,o,s,K);for(const c in i){if(Object(r["B"])(c))continue;const u=i[c],h=n[c];u!==h&&"value"!==c&&a(e,c,h,u,l,t.children,o,s,K)}"value"in i&&a(e,"value",n.value,i.value)}},D=(e,t,n,i,r,s,a,l,u)=>{const h=t.el=e?e.el:c(""),d=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(o(h,n,i),o(d,n,i),k(t.children,n,d,r,s,a,l,u)):f>0&&64&f&&p&&e.dynamicChildren?(I(e.dynamicChildren,p,n,r,s,a,l),(null!=t.key||r&&t===r.subTree)&&pn(e,t,!0)):U(e,t,n,d,r,s,a,l,u)},L=(e,t,n,i,r,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,s,l):N(t,n,i,r,o,s,l):B(e,t,l)},N=(e,t,n,i,r,o,s)=>{const a=e.component=si(e,i,r);if(Le(e)&&(a.ctx.renderer=ee),mi(a),a.asyncDep){if(r&&r.registerDep(a,F),!e.el){const e=a.subTree=Wn(Mn);v(null,e,t,n)}}else F(a,e,t,n,r,o,s)},B=(e,t,n)=>{const i=t.component=e.component;if(Y(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void j(i,t,n);i.next=t,S(i.update),i.update()}else t.el=e.el,i.vnode=t},F=(e,t,n,o,s,a,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:i,u:o,parent:c,vnode:u}=e,h=n;0,fn(e,!1),n?(n.el=u.el,j(e,n,l)):n=u,i&&Object(r["n"])(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&ii(t,c,n,u),fn(e,!0);const d=G(e);0;const p=e.subTree;e.subTree=d,A(p,d,f(p.el),J(p),e,s,a),n.el=d.el,null===h&&Q(e,d.el),o&&cn(o,s),(t=n.props&&n.props.onVnodeUpdated)&&cn(()=>ii(t,c,n,u),s)}else{let i;const{el:l,props:c}=t,{bm:u,m:h,parent:d}=e,f=Ie(t);if(fn(e,!1),u&&Object(r["n"])(u),!f&&(i=c&&c.onVnodeBeforeMount)&&ii(i,d,t),fn(e,!0),l&&ne){const n=()=>{e.subTree=G(e),ne(l,e.subTree,e,s,null)};f?t.type.__asyncLoader().then(()=>!e.isUnmounted&&n()):n()}else{0;const i=e.subTree=G(e);0,A(null,i,n,o,e,s,a),t.el=i.el}if(h&&cn(h,s),!f&&(i=c&&c.onVnodeMounted)){const e=t;cn(()=>ii(i,d,e),s)}(256&t.shapeFlag||d&&Ie(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&cn(e.a,s),e.isMounted=!0,t=n=o=null}},u=e.effect=new i["b"](c,()=>w(h),e.scope),h=e.update=()=>u.run();h.id=e.uid,fn(e,!0),h()},j=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,Ft(e,t.props,r,n),Jt(e,t.children,n),Object(i["o"])(),E(),Object(i["t"])()},U=(e,t,n,i,r,o,s,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void q(c,h,n,i,r,o,s,a,l);if(256&f)return void z(c,h,n,i,r,o,s,a,l)}8&p?(16&u&&K(c,r,o),h!==c&&d(n,h)):16&u?16&p?q(c,h,n,i,r,o,s,a,l):K(c,r,o,!0):(8&u&&d(n,""),16&p&&k(h,n,i,r,o,s,a,l))},z=(e,t,n,i,o,s,a,l,c)=>{e=e||r["a"],t=t||r["a"];const u=e.length,h=t.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const i=t[f]=c?ei(t[f]):Zn(t[f]);A(e[f],i,n,null,o,s,a,l,c)}u>h?K(e,o,s,!0,!1,d):k(t,n,i,o,s,a,l,c,d)},q=(e,t,n,i,o,s,a,l,c)=>{let u=0;const h=t.length;let d=e.length-1,f=h-1;while(u<=d&&u<=f){const i=e[u],r=t[u]=c?ei(t[u]):Zn(t[u]);if(!Un(i,r))break;A(i,r,n,null,o,s,a,l,c),u++}while(u<=d&&u<=f){const i=e[d],r=t[f]=c?ei(t[f]):Zn(t[f]);if(!Un(i,r))break;A(i,r,n,null,o,s,a,l,c),d--,f--}if(u>d){if(u<=f){const e=f+1,r=e<h?t[e].el:i;while(u<=f)A(null,t[u]=c?ei(t[u]):Zn(t[u]),n,r,o,s,a,l,c),u++}}else if(u>f)while(u<=d)H(e[u],o,s,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=f;u++){const e=t[u]=c?ei(t[u]):Zn(t[u]);null!=e.key&&g.set(e.key,u)}let y,v=0;const b=f-m+1;let _=!1,w=0;const x=new Array(b);for(u=0;u<b;u++)x[u]=0;for(u=p;u<=d;u++){const i=e[u];if(v>=b){H(i,o,s,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(y=m;y<=f;y++)if(0===x[y-m]&&Un(i,t[y])){r=y;break}void 0===r?H(i,o,s,!0):(x[r-m]=u+1,r>=w?w=r:_=!0,A(i,t[r],n,null,o,s,a,l,c),v++)}const S=_?mn(x):r["a"];for(y=S.length-1,u=b-1;u>=0;u--){const e=m+u,r=t[e],d=e+1<h?t[e+1].el:i;0===x[u]?A(null,r,n,d,o,s,a,l,c):_&&(y<0||u!==S[y]?V(r,n,d,2):y--)}}},V=(e,t,n,i,r=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void V(e.component.subTree,t,n,i);if(128&u)return void e.suspense.move(t,n,i);if(64&u)return void a.move(e,t,n,ee);if(a===Tn){o(s,t,n);for(let e=0;e<c.length;e++)V(c[e],t,n,i);return void o(e.anchor,t,n)}if(a===Cn)return void _(e,t,n);const h=2!==i&&1&u&&l;if(h)if(0===i)l.beforeEnter(s),o(s,t,n),cn(()=>l.enter(s),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,a=()=>o(s,t,n),c=()=>{e(s,()=>{a(),r&&r()})};i?i(s,a,c):c()}else o(s,t,n)},H=(e,t,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&nn(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&d,p=!Ie(e);let m;if(p&&(m=s&&s.onVnodeBeforeUnmount)&&ii(m,t,e),6&u)X(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);f&&rt(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,ee,i):c&&(o!==Tn||h>0&&64&h)?K(c,t,n,!1,!0):(o===Tn&&384&h||!r&&16&u)&&K(l,t,n),i&&W(e)}(p&&(m=s&&s.onVnodeUnmounted)||f)&&cn(()=>{m&&ii(m,t,e),f&&rt(e,null,t,"unmounted")},n)},W=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===Tn)return void $(n,i);if(t===Cn)return void x(e);const o=()=>{s(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,s=()=>t(n,o);i?i(e.el,o,s):s()}else o()},$=(e,t)=>{let n;while(e!==t)n=p(e),s(e),e=n;s(t)},X=(e,t,n)=>{const{bum:i,scope:o,update:s,subTree:a,um:l}=e;i&&Object(r["n"])(i),o.stop(),s&&(s.active=!1,H(a,e,t,n)),l&&cn(l,t),cn(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},K=(e,t,n,i=!1,r=!1,o=0)=>{for(let s=o;s<e.length;s++)H(e[s],t,n,i,r)},J=e=>6&e.shapeFlag?J(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),Z=(e,t,n)=>{null==e?t._vnode&&H(t._vnode,null,null,!0):A(t._vnode||null,e,t,null,null,null,n),E(),M(),t._vnode=e},ee={p:A,um:H,m:V,r:W,mt:N,mc:k,pc:U,pbc:I,n:J,o:e};let te,ne;return t&&([te,ne]=t(ee)),{render:Z,hydrate:te,createApp:tn(Z,te)}}function fn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function pn(e,t,n=!1){const i=e.children,o=t.children;if(Object(r["o"])(i)&&Object(r["o"])(o))for(let r=0;r<i.length;r++){const e=i[r];let t=o[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[r]=ei(o[r]),t.el=e.el),n||pn(e,t)),t.type===En&&(t.el=e.el)}}function mn(e){const t=e.slice(),n=[0];let i,r,o,s,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}const gn=e=>e.__isTeleport,An=e=>e&&(e.disabled||""===e.disabled),yn=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,vn=(e,t)=>{const n=e&&e.to;if(Object(r["F"])(n)){if(t){const e=t(n);return e}return null}return n},bn={__isTeleport:!0,process(e,t,n,i,r,o,s,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:g}}=c,A=An(t.props);let{shapeFlag:y,children:v,dynamicChildren:b}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");f(e,n,i),f(c,n,i);const h=t.target=vn(t.props,p),d=t.targetAnchor=m("");h&&(f(d,h),s=s||yn(h));const g=(e,t)=>{16&y&&u(v,e,t,r,o,s,a,l)};A?g(n,c):h&&g(h,d)}else{t.el=e.el;const i=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=An(e.props),g=m?n:u,y=m?i:f;if(s=s||yn(u),b?(d(e.dynamicChildren,b,g,r,o,s,a),pn(e,t,!0)):l||h(e,t,g,y,r,o,s,a,!1),A)m||_n(t,n,i,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=vn(t.props,p);e&&_n(t,e,null,c,0)}else m&&_n(t,u,f,c,1)}Sn(t)},remove(e,t,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=e;if(h&&o(u),(s||!An(d))&&(o(c),16&a))for(let f=0;f<l.length;f++){const e=l[f];r(e,t,n,!0,!!e.dynamicChildren)}},move:_n,hydrate:wn};function _n(e,t,n,{o:{insert:i},m:r},o=2){0===o&&i(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,h=2===o;if(h&&i(s,t,n),(!h||An(u))&&16&l)for(let d=0;d<c.length;d++)r(c[d],t,n,2);h&&i(a,t,n)}function wn(e,t,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=t.target=vn(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(An(t.props))t.anchor=c(s(e),t,a(e),n,i,r,o),t.targetAnchor=l;else{t.anchor=s(e);let a=l;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(l,t,u,n,i,r,o)}Sn(t)}return t.anchor&&s(t.anchor)}const xn=bn;function Sn(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Tn=Symbol(void 0),En=Symbol(void 0),Mn=Symbol(void 0),Cn=Symbol(void 0),On=[];let kn=null;function Pn(e=!1){On.push(kn=e?null:[])}function In(){On.pop(),kn=On[On.length-1]||null}let Rn,Dn=1;function Ln(e){Dn+=e}function Nn(e){return e.dynamicChildren=Dn>0?kn||r["a"]:null,In(),Dn>0&&kn&&kn.push(e),e}function Bn(e,t,n,i,r,o){return Nn(Gn(e,t,n,i,r,o,!0))}function Fn(e,t,n,i,r){return Nn(Wn(e,t,n,i,r,!0))}function jn(e){return!!e&&!0===e.__v_isVNode}function Un(e,t){return e.type===t.type&&e.key===t.key}function zn(e){Rn=e}const qn="__vInternal",Vn=({key:e})=>null!=e?e:null,Hn=({ref:e,ref_key:t,ref_for:n})=>null!=e?Object(r["F"])(e)||Object(i["k"])(e)||Object(r["q"])(e)?{i:F,r:e,k:t,f:!!n}:e:null;function Gn(e,t=null,n=null,i=0,o=null,s=(e===Tn?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vn(t),ref:t&&Hn(t),scopeId:j,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:F};return l?(ti(c,n),128&s&&e.normalize(c)):n&&(c.shapeFlag|=Object(r["F"])(n)?8:16),Dn>0&&!a&&kn&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&kn.push(c),c}const Wn=$n;function $n(e,t=null,n=null,o=0,s=null,a=!1){if(e&&e!==lt||(e=Mn),jn(e)){const i=Yn(e,t,!0);return n&&ti(i,n),Dn>0&&!a&&kn&&(6&i.shapeFlag?kn[kn.indexOf(e)]=i:kn.push(i)),i.patchFlag|=-2,i}if(Ti(e)&&(e=e.__vccOpts),t){t=Xn(t);let{class:e,style:n}=t;e&&!Object(r["F"])(e)&&(t.class=Object(r["L"])(e)),Object(r["w"])(n)&&(Object(i["h"])(n)&&!Object(r["o"])(n)&&(n=Object(r["h"])({},n)),t.style=Object(r["N"])(n))}const l=Object(r["F"])(e)?1:J(e)?128:gn(e)?64:Object(r["w"])(e)?4:Object(r["q"])(e)?2:0;return Gn(e,t,n,o,s,l,a,!0)}function Xn(e){return e?Object(i["h"])(e)||qn in e?Object(r["h"])({},e):e:null}function Yn(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?ni(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Vn(l),ref:t&&t.ref?n&&o?Object(r["o"])(o)?o.concat(Hn(t)):[o,Hn(t)]:Hn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yn(e.ssContent),ssFallback:e.ssFallback&&Yn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c}function Kn(e=" ",t=0){return Wn(En,null,e,t)}function Qn(e,t){const n=Wn(Cn,null,e);return n.staticCount=t,n}function Jn(e="",t=!1){return t?(Pn(),Fn(Mn,null,e)):Wn(Mn,null,e)}function Zn(e){return null==e||"boolean"===typeof e?Wn(Mn):Object(r["o"])(e)?Wn(Tn,null,e.slice()):"object"===typeof e?ei(e):Wn(En,null,String(e))}function ei(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Yn(e)}function ti(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(Object(r["o"])(t))n=16;else if("object"===typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),ti(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||qn in t?3===i&&F&&(1===F.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=F}}else Object(r["q"])(t)?(t={default:t,_ctx:F},n=32):(t=String(t),64&i?(n=16,t=[Kn(t)]):n=8);e.children=t,e.shapeFlag|=n}function ni(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=Object(r["L"])([t.class,i.class]));else if("style"===e)t.style=Object(r["N"])([t.style,i.style]);else if(Object(r["x"])(e)){const n=t[e],o=i[e];!o||n===o||Object(r["o"])(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=i[e])}return t}function ii(e,t,n,i=null){l(e,t,7,[n,i])}const ri=Zt();let oi=0;function si(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||ri,a={uid:oi++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i["a"](!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zt(o,s),emitsOptions:N(o,s),emit:null,emitted:null,propsDefaults:r["b"],inheritAttrs:o.inheritAttrs,ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=L.bind(null,a),e.ce&&e.ce(a),a}let ai=null;const li=()=>ai||F,ci=e=>{ai=e,e.scope.on()},ui=()=>{ai&&ai.scope.off(),ai=null};function hi(e){return 4&e.vnode.shapeFlag}let di,fi,pi=!1;function mi(e,t=!1){pi=t;const{props:n,children:i}=e.vnode,r=hi(e);Bt(e,n,r,t),Qt(e,i);const o=r?gi(e,t):void 0;return pi=!1,o}function gi(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Object(i["m"])(new Proxy(e.ctx,_t));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?wi(e):null;ci(e),Object(i["o"])();const s=a(o,e,0,[e.props,n]);if(Object(i["t"])(),ui(),Object(r["z"])(s)){if(s.then(ui,ui),t)return s.then(n=>{Ai(e,n,t)}).catch(t=>{c(t,e,0)});e.asyncDep=s}else Ai(e,s,t)}else bi(e,t)}function Ai(e,t,n){Object(r["q"])(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Object(r["w"])(t)&&(e.setupState=Object(i["p"])(t)),bi(e,n)}function yi(e){di=e,fi=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,wt))}}const vi=()=>!di;function bi(e,t,n){const o=e.type;if(!e.render){if(!t&&di&&!o.render){const t=o.template||Ct(e).template;if(t){0;const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:s,compilerOptions:a}=o,l=Object(r["h"])(Object(r["h"])({isCustomElement:n,delimiters:s},i),a);o.render=di(t,l)}}e.render=o.render||r["d"],fi&&fi(e)}ci(e),Object(i["o"])(),St(e),Object(i["t"])(),ui()}function _i(e){return new Proxy(e.attrs,{get(t,n){return Object(i["B"])(e,"get","$attrs"),t[n]}})}function wi(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=_i(e))},slots:e.slots,emit:e.emit,expose:t}}function xi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Object(i["p"])(Object(i["m"])(e.exposed)),{get(t,n){return n in t?t[n]:n in vt?vt[n](e):void 0},has(e,t){return t in e||t in vt}}))}function Si(e,t=!0){return Object(r["q"])(e)?e.displayName||e.name:e.name||t&&e.__name}function Ti(e){return Object(r["q"])(e)&&"__vccOpts"in e}const Ei=(e,t)=>Object(i["c"])(e,t,pi);function Mi(){return null}function Ci(){return null}function Oi(e){0}function ki(e,t){return null}function Pi(){return Ri().slots}function Ii(){return Ri().attrs}function Ri(){const e=li();return e.setupContext||(e.setupContext=wi(e))}function Di(e,t){const n=Object(r["o"])(e)?e.reduce((e,t)=>(e[t]={},e),{}):e;for(const i in t){const e=n[i];e?Object(r["o"])(e)||Object(r["q"])(e)?n[i]={type:e,default:t[i]}:e.default=t[i]:null===e&&(n[i]={default:t[i]})}return n}function Li(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n}function Ni(e){const t=li();let n=e();return ui(),Object(r["z"])(n)&&(n=n.catch(e=>{throw ci(t),e})),[n,()=>ci(t)]}function Bi(e,t,n){const i=arguments.length;return 2===i?Object(r["w"])(t)&&!Object(r["o"])(t)?jn(t)?Wn(e,null,[t]):Wn(e,t):Wn(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&jn(n)&&(n=[n]),Wn(e,t,n))}const Fi=Symbol(""),ji=()=>{{const e=he(Fi);return e}};function Ui(){return void 0}function zi(e,t,n,i){const r=n[i];if(r&&qi(r,e))return r;const o=t();return o.memo=e.slice(),n[i]=o}function qi(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(Object(r["j"])(n[i],t[i]))return!1;return Dn>0&&kn&&kn.push(e),!0}const Vi="3.2.47",Hi={createComponentInstance:si,setupComponent:mi,renderComponentRoot:G,setCurrentRenderingInstance:U,isVNode:jn,normalizeVNode:Zn},Gi=Hi,Wi=null,$i=null},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5cce":function(e,t){e.exports={version:"0.26.1"}},"5da1":function(e,t,n){(function(e,n){var i=200,r="__lodash_hash_undefined__",o=1,s=2,a=9007199254740991,l="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",g="[object Map]",A="[object Number]",y="[object Null]",v="[object Object]",b="[object Promise]",_="[object Proxy]",w="[object RegExp]",x="[object Set]",S="[object String]",T="[object Symbol]",E="[object Undefined]",M="[object WeakMap]",C="[object ArrayBuffer]",O="[object DataView]",k="[object Float32Array]",P="[object Float64Array]",I="[object Int8Array]",R="[object Int16Array]",D="[object Int32Array]",L="[object Uint8Array]",N="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,q={};q[k]=q[P]=q[I]=q[R]=q[D]=q[L]=q[N]=q[B]=q[F]=!0,q[l]=q[c]=q[C]=q[h]=q[O]=q[d]=q[f]=q[p]=q[g]=q[A]=q[v]=q[w]=q[x]=q[S]=q[M]=!1;var V="object"==typeof e&&e&&e.Object===Object&&e,H="object"==typeof self&&self&&self.Object===Object&&self,G=V||H||Function("return this")(),W=t&&!t.nodeType&&t,$=W&&"object"==typeof n&&n&&!n.nodeType&&n,X=$&&$.exports===W,Y=X&&V.process,K=function(){try{return Y&&Y.binding&&Y.binding("util")}catch(e){}}(),Q=K&&K.isTypedArray;function J(e,t){var n=-1,i=null==e?0:e.length,r=0,o=[];while(++n<i){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}function Z(e,t){var n=-1,i=t.length,r=e.length;while(++n<i)e[r+n]=t[n];return e}function ee(e,t){var n=-1,i=null==e?0:e.length;while(++n<i)if(t(e[n],n,e))return!0;return!1}function te(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function ne(e){return function(t){return e(t)}}function ie(e,t){return e.has(t)}function re(e,t){return null==e?void 0:e[t]}function oe(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function se(e,t){return function(n){return e(t(n))}}function ae(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var le=Array.prototype,ce=Function.prototype,ue=Object.prototype,he=G["__core-js_shared__"],de=ce.toString,fe=ue.hasOwnProperty,pe=function(){var e=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),me=ue.toString,ge=RegExp("^"+de.call(fe).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=X?G.Buffer:void 0,ye=G.Symbol,ve=G.Uint8Array,be=ue.propertyIsEnumerable,_e=le.splice,we=ye?ye.toStringTag:void 0,xe=Object.getOwnPropertySymbols,Se=Ae?Ae.isBuffer:void 0,Te=se(Object.keys,Object),Ee=Mt(G,"DataView"),Me=Mt(G,"Map"),Ce=Mt(G,"Promise"),Oe=Mt(G,"Set"),ke=Mt(G,"WeakMap"),Pe=Mt(Object,"create"),Ie=Nt(Ee),Re=Nt(Me),De=Nt(Ce),Le=Nt(Oe),Ne=Nt(ke),Be=ye?ye.prototype:void 0,Fe=Be?Be.valueOf:void 0;function je(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Ue(){this.__data__=Pe?Pe(null):{},this.size=0}function ze(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function qe(e){var t=this.__data__;if(Pe){var n=t[e];return n===r?void 0:n}return fe.call(t,e)?t[e]:void 0}function Ve(e){var t=this.__data__;return Pe?void 0!==t[e]:fe.call(t,e)}function He(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pe&&void 0===t?r:t,this}function Ge(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function We(){this.__data__=[],this.size=0}function $e(e){var t=this.__data__,n=ft(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():_e.call(t,n,1),--this.size,!0}function Xe(e){var t=this.__data__,n=ft(t,e);return n<0?void 0:t[n][1]}function Ye(e){return ft(this.__data__,e)>-1}function Ke(e,t){var n=this.__data__,i=ft(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Qe(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Je(){this.size=0,this.__data__={hash:new je,map:new(Me||Ge),string:new je}}function Ze(e){var t=Et(this,e)["delete"](e);return this.size-=t?1:0,t}function et(e){return Et(this,e).get(e)}function tt(e){return Et(this,e).has(e)}function nt(e,t){var n=Et(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function it(e){var t=-1,n=null==e?0:e.length;this.__data__=new Qe;while(++t<n)this.add(e[t])}function rt(e){return this.__data__.set(e,r),this}function ot(e){return this.__data__.has(e)}function st(e){var t=this.__data__=new Ge(e);this.size=t.size}function at(){this.__data__=new Ge,this.size=0}function lt(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function ct(e){return this.__data__.get(e)}function ut(e){return this.__data__.has(e)}function ht(e,t){var n=this.__data__;if(n instanceof Ge){var r=n.__data__;if(!Me||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qe(r)}return n.set(e,t),this.size=n.size,this}function dt(e,t){var n=jt(e),i=!n&&Ft(e),r=!n&&!i&&zt(e),o=!n&&!i&&!r&&$t(e),s=n||i||r||o,a=s?te(e.length,String):[],l=a.length;for(var c in e)!t&&!fe.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Pt(c,l))||a.push(c);return a}function ft(e,t){var n=e.length;while(n--)if(Bt(e[n][0],t))return n;return-1}function pt(e,t,n){var i=t(e);return jt(e)?i:Z(i,n(e))}function mt(e){return null==e?void 0===e?E:y:we&&we in Object(e)?Ct(e):Lt(e)}function gt(e){return Wt(e)&&mt(e)==l}function At(e,t,n,i,r){return e===t||(null==e||null==t||!Wt(e)&&!Wt(t)?e!==e&&t!==t:yt(e,t,n,i,At,r))}function yt(e,t,n,i,r,s){var a=jt(e),u=jt(t),h=a?c:kt(e),d=u?c:kt(t);h=h==l?v:h,d=d==l?v:d;var f=h==v,p=d==v,m=h==d;if(m&&zt(e)){if(!zt(t))return!1;a=!0,f=!1}if(m&&!f)return s||(s=new st),a||$t(e)?wt(e,t,n,i,r,s):xt(e,t,h,n,i,r,s);if(!(n&o)){var g=f&&fe.call(e,"__wrapped__"),A=p&&fe.call(t,"__wrapped__");if(g||A){var y=g?e.value():e,b=A?t.value():t;return s||(s=new st),r(y,b,n,i,s)}}return!!m&&(s||(s=new st),St(e,t,n,i,r,s))}function vt(e){if(!Gt(e)||Rt(e))return!1;var t=Vt(e)?ge:U;return t.test(Nt(e))}function bt(e){return Wt(e)&&Ht(e.length)&&!!q[mt(e)]}function _t(e){if(!Dt(e))return Te(e);var t=[];for(var n in Object(e))fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function wt(e,t,n,i,r,a){var l=n&o,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=a.get(e);if(h&&a.get(t))return h==t;var d=-1,f=!0,p=n&s?new it:void 0;a.set(e,t),a.set(t,e);while(++d<c){var m=e[d],g=t[d];if(i)var A=l?i(g,m,d,t,e,a):i(m,g,d,e,t,a);if(void 0!==A){if(A)continue;f=!1;break}if(p){if(!ee(t,(function(e,t){if(!ie(p,t)&&(m===e||r(m,e,n,i,a)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!r(m,g,n,i,a)){f=!1;break}}return a["delete"](e),a["delete"](t),f}function xt(e,t,n,i,r,a,l){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!a(new ve(e),new ve(t)));case h:case d:case A:return Bt(+e,+t);case f:return e.name==t.name&&e.message==t.message;case w:case S:return e==t+"";case g:var c=oe;case x:var u=i&o;if(c||(c=ae),e.size!=t.size&&!u)return!1;var p=l.get(e);if(p)return p==t;i|=s,l.set(e,t);var m=wt(c(e),c(t),i,r,a,l);return l["delete"](e),m;case T:if(Fe)return Fe.call(e)==Fe.call(t)}return!1}function St(e,t,n,i,r,s){var a=n&o,l=Tt(e),c=l.length,u=Tt(t),h=u.length;if(c!=h&&!a)return!1;var d=c;while(d--){var f=l[d];if(!(a?f in t:fe.call(t,f)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var m=!0;s.set(e,t),s.set(t,e);var g=a;while(++d<c){f=l[d];var A=e[f],y=t[f];if(i)var v=a?i(y,A,f,t,e,s):i(A,y,f,e,t,s);if(!(void 0===v?A===y||r(A,y,n,i,s):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(m=!1)}return s["delete"](e),s["delete"](t),m}function Tt(e){return pt(e,Xt,Ot)}function Et(e,t){var n=e.__data__;return It(t)?n["string"==typeof t?"string":"hash"]:n.map}function Mt(e,t){var n=re(e,t);return vt(n)?n:void 0}function Ct(e){var t=fe.call(e,we),n=e[we];try{e[we]=void 0;var i=!0}catch(o){}var r=me.call(e);return i&&(t?e[we]=n:delete e[we]),r}je.prototype.clear=Ue,je.prototype["delete"]=ze,je.prototype.get=qe,je.prototype.has=Ve,je.prototype.set=He,Ge.prototype.clear=We,Ge.prototype["delete"]=$e,Ge.prototype.get=Xe,Ge.prototype.has=Ye,Ge.prototype.set=Ke,Qe.prototype.clear=Je,Qe.prototype["delete"]=Ze,Qe.prototype.get=et,Qe.prototype.has=tt,Qe.prototype.set=nt,it.prototype.add=it.prototype.push=rt,it.prototype.has=ot,st.prototype.clear=at,st.prototype["delete"]=lt,st.prototype.get=ct,st.prototype.has=ut,st.prototype.set=ht;var Ot=xe?function(e){return null==e?[]:(e=Object(e),J(xe(e),(function(t){return be.call(e,t)})))}:Yt,kt=mt;function Pt(e,t){return t=null==t?a:t,!!t&&("number"==typeof e||z.test(e))&&e>-1&&e%1==0&&e<t}function It(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Rt(e){return!!pe&&pe in e}function Dt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ue;return e===n}function Lt(e){return me.call(e)}function Nt(e){if(null!=e){try{return de.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bt(e,t){return e===t||e!==e&&t!==t}(Ee&&kt(new Ee(new ArrayBuffer(1)))!=O||Me&&kt(new Me)!=g||Ce&&kt(Ce.resolve())!=b||Oe&&kt(new Oe)!=x||ke&&kt(new ke)!=M)&&(kt=function(e){var t=mt(e),n=t==v?e.constructor:void 0,i=n?Nt(n):"";if(i)switch(i){case Ie:return O;case Re:return g;case De:return b;case Le:return x;case Ne:return M}return t});var Ft=gt(function(){return arguments}())?gt:function(e){return Wt(e)&&fe.call(e,"callee")&&!be.call(e,"callee")},jt=Array.isArray;function Ut(e){return null!=e&&Ht(e.length)&&!Vt(e)}var zt=Se||Kt;function qt(e,t){return At(e,t)}function Vt(e){if(!Gt(e))return!1;var t=mt(e);return t==p||t==m||t==u||t==_}function Ht(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Gt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Wt(e){return null!=e&&"object"==typeof e}var $t=Q?ne(Q):bt;function Xt(e){return Ut(e)?dt(e):_t(e)}function Yt(){return[]}function Kt(){return!1}n.exports=qt}).call(this,n("c8ba"),n("62e4")(e))},"5e77":function(e,t,n){var i=n("83ab"),r=n("1a2d"),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},"5f02":function(e,t,n){"use strict";var i=n("c532");e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},"5fac":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n("9046");const r=["tokens","start","end","loc","raw","rawValue"],o=[...i.COMMENT_KEYS,"comments",...r];function s(e,t={}){const n=t.preserveComments?r:o;for(const r of n)null!=e[r]&&(e[r]=void 0);for(const r of Object.keys(e))"_"===r[0]&&null!=e[r]&&(e[r]=void 0);const i=Object.getOwnPropertySymbols(e);for(const r of i)e[r]=null}},"605d":function(e,t,n){(function(t){var i=n("c6b6");e.exports="undefined"!=typeof t&&"process"==i(t)}).call(this,n("4362"))},6083:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("b978");function r(e,t,n){"function"===typeof t&&(t={enter:t});const{enter:i,exit:r}=t;o(e,i,r,n,[])}function o(e,t,n,r,s){const a=i.VISITOR_KEYS[e.type];if(a){t&&t(e,s,r);for(const i of a){const a=e[i];if(Array.isArray(a))for(let l=0;l<a.length;l++){const c=a[l];c&&(s.push({node:e,key:i,index:l}),o(c,t,n,r,s),s.pop())}else a&&(s.push({node:e,key:i}),o(a,t,n,r,s),s.pop())}n&&n(e,s,r)}}},6100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("4702");function r(e,t,n,r){return(0,i.default)(e,t,[{type:r?"CommentLine":"CommentBlock",value:n}])}},"619b":function(e,t,n){},"629f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("eb5b"),r=n("ead6");function o(e){const t=(0,r.default)(e);return 1===t.length?t[0]:(0,i.unionTypeAnnotation)(t)}},"62a0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n("eb5b"),r=n("1aff"),o=n("c485");function s(e){const t=e.map(e=>(0,o.isTSTypeAnnotation)(e)?e.typeAnnotation:e),n=(0,r.default)(t);return 1===n.length?n[0]:(0,i.tsUnionType)(n)}},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"62ea":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.validateChild=s,t.validateField=o;var i=n("b978");function r(e,t,n){if(!e)return;const r=i.NODE_FIELDS[e.type];if(!r)return;const a=r[t];o(e,t,n,a),s(e,t,n)}function o(e,t,n,i){null!=i&&i.validate&&(i.optional&&null==n||i.validate(e,t,n))}function s(e,t,n){if(null==n)return;const r=i.NODE_PARENT_VALIDATIONS[n.type];r&&r(e,t,n)}},6309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("b978");function r(e,t){if("object"!==typeof e||"object"!==typeof t||null==e||null==t)return e===t;if(e.type!==t.type)return!1;const n=Object.keys(i.NODE_FIELDS[e.type]||e.type),o=i.VISITOR_KEYS[e.type];for(const i of n){const n=e[i],s=t[i];if(typeof n!==typeof s)return!1;if(null!=n||null!=s){if(null==n||null==s)return!1;if(Array.isArray(n)){if(!Array.isArray(s))return!1;if(n.length!==s.length)return!1;for(let e=0;e<n.length;e++)if(!r(n[e],s[e]))return!1}else if("object"!==typeof n||null!=o&&o.includes(i)){if(!r(n,s))return!1}else for(const e of Object.keys(n))if(n[e]!==s[e])return!1}}return!0}},6341:function(e,t,n){(function(t){var n="Expected a function",i="__lodash_hash_undefined__",r=1/0,o=9007199254740991,s="[object Arguments]",a="[object Function]",l="[object GeneratorFunction]",c="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,m=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,y="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,b=y||v||Function("return this")();function _(e,t){return null==e?void 0:e[t]}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var x=Array.prototype,S=Function.prototype,T=Object.prototype,E=b["__core-js_shared__"],M=function(){var e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),C=S.toString,O=T.hasOwnProperty,k=T.toString,P=RegExp("^"+C.call(O).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=b.Symbol,R=T.propertyIsEnumerable,D=x.splice,L=ce(b,"Map"),N=ce(Object,"create"),B=I?I.prototype:void 0,F=B?B.toString:void 0;function j(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function U(){this.__data__=N?N(null):{}}function z(e){return this.has(e)&&delete this.__data__[e]}function q(e){var t=this.__data__;if(N){var n=t[e];return n===i?void 0:n}return O.call(t,e)?t[e]:void 0}function V(e){var t=this.__data__;return N?void 0!==t[e]:O.call(t,e)}function H(e,t){var n=this.__data__;return n[e]=N&&void 0===t?i:t,this}function G(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function W(){this.__data__=[]}function $(e){var t=this.__data__,n=ie(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():D.call(t,n,1),!0}function X(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]}function Y(e){return ie(this.__data__,e)>-1}function K(e,t){var n=this.__data__,i=ie(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function Q(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function J(){this.__data__={hash:new j,map:new(L||G),string:new j}}function Z(e){return le(this,e)["delete"](e)}function ee(e){return le(this,e).get(e)}function te(e){return le(this,e).has(e)}function ne(e,t){return le(this,e).set(e,t),this}function ie(e,t){var n=e.length;while(n--)if(ve(e[n][0],t))return n;return-1}function re(e,t){return null!=e&&O.call(e,t)}function oe(e){if(!Ee(e)||pe(e))return!1;var t=Se(e)||w(e)?P:g;return t.test(Ae(e))}function se(e){if("string"==typeof e)return e;if(Ce(e))return F?F.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}function ae(e){return _e(e)?e:me(e)}function le(e,t){var n=e.__data__;return fe(t)?n["string"==typeof t?"string":"hash"]:n.map}function ce(e,t){var n=_(e,t);return oe(n)?n:void 0}function ue(e,t,n){t=de(t,e)?[t]:ae(t);var i,r=-1,o=t.length;while(++r<o){var s=ge(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;o=e?e.length:0;return!!o&&Te(o)&&he(s,o)&&(_e(e)||be(e))}function he(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function de(e,t){if(_e(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ce(e))||(h.test(e)||!u.test(e)||null!=t&&e in Object(t))}function fe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!M&&M in e}j.prototype.clear=U,j.prototype["delete"]=z,j.prototype.get=q,j.prototype.has=V,j.prototype.set=H,G.prototype.clear=W,G.prototype["delete"]=$,G.prototype.get=X,G.prototype.has=Y,G.prototype.set=K,Q.prototype.clear=J,Q.prototype["delete"]=Z,Q.prototype.get=ee,Q.prototype.has=te,Q.prototype.set=ne;var me=ye((function(e){e=Oe(e);var t=[];return d.test(e)&&t.push(""),e.replace(f,(function(e,n,i,r){t.push(i?r.replace(m,"$1"):n||e)})),t}));function ge(e){if("string"==typeof e||Ce(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}function Ae(e){if(null!=e){try{return C.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ye(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=e.apply(this,n);return i.cache=o.set(r,s),s};return i.cache=new(ye.Cache||Q),i}function ve(e,t){return e===t||e!==e&&t!==t}function be(e){return xe(e)&&O.call(e,"callee")&&(!R.call(e,"callee")||k.call(e)==s)}ye.Cache=Q;var _e=Array.isArray;function we(e){return null!=e&&Te(e.length)&&!Se(e)}function xe(e){return Me(e)&&we(e)}function Se(e){var t=Ee(e)?k.call(e):"";return t==a||t==l}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Me(e){return!!e&&"object"==typeof e}function Ce(e){return"symbol"==typeof e||Me(e)&&k.call(e)==c}function Oe(e){return null==e?"":se(e)}function ke(e,t){return null!=e&&ue(e,t,re)}e.exports=ke}).call(this,n("c8ba"))},6374:function(e,t,n){var i=n("da84"),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},6390:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("7a23");
/*!
  * vue-timer-hook v1.0.64
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */class r{static getTimeFromSeconds(e){const t=Object(i["computed"])(()=>Math.ceil(e.value)),n=Object(i["computed"])(()=>Math.floor(t.value/86400)),r=Object(i["computed"])(()=>Math.floor(t.value%86400/3600)),o=Object(i["computed"])(()=>Math.floor(t.value%3600/60)),s=Object(i["computed"])(()=>Math.floor(t.value%60));return{seconds:s,minutes:o,hours:r,days:n}}static getSecondsFromExpiry(e,t){const n=(new Date).getTime(),i=e-n;if(i>0){const e=i/1e3;return t?Math.round(e):e}return 0}static getSecondsFromPrevTime(e,t){const n=(new Date).getTime(),i=n-e;if(i>0){const e=i/1e3;return t?Math.round(e):e}return 0}static getSecondsFromTimeNow(){const e=new Date,t=e.getTime(),n=60*e.getTimezoneOffset();return t/1e3-n}static getFormattedTimeFromSeconds(e,t){const{seconds:n,minutes:o,hours:s}=r.getTimeFromSeconds(e),a=Object(i["computed"])(()=>"12-hour"===t?s.value>=12?"pm":"am":""),l=Object(i["computed"])(()=>"12-hour"===t?s.value%12:s.value);return{seconds:n,minutes:o,hours:l,ampm:a}}}class o{static expiryTimestamp(e){const t=new Date(e).getTime()>0;return t||console.warn("vue-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}}const s=e=>"number"===typeof e;function a(e,t){let n=void 0;const i=()=>{n&&(clearInterval(n),n=void 0)},r=r=>{if(i(),!r&&!t)return;const o=r||t;return n=setInterval(e,o)};return s(t)&&r(),{remove:i,start:r}}const l=1e3;function c(e){if(!o.expiryTimestamp(e))return null;const t=r.getSecondsFromExpiry(e),n=Math.floor(1e3*(t-Math.floor(t)));return n>0?n:l}const u=(e=60,t=!0)=>{let n;const o=Object(i["reactive"])({expiryTimestamp:e,seconds:r.getSecondsFromExpiry(e),isRunning:t,isExpired:!1,didStart:t,delay:c(e)});function s(){o.isExpired=!0,o.isRunning=!1,o.delay=null,n&&n.remove()}function u(){o.isRunning=!1,n&&n.remove()}function h(t=e,n=!0){u(),o.delay=c(t),o.didStart=n,o.isExpired=!1,o.expiryTimestamp=t,o.seconds=r.getSecondsFromExpiry(t),o.didStart&&f()}function d(){const e=new Date,t=e.setMilliseconds(e.getMilliseconds()+1e3*o.seconds);h(t)}function f(){o.didStart?(o.seconds=r.getSecondsFromExpiry(o.expiryTimestamp),o.isRunning=!0,n=a(()=>{o.delay!==l&&(o.delay=l);const e=r.getSecondsFromExpiry(o.expiryTimestamp);o.seconds=e,e<=0&&s()},o.isRunning?o.delay:null)):d()}return h(e,t),{...r.getTimeFromSeconds(Object(i["toRef"])(o,"seconds")),start:f,pause:u,resume:d,restart:h,isRunning:Object(i["toRef"])(o,"isRunning"),isExpired:Object(i["toRef"])(o,"isExpired")}}},"63bb":function(e,t,n){"use strict";var i=n("57de"),r=n("f28d"),o=n("177b");const s=(0,i.defineAliasedType)("TypeScript"),a=(0,i.assertValueType)("boolean"),l=()=>({returnType:{validate:(0,i.assertNodeType)("TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,i.assertNodeType)("TSTypeParameterDeclaration","Noop"),optional:!0}});s("TSParameterProperty",{aliases:["LVal"],visitor:["parameter"],fields:{accessibility:{validate:(0,i.assertOneOf)("public","private","protected"),optional:!0},readonly:{validate:(0,i.assertValueType)("boolean"),optional:!0},parameter:{validate:(0,i.assertNodeType)("Identifier","AssignmentPattern")},override:{validate:(0,i.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("Decorator"))),optional:!0}}}),s("TSDeclareFunction",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","params","returnType"],fields:Object.assign({},(0,r.functionDeclarationCommon)(),l())}),s("TSDeclareMethod",{visitor:["decorators","key","typeParameters","params","returnType"],fields:Object.assign({},(0,r.classMethodOrDeclareMethodCommon)(),l())}),s("TSQualifiedName",{aliases:["TSEntityName"],visitor:["left","right"],fields:{left:(0,i.validateType)("TSEntityName"),right:(0,i.validateType)("Identifier")}});const c=()=>({typeParameters:(0,i.validateOptionalType)("TSTypeParameterDeclaration"),["parameters"]:(0,i.validateArrayOfType)(["Identifier","RestElement"]),["typeAnnotation"]:(0,i.validateOptionalType)("TSTypeAnnotation")}),u={aliases:["TSTypeElement"],visitor:["typeParameters","parameters","typeAnnotation"],fields:c()};s("TSCallSignatureDeclaration",u),s("TSConstructSignatureDeclaration",u);const h=()=>({key:(0,i.validateType)("Expression"),computed:{default:!1},optional:(0,i.validateOptional)(a)});s("TSPropertySignature",{aliases:["TSTypeElement"],visitor:["key","typeAnnotation","initializer"],fields:Object.assign({},h(),{readonly:(0,i.validateOptional)(a),typeAnnotation:(0,i.validateOptionalType)("TSTypeAnnotation"),initializer:(0,i.validateOptionalType)("Expression"),kind:{validate:(0,i.assertOneOf)("get","set")}})}),s("TSMethodSignature",{aliases:["TSTypeElement"],visitor:["key","typeParameters","parameters","typeAnnotation"],fields:Object.assign({},c(),h(),{kind:{validate:(0,i.assertOneOf)("method","get","set")}})}),s("TSIndexSignature",{aliases:["TSTypeElement"],visitor:["parameters","typeAnnotation"],fields:{readonly:(0,i.validateOptional)(a),static:(0,i.validateOptional)(a),parameters:(0,i.validateArrayOfType)("Identifier"),typeAnnotation:(0,i.validateOptionalType)("TSTypeAnnotation")}});const d=["TSAnyKeyword","TSBooleanKeyword","TSBigIntKeyword","TSIntrinsicKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword"];for(const g of d)s(g,{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});s("TSThisType",{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});const f={aliases:["TSType"],visitor:["typeParameters","parameters","typeAnnotation"]};s("TSFunctionType",Object.assign({},f,{fields:c()})),s("TSConstructorType",Object.assign({},f,{fields:Object.assign({},c(),{abstract:(0,i.validateOptional)(a)})})),s("TSTypeReference",{aliases:["TSType"],visitor:["typeName","typeParameters"],fields:{typeName:(0,i.validateType)("TSEntityName"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSTypePredicate",{aliases:["TSType"],visitor:["parameterName","typeAnnotation"],builder:["parameterName","typeAnnotation","asserts"],fields:{parameterName:(0,i.validateType)(["Identifier","TSThisType"]),typeAnnotation:(0,i.validateOptionalType)("TSTypeAnnotation"),asserts:(0,i.validateOptional)(a)}}),s("TSTypeQuery",{aliases:["TSType"],visitor:["exprName","typeParameters"],fields:{exprName:(0,i.validateType)(["TSEntityName","TSImportType"]),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSTypeLiteral",{aliases:["TSType"],visitor:["members"],fields:{members:(0,i.validateArrayOfType)("TSTypeElement")}}),s("TSArrayType",{aliases:["TSType"],visitor:["elementType"],fields:{elementType:(0,i.validateType)("TSType")}}),s("TSTupleType",{aliases:["TSType"],visitor:["elementTypes"],fields:{elementTypes:(0,i.validateArrayOfType)(["TSType","TSNamedTupleMember"])}}),s("TSOptionalType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("TSType")}}),s("TSRestType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("TSType")}}),s("TSNamedTupleMember",{visitor:["label","elementType"],builder:["label","elementType","optional"],fields:{label:(0,i.validateType)("Identifier"),optional:{validate:a,default:!1},elementType:(0,i.validateType)("TSType")}});const p={aliases:["TSType"],visitor:["types"],fields:{types:(0,i.validateArrayOfType)("TSType")}};s("TSUnionType",p),s("TSIntersectionType",p),s("TSConditionalType",{aliases:["TSType"],visitor:["checkType","extendsType","trueType","falseType"],fields:{checkType:(0,i.validateType)("TSType"),extendsType:(0,i.validateType)("TSType"),trueType:(0,i.validateType)("TSType"),falseType:(0,i.validateType)("TSType")}}),s("TSInferType",{aliases:["TSType"],visitor:["typeParameter"],fields:{typeParameter:(0,i.validateType)("TSTypeParameter")}}),s("TSParenthesizedType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("TSType")}}),s("TSTypeOperator",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{operator:(0,i.validate)((0,i.assertValueType)("string")),typeAnnotation:(0,i.validateType)("TSType")}}),s("TSIndexedAccessType",{aliases:["TSType"],visitor:["objectType","indexType"],fields:{objectType:(0,i.validateType)("TSType"),indexType:(0,i.validateType)("TSType")}}),s("TSMappedType",{aliases:["TSType"],visitor:["typeParameter","typeAnnotation","nameType"],fields:{readonly:(0,i.validateOptional)((0,i.assertOneOf)(!0,!1,"+","-")),typeParameter:(0,i.validateType)("TSTypeParameter"),optional:(0,i.validateOptional)((0,i.assertOneOf)(!0,!1,"+","-")),typeAnnotation:(0,i.validateOptionalType)("TSType"),nameType:(0,i.validateOptionalType)("TSType")}}),s("TSLiteralType",{aliases:["TSType","TSBaseType"],visitor:["literal"],fields:{literal:{validate:function(){const e=(0,i.assertNodeType)("NumericLiteral","BigIntLiteral"),t=(0,i.assertOneOf)("-"),n=(0,i.assertNodeType)("NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral");function r(i,r,s){(0,o.default)("UnaryExpression",s)?(t(s,"operator",s.operator),e(s,"argument",s.argument)):n(i,r,s)}return r.oneOfNodeTypes=["NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral","UnaryExpression"],r}()}}}),s("TSExpressionWithTypeArguments",{aliases:["TSType"],visitor:["expression","typeParameters"],fields:{expression:(0,i.validateType)("TSEntityName"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSInterfaceDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","extends","body"],fields:{declare:(0,i.validateOptional)(a),id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterDeclaration"),extends:(0,i.validateOptional)((0,i.arrayOfType)("TSExpressionWithTypeArguments")),body:(0,i.validateType)("TSInterfaceBody")}}),s("TSInterfaceBody",{visitor:["body"],fields:{body:(0,i.validateArrayOfType)("TSTypeElement")}}),s("TSTypeAliasDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","typeAnnotation"],fields:{declare:(0,i.validateOptional)(a),id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterDeclaration"),typeAnnotation:(0,i.validateType)("TSType")}}),s("TSInstantiationExpression",{aliases:["Expression"],visitor:["expression","typeParameters"],fields:{expression:(0,i.validateType)("Expression"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}});const m={aliases:["Expression","LVal","PatternLike"],visitor:["expression","typeAnnotation"],fields:{expression:(0,i.validateType)("Expression"),typeAnnotation:(0,i.validateType)("TSType")}};s("TSAsExpression",m),s("TSSatisfiesExpression",m),s("TSTypeAssertion",{aliases:["Expression","LVal","PatternLike"],visitor:["typeAnnotation","expression"],fields:{typeAnnotation:(0,i.validateType)("TSType"),expression:(0,i.validateType)("Expression")}}),s("TSEnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","members"],fields:{declare:(0,i.validateOptional)(a),const:(0,i.validateOptional)(a),id:(0,i.validateType)("Identifier"),members:(0,i.validateArrayOfType)("TSEnumMember"),initializer:(0,i.validateOptionalType)("Expression")}}),s("TSEnumMember",{visitor:["id","initializer"],fields:{id:(0,i.validateType)(["Identifier","StringLiteral"]),initializer:(0,i.validateOptionalType)("Expression")}}),s("TSModuleDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{declare:(0,i.validateOptional)(a),global:(0,i.validateOptional)(a),id:(0,i.validateType)(["Identifier","StringLiteral"]),body:(0,i.validateType)(["TSModuleBlock","TSModuleDeclaration"])}}),s("TSModuleBlock",{aliases:["Scopable","Block","BlockParent","FunctionParent"],visitor:["body"],fields:{body:(0,i.validateArrayOfType)("Statement")}}),s("TSImportType",{aliases:["TSType"],visitor:["argument","qualifier","typeParameters"],fields:{argument:(0,i.validateType)("StringLiteral"),qualifier:(0,i.validateOptionalType)("TSEntityName"),typeParameters:(0,i.validateOptionalType)("TSTypeParameterInstantiation")}}),s("TSImportEqualsDeclaration",{aliases:["Statement"],visitor:["id","moduleReference"],fields:{isExport:(0,i.validate)(a),id:(0,i.validateType)("Identifier"),moduleReference:(0,i.validateType)(["TSEntityName","TSExternalModuleReference"]),importKind:{validate:(0,i.assertOneOf)("type","value"),optional:!0}}}),s("TSExternalModuleReference",{visitor:["expression"],fields:{expression:(0,i.validateType)("StringLiteral")}}),s("TSNonNullExpression",{aliases:["Expression","LVal","PatternLike"],visitor:["expression"],fields:{expression:(0,i.validateType)("Expression")}}),s("TSExportAssignment",{aliases:["Statement"],visitor:["expression"],fields:{expression:(0,i.validateType)("Expression")}}),s("TSNamespaceExportDeclaration",{aliases:["Statement"],visitor:["id"],fields:{id:(0,i.validateType)("Identifier")}}),s("TSTypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:{validate:(0,i.assertNodeType)("TSType")}}}),s("TSTypeParameterInstantiation",{visitor:["params"],fields:{params:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("TSType")))}}}),s("TSTypeParameterDeclaration",{visitor:["params"],fields:{params:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("TSTypeParameter")))}}}),s("TSTypeParameter",{builder:["constraint","default","name"],visitor:["constraint","default"],fields:{name:{validate:(0,i.assertValueType)("string")},in:{validate:(0,i.assertValueType)("boolean"),optional:!0},out:{validate:(0,i.assertValueType)("boolean"),optional:!0},const:{validate:(0,i.assertValueType)("boolean"),optional:!0},constraint:{validate:(0,i.assertNodeType)("TSType"),optional:!0},default:{validate:(0,i.assertNodeType)("TSType"),optional:!0}}})},"640d":function(e,t,n){(function(e){"use strict";var t={};function n(e,i,r){if(r!==t)return e instanceof n?e:"undefined"===typeof e?o:n.parse(e);e=e||[];while(e.length&&!e[e.length-1])--e.length;this._d=e,this._s=e.length?i||1:0}n._construct=function(e,i){return new n(e,i,t)};var i=1e7,r=7;n.base=i,n.base_log10=r;var o=new n([],0,t);n.ZERO=o;var s=new n([1],1,t);n.ONE=s;var a=new n(s._d,-1,t);n.M_ONE=a,n._0=o,n._1=s,n.small=[o,s,new n([2],1,t),new n([3],1,t),new n([4],1,t),new n([5],1,t),new n([6],1,t),new n([7],1,t),new n([8],1,t),new n([9],1,t),new n([10],1,t),new n([11],1,t),new n([12],1,t),new n([13],1,t),new n([14],1,t),new n([15],1,t),new n([16],1,t),new n([17],1,t),new n([18],1,t),new n([19],1,t),new n([20],1,t),new n([21],1,t),new n([22],1,t),new n([23],1,t),new n([24],1,t),new n([25],1,t),new n([26],1,t),new n([27],1,t),new n([28],1,t),new n([29],1,t),new n([30],1,t),new n([31],1,t),new n([32],1,t),new n([33],1,t),new n([34],1,t),new n([35],1,t),new n([36],1,t)],n.digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n.prototype.toString=function(e){if(e=+e||10,e<2||e>36)throw new Error("illegal radix "+e+".");if(0===this._s)return"0";if(10===e){var t=this._s<0?"-":"";t+=this._d[this._d.length-1].toString();for(var i=this._d.length-2;i>=0;i--){var o=this._d[i].toString();while(o.length<r)o="0"+o;t+=o}return t}var s=n.digits;e=n.small[e];var a,l=this._s,c=this.abs(),u=[];while(0!==c._s){var h=c.divRem(e);c=h[0],a=h[1],u.push(s[a.valueOf()])}return(l<0?"-":"")+u.reverse().join("")},n.radixRegex=[/^$/,/^$/,/^[01]*$/,/^[012]*$/,/^[0-3]*$/,/^[0-4]*$/,/^[0-5]*$/,/^[0-6]*$/,/^[0-7]*$/,/^[0-8]*$/,/^[0-9]*$/,/^[0-9aA]*$/,/^[0-9abAB]*$/,/^[0-9abcABC]*$/,/^[0-9a-dA-D]*$/,/^[0-9a-eA-E]*$/,/^[0-9a-fA-F]*$/,/^[0-9a-gA-G]*$/,/^[0-9a-hA-H]*$/,/^[0-9a-iA-I]*$/,/^[0-9a-jA-J]*$/,/^[0-9a-kA-K]*$/,/^[0-9a-lA-L]*$/,/^[0-9a-mA-M]*$/,/^[0-9a-nA-N]*$/,/^[0-9a-oA-O]*$/,/^[0-9a-pA-P]*$/,/^[0-9a-qA-Q]*$/,/^[0-9a-rA-R]*$/,/^[0-9a-sA-S]*$/,/^[0-9a-tA-T]*$/,/^[0-9a-uA-U]*$/,/^[0-9a-vA-V]*$/,/^[0-9a-wA-W]*$/,/^[0-9a-xA-X]*$/,/^[0-9a-yA-Y]*$/,/^[0-9a-zA-Z]*$/],n.parse=function(e,i){function s(e){return e=e.replace(/\s*[*xX]\s*10\s*(\^|\*\*)\s*/,"e"),e.replace(/^([+\-])?(\d+)\.?(\d*)[eE]([+\-]?\d+)$/,(function(e,t,n,i,r){r=+r;var o=r<0,s=n.length+r;e=(o?n:i).length,r=(r=Math.abs(r))>=e?r-e+o:0;var a=new Array(r+1).join("0"),l=n+i;return(t||"")+(o?l=a+l:l+=a).substr(0,s+=o?a.length:0)+(s<l.length?"."+l.substr(s):"")}))}var a;e=e.toString(),"undefined"!==typeof i&&10!==+i||(e=s(e)),a="undefined"===typeof i?"0[xcb]":16==i?"0x":8==i?"0c":2==i?"0b":"";var l=new RegExp("^([+\\-]?)("+a+")?([0-9a-z]*)(?:\\.\\d*)?$","i").exec(e);if(l){var c=l[1]||"+",u=l[2]||"",h=l[3]||"";if("undefined"===typeof i)i="0x"===u||"0X"===u?16:"0c"===u||"0C"===u?8:"0b"===u||"0B"===u?2:10;else if(i<2||i>36)throw new Error("Illegal radix "+i+".");if(i=+i,!n.radixRegex[i].test(h))throw new Error("Bad digit for radix "+i);if(h=h.replace(/^0+/,"").split(""),0===h.length)return o;if(c="-"===c?-1:1,10==i){var d=[];while(h.length>=r)d.push(parseInt(h.splice(h.length-n.base_log10,n.base_log10).join(""),10));return d.push(parseInt(h.join(""),10)),new n(d,c,t)}d=o;i=n.small[i];for(var f=n.small,p=0;p<h.length;p++)d=d.multiply(i).add(f[parseInt(h[p],36)]);return new n(d._d,c,t)}throw new Error("Invalid BigInteger format: "+e)},n.prototype.add=function(e){if(0===this._s)return n(e);if(e=n(e),0===e._s)return this;if(this._s!==e._s)return e=e.negate(),this.subtract(e);for(var r,o=this._d,s=e._d,a=o.length,l=s.length,c=new Array(Math.max(a,l)+1),u=Math.min(a,l),h=0,d=0;d<u;d++)r=o[d]+s[d]+h,c[d]=r%i,h=r/i|0;for(l>a&&(o=s,a=l),d=u;h&&d<a;d++)r=o[d]+h,c[d]=r%i,h=r/i|0;for(h&&(c[d]=h);d<a;d++)c[d]=o[d];return new n(c,this._s,t)},n.prototype.negate=function(){return new n(this._d,0|-this._s,t)},n.prototype.abs=function(){return this._s<0?this.negate():this},n.prototype.subtract=function(e){if(0===this._s)return n(e).negate();if(e=n(e),0===e._s)return this;if(this._s!==e._s)return e=e.negate(),this.add(e);var r=this;this._s<0&&(r=new n(e._d,1,t),e=new n(this._d,1,t));var s=r.compareAbs(e);if(0===s)return o;if(s<0){var a=e;e=r,r=a}var l,c,u=r._d,h=e._d,d=u.length,f=h.length,p=new Array(d),m=0;for(l=0;l<f;l++)c=u[l]-m-h[l],c<0?(c+=i,m=1):m=0,p[l]=c;for(l=f;l<d;l++){if(c=u[l]-m,!(c<0)){p[l++]=c;break}c+=i,p[l]=c}for(;l<d;l++)p[l]=u[l];return new n(p,s,t)},function(){function e(e,r){var o=e._d,s=o.slice(),a=0;while(1){var l=(o[a]||0)+1;if(s[a]=l%i,l<=i-1)break;++a}return new n(s,r,t)}function r(e,r){var o=e._d,s=o.slice(),a=0;while(1){var l=(o[a]||0)-1;if(!(l<0)){s[a]=l;break}s[a]=l+i,++a}return new n(s,r,t)}n.prototype.next=function(){switch(this._s){case 0:return s;case-1:return r(this,-1);default:return e(this,1)}},n.prototype.prev=function(){switch(this._s){case 0:return a;case-1:return e(this,-1);default:return r(this,1)}}}(),n.prototype.compareAbs=function(e){if(this===e)return 0;if(!(e instanceof n)){if(!isFinite(e))return isNaN(e)?e:-1;e=n(e)}if(0===this._s)return 0!==e._s?-1:0;if(0===e._s)return 1;var t=this._d.length,i=e._d.length;if(t<i)return-1;if(t>i)return 1;for(var r=this._d,o=e._d,s=t-1;s>=0;s--)if(r[s]!==o[s])return r[s]<o[s]?-1:1;return 0},n.prototype.compare=function(e){if(this===e)return 0;if(e=n(e),0===this._s)return-e._s;if(this._s===e._s){var t=this.compareAbs(e);return t*this._s}return this._s},n.prototype.isUnit=function(){return this===s||this===a||1===this._d.length&&1===this._d[0]},n.prototype.multiply=function(e){if(0===this._s)return o;if(e=n(e),0===e._s)return o;if(this.isUnit())return this._s<0?e.negate():e;if(e.isUnit())return e._s<0?this.negate():this;if(this===e)return this.square();var r,s=this._d.length>=e._d.length,a=(s?this:e)._d,l=(s?e:this)._d,c=a.length,u=l.length,h=c+u,d=new Array(h);for(r=0;r<h;r++)d[r]=0;for(r=0;r<u;r++){for(var f,p=0,m=l[r],g=c+r,A=r;A<g;A++)f=d[A]+m*a[A-r]+p,p=f/i|0,d[A]=f%i|0;p&&(f=d[A]+p,p=f/i|0,d[A]=f%i)}return new n(d,this._s*e._s,t)},n.prototype.multiplySingleDigit=function(e){if(0===e||0===this._s)return o;if(1===e)return this;var r;if(1===this._d.length)return r=this._d[0]*e,new n(r>=i?[r%i|0,r/i|0]:[r],1,t);if(2===e)return this.add(this);if(this.isUnit())return new n([e],1,t);for(var s=this._d,a=s.length,l=a+1,c=new Array(l),u=0;u<l;u++)c[u]=0;for(var h=0,d=0;d<a;d++)r=e*s[d]+h,h=r/i|0,c[d]=r%i|0;return h&&(c[d]=h),new n(c,1,t)},n.prototype.square=function(){if(0===this._s)return o;if(this.isUnit())return s;var e,r,a,l,c=this._d,u=c.length,h=new Array(u+u+1);for(l=0;l<u;l++)a=2*l,e=c[l]*c[l],r=e/i|0,h[a]=e%i,h[a+1]=r;for(l=0;l<u;l++){r=0,a=2*l+1;for(var d=l+1;d<u;d++,a++)e=c[d]*c[l]*2+h[a]+r,r=e/i|0,h[a]=e%i;a=u+l;var f=r+h[a];r=f/i|0,h[a]=f%i,h[a+1]+=r}return new n(h,1,t)},n.prototype.quotient=function(e){return this.divRem(e)[0]},n.prototype.divide=n.prototype.quotient,n.prototype.remainder=function(e){return this.divRem(e)[1]},n.prototype.divRem=function(e){if(e=n(e),0===e._s)throw new Error("Divide by zero");if(0===this._s)return[o,o];if(1===e._d.length)return this.divRemSmall(e._s*e._d[0]);switch(this.compareAbs(e)){case 0:return[this._s===e._s?s:a,o];case-1:return[o,this]}var r,l=this._s*e._s,c=e.abs(),u=this._d,h=u.length,d=(e._d.length,[]),f=new n([],0,t);while(h)if(f._d.unshift(u[--h]),f=new n(f._d,1,t),f.compareAbs(e)<0)d.push(0);else{if(0===f._s)r=0;else{var p=f._d.length,m=c._d.length,g=f._d[p-1]*i+f._d[p-2],A=c._d[m-1]*i+c._d[m-2];f._d.length>c._d.length&&(g=(g+1)*i),r=Math.ceil(g/A)}do{var y=c.multiplySingleDigit(r);if(y.compareAbs(f)<=0)break;r--}while(r);if(d.push(r),r){var v=f.subtract(y);f._d=v._d.slice()}}return[new n(d.reverse(),l,t),new n(f._d,this._s,t)]},n.prototype.divRemSmall=function(e){var r;if(e=+e,0===e)throw new Error("Divide by zero");var s=e<0?-1:1,a=this._s*s;if(e=Math.abs(e),e<1||e>=i)throw new Error("Argument out of range");if(0===this._s)return[o,o];if(1===e||-1===e)return[1===a?this.abs():new n(this._d,a,t),o];if(1===this._d.length){var l=new n([this._d[0]/e|0],1,t);return r=new n([this._d[0]%e|0],1,t),a<0&&(l=l.negate()),this._s<0&&(r=r.negate()),[l,r]}var c,u=this._d.slice(),h=new Array(u.length),d=0,f=0,p=0;while(u.length)if(d=d*i+u[u.length-1],d<e)h[p++]=0,u.pop(),f=i*f+d;else{c=0===d?0:d/e|0;var m=e*c;f=d-m,h[p++]=c,c?(u.pop(),d=f):u.pop()}return r=new n([f],1,t),this._s<0&&(r=r.negate()),[new n(h.reverse(),a,t),r]},n.prototype.isEven=function(){var e=this._d;return 0===this._s||0===e.length||e[0]%2===0},n.prototype.isOdd=function(){return!this.isEven()},n.prototype.sign=function(){return this._s},n.prototype.isPositive=function(){return this._s>0},n.prototype.isNegative=function(){return this._s<0},n.prototype.isZero=function(){return 0===this._s},n.prototype.exp10=function(e){if(e=+e,0===e)return this;if(Math.abs(e)>Number(l))throw new Error("exponent too large in BigInteger.exp10");if(0===this._s)return o;if(e>0){for(var i=new n(this._d.slice(),this._s,t);e>=r;e-=r)i._d.unshift(0);return 0==e?i:(i._s=1,i=i.multiplySingleDigit(Math.pow(10,e)),this._s<0?i.negate():i)}if(-e>=this._d.length*r)return o;i=new n(this._d.slice(),this._s,t);for(e=-e;e>=r;e-=r)i._d.shift();return 0==e?i:i.divRemSmall(Math.pow(10,e))[0]},n.prototype.pow=function(e){if(this.isUnit())return this._s>0||n(e).isOdd()?this:this.negate();if(e=n(e),0===e._s)return s;if(e._s<0){if(0===this._s)throw new Error("Divide by zero");return o}if(0===this._s)return o;if(e.isUnit())return this;if(e.compareAbs(l)>0)throw new Error("exponent too large in BigInteger.pow");var t=this,i=s,r=n.small[2];while(e.isPositive()){if(e.isOdd()&&(i=i.multiply(t),e.isUnit()))return i;t=t.square(),e=e.quotient(r)}return i},n.prototype.modPow=function(e,t){var i=s,r=this;while(e.isPositive())e.isOdd()&&(i=i.multiply(r).remainder(t)),e=e.quotient(n.small[2]),e.isPositive()&&(r=r.square().remainder(t));return i},n.prototype.log=function(){switch(this._s){case 0:return-1/0;case-1:return NaN;default:}var e=this._d.length;if(e*r<30)return Math.log(this.valueOf());var o=Math.ceil(30/r),s=this._d.slice(e-o);return Math.log(new n(s,1,t).valueOf())+(e-o)*Math.log(i)},n.prototype.valueOf=function(){return parseInt(this.toString(),10)},n.prototype.toJSValue=function(){return parseInt(this.toString(),10)},n.prototype.lowVal=function(){return this._d[0]||0};var l=n(2147483647);n.MAX_EXP=l,function(){function e(e){return function(t){return e.call(n(t))}}function t(e){return function(t,i){return e.call(n(t),n(i))}}function i(e){return function(t,i,r){return e.call(n(t),n(i),n(r))}}(function(){var r,o,s="toJSValue,isEven,isOdd,sign,isZero,isNegative,abs,isUnit,square,negate,isPositive,toString,next,prev,log".split(","),a="compare,remainder,divRem,subtract,add,quotient,divide,multiply,pow,compareAbs".split(","),l=["modPow"];for(r=0;r<s.length;r++)o=s[r],n[o]=e(n.prototype[o]);for(r=0;r<a.length;r++)o=a[r],n[o]=t(n.prototype[o]);for(r=0;r<l.length;r++)o=l[r],n[o]=i(n.prototype[o]);n.exp10=function(e,t){return n(e).exp10(t)}})()}(),e.JSBigInt=n})(t)},6605:function(e,t,n){"use strict";n.d(t,"a",(function(){return tt})),n.d(t,"b",(function(){return j}));var i=n("7a23");n("3f4e");
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const r="undefined"!==typeof window;function o(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const s=Object.assign;function a(e,t){const n={};for(const i in t){const r=t[i];n[i]=c(r)?r.map(e):e(r)}return n}const l=()=>{},c=Array.isArray;const u=/\/$/,h=e=>e.replace(u,"");function d(e,t,n="/"){let i,r={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(i=i||t.slice(0,a),s=t.slice(a,t.length)),i=b(null!=i?i:t,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:s}}function f(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function p(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function m(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&g(t.matched[i],n.matched[r])&&A(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function g(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function A(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!y(e[n],t[n]))return!1;return!0}function y(e,t){return c(e)?v(e,t):c(t)?v(t,e):e===t}function v(e,t){return c(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}function b(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r,o,s=n.length-1;for(r=0;r<i.length;r++)if(o=i[r],"."!==o){if(".."!==o)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var _,w;(function(e){e["pop"]="pop",e["push"]="push"})(_||(_={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(w||(w={}));function x(e){if(!e)if(r){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),h(e)}const S=/^[^#]+#/;function T(e,t){return e.replace(S,"#")+t}function E(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const M=()=>({left:window.pageXOffset,top:window.pageYOffset});function C(e){let t;if("el"in e){const n=e.el,i="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=E(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function O(e,t){const n=history.state?history.state.position-t:-1;return n+e}const k=new Map;function P(e,t){k.set(e,t)}function I(e){const t=k.get(e);return k.delete(e),t}let R=()=>location.protocol+"//"+location.host;function D(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let t=r.includes(e.slice(o))?e.slice(o).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),p(n,"")}const s=p(n,e);return s+i+r}function L(e,t,n,i){let r=[],o=[],a=null;const l=({state:o})=>{const s=D(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=s,t.value=o,a&&a===l)return void(a=null);u=c?o.position-c.position:0}else i(s);r.forEach(e=>{e(n.value,l,{delta:u,type:_.pop,direction:u?u>0?w.forward:w.back:w.unknown})})};function c(){a=n.value}function u(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return o.push(t),t}function h(){const{history:e}=window;e.state&&e.replaceState(s({},e.state,{scroll:M()}),"")}function d(){for(const e of o)e();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:u,destroy:d}}function N(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?M():null}}function B(e){const{history:t,location:n}=window,i={value:D(e,n)},r={value:t.state};function o(i,o,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+i:R()+e+i;try{t[s?"replaceState":"pushState"](o,"",l),r.value=o}catch(c){console.error(c),n[s?"replace":"assign"](l)}}function a(e,n){const a=s({},t.state,N(r.value.back,e,r.value.forward,!0),n,{position:r.value.position});o(e,a,!0),i.value=e}function l(e,n){const a=s({},r.value,t.state,{forward:e,scroll:M()});o(a.current,a,!0);const l=s({},N(i.value,e,null),{position:a.position+1},n);o(e,l,!1),i.value=e}return r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:l,replace:a}}function F(e){e=x(e);const t=B(e),n=L(e,t.state,t.location,t.replace);function i(e,t=!0){t||n.pauseListeners(),history.go(e)}const r=s({location:"",base:e,go:i,createHref:T.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function j(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),F(e)}function U(e){return"string"===typeof e||e&&"object"===typeof e}function z(e){return"string"===typeof e||"symbol"===typeof e}const q={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},V=Symbol("");var H;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(H||(H={}));function G(e,t){return s(new Error,{type:e,[V]:!0},t)}function W(e,t){return e instanceof Error&&V in e&&(null==t||!!(e.type&t))}const $="[^/]+?",X={sensitive:!1,strict:!1,start:!0,end:!0},Y=/[.+*?^${}()[\]/\\]/g;function K(e,t){const n=s({},X,t),i=[];let r=n.start?"^":"";const o=[];for(const s of e){const e=s.length?[]:[90];n.strict&&!s.length&&(r+="/");for(let t=0;t<s.length;t++){const i=s[t];let a=40+(n.sensitive?.25:0);if(0===i.type)t||(r+="/"),r+=i.value.replace(Y,"\\$&"),a+=40;else if(1===i.type){const{value:e,repeatable:n,optional:l,regexp:c}=i;o.push({name:e,repeatable:n,optional:l});const u=c||$;if(u!==$){a+=10;try{new RegExp(`(${u})`)}catch(h){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+h.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(d=l&&s.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(e){const t=e.match(a),n={};if(!t)return null;for(let i=1;i<t.length;i++){const e=t[i]||"",r=o[i-1];n[r.name]=e&&r.repeatable?e.split("/"):e}return n}function u(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(c(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=u}}return n||"/"}return{re:a,score:i,keys:o,parse:l,stringify:u}}function Q(e,t){let n=0;while(n<e.length&&n<t.length){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function J(e,t){let n=0;const i=e.score,r=t.score;while(n<i.length&&n<r.length){const e=Q(i[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-i.length)){if(Z(i))return 1;if(Z(r))return-1}return r.length-i.length}function Z(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function ne(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,l=0,c="",u="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function d(){c+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:te.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state");break}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),h(),s(),r}function ie(e,t,n){const i=K(ne(e.path),n);const r=s(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf===!t.record.aliasOf&&t.children.push(r),r}function re(e,t){const n=[],i=new Map;function r(e){return i.get(e)}function o(e,n,i){const r=!i,c=se(e);c.aliasOf=i&&i.record;const h=ue(t,e),d=[c];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(s({},c,{components:i?i.record.components:c.components,path:e,aliasOf:i?i.record:c}))}let f,p;for(const t of d){const{path:s}=t;if(n&&"/"!==s[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(s&&i+s)}if(f=ie(t,n,h),i?i.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),r&&e.name&&!le(f)&&a(e.name)),c.children){const e=c.children;for(let t=0;t<e.length;t++)o(e[t],f,i&&i.children[t])}i=i||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&u(f)}return p?()=>{a(p)}:l}function a(e){if(z(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function c(){return n}function u(e){let t=0;while(t<n.length&&J(e,n[t])>=0&&(e.record.path!==n[t].record.path||!he(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!le(e)&&i.set(e.record.name,e)}function h(e,t){let r,o,a,l={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw G(1,{location:e});0,a=r.record.name,l=s(oe(t.params,r.keys.filter(e=>!e.optional).map(e=>e.name)),e.params&&oe(e.params,r.keys.map(e=>e.name))),o=r.stringify(l)}else if("path"in e)o=e.path,r=n.find(e=>e.re.test(o)),r&&(l=r.parse(o),a=r.record.name);else{if(r=t.name?i.get(t.name):n.find(e=>e.re.test(t.path)),!r)throw G(1,{location:e,currentLocation:t});a=r.record.name,l=s({},t.params,e.params),o=r.stringify(l)}const c=[];let u=r;while(u)c.unshift(u.record),u=u.parent;return{name:a,path:o,params:l,matched:c,meta:ce(c)}}return t=ue({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>o(e)),{addRoute:o,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:r}}function oe(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function se(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ae(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ae(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="boolean"===typeof n?n:n[i];return t}function le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ce(e){return e.reduce((e,t)=>s(e,t.meta),{})}function ue(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function he(e,t){return t.children.some(t=>t===e||he(e,t))}const de=/#/g,fe=/&/g,pe=/\//g,me=/=/g,ge=/\?/g,Ae=/\+/g,ye=/%5B/g,ve=/%5D/g,be=/%5E/g,_e=/%60/g,we=/%7B/g,xe=/%7C/g,Se=/%7D/g,Te=/%20/g;function Ee(e){return encodeURI(""+e).replace(xe,"|").replace(ye,"[").replace(ve,"]")}function Me(e){return Ee(e).replace(we,"{").replace(Se,"}").replace(be,"^")}function Ce(e){return Ee(e).replace(Ae,"%2B").replace(Te,"+").replace(de,"%23").replace(fe,"%26").replace(_e,"`").replace(we,"{").replace(Se,"}").replace(be,"^")}function Oe(e){return Ce(e).replace(me,"%3D")}function ke(e){return Ee(e).replace(de,"%23").replace(ge,"%3F")}function Pe(e){return null==e?"":ke(e).replace(pe,"%2F")}function Ie(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Re(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],i=(n?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const e=i[r].replace(Ae," "),n=e.indexOf("="),o=Ie(n<0?e:e.slice(0,n)),s=n<0?null:Ie(e.slice(n+1));if(o in t){let e=t[o];c(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function De(e){let t="";for(let n in e){const i=e[n];if(n=Oe(n),null==i){void 0!==i&&(t+=(t.length?"&":"")+n);continue}const r=c(i)?i.map(e=>e&&Ce(e)):[i&&Ce(i)];r.forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})}return t}function Le(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=c(i)?i.map(e=>null==e?null:""+e):null==i?i:""+i)}return t}const Ne=Symbol(""),Be=Symbol(""),Fe=Symbol(""),je=Symbol(""),Ue=Symbol("");function ze(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function qe(e,t,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((s,a)=>{const l=e=>{!1===e?a(G(4,{from:n,to:t})):e instanceof Error?a(e):U(e)?a(G(2,{from:t,to:e})):(o&&i.enterCallbacks[r]===o&&"function"===typeof e&&o.push(e),s())},c=e.call(i&&i.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(e=>a(e))})}function Ve(e,t,n,i){const r=[];for(const s of e){0;for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(He(a)){const o=a.__vccOpts||a,l=o[t];l&&r.push(qe(l,n,i,s,e))}else{let l=a();0,r.push(()=>l.then(r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const a=o(r)?r.default:r;s.components[e]=a;const l=a.__vccOpts||a,c=l[t];return c&&qe(c,n,i,s,e)()}))}}}return r}function He(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ge(e){const t=Object(i["inject"])(Fe),n=Object(i["inject"])(je),r=Object(i["computed"])(()=>t.resolve(Object(i["unref"])(e.to))),o=Object(i["computed"])(()=>{const{matched:e}=r.value,{length:t}=e,i=e[t-1],o=n.matched;if(!i||!o.length)return-1;const s=o.findIndex(g.bind(null,i));if(s>-1)return s;const a=Ke(e[t-2]);return t>1&&Ke(i)===a&&o[o.length-1].path!==a?o.findIndex(g.bind(null,e[t-2])):s}),s=Object(i["computed"])(()=>o.value>-1&&Ye(n.params,r.value.params)),a=Object(i["computed"])(()=>o.value>-1&&o.value===n.matched.length-1&&A(n.params,r.value.params));function c(n={}){return Xe(n)?t[Object(i["unref"])(e.replace)?"replace":"push"](Object(i["unref"])(e.to)).catch(l):Promise.resolve()}return{route:r,href:Object(i["computed"])(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const We=Object(i["defineComponent"])({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ge,setup(e,{slots:t}){const n=Object(i["reactive"])(Ge(e)),{options:r}=Object(i["inject"])(Fe),o=Object(i["computed"])(()=>({[Qe(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Qe(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Object(i["h"])("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),$e=We;function Xe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(const n in t){const i=t[n],r=e[n];if("string"===typeof i){if(i!==r)return!1}else if(!c(r)||r.length!==i.length||i.some((e,t)=>e!==r[t]))return!1}return!0}function Ke(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qe=(e,t,n)=>null!=e?e:null!=t?t:n,Je=Object(i["defineComponent"])({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Object(i["inject"])(Ue),o=Object(i["computed"])(()=>e.route||r.value),a=Object(i["inject"])(Be,0),l=Object(i["computed"])(()=>{let e=Object(i["unref"])(a);const{matched:t}=o.value;let n;while((n=t[e])&&!n.components)e++;return e}),c=Object(i["computed"])(()=>o.value.matched[l.value]);Object(i["provide"])(Be,Object(i["computed"])(()=>l.value+1)),Object(i["provide"])(Ne,c),Object(i["provide"])(Ue,o);const u=Object(i["ref"])();return Object(i["watch"])(()=>[u.value,c.value,e.name],([e,t,n],[i,r,o])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&g(t,r)&&i||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const r=o.value,a=e.name,l=c.value,h=l&&l.components[a];if(!h)return Ze(n.default,{Component:h,route:r});const d=l.props[a],f=d?!0===d?r.params:"function"===typeof d?d(r):d:null,p=e=>{e.component.isUnmounted&&(l.instances[a]=null)},m=Object(i["h"])(h,s({},f,t,{onVnodeUnmounted:p,ref:u}));return Ze(n.default,{Component:m,route:r})||m}}});function Ze(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Je;function tt(e){const t=re(e.routes,e),n=e.parseQuery||Re,o=e.stringifyQuery||De,u=e.history;const h=ze(),p=ze(),g=ze(),A=Object(i["shallowRef"])(q);let y=q;r&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=a.bind(null,e=>""+e),b=a.bind(null,Pe),w=a.bind(null,Ie);function x(e,n){let i,r;return z(e)?(i=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,i)}function S(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function T(){return t.getRoutes().map(e=>e.record)}function E(e){return!!t.getRecordMatcher(e)}function k(e,i){if(i=s({},i||A.value),"string"===typeof e){const r=d(n,e,i.path),o=t.resolve({path:r.path},i),a=u.createHref(r.fullPath);return s(r,o,{params:w(o.params),hash:Ie(r.hash),redirectedFrom:void 0,href:a})}let r;if("path"in e)r=s({},e,{path:d(n,e.path,i.path).path});else{const t=s({},e.params);for(const e in t)null==t[e]&&delete t[e];r=s({},e,{params:b(e.params)}),i.params=b(i.params)}const a=t.resolve(r,i),l=e.hash||"";a.params=v(w(a.params));const c=f(o,s({},e,{hash:Me(l),path:a.path})),h=u.createHref(c);return s({fullPath:c,hash:l,query:o===De?Le(e.query):e.query||{}},a,{redirectedFrom:void 0,href:h})}function R(e){return"string"===typeof e?d(n,e,A.value.path):s({},e)}function D(e,t){if(y!==e)return G(8,{from:t,to:e})}function L(e){return F(e)}function N(e){return L(s(R(e),{replace:!0}))}function B(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"===typeof n?n(e):n;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=R(i):{path:i},i.params={}),s({query:e.query,hash:e.hash,params:"path"in i?{}:e.params},i)}}function F(e,t){const n=y=k(e),i=A.value,r=e.state,a=e.force,l=!0===e.replace,c=B(n);if(c)return F(s(R(c),{state:"object"===typeof c?s({},r,c.state):r,force:a,replace:l}),t||n);const u=n;let h;return u.redirectedFrom=t,!a&&m(o,i,n)&&(h=G(16,{to:u,from:i}),te(i,i,!0,!1)),(h?Promise.resolve(h):U(u,i)).catch(e=>W(e)?W(e,2)?e:ee(e):J(e,u,i)).then(e=>{if(e){if(W(e,2))return F(s({replace:l},R(e.to),{state:"object"===typeof e.to?s({},r,e.to.state):r,force:a}),t||u)}else e=H(u,i,!0,l,r);return V(u,i,e),e})}function j(e,t){const n=D(e,t);return n?Promise.reject(n):Promise.resolve()}function U(e,t){let n;const[i,r,o]=it(e,t);n=Ve(i.reverse(),"beforeRouteLeave",e,t);for(const a of i)a.leaveGuards.forEach(i=>{n.push(qe(i,e,t))});const s=j.bind(null,e,t);return n.push(s),nt(n).then(()=>{n=[];for(const i of h.list())n.push(qe(i,e,t));return n.push(s),nt(n)}).then(()=>{n=Ve(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach(i=>{n.push(qe(i,e,t))});return n.push(s),nt(n)}).then(()=>{n=[];for(const i of e.matched)if(i.beforeEnter&&!t.matched.includes(i))if(c(i.beforeEnter))for(const r of i.beforeEnter)n.push(qe(r,e,t));else n.push(qe(i.beforeEnter,e,t));return n.push(s),nt(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=Ve(o,"beforeRouteEnter",e,t),n.push(s),nt(n))).then(()=>{n=[];for(const i of p.list())n.push(qe(i,e,t));return n.push(s),nt(n)}).catch(e=>W(e,8)?e:Promise.reject(e))}function V(e,t,n){for(const i of g.list())i(e,t,n)}function H(e,t,n,i,o){const a=D(e,t);if(a)return a;const l=t===q,c=r?history.state:{};n&&(i||l?u.replace(e.fullPath,s({scroll:l&&c&&c.scroll},o)):u.push(e.fullPath,o)),A.value=e,te(e,t,n,l),ee()}let $;function X(){$||($=u.listen((e,t,n)=>{if(!se.listening)return;const i=k(e),o=B(i);if(o)return void F(s(o,{replace:!0}),i).catch(l);y=i;const a=A.value;r&&P(O(a.fullPath,n.delta),M()),U(i,a).catch(e=>W(e,12)?e:W(e,2)?(F(e.to,i).then(e=>{W(e,20)&&!n.delta&&n.type===_.pop&&u.go(-1,!1)}).catch(l),Promise.reject()):(n.delta&&u.go(-n.delta,!1),J(e,i,a))).then(e=>{e=e||H(i,a,!1),e&&(n.delta&&!W(e,8)?u.go(-n.delta,!1):n.type===_.pop&&W(e,20)&&u.go(-1,!1)),V(i,a,e)}).catch(l)}))}let Y,K=ze(),Q=ze();function J(e,t,n){ee(e);const i=Q.list();return i.length?i.forEach(i=>i(e,t,n)):console.error(e),Promise.reject(e)}function Z(){return Y&&A.value!==q?Promise.resolve():new Promise((e,t)=>{K.add([e,t])})}function ee(e){return Y||(Y=!e,X(),K.list().forEach(([t,n])=>e?n(e):t()),K.reset()),e}function te(t,n,o,s){const{scrollBehavior:a}=e;if(!r||!a)return Promise.resolve();const l=!o&&I(O(t.fullPath,0))||(s||!o)&&history.state&&history.state.scroll||null;return Object(i["nextTick"])().then(()=>a(t,n,l)).then(e=>e&&C(e)).catch(e=>J(e,t,n))}const ne=e=>u.go(e);let ie;const oe=new Set,se={currentRoute:A,listening:!0,addRoute:x,removeRoute:S,hasRoute:E,getRoutes:T,resolve:k,options:e,push:L,replace:N,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:h.add,beforeResolve:p.add,afterEach:g.add,onError:Q.add,isReady:Z,install(e){const t=this;e.component("RouterLink",$e),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Object(i["unref"])(A)}),r&&!ie&&A.value===q&&(ie=!0,L(u.location).catch(e=>{0}));const n={};for(const r in q)n[r]=Object(i["computed"])(()=>A.value[r]);e.provide(Fe,t),e.provide(je,Object(i["reactive"])(n)),e.provide(Ue,A);const o=e.unmount;oe.add(e),e.unmount=function(){oe.delete(e),oe.size<1&&(y=q,$&&$(),$=null,A.value=q,ie=!1,Y=!1),o()}}};return se}function nt(e){return e.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function it(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find(e=>g(e,o))?i.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find(e=>g(e,a))||r.push(a))}return[n,i,r]}},"66f0":function(e,t,n){"use strict";function i(e,t,n){var i=e[t]+e[n],r=e[t+1]+e[n+1];i>=4294967296&&r++,e[t]=i,e[t+1]=r}function r(e,t,n,i){var r=e[t]+n;n<0&&(r+=4294967296);var o=e[t+1]+i;r>=4294967296&&o++,e[t]=r,e[t+1]=o}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,o,s,a){var l=h[s],c=h[s+1],d=h[a],f=h[a+1];i(u,e,t),r(u,e,l,c);var p=u[o]^u[e],m=u[o+1]^u[e+1];u[o]=m,u[o+1]=p,i(u,n,o),p=u[t]^u[n],m=u[t+1]^u[n+1],u[t]=p>>>24^m<<8,u[t+1]=m>>>24^p<<8,i(u,e,t),r(u,e,d,f),p=u[o]^u[e],m=u[o+1]^u[e+1],u[o]=p>>>16^m<<16,u[o+1]=m>>>16^p<<16,i(u,n,o),p=u[t]^u[n],m=u[t+1]^u[n+1],u[t]=m>>>31^p<<1,u[t+1]=p>>>31^m<<1}var a=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],c=new Uint8Array(l.map((function(e){return 2*e}))),u=new Uint32Array(32),h=new Uint32Array(32);function d(e,t){var n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=a[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)h[n]=o(e.b,4*n);for(n=0;n<12;n++)s(0,8,16,24,c[16*n+0],c[16*n+1]),s(2,10,18,26,c[16*n+2],c[16*n+3]),s(4,12,20,28,c[16*n+4],c[16*n+5]),s(6,14,22,30,c[16*n+6],c[16*n+7]),s(0,10,20,30,c[16*n+8],c[16*n+9]),s(2,12,22,24,c[16*n+10],c[16*n+11]),s(4,14,16,26,c[16*n+12],c[16*n+13]),s(6,8,18,28,c[16*n+14],c[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}var f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,n,i){f.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,n&&f.set(n,32),i&&f.set(i,48);for(var r=0;r<16;r++)this.h[r]=a[r]^o(f,4*r);t&&(m(this,t),this.c=128)}function m(e,t){for(var n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function g(e,t){e.t+=e.c;while(e.c<128)e.b[e.c++]=0;d(e,!0);for(var n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function A(e){for(var t="",n=0;n<e.length;n++)t+=y(e[n]);return t}function y(e){return e<16?"0"+e.toString(16):e.toString(16)}p.prototype.update=function(e){return m(this,e),this},p.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return g(this,t),"hex"===e?A(t):t},p.prototype.final=p.prototype.digest,e.exports=p},"670d":function(e,t,n){(function(t){var n="Expected a function",i="__lodash_hash_undefined__",r=1/0,o=9007199254740991,s="[object Arguments]",a="[object Function]",l="[object GeneratorFunction]",c="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,d=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,m=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,y="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,b=y||v||Function("return this")();function _(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function w(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function x(e,t){return null==e?void 0:e[t]}function S(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function T(e,t){return function(n){return e(t(n))}}var E=Array.prototype,M=Function.prototype,C=Object.prototype,O=b["__core-js_shared__"],k=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),P=M.toString,I=C.hasOwnProperty,R=C.toString,D=RegExp("^"+P.call(I).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=b.Symbol,N=C.propertyIsEnumerable,B=E.splice,F=T(Object.keys,Object),j=Math.max,U=Se(b,"Map"),z=Se(Object,"create"),q=L?L.prototype:void 0,V=q?q.toString:void 0;function H(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function G(){this.__data__=z?z(null):{}}function W(e){return this.has(e)&&delete this.__data__[e]}function $(e){var t=this.__data__;if(z){var n=t[e];return n===i?void 0:n}return I.call(t,e)?t[e]:void 0}function X(e){var t=this.__data__;return z?void 0!==t[e]:I.call(t,e)}function Y(e,t){var n=this.__data__;return n[e]=z&&void 0===t?i:t,this}function K(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Q(){this.__data__=[]}function J(e){var t=this.__data__,n=ce(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():B.call(t,n,1),!0}function Z(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]}function ee(e){return ce(this.__data__,e)>-1}function te(e,t){var n=this.__data__,i=ce(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function ne(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function ie(){this.__data__={hash:new H,map:new(U||K),string:new H}}function re(e){return xe(this,e)["delete"](e)}function oe(e){return xe(this,e).get(e)}function se(e){return xe(this,e).has(e)}function ae(e,t){return xe(this,e).set(e,t),this}function le(e,t){var n=je(e)||Fe(e)?w(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!I.call(e,o)||r&&("length"==o||Te(o,i))||n.push(o);return n}function ce(e,t){var n=e.length;while(n--)if(Be(e[n][0],t))return n;return-1}H.prototype.clear=G,H.prototype["delete"]=W,H.prototype.get=$,H.prototype.has=X,H.prototype.set=Y,K.prototype.clear=Q,K.prototype["delete"]=J,K.prototype.get=Z,K.prototype.has=ee,K.prototype.set=te,ne.prototype.clear=ie,ne.prototype["delete"]=re,ne.prototype.get=oe,ne.prototype.has=se,ne.prototype.set=ae;var ue=_e(de),he=we();function de(e,t){return e&&he(e,t,Xe)}function fe(e,t){t=Ee(t,e)?[t]:be(t);var n=0,i=t.length;while(null!=e&&n<i)e=e[Ie(t[n++])];return n&&n==i?e:void 0}function pe(e,t,n){Ee(t,e)||(t=be(t),e=ke(e,t),t=De(t));var i=null==e?e:e[Ie(t)];return null==i?void 0:_(i,e,n)}function me(e){if(!He(e)||Ce(e))return!1;var t=qe(e)||S(e)?D:g;return t.test(Re(e))}function ge(e){if(!Oe(e))return F(e);var t=[];for(var n in Object(e))I.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ae(e,t){return t=j(void 0===t?e.length-1:t,0),function(){var n=arguments,i=-1,r=j(n.length-t,0),o=Array(r);while(++i<r)o[i]=n[t+i];i=-1;var s=Array(t+1);while(++i<t)s[i]=n[i];return s[t]=o,_(e,this,s)}}function ye(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;var o=Array(r);while(++i<r)o[i]=e[i+t];return o}function ve(e){if("string"==typeof e)return e;if(We(e))return V?V.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}function be(e){return je(e)?e:Pe(e)}function _e(e,t){return function(n,i){if(null==n)return n;if(!Ue(n))return e(n,i);var r=n.length,o=t?r:-1,s=Object(n);while(t?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function we(e){return function(t,n,i){var r=-1,o=Object(t),s=i(t),a=s.length;while(a--){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}function xe(e,t){var n=e.__data__;return Me(t)?n["string"==typeof t?"string":"hash"]:n.map}function Se(e,t){var n=x(e,t);return me(n)?n:void 0}function Te(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e,t){if(je(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!We(e))||(h.test(e)||!u.test(e)||null!=t&&e in Object(t))}function Me(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ce(e){return!!k&&k in e}function Oe(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||C;return e===n}function ke(e,t){return 1==t.length?e:fe(e,ye(t,0,-1))}var Pe=Ne((function(e){e=$e(e);var t=[];return d.test(e)&&t.push(""),e.replace(f,(function(e,n,i,r){t.push(i?r.replace(m,"$1"):n||e)})),t}));function Ie(e){if("string"==typeof e||We(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}function Re(e){if(null!=e){try{return P.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function De(e){var t=e?e.length:0;return t?e[t-1]:void 0}var Le=Ae((function(e,t,n){var i=-1,r="function"==typeof t,o=Ee(t),s=Ue(e)?Array(e.length):[];return ue(e,(function(e){var a=r?t:o&&null!=e?e[t]:void 0;s[++i]=a?_(a,e,n):pe(e,t,n)})),s}));function Ne(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=e.apply(this,n);return i.cache=o.set(r,s),s};return i.cache=new(Ne.Cache||ne),i}function Be(e,t){return e===t||e!==e&&t!==t}function Fe(e){return ze(e)&&I.call(e,"callee")&&(!N.call(e,"callee")||R.call(e)==s)}Ne.Cache=ne;var je=Array.isArray;function Ue(e){return null!=e&&Ve(e.length)&&!qe(e)}function ze(e){return Ge(e)&&Ue(e)}function qe(e){var t=He(e)?R.call(e):"";return t==a||t==l}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function He(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return!!e&&"object"==typeof e}function We(e){return"symbol"==typeof e||Ge(e)&&R.call(e)==c}function $e(e){return null==e?"":ve(e)}function Xe(e){return Ue(e)?le(e):ge(e)}e.exports=Le}).call(this,n("c8ba"))},6799:function(e,t,n){var i=n("42a7"),r=n("a141"),o=n("48c4"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",a=i(s),l=new RegExp("^["+s+"]{56}$"),c=48;function u(e){var t=255&e,n=e>>8&255;return t<<8|n}function h(e){var t=e.toString(16);return t.length%2===1&&(t="0"+t),t}e.exports={isValidAddress:function(e){return!!l.test(e)&&this.verifyChecksum(e)},verifyChecksum:function(e){var t=a.decode(e);if(t[0]!==c)return!1;var n=h(u(r.crc16xmodem(t.slice(0,-2)))),i=o.toHex(t.slice(-2));return n===i}}},6885:function(e,t,n){(function(n){var i,r,o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();
/*!
 * Materialize v1.0.0 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var e,t=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,s=i.push,a=function(){},l=function(e){return typeof e==typeof a&&e.call},c=function(e){return"string"==typeof e},u=/^#[\w-]*$/,h=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(e,n){n=n||t;var i=h.test(e)?n.getElementsByClassName(e.slice(1)):f.test(e)?n.getElementsByTagName(e):n.querySelectorAll(e);return i}function m(n){if(!e){var i=(e=t.implementation.createHTMLDocument(null)).createElement("base");i.href=t.location.href,e.head.appendChild(i)}return e.body.innerHTML=n,e.body.childNodes}function g(e){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}function A(e,i){if(!e)return this;if(e.cash&&e!==n)return e;var r,o=e,s=0;if(c(e))o=u.test(e)?t.getElementById(e.slice(1)):d.test(e)?m(e):p(e,i);else if(l(e))return g(e),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(r=this.length=o.length;s<r;s++)this[s]=o[s];return this}function y(e,t){return new A(e,t)}var v=y.fn=y.prototype=A.prototype={cash:!0,length:0,push:s,splice:i.splice,map:i.map,init:A};function b(e,t){for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);}function _(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function w(e){return c(e)?_:e.cash?function(t){return e.is(t)}:function(e,t){return e===t}}function x(e){return y(r.call(e).filter((function(e,t,n){return n.indexOf(e)===t})))}Object.defineProperty(v,"constructor",{value:y}),y.parseHTML=m,y.noop=a,y.isFunction=l,y.isString=c,y.extend=v.extend=function(e){e=e||{};var t=r.call(arguments),n=t.length,i=1;for(1===t.length&&(e=this,i=0);i<n;i++)if(t[i])for(var o in t[i])t[i].hasOwnProperty(o)&&(e[o]=t[i][o]);return e},y.extend({merge:function(e,t){for(var n=+t.length,i=e.length,r=0;r<n;i++,r++)e[i]=t[r];return e.length=i,e},each:b,matches:_,unique:x,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var S=y.uid="_cash"+Date.now();function T(e){return e[S]=e[S]||{}}function E(e,t,n){return T(e)[t]=n}function M(e,t){var n=T(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:y(e).attr("data-"+t)),n[t]}v.extend({data:function(e,t){if(c(e))return void 0===t?M(this[0],e):this.each((function(n){return E(n,e,t)}));for(var n in e)this.data(n,e[n]);return this},removeData:function(e){return this.each((function(t){return i=e,void((r=T(n=t))?delete r[i]:n.dataset?delete n.dataset[i]:y(n).removeAttr("data-"+name));var n,i,r}))}});var C=/\S+/g;function O(e){return c(e)&&e.match(C)}function k(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function P(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function I(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}v.extend({addClass:function(e){var t=O(e);return t?this.each((function(e){var n=" "+e.className+" ";b(t,(function(t){P(e,t,n)}))})):this},attr:function(e,t){if(e){if(c(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(e,t):n[e]=t}));for(var n in e)this.attr(n,e[n]);return this}},hasClass:function(e){var t=!1,n=O(e);return n&&n.length&&this.each((function(e){return!(t=k(e,n[0]))})),t},prop:function(e,t){if(c(e))return void 0===t?this[0][e]:this.each((function(n){n[e]=t}));for(var n in e)this.prop(n,e[n]);return this},removeAttr:function(e){return this.each((function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]}))},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=O(e);return t?this.each((function(e){b(t,(function(t){I(e,t)}))})):this},removeProp:function(e){return this.each((function(t){delete t[e]}))},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var n=O(e);return n?this.each((function(e){var t=" "+e.className+" ";b(n,(function(n){k(e,n)?I(e,n):P(e,n,t)}))})):this}}),v.extend({add:function(e,t){return x(y.merge(this,y(e,t)))},each:function(e){return b(this,e),this},eq:function(e){return y(this.get(e))},filter:function(e){if(!e)return this;var t=l(e)?e:w(e);return y(o.call(this,(function(n){return t(n,e)})))},first:function(){return this.eq(0)},get:function(e){return void 0===e?r.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?y(e)[0]:this[0],n=e?this:y(t).parent().children();return r.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var R,D,L,N,B,F,j=(B=/(?:^\w|[A-Z]|\b\w)/g,F=/[\s-_]+/g,function(e){return e.replace(B,(function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()})).replace(F,"")}),U=(R={},D=document,L=D.createElement("div"),N=L.style,function(e){if(e=j(e),R[e])return R[e];var t=e.charAt(0).toUpperCase()+e.slice(1),n=(e+" "+["webkit","moz","ms","o"].join(t+" ")+t).split(" ");return b(n,(function(t){if(t in N)return R[t]=e=R[e]=t,!1})),R[e]});function z(e,t){return parseInt(n.getComputedStyle(e[0],null)[t],10)||0}function q(e,t,n){var i,r=M(e,"_cashEvents"),o=r&&r[t];o&&(n?(e.removeEventListener(t,n),0<=(i=o.indexOf(n))&&o.splice(i,1)):(b(o,(function(n){e.removeEventListener(t,n)})),o=[]))}function V(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function H(e){var t,n,i,r=e.type;if(!r)return null;switch(r.toLowerCase()){case"select-one":return 0<=(i=(n=e).selectedIndex)?n.options[i].value:null;case"select-multiple":return t=[],b(e.options,(function(e){e.selected&&t.push(e.value)})),t.length?t:null;case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function G(e,t,n){var i=c(t);i||!t.length?b(e,i?function(e){return e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,i){return function(e,t,n){if(n){var i=e.childNodes[0];e.insertBefore(t,i)}else e.appendChild(t)}(e,0===i?t:t.cloneNode(!0),n)}):b(t,(function(t){return G(e,t,n)}))}y.prefixedProp=U,y.camelCase=j,v.extend({css:function(e,t){if(c(e))return e=U(e),1<arguments.length?this.each((function(n){return n.style[e]=t})):n.getComputedStyle(this[0])[e];for(var i in e)this.css(i,e[i]);return this}}),b(["Width","Height"],(function(e){var t=e.toLowerCase();v[t]=function(){return this[0].getBoundingClientRect()[t]},v["inner"+e]=function(){return this[0]["client"+e]},v["outer"+e]=function(t){return this[0]["offset"+e]+(t?z(this,"margin"+("Width"===e?"Left":"Top"))+z(this,"margin"+("Width"===e?"Right":"Bottom")):0)}})),v.extend({off:function(e,t){return this.each((function(n){return q(n,e,t)}))},on:function(e,t,n,i){var r;if(!c(e)){for(var o in e)this.on(o,t,e[o]);return this}return l(t)&&(n=t,t=null),"ready"===e?(g(n),this):(t&&(r=n,n=function(e){for(var n=e.target;!_(n,t);){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,e)}),this.each((function(t){var r,o,s,a,l=n;i&&(l=function(){n.apply(this,arguments),q(t,e,l)}),o=e,s=l,(a=M(r=t,"_cashEvents")||E(r,"_cashEvents",{}))[o]=a[o]||[],a[o].push(s),r.addEventListener(o,s)})))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:g,trigger:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!1),n=this.extend(n,t),this.each((function(e){return e.dispatchEvent(n)}))}}}),v.extend({serialize:function(){var e="";return b(this[0].elements||this,(function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var n=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=H(t);null!==i&&b(i,(function(t){e+=V(n,t)}));break;default:var r=H(t);null!==r&&(e+=V(n,r))}}})),e.substr(1)},val:function(e){return void 0===e?H(this[0]):this.each((function(t){return t.value=e}))}}),v.extend({after:function(e){return y(e).insertAfter(this),this},append:function(e){return G(this,e),this},appendTo:function(e){return G(y(e),this),this},before:function(e){return y(e).insertBefore(this),this},clone:function(){return y(this.map((function(e){return e.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each((function(e){return e.innerHTML=t}))},insertAfter:function(e){var t=this;return y(e).each((function(e,n){var i=e.parentNode,r=e.nextSibling;t.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),r)}))})),this},insertBefore:function(e){var t=this;return y(e).each((function(e,n){var i=e.parentNode;t.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),e)}))})),this},prepend:function(e){return G(this,e,!0),this},prependTo:function(e){return G(y(e),this,!0),this},remove:function(){return this.each((function(e){if(e.parentNode)return e.parentNode.removeChild(e)}))},text:function(e){return void 0===e?this[0].textContent:this.each((function(t){return t.textContent=e}))}});var W=t.documentElement;return v.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+n.pageYOffset-W.clientTop,left:e.left+n.pageXOffset-W.clientLeft}},offsetParent:function(){return y(this[0].offsetParent)}}),v.extend({children:function(e){var t=[];return this.each((function(e){s.apply(t,e.children)})),t=x(t),e?t.filter((function(t){return _(t,e)})):t},closest:function(e){return!e||this.length<1?y():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,n=w(e);return this.each((function(i){return!(t=n(i,e))})),t},find:function(e){if(!e||e.nodeType)return y(e&&this.has(e).length?e:null);var t=[];return this.each((function(n){s.apply(t,p(e,n))})),x(t)},has:function(e){var t=c(e)?function(t){return 0!==p(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return y(this[0].nextElementSibling)},not:function(e){if(!e)return this;var t=w(e);return this.filter((function(n){return!t(n,e)}))},parent:function(){var e=[];return this.each((function(t){t&&t.parentNode&&e.push(t.parentNode)})),x(e)},parents:function(e){var n,i=[];return this.each((function(r){for(n=r;n&&n.parentNode&&n!==t.body.parentNode;)n=n.parentNode,(!e||e&&_(n,e))&&i.push(n)})),x(i)},prev:function(){return y(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),n=this[0];return t.filter((function(e){return e!==n}))}}),y}();var u=function(){function e(t,n,i){c(this,e),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=t.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return s(e,null,[{key:"init",value:function(e,t,n){var i=null;if(t instanceof Element)i=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var r=[],o=0;o<t.length;o++)r.push(new e(t[o],n));i=r}return i}}]),e}();!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),i=[],r=function(){return M}.apply(t,i),void 0!==r&&(e.exports=r),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;var h=function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)},d=function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)},f=function(e){M.keyDown&&document.body.classList.add("keyboard-focused")},p=function(e){document.body.classList.remove("keyboard-focused")};document.addEventListener("keydown",h,!0),document.addEventListener("keyup",d,!0),document.addEventListener("focus",f,!0),document.addEventListener("blur",p,!0),M.initializeJqueryWrapper=function(e,t,n){jQuery.fn[t]=function(i){if(e.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each((function(){var e=this[n];e[i].apply(e,r)}))}if("object"==typeof i||!i)return e.init(this,i),this;jQuery.error("Method "+i+" does not exist on jQuery."+t)}},M.AutoInit=function(e){var t=e||document.body,n={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n)M[i].init(n[i])},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),n=t.add(t.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return!(i=!0)})),i},M.checkWithinContainer=function(e,t,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=e.getBoundingClientRect(),o=e===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=e.scrollLeft,a=e.scrollTop,l=t.left-s,c=t.top-a;return(l<r.left+n||l<n)&&(i.left=!0),(l+t.width>r.right-n||l+t.width>window.innerWidth-n)&&(i.right=!0),(c<r.top+n||c<n)&&(i.top=!0),(c+t.height>o-n||c+t.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(e,t,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(t).overflow,s=t.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),l=Math.min(s.width,window.innerWidth),c=e.getBoundingClientRect(),u=t.scrollLeft,h=t.scrollTop,d=n.left-u,f=n.top-h,p=n.top+c.height-h;return r.spaceOnRight=o?window.innerWidth-(c.left+n.width):l-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?c.right-n.width:d-n.width+c.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(c.top+n.height+i):a-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?c.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=(t=e.getAttribute("href"))?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var m=Date.now||function(){return(new Date).getTime()};M.throttle=function(e,t,n){var i=void 0,r=void 0,o=void 0,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:m(),s=null,o=e.apply(i,r),i=r=null};return function(){var c=m();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(s),s=null,a=c,o=e.apply(i,r),i=r=null):s||!1===n.trailing||(s=setTimeout(l,u)),o}};var g={scope:{}};g.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},g.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof n&&null!=n?n:e},g.global=g.getGlobal(this),g.SYMBOL_PREFIX="jscomp_symbol_",g.initSymbol=function(){g.initSymbol=function(){},g.global.Symbol||(g.global.Symbol=g.Symbol)},g.symbolCounter_=0,g.Symbol=function(e){return g.SYMBOL_PREFIX+(e||"")+g.symbolCounter_++},g.initSymbolIterator=function(){g.initSymbol();var e=g.global.Symbol.iterator;e||(e=g.global.Symbol.iterator=g.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&g.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return g.arrayIterator(this)}}),g.initSymbolIterator=function(){}},g.arrayIterator=function(e){var t=0;return g.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},g.iteratorPrototype=function(e){return g.initSymbolIterator(),(e={next:e})[g.global.Symbol.iterator]=function(){return this},e},g.array=g.array||{},g.iteratorFromArray=function(e,t){g.initSymbolIterator(),e instanceof String&&(e+="");var n=0,i={next:function(){if(n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},g.polyfill=function(e,t,n,i){if(t){for(n=g.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&g.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},g.polyfill("Array.prototype.keys",(function(e){return e||function(){return g.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3");var A=this;M.anime=function(){function e(e){if(!k.col(e))try{return document.querySelectorAll(e)}catch(e){}}function t(e,t){for(var n=e.length,i=2<=arguments.length?t:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}function n(e){return e.reduce((function(e,t){return e.concat(k.arr(t)?n(t):t)}),[])}function i(t){return k.arr(t)?t:(k.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function r(e,t){return e.some((function(e){return e===t}))}function o(e){var t,n={};for(t in e)n[t]=e[t];return n}function s(e,t){var n,i=o(e);for(n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function a(e,t){var n,i=o(e);for(n in t)i[n]=k.und(e[n])?t[n]:e[n];return i}function l(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function c(e,t){return k.fnc(e)?e(t.target,t.id,t.total):e}function u(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(e,t){return k.dom(e)&&r(O,t)?"transform":k.dom(e)&&(e.getAttribute(t)||k.svg(e)&&e[t])?"attribute":k.dom(e)&&"transform"!==t&&u(e,t)?"css":null!=e[t]?"object":void 0}function d(e,n){switch(h(e,n)){case"transform":return function(e,n){var i,r=-1<(i=n).indexOf("translate")||"perspective"===i?"px":-1<i.indexOf("rotate")||-1<i.indexOf("skew")?"deg":void 0;r=-1<n.indexOf("scale")?1:0+r;if(!(e=e.style.transform))return r;for(var o=[],s=[],a=[],l=/(\w+)\((.+?)\)/g;o=l.exec(e);)s.push(o[1]),a.push(o[2]);return(e=t(a,(function(e,t){return s[t]===n}))).length?e[0]:r}(e,n);case"css":return u(e,n);case"attribute":return e.getAttribute(n)}return e[n]||0}function f(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=l(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+i;case"-":return t-e+i;case"*":return t*e+i}}function p(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function m(e){e=e.points;for(var t,n=0,i=0;i<e.numberOfItems;i++){var r=e.getItem(i);0<i&&(n+=p(t,r)),t=r}return n}function g(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return p({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return m(e);case"polygon":var t=e.points;return m(e)+p(t.getItem(t.numberOfItems-1),t.getItem(0))}}function y(e,t){function n(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var i=n(),r=n(-1),o=n(1);switch(e.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function v(e,t){var n,i=/-?\d*\.?\d+/g;if(n=k.pth(e)?e.totalLength:e,k.col(n))if(k.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=k.hex(n)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e=parseInt(t[1],16);var n=parseInt(t[2],16);t=parseInt(t[3],16);return"rgba("+e+","+n+","+t+",1)"}(n):k.hsl(n)?function(e){function t(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;n=n[4]||1;if(0==i)r=i=e=r;else{var o=r<.5?r*(1+i):r+i-r*i,s=2*r-o;r=t(s,o,e+1/3),i=t(s,o,e);e=t(s,o,e-1/3)}return"rgba("+255*r+","+255*i+","+255*e+","+n+")"}(n):void 0;else r=(r=l(n))?n.substr(0,n.length-r.length):n,n=t&&!/\s/g.test(n)?r+t:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:k.str(e)||t?n.split(i):[]}}function b(e){return t(e=e?n(k.arr(e)?e.map(i):i(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function _(e,t){var n=o(t);if(k.arr(e)){var r=e.length;2!==r||k.obj(e[0])?k.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}return i(e).map((function(e,n){return n=n?0:t.delay,e=k.obj(e)&&!k.pth(e)?e:{value:e},k.und(e.delay)&&(e.delay=n),e})).map((function(e){return a(e,n)}))}function w(e,t){var n;return e.tweens.map((function(i){var r=(i=function(e,t){var n,i={};for(n in e){var r=c(e[n],t);k.arr(r)&&1===(r=r.map((function(e){return c(e,t)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,t)).value,o=d(t.target,e.name),s=n?n.to.original:o,a=(s=k.arr(r)?r[0]:s,f(k.arr(r)?r[1]:r,s));o=l(a)||l(s)||l(o);return i.from=v(s,o),i.to=v(a,o),i.start=n?n.end:e.offset,i.end=i.start+i.delay+i.duration,i.easing=function(e){return k.arr(e)?P.apply(this,e):I[e]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=k.pth(r),i.isColor=k.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function x(e,t,n,i){var r="delay"===e;return t.length?(r?Math.min:Math.max).apply(Math,t.map((function(t){return t[e]}))):r?i.delay:n.offset+i.delay+i.duration}function S(e){var i,r,o,l,c=s(M,e),u=s(C,e),d=(r=e.targets,(o=b(r)).map((function(e,t){return{target:e,id:t,total:o.length}}))),f=[],p=a(c,u);for(i in e)p.hasOwnProperty(i)||"targets"===i||f.push({name:i,offset:p.offset,tweens:_(e[i],u)});return l=f,e=t(n(d.map((function(e){return l.map((function(t){var n=h(e.target,t.name);if(n){var i=w(t,e);t={type:n,property:t.name,animatable:e,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else t=void 0;return t}))}))),(function(e){return!k.und(e)})),a(c,{children:[],animatables:d,animations:e,duration:x("duration",e,c,u),delay:x("delay",e,c,u)})}function T(e){function n(){return window.Promise&&new Promise((function(e){return d=e}))}function i(e){return p.reversed?p.duration-e:e}function r(e){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var s=r[n],a=s.animatable,l=s.tweens,c=l.length-1,h=l[c];c&&(h=t(l,(function(t){return e<t.end}))[0]||h);l=Math.min(Math.max(e-h.start-h.delay,0),h.duration)/h.duration;for(var d=isNaN(l)?1:h.easing(l,h.elasticity),f=(l=h.to.strings,h.round),m=(c=[],void 0),g=(m=h.to.numbers.length,0);g<m;g++){var A=void 0,v=(A=h.to.numbers[g],h.from.numbers[g]);A=h.isPath?y(h.value,d*A):v+d*(A-v);f&&(h.isColor&&2<g||(A=Math.round(A*f)/f)),c.push(A)}if(h=l.length)for(m=l[0],d=0;d<h;d++)f=l[d+1],g=c[d],isNaN(g)||(m=f?m+(g+f):m+(g+" "));else m=c[0];R[s.type](a.target,s.property,m,i,a.id),s.currentValue=m,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)E||(E=u(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[E]=i[r].join(" ");p.currentTime=e,p.progress=e/p.duration*100}function o(e){p[e]&&p[e](p)}function s(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(e){var t=p.duration,a=p.offset,u=a+p.delay,m=p.currentTime,g=p.reversed,A=i(e);if(p.children.length){var y=p.children,v=y.length;if(A>=p.currentTime)for(var b=0;b<v;b++)y[b].seek(A);else for(;v--;)y[v].seek(A)}(u<=A||!t)&&(p.began||(p.began=!0,o("begin")),o("run")),a<A&&A<t?r(A):(A<=a&&0!==m&&(r(0),g&&s()),(t<=A&&m!==t||!t)&&(r(t),g||s())),o("update"),t<=e&&(p.remaining?(c=l,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(d(),f=n()))),h=0)}e=void 0===e?{}:e;var l,c,h=0,d=null,f=n(),p=S(e);return p.reset=function(){var e=p.direction,t=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===e,p.remaining="alternate"===e&&1===t?2:t,r(0),e=p.children.length;e--;)p.children[e].reset()},p.tick=function(e){l=e,c||(c=l),a((h+l-c)*T.speed)},p.seek=function(e){a(i(e))},p.pause=function(){var e=D.indexOf(p);-1<e&&D.splice(e,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,c=0,h=i(p.currentTime),D.push(p),L||N())},p.reverse=function(){p.reversed=!p.reversed,c=0,h=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var E,M={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},C={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},O="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),k={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return k.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||k.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return k.hex(e)||k.rgb(e)||k.hsl(e)}},P=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(t,n,i,r){if(0<=t&&t<=1&&0<=i&&i<=1){var o=new Float32Array(11);if(t!==n||i!==r)for(var s=0;s<11;++s)o[s]=e(.1*s,t,i);return function(s){if(t===n&&i===r)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,l=1;10!==l&&o[l]<=s;++l)a+=.1;l=a+(s-o[--l])/(o[l+1]-o[l])*.1;var c=3*(1-3*i+3*t)*l*l+2*(3*i-6*t)*l+3*t;if(.001<=c){for(a=0;a<4&&0!=(c=3*(1-3*i+3*t)*l*l+2*(3*i-6*t)*l+3*t);++a){var u=e(l,t,i)-s;l=l-u/c}s=l}else if(0===c)s=l;else{l=a,a=a+.1;for(var h=0;0<(c=e(u=l+(a-l)/2,t,i)-s)?a=u:l=u,1e-7<Math.abs(c)&&++h<10;);s=u}return e(s,n,r)}}}}(),I=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,n){return 1-e(1-t,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,n){return t<.5?e(2*t,n)/2:1-e(-2*t+2,n)/2}]},r={linear:P(.25,.25,.75,.75)},o={};for(t in i)o.type=t,i[o.type].forEach(function(e){return function(t,i){r["ease"+e.type+n[i]]=k.fnc(t)?t:P.apply(A,t)}}(o)),o={type:o.type};return r}(),R={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){i[r]||(i[r]=[]),i[r].push(t+"("+n+")")}},D=[],L=0,N=function(){function e(){L=requestAnimationFrame(t)}function t(t){var n=D.length;if(n){for(var i=0;i<n;)D[i]&&D[i].tick(t),i++;e()}else cancelAnimationFrame(L),L=0}return e}();return T.version="2.2.0",T.speed=1,T.running=D,T.remove=function(e){e=b(e);for(var t=D.length;t--;)for(var n=D[t],i=n.animations,o=i.length;o--;)r(e,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},T.getValue=d,T.path=function(t,n){var i=k.str(t)?e(t)[0]:t,r=n||100;return function(e){return{el:i,property:e,totalLength:g(i)*(r/100)}}},T.setDashoffset=function(e){var t=g(e);return e.setAttribute("stroke-dasharray",t),t},T.bezier=P,T.easings=I,T.timeline=function(e){var t=T(e);return t.pause(),t.duration=0,t.add=function(n){return t.children.forEach((function(e){e.began=!0,e.completed=!0})),i(n).forEach((function(n){var i=a(n,s(C,e||{}));i.targets=i.targets||e.targets,n=t.duration;var r=i.offset;i.autoplay=!1,i.direction=t.direction,i.offset=k.und(r)?n:f(r,n),t.began=!0,t.completed=!0,t.seek(i.offset),(i=T(i)).began=!0,i.completed=!0,i.duration>n&&(t.duration=i.duration),t.children.push(i)})),t.seek(0),t.reset(),t.autoplay&&t.restart(),t},t},T.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},T}(),function(e,t){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));(i.el.M_Collapsible=i).options=e.extend({},r.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var o=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?o.first().css("display","block"):o.css("display","block"),i}return l(r,u),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(t){var n=e(t.target).closest(".collapsible-header");if(t.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),s=r[0].classList.contains("active"),a=o.index(r);s?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),s=r.css("padding-bottom"),a=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),t({targets:r[0],height:a,paddingTop:o,paddingBottom:s,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css("overflow","hidden"),t({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length&&!i[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(t){var i=r.index(e(t));n.close(i)}))}i[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Collapsible}},{key:"defaults",get:function(){return n}}]),r}();M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(e,t){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return i.el.M_Dropdown=i,r._dropdowns.push(i),i.id=M.getIdFromTrigger(t),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=e(i.dropdownEl),i.options=e.extend({},r.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?e(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return l(r,u),s(r,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),r._dropdowns.splice(r._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var n=t.toElement||t.relatedTarget,i=!!e(n).closest(".dropdown-content").length,r=!1,o=e(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(t){var n=this,i=e(t.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){e(t.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(t){if("function"==typeof this.options.onItemClick){var n=e(t.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=e(n).find("a, button").first();i.length?i[0].click():n&&n.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var r=t.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,s=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){s=!0;break}}while(o<this.dropdownEl.children.length&&0<=o);s&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(t.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(a);var l=this.filterQuery.join(""),c=e(this.dropdownEl).find("li").filter((function(t){return 0===e(t).text().toLowerCase().indexOf(l)}))[0];c&&(this.focusedIndex=e(c).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,e(this.dropdownEl).children().each((function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){0<=this.focusedIndex&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),n=t.height,i=t.width,r=e.left-t.left,o=e.top-t.top,s={left:r,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,l=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:e.height),c="top",u=this.options.alignment;if(o+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,l.top||(l.bottom?c="bottom":(this.isScrollable=!0,l.spaceOnTop>l.spaceOnBottom?(c="bottom",n+=l.spaceOnTop,o-=l.spaceOnTop):n+=l.spaceOnBottom)),!l[u]){var h="left"===u?"right":"left";l[h]?u=h:l.spaceOnLeft>l.spaceOnRight?(u="right",i+=l.spaceOnLeft,r-=l.spaceOnLeft):(u="left",i+=l.spaceOnRight)}return"bottom"===c&&(o=o-t.height+(this.options.coverTrigger?e.height:0)),"right"===u&&(r=r-t.width+e.width),{x:r,y:o,verticalAlignment:c,horizontalAlignment:u,height:n,width:i}}},{key:"_animateIn",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){e.options.autoFocus&&e.dropdownEl.focus(),"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOut",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(t){e._resetDropdownStyles(),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Dropdown}},{key:"defaults",get:function(){return n}}]),r}();i._dropdowns=[],M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(e,t){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_Modal=i).options=e.extend({},r.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=e('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,r._count++,i._setupEventHandlers(),i}return l(r,u),s(r,[{key:"destroy",value:function(){r._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===r._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===r._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){e(t.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==r._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;e.extend(this.el.style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),t({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?e.extend(i,{bottom:0,opacity:1}):e.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),t(i)}},{key:"_animateOut",value:function(){var n=this;t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?e.extend(i,{bottom:"-100%",opacity:0}):e.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),t(i)}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,r._modalsOpen++,this._nthModalOpened=r._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*r._modalsOpen,this.el.style.zIndex=1e3+2*r._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,r._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===r._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}},{key:"defaults",get:function(){return n}}]),r}();i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(e,t){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_Materialbox=i).options=e.extend({},r.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=e("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return l(r,u),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,e(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=e();for(var t=this.placeholder[0].parentNode;null!==t&&!e(t).is(document);){var n=e(t);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),t(n)}},{key:"_animateImageOut",value:function(){var e=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.originInlineStyles&&e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};t(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=e('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),t.remove(this.el),t.remove(this.$overlay[0]),t({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&t.remove(this.$photoCaption[0]),this.$photoCaption=e('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),e("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),t({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,s<o?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),t.remove(this.el),t.remove(this.$overlay[0]),""!==this.caption&&t.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&t({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Materialbox}},{key:"defaults",get:function(){return n}}]),r}();M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(e){"use strict";var t={responsiveThreshold:0},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_Parallax=r).options=e.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each((function(){this.complete&&e(this).trigger("load")})),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return l(i,u),s(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=0<this.$el.height()?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,n=this.$el.offset().top+e,i=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,s=t*((r+o-i)/(e+o));this._enabled?r<n&&i<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+s+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),i}();n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(e,t){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_Tabs=i).options=e.extend({},r.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return l(r,u),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var n=this,i=e(t.target).closest("li.tab"),r=e(t.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))t.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=e(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var s=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(s),t.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout((function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=e(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=e(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var t=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=e();this.$tabLinks.each((function(t){var i=e(M.escapeHash(t.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=e('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=t.index;t.index=e(n).index(),t.$activeTabLink.removeClass("active"),t.$activeTabLink=t.$tabLinks.eq(t.index),t.$activeTabLink.addClass("active"),t._animateIndicator(i),"function"==typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var n=0,i=0;0<=this.index-e?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};t.remove(this._indicator),t(r)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tabs}},{key:"defaults",get:function(){return n}}]),r}();M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(e,t){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_Tooltip=i).options=e.extend({},r.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return l(r,u),s(r,[{key:"destroy",value:function(){e(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=e.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){e.isHovered||e.isFocused||e._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(e){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(t.isHovered||t.isFocused||e)&&t._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t,n=this.el,i=this.tooltipEl,r=n.offsetHeight,o=n.offsetWidth,s=i.offsetHeight,a=i.offsetWidth,l=this.options.margin,c=void 0,u=void 0;this.xMovement=0,this.yMovement=0,c=n.getBoundingClientRect().top+M.getDocumentScrollTop(),u=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(c+=-s-l,u+=o/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(c+=r/2-s/2,u+=o+l,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(c+=r/2-s/2,u+=-a-l,this.xMovement=-this.options.transitionMovement):(c+=r+l,u+=o/2-a/2,this.yMovement=this.options.transitionMovement),t=this._repositionWithinScreen(u,c,a,s),e(i).css({top:t.y+"px",left:t.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=e-r,a=t-o,l={left:s,top:a,width:n,height:i},c=this.options.margin+this.options.transitionMovement,u=M.checkWithinContainer(document.body,l,c);return u.left?s=c:u.right&&(s-=s+n-window.innerWidth),u.top?a=c:u.bottom&&(a-=a+i-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return t&&(e.html=t),n&&(e.position=n),e}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tooltip}},{key:"defaults",get:function(){return n}}]),r}();M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(e){"use strict";var t=t||{},n=document.querySelectorAll.bind(document);function i(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}var r={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var s,a,l,c,u,h,d,f=(h={top:0,left:0},d=(s=n)&&s.ownerDocument,a=d.documentElement,void 0!==s.getBoundingClientRect&&(h=s.getBoundingClientRect()),l=null!==(u=c=d)&&u===u.window?c:9===c.nodeType&&c.defaultView,{top:h.top+l.pageYOffset-a.clientTop,left:h.left+l.pageXOffset-a.clientLeft}),p=e.pageY-f.top,m=e.pageX-f.left,g="scale("+n.clientWidth/100*10+")";"touches"in e&&(p=e.touches[0].pageY-f.top,m=e.touches[0].pageX-f.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",g),o.setAttribute("data-x",m),o.setAttribute("data-y",p);var A={top:p+"px",left:m+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(A)),o.className=o.className.replace("waves-notransition",""),A["-webkit-transform"]=g,A["-moz-transform"]=g,A["-ms-transform"]=g,A["-o-transform"]=g,A.transform=g,A.opacity="1",A["-webkit-transition-duration"]=r.duration+"ms",A["-moz-transition-duration"]=r.duration+"ms",A["-o-transition-duration"]=r.duration+"ms",A["transition-duration"]=r.duration+"ms",A["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",A["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",A["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",A["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(A))},hide:function(e){o.touchup(e);var t=this,n=(t.clientWidth,null),s=t.getElementsByClassName("waves-ripple");if(!(0<s.length))return!1;var a=(n=s[s.length-1]).getAttribute("data-x"),l=n.getAttribute("data-y"),c=n.getAttribute("data-scale"),u=350-(Date.now()-Number(n.getAttribute("data-hold")));u<0&&(u=0),setTimeout((function(){var e={top:l+"px",left:a+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":c,"-moz-transform":c,"-ms-transform":c,"-o-transform":c,transform:c};n.setAttribute("style",i(e)),setTimeout((function(){try{t.removeChild(n)}catch(e){return!1}}),r.duration)}),u)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},o={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?o.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){0<o.touches&&(o.touches-=1)}),500):"mousedown"===e.type&&0<o.touches&&(t=!1),t},touchup:function(e){o.allowEvent(e)}};function s(t){var n=function(e){if(!1===o.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}(t);null!==n&&(r.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",r.hide,!1),n.addEventListener("touchcancel",r.hide,!1)),n.addEventListener("mouseup",r.hide,!1),n.addEventListener("mouseleave",r.hide,!1),n.addEventListener("dragend",r.hide,!1))}t.displayEffect=function(t){"duration"in(t=t||{})&&(r.duration=t.duration),r.wrapInput(n(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(r.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",s,!1),t.addEventListener("mousedown",s,!1)},e.Waves=t,document.addEventListener("DOMContentLoaded",(function(){t.displayEffect()}),!1)}(window),function(e,t){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(t){c(this,i),this.options=e.extend({},i.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();(n.M_Toast=this).el=n,this.$el=e(n),this._animateIn(),this._setTimer()}return s(i,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&e(t).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?e(t).append(this.message[0]):t.innerHTML=this.message,i._container.appendChild(t),t}},{key:"_animateIn",value:function(){t({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()}),20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),t({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof e.options.completeCallback&&e.options.completeCallback(),e.$el.remove(),i._toasts.splice(i._toasts.indexOf(e),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",i._onDragStart),e.addEventListener("touchmove",i._onDragMove),e.addEventListener("touchend",i._onDragEnd),e.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(e),i._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),e(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var n=e(t.target).closest(".toast")[0].M_Toast;n.panning=!0,(i._draggedToast=n).el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(t),n.time=Date.now(),n.xPos=i._xPos(t)}}},{key:"_onDragMove",value:function(e){if(i._draggedToast){e.preventDefault();var t=i._draggedToast;t.deltaX=Math.abs(t.xPos-i._xPos(e)),t.xPos=i._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var n=t.xPos-t.startingXPos,r=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+n+"px)",t.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var e=i._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent;Math.abs(t)>n||1<e.velocityX?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in i._toasts)i._toasts[e].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(e){return new i(e)}}(cash,M.anime),function(e,t){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_Sidenav=i).id=i.$el.attr("id"),i.options=e.extend({},r.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),r._sidenavs.push(i),i}return l(r,u),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=r._sidenavs.indexOf(this);0<=e&&r._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===r._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===r._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".sidenav-trigger");if(t.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),t.preventDefault()}}},{key:"_startDrag",value:function(e){var n=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,t.remove(this.el),t.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=0<t?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===n&&(t=0);var i=t,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(.2<this.percentOpen?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=0<t?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==n&&(t=0);var i=-t;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(.8<this.percentOpen?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){e(t.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(992<window.innerWidth?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&992<window.innerWidth}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(t.remove(this.el),t({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:e(this._overlay).css({display:"block"}),t.remove(this._overlay),t({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;t.remove(this._overlay),t({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e(n._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}},{key:"defaults",get:function(){return n}}]),r}();i._sidenavs=[],M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(e,t){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_ScrollSpy=i).options=e.extend({},r.defaults,n),r._elements.push(i),r._count++,r._increment++,i.tickId=-1,i.id=r._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return l(r,u),s(r,[{key:"destroy",value:function(){r._elements.splice(r._elements.indexOf(this),1),r._elementsInView.splice(r._elementsInView.indexOf(this),1),r._visibleElements.splice(r._visibleElements.indexOf(this.$el),1),r._count--,this._removeEventHandlers(),e(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===r._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===r._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=e(n.target),o=r._elements.length-1;0<=o;o--){var s=r._elements[o];if(i.is('a[href="#'+s.$el.attr("id")+'"]')){n.preventDefault();var a=s.$el.offset().top+1;t({targets:[document.documentElement,document.body],scrollTop:a-s.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){r._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,i=e+window.innerHeight,o=r._findElements(e,n,i,t),s=0;s<o.length;s++){var a=o[s];a.tickId<0&&a._enter(),a.tickId=r._ticks}for(var l=0;l<r._elementsInView.length;l++){var c=r._elementsInView[l],u=c.tickId;0<=u&&u!==r._ticks&&(c._exit(),c.tickId=-1)}r._elementsInView=o}},{key:"_enter",value:function(){(r._visibleElements=r._visibleElements.filter((function(e){return 0!=e.height()})))[0]?(e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),r._visibleElements[0][0].M_ScrollSpy&&this.id<r._visibleElements[0][0].M_ScrollSpy.id?r._visibleElements.unshift(this.$el):r._visibleElements.push(this.$el)):r._visibleElements.push(this.$el),e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;(r._visibleElements=r._visibleElements.filter((function(e){return 0!=e.height()})))[0]&&(e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(r._visibleElements=r._visibleElements.filter((function(e){return e.attr("id")!=t.$el.attr("id")})))[0]&&e(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,i){for(var o=[],s=0;s<r._elements.length;s++){var a=r._elements[s],l=e+a.options.scrollOffset||200;if(0<a.$el.height()){var c=a.$el.offset().top,u=a.$el.offset().left,h=u+a.$el.width(),d=c+a.$el.height();!(t<u||h<i||n<c||d<l)&&o.push(a)}}return o}},{key:"defaults",get:function(){return n}}]),r}();i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(e){"use strict";var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,n){return e.indexOf(n)-t.indexOf(n)}},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_Autocomplete=r).options=e.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=e(),r._mousedown=!1,r._setupDropdown(),r._setupEventHandlers(),r}return l(i,u),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var t=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),e(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){t.selectOption(e(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(e){"keyup"===e.type&&(i._keydown=!1),this.count=0;var t=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal===t||!M.tabPressed&&"focus"===e.type||this.open(),this.oldVal=t)}},{key:"_handleInputKeydown",value:function(t){i._keydown=!0;var n=t.keyCode,r=void 0,o=e(this.container).children("li").length;n===M.keys.ENTER&&0<=this.activeIndex?(r=e(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(r),t.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(t.preventDefault(),n===M.keys.ARROW_UP&&0<this.activeIndex&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),0<=this.activeIndex&&(this.$active=e(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(e){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(e){this._mousedown=!1}},{key:"_highlight",value:function(e,t){var n=t.find("img"),i=t.text().toLowerCase().indexOf(""+e.toLowerCase()),r=i+e.length-1,o=t.text().slice(0,i),s=t.text().slice(i,r+1),a=t.text().slice(r+1);t.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&t.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){e(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(t,n){var i=this;this._resetAutocomplete();var r=[];for(var o in t)if(t.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var s={data:t[o],key:o};r.push(s),this.count++}this.options.sortFunction&&r.sort((function(e,t){return i.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),n.toLowerCase())}));for(var a=0;a<r.length;a++){var l=r[a],c=e("<li></li>");l.data?c.append('<img src="'+l.data+'" class="right circle"><span>'+l.key+"</span>"):c.append("<span>"+l.key+"</span>"),e(this.container).append(c),this._highlight(n,c)}}},{key:"open",value:function(){var e=this.el.value.toLowerCase();this._resetAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),i}();n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(e){M.updateTextFields=function(){e("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(t,n){var i=e(this);0<t.value.length||e(t).is(":focus")||t.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):t.validity?i.siblings("label").toggleClass("active",!0===t.validity.badInput):i.siblings("label").removeClass("active")}))},M.validate_field=function(e){var t=null!==e.attr("data-length"),n=parseInt(e.attr("data-length")),i=e[0].value.length;0!==i||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&i<=n||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=e(t)),t.length){var n=e(".hiddendiv").first();n.length||(n=e('<div class="hiddendiv common"></div>'),e("body").append(n));var i=t.css("font-family"),r=t.css("font-size"),o=t.css("line-height"),s=t.css("padding-top"),a=t.css("padding-right"),l=t.css("padding-bottom"),c=t.css("padding-left");r&&n.css("font-size",r),i&&n.css("font-family",i),o&&n.css("line-height",o),s&&n.css("padding-top",s),a&&n.css("padding-right",a),l&&n.css("padding-bottom",l),c&&n.css("padding-left",c),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(t[0].value+"\n");var u=n.html().replace(/\n/g,"<br>");n.html(u),0<t[0].offsetWidth&&0<t[0].offsetHeight?n.css("width",t.width()+"px"):n.css("width",window.innerWidth/2+"px"),t.data("original-height")<=n.innerHeight()?t.css("height",n.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},e(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(document).on("change",t,(function(){0===this.value.length&&null===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),M.validate_field(e(this))})),e(document).ready((function(){M.updateTextFields()})),e(document).on("reset",(function(n){var i=e(n.target);i.is("form")&&(i.find(t).removeClass("valid").removeClass("invalid"),i.find(t).each((function(t){this.value.length&&e(this).siblings("label").removeClass("active")})),setTimeout((function(){i.find("select").each((function(){this.M_FormSelect&&e(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){e(n.target).is(t)&&e(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var i=e(n.target);if(i.is(t)){var r=".prefix";0===i[0].value.length&&!0!==i[0].validity.badInput&&null===i.attr("placeholder")&&(r+=", label"),i.siblings(r).removeClass("active"),M.validate_field(i)}}),!0),e(document).on("keyup","input[type=radio], input[type=checkbox]",(function(t){if(t.which===M.keys.TAB)return e(this).addClass("tabbed"),void e(this).one("blur",(function(t){e(this).removeClass("tabbed")}))}));var n=".materialize-textarea";e(n).each((function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),e(document).on("keyup",n,(function(){M.textareaAutoResize(e(this))})),e(document).on("keydown",n,(function(){M.textareaAutoResize(e(this))})),e(document).on("change",'.file-field input[type="file"]',(function(){for(var t=e(this).closest(".file-field").find("input.file-path"),n=e(this)[0].files,i=[],r=0;r<n.length;r++)i.push(n[r].name);t[0].value=i.join(", "),t.trigger("change")}))}))}(cash),function(e,t){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function r(n,i){c(this,r);var o=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,n,i));return(o.el.M_Slider=o).options=e.extend({},r.defaults,i),o.$slider=o.$el.find(".slides"),o.$slides=o.$slider.children("li"),o.activeIndex=o.$slides.filter((function(t){return e(t).hasClass("active")})).first().index(),-1!=o.activeIndex&&(o.$active=o.$slides.eq(o.activeIndex)),o._setSliderHeight(),o.$slides.find(".caption").each((function(e){o._animateCaptionIn(e,0)})),o.$slides.find("img").each((function(t){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(t).attr("src")!==n&&(e(t).css("background-image",'url("'+e(t).attr("src")+'")'),e(t).attr("src",n))})),o._setupIndicators(),o.$active?o.$active.css("display","block"):(o.$slides.first().addClass("active"),t({targets:o.$slides.first()[0],opacity:1,duration:o.options.duration,easing:"easeOutQuad"}),o.activeIndex=0,o.$active=o.$slides.eq(o.activeIndex),o.options.indicators&&o.$indicators.eq(o.activeIndex).addClass("active")),o.$active.find("img").each((function(e){t({targets:o.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:o.options.duration,easing:"easeOutQuad"})})),o._setupEventHandlers(),o.start(),o}return l(r,u),s(r,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(t){t.addEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each((function(t){t.removeEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(t){var n=e(t.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};e(n).hasClass("center-align")?r.translateY=-100:e(n).hasClass("right-align")?r.translateX=100:e(n).hasClass("left-align")&&(r.translateX=-100),t(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var t=this;this.options.indicators&&(this.$indicators=e('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=e('<li class="indicator-item"></li>');t.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var n=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),t({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(e){t({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),t({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),t({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Slider}},{key:"defaults",get:function(){return n}}]),r}();M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),function(e,t){e(document).on("click",".card",(function(n){if(e(this).children(".card-reveal").length){var i=e(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var r=e(this).find(".card-reveal");e(n.target).is(e(".card-reveal .card-title"))||e(n.target).is(e(".card-reveal .card-title i"))?t({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;e(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(e(n.target).is(e(".card .activator"))||e(n.target).is(e(".card .activator i")))&&(i.css("overflow","hidden"),r.css({display:"block"}),t({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(e){"use strict";var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_Chips=r).options=e.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=e(),r._setupInput(),r.hasAutocomplete=0<Object.keys(r.options.autocompleteOptions).length,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return l(i,u),s(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var n=e(t.target).closest(".chip"),i=e(t.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(i._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=t.tag,n.setAttribute("tabindex",0),e(i).addClass("material-icons close"),i.textContent="close",t.image){var r=document.createElement("img");r.setAttribute("src",t.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=e("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?e(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&e(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(t);this.$chips.add(n),this.chipsData.push(t),e(this.$input).before(n),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(t){var n=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter((function(t){return 0<=e(t).index()})),this.chipsData.splice(t,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);(this._selectedChip=t)[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Chips}},{key:"_handleChipsKeydown",value:function(t){i._keydown=!0;var n=e(t.target).closest(".chips"),r=t.target&&n.length;if(!e(t.target).is("input, textarea")&&r){var o=n[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var s=o.chipsData.length;if(o._selectedChip){var a=o._selectedChip.index();o.deleteChip(a),o._selectedChip=null,s=Math.max(a-1,0)}o.chipsData.length&&o.selectChip(s)}else if(37===t.keyCode){if(o._selectedChip){var l=o._selectedChip.index()-1;if(l<0)return;o.selectChip(l)}}else if(39===t.keyCode&&o._selectedChip){var c=o._selectedChip.index()+1;c>=o.chipsData.length?o.$input[0].focus():o.selectChip(c)}}}},{key:"_handleChipsKeyup",value:function(e){i._keydown=!1}},{key:"_handleChipsBlur",value:function(t){i._keydown||(e(t.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),i}();n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),e(document).ready((function(){e(document.body).on("click",".chip .close",(function(){var t=e(this).closest(".chips");t.length&&t[0].M_Chips||e(this).closest(".chip").remove()}))}))}(cash),function(e){"use strict";var t={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_Pushpin=r).options=e.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return l(i,u),s(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=i._pushpins.indexOf(this);i._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Pushpin}},{key:"_updateElements",value:function(){for(var e in i._pushpins)i._pushpins[e]._updatePosition()}},{key:"defaults",get:function(){return t}}]),i}();n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(e,t){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};e.fn.reverse=[].reverse;var i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_FloatingActionButton=i).options=e.extend({},r.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return l(r,u),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){t({targets:i,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each((function(n){t.remove(n),t({targets:n,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var t,n=this,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),s=e('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(s),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,t=i/s[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),s.css({"background-color":a}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":a}),s.css({transform:"scale("+t+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout((function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),r}();M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(e){"use strict";var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"‹",nextMonth:"›",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));(r.el.M_Datepicker=r).options=e.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"==typeof n.i18n&&(r.options.i18n=e.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)));var o=r.options.defaultDate;return i._isDate(o)?r.options.setDefaultDate?(r.setDate(o,!0),r.setInputValue()):r.gotoDate(o):r.gotoDate(new Date),r.isOpen=!1,r}return l(i,u),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".orig-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".orig-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(e(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;return e=e||this.options.format,i._isDate(this.date)?e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(e){return t.formats[e]?t.formats[e]():e})).join(""):""}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),i._isDate(e)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&e<n?e=n:i._isDate(r)&&r<e&&(e=r),this.date=new Date(e.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=i._isDate(this.date)?this.date:new Date,t=this.options.i18n,n=t.weekdaysShort[e.getDay()],r=t.monthsShort[e.getMonth()],o=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+o}},{key:"gotoDate",value:function(e){var t=!0;if(i._isDate(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=o<n.getTime()||r.getTime()<o}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),11<e.month&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,n){var r=this.options,o=new Date,s=i._getDaysInMonth(e,t),a=new Date(e,t,1).getDay(),l=[],c=[];i._setToStartOfDay(o),0<r.firstDay&&(a-=r.firstDay)<0&&(a+=7);for(var u=0===t?11:t-1,h=11===t?0:t+1,d=0===t?e-1:e,f=11===t?e+1:e,p=i._getDaysInMonth(d,u),m=s+a,g=m;7<g;)g-=7;m+=7-g;for(var A=!1,y=0,v=0;y<m;y++){var b=new Date(e,t,y-a+1),_=!!i._isDate(this.date)&&i._compareDates(b,this.date),w=i._compareDates(b,o),x=-1!==r.events.indexOf(b.toDateString()),S=y<a||s+a<=y,T=y-a+1,E=t,M=e,C=r.startRange&&i._compareDates(r.startRange,b),O=r.endRange&&i._compareDates(r.endRange,b),k=r.startRange&&r.endRange&&r.startRange<b&&b<r.endRange;S&&(y<a?(T=p+T,E=u,M=d):(T-=s,E=h,M=f));var P={day:T,month:E,year:M,hasEvent:x,isSelected:_,isToday:w,isDisabled:r.minDate&&b<r.minDate||r.maxDate&&b>r.maxDate||r.disableWeekends&&i._isWeekend(b)||r.disableDayFn&&r.disableDayFn(b),isEmpty:S,isStartRange:C,isEndRange:O,isInRange:k,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};c.push(this.renderDay(P)),7==++v&&(l.push(this.renderRow(c,r.isRTL,A)),v=0,A=!(c=[]))}return this.renderTable(r,l,n)}},{key:"renderDay",value:function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+e.year+'" data-month="'+e.month+'" data-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,n,i,r,o,s){var a,l,c=void 0,u=void 0,h=void 0,d=this.options,f=i===d.minYear,p=i===d.maxYear,m='<div id="'+s+'" class="datepicker-controls" role="heading" aria-live="assertive">',g=!0,A=!0;for(h=[],c=0;c<12;c++)h.push('<option value="'+(i===o?c-n:12+c-n)+'"'+(c===r?' selected="selected"':"")+(f&&c<d.minMonth||p&&c>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[c]+"</option>");for(a='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",e.isArray(d.yearRange)?(c=d.yearRange[0],u=d.yearRange[1]+1):(c=i-d.yearRange,u=1+i+d.yearRange),h=[];c<u&&c<=d.maxYear;c++)c>=d.minYear&&h.push('<option value="'+c+'" '+(c===i?'selected="selected"':"")+">"+c+"</option>");return l='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>",m+='<button class="month-prev'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',m+='<div class="selects-container">',d.showMonthAfterYear?m+=l+a:m+=a+l,m+="</div>",f&&(0===r||d.minMonth>=r)&&(g=!1),p&&(11===r||d.maxMonth<=r)&&(A=!1),(m+='<button class="month-next'+(A?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t,n=this.options,i=n.minYear,r=n.maxYear,o=n.minMonth,s=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),t="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),a+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,t)+this.render(this.calendars[l].year,this.calendars[l].month,t);this.destroySelects(),this.calendarEl.innerHTML=a;var c=this.calendarEl.querySelector(".orig-select-year"),u=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(c,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(u,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),c.addEventListener("change",this._handleYearChange.bind(this)),u.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=e(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var n=e(t.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,n){for(t+=e.firstDay;7<=t;)t-=7;return n?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){i._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,i._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){i._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Datepicker}},{key:"defaults",get:function(){return t}}]),i}();n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(e){"use strict";var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_Timepicker=r).options=e.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return l(i,u),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),e(this.spanHours).on("click",this.showView.bind(this,"hours")),e(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),n=t.left,r=t.top;this.x0=n+this.options.dialRadius,this.y0=r+this.options.dialRadius,this.moved=!1;var o=i._Pos(e);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=i._Pos(e),n=t.x-this.x0,r=t.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var n=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(t),o=r.x-this.x0,s=r.y-this.y0;this.moved&&o===this.dx&&s===this.dy&&this.setHand(o,s),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(e(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=e(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e),e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=e('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var n=e('<div class="confirmation-btns"></div>');e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=e('<div class="am-btn">AM</div>'),this.$pmBtn=e('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,n=2*e,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var o=i._createSVGEl("g");o.setAttribute("transform","translate("+e+","+e+")");var s=i._createSVGEl("circle");s.setAttribute("class","timepicker-canvas-bearing"),s.setAttribute("cx",0),s.setAttribute("cy",0),s.setAttribute("r",4);var a=i._createSVGEl("line");a.setAttribute("x1",0),a.setAttribute("y1",0);var l=i._createSVGEl("circle");l.setAttribute("class","timepicker-canvas-bg"),l.setAttribute("r",t),o.appendChild(a),o.appendChild(l),o.appendChild(s),r.appendChild(o),this._canvas.appendChild(r),this.hand=a,this.bg=l,this.bearing=s,this.g=o}},{key:"_buildHoursView",value:function(){var t=e('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=t.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var s=0;s<24;s+=1){var a=t.clone(),l=s/6*Math.PI,c=0<s&&s<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(l)*c-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(l)*c-this.options.tickRadius+"px"}),a.html(0===s?"00":s),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var t=e('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=t.clone(),o=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(t){var n=e(t.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==e[1]&&(0<e[1].toUpperCase().indexOf("AM")?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=12<=e[0]&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,n){"minutes"===t&&e(this.hoursView).css("visibility");var i="hours"===t,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=t,e(this.spanHours).toggleClass("text-primary",i),e(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),e(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){e(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(t){var n=this.currentView,i=this[n],r="hours"===n,o=i*(Math.PI/(r?6:30)),s=r&&0<i&&i<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(o)*s,l=-Math.cos(o)*s,c=this;t?(e(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){e(c.canvas).removeClass("timepicker-canvas-out"),c.setHand(a,l)}),t)):this.setHand(a,l)}},{key:"setHand",value:function(e,t,n){var r=this,o=Math.atan2(e,-t),s="hours"===this.currentView,a=Math.PI/(s||n?6:30),l=Math.sqrt(e*e+t*t),c=s&&l<(this.options.outerRadius+this.options.innerRadius)/2,u=c?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(u=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/a);o=h*a,this.options.twelveHour?s?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):s?(12===h&&(h=0),h=c?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){r.vibrateTimer=null}),100))),this[this.currentView]=h,s?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=i._addLeadingZero(h);var d=Math.sin(o)*(u-this.options.tickRadius),f=-Math.cos(o)*(u-this.options.tickRadius),p=Math.sin(o)*u,m=-Math.cos(o)*u;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",m)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var n=this.el.value,r=t?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!t&&this.options.twelveHour&&(r=r+" "+this.amOrPm),(this.el.value=r)!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"_Pos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Timepicker}},{key:"defaults",get:function(){return t}}]),i}();n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(e){"use strict";var t={},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_CharacterCounter=r).options=e.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return l(i,u),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),e(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){e(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=t;var i=n;t&&(i+="/"+t,this._validateInput()),e(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),i}();M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(e){"use strict";var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_Carousel=r).options=e.extend({},i.defaults,n),r.hasMultipleSlides=1<r.$el.find(".carousel-item").length,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=e('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each((function(t,n){if(r.images.push(t),r.showIndicators){var i=e('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}})),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every((function(e){var t=e+"Transform";return void 0===document.body.style[t]||(r.xform=t,!1)})),r._setupEventHandlers(),r._scroll(r.offset),r}return l(i,u),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(t,n){t.addEventListener("click",e._handleIndicatorClickBound)})));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(t,n){t.removeEventListener("click",e._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,n=void 0,i=void 0;if(this.pressed)if(t=this._xpos(e),n=this._ypos(e),i=this.reference-t,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(2<i||i<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+i));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(10<this.velocity||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var n=e(t.target).closest(".carousel-item").index();0!==this._wrap(this.center)-n&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var n=e(t.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var t=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(0<r)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,s=i[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else i.one("load",(function(e,n){t.$el.css("height",e.offsetHeight+"px")}));else if(!e){var l=n.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e,t,n,i;t=(e=Date.now())-this.timestamp,this.timestamp=e,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+t),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,2<(t=this.amplitude*Math.exp(-e/this.options.duration))||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,r,o,s,a=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),s=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,i=this.count>>1,this.options.fullWidth?(c="translateX(0)",d=1):(c="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",c+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*s),this.showIndicators){var m=this.center%this.count,g=this.$indicators.find(".indicator-item.active");g.index()!==m&&(g.removeClass("active"),this.$indicators.find(".indicator-item").eq(m)[0].classList.add("active"))}if(!this.noWrap||0<=this.center&&this.center<this.count){l=this.images[this._wrap(this.center)],e(l).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),l.classList.add("active"));var A=c+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s*a+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(l,d,0,A)}for(a=1;a<=i;++a){if(this.options.fullWidth?(u=this.options.dist,h=a===i&&r<0?1-s:1):(u=this.options.dist*(2*a+s*o),h=1-p*(2*a+s*o)),!this.noWrap||this.center+a<this.count){l=this.images[this._wrap(this.center+a)];var y=c+" translateX("+(this.options.shift+(this.dim*a-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(l,h,-a,y)}if(this.options.fullWidth?(u=this.options.dist,h=a===i&&0<r?1-s:1):(u=this.options.dist*(2*a-s*o),h=1-p*(2*a-s*o)),!this.noWrap||0<=this.center-a){l=this.images[this._wrap(this.center-a)];var v=c+" translateX("+(-this.options.shift+(-this.dim*a-r)/2)+"px) translateZ("+u+"px)";this._updateItemStyle(l,h,-a,v)}}if(!this.noWrap||0<=this.center&&this.center<this.count){l=this.images[this._wrap(this.center)];var b=c+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(l,d,0,b)}var _=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,_[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,_[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,n,i){e.style[this.xform]=i,e.style.zIndex=n,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var n=this.center%this.count-e;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):0<n&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):0<n&&(this.target-=this.dim*n),"function"==typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Carousel}},{key:"defaults",get:function(){return t}}]),i}();M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(e){"use strict";var t={onOpen:void 0,onClose:void 0},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return(r.el.M_TapTarget=r).options=e.extend({},i.defaults,n),r.isOpen=!1,r.$origin=e("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return l(i,u),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=e(this.wrapper).find(".tap-target-wave")[0],this.originEl=e(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],e(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(e(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var n=this.$origin.parents(),i=0;i<n.length&&!(t="fixed"==e(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),s=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,l=window.innerWidth,c=window.innerHeight,u=l/2,h=c/2,d=a<=u,f=u<a,p=s<=h,m=h<s,g=.25*l<=a&&a<=.75*l,A=this.$el.outerWidth(),y=this.$el.outerHeight(),v=s+o/2-y/2,b=a+r/2-A/2,_=t?"fixed":"absolute",w=g?A:A/2+r,x=y/2,S=p?y/2:0,T=d&&!g?A/2-r:0,E=r,C=m?"bottom":"top",O=2*r,k=O,P=y/2-k/2,I=A/2-O/2,R={};R.top=p?v+"px":"",R.right=f?l-b-A+"px":"",R.bottom=m?c-v-y+"px":"",R.left=d?b+"px":"",R.position=_,e(this.wrapper).css(R),e(this.contentEl).css({width:w+"px",height:x+"px",top:S+"px",right:"0px",bottom:"0px",left:T+"px",padding:E+"px",verticalAlign:C}),e(this.waveEl).css({top:P+"px",left:I+"px",width:O+"px",height:k+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_TapTarget}},{key:"defaults",get:function(){return t}}]),i}();M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(e){"use strict";var t={classes:"",dropdownOptions:{}},n=function(n){function i(t,n){c(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.$el.hasClass("browser-default")?a(r):((r.el.M_FormSelect=r).options=e.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return l(i,u),s(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.addEventListener("click",t._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.removeEventListener("click",t._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var n=e(t.target).closest("li")[0],i=n.id;if(!e(n).hasClass("disabled")&&!e(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=e(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(i)}else e(this.dropdownOptions).find("li").removeClass("selected"),e(n).toggleClass("selected",r);e(this._valueDict[i].el).prop("selected")!==r&&(e(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var t=this;this.wrapper=document.createElement("div"),e(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(e(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),e(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(e(n).is("option")){var i=void 0;i=t.isMultiple?t._appendOptionWithIcon(t.$el,n,"multiple"):t._appendOptionWithIcon(t.$el,n),t._addOptionToValueDict(n,i)}else if(e(n).is("optgroup")){var r=e(n).children("option");e(t.dropdownOptions).append(e('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(e){var n=t._appendOptionWithIcon(t.$el,e,"optgroup-option");t._addOptionToValueDict(e,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),e(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&e(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=e('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=e.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=e(t.dropdownOptions).find(".selected").first();if(i.length&&(M.keyDown=!0,t.dropdown.focusedIndex=i.index(),t.dropdown._focusFocusedItem(),M.keyDown=!1,t.dropdown.isScrollable)){var r=i[0].getBoundingClientRect().top-t.dropdownOptions.getBoundingClientRect().top;r-=t.dropdownOptions.clientHeight/2,t.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};t.id=i,r.el=e,r.optionEl=t,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){e(this.wrapper).find(".caret").remove(),e(this.input).remove(),e(this.dropdownOptions).remove(),e(this.wrapper).before(this.$el),e(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",s=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,a=e("<li></li>"),l=e("<span></span>");l.html(s),a.addClass(r+" "+o),a.append(l);var c=n.getAttribute("data-icon");if(c){var u=e('<img alt="" src="'+c+'">');a.prepend(u)}return e(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(t){var n=!this._keysSelected.hasOwnProperty(t),i=e(this._valueDict[t].optionEl);return n?this._keysSelected[t]=!0:delete this._keysSelected[t],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var t=[];if(this.$el.find("option").each((function(n){if(e(n).prop("selected")){var i=e(n).text();t.push(i)}})),!t.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&t.push(n.text())}this.input.value=t.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var n=this._valueDict[t],i=e(n.el).prop("selected");e(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(e(this.dropdownOptions),e(n.optionEl)),this._keysSelected[t]=!0):e(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,n){n&&(this.isMultiple||t.find("li.selected").removeClass("selected"),e(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return o(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FormSelect}},{key:"defaults",get:function(){return t}}]),i}();M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(e,t){"use strict";var n={},i=function(i){function r(t,n){c(this,r);var i=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,t,n));return(i.el.M_Range=i).options=e.extend({},r.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return l(r,u),s(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){e(this.value).html(this.$el.val()),e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(e(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),e(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var n=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px"),e(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";e(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),e(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),e(this.thumb).addClass("thumb"),e(this.value).addClass("value"),e(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){e(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(e(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(t-n)*e}}],[{key:"init",value:function(e,t){return o(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return n}}]),r}();M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(e("input[type=range]"))}(cash,M.anime)}).call(this,n("c8ba"))},"69f3":function(e,t,n){var i,r,o,s=n("cdce"),a=n("da84"),l=n("861d"),c=n("9112"),u=n("1a2d"),h=n("c6cd"),d=n("f772"),f=n("d012"),p="Object already initialized",m=a.TypeError,g=a.WeakMap,A=function(e){return o(e)?r(e):i(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,i=function(e,t){if(v.has(e))throw m(p);return t.facade=e,v.set(e,t),t},r=function(e){return v.get(e)||{}},o=function(e){return v.has(e)}}else{var b=d("state");f[b]=!0,i=function(e,t){if(u(e,b))throw m(p);return t.facade=e,c(e,b,t),t},r=function(e){return u(e,b)?e[b]:{}},o=function(e){return u(e,b)}}e.exports={set:i,get:r,has:o,enforce:A,getterFor:y}},"6a92":function(e,t,n){"use strict";n.d(t,"a",(function(){return _t})),n.d(t,"b",(function(){return bt})),n.d(t,"c",(function(){return xt})),n.d(t,"d",(function(){return wt})),n.d(t,"e",(function(){return vt}));var i=n("589b"),r=n("1fd5"),o=n("22e5");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s="firebasestorage.googleapis.com",a="storageBucket",l=12e4,c=6e5,u=1e3;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class h extends r["c"]{constructor(e,t,n=0){super(p(e),`Firebase Storage: ${t} (${p(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,h.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var d,f;function p(e){return"storage/"+e}function m(){const e="An unknown error occurred, please check the error payload for server response.";return new h(d.UNKNOWN,e)}function g(e){return new h(d.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function A(e){return new h(d.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new h(d.UNAUTHENTICATED,e)}function v(){return new h(d.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function b(e){return new h(d.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function _(){return new h(d.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w(){return new h(d.CANCELED,"User canceled the upload/download.")}function x(e){return new h(d.INVALID_URL,"Invalid URL '"+e+"'.")}function S(e){return new h(d.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function T(){return new h(d.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a+"' property when initializing the app?")}function E(){return new h(d.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M(){return new h(d.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function C(){return new h(d.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O(e){return new h(d.UNSUPPORTED_ENVIRONMENT,e+" is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.")}function k(e){return new h(d.INVALID_ARGUMENT,e)}function P(){return new h(d.APP_DELETED,"The Firebase app was deleted.")}function I(e){return new h(d.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function R(e,t){return new h(d.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function D(e){throw new h(d.INTERNAL_ERROR,"Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e["UNKNOWN"]="unknown",e["OBJECT_NOT_FOUND"]="object-not-found",e["BUCKET_NOT_FOUND"]="bucket-not-found",e["PROJECT_NOT_FOUND"]="project-not-found",e["QUOTA_EXCEEDED"]="quota-exceeded",e["UNAUTHENTICATED"]="unauthenticated",e["UNAUTHORIZED"]="unauthorized",e["UNAUTHORIZED_APP"]="unauthorized-app",e["RETRY_LIMIT_EXCEEDED"]="retry-limit-exceeded",e["INVALID_CHECKSUM"]="invalid-checksum",e["CANCELED"]="canceled",e["INVALID_EVENT_NAME"]="invalid-event-name",e["INVALID_URL"]="invalid-url",e["INVALID_DEFAULT_BUCKET"]="invalid-default-bucket",e["NO_DEFAULT_BUCKET"]="no-default-bucket",e["CANNOT_SLICE_BLOB"]="cannot-slice-blob",e["SERVER_FILE_WRONG_SIZE"]="server-file-wrong-size",e["NO_DOWNLOAD_URL"]="no-download-url",e["INVALID_ARGUMENT"]="invalid-argument",e["INVALID_ARGUMENT_COUNT"]="invalid-argument-count",e["APP_DELETED"]="app-deleted",e["INVALID_ROOT_OPERATION"]="invalid-root-operation",e["INVALID_FORMAT"]="invalid-format",e["INTERNAL_ERROR"]="internal-error",e["UNSUPPORTED_ENVIRONMENT"]="unsupported-environment"})(d||(d={}));class L{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=L.makeFromUrl(e,t)}catch(i){return new L(e,"")}if(""===n.path)return n;throw S(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function r(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(e){e.path_=decodeURIComponent(e.path)}const u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=t===s?"(?:storage.googleapis.com|storage.cloud.google.com)":t,g="([^?#]*)",A=new RegExp(`^https?://${m}/${i}/${g}`,"i"),y={bucket:1,path:2},v=[{regex:a,indices:l,postModify:r},{regex:f,indices:p,postModify:c},{regex:A,indices:y,postModify:c}];for(let s=0;s<v.length;s++){const t=v[s],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new L(e,r),t.postModify(n);break}}if(null==n)throw x(e);return n}}class N{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(e,t,n){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function h(t){r=setTimeout(()=>{r=null,e(f,l())},t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(c)return void d();if(e)return d(),void u.call(null,e,...t);const n=l()||s;if(n)return d(),void u.call(null,e,...t);let r;i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==r?(e||(a=2),clearTimeout(r),h(0)):e||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function F(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){return void 0!==e}function U(e){return"function"===typeof e}function z(e){return"object"===typeof e&&!Array.isArray(e)}function q(e){return"string"===typeof e||e instanceof String}function V(e){return H()&&e instanceof Blob}function H(){return"undefined"!==typeof Blob&&!Object(r["D"])()}function G(e,t,n,i){if(i<t)throw k(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw k(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t,n){let i=t;return null==n&&(i="https://"+t),`${n}://${i}/v0${e}`}function $(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(e,t){const n=e>=500&&e<600,i=[408,429],r=-1!==i.indexOf(e),o=-1!==t.indexOf(e);return n||r||o}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["NO_ERROR"]=0]="NO_ERROR",e[e["NETWORK_ERROR"]=1]="NETWORK_ERROR",e[e["ABORT"]=2]="ABORT"})(f||(f={}));class Y{constructor(e,t,n,i,r,o,s,a,l,c,u,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new K(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===f.NO_ERROR,r=n.getStatus();if(!t||X(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===f.ABORT;return void e(!1,new K(!1,null,t))}const o=-1!==this.successCodes_.indexOf(r);e(!0,new K(o,n))})},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());j(e)?n(e):n()}catch(o){i(o)}else if(null!==r){const e=m();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){const e=this.appDelete_?P():w();i(e)}else{const e=_();i(e)}};this.canceled_?t(!1,new K(!1,null,!0)):this.backoffId_=B(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&F(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class K{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Q(e,t){null!==t&&t.length>0&&(e["Authorization"]="Firebase "+t)}function J(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function Z(e,t){t&&(e["X-Firebase-GMPID"]=t)}function ee(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function te(e,t,n,i,r,o,s=!0){const a=$(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return Z(c,t),Q(c,n),J(c,o),ee(c,i),new Y(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ie(...e){const t=ne();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(H())return new Blob(e);throw new h(d.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function re(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e){if("undefined"===typeof atob)throw O("base-64");return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ae{constructor(e,t){this.data=e,this.contentType=t||null}}function le(e,t){switch(e){case se.RAW:return new ae(ce(t));case se.BASE64:case se.BASE64URL:return new ae(he(e,t));case se.DATA_URL:return new ae(fe(t),pe(t))}throw m()}function ce(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296===(64512&i)){const r=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(r){const r=i,o=e.charCodeAt(++n);i=65536|(1023&r)<<10|1023&o,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320===(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function ue(e){let t;try{t=decodeURIComponent(e)}catch(n){throw R(se.DATA_URL,"Malformed data URL.")}return ce(t)}function he(e,t){switch(e){case se.BASE64:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){const t=n?"-":"_";throw R(e,"Invalid character '"+t+"' found: is it base64url encoded?")}break}case se.BASE64URL:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){const t=n?"+":"/";throw R(e,"Invalid character '"+t+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oe(t)}catch(r){if(r.message.includes("polyfill"))throw r;throw R(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class de{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw R(se.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=me(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}function fe(e){const t=new de(e);return t.base64?he(se.BASE64,t.rest):ue(t.rest)}function pe(e){const t=new de(e);return t.contentType}function me(e,t){const n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,t){let n=0,i="";V(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(V(this.data_)){const n=this.data_,i=re(n,e,t);return null===i?null:new ge(i)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ge(n,!0)}}static getBlob(...e){if(H()){const t=e.map(e=>e instanceof ge?e.data_:e);return new ge(ie.apply(null,t))}{const t=e.map(e=>q(e)?le(se.RAW,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const i=new Uint8Array(n);let r=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]}),new ge(i,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e){let t;try{t=JSON.parse(e)}catch(n){return null}return z(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){if(0===e.length)return null;const t=e.lastIndexOf("/");if(-1===t)return"";const n=e.slice(0,t);return n}function ve(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}function be(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e,t){return t}class we{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||_e}}let xe=null;function Se(e){return!q(e)||e.length<2?e:be(e)}function Te(){if(xe)return xe;const e=[];function t(e,t){return Se(t)}e.push(new we("bucket")),e.push(new we("generation")),e.push(new we("metageneration")),e.push(new we("name","fullPath",!0));const n=new we("name");function i(e,t){return void 0!==t?Number(t):t}n.xform=t,e.push(n);const r=new we("size");return r.xform=i,e.push(r),e.push(new we("timeCreated")),e.push(new we("updated")),e.push(new we("md5Hash",null,!0)),e.push(new we("cacheControl",null,!0)),e.push(new we("contentDisposition",null,!0)),e.push(new we("contentEncoding",null,!0)),e.push(new we("contentLanguage",null,!0)),e.push(new we("contentType",null,!0)),e.push(new we("metadata","customMetadata",!0)),xe=e,xe}function Ee(e,t){function n(){const n=e["bucket"],i=e["fullPath"],r=new L(n,i);return t._makeStorageReference(r)}Object.defineProperty(e,"ref",{get:n})}function Me(e,t,n){const i={type:"file"},r=n.length;for(let o=0;o<r;o++){const e=n[o];i[e.local]=e.xform(i,t[e.server])}return Ee(i,e),i}function Ce(e,t,n){const i=Ae(t);if(null===i)return null;const r=i;return Me(e,r,n)}function Oe(e,t,n,i){const r=Ae(t);if(null===r)return null;if(!q(r["downloadTokens"]))return null;const o=r["downloadTokens"];if(0===o.length)return null;const s=encodeURIComponent,a=o.split(","),l=a.map(t=>{const r=e["bucket"],o=e["fullPath"],a="/b/"+s(r)+"/o/"+s(o),l=W(a,n,i),c=$({alt:"media",token:t});return l+c});return l[0]}function ke(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){if(!e)throw m()}function Re(e,t){function n(n,i){const r=Ce(e,i,t);return Ie(null!==r),r}return n}function De(e,t){function n(n,i){const r=Ce(e,i,t);return Ie(null!==r),Oe(r,i,e.host,e._protocol)}return n}function Le(e){function t(t,n){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?v():y():402===t.getStatus()?A(e.bucket):403===t.getStatus()?b(e.path):n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return t}function Ne(e){const t=Le(e);function n(n,i){let r=t(n,i);return 404===n.getStatus()&&(r=g(e.path)),r.serverResponse=i.serverResponse,r}return n}function Be(e,t,n){const i=t.fullServerUrl(),r=W(i,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new Pe(r,o,Re(e,n),s);return a.errorHandler=Ne(t),a}function Fe(e,t,n){const i=t.fullServerUrl(),r=W(i,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new Pe(r,o,De(e,n),s);return a.errorHandler=Ne(t),a}function je(e,t){const n=t.fullServerUrl(),i=W(n,e.host,e._protocol),r="DELETE",o=e.maxOperationRetryTime;function s(e,t){}const a=new Pe(i,r,s,o);return a.successCodes=[200,204],a.errorHandler=Ne(t),a}function Ue(e,t){return e&&e["contentType"]||t&&t.type()||"application/octet-stream"}function ze(e,t,n){const i=Object.assign({},n);return i["fullPath"]=e.path,i["size"]=t.size(),i["contentType"]||(i["contentType"]=Ue(null,t)),i}function qe(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=ze(t,i,r),u=ke(c,n),h="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",d="\r\n--"+l+"--",f=ge.getBlob(h,i,d);if(null===f)throw E();const p={name:c["fullPath"]},m=W(o,e.host,e._protocol),g="POST",A=e.maxUploadRetryTime,y=new Pe(m,g,Re(e,n),A);return y.urlParams=p,y.headers=s,y.body=f.uploadData(),y.errorHandler=Le(t),y}class Ve{constructor(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}}function He(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ie(!1)}const i=t||["active"];return Ie(!!n&&-1!==i.indexOf(n)),n}function Ge(e,t,n,i,r){const o=t.bucketOnlyServerUrl(),s=ze(t,i,r),a={name:s["fullPath"]},l=W(o,e.host,e._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":s["contentType"],"Content-Type":"application/json; charset=utf-8"},h=ke(s,n),d=e.maxUploadRetryTime;function f(e){let t;He(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ie(!1)}return Ie(q(t)),t}const p=new Pe(l,c,f,d);return p.urlParams=a,p.headers=u,p.body=h,p.errorHandler=Le(t),p}function We(e,t,n,i){const r={"X-Goog-Upload-Command":"query"};function o(e){const t=He(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Ie(!1)}n||Ie(!1);const r=Number(n);return Ie(!isNaN(r)),new Ve(r,i.size(),"final"===t)}const s="POST",a=e.maxUploadRetryTime,l=new Pe(n,s,o,a);return l.headers=r,l.errorHandler=Le(t),l}const $e=262144;function Xe(e,t,n,i,r,o,s,a){const l=new Ve(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw M();const c=l.total-l.current;let u=c;r>0&&(u=Math.min(u,r));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":""+l.current},m=i.slice(h,d);if(null===m)throw E();function g(e,n){const r=He(e,["active","final"]),s=l.current+u,a=i.size();let c;return c="final"===r?Re(t,o)(e,n):null,new Ve(s,a,"final"===r,c)}const A="POST",y=t.maxUploadRetryTime,v=new Pe(n,A,g,y);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=Le(e),v}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ke(e){switch(e){case"running":case"pausing":case"canceling":return Ye.RUNNING;case"paused":return Ye.PAUSED;case"success":return Ye.SUCCESS;case"canceled":return Ye.CANCELED;case"error":return Ye.ERROR;default:return Ye.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,t,n){const i=U(e)||null!=t||null!=n;if(i)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ze=null;class et{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=f.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=f.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=f.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i){if(this.sent_)throw D("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw D("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw D("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw D("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw D("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class tt extends et{initXhr(){this.xhr_.responseType="text"}}function nt(){return Ze?Ze():new tt}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class it{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Te(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(d.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(X(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,u),this._needToFetchStatus=!0,void this.completeTransitions_();e=_()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(d.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const n=Ge(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,nt,e,t);this._request=i,i.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const i=We(this._ref.storage,this._ref._location,e,this._blob),r=this._ref.storage._makeRequest(i,nt,t,n);this._request=r,r.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=$e*this._chunkMultiplier,t=new Ve(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,r)=>{let o;try{o=Xe(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,nt,i,r,!1);this._request=s,s.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){const e=$e*this._chunkMultiplier;2*e<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=Be(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,nt,e,t);this._request=i,i.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=qe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,nt,e,t);this._request=i,i.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=w(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ke(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,i){const r=new Qe(t||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();const e=this._observers.slice();e.forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Ke(this._state)){case Ye.SUCCESS:Je(this._resolve.bind(null,this.snapshot))();break;case Ye.CANCELED:case Ye.ERROR:const t=this._reject;Je(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){const t=Ke(this._state);switch(t){case Ye.RUNNING:case Ye.PAUSED:e.next&&Je(e.next.bind(e,this.snapshot))();break;case Ye.SUCCESS:e.complete&&Je(e.complete.bind(e))();break;case Ye.CANCELED:case Ye.ERROR:e.error&&Je(e.error.bind(e,this._error))();break;default:e.error&&Je(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this._service=e,this._location=t instanceof L?t:L.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rt(e,t)}get root(){const e=new L(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return be(this._location.path)}get storage(){return this._service}get parent(){const e=ye(this._location.path);if(null===e)return null;const t=new L(this._location.bucket,e);return new rt(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw I(e)}}function ot(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new it(e,new ge(t),n)}function st(e){e._throwIfRoot("getDownloadURL");const t=Fe(e.storage,e._location,Te());return e.storage.makeRequestWithTokens(t,nt).then(e=>{if(null===e)throw C();return e})}function at(e){e._throwIfRoot("deleteObject");const t=je(e.storage,e._location);return e.storage.makeRequestWithTokens(t,nt)}function lt(e,t){const n=ve(e._location.path,t),i=new L(e._location.bucket,n);return new rt(e.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(e){return/^[A-Za-z]+:\/\//.test(e)}function ut(e,t){return new rt(e,t)}function ht(e,t){if(e instanceof mt){const n=e;if(null==n._bucket)throw T();const i=new rt(n,n._bucket);return null!=t?ht(i,t):i}return void 0!==t?lt(e,t):e}function dt(e,t){if(t&&ct(t)){if(e instanceof mt)return ut(e,t);throw k("To use ref(service, url), the first argument must be a Storage instance.")}return ht(e,t)}function ft(e,t){const n=null===t||void 0===t?void 0:t[a];return null==n?null:L.makeFromBucketSpec(n,e)}function pt(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:o}=i;o&&(e._overrideAuthToken="string"===typeof o?o:Object(r["l"])(o,e.app.options.projectId))}class mt{constructor(e,t,n,i,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l,this._maxUploadRetryTime=c,this._requests=new Set,this._bucket=null!=i?L.makeFromBucketSpec(i,this._host):ft(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=L.makeFromBucketSpec(this._url,e):this._bucket=ft(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();return t.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rt(this,e)}_makeRequest(e,t,n,i,r=!0){if(this._deleted)return new N(P());{const o=te(e,this._appId,n,i,t,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const gt="@firebase/storage",At="0.11.1",yt="storage";function vt(e,t,n){return e=Object(r["v"])(e),ot(e,t,n)}function bt(e){return e=Object(r["v"])(e),st(e)}function _t(e){return e=Object(r["v"])(e),at(e)}function wt(e,t){return e=Object(r["v"])(e),dt(e,t)}function xt(e=Object(i["e"])(),t){e=Object(r["v"])(e);const n=Object(i["b"])(e,yt),o=n.getImmediate({identifier:t}),s=Object(r["t"])("storage");return s&&St(o,...s),o}function St(e,t,n,i={}){pt(e,t,n,i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new mt(n,r,o,t,i["a"])}function Et(){Object(i["c"])(new o["a"](yt,Tt,"PUBLIC").setMultipleInstances(!0)),Object(i["g"])(gt,At,""),Object(i["g"])(gt,At,"esm2017")}Et()},"6aae":function(e,t,n){"use strict";n.d(t,"a",(function(){return js}));n("f8c9"),n("d9e2");var i=n("7a23");
/**
  * vue-class-component v8.0.0-rc.1
  * (c) 2015-present Evan You
  * @license MIT
  */
function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?p(e):t}function g(e){var t=f();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return m(this,n)}}function A(e){return y(e)||v(e)||b(e)||w()}function y(e){if(Array.isArray(e))return _(e)}function v(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!1,configurable:!0})}function S(e,t,n){Object.defineProperty(e,t,{get:function(){return n[t].value},set:function(e){n[t].value=e},enumerable:!0,configurable:!0})}function T(e){var t=Object.getPrototypeOf(e.prototype);if(t)return t.constructor}function E(e,t){return e.hasOwnProperty(t)?e[t]:void 0}var M=function(){function e(t,n){var i=this;r(this,e),x(this,"$props",(function(){return t})),x(this,"$attrs",(function(){return n.attrs})),x(this,"$slots",(function(){return n.slots})),x(this,"$emit",(function(){return n.emit})),Object.keys(t).forEach((function(e){Object.defineProperty(i,e,{enumerable:!1,configurable:!0,writable:!0,value:t[e]})}))}return s(e,null,[{key:"registerHooks",value:function(e){var t;(t=this.__h).push.apply(t,A(e))}},{key:"with",value:function(e){var t=new e,n={};Object.keys(t).forEach((function(e){var i=t[e];n[e]=null!==i&&void 0!==i?i:null}));var i=function(e){u(n,e);var t=g(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(this);return i.__b={props:n},i}},{key:"__vccOpts",get:function(){if(this===C)return{};var e=this,t=E(e,"__c");if(t)return t;var n=c({},E(e,"__o"));e.__c=n;var r=T(e);r&&(n["extends"]=r.__vccOpts);var o=E(e,"__b");o&&(n.mixins=n.mixins||[],n.mixins.unshift(o)),n.methods=c({},n.methods),n.computed=c({},n.computed);var s=e.prototype;Object.getOwnPropertyNames(s).forEach((function(t){if("constructor"!==t)if(e.__h.indexOf(t)>-1)n[t]=s[t];else{var i=Object.getOwnPropertyDescriptor(s,t);"function"!==typeof i.value?(i.get||i.set)&&(n.computed[t]={get:i.get,set:i.set}):n.methods[t]=i.value}})),n.setup=function(t,n){var r,o=new e(t,n),s=Object.keys(o),a={},l=null;return s.forEach((function(e){void 0===o[e]||o[e]&&o[e].__s||(a[e]=Object(i["ref"])(o[e]),S(o,e,a))})),s.forEach((function(e){if(o[e]&&o[e].__s){var t=o[e].__s();t instanceof Promise?(l||(l=Promise.resolve(a)),l=l.then((function(){return t.then((function(t){return a[e]=Object(i["proxyRefs"])(t),a}))}))):a[e]=Object(i["proxyRefs"])(t)}})),null!==(r=l)&&void 0!==r?r:a};var a=E(e,"__d");a&&a.forEach((function(e){return e(n)}));var l=["render","ssrRender","__file","__cssModules","__scopeId","__hmrId"];return l.forEach((function(t){e[t]&&(n[t]=e[t])})),n}}]),e}();M.__h=["data","beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];var C=M;function O(e){return function(t){return t.__o=e,t}}class k{}k.generatedAttribute="generated",k.randomColorValue="random",k.midColorValue="mid",k.touchEndEvent="touchend",k.mouseDownEvent="mousedown",k.mouseUpEvent="mouseup",k.mouseMoveEvent="mousemove",k.touchStartEvent="touchstart",k.touchMoveEvent="touchmove",k.mouseLeaveEvent="mouseleave",k.mouseOutEvent="mouseout",k.touchCancelEvent="touchcancel",k.resizeEvent="resize",k.visibilityChangeEvent="visibilitychange",k.noPolygonDataLoaded="No polygon data loaded.",k.noPolygonFound="No polygon found, you need to specify SVG url in config.";class P{constructor(e,t){if("number"!==typeof e&&e)this.x=e.x,this.y=e.y;else{if(void 0===e||void 0===t)throw new Error("tsParticles - Vector not initialized correctly");this.x=e,this.y=t}}static clone(e){return P.create(e.x,e.y)}static create(e,t){return new P(e,t)}static get origin(){return P.create(0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}add(e){return P.create(this.x+e.x,this.y+e.y)}addTo(e){this.x+=e.x,this.y+=e.y}sub(e){return P.create(this.x-e.x,this.y-e.y)}subFrom(e){this.x-=e.x,this.y-=e.y}mult(e){return P.create(this.x*e,this.y*e)}multTo(e){this.x*=e,this.y*=e}div(e){return P.create(this.x/e,this.y/e)}divTo(e){this.x/=e,this.y/=e}distanceTo(e){return this.sub(e).length}getLengthSq(){return this.x**2+this.y**2}distanceToSq(e){return this.sub(e).getLengthSq()}manhattanDistanceTo(e){return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}copy(){return P.clone(this)}setTo(e){this.x=e.x,this.y=e.y}rotate(e){return P.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e))}updateFromAngle(e,t){this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}}function I(e,t,n){return Math.min(Math.max(e,t),n)}function R(e,t,n,i){return Math.floor((e*n+t*i)/(n+i))}function D(e){const t=B(e);let n=N(e);return t===n&&(n=0),Math.random()*(t-n)+n}function L(e){return"number"===typeof e?e:D(e)}function N(e){return"number"===typeof e?e:e.min}function B(e){return"number"===typeof e?e:e.max}function F(e,t){if(e===t||void 0===t&&"number"===typeof e)return e;const n=N(e),i=B(e);return void 0!==t?{min:Math.min(n,t),max:Math.max(i,t)}:F(n,i)}function j(e){const t=e.random,{enable:n,minimumValue:i}="boolean"===typeof t?{enable:t,minimumValue:0}:t;return L(n?F(e.value,i):e.value)}function U(e,t){const n=e.x-t.x,i=e.y-t.y;return{dx:n,dy:i,distance:Math.sqrt(n*n+i*i)}}function z(e,t){return U(e,t).distance}function q(e){if("number"===typeof e)return e*Math.PI/180;switch(e){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"none":default:return Math.random()*Math.PI*2}}function V(e){const t=P.origin;return t.length=1,t.angle=e,t}function H(e,t,n,i){return P.create(e.x*(n-i)/(n+i)+2*t.x*i/(n+i),e.y)}function G(e,t){switch(t){case"ease-out-quad":return 1-(1-e)**2;case"ease-out-cubic":return 1-(1-e)**3;case"ease-out-quart":return 1-(1-e)**4;case"ease-out-quint":return 1-(1-e)**5;case"ease-out-expo":return 1===e?1:1-Math.pow(2,-10*e);case"ease-out-sine":return Math.sin(e*Math.PI/2);case"ease-out-back":{const t=1.70158,n=t+1;return 1+n*Math.pow(e-1,3)+t*Math.pow(e-1,2)}case"ease-out-circ":return Math.sqrt(1-Math.pow(e-1,2));default:return e}}function W(e){var t,n;return void 0!==(null===(t=e.position)||void 0===t?void 0:t.x)&&void 0!==(null===(n=e.position)||void 0===n?void 0:n.y)?{x:e.position.x*e.size.width/100,y:e.position.y*e.size.height/100}:void 0}function $(e){var t,n,i,r;return{x:(null!==(n=null===(t=e.position)||void 0===t?void 0:t.x)&&void 0!==n?n:100*Math.random())*e.size.width/100,y:(null!==(r=null===(i=e.position)||void 0===i?void 0:i.y)&&void 0!==r?r:100*Math.random())*e.size.height/100}}function X(e){var t,n;const i={x:void 0!==(null===(t=e.position)||void 0===t?void 0:t.x)?L(e.position.x):void 0,y:void 0!==(null===(n=e.position)||void 0===n?void 0:n.y)?L(e.position.y):void 0};return $({size:e.size,position:i})}function Y(e){var t,n,i,r;return{x:null!==(n=null===(t=e.position)||void 0===t?void 0:t.x)&&void 0!==n?n:Math.random()*e.size.width,y:null!==(r=null===(i=e.position)||void 0===i?void 0:i.y)&&void 0!==r?r:Math.random()*e.size.height}}function K(e,t,n,i,r,o){const s={bounced:!1};return t.min<i.min||t.min>i.max||t.max<i.min||t.max>i.max||(e.max>=n.min&&e.max<=(n.max+n.min)/2&&r>0||e.min<=n.max&&e.min>(n.max+n.min)/2&&r<0)&&(s.velocity=r*-o,s.bounced=!0),s}function Q(e,t){if(!(t instanceof Array))return e.matches(t);for(const n of t)if(e.matches(n))return!0;return!1}function J(){return"undefined"===typeof window||!window||"undefined"===typeof window.document||!window.document}function Z(){return J()?e=>setTimeout(e):e=>(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout)(e)}function ee(){return J()?e=>clearTimeout(e):e=>(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout)(e)}function te(e,t){return e===t||t instanceof Array&&t.indexOf(e)>-1}async function ne(e){var t,n;try{await document.fonts.load(`${null!==(t=e.weight)&&void 0!==t?t:"400"} 36px '${null!==(n=e.font)&&void 0!==n?n:"Verdana"}'`)}catch(i){}}function ie(e){return Math.floor(Math.random()*e.length)}function re(e,t,n=!0){const i=void 0!==t&&n?t%e.length:ie(e);return e[i]}function oe(e,t,n,i){return se(ae(e,null!==n&&void 0!==n?n:0),t,i)}function se(e,t,n){let i=!0;return n&&"bottom"!==n||(i=e.top<t.height),!i||n&&"left"!==n||(i=e.right>0),!i||n&&"right"!==n||(i=e.left<t.width),!i||n&&"top"!==n||(i=e.bottom>0),i}function ae(e,t){return{bottom:e.y+t,left:e.x-t,right:e.x+t,top:e.y-t}}function le(e,...t){for(const n of t){if(void 0===n||null===n)continue;if("object"!==typeof n){e=n;continue}const t=Array.isArray(n);!t||"object"===typeof e&&e&&Array.isArray(e)?t||"object"===typeof e&&e&&!Array.isArray(e)||(e={}):e=[];for(const i in n){if("__proto__"===i)continue;const t=n,r=t[i],o="object"===typeof r,s=e;s[i]=o&&Array.isArray(r)?r.map(e=>le(s[i],e)):le(s[i],r)}}return e}function ce(e,t){return t instanceof Array?!!t.find(t=>t.enable&&te(e,t.mode)):te(e,t.mode)}function ue(e,t,n){if(t instanceof Array)for(const i of t){const t=i.mode,r=i.enable;r&&te(e,t)&&he(i,n)}else{const i=t.mode,r=t.enable;r&&te(e,i)&&he(t,n)}}function he(e,t){const n=e.selectors;if(n instanceof Array)for(const i of n)t(i,e);else t(n,e)}function de(e,t){if(t&&e)return e instanceof Array?e.find(e=>Q(t,e.selectors)):Q(t,e.selectors)?e:void 0}function fe(e){return{position:e.getPosition(),radius:e.getRadius(),mass:e.getMass(),velocity:e.velocity,factor:P.create(j(e.options.bounce.horizontal),j(e.options.bounce.vertical))}}function pe(e,t){const{x:n,y:i}=e.velocity.sub(t.velocity),[r,o]=[e.position,t.position],{dx:s,dy:a}=U(o,r);if(n*s+i*a<0)return;const l=-Math.atan2(a,s),c=e.mass,u=t.mass,h=e.velocity.rotate(l),d=t.velocity.rotate(l),f=H(h,d,c,u),p=H(d,h,c,u),m=f.rotate(-l),g=p.rotate(-l);e.velocity.x=m.x*e.factor.x,e.velocity.y=m.y*e.factor.y,t.velocity.x=g.x*t.factor.x,t.velocity.y=g.y*t.factor.y}function me(e,t){const n=e.getPosition(),i=e.getRadius(),r=ae(n,i),o=K({min:r.left,max:r.right},{min:r.top,max:r.bottom},{min:t.left,max:t.right},{min:t.top,max:t.bottom},e.velocity.x,j(e.options.bounce.horizontal));o.bounced&&(void 0!==o.velocity&&(e.velocity.x=o.velocity),void 0!==o.position&&(e.position.x=o.position));const s=K({min:r.top,max:r.bottom},{min:r.left,max:r.right},{min:t.top,max:t.bottom},{min:t.left,max:t.right},e.velocity.y,j(e.options.bounce.vertical));s.bounced&&(void 0!==s.velocity&&(e.velocity.y=s.velocity),void 0!==s.position&&(e.position.y=s.position))}function ge(e,t,n){let i=n;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function Ae(e){if(e.startsWith("rgb")){const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i,n=t.exec(e);return n?{a:n.length>4?parseFloat(n[5]):1,b:parseInt(n[3],10),g:parseInt(n[2],10),r:parseInt(n[1],10)}:void 0}if(e.startsWith("hsl")){const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i,n=t.exec(e);return n?Se({a:n.length>4?parseFloat(n[5]):1,h:parseInt(n[1],10),l:parseInt(n[3],10),s:parseInt(n[2],10)}):void 0}if(e.startsWith("hsv")){const t=/hsva?\(\s*(\d+)°\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i,n=t.exec(e);return n?Ee({a:n.length>4?parseFloat(n[5]):1,h:parseInt(n[1],10),s:parseInt(n[2],10),v:parseInt(n[3],10)}):void 0}{const t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=e.replace(t,(e,t,n,i,r)=>t+t+n+n+i+i+(void 0!==r?r+r:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n);return r?{a:void 0!==r[4]?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}}function ye(e,t,n=!0){var i,r,o;if(void 0===e)return;const s="string"===typeof e?{value:e}:e;let a;if("string"===typeof s.value)a=s.value===k.randomColorValue?Me():we(s.value);else if(s.value instanceof Array){const e=re(s.value,t,n);a=ye({value:e})}else{const e=s.value,t=null!==(i=e.rgb)&&void 0!==i?i:s.value;if(void 0!==t.r)a=t;else{const t=null!==(r=e.hsl)&&void 0!==r?r:s.value;if(void 0!==t.h&&void 0!==t.l)a=xe(t);else{const t=null!==(o=e.hsv)&&void 0!==o?o:s.value;void 0!==t.h&&void 0!==t.v&&(a=Te(t))}}}return a}function ve(e,t,n=!0){const i=ye(e,t,n);return void 0!==i?be(i):void 0}function be(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s={h:0,l:(r+o)/2,s:0};return r!==o&&(s.s=s.l<.5?(r-o)/(r+o):(r-o)/(2-r-o),s.h=t===r?(n-i)/(r-o):s.h=n===r?2+(i-t)/(r-o):4+(t-n)/(r-o)),s.l*=100,s.s*=100,s.h*=60,s.h<0&&(s.h+=360),s}function _e(e){var t;return null===(t=Ae(e))||void 0===t?void 0:t.a}function we(e){return Ae(e)}function xe(e){const t={b:0,g:0,r:0},n={h:e.h/360,l:e.l/100,s:e.s/100};if(0===n.s)t.b=n.l,t.g=n.l,t.r=n.l;else{const e=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,i=2*n.l-e;t.r=ge(i,e,n.h+1/3),t.g=ge(i,e,n.h),t.b=ge(i,e,n.h-1/3)}return t.r=Math.floor(255*t.r),t.g=Math.floor(255*t.g),t.b=Math.floor(255*t.b),t}function Se(e){const t=xe(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}function Te(e){const t={b:0,g:0,r:0},n={h:e.h/60,s:e.s/100,v:e.v/100},i=n.v*n.s,r=i*(1-Math.abs(n.h%2-1));let o;if(n.h>=0&&n.h<=1?o={r:i,g:r,b:0}:n.h>1&&n.h<=2?o={r:r,g:i,b:0}:n.h>2&&n.h<=3?o={r:0,g:i,b:r}:n.h>3&&n.h<=4?o={r:0,g:r,b:i}:n.h>4&&n.h<=5?o={r:r,g:0,b:i}:n.h>5&&n.h<=6&&(o={r:i,g:0,b:r}),o){const e=n.v-i;t.r=Math.floor(255*(o.r+e)),t.g=Math.floor(255*(o.g+e)),t.b=Math.floor(255*(o.b+e))}return t}function Ee(e){const t=Te(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}function Me(e){const t=null!==e&&void 0!==e?e:0;return{b:Math.floor(D(F(t,256))),g:Math.floor(D(F(t,256))),r:Math.floor(D(F(t,256)))}}function Ce(e,t){return`rgba(${e.r}, ${e.g}, ${e.b}, ${null!==t&&void 0!==t?t:1})`}function Oe(e,t){return`hsla(${e.h}, ${e.s}%, ${e.l}%, ${null!==t&&void 0!==t?t:1})`}function ke(e,t,n,i){let r=e,o=t;return void 0===r.r&&(r=xe(e)),void 0===o.r&&(o=xe(t)),{b:R(r.b,o.b,n,i),g:R(r.g,o.g,n,i),r:R(r.r,o.r,n,i)}}function Pe(e,t,n){var i,r;if(n===k.randomColorValue)return Me();if("mid"!==n)return n;{const n=null!==(i=e.getFillColor())&&void 0!==i?i:e.getStrokeColor(),o=null!==(r=null===t||void 0===t?void 0:t.getFillColor())&&void 0!==r?r:null===t||void 0===t?void 0:t.getStrokeColor();if(n&&o&&t)return ke(n,o,e.getRadius(),t.getRadius());{const e=null!==n&&void 0!==n?n:o;if(e)return xe(e)}}}function Ie(e,t,n){const i="string"===typeof e?e:e.value;return i===k.randomColorValue?n?ye({value:i}):t?k.randomColorValue:k.midColorValue:ye({value:i})}function Re(e){return void 0!==e?{h:e.h.value,s:e.s.value,l:e.l.value}:void 0}function De(e,t,n){const i={h:{enable:!1,value:e.h},s:{enable:!1,value:e.s},l:{enable:!1,value:e.l}};return t&&(Le(i.h,t.h,n),Le(i.s,t.s,n),Le(i.l,t.l,n)),i}function Le(e,t,n){if(e.enable=t.enable,e.enable){if(e.velocity=L(t.speed)/100*n,t.sync)return;e.status=0,e.velocity*=Math.random(),e.value&&(e.value*=Math.random())}else e.velocity=0}function Ne(e,t,n){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath()}function Be(e,t,n,i){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.lineTo(i.x,i.y),e.closePath()}function Fe(e,t,n){e.save(),e.fillStyle=null!==n&&void 0!==n?n:"rgba(0,0,0,0)",e.fillRect(0,0,t.width,t.height),e.restore()}function je(e,t){e.clearRect(0,0,t.width,t.height)}function Ue(e,t,n,i,r,o,s,a,l,c,u,h){let d=!1;if(z(n,i)<=r)Ne(e,n,i),d=!0;else if(s){let t,s;const a={x:i.x-o.width,y:i.y},l=U(n,a);if(l.distance<=r){const e=n.y-l.dy/l.dx*n.x;t={x:0,y:e},s={x:o.width,y:e}}else{const e={x:i.x,y:i.y-o.height},a=U(n,e);if(a.distance<=r){const e=n.y-a.dy/a.dx*n.x,i=-e/(a.dy/a.dx);t={x:i,y:0},s={x:i,y:o.height}}else{const e={x:i.x-o.width,y:i.y-o.height},a=U(n,e);if(a.distance<=r){const e=n.y-a.dy/a.dx*n.x,i=-e/(a.dy/a.dx);t={x:i,y:e},s={x:t.x+o.width,y:t.y+o.height}}}}t&&s&&(Ne(e,n,t),Ne(e,i,s),d=!0)}if(d){if(e.lineWidth=t,a&&(e.globalCompositeOperation=l),e.strokeStyle=Ce(c,u),h.enable){const t=ye(h.color);t&&(e.shadowBlur=h.blur,e.shadowColor=Ce(t))}e.stroke()}}function ze(e,t,n,i,r,o,s,a){Be(e,t,n,i),r&&(e.globalCompositeOperation=o),e.fillStyle=Ce(s,a),e.fill()}function qe(e,t,n,i,r){e.save(),Ne(e,i,r),e.lineWidth=t,e.strokeStyle=n,e.stroke(),e.restore()}function Ve(e,t,n,i){const r=Math.floor(n.getRadius()/t.getRadius()),o=t.getFillColor(),s=n.getFillColor();if(!o||!s)return;const a=t.getPosition(),l=n.getPosition(),c=ke(o,s,t.getRadius(),n.getRadius()),u=e.createLinearGradient(a.x,a.y,l.x,l.y);return u.addColorStop(0,Oe(o,i)),u.addColorStop(r>1?1:r,Ce(c,i)),u.addColorStop(1,Oe(s,i)),u}function He(e,t,n,i,r,o){e.save(),Ne(e,n,i),e.strokeStyle=Ce(r,o),e.lineWidth=t,e.stroke(),e.restore()}function Ge(e,t,n,i,r,o,s,a,l,c){var u,h,d,f;const p=n.getPosition(),m=n.options.tilt,g=n.options.roll;if(t.save(),m.enable||g.enable){const e=g.enable&&n.roll,i=m.enable&&n.tilt,r=e&&("horizontal"===g.mode||"both"===g.mode),o=e&&("vertical"===g.mode||"both"===g.mode);t.setTransform(r?Math.cos(n.roll.angle):1,i?Math.cos(n.tilt.value)*n.tilt.cosDirection:0,i?Math.sin(n.tilt.value)*n.tilt.sinDirection:0,o?Math.sin(n.roll.angle):1,p.x,p.y)}else t.translate(p.x,p.y);t.beginPath();const A=(null!==(h=null===(u=n.rotate)||void 0===u?void 0:u.value)&&void 0!==h?h:0)+(n.options.rotate.path?n.velocity.angle:0);0!==A&&t.rotate(A),o&&(t.globalCompositeOperation=s);const y=n.shadowColor;c.enable&&y&&(t.shadowBlur=c.blur,t.shadowColor=Ce(y),t.shadowOffsetX=c.offset.x,t.shadowOffsetY=c.offset.y),r.fill&&(t.fillStyle=r.fill);const v=n.stroke;t.lineWidth=null!==(d=n.strokeWidth)&&void 0!==d?d:0,r.stroke&&(t.strokeStyle=r.stroke),We(e,t,n,a,l,i),(null!==(f=null===v||void 0===v?void 0:v.width)&&void 0!==f?f:0)>0&&t.stroke(),n.close&&t.closePath(),n.fill&&t.fill(),t.restore(),t.save(),m.enable&&n.tilt?t.setTransform(1,Math.cos(n.tilt.value)*n.tilt.cosDirection,Math.sin(n.tilt.value)*n.tilt.sinDirection,1,p.x,p.y):t.translate(p.x,p.y),0!==A&&t.rotate(A),o&&(t.globalCompositeOperation=s),$e(e,t,n,a,l,i),t.restore()}function We(e,t,n,i,r,o){if(!n.shape)return;const s=e.drawers.get(n.shape);s&&s.draw(t,n,i,r,o,e.retina.pixelRatio)}function $e(e,t,n,i,r,o){if(!n.shape)return;const s=e.drawers.get(n.shape);(null===s||void 0===s?void 0:s.afterEffect)&&s.afterEffect(t,n,i,r,o,e.retina.pixelRatio)}function Xe(e,t,n){t.draw&&(e.save(),t.draw(e,n),e.restore())}function Ye(e,t,n,i){t.drawParticle&&(e.save(),t.drawParticle(e,n,i),e.restore())}function Ke(e,t,n){return{h:e.h,s:e.s,l:e.l+("darken"===t?-1:1)*n}}class Qe{constructor(e){this.container=e,this.size={height:0,width:0},this.context=null,this.generatedCanvas=!1}init(){this.resize(),this.initStyle(),this.initCover(),this.initTrail(),this.initBackground(),this.paint()}loadCanvas(e){var t;this.generatedCanvas&&(null===(t=this.element)||void 0===t||t.remove()),this.generatedCanvas=e.dataset&&k.generatedAttribute in e.dataset?"true"===e.dataset[k.generatedAttribute]:this.generatedCanvas,this.element=e,this.originalStyle=le({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this.context=this.element.getContext("2d"),this.container.retina.init(),this.initBackground()}destroy(){var e;this.generatedCanvas&&(null===(e=this.element)||void 0===e||e.remove()),this.draw(e=>{je(e,this.size)})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(je(t,this.size),this.paintBase(this.coverColorStyle)):this.paintBase()})}clear(){const e=this.container.actualOptions,t=e.particles.move.trail;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&this.trailFillColor?this.paintBase(Ce(this.trailFillColor,1/t.length)):this.draw(e=>{je(e,this.size)})}async windowResize(){if(!this.element)return;this.resize();const e=this.container,t=e.updateActualOptions();e.particles.setDensity();for(const[,n]of e.plugins)void 0!==n.resize&&n.resize();t&&await e.refresh()}resize(){if(!this.element)return;const e=this.container,t=e.retina.pixelRatio,n=e.canvas.size,i={width:this.element.offsetWidth*t,height:this.element.offsetHeight*t};if(i.height===n.height&&i.width===n.width&&i.height===this.element.height&&i.width===this.element.width)return;const r=Object.assign({},n);this.element.width=n.width=this.element.offsetWidth*t,this.element.height=n.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:n.width/r.width,height:n.height/r.height})}drawConnectLine(e,t){this.draw(n=>{var i;const r=this.lineStyle(e,t);if(!r)return;const o=e.getPosition(),s=t.getPosition();qe(n,null!==(i=e.retina.linksWidth)&&void 0!==i?i:this.container.retina.linksWidth,r,o,s)})}drawGrabLine(e,t,n,i){const r=this.container;this.draw(o=>{var s;const a=e.getPosition();He(o,null!==(s=e.retina.linksWidth)&&void 0!==s?s:r.retina.linksWidth,a,i,t,n)})}drawParticle(e,t){var n,i,r,o,s,a;if(e.spawning||e.destroyed)return;const l=e.getRadius();if(l<=0)return;const c=e.getFillColor(),u=null!==(n=e.getStrokeColor())&&void 0!==n?n:c;if(!c&&!u)return;let[h,d]=this.getPluginParticleColors(e);h&&d||(h||(h=c||void 0),d||(d=u||void 0));const f=this.container.actualOptions,p=e.options.zIndex,m=(1-e.zIndexFactor)**p.opacityRate,g=null!==(o=null!==(i=e.bubble.opacity)&&void 0!==i?i:null===(r=e.opacity)||void 0===r?void 0:r.value)&&void 0!==o?o:1,A=null!==(a=null===(s=e.stroke)||void 0===s?void 0:s.opacity)&&void 0!==a?a:g,y=g*m,v=A*m,b={fill:h?Oe(h,y):void 0};b.stroke=d?Oe(d,v):b.fill,this.draw(n=>{const i=(1-e.zIndexFactor)**p.sizeRate,r=this.container;for(const t of r.particles.updaters)if(t.beforeDraw&&t.beforeDraw(e),t.getColorStyles){const{fill:i,stroke:r}=t.getColorStyles(e,n,l,y);i&&(b.fill=i),r&&(b.stroke=r)}Ge(r,n,e,t,b,f.backgroundMask.enable,f.backgroundMask.composite,l*i,y,e.options.shadow);for(const t of r.particles.updaters)t.afterDraw&&t.afterDraw(e)})}drawPlugin(e,t){this.draw(n=>{Xe(n,e,t)})}drawParticlePlugin(e,t,n){this.draw(i=>{Ye(i,e,t,n)})}initBackground(){const e=this.container.actualOptions,t=e.background,n=this.element,i=null===n||void 0===n?void 0:n.style;if(i){if(t.color){const e=ye(t.color);i.backgroundColor=e?Ce(e,t.opacity):""}else i.backgroundColor="";i.backgroundImage=t.image||"",i.backgroundPosition=t.position||"",i.backgroundRepeat=t.repeat||"",i.backgroundSize=t.size||""}}draw(e){if(this.context)return e(this.context)}initCover(){const e=this.container.actualOptions,t=e.backgroundMask.cover,n=t.color,i=ye(n);if(i){const e={r:i.r,g:i.g,b:i.b,a:t.opacity};this.coverColorStyle=Ce(e,e.a)}}initTrail(){const e=this.container.actualOptions,t=e.particles.move.trail,n=ye(t.fillColor);if(n){const t=e.particles.move.trail;this.trailFillColor={r:n.r,g:n.g,b:n.b,a:1/t.length}}}getPluginParticleColors(e){let t,n;for(const[,i]of this.container.plugins)if(!t&&i.particleFillColor&&(t=ve(i.particleFillColor(e))),!n&&i.particleStrokeColor&&(n=ve(i.particleStrokeColor(e))),t&&n)break;return[t,n]}initStyle(){const e=this.element,t=this.container.actualOptions;if(!e)return;const n=this.originalStyle;t.fullScreen.enable?(this.originalStyle=le({},e.style),e.style.setProperty("position","fixed","important"),e.style.setProperty("z-index",t.fullScreen.zIndex.toString(10),"important"),e.style.setProperty("top","0","important"),e.style.setProperty("left","0","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","100%","important")):n&&(e.style.position=n.position,e.style.zIndex=n.zIndex,e.style.top=n.top,e.style.left=n.left,e.style.width=n.width,e.style.height=n.height);for(const i in t.style){if(!i||!t.style)continue;const n=t.style[i];n&&e.style.setProperty(i,n,"important")}}paintBase(e){this.draw(t=>{Fe(t,this.size,e)})}lineStyle(e,t){return this.draw(n=>{const i=this.container.actualOptions,r=i.interactivity.modes.connect;return Ve(n,e,t,r.links.opacity)})}}function Je(e,t,n,i,r){if(i){let i={passive:!0};"boolean"===typeof r?i.capture=r:void 0!==r&&(i=r),e.addEventListener(t,n,i)}else{const i=r;e.removeEventListener(t,n,i)}}class Ze{constructor(e){this.container=e,this.canPush=!0,this.mouseMoveHandler=e=>this.mouseTouchMove(e),this.touchStartHandler=e=>this.mouseTouchMove(e),this.touchMoveHandler=e=>this.mouseTouchMove(e),this.touchEndHandler=()=>this.mouseTouchFinish(),this.mouseLeaveHandler=()=>this.mouseTouchFinish(),this.touchCancelHandler=()=>this.mouseTouchFinish(),this.touchEndClickHandler=e=>this.mouseTouchClick(e),this.mouseUpHandler=e=>this.mouseTouchClick(e),this.mouseDownHandler=()=>this.mouseDown(),this.visibilityChangeHandler=()=>this.handleVisibilityChange(),this.themeChangeHandler=e=>this.handleThemeChange(e),this.oldThemeChangeHandler=e=>this.handleThemeChange(e),this.resizeHandler=()=>this.handleWindowResize()}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}manageListeners(e){var t;const n=this.container,i=n.actualOptions,r=i.interactivity.detectsOn;let o=k.mouseLeaveEvent;if("window"===r)n.interactivity.element=window,o=k.mouseOutEvent;else if("parent"===r&&n.canvas.element){const e=n.canvas.element;n.interactivity.element=null!==(t=e.parentElement)&&void 0!==t?t:e.parentNode}else n.interactivity.element=n.canvas.element;const s=!J()&&"undefined"!==typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)");s&&(void 0!==s.addEventListener?Je(s,"change",this.themeChangeHandler,e):void 0!==s.addListener&&(e?s.addListener(this.oldThemeChangeHandler):s.removeListener(this.oldThemeChangeHandler)));const a=n.interactivity.element;if(!a)return;const l=a;(i.interactivity.events.onHover.enable||i.interactivity.events.onClick.enable)&&(Je(a,k.mouseMoveEvent,this.mouseMoveHandler,e),Je(a,k.touchStartEvent,this.touchStartHandler,e),Je(a,k.touchMoveEvent,this.touchMoveHandler,e),i.interactivity.events.onClick.enable?(Je(a,k.touchEndEvent,this.touchEndClickHandler,e),Je(a,k.mouseUpEvent,this.mouseUpHandler,e),Je(a,k.mouseDownEvent,this.mouseDownHandler,e)):Je(a,k.touchEndEvent,this.touchEndHandler,e),Je(a,o,this.mouseLeaveHandler,e),Je(a,k.touchCancelEvent,this.touchCancelHandler,e)),n.canvas.element&&(n.canvas.element.style.pointerEvents=l===n.canvas.element?"initial":"none"),i.interactivity.events.resize&&("undefined"!==typeof ResizeObserver?this.resizeObserver&&!e?(n.canvas.element&&this.resizeObserver.unobserve(n.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&n.canvas.element&&(this.resizeObserver=new ResizeObserver(e=>{const t=e.find(e=>e.target===n.canvas.element);t&&this.handleWindowResize()}),this.resizeObserver.observe(n.canvas.element)):Je(window,k.resizeEvent,this.resizeHandler,e)),document&&Je(document,k.visibilityChangeEvent,this.visibilityChangeHandler,e,!1)}handleWindowResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout(async()=>{var e;return await(null===(e=this.container.canvas)||void 0===e?void 0:e.windowResize())},500)}handleVisibilityChange(){const e=this.container,t=e.actualOptions;this.mouseTouchFinish(),t.pauseOnBlur&&((null===document||void 0===document?void 0:document.hidden)?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}mouseDown(){const e=this.container.interactivity;if(e){const t=e.mouse;t.clicking=!0,t.downPosition=t.position}}mouseTouchMove(e){var t,n,i,r,o,s,a;const l=this.container,c=l.actualOptions;if(!(null===(t=l.interactivity)||void 0===t?void 0:t.element))return;let u;l.interactivity.mouse.inside=!0;const h=l.canvas.element;if(e.type.startsWith("mouse")){this.canPush=!0;const t=e;if(l.interactivity.element===window){if(h){const e=h.getBoundingClientRect();u={x:t.clientX-e.left,y:t.clientY-e.top}}}else if("parent"===c.interactivity.detectsOn){const e=t.target,r=t.currentTarget,o=l.canvas.element;if(e&&r&&o){const n=e.getBoundingClientRect(),i=r.getBoundingClientRect(),s=o.getBoundingClientRect();u={x:t.offsetX+2*n.left-(i.left+s.left),y:t.offsetY+2*n.top-(i.top+s.top)}}else u={x:null!==(n=t.offsetX)&&void 0!==n?n:t.clientX,y:null!==(i=t.offsetY)&&void 0!==i?i:t.clientY}}else t.target===l.canvas.element&&(u={x:null!==(r=t.offsetX)&&void 0!==r?r:t.clientX,y:null!==(o=t.offsetY)&&void 0!==o?o:t.clientY})}else{this.canPush="touchmove"!==e.type;const t=e,n=t.touches[t.touches.length-1],i=null===h||void 0===h?void 0:h.getBoundingClientRect();u={x:n.clientX-(null!==(s=null===i||void 0===i?void 0:i.left)&&void 0!==s?s:0),y:n.clientY-(null!==(a=null===i||void 0===i?void 0:i.top)&&void 0!==a?a:0)}}const d=l.retina.pixelRatio;u&&(u.x*=d,u.y*=d),l.interactivity.mouse.position=u,l.interactivity.status=k.mouseMoveEvent}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=k.mouseLeaveEvent,t.inside=!1,t.clicking=!1}mouseTouchClick(e){const t=this.container,n=t.actualOptions,i=t.interactivity.mouse;i.inside=!0;let r=!1;const o=i.position;if(o&&n.interactivity.events.onClick.enable){for(const[,e]of t.plugins)if(e.clickPositionValid&&(r=e.clickPositionValid(o),r))break;r||this.doMouseTouchClick(e),i.clicking=!1}}doMouseTouchClick(e){const t=this.container,n=t.actualOptions;if(this.canPush){const e=t.interactivity.mouse.position;if(!e)return;t.interactivity.mouse.clickPosition={x:e.x,y:e.y},t.interactivity.mouse.clickTime=(new Date).getTime();const i=n.interactivity.events.onClick;if(i.mode instanceof Array)for(const t of i.mode)this.handleClickMode(t);else this.handleClickMode(i.mode)}"touchend"===e.type&&setTimeout(()=>this.mouseTouchFinish(),500)}handleThemeChange(e){const t=e,n=t.matches?this.container.options.defaultDarkTheme:this.container.options.defaultLightTheme,i=this.container.options.themes.find(e=>e.name===n);i&&i.default.auto&&this.container.loadTheme(n)}handleClickMode(e){this.container.handleClickMode(e)}}class et{constructor(e){this.container=e}async nextFrame(e){var t;try{const n=this.container;if(void 0!==n.lastFrameTime&&e<n.lastFrameTime+1e3/n.fpsLimit)return void n.draw(!1);null!==(t=n.lastFrameTime)&&void 0!==t||(n.lastFrameTime=e);const i=e-n.lastFrameTime,r={value:i,factor:60*i/1e3};if(n.lifeTime+=r.value,n.lastFrameTime=e,i>1e3)return void n.draw(!1);if(await n.particles.draw(r),n.duration>0&&n.lifeTime>n.duration)return void n.destroy();n.getAnimationStatus()&&n.draw(!1)}catch(n){console.error("tsParticles error in animation loop",n)}}}class tt{constructor(){this.value="#fff"}static create(e,t){const n=new tt;return n.load(e),void 0!==t&&("string"===typeof t||t instanceof Array?n.load({value:t}):n.load(t)),n}load(e){void 0!==(null===e||void 0===e?void 0:e.value)&&(this.value=e.value)}}class nt{constructor(){this.color=new tt,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){void 0!==e&&(void 0!==e.color&&(this.color=tt.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}class it{constructor(){this.color=new tt,this.opacity=1}load(e){void 0!==e&&(void 0!==e.color&&(this.color=tt.create(this.color,e.color)),void 0!==e.opacity&&(this.opacity=e.opacity))}}class rt{constructor(){this.composite="destination-out",this.cover=new it,this.enable=!1}load(e){if(void 0!==e){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){const t=e.cover,n="string"===typeof e.cover?{color:e.cover}:e.cover;this.cover.load(void 0!==t.color?t:{color:n})}void 0!==e.enable&&(this.enable=e.enable)}}}class ot{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}class st{constructor(){this.enable=!1,this.mode=[]}load(e){void 0!==e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}class at{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get elementId(){return this.ids}set elementId(e){this.ids=e}get el(){return this.elementId}set el(e){this.elementId=e}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(e=>"#"+e):"#"+e}load(e){var t,n;if(void 0===e)return;const i=null!==(n=null!==(t=e.ids)&&void 0!==t?t:e.elementId)&&void 0!==n?n:e.el;void 0!==i&&(this.ids=i),void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type)}}class lt{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){void 0!==e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}class ct{constructor(){this.enable=!1,this.mode=[],this.parallax=new lt}load(e){void 0!==e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class ut{constructor(){this.onClick=new st,this.onDiv=new at,this.onHover=new ct,this.resize=!0}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var t,n,i;if(void 0===e)return;this.onClick.load(null!==(t=e.onClick)&&void 0!==t?t:e.onclick);const r=null!==(n=e.onDiv)&&void 0!==n?n:e.ondiv;void 0!==r&&(r instanceof Array?this.onDiv=r.map(e=>{const t=new at;return t.load(e),t}):(this.onDiv=new at,this.onDiv.load(r))),this.onHover.load(null!==(i=e.onHover)&&void 0!==i?i:e.onhover),void 0!==e.resize&&(this.resize=e.resize)}}class ht{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed),void 0!==e.speed&&(this.speed=e.speed))}}class dt{constructor(){this.distance=200}load(e){e&&void 0!==e.distance&&(this.distance=e.distance)}}class ft{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){void 0!==e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color&&(e.color instanceof Array?this.color=e.color.map(e=>tt.create(void 0,e)):(this.color instanceof Array&&(this.color=new tt),this.color=tt.create(this.color,e.color))),void 0!==e.size&&(this.size=e.size))}}class pt extends ft{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(e=>"#"+e):"#"+e}load(e){super.load(e),void 0!==e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class mt extends ft{load(e){super.load(e),void 0!==e&&void 0!==e.divs&&(e.divs instanceof Array?this.divs=e.divs.map(e=>{const t=new pt;return t.load(e),t}):((this.divs instanceof Array||!this.divs)&&(this.divs=new pt),this.divs.load(e.divs)))}}class gt{constructor(){this.opacity=.5}load(e){void 0!==e&&void 0!==e.opacity&&(this.opacity=e.opacity)}}class At{constructor(){this.distance=80,this.links=new gt,this.radius=60}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var t,n;void 0!==e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(n=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==n?n:e.line_linked),void 0!==e.radius&&(this.radius=e.radius))}}class yt{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){void 0!==e&&(void 0!==e.blink&&(this.blink=e.blink),void 0!==e.color&&(this.color=tt.create(this.color,e.color)),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.opacity&&(this.opacity=e.opacity))}}class vt{constructor(){this.distance=100,this.links=new yt}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var t,n;void 0!==e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(n=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==n?n:e.line_linked))}}class bt{constructor(){this.start=new tt,this.stop=new tt,this.start.value="#ffffff",this.stop.value="#000000"}load(e){void 0!==e&&(this.start=tt.create(this.start,e.start),this.stop=tt.create(this.stop,e.stop))}}class _t{constructor(){this.gradient=new bt,this.radius=1e3}load(e){void 0!==e&&(this.gradient.load(e.gradient),void 0!==e.radius&&(this.radius=e.radius))}}class wt{constructor(){this.color=new tt,this.color.value="#000000",this.length=2e3}load(e){void 0!==e&&(this.color=tt.create(this.color,e.color),void 0!==e.length&&(this.length=e.length))}}class xt{constructor(){this.area=new _t,this.shadow=new wt}load(e){void 0!==e&&(this.area.load(e.area),this.shadow.load(e.shadow))}}class St{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(void 0===e)return;void 0!==e.default&&(this.default=e.default),void 0!==e.groups&&(this.groups=e.groups.map(e=>e)),this.groups.length||(this.default=!0);const n=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==n&&(this.quantity=n)}}class Tt{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(void 0===e)return;const n=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==n&&(this.quantity=n)}}class Et{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed))}}class Mt extends Et{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(()=>"#"+e):"#"+e}load(e){super.load(e),void 0!==e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class Ct extends Et{load(e){super.load(e),void 0!==(null===e||void 0===e?void 0:e.divs)&&(e.divs instanceof Array?this.divs=e.divs.map(e=>{const t=new Mt;return t.load(e),t}):((this.divs instanceof Array||!this.divs)&&(this.divs=new Mt),this.divs.load(e.divs)))}}class Ot{constructor(){this.factor=3,this.radius=200}get active(){return!1}set active(e){}load(e){void 0!==e&&(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.radius&&(this.radius=e.radius))}}class kt{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){void 0!==e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.quantity&&(this.quantity=e.quantity),void 0!==e.particles&&(this.particles=le({},e.particles)),void 0!==e.pauseOnStop&&(this.pauseOnStop=e.pauseOnStop))}}class Pt{constructor(){this.attract=new ht,this.bounce=new dt,this.bubble=new mt,this.connect=new At,this.grab=new vt,this.light=new xt,this.push=new St,this.remove=new Tt,this.repulse=new Ct,this.slow=new Ot,this.trail=new kt}load(e){void 0!==e&&(this.attract.load(e.attract),this.bubble.load(e.bubble),this.connect.load(e.connect),this.grab.load(e.grab),this.light.load(e.light),this.push.load(e.push),this.remove.load(e.remove),this.repulse.load(e.repulse),this.slow.load(e.slow),this.trail.load(e.trail))}}class It{constructor(){this.detectsOn="window",this.events=new ut,this.modes=new Pt}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var t,n,i;if(void 0===e)return;const r=null!==(t=e.detectsOn)&&void 0!==t?t:e.detect_on;void 0!==r&&(this.detectsOn=r),this.events.load(e.events),this.modes.load(e.modes),!0===(null===(i=null===(n=e.modes)||void 0===n?void 0:n.slow)||void 0===i?void 0:i.active)&&(this.events.onHover.mode instanceof Array?this.events.onHover.mode.indexOf("slow")<0&&this.events.onHover.mode.push("slow"):"slow"!==this.events.onHover.mode&&(this.events.onHover.mode=[this.events.onHover.mode,"slow"]))}}class Rt{load(e){var t,n;e&&(void 0!==e.position&&(this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(n=e.position.y)&&void 0!==n?n:50}),void 0!==e.options&&(this.options=le({},e.options)))}}class Dt{constructor(){this.factor=4,this.value=!0}load(e){e&&(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.value&&(this.value=e.value))}}class Lt{constructor(){this.disable=!1,this.reduce=new Dt}load(e){e&&(void 0!==e.disable&&(this.disable=e.disable),this.reduce.load(e.reduce))}}class Nt{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.sync=!0}load(e){void 0!==e&&(void 0!==e.count&&(this.count=F(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(this.offset=F(e.offset)),void 0!==e.speed&&(this.speed=F(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class Bt{constructor(){this.h=new Nt,this.s=new Nt,this.l=new Nt}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Ft extends tt{constructor(){super(),this.animation=new Bt}static create(e,t){const n=new Ft;return n.load(e),void 0!==t&&("string"===typeof t||t instanceof Array?n.load({value:t}):n.load(t)),n}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}class jt{constructor(){this.angle=new Ut,this.colors=[],this.type="random"}load(e){e&&(this.angle.load(e.angle),void 0!==e.colors&&(this.colors=e.colors.map(e=>{const t=new qt;return t.load(e),t})),void 0!==e.type&&(this.type=e.type))}}class Ut{constructor(){this.value=0,this.animation=new Vt,this.direction="clockwise"}load(e){e&&(this.animation.load(e.animation),void 0!==e.value&&(this.value=e.value),void 0!==e.direction&&(this.direction=e.direction))}}class zt{constructor(){this.value=0,this.animation=new Ht}load(e){e&&(this.animation.load(e.animation),void 0!==e.value&&(this.value=F(e.value)))}}class qt{constructor(){this.stop=0,this.value=new Ft}load(e){e&&(void 0!==e.stop&&(this.stop=e.stop),this.value=Ft.create(this.value,e.value),void 0!==e.opacity&&(this.opacity=new zt,"number"===typeof e.opacity?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class Vt{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1}load(e){e&&(void 0!==e.count&&(this.count=F(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=F(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class Ht{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1,this.startValue="random"}load(e){e&&(void 0!==e.count&&(this.count=F(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=F(e.speed)),void 0!==e.sync&&(this.sync=e.sync),void 0!==e.startValue&&(this.startValue=e.startValue))}}class Gt{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue))}}class Wt{constructor(){this.random=new Gt,this.value=0}load(e){e&&("boolean"===typeof e.random?this.random.enable=e.random:this.random.load(e.random),void 0!==e.value&&(this.value=F(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class $t extends Wt{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Xt{constructor(){this.horizontal=new $t,this.vertical=new $t}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Yt{constructor(){this.enable=!0,this.retries=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}class Kt{constructor(){this.bounce=new Xt,this.enable=!1,this.mode="bounce",this.overlap=new Yt}load(e){void 0!==e&&(this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Qt extends Wt{constructor(){super(),this.value=3}}class Jt extends Wt{constructor(){super(),this.value={min:4,max:9}}}class Zt{constructor(){this.count=1,this.factor=new Qt,this.rate=new Jt,this.sizeOffset=!0}load(e){e&&(void 0!==e.count&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),void 0!==e.particles&&(this.particles=le({},e.particles)),void 0!==e.sizeOffset&&(this.sizeOffset=e.sizeOffset))}}class en{constructor(){this.mode="none",this.split=new Zt}load(e){e&&(void 0!==e.mode&&(this.mode=e.mode),this.split.load(e.split))}}class tn extends Wt{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class nn extends Wt{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){void 0!==e&&(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class rn{constructor(){this.count=0,this.delay=new tn,this.duration=new nn}load(e){void 0!==e&&(void 0!==e.count&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class on{constructor(){this.blur=5,this.color=new tt,this.enable=!1,this.color.value="#00ff00"}load(e){void 0!==e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=tt.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable))}}class sn{constructor(){this.enable=!1,this.frequency=1}load(e){void 0!==e&&(void 0!==e.color&&(this.color=tt.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity))}}class an{constructor(){this.blink=!1,this.color=new tt,this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new on,this.triangles=new sn,this.width=1,this.warp=!1}load(e){void 0!==e&&(void 0!==e.id&&(this.id=e.id),void 0!==e.blink&&(this.blink=e.blink),this.color=tt.create(this.color,e.color),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),void 0!==e.width&&(this.width=e.width),void 0!==e.warp&&(this.warp=e.warp))}}class ln{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var t,n,i,r;if(!e)return;void 0!==e.distance&&(this.distance=F(e.distance)),void 0!==e.enable&&(this.enable=e.enable);const o=null!==(n=null===(t=e.rotate)||void 0===t?void 0:t.x)&&void 0!==n?n:e.rotateX;void 0!==o&&(this.rotate.x=o);const s=null!==(r=null===(i=e.rotate)||void 0===i?void 0:i.y)&&void 0!==r?r:e.rotateY;void 0!==s&&(this.rotate.y=s)}}class cn{constructor(){this.offset=0,this.value=90}load(e){void 0!==e&&(void 0!==e.offset&&(this.offset=F(e.offset)),void 0!==e.value&&(this.value=F(e.value)))}}class un{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=F(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=F(e.maxSpeed)))}}class hn{constructor(){this.default="out"}load(e){var t,n,i,r;e&&(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(n=e.left)&&void 0!==n?n:e.default,this.right=null!==(i=e.right)&&void 0!==i?i:e.default,this.top=null!==(r=e.top)&&void 0!==r?r:e.default)}}class dn extends Wt{constructor(){super()}}class fn{constructor(){this.clamp=!0,this.delay=new dn,this.enable=!1,this.options={}}load(e){void 0!==e&&(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=le(this.options,e.options)))}}class pn{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=F(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),this.position=e.position?le({},e.position):void 0)}}class mn{constructor(){this.enable=!1,this.length=10,this.fillColor=new tt,this.fillColor.value="#000000"}load(e){void 0!==e&&(void 0!==e.enable&&(this.enable=e.enable),this.fillColor=tt.create(this.fillColor,e.fillColor),void 0!==e.length&&(this.length=e.length))}}class gn{constructor(){this.angle=new cn,this.attract=new ln,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new un,this.path=new fn,this.outModes=new hn,this.random=!1,this.size=!1,this.speed=2,this.spin=new pn,this.straight=!1,this.trail=new mn,this.vibrate=!1,this.warp=!1}get collisions(){return!1}set collisions(e){}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get noise(){return this.path}set noise(e){this.path=e}load(e){var t,n,i;if(void 0===e)return;void 0!==e.angle&&("number"===typeof e.angle?this.angle.value=e.angle:this.angle.load(e.angle)),this.attract.load(e.attract),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance="number"===typeof e.distance?{horizontal:e.distance,vertical:e.distance}:le({},e.distance)),void 0!==e.drift&&(this.drift=F(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const r=null!==(t=e.outMode)&&void 0!==t?t:e.out_mode;void 0===e.outModes&&void 0===r||("string"===typeof e.outModes||void 0===e.outModes&&void 0!==r?this.outModes.load({default:null!==(n=e.outModes)&&void 0!==n?n:r}):this.outModes.load(e.outModes)),this.path.load(null!==(i=e.path)&&void 0!==i?i:e.noise),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=F(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}class An{constructor(){this.count=0,this.enable=!1,this.speed=1,this.sync=!1}load(e){e&&(void 0!==e.count&&(this.count=F(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=F(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class yn extends An{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var t;void 0!==e&&(super.load(e),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.opacity_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class vn extends Wt{constructor(){super(),this.animation=new yn,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(!e)return;super.load(e);const n=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==n&&(this.animation.load(n),this.value=F(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class bn extends Wt{constructor(){super(),this.value=45,this.random.enable=!1,this.random.minimumValue=0}load(e){void 0!==e&&super.load(e)}}class _n{constructor(){this.animation=new An,this.enable=!1,this.opacity=1,this.rotation=new bn,this.width=1}load(e){void 0!==e&&(this.animation.load(e.animation),this.rotation.load(e.rotation),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.opacity&&(this.opacity=F(e.opacity)),void 0!==e.width&&(this.width=F(e.width)),void 0!==e.radius&&(this.radius=F(e.radius)),void 0!==e.color&&(this.color=tt.create(this.color,e.color)))}}class wn{constructor(){this.enable=!1,this.area=800,this.factor=1e3}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var t;if(void 0===e)return;void 0!==e.enable&&(this.enable=e.enable);const n=null!==(t=e.area)&&void 0!==t?t:e.value_area;void 0!==n&&(this.area=n),void 0!==e.factor&&(this.factor=e.factor)}}class xn{constructor(){this.density=new wn,this.limit=0,this.value=100}get max(){return this.limit}set max(e){this.limit=e}load(e){var t;if(void 0===e)return;this.density.load(e.density);const n=null!==(t=e.limit)&&void 0!==t?t:e.max;void 0!==n&&(this.limit=n),void 0!==e.value&&(this.value=e.value)}}class Sn extends Wt{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),e&&(void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.distance&&(this.distance=F(e.distance)),void 0!==e.duration&&(this.duration=F(e.duration)),void 0!==e.factor&&(this.factor=F(e.factor)),void 0!==e.speed&&(this.speed=F(e.speed)))}}class Tn{constructor(){this.enable=!1,this.value=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.value&&(this.value=F(e.value)))}}class En{constructor(){this.darken=new Tn,this.enable=!1,this.enlighten=new Tn,this.mode="vertical",this.speed=25}load(e){e&&(void 0!==e.backColor&&(this.backColor=tt.create(this.backColor,e.backColor)),this.darken.load(e.darken),void 0!==e.enable&&(this.enable=e.enable),this.enlighten.load(e.enlighten),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.speed&&(this.speed=F(e.speed)))}}class Mn{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(e){void 0!==e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=F(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class Cn extends Wt{constructor(){super(),this.animation=new Mn,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),void 0!==e.direction&&(this.direction=e.direction),this.animation.load(e.animation),void 0!==e.path&&(this.path=e.path))}}class On{constructor(){this.blur=0,this.color=new tt,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000000"}load(e){void 0!==e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=tt.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}class kn{constructor(){this.options={},this.type="circle"}get image(){var e;return null!==(e=this.options["image"])&&void 0!==e?e:this.options["images"]}set image(e){this.options["image"]=e,this.options["images"]=e}get custom(){return this.options}set custom(e){this.options=e}get images(){return this.image}set images(e){this.image=e}get stroke(){return[]}set stroke(e){}get character(){var e;return null!==(e=this.options["character"])&&void 0!==e?e:this.options["char"]}set character(e){this.options["character"]=e,this.options["char"]=e}get polygon(){var e;return null!==(e=this.options["polygon"])&&void 0!==e?e:this.options["star"]}set polygon(e){this.options["polygon"]=e,this.options["star"]=e}load(e){var t,n,i;if(void 0===e)return;const r=null!==(t=e.options)&&void 0!==t?t:e.custom;if(void 0!==r)for(const o in r){const e=r[o];void 0!==e&&(this.options[o]=le(null!==(n=this.options[o])&&void 0!==n?n:{},e))}this.loadShape(e.character,"character","char",!0),this.loadShape(e.polygon,"polygon","star",!1),this.loadShape(null!==(i=e.image)&&void 0!==i?i:e.images,"image","images",!0),void 0!==e.type&&(this.type=e.type)}loadShape(e,t,n,i){var r,o,s,a;void 0!==e&&(e instanceof Array?(this.options[t]instanceof Array||(this.options[t]=[],this.options[n]&&!i||(this.options[n]=[])),this.options[t]=le(null!==(r=this.options[t])&&void 0!==r?r:[],e),this.options[n]&&!i||(this.options[n]=le(null!==(o=this.options[n])&&void 0!==o?o:[],e))):(this.options[t]instanceof Array&&(this.options[t]={},this.options[n]&&!i||(this.options[n]={})),this.options[t]=le(null!==(s=this.options[t])&&void 0!==s?s:{},e),this.options[n]&&!i||(this.options[n]=le(null!==(a=this.options[n])&&void 0!==a?a:{},e))))}}class Pn extends An{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var t;void 0!==e&&(super.load(e),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.size_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class In extends Wt{constructor(){super(),this.animation=new Pn,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(!e)return;super.load(e);const n=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==n&&(this.animation.load(n),this.value=F(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Rn{constructor(){this.width=0}load(e){void 0!==e&&(void 0!==e.color&&(this.color=Ft.create(this.color,e.color)),void 0!==e.width&&(this.width=e.width),void 0!==e.opacity&&(this.opacity=e.opacity))}}class Dn{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(e){void 0!==e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=F(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class Ln extends Wt{constructor(){super(),this.animation=new Dn,this.direction="clockwise",this.enable=!1,this.value=0}load(e){e&&(super.load(e),this.animation.load(e.animation),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.enable&&(this.enable=e.enable))}}class Nn{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){void 0!==e&&(void 0!==e.color&&(this.color=tt.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=F(e.opacity)))}}class Bn{constructor(){this.lines=new Nn,this.particles=new Nn}load(e){void 0!==e&&(this.lines.load(e.lines),this.particles.load(e.particles))}}class Fn{constructor(){this.distance=5,this.enable=!1,this.speed=50}load(e){e&&(void 0!==e.distance&&(this.distance=F(e.distance)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=F(e.speed)))}}class jn extends Wt{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}class Un{constructor(){this.bounce=new Xt,this.collisions=new Kt,this.color=new Ft,this.destroy=new en,this.gradient=[],this.groups={},this.life=new rn,this.links=new an,this.move=new gn,this.number=new xn,this.opacity=new vn,this.orbit=new _n,this.reduceDuplicates=!1,this.repulse=new Sn,this.roll=new En,this.rotate=new Cn,this.shadow=new On,this.shape=new kn,this.size=new In,this.stroke=new Rn,this.tilt=new Ln,this.twinkle=new Bn,this.wobble=new Fn,this.zIndex=new jn}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var t,n,i,r,o,s,a,l;if(void 0===e)return;this.bounce.load(e.bounce),this.color.load(Ft.create(this.color,e.color)),this.destroy.load(e.destroy),this.life.load(e.life);const c=null!==(n=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==n?n:e.line_linked;if(void 0!==c&&this.links.load(c),void 0!==e.groups)for(const f in e.groups){const t=e.groups[f];void 0!==t&&(this.groups[f]=le(null!==(i=this.groups[f])&&void 0!==i?i:{},t))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.orbit.load(e.orbit),void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.repulse.load(e.repulse),this.roll.load(e.roll),this.rotate.load(e.rotate),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.tilt.load(e.tilt),this.twinkle.load(e.twinkle),this.wobble.load(e.wobble),this.zIndex.load(e.zIndex);const u=null!==(o=null===(r=e.move)||void 0===r?void 0:r.collisions)&&void 0!==o?o:null===(s=e.move)||void 0===s?void 0:s.bounce;void 0!==u&&(this.collisions.enable=u),this.collisions.load(e.collisions);const h=null!==(a=e.stroke)&&void 0!==a?a:null===(l=e.shape)||void 0===l?void 0:l.stroke;h&&(h instanceof Array?this.stroke=h.map(e=>{const t=new Rn;return t.load(e),t}):(this.stroke instanceof Array&&(this.stroke=new Rn),this.stroke.load(h)));const d=e.gradient;d&&(d instanceof Array?this.gradient=d.map(e=>{const t=new jt;return t.load(e),t}):(this.gradient instanceof Array&&(this.gradient=new jt),this.gradient.load(d)))}}class zn{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.mode&&("screen"===e.mode?this.mode="screen":this.mode="canvas"),void 0!==e.options&&(this.options=le({},e.options)))}}class qn{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class Vn{constructor(){this.name="",this.default=new qn}load(e){void 0!==e&&(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=le({},e.options)))}}var Hn,Gn,Wn,$n=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Xn=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class Yn{constructor(e){Hn.add(this),Gn.set(this,void 0),$n(this,Gn,e,"f"),this.autoPlay=!0,this.background=new nt,this.backgroundMask=new rt,this.fullScreen=new ot,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new It,this.manualParticles=[],this.motion=new Lt,this.particles=new Un,this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.style={},this.themes=[],this.zLayers=100}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}load(e){var t,n,i,r,o;if(void 0===e)return;if(void 0!==e.preset)if(e.preset instanceof Array)for(const c of e.preset)this.importPreset(c);else this.importPreset(e.preset);void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay);const s=null!==(t=e.detectRetina)&&void 0!==t?t:e.retina_detect;void 0!==s&&(this.detectRetina=s),void 0!==e.duration&&(this.duration=e.duration);const a=null!==(n=e.fpsLimit)&&void 0!==n?n:e.fps_limit;void 0!==a&&(this.fpsLimit=a),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);const l=null!==(i=e.fullScreen)&&void 0!==i?i:e.backgroundMode;if("boolean"===typeof l?this.fullScreen.enable=l:this.fullScreen.load(l),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),void 0!==e.manualParticles&&(this.manualParticles=e.manualParticles.map(e=>{const t=new Rt;return t.load(e),t})),this.motion.load(e.motion),this.particles.load(e.particles),this.style=le(this.style,e.style),Xn(this,Gn,"f").plugins.loadOptions(this,e),void 0!==e.responsive)for(const c of e.responsive){const e=new zn;e.load(c),this.responsive.push(e)}if(this.responsive.sort((e,t)=>e.maxWidth-t.maxWidth),void 0!==e.themes)for(const c of e.themes){const e=new Vn;e.load(c),this.themes.push(e)}this.defaultDarkTheme=null===(r=Xn(this,Hn,"m",Wn).call(this,"dark"))||void 0===r?void 0:r.name,this.defaultLightTheme=null===(o=Xn(this,Hn,"m",Wn).call(this,"light"))||void 0===o?void 0:o.name}setTheme(e){if(e){const t=this.themes.find(t=>t.name===e);t&&this.load(t.options)}else{const e="undefined"!==typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)"),t=e&&e.matches,n=Xn(this,Hn,"m",Wn).call(this,t?"dark":"light");n&&this.load(n.options)}}setResponsive(e,t,n){this.load(n);const i=this.responsive.find(n=>"screen"===n.mode&&screen?n.maxWidth*t>screen.availWidth:n.maxWidth*t>e);return this.load(null===i||void 0===i?void 0:i.options),null===i||void 0===i?void 0:i.maxWidth}importPreset(e){this.load(Xn(this,Gn,"f").plugins.getPreset(e))}}Gn=new WeakMap,Hn=new WeakSet,Wn=function(e){var t;return null!==(t=this.themes.find(t=>t.default.value&&t.default.mode===e))&&void 0!==t?t:this.themes.find(e=>e.default.value&&"any"===e.default.mode)};var Kn,Qn=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Jn=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class Zn{constructor(e,t){this.container=t,Kn.set(this,void 0),Qn(this,Kn,e,"f"),this.externalInteractors=[],this.particleInteractors=[],this.init()}init(){const e=Jn(this,Kn,"f").plugins.getInteractors(this.container,!0);this.externalInteractors=[],this.particleInteractors=[];for(const t of e)switch(t.type){case 0:this.externalInteractors.push(t);break;case 1:this.particleInteractors.push(t);break}}async externalInteract(e){for(const t of this.externalInteractors)t.isEnabled()&&await t.interact(e)}async particlesInteract(e,t){for(const n of this.externalInteractors)n.reset(e);for(const n of this.particleInteractors)n.isEnabled(e)&&await n.interact(e,t)}handleClickMode(e){for(const t of this.externalInteractors)t.handleClickMode&&t.handleClickMode(e)}}Kn=new WeakMap;class ei extends P{constructor(e,t,n){if(super(e,t),"number"!==typeof e&&e)this.z=e.z;else{if(void 0===n)throw new Error("tsParticles - Vector not initialized correctly");this.z=n}}static clone(e){return ei.create(e.x,e.y,e.z)}static create(e,t,n){return new ei(e,t,n)}static get origin(){return ei.create(0,0,0)}add(e){return e instanceof ei?ei.create(this.x+e.x,this.y+e.y,this.z+e.z):super.add(e)}addTo(e){super.addTo(e),e instanceof ei&&(this.z+=e.z)}sub(e){return e instanceof ei?ei.create(this.x-e.x,this.y-e.y,this.z-e.z):super.sub(e)}subFrom(e){super.subFrom(e),e instanceof ei&&(this.z-=e.z)}mult(e){return ei.create(this.x*e,this.y*e,this.z*e)}multTo(e){super.multTo(e),this.z*=e}div(e){return ei.create(this.x/e,this.y/e,this.z/e)}divTo(e){super.divTo(e),this.z/=e}copy(){return ei.clone(this)}setTo(e){super.setTo(e);const t=e;void 0!==t.z&&(this.z=t.z)}}var ti,ni=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},ii=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};const ri=e=>{(te(e.outMode,e.checkModes)||te(e.outMode,e.checkModes))&&(e.coord>e.maxCoord-2*e.radius?e.setCb(-e.radius):e.coord<2*e.radius&&e.setCb(e.radius))};class oi{constructor(e,t,n,i,r,o){var s,a,l,c,u,h,d;this.id=t,this.container=n,this.group=o,ti.set(this,void 0),ni(this,ti,e,"f"),this.fill=!0,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.splitCount=0,this.misplaced=!1,this.retina={maxDistance:{}},this.ignoresResizeRatio=!0;const f=n.retina.pixelRatio,p=n.actualOptions,m=new Un;m.load(p.particles);const g=m.shape.type,A=m.reduceDuplicates;if(this.shape=g instanceof Array?re(g,this.id,A):g,null===r||void 0===r?void 0:r.shape){if(r.shape.type){const e=r.shape.type;this.shape=e instanceof Array?re(e,this.id,A):e}const e=new kn;e.load(r.shape),this.shape&&(this.shapeData=this.loadShapeData(e,A))}else this.shapeData=this.loadShapeData(m.shape,A);void 0!==r&&m.load(r),void 0!==(null===(s=this.shapeData)||void 0===s?void 0:s.particles)&&m.load(null===(a=this.shapeData)||void 0===a?void 0:a.particles),this.fill=null!==(c=null===(l=this.shapeData)||void 0===l?void 0:l.fill)&&void 0!==c?c:this.fill,this.close=null!==(h=null===(u=this.shapeData)||void 0===u?void 0:u.close)&&void 0!==h?h:this.close,this.options=m,this.pathDelay=1e3*j(this.options.move.path.delay);const y=L(this.options.zIndex.value);n.retina.initParticle(this);const v=this.options.size,b=v.value;this.size={enable:v.animation.enable,value:j(v)*n.retina.pixelRatio,max:B(b)*f,min:N(b)*f,loops:0,maxLoops:L(v.animation.count)};const _=v.animation;if(_.enable){switch(this.size.status=0,_.startValue){case"min":this.size.value=this.size.min,this.size.status=0;break;case"random":this.size.value=D(this.size)*f,this.size.status=Math.random()>=.5?0:1;break;case"max":default:this.size.value=this.size.max,this.size.status=1;break}this.size.velocity=(null!==(d=this.retina.sizeAnimationSpeed)&&void 0!==d?d:n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,_.sync||(this.size.velocity*=Math.random())}this.direction=q(this.options.move.direction),this.bubble={inRange:!1},this.initialVelocity=this.calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-L(this.options.move.decay);const w=this.options.move.gravity;this.gravity={enable:w.enable,acceleration:L(w.acceleration),inverse:w.inverse},this.position=this.calcPosition(n,i,I(y,0,n.zLayers)),this.initialPosition=this.position.copy(),this.offset=P.origin;const x=n.particles;x.needsSort=x.needsSort||x.lastZIndex<this.position.z,x.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/n.zLayers,this.sides=24;let S=n.drawers.get(this.shape);S||(S=ii(this,ti,"f").plugins.getShapeDrawer(this.shape),S&&n.drawers.set(this.shape,S)),(null===S||void 0===S?void 0:S.loadShape)&&(null===S||void 0===S||S.loadShape(this));const T=null===S||void 0===S?void 0:S.getSidesCount;T&&(this.sides=T(this)),this.life=this.loadLife(),this.spawning=this.life.delay>0,this.shadowColor=ye(this.options.shadow.color);for(const E of n.particles.updaters)E.init&&E.init(this);S&&S.particleInit&&S.particleInit(n,this);for(const[,E]of n.plugins)E.particleCreated&&E.particleCreated(this)}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=t.height+e&&this.position.x<=t.width+e}draw(e){const t=this.container;for(const[,n]of t.plugins)t.canvas.drawParticlePlugin(n,this,e);t.canvas.drawParticle(this,e)}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return null!==(e=this.bubble.radius)&&void 0!==e?e:this.size.value}getMass(){return this.getRadius()**2*Math.PI/2}getFillColor(){var e,t;const n=null!==(e=this.bubble.color)&&void 0!==e?e:Re(this.color);if(n&&this.roll&&(this.backColor||this.roll.alter)){const e="both"===this.options.roll.mode?2:1,i="horizontal"===this.options.roll.mode?Math.PI/2:0,r=Math.floor(((null!==(t=this.roll.angle)&&void 0!==t?t:0)+i)/(Math.PI/e))%2;if(r){if(this.backColor)return this.backColor;if(this.roll.alter)return Ke(n,this.roll.alter.type,this.roll.alter.value)}}return n}getStrokeColor(){var e,t;return null!==(t=null!==(e=this.bubble.color)&&void 0!==e?e:Re(this.strokeColor))&&void 0!==t?t:this.getFillColor()}destroy(e){if(this.destroyed=!0,this.bubble.inRange=!1,this.unbreakable)return;this.destroyed=!0,this.bubble.inRange=!1;for(const[,n]of this.container.plugins)n.particleDestroyed&&n.particleDestroyed(this,e);if(e)return;const t=this.options.destroy;"split"===t.mode&&this.split()}reset(){this.opacity&&(this.opacity.loops=0),this.size.loops=0}split(){const e=this.options.destroy.split;if(e.count>=0&&this.splitCount++>e.count)return;const t=L(e.rate.value);for(let n=0;n<t;n++)this.container.particles.addSplitParticle(this)}calcPosition(e,t,n,i=0){var r,o,s,a;for(const[,m]of e.plugins){const e=void 0!==m.particlePosition?m.particlePosition(t,this):void 0;if(void 0!==e)return ei.create(e.x,e.y,n)}const l=e.canvas.size,c=Y({size:l,position:t}),u=ei.create(c.x,c.y,n),h=this.getRadius(),d=this.options.move.outModes,f=t=>{ri({outMode:t,checkModes:["bounce","bounce-horizontal"],coord:u.x,maxCoord:e.canvas.size.width,setCb:e=>u.x+=e,radius:h})},p=t=>{ri({outMode:t,checkModes:["bounce","bounce-vertical"],coord:u.y,maxCoord:e.canvas.size.height,setCb:e=>u.y+=e,radius:h})};return f(null!==(r=d.left)&&void 0!==r?r:d.default),f(null!==(o=d.right)&&void 0!==o?o:d.default),p(null!==(s=d.top)&&void 0!==s?s:d.default),p(null!==(a=d.bottom)&&void 0!==a?a:d.default),this.checkOverlap(u,i)?this.calcPosition(e,void 0,n,i+1):u}checkOverlap(e,t=0){const n=this.options.collisions,i=this.getRadius();if(!n.enable)return!1;const r=n.overlap;if(r.enable)return!1;const o=r.retries;if(o>=0&&t>o)throw new Error("Particle is overlapping and can't be placed");let s=!1;for(const a of this.container.particles.array)if(z(e,a.position)<i+a.getRadius()){s=!0;break}return s}calculateVelocity(){const e=V(this.direction),t=e.copy(),n=this.options.move,i=Math.PI/180*L(n.angle.value),r=Math.PI/180*L(n.angle.offset),o={left:r-i/2,right:r+i/2};return n.straight||(t.angle+=D(F(o.left,o.right))),n.random&&"number"===typeof n.speed&&(t.length*=Math.random()),t}loadShapeData(e,t){const n=e.options[this.shape];if(n)return le({},n instanceof Array?re(n,this.id,t):n)}loadLife(){const e=this.container,t=this.options,n=t.life,i={delay:e.retina.reduceFactor?L(n.delay.value)*(n.delay.sync?1:Math.random())/e.retina.reduceFactor*1e3:0,delayTime:0,duration:e.retina.reduceFactor?L(n.duration.value)*(n.duration.sync?1:Math.random())/e.retina.reduceFactor*1e3:0,time:0,count:t.life.count};return i.duration<=0&&(i.duration=-1),i.count<=0&&(i.count=-1),i}}ti=new WeakMap;class si{constructor(e,t){this.position=e,this.particle=t}}class ai{constructor(e,t){this.position={x:e,y:t}}}class li extends ai{constructor(e,t,n){super(e,t),this.radius=n}contains(e){return z(e,this.position)<=this.radius}intersects(e){const t=e,n=e,i=this.position,r=e.position,o=Math.abs(r.x-i.x),s=Math.abs(r.y-i.y),a=this.radius;if(void 0!==n.radius){const e=a+n.radius,t=Math.sqrt(o*o+s+s);return e>t}if(void 0!==t.size){const e=t.size.width,n=t.size.height,i=Math.pow(o-e,2)+Math.pow(s-n,2);return!(o>a+e||s>a+n)&&(o<=e||s<=n||i<=a*a)}return!1}}class ci extends ai{constructor(e,t,n,i){super(e,t),this.size={height:i,width:n}}contains(e){const t=this.size.width,n=this.size.height,i=this.position;return e.x>=i.x&&e.x<=i.x+t&&e.y>=i.y&&e.y<=i.y+n}intersects(e){const t=e,n=e,i=this.size.width,r=this.size.height,o=this.position,s=e.position;if(void 0!==n.radius)return n.intersects(this);if(!t.size)return!1;const a=t.size,l=a.width,c=a.height;return s.x<o.x+i&&s.x+l>o.x&&s.y<o.y+r&&s.y+c>o.y}}class ui extends li{constructor(e,t,n,i){super(e,t,n),this.canvasSize=i,this.canvasSize=Object.assign({},i)}contains(e){if(super.contains(e))return!0;const t={x:e.x-this.canvasSize.width,y:e.y};if(super.contains(t))return!0;const n={x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height};if(super.contains(n))return!0;const i={x:e.x,y:e.y-this.canvasSize.height};return super.contains(i)}intersects(e){if(super.intersects(e))return!0;const t=e,n=e,i={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(void 0!==n.radius){const e=new li(i.x,i.y,2*n.radius);return super.intersects(e)}if(void 0!==t.size){const e=new ci(i.x,i.y,2*t.size.width,2*t.size.height);return super.intersects(e)}return!1}}class hi{constructor(e,t){this.rectangle=e,this.capacity=t,this.points=[],this.divided=!1}insert(e){var t,n,i,r,o;return!!this.rectangle.contains(e.position)&&(this.points.length<this.capacity?(this.points.push(e),!0):(this.divided||this.subdivide(),null!==(o=(null===(t=this.northEast)||void 0===t?void 0:t.insert(e))||(null===(n=this.northWest)||void 0===n?void 0:n.insert(e))||(null===(i=this.southEast)||void 0===i?void 0:i.insert(e))||(null===(r=this.southWest)||void 0===r?void 0:r.insert(e)))&&void 0!==o&&o))}queryCircle(e,t){return this.query(new li(e.x,e.y,t))}queryCircleWarp(e,t,n){const i=n,r=n;return this.query(new ui(e.x,e.y,t,void 0!==i.canvas?i.canvas.size:r))}queryRectangle(e,t){return this.query(new ci(e.x,e.y,t.width,t.height))}query(e,t){var n,i,r,o;const s=null!==t&&void 0!==t?t:[];if(!e.intersects(this.rectangle))return[];for(const a of this.points)!e.contains(a.position)&&z(e.position,a.position)>a.particle.getRadius()||s.push(a.particle);return this.divided&&(null===(n=this.northEast)||void 0===n||n.query(e,s),null===(i=this.northWest)||void 0===i||i.query(e,s),null===(r=this.southEast)||void 0===r||r.query(e,s),null===(o=this.southWest)||void 0===o||o.query(e,s)),s}subdivide(){const e=this.rectangle.position.x,t=this.rectangle.position.y,n=this.rectangle.size.width,i=this.rectangle.size.height,r=this.capacity;this.northEast=new hi(new ci(e,t,n/2,i/2),r),this.northWest=new hi(new ci(e+n/2,t,n/2,i/2),r),this.southEast=new hi(new ci(e,t+i/2,n/2,i/2),r),this.southWest=new hi(new ci(e+n/2,t+i/2,n/2,i/2),r),this.divided=!0}}var di,fi=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},pi=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class mi{constructor(e,t){this.container=t,di.set(this,void 0),fi(this,di,e,"f"),this.nextId=0,this.array=[],this.zArray=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.freqs={links:new Map,triangles:new Map},this.interactionManager=new Zn(pi(this,di,"f"),t);const n=this.container.canvas.size;this.linksColors=new Map,this.quadTree=new hi(new ci(-n.width/4,-n.height/4,3*n.width/2,3*n.height/2),4),this.movers=pi(this,di,"f").plugins.getMovers(t,!0),this.updaters=pi(this,di,"f").plugins.getUpdaters(t,!0)}get count(){return this.array.length}init(){var e;const t=this.container,n=t.actualOptions;this.lastZIndex=0,this.needsSort=!1,this.freqs.links=new Map,this.freqs.triangles=new Map;let i=!1;this.updaters=pi(this,di,"f").plugins.getUpdaters(t,!0),this.interactionManager.init();for(const[,r]of t.plugins)if(void 0!==r.particlesInitialization&&(i=r.particlesInitialization()),i)break;if(this.addManualParticles(),!i){for(const t in n.particles.groups){const i=n.particles.groups[t];for(let r=this.count,o=0;o<(null===(e=i.number)||void 0===e?void 0:e.value)&&r<n.particles.number.value;r++,o++)this.addParticle(void 0,i,t)}for(let e=this.count;e<n.particles.number.value;e++)this.addParticle()}t.pathGenerator.init(t)}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}removeAt(e,t=1,n,i){if(!(e>=0&&e<=this.count))return;let r=0;for(let o=e;r<t&&o<this.count;o++){const e=this.array[o];if(!e||e.group!==n)continue;e.destroy(i),this.array.splice(o--,1);const t=this.zArray.indexOf(e);this.zArray.splice(t,1),r++}}remove(e,t,n){this.removeAt(this.array.indexOf(e),void 0,t,n)}async update(e){const t=this.container,n=[];t.pathGenerator.update();for(const[,i]of t.plugins)void 0!==i.update&&i.update(e);for(const i of this.array){const r=t.canvas.resizeFactor;r&&!i.ignoresResizeRatio&&(i.position.x*=r.width,i.position.y*=r.height),i.ignoresResizeRatio=!1,i.bubble.inRange=!1;for(const[,t]of this.container.plugins){if(i.destroyed)break;t.particleUpdate&&t.particleUpdate(i,e)}for(const t of this.movers)t.isEnabled(i)&&t.move(i,e);i.destroyed?n.push(i):this.quadTree.insert(new si(i.getPosition(),i))}for(const i of n)this.remove(i);await this.interactionManager.externalInteract(e);for(const i of t.particles.array){for(const t of this.updaters)t.update(i,e);i.destroyed||i.spawning||await this.interactionManager.particlesInteract(i,e)}delete t.canvas.resizeFactor}async draw(e){const t=this.container,n=this.container.canvas.size;this.quadTree=new hi(new ci(-n.width/4,-n.height/4,3*n.width/2,3*n.height/2),4),t.canvas.clear(),await this.update(e),this.needsSort&&(this.zArray.sort((e,t)=>t.position.z-e.position.z||e.id-t.id),this.lastZIndex=this.zArray[this.zArray.length-1].position.z,this.needsSort=!1);for(const[,i]of t.plugins)t.canvas.drawPlugin(i,e);for(const i of this.zArray)i.draw(e)}clear(){this.array=[],this.zArray=[]}push(e,t,n,i){this.pushing=!0;for(let r=0;r<e;r++)this.addParticle(null===t||void 0===t?void 0:t.position,n,i);this.pushing=!1}addParticle(e,t,n){const i=this.container,r=i.actualOptions,o=r.particles.number.limit*i.density;if(o>0){const e=this.count+1-o;e>0&&this.removeQuantity(e)}return this.pushParticle(e,t,n)}addSplitParticle(e){const t=e.options.destroy.split,n=new Un;n.load(e.options);const i=L(t.factor.value);n.color.load({value:{hsl:e.getFillColor()}}),"number"===typeof n.size.value?n.size.value/=i:(n.size.value.min/=i,n.size.value.max/=i),n.load(t.particles);const r=t.sizeOffset?F(-e.size.value,e.size.value):0,o={x:e.position.x+D(r),y:e.position.y+D(r)};return this.pushParticle(o,n,e.group,t=>!(t.size.value<.5)&&(t.velocity.length=D(F(e.velocity.length,t.velocity.length)),t.splitCount=e.splitCount+1,t.unbreakable=!0,setTimeout(()=>{t.unbreakable=!1},500),!0))}removeQuantity(e,t){this.removeAt(0,e,t)}getLinkFrequency(e,t){const n=F(e.id,t.id),i=`${N(n)}_${B(n)}`;let r=this.freqs.links.get(i);return void 0===r&&(r=Math.random(),this.freqs.links.set(i,r)),r}getTriangleFrequency(e,t,n){let[i,r,o]=[e.id,t.id,n.id];i>r&&([r,i]=[i,r]),r>o&&([o,r]=[r,o]),i>o&&([o,i]=[i,o]);const s=`${i}_${r}_${o}`;let a=this.freqs.triangles.get(s);return void 0===a&&(a=Math.random(),this.freqs.triangles.set(s,a)),a}addManualParticles(){const e=this.container,t=e.actualOptions;for(const n of t.manualParticles)this.addParticle(W({size:e.canvas.size,position:n.position}),n.options)}setDensity(){const e=this.container.actualOptions;for(const t in e.particles.groups)this.applyDensity(e.particles.groups[t],0,t);this.applyDensity(e.particles,e.manualParticles.length)}handleClickMode(e){this.interactionManager.handleClickMode(e)}applyDensity(e,t,n){var i;if(!(null===(i=e.number.density)||void 0===i?void 0:i.enable))return;const r=e.number,o=this.initDensityFactor(r.density),s=r.value,a=r.limit>0?r.limit:s,l=Math.min(s,a)*o+t,c=Math.min(this.count,this.array.filter(e=>e.group===n).length);this.limit=r.limit*o,c<l?this.push(Math.abs(l-c),void 0,e,n):c>l&&this.removeQuantity(c-l,n)}initDensityFactor(e){const t=this.container;if(!t.canvas.element||!e.enable)return 1;const n=t.canvas.element,i=t.retina.pixelRatio;return n.width*n.height/(e.factor*i**2*e.area)}pushParticle(e,t,n,i){try{const r=new oi(pi(this,di,"f"),this.nextId,this.container,e,t,n);let o=!0;if(i&&(o=i(r)),!o)return;return this.array.push(r),this.zArray.push(r),this.nextId++,r}catch(r){return void console.warn("error adding particle: "+r)}}}di=new WeakMap;class gi{constructor(e){this.container=e}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||J()?1:window.devicePixelRatio;const n=this.container.actualOptions.motion;if(n&&(n.disable||n.reduce.value))if(J()||"undefined"===typeof matchMedia||!matchMedia)this.reduceFactor=1;else{const t=matchMedia("(prefers-reduced-motion: reduce)");if(t){this.handleMotionChange(t);const n=()=>{this.handleMotionChange(t),e.refresh().catch(()=>{})};void 0!==t.addEventListener?t.addEventListener("change",n):void 0!==t.addListener&&t.addListener(n)}}else this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const t=e.canvas.element;e.canvas.size.width=t.offsetWidth*i,e.canvas.size.height=t.offsetHeight*i}const r=t.particles;this.attractDistance=L(r.move.attract.distance)*i,this.linksDistance=r.links.distance*i,this.linksWidth=r.links.width*i,this.sizeAnimationSpeed=L(r.size.animation.speed)*i,this.maxSpeed=L(r.move.gravity.maxSpeed)*i;const o=t.interactivity.modes;this.connectModeDistance=o.connect.distance*i,this.connectModeRadius=o.connect.radius*i,this.grabModeDistance=o.grab.distance*i,this.repulseModeDistance=o.repulse.distance*i,this.bounceModeDistance=o.bounce.distance*i,this.attractModeDistance=o.attract.distance*i,this.slowModeRadius=o.slow.radius*i,this.bubbleModeDistance=o.bubble.distance*i,o.bubble.size&&(this.bubbleModeSize=o.bubble.size*i)}initParticle(e){const t=e.options,n=this.pixelRatio,i=t.move.distance,r=e.retina;r.attractDistance=L(t.move.attract.distance)*n,r.linksDistance=t.links.distance*n,r.linksWidth=t.links.width*n,r.moveDrift=L(t.move.drift)*n,r.moveSpeed=L(t.move.speed)*n,r.sizeAnimationSpeed=L(t.size.animation.speed)*n;const o=r.maxDistance;o.horizontal=void 0!==i.horizontal?i.horizontal*n:void 0,o.vertical=void 0!==i.vertical?i.vertical*n:void 0,r.maxSpeed=L(t.move.gravity.maxSpeed)*n}handleMotionChange(e){const t=this.container.actualOptions;if(e.matches){const e=t.motion;this.reduceFactor=e.disable?0:e.reduce.value?1/e.reduce.factor:1}else this.reduceFactor=1}}var Ai,yi=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},vi=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class bi{constructor(e,t,n,...i){this.id=t,Ai.set(this,void 0),yi(this,Ai,e,"f"),this.fpsLimit=120,this.duration=0,this.lifeTime=0,this.firstStart=!0,this.started=!1,this.destroyed=!1,this.paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new gi(this),this.canvas=new Qe(this),this.particles=new mi(vi(this,Ai,"f"),this),this.drawer=new et(this),this.presets=i,this.pathGenerator={generate:()=>{const e=P.create(0,0);return e.length=Math.random(),e.angle=Math.random()*Math.PI*2,e},init:()=>{},update:()=>{}},this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this.density=1,this._options=new Yn(vi(this,Ai,"f")),this.actualOptions=new Yn(vi(this,Ai,"f")),this.eventListeners=new Ze(this),"undefined"!==typeof IntersectionObserver&&IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(e=>this.intersectionManager(e)))}get options(){return this._options}get sourceOptions(){return this._sourceOptions}play(e){const t=this.paused||e;if(!this.firstStart||this.actualOptions.autoPlay){if(this.paused&&(this.paused=!1),t)for(const[,e]of this.plugins)e.play&&e.play();this.draw(t||!1)}else this.firstStart=!1}pause(){if(void 0!==this.drawAnimationFrame&&(ee()(this.drawAnimationFrame),delete this.drawAnimationFrame),!this.paused){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this.paused=!0)}}draw(e){let t=e;this.drawAnimationFrame=Z()(async e=>{t&&(this.lastFrameTime=void 0,t=!1),await this.drawer.nextFrame(e)})}getAnimationStatus(){return!this.paused&&!this.pageHidden}setNoise(e,t,n){this.setPath(e,t,n)}setPath(e,t,n){var i,r,o;if(e)if("function"===typeof e)this.pathGenerator.generate=e,t&&(this.pathGenerator.init=t),n&&(this.pathGenerator.update=n);else{const t=this.pathGenerator;this.pathGenerator=e,(i=this.pathGenerator).generate||(i.generate=t.generate),(r=this.pathGenerator).init||(r.init=t.init),(o=this.pathGenerator).update||(o.update=t.update)}}destroy(){this.stop(),this.canvas.destroy();for(const[,e]of this.drawers)e.destroy&&e.destroy(this);for(const e of this.drawers.keys())this.drawers.delete(e);this.destroyed=!0}exportImg(e){this.exportImage(e)}exportImage(e,t,n){var i;return null===(i=this.canvas.element)||void 0===i?void 0:i.toBlob(e,null!==t&&void 0!==t?t:"image/png",n)}exportConfiguration(){return JSON.stringify(this.actualOptions,void 0,2)}refresh(){return this.stop(),this.start()}reset(){return this._options=new Yn(vi(this,Ai,"f")),this.refresh()}stop(){if(this.started){this.firstStart=!0,this.started=!1,this.eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.clear(),this.interactivity.element instanceof HTMLElement&&this.intersectionObserver&&this.intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this.particles.linksColors=new Map,delete this.particles.grabLineColor,delete this.particles.linksColor,this._sourceOptions=this._options}}async loadTheme(e){this.currentTheme=e,await this.refresh()}async start(){if(!this.started){await this.init(),this.started=!0,this.eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this.intersectionObserver&&this.intersectionObserver.observe(this.interactivity.element);for(const[,e]of this.plugins)void 0!==e.startAsync?await e.startAsync():void 0!==e.start&&e.start();this.play()}}addClickHandler(e){const t=this.interactivity.element;if(!t)return;const n=(t,n,i)=>{if(this.destroyed)return;const r=this.retina.pixelRatio,o={x:n.x*r,y:n.y*r},s=this.particles.quadTree.queryCircle(o,i*r);e(t,s)},i=e=>{if(this.destroyed)return;const t=e,i={x:t.offsetX||t.clientX,y:t.offsetY||t.clientY};n(e,i,1)},r=()=>{this.destroyed||(l=!0,c=!1)},o=()=>{this.destroyed||(c=!0)},s=e=>{var t,i,r;if(!this.destroyed){if(l&&!c){const o=e;let s=o.touches[o.touches.length-1];if(!s&&(s=o.changedTouches[o.changedTouches.length-1],!s))return;const a=null===(t=this.canvas.element)||void 0===t?void 0:t.getBoundingClientRect(),l={x:s.clientX-(null!==(i=null===a||void 0===a?void 0:a.left)&&void 0!==i?i:0),y:s.clientY-(null!==(r=null===a||void 0===a?void 0:a.top)&&void 0!==r?r:0)};n(e,l,Math.max(s.radiusX,s.radiusY))}l=!1,c=!1}},a=()=>{this.destroyed||(l=!1,c=!1)};let l=!1,c=!1;t.addEventListener("click",i),t.addEventListener("touchstart",r),t.addEventListener("touchmove",o),t.addEventListener("touchend",s),t.addEventListener("touchcancel",a)}handleClickMode(e){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this.currentTheme),this.responsiveMaxWidth!=e&&(this.responsiveMaxWidth=e,!0)}async init(){this._options=new Yn(vi(this,Ai,"f"));for(const i of this.presets)this._options.load(vi(this,Ai,"f").plugins.getPreset(i));const e=vi(this,Ai,"f").plugins.getSupportedShapes();for(const i of e){const e=vi(this,Ai,"f").plugins.getShapeDrawer(i);e&&this.drawers.set(i,e)}this._options.load(this._initialSourceOptions),this._options.load(this._sourceOptions),this.actualOptions=new Yn(vi(this,Ai,"f")),this.actualOptions.load(this._options),this.retina.init(),this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this.duration=L(this.actualOptions.duration),this.lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120;const t=vi(this,Ai,"f").plugins.getAvailablePlugins(this);for(const[i,r]of t)this.plugins.set(i,r);for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init?i.init(this.actualOptions):void 0!==i.initAsync&&await i.initAsync(this.actualOptions);const n=this.actualOptions.particles.move.path;n.generator&&this.setPath(vi(this,Ai,"f").plugins.getPathGenerator(n.generator)),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)void 0!==i.particlesSetup&&i.particlesSetup()}intersectionManager(e){if(this.actualOptions.pauseOnOutsideViewport)for(const t of e)t.target===this.interactivity.element&&(t.isIntersecting?this.play():this.pause())}}Ai=new WeakMap;var _i,wi=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},xi=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};function Si(e){console.error("Error tsParticles - fetch status: "+e),console.error("Error tsParticles - File config not found")}class Ti{constructor(e){_i.set(this,void 0),wi(this,_i,e,"f")}dom(){return xi(this,_i,"f").domArray}domItem(e){const t=this.dom(),n=t[e];if(n&&!n.destroyed)return n;t.splice(e,1)}async loadOptions(e){var t,n,i;const r=null!==(t=e.tagId)&&void 0!==t?t:"tsparticles"+Math.floor(1e4*Math.random()),{options:o,index:s}=e;let a=null!==(n=e.element)&&void 0!==n?n:document.getElementById(r);a||(a=document.createElement("div"),a.id=r,null===(i=document.querySelector("body"))||void 0===i||i.append(a));const l=o instanceof Array?re(o,s):o,c=this.dom(),u=c.findIndex(e=>e.id===r);if(u>=0){const e=this.domItem(u);e&&!e.destroyed&&(e.destroy(),c.splice(u,1))}let h;if("canvas"===a.tagName.toLowerCase())h=a,h.dataset[k.generatedAttribute]="false";else{const e=a.getElementsByTagName("canvas");e.length?(h=e[0],h.dataset[k.generatedAttribute]="false"):(h=document.createElement("canvas"),h.dataset[k.generatedAttribute]="true",h.style.width="100%",h.style.height="100%",a.appendChild(h))}const d=new bi(xi(this,_i,"f"),r,l);return u>=0?c.splice(u,0,d):c.push(d),d.canvas.loadCanvas(h),await d.start(),d}async loadRemoteOptions(e){const{url:t,index:n}=e,i=t instanceof Array?re(t,n):t;if(!i)return;const r=await fetch(i);if(!r.ok)return void Si(r.status);const o=await r.json();return this.loadOptions({tagId:e.tagId,element:e.element,index:n,options:o})}load(e,t,n){const i={index:n};return"string"===typeof e?i.tagId=e:i.options=e,"number"===typeof t?i.index=null!==t&&void 0!==t?t:i.index:i.options=null!==t&&void 0!==t?t:i.options,this.loadOptions(i)}async set(e,t,n,i){const r={index:i};return"string"===typeof e?r.tagId=e:r.element=e,t instanceof HTMLElement?r.element=t:r.options=t,"number"===typeof n?r.index=n:r.options=null!==n&&void 0!==n?n:r.options,this.loadOptions(r)}async loadJSON(e,t,n){let i,r;return"number"===typeof t||void 0===t?i=e:(r=e,i=t),this.loadRemoteOptions({tagId:r,url:i,index:n})}async setJSON(e,t,n,i){let r,o,s,a;return e instanceof HTMLElement?(a=e,r=t,s=n):(o=e,a=t,r=n,s=i),this.loadRemoteOptions({tagId:o,url:r,index:s,element:a})}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const n of t)n.addClickHandler(e)}}_i=new WeakMap;var Ei,Mi=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};class Ci{constructor(e){Ei.set(this,void 0),Mi(this,Ei,e,"f"),this.plugins=[],this.interactorsInitializers=new Map,this.moversInitializers=new Map,this.updatersInitializers=new Map,this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}getPlugin(e){return this.plugins.find(t=>t.id===e)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}getAvailablePlugins(e){const t=new Map;for(const n of this.plugins)n.needsPlugin(e.actualOptions)&&t.set(n.id,n.getPlugin(e));return t}loadOptions(e,t){for(const n of this.plugins)n.loadOptions(e,t)}getPreset(e){return this.presets.get(e)}addPreset(e,t,n=!1){!n&&this.getPreset(e)||this.presets.set(e,t)}getShapeDrawer(e){return this.drawers.get(e)}addShapeDrawer(e,t){this.getShapeDrawer(e)||this.drawers.set(e,t)}getSupportedShapes(){return this.drawers.keys()}getPathGenerator(e){return this.pathGenerators.get(e)}addPathGenerator(e,t){this.getPathGenerator(e)||this.pathGenerators.set(e,t)}getInteractors(e,t=!1){let n=this.interactors.get(e);return n&&!t||(n=[...this.interactorsInitializers.values()].map(t=>t(e)),this.interactors.set(e,n)),n}addInteractor(e,t){this.interactorsInitializers.set(e,t)}getUpdaters(e,t=!1){let n=this.updaters.get(e);return n&&!t||(n=[...this.updatersInitializers.values()].map(t=>t(e)),this.updaters.set(e,n)),n}addParticleUpdater(e,t){this.updatersInitializers.set(e,t)}getMovers(e,t=!1){let n=this.movers.get(e);return n&&!t||(n=[...this.moversInitializers.values()].map(t=>t(e)),this.movers.set(e,n)),n}addParticleMover(e,t){this.moversInitializers.set(e,t)}}Ei=new WeakMap;var Oi,ki,Pi=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Ii=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class Ri{constructor(){Oi.set(this,void 0),ki.set(this,void 0),Pi(this,Oi,!1,"f"),this.domArray=[],Pi(this,ki,new Ti(this),"f"),this.plugins=new Ci(this)}init(){Ii(this,Oi,"f")||Pi(this,Oi,!0,"f")}async loadFromArray(e,t,n){return Ii(this,ki,"f").load(e,t,n)}async load(e,t){return Ii(this,ki,"f").load(e,t)}async set(e,t,n){return Ii(this,ki,"f").set(e,t,n)}async loadJSON(e,t,n){return Ii(this,ki,"f").loadJSON(e,t,n)}async setJSON(e,t,n,i){return Ii(this,ki,"f").setJSON(e,t,n,i)}setOnClickHandler(e){Ii(this,ki,"f").setOnClickHandler(e)}dom(){return Ii(this,ki,"f").dom()}domItem(e){return Ii(this,ki,"f").domItem(e)}async refresh(){for(const e of this.dom())await e.refresh()}async addShape(e,t,n,i,r){let o;o="function"===typeof t?{afterEffect:i,destroy:r,draw:t,init:n}:t,this.plugins.addShapeDrawer(e,o),await this.refresh()}async addPreset(e,t,n=!1){this.plugins.addPreset(e,t,n),await this.refresh()}async addPlugin(e){this.plugins.addPlugin(e),await this.refresh()}async addPathGenerator(e,t){this.plugins.addPathGenerator(e,t),await this.refresh()}async addInteractor(e,t){this.plugins.addInteractor(e,t),await this.refresh()}async addMover(e,t){this.plugins.addParticleMover(e,t),await this.refresh()}async addParticleUpdater(e,t){this.plugins.addParticleUpdater(e,t),await this.refresh()}}Oi=new WeakMap,ki=new WeakMap;const Di=e=>{const t=(t,n)=>e.load(t,n);t.load=(t,n,i)=>{e.loadJSON(t,n).then(e=>{e&&i(e)}).catch(()=>{i(void 0)})},t.setOnClickHandler=t=>{e.setOnClickHandler(t)};const n=e.dom();return{particlesJS:t,pJSDom:n}};class Li{constructor(){this.radius=0,this.mass=0}load(e){e&&(void 0!==e.mass&&(this.mass=e.mass),void 0!==e.radius&&(this.radius=e.radius))}}class Ni extends Wt{constructor(){super(),this.density=5,this.random.minimumValue=1,this.value=50,this.limit=new Li}load(e){e&&(super.load(e),void 0!==e.density&&(this.density=e.density),"number"===typeof e.limit?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Bi{constructor(){this.color=new tt,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Ni}load(e){void 0!==e&&(void 0!==e.color&&(this.color=tt.create(this.color,e.color)),void 0!==e.draggable&&(this.draggable=e.draggable),this.name=e.name,void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=F(e.position.x)),void 0!==e.position.y&&(this.position.y=F(e.position.y))),void 0!==e.size&&this.size.load(e.size),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.orbits&&(this.orbits=e.orbits))}}class Fi{constructor(e,t,n,i){var r,o,s;this.absorbers=e,this.container=t,this.initialPosition=i?P.create(i.x,i.y):void 0,n instanceof Bi?this.options=n:(this.options=new Bi,this.options.load(n)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=L(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const a=this.options.size.limit;this.limit={radius:a.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:a.mass},this.color=null!==(r=ye(this.options.color))&&void 0!==r?r:{b:0,g:0,r:0},this.position=null!==(s=null===(o=this.initialPosition)||void 0===o?void 0:o.copy())&&void 0!==s?s:this.calcPosition()}attract(e){const t=this.container,n=this.options;if(n.draggable){const e=t.interactivity.mouse;if(e.clicking&&e.downPosition){const t=z(this.position,e.downPosition);t<=this.size&&(this.dragging=!0)}else this.dragging=!1;this.dragging&&e.position&&(this.position.x=e.position.x,this.position.y=e.position.y)}const i=e.getPosition(),{dx:r,dy:o,distance:s}=U(this.position,i),a=P.create(r,o);if(a.length=this.mass/Math.pow(s,2)*t.retina.reduceFactor,s<this.size+e.getRadius()){const i=.033*e.getRadius()*t.retina.pixelRatio;this.size>e.getRadius()&&s<this.size-e.getRadius()||void 0!==e.absorberOrbit&&e.absorberOrbit.length<0?n.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,a)):(n.destroy&&(e.size.value-=i),this.updateParticlePosition(e,a)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=i),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=i*this.options.size.density*t.retina.reduceFactor)}else this.updateParticlePosition(e,a)}resize(){const e=this.initialPosition;this.position=e&&oe(e,this.container.canvas.size)?e:this.calcPosition()}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,2*Math.PI,!1),e.closePath(),e.fillStyle=Ce(this.color,this.opacity),e.fill()}calcPosition(){const e=X({size:this.container.canvas.size,position:this.options.position});return P.create(e.x,e.y)}updateParticlePosition(e,t){var n;if(e.destroyed)return;const i=this.container,r=i.canvas.size;if(e.needsNewPosition){const t=$({size:r});e.position.setTo(t),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(void 0===e.absorberOrbit&&(e.absorberOrbit=P.create(0,0),e.absorberOrbit.length=z(e.getPosition(),this.position),e.absorberOrbit.angle=Math.random()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const t=Math.min(r.width,r.height);e.absorberOrbit.length=t*(.2*Math.random()-.1+1)}void 0===e.absorberOrbitDirection&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const o=e.absorberOrbit.length,s=e.absorberOrbit.angle,a=e.absorberOrbitDirection;e.velocity.setTo(P.origin);const l={x:"clockwise"===a?Math.cos:Math.sin,y:"clockwise"===a?Math.sin:Math.cos};e.position.x=this.position.x+o*l.x(s),e.position.y=this.position.y+o*l.y(s),e.absorberOrbit.length-=t.length,e.absorberOrbit.angle+=(null!==(n=e.retina.moveSpeed)&&void 0!==n?n:0)*i.retina.pixelRatio/100*i.retina.reduceFactor}else{const n=P.origin;n.length=t.length,n.angle=t.angle,e.velocity.addTo(n)}}}class ji{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[];const t=e;t.getAbsorber=e=>void 0===e||"number"===typeof e?this.array[e||0]:this.array.find(t=>t.name===e),t.addAbsorber=(e,t)=>this.addAbsorber(e,t)}init(e){var t,n;if(!e)return;e.absorbers&&(e.absorbers instanceof Array?this.absorbers=e.absorbers.map(e=>{const t=new Bi;return t.load(e),t}):(this.absorbers instanceof Array&&(this.absorbers=new Bi),this.absorbers.load(e.absorbers)));const i=null===(n=null===(t=e.interactivity)||void 0===t?void 0:t.modes)||void 0===n?void 0:n.absorbers;if(i&&(i instanceof Array?this.interactivityAbsorbers=i.map(e=>{const t=new Bi;return t.load(e),t}):(this.interactivityAbsorbers instanceof Array&&(this.interactivityAbsorbers=new Bi),this.interactivityAbsorbers.load(i))),this.absorbers instanceof Array)for(const r of this.absorbers)this.addAbsorber(r);else this.addAbsorber(this.absorbers)}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}draw(e){for(const t of this.array)e.save(),t.draw(e),e.restore()}stop(){this.array=[]}resize(){for(const e of this.array)e.resize()}handleClickMode(e){const t=this.absorbers,n=this.interactivityAbsorbers;if("absorber"===e){let e;n instanceof Array?n.length>0&&(e=re(n)):e=n;const i=null!==e&&void 0!==e?e:t instanceof Array?re(t):t,r=this.container.interactivity.mouse.clickPosition;this.addAbsorber(i,r)}}addAbsorber(e,t){const n=new Fi(this,this.container,e,t);return this.array.push(n),n}removeAbsorber(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}}class Ui{constructor(){this.id="absorbers"}getPlugin(e){return new ji(e)}needsPlugin(e){var t,n,i;if(void 0===e)return!1;const r=e.absorbers;return r instanceof Array?!!r.length:!!r||!(!(null===(i=null===(n=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===n?void 0:n.onClick)||void 0===i?void 0:i.mode)||!te("absorber",e.interactivity.events.onClick.mode))}loadOptions(e,t){var n,i;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;const r=e;if(null===t||void 0===t?void 0:t.absorbers)if((null===t||void 0===t?void 0:t.absorbers)instanceof Array)r.absorbers=null===t||void 0===t?void 0:t.absorbers.map(e=>{const t=new Bi;return t.load(e),t});else{let e=r.absorbers;void 0===(null===e||void 0===e?void 0:e.load)&&(r.absorbers=e=new Bi),e.load(null===t||void 0===t?void 0:t.absorbers)}const o=null===(i=null===(n=null===t||void 0===t?void 0:t.interactivity)||void 0===n?void 0:n.modes)||void 0===i?void 0:i.absorbers;if(o)if(o instanceof Array)r.interactivity.modes.absorbers=o.map(e=>{const t=new Bi;return t.load(e),t});else{let e=r.interactivity.modes.absorbers;void 0===(null===e||void 0===e?void 0:e.load)&&(r.interactivity.modes.absorbers=e=new Bi),e.load(o)}}}async function zi(e){const t=new Ui;await e.addPlugin(t)}class qi{randomPosition(e,t,n){const i=(e,t)=>{const n=Math.random()/4,i=Math.atan(t/e*Math.tan(2*Math.PI*n)),r=Math.random();return r<.25?i:r<.5?Math.PI-i:r<.75?Math.PI+i:-i},r=(e,t,n)=>e*t/Math.sqrt((t*Math.cos(n))**2+(e*Math.sin(n))**2),[o,s]=[t.width/2,t.height/2],a=i(o,s),l=r(o,s,a),c=n?l*Math.sqrt(Math.random()):l;return{x:e.x+c*Math.cos(a),y:e.y+c*Math.sin(a)}}}class Vi{constructor(){this.wait=!1}load(e){void 0!==e&&(void 0!==e.count&&(this.count=e.count),void 0!==e.delay&&(this.delay=e.delay),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.wait&&(this.wait=e.wait))}}class Hi{constructor(){this.quantity=1,this.delay=.1}load(e){void 0!==e&&(void 0!==e.quantity&&(this.quantity=F(e.quantity)),void 0!==e.delay&&(this.delay=F(e.delay)))}}class Gi{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){void 0!==e&&(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.height&&(this.height=e.height),void 0!==e.width&&(this.width=e.width))}}class Wi{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new Vi,this.rate=new Hi,this.shape="square",this.startCount=0}load(e){void 0!==e&&(void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.size&&(void 0===this.size&&(this.size=new Gi),this.size.load(e.size)),void 0!==e.direction&&(this.direction=e.direction),this.domId=e.domId,void 0!==e.fill&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,void 0!==e.particles&&(this.particles=le({},e.particles)),this.rate.load(e.rate),void 0!==e.shape&&(this.shape=e.shape),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=F(e.position.x)),void 0!==e.position.y&&(this.position.y=F(e.position.y))),void 0!==e.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new Ft),this.spawnColor.load(e.spawnColor)),void 0!==e.startCount&&(this.startCount=e.startCount))}}var $i,Xi,Yi,Ki=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},Qi=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class Ji{constructor(e,t,n,i,r){var o,s,a,l,c,u,h,d;this.emitters=t,this.container=n,$i.set(this,void 0),Xi.set(this,void 0),Yi.set(this,void 0),Ki(this,Yi,e,"f"),this.currentDuration=0,this.currentEmitDelay=0,this.currentSpawnDelay=0,this.initialPosition=r,i instanceof Wi?this.options=i:(this.options=new Wi,this.options.load(i)),this.spawnDelay=1e3*(null!==(o=this.options.life.delay)&&void 0!==o?o:0)/this.container.retina.reduceFactor,this.position=null!==(s=this.initialPosition)&&void 0!==s?s:this.calcPosition(),this.name=this.options.name,this.shape=null===(a=Qi(this,Yi,"f").emitterShapeManager)||void 0===a?void 0:a.getShape(this.options.shape),this.fill=this.options.fill,Ki(this,$i,!this.options.life.wait,"f"),Ki(this,Xi,!1,"f");let f=le({},this.options.particles);null!==f&&void 0!==f||(f={}),null!==(l=f.move)&&void 0!==l||(f.move={}),null!==(c=(d=f.move).direction)&&void 0!==c||(d.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=ve(this.options.spawnColor)),this.paused=!this.options.autoPlay,this.particlesOptions=f,this.size=null!==(u=this.options.size)&&void 0!==u?u:(()=>{const e=new Gi;return e.load({height:0,mode:"percent",width:0}),e})(),this.lifeCount=null!==(h=this.options.life.count)&&void 0!==h?h:-1,this.immortal=this.lifeCount<=0,this.play()}externalPlay(){this.paused=!1,this.play()}externalPause(){this.paused=!0,this.pause()}play(){var e;if(!this.paused&&this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal||!this.options.life.count)&&(Qi(this,$i,"f")||this.currentSpawnDelay>=(null!==(e=this.spawnDelay)&&void 0!==e?e:0))){if(void 0===this.emitDelay){const e=L(this.options.rate.delay);this.emitDelay=1e3*e/this.container.retina.reduceFactor}(this.lifeCount>0||this.immortal)&&this.prepareToDie()}}pause(){this.paused||delete this.emitDelay}resize(){const e=this.initialPosition;this.position=e&&oe(e,this.container.canvas.size)?e:this.calcPosition()}update(e){var t,n,i;this.paused||(Qi(this,$i,"f")&&(Ki(this,$i,!1,"f"),this.currentSpawnDelay=null!==(t=this.spawnDelay)&&void 0!==t?t:0,this.currentEmitDelay=null!==(n=this.emitDelay)&&void 0!==n?n:0),Qi(this,Xi,"f")||(Ki(this,Xi,!0,"f"),this.emitParticles(this.options.startCount)),void 0!==this.duration&&(this.currentDuration+=e.value,this.currentDuration>=this.duration&&(this.pause(),void 0!==this.spawnDelay&&delete this.spawnDelay,this.immortal||this.lifeCount--,this.lifeCount>0||this.immortal?(this.position=this.calcPosition(),this.spawnDelay=1e3*(null!==(i=this.options.life.delay)&&void 0!==i?i:0)/this.container.retina.reduceFactor):this.destroy(),this.currentDuration-=this.duration,delete this.duration)),void 0!==this.spawnDelay&&(this.currentSpawnDelay+=e.value,this.currentSpawnDelay>=this.spawnDelay&&(this.play(),this.currentSpawnDelay-=this.currentSpawnDelay,delete this.spawnDelay)),void 0!==this.emitDelay&&(this.currentEmitDelay+=e.value,this.currentEmitDelay>=this.emitDelay&&(this.emit(),this.currentEmitDelay-=this.emitDelay)))}getPosition(){if(this.options.domId){const e=this.container,t=document.getElementById(this.options.domId);if(t){const n=t.getBoundingClientRect();return{x:(n.x+n.width/2)*e.retina.pixelRatio,y:(n.y+n.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const n=t.getBoundingClientRect();return{width:n.width*e.retina.pixelRatio,height:n.height*e.retina.pixelRatio}}}return{width:"percent"===this.size.mode?e.canvas.size.width*this.size.width/100:this.size.width,height:"percent"===this.size.mode?e.canvas.size.height*this.size.height/100:this.size.height}}prepareToDie(){var e;if(this.paused)return;const t=null===(e=this.options.life)||void 0===e?void 0:e.duration;this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal)&&void 0!==t&&t>0&&(this.duration=1e3*t)}destroy(){this.emitters.removeEmitter(this)}calcPosition(){return X({size:this.container.canvas.size,position:this.options.position})}emit(){if(this.paused)return;const e=L(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var t,n,i;const r=this.getPosition(),o=this.getSize();for(let s=0;s<e;s++){const e=le({},this.particlesOptions);if(this.spawnColor){const n=null===(t=this.options.spawnColor)||void 0===t?void 0:t.animation;n&&(this.spawnColor.h=this.setColorAnimation(n.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(n.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(n.l,this.spawnColor.l,100)),e.color?e.color.value=this.spawnColor:e.color={value:this.spawnColor}}if(!r)return;const s=null!==(i=null===(n=this.shape)||void 0===n?void 0:n.randomPosition(r,o,this.fill))&&void 0!==i?i:r;this.container.particles.addParticle(s,e)}}setColorAnimation(e,t,n){var i;const r=this.container;if(!e.enable)return t;const o=D(e.offset),s=L(this.options.rate.delay),a=1e3*s/r.retina.reduceFactor,l=L(null!==(i=e.speed)&&void 0!==i?i:0);return(t+l*r.fpsLimit/a+3.6*o)%n}}$i=new WeakMap,Xi=new WeakMap,Yi=new WeakMap;var Zi,er=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},tr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class nr{constructor(e,t){this.container=t,Zi.set(this,void 0),er(this,Zi,e,"f"),this.array=[],this.emitters=[],this.interactivityEmitters=[];const n=t;n.getEmitter=e=>void 0===e||"number"===typeof e?this.array[e||0]:this.array.find(t=>t.name===e),n.addEmitter=(e,t)=>this.addEmitter(e,t),n.removeEmitter=e=>{const t=n.getEmitter(e);t&&this.removeEmitter(t)},n.playEmitter=e=>{const t=n.getEmitter(e);t&&t.externalPlay()},n.pauseEmitter=e=>{const t=n.getEmitter(e);t&&t.externalPause()}}init(e){var t,n;if(!e)return;e.emitters&&(e.emitters instanceof Array?this.emitters=e.emitters.map(e=>{const t=new Wi;return t.load(e),t}):(this.emitters instanceof Array&&(this.emitters=new Wi),this.emitters.load(e.emitters)));const i=null===(n=null===(t=e.interactivity)||void 0===t?void 0:t.modes)||void 0===n?void 0:n.emitters;if(i&&(i instanceof Array?this.interactivityEmitters=i.map(e=>{const t=new Wi;return t.load(e),t}):(this.interactivityEmitters instanceof Array&&(this.interactivityEmitters=new Wi),this.interactivityEmitters.load(i))),this.emitters instanceof Array)for(const r of this.emitters)this.addEmitter(r);else this.addEmitter(this.emitters)}play(){for(const e of this.array)e.play()}pause(){for(const e of this.array)e.pause()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}handleClickMode(e){const t=this.emitters,n=this.interactivityEmitters;if("emitter"===e){let e;n instanceof Array?n.length>0&&(e=re(n)):e=n;const i=null!==e&&void 0!==e?e:t instanceof Array?re(t):t,r=this.container.interactivity.mouse.clickPosition;this.addEmitter(le({},i),r)}}resize(){for(const e of this.array)e.resize()}addEmitter(e,t){const n=new Wi;n.load(e);const i=new Ji(tr(this,Zi,"f"),this,this.container,n,t);return this.array.push(i),i}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}}Zi=new WeakMap;var ir,rr=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};const or=new Map;class sr{constructor(e){ir.set(this,void 0),rr(this,ir,e,"f")}addShape(e,t){this.getShape(e)||or.set(e,t)}getShape(e){return or.get(e)}getSupportedShapes(){return or.keys()}}function ar(e,t){return e+t*(Math.random()-.5)}ir=new WeakMap;class lr{randomPosition(e,t,n){if(n)return{x:ar(e.x,t.width),y:ar(e.y,t.height)};{const n=t.width/2,i=t.height/2,r=Math.floor(4*Math.random()),o=2*(Math.random()-.5);switch(r){case 0:return{x:e.x+o*n,y:e.y-i};case 1:return{x:e.x-n,y:e.y+o*i};case 2:return{x:e.x+o*n,y:e.y+i};case 3:default:return{x:e.x+n,y:e.y+o*i}}}}}var cr,ur=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},hr=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class dr{constructor(e){cr.set(this,void 0),ur(this,cr,e,"f"),this.id="emitters"}getPlugin(e){return new nr(hr(this,cr,"f"),e)}needsPlugin(e){var t,n,i;if(void 0===e)return!1;const r=e.emitters;return r instanceof Array&&!!r.length||void 0!==r||!!(null===(i=null===(n=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===n?void 0:n.onClick)||void 0===i?void 0:i.mode)&&te("emitter",e.interactivity.events.onClick.mode)}loadOptions(e,t){var n,i;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;const r=e;if(null===t||void 0===t?void 0:t.emitters)if((null===t||void 0===t?void 0:t.emitters)instanceof Array)r.emitters=null===t||void 0===t?void 0:t.emitters.map(e=>{const t=new Wi;return t.load(e),t});else{let e=r.emitters;void 0===(null===e||void 0===e?void 0:e.load)&&(r.emitters=e=new Wi),e.load(null===t||void 0===t?void 0:t.emitters)}const o=null===(i=null===(n=null===t||void 0===t?void 0:t.interactivity)||void 0===n?void 0:n.modes)||void 0===i?void 0:i.emitters;if(o)if(o instanceof Array)r.interactivity.modes.emitters=o.map(e=>{const t=new Wi;return t.load(e),t});else{let e=r.interactivity.modes.emitters;void 0===(null===e||void 0===e?void 0:e.load)&&(r.interactivity.modes.emitters=e=new Wi),e.load(o)}}}async function fr(e){e.emitterShapeManager||(e.emitterShapeManager=new sr(e)),e.addEmitterShape||(e.addEmitterShape=(t,n)=>{var i;null===(i=e.emitterShapeManager)||void 0===i||i.addShape(t,n)});const t=new dr(e);await e.addPlugin(t),e.addEmitterShape("circle",new qi),e.addEmitterShape("square",new lr)}cr=new WeakMap;class pr{constructor(e){this.container=e,this.type=0}}class mr extends pr{constructor(e){super(e),this.delay=0}async interact(e){var t,n,i,r;if(!this.container.retina.reduceFactor)return;const o=this.container,s=o.actualOptions,a=s.interactivity.modes.trail,l=1e3*a.delay/this.container.retina.reduceFactor;if(this.delay<l&&(this.delay+=e.value),this.delay<l)return;let c=!0;a.pauseOnStop&&(o.interactivity.mouse.position===this.lastPosition||(null===(t=o.interactivity.mouse.position)||void 0===t?void 0:t.x)===(null===(n=this.lastPosition)||void 0===n?void 0:n.x)&&(null===(i=o.interactivity.mouse.position)||void 0===i?void 0:i.y)===(null===(r=this.lastPosition)||void 0===r?void 0:r.y))&&(c=!1),o.interactivity.mouse.position?this.lastPosition={x:o.interactivity.mouse.position.x,y:o.interactivity.mouse.position.y}:delete this.lastPosition,c&&o.particles.push(a.quantity,o.interactivity.mouse,a.particles),this.delay-=l}isEnabled(){const e=this.container,t=e.actualOptions,n=e.interactivity.mouse,i=t.interactivity.events;return n.clicking&&n.inside&&!!n.position&&te("trail",i.onClick.mode)||n.inside&&!!n.position&&te("trail",i.onHover.mode)}reset(){}}async function gr(e){await e.addInteractor("externalTrail",e=>new mr(e))}class Ar{constructor(){this.color=new tt,this.width=.5,this.opacity=1}load(e){var t;e&&(this.color=tt.create(this.color,e.color),"string"===typeof this.color.value&&(this.opacity=null!==(t=_e(this.color.value))&&void 0!==t?t:this.opacity),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.width&&(this.width=e.width))}}class yr{constructor(){this.enable=!1,this.stroke=new Ar}get lineWidth(){return this.stroke.width}set lineWidth(e){this.stroke.width=e}get lineColor(){return this.stroke.color}set lineColor(e){this.stroke.color=tt.create(this.stroke.color,e)}load(e){var t;if(!e)return;void 0!==e.enable&&(this.enable=e.enable);const n=null!==(t=e.stroke)&&void 0!==t?t:{color:e.lineColor,width:e.lineWidth};this.stroke.load(n)}}class vr{constructor(){this.arrangement="one-per-point"}load(e){e&&void 0!==e.arrangement&&(this.arrangement=e.arrangement)}}class br{constructor(){this.path=[],this.size={height:0,width:0}}load(e){e&&(void 0!==e.path&&(this.path=e.path),void 0!==e.size&&(void 0!==e.size.width&&(this.size.width=e.size.width),void 0!==e.size.height&&(this.size.height=e.size.height)))}}class _r{constructor(){this.radius=10,this.type="path"}load(e){e&&(void 0!==e.radius&&(this.radius=e.radius),void 0!==e.type&&(this.type=e.type))}}class wr{constructor(){this.draw=new yr,this.enable=!1,this.inline=new vr,this.move=new _r,this.scale=1,this.type="none"}get inlineArrangement(){return this.inline.arrangement}set inlineArrangement(e){this.inline.arrangement=e}load(e){var t;if(!e)return;this.draw.load(e.draw);const n=null!==(t=e.inline)&&void 0!==t?t:{arrangement:e.inlineArrangement};void 0!==n&&this.inline.load(n),this.move.load(e.move),void 0!==e.scale&&(this.scale=e.scale),void 0!==e.type&&(this.type=e.type),void 0!==e.enable?this.enable=e.enable:this.enable="none"!==this.type,void 0!==e.url&&(this.url=e.url),void 0!==e.data&&("string"===typeof e.data?this.data=e.data:(this.data=new br,this.data.load(e.data))),void 0!==e.position&&(this.position=le({},e.position))}}function xr(e,t,n){const i=ye(n.color);if(i){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(const n of t)e.lineTo(n.x,n.y);e.closePath(),e.strokeStyle=Ce(i),e.lineWidth=n.width,e.stroke()}}function Sr(e,t,n,i){e.translate(i.x,i.y);const r=ye(n.color);r&&(e.strokeStyle=Ce(r,n.opacity),e.lineWidth=n.width,e.stroke(t))}function Tr(e,t,n){var i;const r=[];for(const o of e){const e=o.element.pathSegList,s=null!==(i=null===e||void 0===e?void 0:e.numberOfItems)&&void 0!==i?i:0,a={x:0,y:0};for(let i=0;i<s;i++){const o=null===e||void 0===e?void 0:e.getItem(i),s=window.SVGPathSeg;switch(null===o||void 0===o?void 0:o.pathSegType){case s.PATHSEG_MOVETO_ABS:case s.PATHSEG_LINETO_ABS:case s.PATHSEG_CURVETO_CUBIC_ABS:case s.PATHSEG_CURVETO_QUADRATIC_ABS:case s.PATHSEG_ARC_ABS:case s.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case s.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const e=o;a.x=e.x,a.y=e.y;break}case s.PATHSEG_LINETO_HORIZONTAL_ABS:a.x=o.x;break;case s.PATHSEG_LINETO_VERTICAL_ABS:a.y=o.y;break;case s.PATHSEG_LINETO_REL:case s.PATHSEG_MOVETO_REL:case s.PATHSEG_CURVETO_CUBIC_REL:case s.PATHSEG_CURVETO_QUADRATIC_REL:case s.PATHSEG_ARC_REL:case s.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case s.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const e=o;a.x+=e.x,a.y+=e.y;break}case s.PATHSEG_LINETO_HORIZONTAL_REL:a.x+=o.x;break;case s.PATHSEG_LINETO_VERTICAL_REL:a.y+=o.y;break;case s.PATHSEG_UNKNOWN:case s.PATHSEG_CLOSEPATH:continue}r.push({x:a.x*t+n.x,y:a.y*t+n.y})}}return r}function Er(e,t,n){const{dx:i,dy:r}=U(n,e),{dx:o,dy:s}=U(t,e),a=(i*o+r*s)/(o**2+s**2),l={x:e.x+o*a,y:e.x+s*a,isOnSegment:a>=0&&a<=1};return a<0?(l.x=e.x,l.y=e.y):a>1&&(l.x=t.x,l.y=t.y),l}function Mr(e,t,n){const{dx:i,dy:r}=U(e,t),o=Math.atan2(r,i),s=P.create(Math.sin(o),-Math.cos(o)),a=2*(n.x*s.x+n.y*s.y);s.multTo(a),n.subFrom(s)}class Cr{constructor(e){this.container=e,this.dimension={height:0,width:0},this.path2DSupported=!!window.Path2D,this.options=new wr,this.polygonMaskMoveRadius=this.options.move.radius*e.retina.pixelRatio}async initAsync(e){this.options.load(null===e||void 0===e?void 0:e.polygon);const t=this.options;this.polygonMaskMoveRadius=t.move.radius*this.container.retina.pixelRatio,t.enable&&await this.initRawData()}resize(){const e=this.container,t=this.options;t.enable&&"none"!==t.type&&(this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=window.setTimeout(async()=>{await this.initRawData(!0),await e.particles.redraw()},250))}stop(){delete this.raw,delete this.paths}particlesInitialization(){const e=this.options;return!(!e.enable||"inline"!==e.type||"one-per-point"!==e.inline.arrangement&&"per-point"!==e.inline.arrangement)&&(this.drawPoints(),!0)}particlePosition(e){var t,n;const i=this.options;if(i.enable&&(null!==(n=null===(t=this.raw)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0)return le({},e||this.randomPoint())}particleBounce(e,t,n){return this.polygonBounce(e,t,n)}clickPositionValid(e){const t=this.options;return t.enable&&"none"!==t.type&&"inline"!==t.type&&this.checkInsidePolygon(e)}draw(e){var t;if(!(null===(t=this.paths)||void 0===t?void 0:t.length))return;const n=this.options,i=n.draw;if(!n.enable||!i.enable)return;const r=this.raw;for(const o of this.paths){const t=o.path2d,n=this.path2DSupported;e&&(n&&t&&this.offset?Sr(e,t,i.stroke,this.offset):r&&xr(e,r,i.stroke))}}polygonBounce(e,t,n){const i=this.options;if(!this.raw||!i.enable||"top"!==n)return!1;if("inside"===i.type||"outside"===i.type){let t,n,i;const r=e.getPosition(),o=e.getRadius();for(let s=0,a=this.raw.length-1;s<this.raw.length;a=s++){const l=this.raw[s],c=this.raw[a];t=Er(l,c,r);const u=U(r,t);if([n,i]=[u.dx,u.dy],u.distance<o)return Mr(l,c,e.velocity),!0}if(t&&void 0!==n&&void 0!==i&&!this.checkInsidePolygon(r)){const n={x:1,y:1};return e.position.x>=t.x&&(n.x=-1),e.position.y>=t.y&&(n.y=-1),e.position.x=t.x+2*o*n.x,e.position.y=t.y+2*o*n.y,e.velocity.mult(-1),!0}}else if("inline"===i.type&&e.initialPosition){const t=z(e.initialPosition,e.getPosition());if(t>this.polygonMaskMoveRadius)return e.velocity.x=e.velocity.y/2-e.velocity.x,e.velocity.y=e.velocity.x/2-e.velocity.y,!0}return!1}checkInsidePolygon(e){var t,n;const i=this.container,r=this.options;if(!r.enable||"none"===r.type||"inline"===r.type)return!0;if(!this.raw)throw new Error(k.noPolygonFound);const o=i.canvas.size,s=null!==(t=null===e||void 0===e?void 0:e.x)&&void 0!==t?t:Math.random()*o.width,a=null!==(n=null===e||void 0===e?void 0:e.y)&&void 0!==n?n:Math.random()*o.height;let l=!1;for(let c=0,u=this.raw.length-1;c<this.raw.length;u=c++){const e=this.raw[c],t=this.raw[u],n=e.y>a!==t.y>a&&s<(t.x-e.x)*(a-e.y)/(t.y-e.y)+e.x;n&&(l=!l)}return"inside"===r.type?l:"outside"===r.type&&!l}parseSvgPath(e,t){var n,i,r;const o=null!==t&&void 0!==t&&t;if(void 0!==this.paths&&!o)return this.raw;const s=this.container,a=this.options,l=new DOMParser,c=l.parseFromString(e,"image/svg+xml"),u=c.getElementsByTagName("svg")[0];let h=u.getElementsByTagName("path");h.length||(h=c.getElementsByTagName("path")),this.paths=[];for(let m=0;m<h.length;m++){const e=h.item(m);e&&this.paths.push({element:e,length:e.getTotalLength()})}const d=s.retina.pixelRatio,f=a.scale/d;this.dimension.width=parseFloat(null!==(n=u.getAttribute("width"))&&void 0!==n?n:"0")*f,this.dimension.height=parseFloat(null!==(i=u.getAttribute("height"))&&void 0!==i?i:"0")*f;const p=null!==(r=a.position)&&void 0!==r?r:{x:50,y:50};return this.offset={x:s.canvas.size.width*p.x/(100*d)-this.dimension.width/2,y:s.canvas.size.height*p.y/(100*d)-this.dimension.height/2},Tr(this.paths,f,this.offset)}async downloadSvgPath(e,t){const n=this.options,i=e||n.url,r=null!==t&&void 0!==t&&t;if(!i||void 0!==this.paths&&!r)return this.raw;const o=await fetch(i);if(!o.ok)throw new Error("tsParticles Error - Error occurred during polygon mask download");return this.parseSvgPath(await o.text(),t)}drawPoints(){if(this.raw)for(const e of this.raw)this.container.particles.addParticle({x:e.x,y:e.y})}randomPoint(){const e=this.container,t=this.options;let n;if("inline"===t.type)switch(t.inline.arrangement){case"random-point":n=this.getRandomPoint();break;case"random-length":n=this.getRandomPointByLength();break;case"equidistant":n=this.getEquidistantPointByIndex(e.particles.count);break;case"one-per-point":case"per-point":default:n=this.getPointByIndex(e.particles.count)}else n={x:Math.random()*e.canvas.size.width,y:Math.random()*e.canvas.size.height};return this.checkInsidePolygon(n)?n:this.randomPoint()}getRandomPoint(){if(!this.raw||!this.raw.length)throw new Error(k.noPolygonDataLoaded);const e=re(this.raw);return{x:e.x,y:e.y}}getRandomPointByLength(){var e,t,n;const i=this.options;if(!this.raw||!this.raw.length||!(null===(e=this.paths)||void 0===e?void 0:e.length))throw new Error(k.noPolygonDataLoaded);const r=re(this.paths),o=Math.floor(Math.random()*r.length)+1,s=r.element.getPointAtLength(o);return{x:s.x*i.scale+((null===(t=this.offset)||void 0===t?void 0:t.x)||0),y:s.y*i.scale+((null===(n=this.offset)||void 0===n?void 0:n.y)||0)}}getEquidistantPointByIndex(e){var t,n,i,r,o,s,a;const l=this.container.actualOptions,c=this.options;if(!this.raw||!this.raw.length||!(null===(t=this.paths)||void 0===t?void 0:t.length))throw new Error(k.noPolygonDataLoaded);let u,h=0;const d=this.paths.reduce((e,t)=>e+t.length,0),f=d/l.particles.number.value;for(const p of this.paths){const t=f*e-h;if(t<=p.length){u=p.element.getPointAtLength(t);break}h+=p.length}return{x:(null!==(n=null===u||void 0===u?void 0:u.x)&&void 0!==n?n:0)*c.scale+(null!==(r=null===(i=this.offset)||void 0===i?void 0:i.x)&&void 0!==r?r:0),y:(null!==(o=null===u||void 0===u?void 0:u.y)&&void 0!==o?o:0)*c.scale+(null!==(a=null===(s=this.offset)||void 0===s?void 0:s.y)&&void 0!==a?a:0)}}getPointByIndex(e){if(!this.raw||!this.raw.length)throw new Error(k.noPolygonDataLoaded);const t=this.raw[e%this.raw.length];return{x:t.x,y:t.y}}createPath2D(){var e,t;const n=this.options;if(this.path2DSupported&&(null===(e=this.paths)||void 0===e?void 0:e.length))for(const i of this.paths){const e=null===(t=i.element)||void 0===t?void 0:t.getAttribute("d");if(e){const t=new Path2D(e),r=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),o=new Path2D,s=r.scale(n.scale);o.addPath?(o.addPath(t,s),i.path2d=o):delete i.path2d}else delete i.path2d;!i.path2d&&this.raw&&(i.path2d=new Path2D,i.path2d.moveTo(this.raw[0].x,this.raw[0].y),this.raw.forEach((e,t)=>{var n;t>0&&(null===(n=i.path2d)||void 0===n||n.lineTo(e.x,e.y))}),i.path2d.closePath())}}async initRawData(e){const t=this.options;if(t.url)this.raw=await this.downloadSvgPath(t.url,e);else if(t.data){const n=t.data;let i;if("string"!==typeof n){const e=n.path instanceof Array?n.path.map(e=>`<path d="${e}" />`).join(""):`<path d="${n.path}" />`,t='xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"';i=`<svg ${t} width="${n.size.width}" height="${n.size.height}">${e}</svg>`}else i=n;this.raw=this.parseSvgPath(i,e)}this.createPath2D()}}class Or{constructor(){this.id="polygonMask"}getPlugin(e){return new Cr(e)}needsPlugin(e){var t,n,i;return null!==(n=null===(t=null===e||void 0===e?void 0:e.polygon)||void 0===t?void 0:t.enable)&&void 0!==n?n:void 0!==(null===(i=null===e||void 0===e?void 0:e.polygon)||void 0===i?void 0:i.type)&&"none"!==e.polygon.type}loadOptions(e,t){if(!this.needsPlugin(t))return;const n=e;let i=n.polygon;void 0===(null===i||void 0===i?void 0:i.load)&&(n.polygon=i=new wr),i.load(null===t||void 0===t?void 0:t.polygon)}}async function kr(e){J()||"SVGPathSeg"in window||await n.e("chunk-2d0a3c4b").then(n.t.bind(null,"041b",7));const t=new Or;await e.addPlugin(t)}function Pr(e,t){const n=e.options.roll;if(!e.roll||!n.enable)return;const i=e.roll.speed*t.factor,r=2*Math.PI;e.roll.angle+=i,e.roll.angle>r&&(e.roll.angle-=r)}class Ir{init(e){const t=e.options.roll;if(t.enable)if(e.roll={angle:Math.random()*Math.PI*2,speed:L(t.speed)/360},t.backColor)e.backColor=ve(t.backColor);else if(t.darken.enable&&t.enlighten.enable){const n=Math.random()>=.5?"darken":"enlighten";e.roll.alter={type:n,value:L("darken"===n?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:"darken",value:L(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:"enlighten",value:L(t.enlighten.value)});else e.roll={angle:0,speed:0}}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&t.enable}update(e,t){this.isEnabled(e)&&Pr(e,t)}}async function Rr(e){await e.addParticleUpdater("roll",()=>new Ir)}function Dr(e,t){var n;const i=e.rotate;if(!i)return;const r=e.options.rotate,o=r.animation,s=(null!==(n=i.velocity)&&void 0!==n?n:0)*t.factor,a=2*Math.PI;if(o.enable)switch(i.status){case 0:i.value+=s,i.value>a&&(i.value-=a);break;case 1:default:i.value-=s,i.value<0&&(i.value+=a);break}}class Lr{constructor(e){this.container=e}init(e){const t=e.options.rotate;e.rotate={enable:t.animation.enable,value:L(t.value)*Math.PI/180};let n=t.direction;if("random"===n){const e=Math.floor(2*Math.random());n=e>0?"counter-clockwise":"clockwise"}switch(n){case"counter-clockwise":case"counterClockwise":e.rotate.status=1;break;case"clockwise":e.rotate.status=0;break}const i=e.options.rotate.animation;i.enable&&(e.rotate.velocity=L(i.speed)/360*this.container.retina.reduceFactor,i.sync||(e.rotate.velocity*=Math.random()))}isEnabled(e){const t=e.options.rotate,n=t.animation;return!e.destroyed&&!e.spawning&&!t.path&&n.enable}update(e,t){this.isEnabled(e)&&Dr(e,t)}}async function Nr(e){await e.addParticleUpdater("angle",e=>new Lr(e))}function Br(e){const t=e.initialPosition,{dx:n,dy:i}=U(t,e.position),r=Math.abs(n),o=Math.abs(i),s=e.retina.maxDistance.horizontal,a=e.retina.maxDistance.vertical;if(s||a)if((s&&r>=s||a&&o>=a)&&!e.misplaced)e.misplaced=!!s&&r>s||!!a&&o>a,s&&(e.velocity.x=e.velocity.y/2-e.velocity.x),a&&(e.velocity.y=e.velocity.x/2-e.velocity.y);else if((!s||r<s)&&(!a||o<a)&&e.misplaced)e.misplaced=!1;else if(e.misplaced){const n=e.position,i=e.velocity;s&&(n.x<t.x&&i.x<0||n.x>t.x&&i.x>0)&&(i.x*=-Math.random()),a&&(n.y<t.y&&i.y<0||n.y>t.y&&i.y>0)&&(i.y*=-Math.random())}}function Fr(e,t){const n=e.container;if(!e.spin)return;const i={x:"clockwise"===e.spin.direction?Math.cos:Math.sin,y:"clockwise"===e.spin.direction?Math.sin:Math.cos};e.position.x=e.spin.center.x+e.spin.radius*i.x(e.spin.angle),e.position.y=e.spin.center.y+e.spin.radius*i.y(e.spin.angle),e.spin.radius+=e.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height);e.spin.radius>r/2?(e.spin.radius=r/2,e.spin.acceleration*=-1):e.spin.radius<0&&(e.spin.radius=0,e.spin.acceleration*=-1),e.spin.angle+=t/100*(1-e.spin.radius/r)}function jr(e,t){const n=e.options,i=n.move.path,r=i.enable;if(!r)return;const o=e.container;if(e.lastPathTime<=e.pathDelay)return void(e.lastPathTime+=t.value);const s=o.pathGenerator.generate(e);e.velocity.addTo(s),i.clamp&&(e.velocity.x=I(e.velocity.x,-1,1),e.velocity.y=I(e.velocity.y,-1,1)),e.lastPathTime-=e.pathDelay}function Ur(e){const t=e.container,n=t.actualOptions,i=te("slow",n.interactivity.events.onHover.mode);if(!i)return 1;const r=e.container.interactivity.mouse.position;if(!r)return 1;const o=e.getPosition(),s=z(r,o),a=t.retina.slowModeRadius;if(s>a)return 1;const l=s/a||0,c=n.interactivity.modes.slow.factor;return l/c}class zr{init(e){var t;const n=e.container,i=e.options,r=i.move.spin;if(r.enable){const i=null!==(t=r.position)&&void 0!==t?t:{x:50,y:50},o={x:i.x/100*n.canvas.size.width,y:i.y/100*n.canvas.size.height},s=e.getPosition(),a=z(s,o),l=L(r.acceleration);e.retina.spinAcceleration=l*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:a,acceleration:e.retina.spinAcceleration}}}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var n,i,r,o,s;const a=e.options,l=a.move;if(!l.enable)return;const c=e.container,u=Ur(e),h=(null!==(n=(o=e.retina).moveSpeed)&&void 0!==n?n:o.moveSpeed=L(l.speed)*c.retina.pixelRatio)*c.retina.reduceFactor,d=null!==(i=(s=e.retina).moveDrift)&&void 0!==i?i:s.moveDrift=L(e.options.move.drift)*c.retina.pixelRatio,f=B(a.size.value)*c.retina.pixelRatio,p=l.size?e.getRadius()/f:1,m=p*u*(t.factor||1),g=2,A=h*m/g;jr(e,t);const y=e.gravity,v=y.enable&&y.inverse?-1:1;y.enable&&A&&(e.velocity.y+=v*(y.acceleration*t.factor)/(60*A)),d&&A&&(e.velocity.x+=d*t.factor/(60*A));const b=e.moveDecay;1!=b&&e.velocity.multTo(b);const _=e.velocity.mult(A),w=null!==(r=e.retina.maxSpeed)&&void 0!==r?r:c.retina.maxSpeed;y.enable&&w>0&&(!y.inverse&&_.y>=0&&_.y>=w||y.inverse&&_.y<=0&&_.y<=-w)&&(_.y=v*w,A&&(e.velocity.y=_.y/A));const x=e.options.zIndex,S=(1-e.zIndexFactor)**x.velocityRate;l.spin.enable?Fr(e,A):(1!=S&&_.multTo(S),e.position.addTo(_),l.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))),Br(e)}}async function qr(e){e.addMover("base",()=>new zr)}class Vr{getSidesCount(){return 12}draw(e,t,n){e.arc(0,0,n,0,2*Math.PI,!1)}}async function Hr(e){await e.addShape("circle",new Vr)}function Gr(e,t,n,i,r){var o;const s=t;if(!s||!n.enable)return;const a=D(n.offset),l=(null!==(o=t.velocity)&&void 0!==o?o:0)*e.factor+3.6*a;r&&0!==s.status?(s.value-=l,s.value<0&&(s.status=0,s.value+=s.value)):(s.value+=l,r&&s.value>i&&(s.status=1,s.value-=s.value%i)),s.value>i&&(s.value%=i)}function Wr(e,t){var n,i,r;const o=e.options.color.animation;void 0!==(null===(n=e.color)||void 0===n?void 0:n.h)&&Gr(t,e.color.h,o.h,360,!1),void 0!==(null===(i=e.color)||void 0===i?void 0:i.s)&&Gr(t,e.color.s,o.s,100,!0),void 0!==(null===(r=e.color)||void 0===r?void 0:r.l)&&Gr(t,e.color.l,o.l,100,!0)}class $r{constructor(e){this.container=e}init(e){const t=ve(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=De(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var t,n,i;const r=e.options.color.animation;return!e.destroyed&&!e.spawning&&(void 0!==(null===(t=e.color)||void 0===t?void 0:t.h.value)&&r.h.enable||void 0!==(null===(n=e.color)||void 0===n?void 0:n.s.value)&&r.s.enable||void 0!==(null===(i=e.color)||void 0===i?void 0:i.l.value)&&r.l.enable)}update(e,t){Wr(e,t)}}async function Xr(e){await e.addParticleUpdater("color",e=>new $r(e))}class Yr extends pr{constructor(e){super(e),e.attract||(e.attract={particles:[]}),this.handleClickMode=t=>{const n=this.container.actualOptions;if("attract"===t){e.attract||(e.attract={particles:[]}),e.attract.clicking=!0,e.attract.count=0;for(const t of e.attract.particles)t.velocity.setTo(t.initialVelocity);e.attract.particles=[],e.attract.finish=!1,setTimeout(()=>{e.destroyed||(e.attract||(e.attract={particles:[]}),e.attract.clicking=!1)},1e3*n.interactivity.modes.attract.duration)}}}isEnabled(){const e=this.container,t=e.actualOptions,n=e.interactivity.mouse,i=t.interactivity.events;if((!n.position||!i.onHover.enable)&&(!n.clickPosition||!i.onClick.enable))return!1;const r=i.onHover.mode,o=i.onClick.mode;return te("attract",r)||te("attract",o)}reset(){}async interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===k.mouseMoveEvent,i=t.interactivity.events,r=i.onHover.enable,o=i.onHover.mode,s=i.onClick.enable,a=i.onClick.mode;n&&r&&te("attract",o)?this.hoverAttract():s&&te("attract",a)&&this.clickAttract()}hoverAttract(){const e=this.container,t=e.interactivity.mouse.position;if(!t)return;const n=e.retina.attractModeDistance;this.processAttract(t,n,new li(t.x,t.y,n))}processAttract(e,t,n){const i=this.container,r=i.actualOptions.interactivity.modes.attract,o=i.particles.quadTree.query(n);for(const s of o){const{dx:n,dy:i,distance:o}=U(s.position,e),a=r.speed*r.factor,l=I(G(1-o/t,r.easing)*a,0,r.maxSpeed),c=P.create(0===o?a:n/o*l,0===o?a:i/o*l);s.position.subFrom(c)}}clickAttract(){const e=this.container;if(e.attract||(e.attract={particles:[]}),e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const t=e.interactivity.mouse.clickPosition;if(!t)return;const n=e.retina.attractModeDistance;this.processAttract(t,n,new li(t.x,t.y,n))}else!1===e.attract.clicking&&(e.attract.particles=[])}}async function Kr(e){await e.addInteractor("externalAttract",e=>new Yr(e))}class Qr extends pr{constructor(e){super(e)}isEnabled(){const e=this.container,t=e.actualOptions,n=e.interactivity.mouse,i=t.interactivity.events,r=i.onDiv;return n.position&&i.onHover.enable&&te("bounce",i.onHover.mode)||ce("bounce",r)}async interact(){const e=this.container,t=e.actualOptions,n=t.interactivity.events,i=e.interactivity.status===k.mouseMoveEvent,r=n.onHover.enable,o=n.onHover.mode,s=n.onDiv;i&&r&&te("bounce",o)?this.processMouseBounce():ue("bounce",s,(e,t)=>this.singleSelectorBounce(e,t))}reset(){}processMouseBounce(){const e=this.container,t=e.retina.pixelRatio,n=10*t,i=e.interactivity.mouse.position,r=e.retina.bounceModeDistance;i&&this.processBounce(i,r,new li(i.x,i.y,r+n))}singleSelectorBounce(e,t){const n=this.container,i=document.querySelectorAll(e);i.length&&i.forEach(e=>{const i=e,r=n.retina.pixelRatio,o={x:(i.offsetLeft+i.offsetWidth/2)*r,y:(i.offsetTop+i.offsetHeight/2)*r},s=i.offsetWidth/2*r,a=10*r,l="circle"===t.type?new li(o.x,o.y,s+a):new ci(i.offsetLeft*r-a,i.offsetTop*r-a,i.offsetWidth*r+2*a,i.offsetHeight*r+2*a);this.processBounce(o,s,l)})}processBounce(e,t,n){const i=this.container.particles.quadTree.query(n);for(const r of i)n instanceof li?pe(fe(r),{position:e,radius:t,mass:t**2*Math.PI/2,velocity:P.origin,factor:P.origin}):n instanceof ci&&me(r,ae(e,t))}}async function Jr(e){await e.addInteractor("externalBounce",e=>new Qr(e))}function Zr(e,t,n,i){if(t>=n){const r=e+(t-n)*i;return I(r,e,t)}if(t<n){const r=e-(n-t)*i;return I(r,t,e)}}class eo extends pr{constructor(e){super(e),e.bubble||(e.bubble={}),this.handleClickMode=t=>{"bubble"===t&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}isEnabled(){const e=this.container,t=e.actualOptions,n=e.interactivity.mouse,i=t.interactivity.events,r=i.onDiv,o=ce("bubble",r);if(!(o||i.onHover.enable&&n.position||i.onClick.enable&&n.clickPosition))return!1;const s=i.onHover.mode,a=i.onClick.mode;return te("bubble",s)||te("bubble",a)||o}reset(e,t){e.bubble.inRange&&!t||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}async interact(){const e=this.container.actualOptions,t=e.interactivity.events,n=t.onHover,i=t.onClick,r=n.enable,o=n.mode,s=i.enable,a=i.mode,l=t.onDiv;r&&te("bubble",o)?this.hoverBubble():s&&te("bubble",a)?this.clickBubble():ue("bubble",l,(e,t)=>this.singleSelectorHover(e,t))}singleSelectorHover(e,t){const n=this.container,i=document.querySelectorAll(e);i.length&&i.forEach(e=>{const i=e,r=n.retina.pixelRatio,o={x:(i.offsetLeft+i.offsetWidth/2)*r,y:(i.offsetTop+i.offsetHeight/2)*r},s=i.offsetWidth/2*r,a="circle"===t.type?new li(o.x,o.y,s):new ci(i.offsetLeft*r,i.offsetTop*r,i.offsetWidth*r,i.offsetHeight*r),l=n.particles.quadTree.query(a);for(const t of l){if(!a.contains(t.getPosition()))continue;t.bubble.inRange=!0;const e=n.actualOptions.interactivity.modes.bubble.divs,r=de(e,i);t.bubble.div&&t.bubble.div===i||(this.reset(t,!0),t.bubble.div=i),this.hoverBubbleSize(t,1,r),this.hoverBubbleOpacity(t,1,r),this.hoverBubbleColor(t,1,r)}})}process(e,t,n,i){const r=this.container,o=i.bubbleObj.optValue;if(void 0===o)return;const s=r.actualOptions,a=s.interactivity.modes.bubble.duration,l=r.retina.bubbleModeDistance,c=i.particlesObj.optValue,u=i.bubbleObj.value,h=i.particlesObj.value||0,d=i.type;if(o!==c)if(r.bubble||(r.bubble={}),r.bubble.durationEnd)u&&("size"===d&&delete e.bubble.radius,"opacity"===d&&delete e.bubble.opacity);else if(t<=l){const t=null!==u&&void 0!==u?u:h;if(t!==o){const t=h-n*(h-o)/a;"size"===d&&(e.bubble.radius=t),"opacity"===d&&(e.bubble.opacity=t)}}else"size"===d&&delete e.bubble.radius,"opacity"===d&&delete e.bubble.opacity}clickBubble(){var e,t;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition;if(!r)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance,s=n.particles.quadTree.queryCircle(r,o);for(const a of s){if(!n.bubble.clicking)continue;a.bubble.inRange=!n.bubble.durationEnd;const o=a.getPosition(),s=z(o,r),l=((new Date).getTime()-(n.interactivity.mouse.clickTime||0))/1e3;l>i.interactivity.modes.bubble.duration&&(n.bubble.durationEnd=!0),l>2*i.interactivity.modes.bubble.duration&&(n.bubble.clicking=!1,n.bubble.durationEnd=!1);const c={bubbleObj:{optValue:n.retina.bubbleModeSize,value:a.bubble.radius},particlesObj:{optValue:B(a.options.size.value)*n.retina.pixelRatio,value:a.size.value},type:"size"};this.process(a,s,l,c);const u={bubbleObj:{optValue:i.interactivity.modes.bubble.opacity,value:a.bubble.opacity},particlesObj:{optValue:B(a.options.opacity.value),value:null!==(t=null===(e=a.opacity)||void 0===e?void 0:e.value)&&void 0!==t?t:1},type:"opacity"};this.process(a,s,l,u),n.bubble.durationEnd?delete a.bubble.color:s<=n.retina.bubbleModeDistance?this.hoverBubbleColor(a,s):delete a.bubble.color}}hoverBubble(){const e=this.container,t=e.interactivity.mouse.position;if(void 0===t)return;const n=e.retina.bubbleModeDistance,i=e.particles.quadTree.queryCircle(t,n);for(const r of i){r.bubble.inRange=!0;const i=r.getPosition(),o=z(i,t),s=1-o/n;o<=n?s>=0&&e.interactivity.status===k.mouseMoveEvent&&(this.hoverBubbleSize(r,s),this.hoverBubbleOpacity(r,s),this.hoverBubbleColor(r,s)):this.reset(r),e.interactivity.status===k.mouseLeaveEvent&&this.reset(r)}}hoverBubbleSize(e,t,n){const i=this.container,r=(null===n||void 0===n?void 0:n.size)?n.size*i.retina.pixelRatio:i.retina.bubbleModeSize;if(void 0===r)return;const o=B(e.options.size.value)*i.retina.pixelRatio,s=e.size.value,a=Zr(s,r,o,t);void 0!==a&&(e.bubble.radius=a)}hoverBubbleOpacity(e,t,n){var i,r,o;const s=this.container,a=s.actualOptions,l=null!==(i=null===n||void 0===n?void 0:n.opacity)&&void 0!==i?i:a.interactivity.modes.bubble.opacity;if(!l)return;const c=e.options.opacity.value,u=null!==(o=null===(r=e.opacity)||void 0===r?void 0:r.value)&&void 0!==o?o:1,h=Zr(u,l,B(c),t);void 0!==h&&(e.bubble.opacity=h)}hoverBubbleColor(e,t,n){const i=this.container.actualOptions,r=null!==n&&void 0!==n?n:i.interactivity.modes.bubble;if(!e.bubble.finalColor){const t=r.color;if(!t)return;const n=t instanceof Array?re(t):t;e.bubble.finalColor=ve(n)}if(e.bubble.finalColor)if(r.mix){e.bubble.color=void 0;const n=e.getFillColor();e.bubble.color=n?be(ke(n,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}async function to(e){await e.addInteractor("externalBubble",e=>new eo(e))}class no extends pr{constructor(e){super(e)}isEnabled(){const e=this.container,t=e.interactivity.mouse,n=e.actualOptions.interactivity.events;return!(!n.onHover.enable||!t.position)&&te("connect",n.onHover.mode)}reset(){}async interact(){const e=this.container,t=e.actualOptions;if(t.interactivity.events.onHover.enable&&"mousemove"===e.interactivity.status){const t=e.interactivity.mouse.position;if(!t)return;const n=Math.abs(e.retina.connectModeRadius),i=e.particles.quadTree.queryCircle(t,n);let r=0;for(const o of i){const t=o.getPosition();for(const n of i.slice(r+1)){const i=n.getPosition(),r=Math.abs(e.retina.connectModeDistance),s=Math.abs(t.x-i.x),a=Math.abs(t.y-i.y);s<r&&a<r&&e.canvas.drawConnectLine(o,n)}++r}}}}async function io(e){await e.addInteractor("externalConnect",e=>new no(e))}class ro extends pr{constructor(e){super(e)}isEnabled(){const e=this.container,t=e.interactivity.mouse,n=e.actualOptions.interactivity.events;return n.onHover.enable&&!!t.position&&te("grab",n.onHover.mode)}reset(){}async interact(){var e;const t=this.container,n=t.actualOptions,i=n.interactivity;if(!i.events.onHover.enable||t.interactivity.status!==k.mouseMoveEvent)return;const r=t.interactivity.mouse.position;if(!r)return;const o=t.retina.grabModeDistance,s=t.particles.quadTree.queryCircle(r,o);for(const a of s){const s=a.getPosition(),l=z(s,r);if(l>o)continue;const c=i.modes.grab.links,u=c.opacity,h=u-l*u/o;if(h<=0)continue;const d=null!==(e=c.color)&&void 0!==e?e:a.options.links.color;if(!t.particles.grabLineColor){const e=n.interactivity.modes.grab.links;t.particles.grabLineColor=Ie(d,e.blink,e.consent)}const f=Pe(a,void 0,t.particles.grabLineColor);if(!f)return;t.canvas.drawGrabLine(a,f,h,r)}}}async function oo(e){await e.addInteractor("externalGrab",e=>new ro(e))}class so extends pr{constructor(e){super(e),this.handleClickMode=e=>{if("pause"!==e)return;const t=this.container;t.getAnimationStatus()?t.pause():t.play()}}isEnabled(){return!0}reset(){}async interact(){}}async function ao(e){await e.addInteractor("externalPause",e=>new so(e))}class lo extends pr{constructor(e){super(e),this.handleClickMode=e=>{if("push"!==e)return;const t=this.container,n=t.actualOptions,i=n.interactivity.modes.push.quantity;if(i<=0)return;const r=n.interactivity.modes.push,o=re([void 0,...r.groups]),s=void 0!==o?t.actualOptions.particles.groups[o]:void 0;t.particles.push(i,t.interactivity.mouse,s,o)}}isEnabled(){return!0}reset(){}async interact(){}}async function co(e){await e.addInteractor("externalPush",e=>new lo(e))}class uo extends pr{constructor(e){super(e),this.handleClickMode=e=>{if("remove"!==e)return;const t=this.container,n=t.actualOptions,i=n.interactivity.modes.remove.quantity;t.particles.removeQuantity(i)}}isEnabled(){return!0}reset(){}async interact(){}}async function ho(e){await e.addInteractor("externalRemove",e=>new uo(e))}class fo extends pr{constructor(e){super(e),e.repulse||(e.repulse={particles:[]}),this.handleClickMode=t=>{const n=this.container.actualOptions;if("repulse"===t){e.repulse||(e.repulse={particles:[]}),e.repulse.clicking=!0,e.repulse.count=0;for(const t of e.repulse.particles)t.velocity.setTo(t.initialVelocity);e.repulse.particles=[],e.repulse.finish=!1,setTimeout(()=>{e.destroyed||(e.repulse||(e.repulse={particles:[]}),e.repulse.clicking=!1)},1e3*n.interactivity.modes.repulse.duration)}}}isEnabled(){const e=this.container,t=e.actualOptions,n=e.interactivity.mouse,i=t.interactivity.events,r=i.onDiv,o=ce("repulse",r);if(!(o||i.onHover.enable&&n.position||i.onClick.enable&&n.clickPosition))return!1;const s=i.onHover.mode,a=i.onClick.mode;return te("repulse",s)||te("repulse",a)||o}reset(){}async interact(){const e=this.container,t=e.actualOptions,n=e.interactivity.status===k.mouseMoveEvent,i=t.interactivity.events,r=i.onHover.enable,o=i.onHover.mode,s=i.onClick.enable,a=i.onClick.mode,l=i.onDiv;n&&r&&te("repulse",o)?this.hoverRepulse():s&&te("repulse",a)?this.clickRepulse():ue("repulse",l,(e,t)=>this.singleSelectorRepulse(e,t))}singleSelectorRepulse(e,t){const n=this.container,i=document.querySelectorAll(e);i.length&&i.forEach(e=>{const i=e,r=n.retina.pixelRatio,o={x:(i.offsetLeft+i.offsetWidth/2)*r,y:(i.offsetTop+i.offsetHeight/2)*r},s=i.offsetWidth/2*r,a="circle"===t.type?new li(o.x,o.y,s):new ci(i.offsetLeft*r,i.offsetTop*r,i.offsetWidth*r,i.offsetHeight*r),l=n.actualOptions.interactivity.modes.repulse.divs,c=de(l,i);this.processRepulse(o,s,a,c)})}hoverRepulse(){const e=this.container,t=e.interactivity.mouse.position;if(!t)return;const n=e.retina.repulseModeDistance;this.processRepulse(t,n,new li(t.x,t.y,n))}processRepulse(e,t,n,i){var r;const o=this.container,s=o.particles.quadTree.query(n),a=o.actualOptions.interactivity.modes.repulse;for(const l of s){const{dx:n,dy:o,distance:s}=U(l.position,e),c=(null!==(r=null===i||void 0===i?void 0:i.speed)&&void 0!==r?r:a.speed)*a.factor,u=I(G(1-s/t,a.easing)*c,0,a.maxSpeed),h=P.create(0===s?c:n/s*u,0===s?c:o/s*u);l.position.addTo(h)}}clickRepulse(){const e=this.container;if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const t=e.retina.repulseModeDistance,n=Math.pow(t/6,3),i=e.interactivity.mouse.clickPosition;if(void 0===i)return;const r=new li(i.x,i.y,n),o=e.particles.quadTree.query(r);for(const s of o){const{dx:t,dy:r,distance:o}=U(i,s.position),a=o**2,l=e.actualOptions.interactivity.modes.repulse.speed,c=-n*l/a;if(a<=n){e.repulse.particles.push(s);const n=P.create(t,r);n.length=c,s.velocity.setTo(n)}}}else if(!1===e.repulse.clicking){for(const t of e.repulse.particles)t.velocity.setTo(t.initialVelocity);e.repulse.particles=[]}}}async function po(e){await e.addInteractor("externalRepulse",e=>new fo(e))}const mo=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function go(e,t,n){const{svgData:i}=e;if(!i)return"";const r=Oe(t,n);if(i.includes("fill"))return i.replace(mo,()=>r);const o=i.indexOf(">");return`${i.substring(0,o)} fill="${r}"${i.substring(o)}`}async function Ao(e){return new Promise(t=>{e.loading=!0;const n=new Image;n.addEventListener("load",()=>{e.element=n,e.loading=!1,t()}),n.addEventListener("error",()=>{e.error=!0,e.loading=!1,console.error("Error tsParticles - loading image: "+e.source),t()}),n.src=e.source})}async function yo(e){if("svg"!==e.type)return void await Ao(e);e.loading=!0;const t=await fetch(e.source);e.loading=!1,t.ok||(console.error("Error tsParticles - Image not found"),e.error=!0),e.error||(e.svgData=await t.text())}function vo(e,t,n,i){var r,o,s;const a=go(e,n,null!==(o=null===(r=i.opacity)||void 0===r?void 0:r.value)&&void 0!==o?o:1),l=new Blob([a],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,u=c.createObjectURL(l),h=new Image,d={data:Object.assign(Object.assign({},e),{svgData:a}),ratio:t.width/t.height,replaceColor:null!==(s=t.replaceColor)&&void 0!==s?s:t.replace_color,source:t.src};return h.addEventListener("load",()=>{const t=i.image;t&&(t.loaded=!0,e.element=h),c.revokeObjectURL(u)}),h.addEventListener("error",()=>{c.revokeObjectURL(u);const t=Object.assign(Object.assign({},e),{error:!1,loading:!0});Ao(t).then(()=>{const n=i.image;n&&(e.element=t.element,n.loaded=!0)})}),h.src=u,d}var bo,_o=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},wo=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};class xo{constructor(){bo.set(this,void 0),_o(this,bo,[],"f")}getSidesCount(){return 12}getImages(e){const t=wo(this,bo,"f").find(t=>t.id===e.id);return t||(wo(this,bo,"f").push({id:e.id,images:[]}),this.getImages(e))}addImage(e,t){const n=this.getImages(e);null===n||void 0===n||n.images.push(t)}destroy(){_o(this,bo,[],"f")}draw(e,t,n,i){var r,o;const s=t.image,a=null===(r=null===s||void 0===s?void 0:s.data)||void 0===r?void 0:r.element;if(!a)return;const l=null!==(o=null===s||void 0===s?void 0:s.ratio)&&void 0!==o?o:1,c={x:-n,y:-n};(null===s||void 0===s?void 0:s.data.svgData)&&(null===s||void 0===s?void 0:s.replaceColor)||(e.globalAlpha=i),e.drawImage(a,c.x,c.y,2*n,2*n/l),(null===s||void 0===s?void 0:s.data.svgData)&&(null===s||void 0===s?void 0:s.replaceColor)||(e.globalAlpha=1)}loadShape(e){var t,n,i;if("image"!==e.shape&&"images"!==e.shape)return;const r=this.getImages(e.container).images,o=e.shapeData,s=r.find(e=>e.source===o.src);let a;if(!s)return void this.loadImageShape(e.container,o).then(()=>{this.loadShape(e)});if(s.error)return;const l=e.getFillColor();a=s.svgData&&o.replaceColor&&l?vo(s,o,l,e):{data:s,loaded:!0,ratio:o.width/o.height,replaceColor:null!==(t=o.replaceColor)&&void 0!==t?t:o.replace_color,source:o.src},a.ratio||(a.ratio=1);const c=null!==(n=o.fill)&&void 0!==n?n:e.fill,u=null!==(i=o.close)&&void 0!==i?i:e.close,h={image:a,fill:c,close:u};e.image=h.image,e.fill=h.fill,e.close=h.close}async loadImageShape(e,t){const n=t.src;if(!n)throw new Error("Error tsParticles - No image.src");try{const i={source:n,type:n.substr(n.length-3),error:!1,loading:!0};this.addImage(e,i);const r=t.replaceColor?yo:Ao;await r(i)}catch(i){throw new Error(`tsParticles error - ${t.src} not found`)}}}async function So(e){const t=new xo;await e.addShape("image",t),await e.addShape("images",t)}bo=new WeakMap;class To{constructor(e){this.container=e}init(){}isEnabled(e){return!e.destroyed}update(e,t){if(!this.isEnabled(e))return;const n=e.life;let i=!1;if(e.spawning){if(n.delayTime+=t.value,!(n.delayTime>=e.life.delay))return;i=!0,e.spawning=!1,n.delayTime=0,n.time=0}if(-1===n.duration)return;if(e.spawning)return;if(i?n.time=0:n.time+=t.value,n.time<n.duration)return;if(n.time=0,e.life.count>0&&e.life.count--,0===e.life.count)return void e.destroy();const r=this.container.canvas.size,o=F(0,r.width),s=F(0,r.width);e.position.x=D(o),e.position.y=D(s),e.spawning=!0,n.delayTime=0,n.time=0,e.reset();const a=e.options.life;n.delay=1e3*L(a.delay.value),n.duration=1e3*L(a.duration.value)}}async function Eo(e){await e.addParticleUpdater("life",e=>new To(e))}class Mo{getSidesCount(){return 1}draw(e,t,n){e.moveTo(-n/2,0),e.lineTo(n/2,0)}}async function Co(e){await e.addShape("line",new Mo)}function Oo(e,t,n,i){switch(e.options.opacity.animation.destroy){case"max":t>=i&&e.destroy();break;case"min":t<=n&&e.destroy();break}}function ko(e,t){var n,i,r,o,s;if(!e.opacity)return;const a=e.opacity.min,l=e.opacity.max;if(!(e.destroyed||!e.opacity.enable||(null!==(n=e.opacity.maxLoops)&&void 0!==n?n:0)>0&&(null!==(i=e.opacity.loops)&&void 0!==i?i:0)>(null!==(r=e.opacity.maxLoops)&&void 0!==r?r:0))){switch(e.opacity.status){case 0:e.opacity.value>=l?(e.opacity.status=1,e.opacity.loops||(e.opacity.loops=0),e.opacity.loops++):e.opacity.value+=(null!==(o=e.opacity.velocity)&&void 0!==o?o:0)*t.factor;break;case 1:e.opacity.value<=a?(e.opacity.status=0,e.opacity.loops||(e.opacity.loops=0),e.opacity.loops++):e.opacity.value-=(null!==(s=e.opacity.velocity)&&void 0!==s?s:0)*t.factor;break}Oo(e,e.opacity.value,a,l),e.destroyed||(e.opacity.value=I(e.opacity.value,a,l))}}class Po{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity={enable:t.animation.enable,max:B(t.value),min:N(t.value),value:L(t.value),loops:0,maxLoops:L(t.animation.count)};const n=t.animation;if(n.enable){e.opacity.status=0;const i=t.value;switch(e.opacity.min=N(i),e.opacity.max=B(i),n.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status=0;break;case"random":e.opacity.value=D(e.opacity),e.opacity.status=Math.random()>=.5?0:1;break;case"max":default:e.opacity.value=e.opacity.max,e.opacity.status=1;break}e.opacity.velocity=L(n.speed)/100*this.container.retina.reduceFactor,n.sync||(e.opacity.velocity*=Math.random())}}isEnabled(e){var t,n,i,r;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((null!==(t=e.opacity.maxLoops)&&void 0!==t?t:0)<=0||(null!==(n=e.opacity.maxLoops)&&void 0!==n?n:0)>0&&(null!==(i=e.opacity.loops)&&void 0!==i?i:0)<(null!==(r=e.opacity.maxLoops)&&void 0!==r?r:0))}update(e,t){this.isEnabled(e)&&ko(e,t)}}async function Io(e){await e.addParticleUpdater("opacity",e=>new Po(e))}function Ro(e){if("bounce"!==e.outMode&&"bounce-horizontal"!==e.outMode&&"bounceHorizontal"!==e.outMode&&"split"!==e.outMode)return;const t=e.particle.velocity.x;let n=!1;if("right"===e.direction&&e.bounds.right>=e.canvasSize.width&&t>0||"left"===e.direction&&e.bounds.left<=0&&t<0){const t=L(e.particle.options.bounce.horizontal.value);e.particle.velocity.x*=-t,n=!0}if(!n)return;const i=e.offset.x+e.size;e.bounds.right>=e.canvasSize.width?e.particle.position.x=e.canvasSize.width-i:e.bounds.left<=0&&(e.particle.position.x=i),"split"===e.outMode&&e.particle.destroy()}function Do(e){if("bounce"===e.outMode||"bounce-vertical"===e.outMode||"bounceVertical"===e.outMode||"split"===e.outMode){const t=e.particle.velocity.y;let n=!1;if("bottom"===e.direction&&e.bounds.bottom>=e.canvasSize.height&&t>0||"top"===e.direction&&e.bounds.top<=0&&t<0){const t=L(e.particle.options.bounce.vertical.value);e.particle.velocity.y*=-t,n=!0}if(!n)return;const i=e.offset.y+e.size;e.bounds.bottom>=e.canvasSize.height?e.particle.position.y=e.canvasSize.height-i:e.bounds.top<=0&&(e.particle.position.y=i),"split"===e.outMode&&e.particle.destroy()}}class Lo{constructor(e){this.container=e}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){var n,i,r,o;const s=e.options.move.outModes;this.updateOutMode(e,t,null!==(n=s.bottom)&&void 0!==n?n:s.default,"bottom"),this.updateOutMode(e,t,null!==(i=s.left)&&void 0!==i?i:s.default,"left"),this.updateOutMode(e,t,null!==(r=s.right)&&void 0!==r?r:s.default,"right"),this.updateOutMode(e,t,null!==(o=s.top)&&void 0!==o?o:s.default,"top")}updateOutMode(e,t,n,i){switch(n){case"bounce":case"bounce-vertical":case"bounce-horizontal":case"bounceVertical":case"bounceHorizontal":case"split":this.bounce(e,t,i,n);break;case"destroy":this.destroy(e,i);break;case"out":this.out(e,i);break;case"none":default:this.none(e,i);break}}destroy(e,t){const n=this.container;oe(e.position,n.canvas.size,e.getRadius(),t)||n.particles.remove(e,void 0,!0)}out(e,t){const n=this.container;if(oe(e.position,n.canvas.size,e.getRadius(),t))return;const i=e.options.move.warp,r=n.canvas.size,o={bottom:r.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:r.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},s=e.getRadius(),a=ae(e.position,s);"right"===t&&a.left>r.width+e.offset.x?(e.position.x=o.left,e.initialPosition.x=e.position.x,i||(e.position.y=Math.random()*r.height,e.initialPosition.y=e.position.y)):"left"===t&&a.right<-e.offset.x&&(e.position.x=o.right,e.initialPosition.x=e.position.x,i||(e.position.y=Math.random()*r.height,e.initialPosition.y=e.position.y)),"bottom"===t&&a.top>r.height+e.offset.y?(i||(e.position.x=Math.random()*r.width,e.initialPosition.x=e.position.x),e.position.y=o.top,e.initialPosition.y=e.position.y):"top"===t&&a.bottom<-e.offset.y&&(i||(e.position.x=Math.random()*r.width,e.initialPosition.x=e.position.x),e.position.y=o.bottom,e.initialPosition.y=e.position.y)}bounce(e,t,n,i){const r=this.container;let o=!1;for(const[,h]of r.plugins)if(void 0!==h.particleBounce&&(o=h.particleBounce(e,t,n)),o)break;if(o)return;const s=e.getPosition(),a=e.offset,l=e.getRadius(),c=ae(s,l),u=r.canvas.size;Ro({particle:e,outMode:i,direction:n,bounds:c,canvasSize:u,offset:a,size:l}),Do({particle:e,outMode:i,direction:n,bounds:c,canvasSize:u,offset:a,size:l})}none(e,t){if(e.options.move.distance.horizontal&&("left"===t||"right"===t)||e.options.move.distance.vertical&&("top"===t||"bottom"===t))return;const n=e.options.move.gravity,i=this.container,r=i.canvas.size,o=e.getRadius();if(n.enable){const s=e.position;(!n.inverse&&s.y>r.height+o&&"bottom"===t||n.inverse&&s.y<-o&&"top"===t)&&i.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=r.height+o||e.velocity.y<0&&e.position.y>=-o||e.velocity.x>0&&e.position.x<=r.width+o||e.velocity.x<0&&e.position.x>=-o)return;oe(e.position,i.canvas.size,o,t)||i.particles.remove(e)}}}async function No(e){await e.addParticleUpdater("outModes",e=>new Lo(e))}class Bo{init(){}isEnabled(e){return!J()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,n=t.actualOptions;if(J()||!n.interactivity.events.onHover.parallax.enable)return;const i=n.interactivity.events.onHover.parallax.force,r=t.interactivity.mouse.position;if(!r)return;const o={x:t.canvas.size.width/2,y:t.canvas.size.height/2},s=n.interactivity.events.onHover.parallax.smooth,a=e.getRadius()/i,l={x:(r.x-o.x)*a,y:(r.y-o.y)*a};e.offset.x+=(l.x-e.offset.x)/s,e.offset.y+=(l.y-e.offset.y)/s}}async function Fo(e){e.addMover("parallax",()=>new Bo)}class jo{constructor(e){this.container=e,this.type=1}}class Uo extends jo{constructor(e){super(e)}async interact(e){var t;const n=this.container,i=null!==(t=e.retina.attractDistance)&&void 0!==t?t:n.retina.attractDistance,r=e.getPosition(),o=n.particles.quadTree.queryCircle(r,i);for(const s of o){if(e===s||!s.options.move.attract.enable||s.destroyed||s.spawning)continue;const t=s.getPosition(),{dx:n,dy:i}=U(r,t),o=e.options.move.attract.rotate,a=n/(1e3*o.x),l=i/(1e3*o.y),c=s.size.value/e.size.value,u=1/c;e.velocity.x-=a*c,e.velocity.y-=l*c,s.velocity.x+=a*u,s.velocity.y+=l*u}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function zo(e){await e.addInteractor("particlesAttract",e=>new Uo(e))}function qo(e,t){pe(fe(e),fe(t))}function Vo(e,t){e.unbreakable||t.unbreakable||qo(e,t),void 0===e.getRadius()&&void 0!==t.getRadius()?e.destroy():void 0!==e.getRadius()&&void 0===t.getRadius()?t.destroy():void 0!==e.getRadius()&&void 0!==t.getRadius()&&(e.getRadius()>=t.getRadius()?t.destroy():e.destroy())}class Ho extends jo{constructor(e){super(e)}isEnabled(e){return e.options.collisions.enable}reset(){}async interact(e){const t=this.container,n=e.getPosition(),i=e.getRadius(),r=t.particles.quadTree.queryCircle(n,2*i);for(const o of r){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const t=o.getPosition();if(Math.round(n.z)!==Math.round(t.z))continue;const r=z(n,t),s=o.getRadius(),a=i+s;r<=a&&this.resolveCollision(e,o)}}resolveCollision(e,t){switch(e.options.collisions.mode){case"absorb":this.absorb(e,t);break;case"bounce":qo(e,t);break;case"destroy":Vo(e,t);break}}absorb(e,t){const n=this.container,i=n.fpsLimit/1e3;if(void 0===e.getRadius()&&void 0!==t.getRadius())e.destroy();else if(void 0!==e.getRadius()&&void 0===t.getRadius())t.destroy();else if(void 0!==e.getRadius()&&void 0!==t.getRadius())if(e.getRadius()>=t.getRadius()){const r=I(e.getRadius()/t.getRadius(),0,t.getRadius())*i;e.size.value+=r,t.size.value-=r,t.getRadius()<=n.retina.pixelRatio&&(t.size.value=0,t.destroy())}else{const r=I(t.getRadius()/e.getRadius(),0,e.getRadius())*i;e.size.value-=r,t.size.value+=r,e.getRadius()<=n.retina.pixelRatio&&(e.size.value=0,e.destroy())}}}async function Go(e){await e.addInteractor("particlesCollisions",e=>new Ho(e))}function Wo(e,t,n,i,r){let o=z(e,t);if(!r||o<=n)return o;const s={x:t.x-i.width,y:t.y};if(o=z(e,s),o<=n)return o;const a={x:t.x-i.width,y:t.y-i.height};if(o=z(e,a),o<=n)return o;const l={x:t.x,y:t.y-i.height};return o=z(e,l),o}class $o extends jo{constructor(e){super(e)}isEnabled(e){return e.options.links.enable}reset(){}async interact(e){var t;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<0||n.y<0||n.x>r.width||n.y>r.height)return;const o=e.options.links,s=o.opacity,a=null!==(t=e.retina.linksDistance)&&void 0!==t?t:i.retina.linksDistance,l=o.warp,c=l?new ui(n.x,n.y,a,r):new li(n.x,n.y,a),u=i.particles.quadTree.query(c);for(const h of u){const t=h.options.links;if(e===h||!t.enable||o.id!==t.id||h.spawning||h.destroyed||-1!==e.links.map(e=>e.destination).indexOf(h)||-1!==h.links.map(e=>e.destination).indexOf(e))continue;const i=h.getPosition();if(i.x<0||i.y<0||i.x>r.width||i.y>r.height)continue;const c=Wo(n,i,a,r,l&&t.warp);if(c>a)return;const u=(1-c/a)*s;this.setColor(e),e.links.push({destination:h,opacity:u})}}setColor(e){const t=this.container,n=e.options.links;let i=void 0===n.id?t.particles.linksColor:t.particles.linksColors.get(n.id);if(!i){const e=n.color;i=Ie(e,n.blink,n.consent),void 0===n.id?t.particles.linksColor=i:t.particles.linksColors.set(n.id,i)}}}async function Xo(e){await e.addInteractor("particlesLinks",e=>new $o(e))}class Yo{constructor(e){this.container=e}particleCreated(e){const t=e;t.links=[]}particleDestroyed(e){const t=e;t.links=[]}drawParticle(e,t){const n=t,i=this.container,r=i.particles,o=t.options;if(n.links.length<=0)return;e.save();const s=n.links.filter(e=>{const t=i.particles.getLinkFrequency(n,e.destination);return t<=o.links.frequency});for(const a of s){const e=a.destination;if(o.links.triangles.enable){const t=s.map(e=>e.destination),l=e.links.filter(n=>{const r=i.particles.getLinkFrequency(e,n.destination);return r<=e.options.links.frequency&&t.indexOf(n.destination)>=0});if(l.length)for(const i of l){const t=i.destination,s=r.getTriangleFrequency(n,e,t);s>o.links.triangles.frequency||this.drawLinkTriangle(n,a,i)}}a.opacity>0&&i.retina.linksWidth>0&&this.drawLinkLine(n,a)}e.restore()}drawLinkTriangle(e,t,n){var i;const r=this.container,o=r.actualOptions,s=t.destination,a=n.destination,l=e.options.links.triangles,c=null!==(i=l.opacity)&&void 0!==i?i:(t.opacity+n.opacity)/2;if(c<=0)return;const u=e.getPosition(),h=s.getPosition(),d=a.getPosition();r.canvas.draw(t=>{if(z(u,h)>r.retina.linksDistance||z(d,h)>r.retina.linksDistance||z(d,u)>r.retina.linksDistance)return;let n=ye(l.color);if(!n){const t=e.options.links,i=void 0!==t.id?r.particles.linksColors.get(t.id):r.particles.linksColor;n=Pe(e,s,i)}n&&ze(t,u,h,d,o.backgroundMask.enable,o.backgroundMask.composite,n,c)})}drawLinkLine(e,t){const n=this.container,i=n.actualOptions,r=t.destination,o=e.getPosition(),s=r.getPosition();let a=t.opacity;n.canvas.draw(t=>{var l,c;let u;const h=e.options.twinkle.lines;if(h.enable){const e=h.frequency,t=ye(h.color),n=Math.random()<e;n&&t&&(u=t,a=L(h.opacity))}if(!u){const t=e.options.links,i=void 0!==t.id?n.particles.linksColors.get(t.id):n.particles.linksColor;u=Pe(e,r,i)}if(!u)return;const d=null!==(l=e.retina.linksWidth)&&void 0!==l?l:n.retina.linksWidth,f=null!==(c=e.retina.linksDistance)&&void 0!==c?c:n.retina.linksDistance;Ue(t,d,o,s,f,n.canvas.size,e.options.links.warp,i.backgroundMask.enable,i.backgroundMask.composite,u,a,e.options.links.shadow)})}}class Ko{constructor(){this.id="links"}getPlugin(e){return new Yo(e)}needsPlugin(){return!0}loadOptions(){}}async function Qo(e){const t=new Ko;await e.addPlugin(t)}async function Jo(e){await Xo(e),await Qo(e)}class Zo{getSidesCount(e){var t,n;const i=e.shapeData;return null!==(n=null!==(t=null===i||void 0===i?void 0:i.sides)&&void 0!==t?t:null===i||void 0===i?void 0:i.nb_sides)&&void 0!==n?n:5}draw(e,t,n){const i=this.getCenter(t,n),r=this.getSidesData(t,n),o=r.count.numerator*r.count.denominator,s=r.count.numerator/r.count.denominator,a=180*(s-2)/s,l=Math.PI-Math.PI*a/180;if(e){e.beginPath(),e.translate(i.x,i.y),e.moveTo(0,0);for(let t=0;t<o;t++)e.lineTo(r.length,0),e.translate(r.length,0),e.rotate(l)}}}class es extends Zo{getSidesData(e,t){var n,i;const r=e.shapeData,o=null!==(i=null!==(n=null===r||void 0===r?void 0:r.sides)&&void 0!==n?n:null===r||void 0===r?void 0:r.nb_sides)&&void 0!==i?i:5;return{count:{denominator:1,numerator:o},length:2.66*t/(o/3)}}getCenter(e,t){const n=this.getSidesCount(e);return{x:-t/(n/3.5),y:-t/.76}}}class ts extends Zo{getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:2*t}}getCenter(e,t){return{x:-t,y:t/1.66}}}async function ns(e){await e.addShape("polygon",new es)}async function is(e){await e.addShape("triangle",new ts)}async function rs(e){await ns(e),await is(e)}function os(e,t,n,i){switch(e.options.size.animation.destroy){case"max":t>=i&&e.destroy();break;case"min":t<=n&&e.destroy();break}}function ss(e,t){var n,i,r,o;const s=(null!==(n=e.size.velocity)&&void 0!==n?n:0)*t.factor,a=e.size.min,l=e.size.max;if(!(e.destroyed||!e.size.enable||(null!==(i=e.size.maxLoops)&&void 0!==i?i:0)>0&&(null!==(r=e.size.loops)&&void 0!==r?r:0)>(null!==(o=e.size.maxLoops)&&void 0!==o?o:0))){switch(e.size.status){case 0:e.size.value>=l?(e.size.status=1,e.size.loops||(e.size.loops=0),e.size.loops++):e.size.value+=s;break;case 1:e.size.value<=a?(e.size.status=0,e.size.loops||(e.size.loops=0),e.size.loops++):e.size.value-=s}os(e,e.size.value,a,l),e.destroyed||(e.size.value=I(e.size.value,a,l))}}class as{init(){}isEnabled(e){var t,n,i,r;return!e.destroyed&&!e.spawning&&e.size.enable&&((null!==(t=e.size.maxLoops)&&void 0!==t?t:0)<=0||(null!==(n=e.size.maxLoops)&&void 0!==n?n:0)>0&&(null!==(i=e.size.loops)&&void 0!==i?i:0)<(null!==(r=e.size.maxLoops)&&void 0!==r?r:0))}update(e,t){this.isEnabled(e)&&ss(e,t)}}async function ls(e){await e.addParticleUpdater("size",()=>new as)}const cs=Math.sqrt(2);class us{getSidesCount(){return 4}draw(e,t,n){e.rect(-n/cs,-n/cs,2*n/cs,2*n/cs)}}async function hs(e){const t=new us;await e.addShape("edge",t),await e.addShape("square",t)}class ds{getSidesCount(e){var t,n;const i=e.shapeData;return null!==(n=null!==(t=null===i||void 0===i?void 0:i.sides)&&void 0!==t?t:null===i||void 0===i?void 0:i.nb_sides)&&void 0!==n?n:5}draw(e,t,n){var i;const r=t.shapeData,o=this.getSidesCount(t),s=null!==(i=null===r||void 0===r?void 0:r.inset)&&void 0!==i?i:2;e.moveTo(0,0-n);for(let a=0;a<o;a++)e.rotate(Math.PI/o),e.lineTo(0,0-n*s),e.rotate(Math.PI/o),e.lineTo(0,0-n)}}async function fs(e){await e.addShape("star",new ds)}function ps(e,t,n,i,r){var o;const s=t;if(!s||!s.enable)return;const a=D(n.offset),l=(null!==(o=t.velocity)&&void 0!==o?o:0)*e.factor+3.6*a;r&&0!==s.status?(s.value-=l,s.value<0&&(s.status=0,s.value+=s.value)):(s.value+=l,r&&s.value>i&&(s.status=1,s.value-=s.value%i)),s.value>i&&(s.value%=i)}function ms(e,t){var n,i,r,o,s,a,l,c,u,h;if(!(null===(n=e.stroke)||void 0===n?void 0:n.color))return;const d=e.stroke.color.animation,f=null!==(r=null===(i=e.strokeColor)||void 0===i?void 0:i.h)&&void 0!==r?r:null===(o=e.color)||void 0===o?void 0:o.h;f&&ps(t,f,d.h,360,!1);const p=null!==(a=null===(s=e.strokeColor)||void 0===s?void 0:s.s)&&void 0!==a?a:null===(l=e.color)||void 0===l?void 0:l.s;p&&ps(t,p,d.s,100,!0);const m=null!==(u=null===(c=e.strokeColor)||void 0===c?void 0:c.l)&&void 0!==u?u:null===(h=e.color)||void 0===h?void 0:h.l;m&&ps(t,m,d.l,100,!0)}class gs{constructor(e){this.container=e}init(e){var t,n;const i=this.container;e.stroke=e.options.stroke instanceof Array?re(e.options.stroke,e.id,e.options.reduceDuplicates):e.options.stroke,e.strokeWidth=e.stroke.width*i.retina.pixelRatio;const r=null!==(t=ve(e.stroke.color))&&void 0!==t?t:e.getFillColor();r&&(e.strokeColor=De(r,null===(n=e.stroke.color)||void 0===n?void 0:n.animation,i.retina.reduceFactor))}isEnabled(e){var t,n,i,r;const o=null===(t=e.stroke)||void 0===t?void 0:t.color;return!e.destroyed&&!e.spawning&&!!o&&(void 0!==(null===(n=e.strokeColor)||void 0===n?void 0:n.h.value)&&o.animation.h.enable||void 0!==(null===(i=e.strokeColor)||void 0===i?void 0:i.s.value)&&o.animation.s.enable||void 0!==(null===(r=e.strokeColor)||void 0===r?void 0:r.l.value)&&o.animation.l.enable)}update(e,t){this.isEnabled(e)&&ms(e,t)}}async function As(e){await e.addParticleUpdater("strokeColor",e=>new gs(e))}const ys=["text","character","char"];class vs{getSidesCount(){return 12}async init(e){const t=e.actualOptions;if(ys.find(e=>te(e,t.particles.shape.type))){const e=ys.map(e=>t.particles.shape.options[e]).find(e=>!!e);if(e instanceof Array){const t=[];for(const n of e)t.push(ne(n));await Promise.allSettled(t)}else void 0!==e&&await ne(e)}}draw(e,t,n,i){var r,o,s;const a=t.shapeData;if(void 0===a)return;const l=a.value;if(void 0===l)return;const c=t;void 0===c.text&&(c.text=l instanceof Array?re(l,t.randomIndexData):l);const u=c.text,h=null!==(r=a.style)&&void 0!==r?r:"",d=null!==(o=a.weight)&&void 0!==o?o:"400",f=2*Math.round(n),p=null!==(s=a.font)&&void 0!==s?s:"Verdana",m=t.fill,g=u.length*n/2;e.font=`${h} ${d} ${f}px "${p}"`;const A={x:-g,y:n/2};e.globalAlpha=i,m?e.fillText(u,A.x,A.y):e.strokeText(u,A.x,A.y),e.globalAlpha=1}}async function bs(e){const t=new vs;for(const n of ys)await e.addShape(n,t)}async function _s(e){await qr(e),await Fo(e),await Kr(e),await Jr(e),await to(e),await io(e),await oo(e),await ao(e),await co(e),await ho(e),await po(e),await zo(e),await Go(e),await Jo(e),await Hr(e),await So(e),await Co(e),await rs(e),await hs(e),await fs(e),await bs(e),await Eo(e),await Io(e),await ls(e),await Nr(e),await Xr(e),await As(e),await No(e)}function ws(e,t){var n;if(!e.tilt)return;const i=e.options.tilt,r=i.animation,o=(null!==(n=e.tilt.velocity)&&void 0!==n?n:0)*t.factor,s=2*Math.PI;if(r.enable)switch(e.tilt.status){case 0:e.tilt.value+=o,e.tilt.value>s&&(e.tilt.value-=s);break;case 1:default:e.tilt.value-=o,e.tilt.value<0&&(e.tilt.value+=s);break}}class xs{constructor(e){this.container=e}init(e){const t=e.options.tilt;e.tilt={enable:t.enable,value:L(t.value)*Math.PI/180,sinDirection:Math.random()>=.5?1:-1,cosDirection:Math.random()>=.5?1:-1};let n=t.direction;if("random"===n){const e=Math.floor(2*Math.random());n=e>0?"counter-clockwise":"clockwise"}switch(n){case"counter-clockwise":case"counterClockwise":e.tilt.status=1;break;case"clockwise":e.tilt.status=0;break}const i=e.options.tilt.animation;i.enable&&(e.tilt.velocity=L(i.speed)/360*this.container.retina.reduceFactor,i.sync||(e.tilt.velocity*=Math.random()))}isEnabled(e){const t=e.options.tilt,n=t.animation;return!e.destroyed&&!e.spawning&&n.enable}update(e,t){this.isEnabled(e)&&ws(e,t)}}async function Ss(e){await e.addParticleUpdater("tilt",e=>new xs(e))}class Ts{getColorStyles(e,t,n,i){const r=e.options,o=r.twinkle.particles,s=o.enable&&Math.random()<o.frequency,a=e.options.zIndex,l=(1-e.zIndexFactor)**a.opacityRate,c=s?L(o.opacity)*l:i,u=ve(o.color),h=u?Oe(u,c):void 0,d={},f=s&&h;return d.fill=f?h:void 0,d.stroke=f?h:void 0,d}init(){}isEnabled(e){return e.options.twinkle.particles.enable}update(){}}async function Es(e){await e.addParticleUpdater("twinkle",()=>new Ts)}function Ms(e,t){var n;const i=e.options.wobble;if(!i.enable||!e.wobble)return;const r=e.wobble.speed*t.factor,o=(null!==(n=e.retina.wobbleDistance)&&void 0!==n?n:0)*t.factor/(1e3/60),s=2*Math.PI;e.wobble.angle+=r,e.wobble.angle>s&&(e.wobble.angle-=s),e.position.x+=o*Math.cos(e.wobble.angle),e.position.y+=o*Math.abs(Math.sin(e.wobble.angle))}class Cs{constructor(e){this.container=e}init(e){const t=e.options.wobble;t.enable?e.wobble={angle:Math.random()*Math.PI*2,speed:L(t.speed)/360}:e.wobble={angle:0,speed:0},e.retina.wobbleDistance=L(t.distance)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&e.options.wobble.enable}update(e,t){this.isEnabled(e)&&Ms(e,t)}}async function Os(e){await e.addParticleUpdater("wobble",e=>new Cs(e))}async function ks(e){await _s(e),await Rr(e),await Ss(e),await Es(e),await Os(e),await gr(e),await zi(e),await fr(e),await kr(e)}const Ps=new Ri;Ps.init();const{particlesJS:Is,pJSDom:Rs}=Di(Ps);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function Ds(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}ks(Ps);let Ls=class extends C{mounted(){Object(i["nextTick"])(()=>{var e;if(!this.id)throw new Error("Prop 'id' is required!");Ps.init(),this.particlesInit&&this.particlesInit(Ps);const t=e=>{this.container=e,this.particlesLoaded&&e&&this.particlesLoaded(e)};this.url?Ps.loadJSON(this.id,this.url).then(t):Ps.load(this.id,null!==(e=this.options)&&void 0!==e?e:{}).then(t)})}beforeDestroy(){this.container&&this.container.destroy()}};Ls=Ds([O({props:{id:{type:String,required:!0},options:{type:Object},url:{type:String},particlesLoaded:{type:Function},particlesInit:{type:Function}}})],Ls);var Ns=Ls;const Bs=["id"];function Fs(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:e.id},null,8,Bs)}Ns.render=Fs,Ns.__file="src/Particles/Particles.vue";const js=(e,t)=>{e.component("Particles",Ns)}},"6ae0":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),r=function(){function e(e,t,n){void 0===e&&(e=NaN),void 0===t&&(t=NaN),void 0===n&&(n=!1),this._minFPS=t,this._maxFPS=e,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new i.default,this._onPause=new i.default,this._onTick=new i.default,this._onTickOncePerFrame=new i.default,n||this.resume()}return e.prototype.updateOnce=function(e){e(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},e.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},e.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},e.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(e.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._timeScale},set:function(e){this._timeScale!==e&&(this._timeScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),e.prototype.animateOnce=function(){var e=this;this._animationFrameHandle=window.requestAnimationFrame((function(){return e.onFrame()}))},e.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},e.prototype.update=function(e,t){void 0===t&&(t=!0),this._currentTick++,this._currentTime+=e,this._tickDeltaTime=e,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),t&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},e.prototype.getTimer=function(){return Date.now()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";var n=function(){function e(){this.functions=[]}return e.prototype.add=function(e){return-1===this.functions.indexOf(e)&&(this.functions.push(e),!0)},e.prototype.remove=function(e){var t=this.functions.indexOf(e);return t>-1&&(this.functions.splice(t,1),!0)},e.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},e.prototype.dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.functions.concat();n.forEach((function(t){t.apply(void 0,e)}))},Object.defineProperty(e.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])}))}])}))},"6df4":function(e,t){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/;function a(e,t){var n=-1,i=e?e.length:0,r=Array(i);while(++n<i)r[n]=t(e[n],n,e);return r}function l(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function c(e,t){return a(t,(function(t){return e[t]}))}function u(e,t){return function(n){return e(t(n))}}var h=Object.prototype,d=h.hasOwnProperty,f=h.toString,p=h.propertyIsEnumerable,m=u(Object.keys,Object);function g(e,t){var n=_(e)||b(e)?l(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!d.call(e,o)||r&&("length"==o||y(o,i))||n.push(o);return n}function A(e){if(!v(e))return m(e);var t=[];for(var n in Object(e))d.call(e,n)&&"constructor"!=n&&t.push(n);return t}function y(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function v(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||h;return e===n}function b(e){return x(e)&&d.call(e,"callee")&&(!p.call(e,"callee")||f.call(e)==i)}var _=Array.isArray;function w(e){return null!=e&&T(e.length)&&!S(e)}function x(e){return M(e)&&w(e)}function S(e){var t=E(e)?f.call(e):"";return t==r||t==o}function T(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function M(e){return!!e&&"object"==typeof e}function C(e){return w(e)?g(e):A(e)}function O(e){return e?c(e,C(e)):[]}e.exports=O},"6f19":function(e,t,n){var i=n("9112"),r=n("0d26"),o=n("b980"),s=Error.captureStackTrace;e.exports=function(e,t,n,a){o&&(s?s(e,t):i(e,"stack",r(n,a)))}},"6f6e":function(e,t,n){"use strict";var i=n("57de");(0,i.default)("ArgumentPlaceholder",{}),(0,i.default)("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?{object:{validate:(0,i.assertNodeType)("Expression")},callee:{validate:(0,i.assertNodeType)("Expression")}}:{object:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})},callee:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})}}}),(0,i.default)("ImportAttribute",{visitor:["key","value"],fields:{key:{validate:(0,i.assertNodeType)("Identifier","StringLiteral")},value:{validate:(0,i.assertNodeType)("StringLiteral")}}}),(0,i.default)("Decorator",{visitor:["expression"],fields:{expression:{validate:(0,i.assertNodeType)("Expression")}}}),(0,i.default)("DoExpression",{visitor:["body"],builder:["body","async"],aliases:["Expression"],fields:{body:{validate:(0,i.assertNodeType)("BlockStatement")},async:{validate:(0,i.assertValueType)("boolean"),default:!1}}}),(0,i.default)("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,i.assertNodeType)("Identifier")}}}),(0,i.default)("RecordExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("ObjectProperty","SpreadElement")))}}}),(0,i.default)("TupleExpression",{fields:{elements:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("Expression","SpreadElement"))),default:[]}},visitor:["elements"],aliases:["Expression"]}),(0,i.default)("DecimalLiteral",{builder:["value"],fields:{value:{validate:(0,i.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,i.default)("ModuleExpression",{visitor:["body"],fields:{body:{validate:(0,i.assertNodeType)("Program")}},aliases:["Expression"]}),(0,i.default)("TopicReference",{aliases:["Expression"]}),(0,i.default)("PipelineTopicExpression",{builder:["expression"],visitor:["expression"],fields:{expression:{validate:(0,i.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,i.default)("PipelineBareFunction",{builder:["callee"],visitor:["callee"],fields:{callee:{validate:(0,i.assertNodeType)("Expression")}},aliases:["Expression"]}),(0,i.default)("PipelinePrimaryTopicReference",{aliases:["Expression"]})},"6f8f":function(e,t,n){function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n("f8c9"),e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"70ea":function(e,t){function n(e,t){return t||(t=e.slice(0)),e.raw=t,e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},7156:function(e,t,n){var i=n("1626"),r=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var s,a;return o&&i(s=t.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},7234:function(e,t){e.exports=function(e){return null===e||void 0===e}},7282:function(e,t,n){var i=n("e330"),r=n("59ed");e.exports=function(e,t,n){try{return i(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},"72e7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485"),r=n("1633");function o(e){const t=[];for(let n=0;n<e.children.length;n++){let o=e.children[n];(0,i.isJSXText)(o)?(0,r.default)(o,t):((0,i.isJSXExpressionContainer)(o)&&(o=o.expression),(0,i.isJSXEmptyExpression)(o)||t.push(o))}return t}},7384:function(e,t,n){"use strict";var i=Object.create;function r(){var e=i(null);return e["__"]=void 0,delete e["__"],e}var o=function(e,t,n){this.path=e,this.matcher=t,this.delegate=n};o.prototype.to=function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}};var s=function(e){this.routes=r(),this.children=r(),this.target=e};function a(e,t,n){function i(i,r){var s=e+i;if(!r)return new o(s,t,n);r(a(s,t,n))}return i}function l(e,t,n){for(var i=0,r=0;r<e.length;r++)i+=e[r].path.length;t=t.substr(i);var o={path:t,handler:n};e.push(o)}function c(e,t,n,i){for(var r=t.routes,o=Object.keys(r),s=0;s<o.length;s++){var a=o[s],u=e.slice();l(u,a,r[a]);var h=t.children[a];h?c(u,h,n,i):n.call(i,u)}}s.prototype.add=function(e,t){this.routes[e]=t},s.prototype.addChild=function(e,t,n,i){var r=new s(t);this.children[e]=r;var o=a(e,r,i);i&&i.contextEntered&&i.contextEntered(t,o),n(o)};var u=function(e,t){var n=new s;e(a("",n,this.delegate)),c([],n,(function(e){t?t(this,e):this.add(e)}),this)};function h(e){return e.split("/").map(f).join("/")}var d=/%|\//g;function f(e){return e.length<3||-1===e.indexOf("%")?e:decodeURIComponent(e).replace(d,encodeURIComponent)}var p=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g;function m(e){return encodeURIComponent(e).replace(p,decodeURIComponent)}var g=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,A=Array.isArray,y=Object.prototype.hasOwnProperty;function v(e,t){if("object"!==typeof e||null===e)throw new Error("You must pass an object as the second argument to `generate`.");if(!y.call(e,t))throw new Error("You must provide param `"+t+"` to `generate`.");var n=e[t],i="string"===typeof n?n:""+n;if(0===i.length)throw new Error("You must provide a param `"+t+"`.");return i}var b=[];b[0]=function(e,t){for(var n=t,i=e.value,r=0;r<i.length;r++){var o=i.charCodeAt(r);n=n.put(o,!1,!1)}return n},b[1]=function(e,t){return t.put(47,!0,!0)},b[2]=function(e,t){return t.put(-1,!1,!0)},b[4]=function(e,t){return t};var _=[];_[0]=function(e){return e.value.replace(g,"\\$1")},_[1]=function(){return"([^/]+)"},_[2]=function(){return"(.+)"},_[4]=function(){return""};var w=[];w[0]=function(e){return e.value},w[1]=function(e,t){var n=v(t,e.value);return D.ENCODE_AND_DECODE_PATH_SEGMENTS?m(n):n},w[2]=function(e,t){return v(t,e.value)},w[4]=function(){return""};var x=Object.freeze({}),S=Object.freeze([]);function T(e,t,n){t.length>0&&47===t.charCodeAt(0)&&(t=t.substr(1));for(var i=t.split("/"),r=void 0,o=void 0,s=0;s<i.length;s++){var a=i[s],l=0,c=0;c=""===a?4:58===a.charCodeAt(0)?1:42===a.charCodeAt(0)?2:0,l=2<<c,12&l&&(a=a.slice(1),r=r||[],r.push(a),o=o||[],o.push(0!==(4&l))),14&l&&n[c]++,e.push({type:c,value:f(a)})}return{names:r||S,shouldDecodes:o||S}}function E(e,t,n){return e.char===t&&e.negate===n}var M=function(e,t,n,i,r){this.states=e,this.id=t,this.char=n,this.negate=i,this.nextStates=r?t:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};function C(e,t){return e.negate?e.char!==t&&-1!==e.char:e.char===t||-1===e.char}function O(e){return e.sort((function(e,t){var n=e.types||[0,0,0],i=n[0],r=n[1],o=n[2],s=t.types||[0,0,0],a=s[0],l=s[1],c=s[2];if(o!==c)return o-c;if(o){if(i!==a)return a-i;if(r!==l)return l-r}return r!==l?r-l:i!==a?a-i:0}))}function k(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];n=n.concat(o.match(t))}return n}M.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex},M.prototype.get=function(e,t){var n=this,i=this.nextStates;if(null!==i)if(A(i))for(var r=0;r<i.length;r++){var o=n.states[i[r]];if(E(o,e,t))return o}else{var s=this.states[i];if(E(s,e,t))return s}},M.prototype.put=function(e,t,n){var i;if(i=this.get(e,t))return i;var r=this.states;return i=new M(r,r.length,e,t,n),r[r.length]=i,null==this.nextStates?this.nextStates=i.id:A(this.nextStates)?this.nextStates.push(i.id):this.nextStates=[this.nextStates,i.id],i},M.prototype.match=function(e){var t=this,n=this.nextStates;if(!n)return[];var i=[];if(A(n))for(var r=0;r<n.length;r++){var o=t.states[n[r]];C(o,e)&&i.push(o)}else{var s=this.states[n];C(s,e)&&i.push(s)}return i};var P=function(e){this.length=0,this.queryParams=e||{}};function I(e,t,n){var i=e.handlers,r=e.regex();if(!r||!i)throw new Error("state not initialized");var o=t.match(r),s=1,a=new P(n);a.length=i.length;for(var l=0;l<i.length;l++){var c=i[l],u=c.names,h=c.shouldDecodes,d=x,f=!1;if(u!==S&&h!==S)for(var p=0;p<u.length;p++){f=!0;var m=u[p],g=o&&o[s++];d===x&&(d={}),D.ENCODE_AND_DECODE_PATH_SEGMENTS&&h[p]?d[m]=g&&decodeURIComponent(g):d[m]=g}a[l]={handler:c.handler,params:d,isDynamic:f}}return a}function R(e){var t;e=e.replace(/\+/gm,"%20");try{t=decodeURIComponent(e)}catch(n){t=""}return t}P.prototype.splice=Array.prototype.splice,P.prototype.slice=Array.prototype.slice,P.prototype.push=Array.prototype.push;var D=function(){this.names=r();var e=[],t=new M(e,0,-1,!0,!1);e[0]=t,this.states=e,this.rootState=t};D.prototype.add=function(e,t){for(var n,i=this.rootState,r="^",o=[0,0,0],s=new Array(e.length),a=[],l=!0,c=0,u=0;u<e.length;u++){for(var h=e[u],d=T(a,h.path,o),f=d.names,p=d.shouldDecodes;c<a.length;c++){var m=a[c];4!==m.type&&(l=!1,i=i.put(47,!1,!1),r+="/",i=b[m.type](m,i),r+=_[m.type](m))}s[u]={handler:h.handler,names:f,shouldDecodes:p}}l&&(i=i.put(47,!1,!1),r+="/"),i.handlers=s,i.pattern=r+"$",i.types=o,"object"===typeof t&&null!==t&&t.as&&(n=t.as),n&&(this.names[n]={segments:a,handlers:s})},D.prototype.handlersFor=function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);for(var n=new Array(t.handlers.length),i=0;i<t.handlers.length;i++){var r=t.handlers[i];n[i]=r}return n},D.prototype.hasRoute=function(e){return!!this.names[e]},D.prototype.generate=function(e,t){var n=this.names[e],i="";if(!n)throw new Error("There is no route named "+e);for(var r=n.segments,o=0;o<r.length;o++){var s=r[o];4!==s.type&&(i+="/",i+=w[s.type](s,t))}return"/"!==i.charAt(0)&&(i="/"+i),t&&t.queryParams&&(i+=this.generateQueryString(t.queryParams)),i},D.prototype.generateQueryString=function(e){var t=[],n=Object.keys(e);n.sort();for(var i=0;i<n.length;i++){var r=n[i],o=e[r];if(null!=o){var s=encodeURIComponent(r);if(A(o))for(var a=0;a<o.length;a++){var l=r+"[]="+encodeURIComponent(o[a]);t.push(l)}else s+="="+encodeURIComponent(o),t.push(s)}}return 0===t.length?"":"?"+t.join("&")},D.prototype.parseQueryString=function(e){for(var t=e.split("&"),n={},i=0;i<t.length;i++){var r=t[i].split("="),o=R(r[0]),s=o.length,a=!1,l=void 0;1===r.length?l="true":(s>2&&"[]"===o.slice(s-2)&&(a=!0,o=o.slice(0,s-2),n[o]||(n[o]=[])),l=r[1]?R(r[1]):""),a?n[o].push(l):n[o]=l}return n},D.prototype.recognize=function(e){var t,n=[this.rootState],i={},r=!1,o=e.indexOf("#");-1!==o&&(e=e.substr(0,o));var s=e.indexOf("?");if(-1!==s){var a=e.substr(s+1,e.length);e=e.substr(0,s),i=this.parseQueryString(a)}"/"!==e.charAt(0)&&(e="/"+e);var l=e;D.ENCODE_AND_DECODE_PATH_SEGMENTS?e=h(e):(e=decodeURI(e),l=decodeURI(l));var c=e.length;c>1&&"/"===e.charAt(c-1)&&(e=e.substr(0,c-1),l=l.substr(0,l.length-1),r=!0);for(var u=0;u<e.length;u++)if(n=k(n,e.charCodeAt(u)),!n.length)break;for(var d=[],f=0;f<n.length;f++)n[f].handlers&&d.push(n[f]);n=O(d);var p=d[0];return p&&p.handlers&&(r&&p.pattern&&"(.+)$"===p.pattern.slice(-5)&&(l+="/"),t=I(p,l,i)),t},D.VERSION="0.3.4",D.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,D.Normalizer={normalizeSegment:f,normalizePath:h,encodePathSegment:m},D.prototype.map=u,t["a"]=D},"73bd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n("c1f7"),r=n("c485"),o=n("eb5b"),s=n("bf78");function a(e,t,n){const l=[];let c=!0;for(const u of e)if((0,r.isEmptyStatement)(u)||(c=!1),(0,r.isExpression)(u))l.push(u);else if((0,r.isExpressionStatement)(u))l.push(u.expression);else if((0,r.isVariableDeclaration)(u)){if("var"!==u.kind)return;for(const e of u.declarations){const t=(0,i.default)(e);for(const e of Object.keys(t))n.push({kind:u.kind,id:(0,s.default)(t[e])});e.init&&l.push((0,o.assignmentExpression)("=",e.id,e.init))}c=!0}else if((0,r.isIfStatement)(u)){const e=u.consequent?a([u.consequent],t,n):t.buildUndefinedNode(),i=u.alternate?a([u.alternate],t,n):t.buildUndefinedNode();if(!e||!i)return;l.push((0,o.conditionalExpression)(u.test,e,i))}else if((0,r.isBlockStatement)(u)){const e=a(u.body,t,n);if(!e)return;l.push(e)}else{if(!(0,r.isEmptyStatement)(u))return;0===e.indexOf(u)&&(c=!0)}return c&&l.push(t.buildUndefinedNode()),1===l.length?l[0]:(0,o.sequenceExpression)(l)}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"795b":function(e,t,n){"use strict";
/*!
 * maska v1.5.2
 * (c) 2019-2022 Alexander Shabunevich
 * Released under the MIT License.
 */
function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function a(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}n.d(t,"a",(function(){return v}));var c={"#":{pattern:/[0-9]/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,uppercase:!0},a:{pattern:/[a-zA-Z]/,lowercase:!0},"!":{escape:!0},"*":{repeat:!0}};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return h(t).length>1?d(t)(e,t,n,i):f(e,t,n,i)}function h(e){try{return JSON.parse(e)}catch(r){return[e]}}function d(e){var t=h(e).sort((function(e,t){return e.length-t.length}));return function(e,i,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=t.map((function(t){return f(e,t,r,!1)})),a=s.pop();for(var l in t)if(n(a,t[l],r))return f(e,t[l],r,o);return""};function n(e,t,n){for(var i in n)n[i].escape&&(t=t.replace(new RegExp(i+".{1}","g"),""));return t.split("").filter((function(e){return n[e]&&n[e].pattern})).length>=e.length}}function f(e,t,n){for(var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=0,o=0,s="",a="";r<t.length&&o<e.length;){var l=t[r],c=e[o],u=n[l];if(u&&u.pattern)u.pattern.test(c)&&(s+=p(c,u),r++,i&&t[r]&&(n[t[r]]?n[t[r]]&&n[t[r]].escape&&(s+=t[r+1],r+=2):(s+=t[r],r++))),o++;else if(u&&u.repeat){var h=n[t[r-1]];h&&!h.pattern.test(c)?r++:r--}else u&&u.escape&&(l=t[++r]),i&&(s+=l),c===l&&o++,r++}for(;i&&r<t.length;){var d=t[r];if(n[d]){a="";break}a+=d,r++}return s+a}function p(e,t){return t.transform&&(e=t.transform(e)),t.uppercase?e.toLocaleUpperCase():t.lowercase?e.toLocaleLowerCase():e}function m(e){return e instanceof HTMLInputElement?e:e.querySelector("input")||e}function g(e){return"[object String]"===Object.prototype.toString.call(e)}var A,y=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),!t)throw new Error("Maska: no element for mask");if(null!=i.preprocessor&&"function"!=typeof i.preprocessor)throw new Error("Maska: preprocessor must be a function");if(i.tokens)for(var s in i.tokens)i.tokens[s]=r({},i.tokens[s]),i.tokens[s].pattern&&g(i.tokens[s].pattern)&&(i.tokens[s].pattern=new RegExp(i.tokens[s].pattern));this._opts={mask:i.mask,tokens:r(r({},c),i.tokens),preprocessor:i.preprocessor},this._el=g(t)?document.querySelectorAll(t):t.length?t:[t],this.inputEvent=function(e){return n.updateValue(e.target,e)},this.init()}var t,n,i;return t=e,n=[{key:"init",value:function(){for(var e=this,t=function(t){var n=m(e._el[t]);!e._opts.mask||n.dataset.mask&&n.dataset.mask===e._opts.mask||(n.dataset.mask=e._opts.mask),setTimeout((function(){return e.updateValue(n)}),0),n.dataset.maskInited||(n.dataset.maskInited=!0,n.addEventListener("input",e.inputEvent),n.addEventListener("beforeinput",e.beforeInput))},n=0;n<this._el.length;n++)t(n)}},{key:"destroy",value:function(){for(var e=0;e<this._el.length;e++){var t=m(this._el[e]);t.removeEventListener("input",this.inputEvent),t.removeEventListener("beforeinput",this.beforeInput),delete t.dataset.mask,delete t.dataset.maskInited}}},{key:"updateValue",value:function(e,t){if(e&&e.type){var n=e.type.match(/^number$/i)&&e.validity.badInput;if(!e.value&&!n||!e.dataset.mask)return e.dataset.maskRawValue="",void this.dispatch("maska",e,t);var i=e.selectionEnd,r=e.value,o=r[i-1];e.dataset.maskRawValue=u(e.value,e.dataset.mask,this._opts.tokens,!1);var s=e.value;this._opts.preprocessor&&(s=this._opts.preprocessor(s)),e.value=u(s,e.dataset.mask,this._opts.tokens),t&&"insertText"===t.inputType&&i===r.length&&(i=e.value.length),function(e,t,n){for(;t&&t<e.value.length&&e.value.charAt(t-1)!==n;)t++;(e.type?e.type.match(/^(text|search|password|tel|url)$/i):!e.type)&&e===document.activeElement&&(e.setSelectionRange(t,t),setTimeout((function(){e.setSelectionRange(t,t)}),0))}(e,i,o),this.dispatch("maska",e,t),e.value!==r&&this.dispatch("input",e,t)}}},{key:"beforeInput",value:function(e){e&&e.target&&e.target.type&&e.target.type.match(/^number$/i)&&e.data&&isNaN(e.target.value+e.data)&&e.preventDefault()}},{key:"dispatch",value:function(e,t,n){t.dispatchEvent(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createEvent("Event");return n.initEvent(e,!0,!0),t&&(n.inputType=t),n}(e,n&&n.inputType||null))}}],n&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=(A=new WeakMap,function(e,t){t.value&&(A.has(e)&&!function(e){return!(g(e.value)&&e.value===e.oldValue||Array.isArray(e.value)&&JSON.stringify(e.value)===JSON.stringify(e.oldValue)||e.value&&e.value.mask&&e.oldValue&&e.oldValue.mask&&e.value.mask===e.oldValue.mask)}(t)||A.set(e,new y(e,function(e){var t={};return e.mask?(t.mask=Array.isArray(e.mask)?JSON.stringify(e.mask):e.mask,t.tokens=e.tokens?r({},e.tokens):{},t.preprocessor=e.preprocessor):t.mask=Array.isArray(e)?JSON.stringify(e):e,t}(t.value))))});function b(e){e.directive("maska",v)}"undefined"!=typeof window&&window.Vue&&window.Vue.use&&window.Vue.use(b)},"7a23":function(e,t,n){"use strict";n.r(t),n.d(t,"EffectScope",(function(){return i["c"]})),n.d(t,"ReactiveEffect",(function(){return i["f"]})),n.d(t,"customRef",(function(){return i["D"]})),n.d(t,"effect",(function(){return i["K"]})),n.d(t,"effectScope",(function(){return i["L"]})),n.d(t,"getCurrentScope",(function(){return i["N"]})),n.d(t,"isProxy",(function(){return i["V"]})),n.d(t,"isReactive",(function(){return i["W"]})),n.d(t,"isReadonly",(function(){return i["X"]})),n.d(t,"isRef",(function(){return i["Y"]})),n.d(t,"isShallow",(function(){return i["ab"]})),n.d(t,"markRaw",(function(){return i["cb"]})),n.d(t,"onScopeDispose",(function(){return i["sb"]})),n.d(t,"proxyRefs",(function(){return i["zb"]})),n.d(t,"reactive",(function(){return i["Cb"]})),n.d(t,"readonly",(function(){return i["Db"]})),n.d(t,"ref",(function(){return i["Eb"]})),n.d(t,"shallowReactive",(function(){return i["Qb"]})),n.d(t,"shallowReadonly",(function(){return i["Rb"]})),n.d(t,"shallowRef",(function(){return i["Sb"]})),n.d(t,"stop",(function(){return i["Vb"]})),n.d(t,"toRaw",(function(){return i["Zb"]})),n.d(t,"toRef",(function(){return i["ac"]})),n.d(t,"toRefs",(function(){return i["bc"]})),n.d(t,"triggerRef",(function(){return i["dc"]})),n.d(t,"unref",(function(){return i["ec"]})),n.d(t,"camelize",(function(){return i["n"]})),n.d(t,"capitalize",(function(){return i["o"]})),n.d(t,"normalizeClass",(function(){return i["gb"]})),n.d(t,"normalizeProps",(function(){return i["hb"]})),n.d(t,"normalizeStyle",(function(){return i["ib"]})),n.d(t,"toDisplayString",(function(){return i["Wb"]})),n.d(t,"toHandlerKey",(function(){return i["Xb"]})),n.d(t,"BaseTransition",(function(){return i["a"]})),n.d(t,"Comment",(function(){return i["b"]})),n.d(t,"Fragment",(function(){return i["d"]})),n.d(t,"KeepAlive",(function(){return i["e"]})),n.d(t,"Static",(function(){return i["g"]})),n.d(t,"Suspense",(function(){return i["h"]})),n.d(t,"Teleport",(function(){return i["i"]})),n.d(t,"Text",(function(){return i["j"]})),n.d(t,"assertNumber",(function(){return i["k"]})),n.d(t,"callWithAsyncErrorHandling",(function(){return i["l"]})),n.d(t,"callWithErrorHandling",(function(){return i["m"]})),n.d(t,"cloneVNode",(function(){return i["p"]})),n.d(t,"compatUtils",(function(){return i["q"]})),n.d(t,"computed",(function(){return i["r"]})),n.d(t,"createBlock",(function(){return i["s"]})),n.d(t,"createCommentVNode",(function(){return i["t"]})),n.d(t,"createElementBlock",(function(){return i["u"]})),n.d(t,"createElementVNode",(function(){return i["v"]})),n.d(t,"createHydrationRenderer",(function(){return i["w"]})),n.d(t,"createPropsRestProxy",(function(){return i["x"]})),n.d(t,"createRenderer",(function(){return i["y"]})),n.d(t,"createSlots",(function(){return i["z"]})),n.d(t,"createStaticVNode",(function(){return i["A"]})),n.d(t,"createTextVNode",(function(){return i["B"]})),n.d(t,"createVNode",(function(){return i["C"]})),n.d(t,"defineAsyncComponent",(function(){return i["E"]})),n.d(t,"defineComponent",(function(){return i["F"]})),n.d(t,"defineEmits",(function(){return i["G"]})),n.d(t,"defineExpose",(function(){return i["H"]})),n.d(t,"defineProps",(function(){return i["I"]})),n.d(t,"devtools",(function(){return i["J"]})),n.d(t,"getCurrentInstance",(function(){return i["M"]})),n.d(t,"getTransitionRawChildren",(function(){return i["O"]})),n.d(t,"guardReactiveProps",(function(){return i["P"]})),n.d(t,"h",(function(){return i["Q"]})),n.d(t,"handleError",(function(){return i["R"]})),n.d(t,"initCustomFormatter",(function(){return i["S"]})),n.d(t,"inject",(function(){return i["T"]})),n.d(t,"isMemoSame",(function(){return i["U"]})),n.d(t,"isRuntimeOnly",(function(){return i["Z"]})),n.d(t,"isVNode",(function(){return i["bb"]})),n.d(t,"mergeDefaults",(function(){return i["db"]})),n.d(t,"mergeProps",(function(){return i["eb"]})),n.d(t,"nextTick",(function(){return i["fb"]})),n.d(t,"onActivated",(function(){return i["jb"]})),n.d(t,"onBeforeMount",(function(){return i["kb"]})),n.d(t,"onBeforeUnmount",(function(){return i["lb"]})),n.d(t,"onBeforeUpdate",(function(){return i["mb"]})),n.d(t,"onDeactivated",(function(){return i["nb"]})),n.d(t,"onErrorCaptured",(function(){return i["ob"]})),n.d(t,"onMounted",(function(){return i["pb"]})),n.d(t,"onRenderTracked",(function(){return i["qb"]})),n.d(t,"onRenderTriggered",(function(){return i["rb"]})),n.d(t,"onServerPrefetch",(function(){return i["tb"]})),n.d(t,"onUnmounted",(function(){return i["ub"]})),n.d(t,"onUpdated",(function(){return i["vb"]})),n.d(t,"openBlock",(function(){return i["wb"]})),n.d(t,"popScopeId",(function(){return i["xb"]})),n.d(t,"provide",(function(){return i["yb"]})),n.d(t,"pushScopeId",(function(){return i["Ab"]})),n.d(t,"queuePostFlushCb",(function(){return i["Bb"]})),n.d(t,"registerRuntimeCompiler",(function(){return i["Fb"]})),n.d(t,"renderList",(function(){return i["Gb"]})),n.d(t,"renderSlot",(function(){return i["Hb"]})),n.d(t,"resolveComponent",(function(){return i["Ib"]})),n.d(t,"resolveDirective",(function(){return i["Jb"]})),n.d(t,"resolveDynamicComponent",(function(){return i["Kb"]})),n.d(t,"resolveFilter",(function(){return i["Lb"]})),n.d(t,"resolveTransitionHooks",(function(){return i["Mb"]})),n.d(t,"setBlockTracking",(function(){return i["Nb"]})),n.d(t,"setDevtoolsHook",(function(){return i["Ob"]})),n.d(t,"setTransitionHooks",(function(){return i["Pb"]})),n.d(t,"ssrContextKey",(function(){return i["Tb"]})),n.d(t,"ssrUtils",(function(){return i["Ub"]})),n.d(t,"toHandlers",(function(){return i["Yb"]})),n.d(t,"transformVNodeArgs",(function(){return i["cc"]})),n.d(t,"useAttrs",(function(){return i["fc"]})),n.d(t,"useSSRContext",(function(){return i["gc"]})),n.d(t,"useSlots",(function(){return i["hc"]})),n.d(t,"useTransitionState",(function(){return i["ic"]})),n.d(t,"version",(function(){return i["jc"]})),n.d(t,"warn",(function(){return i["kc"]})),n.d(t,"watch",(function(){return i["lc"]})),n.d(t,"watchEffect",(function(){return i["mc"]})),n.d(t,"watchPostEffect",(function(){return i["nc"]})),n.d(t,"watchSyncEffect",(function(){return i["oc"]})),n.d(t,"withAsyncContext",(function(){return i["pc"]})),n.d(t,"withCtx",(function(){return i["qc"]})),n.d(t,"withDefaults",(function(){return i["rc"]})),n.d(t,"withDirectives",(function(){return i["sc"]})),n.d(t,"withMemo",(function(){return i["tc"]})),n.d(t,"withScopeId",(function(){return i["uc"]})),n.d(t,"Transition",(function(){return V})),n.d(t,"TransitionGroup",(function(){return ce})),n.d(t,"VueElement",(function(){return N})),n.d(t,"createApp",(function(){return He})),n.d(t,"createSSRApp",(function(){return Ge})),n.d(t,"defineCustomElement",(function(){return R})),n.d(t,"defineSSRCustomElement",(function(){return D})),n.d(t,"hydrate",(function(){return Ve})),n.d(t,"initDirectivesForSSR",(function(){return Xe})),n.d(t,"render",(function(){return qe})),n.d(t,"useCssModule",(function(){return B})),n.d(t,"useCssVars",(function(){return F})),n.d(t,"vModelCheckbox",(function(){return ye})),n.d(t,"vModelDynamic",(function(){return Te})),n.d(t,"vModelRadio",(function(){return be})),n.d(t,"vModelSelect",(function(){return _e})),n.d(t,"vModelText",(function(){return Ae})),n.d(t,"vShow",(function(){return De})),n.d(t,"withKeys",(function(){return Re})),n.d(t,"withModifiers",(function(){return Pe})),n.d(t,"compile",(function(){return Ye}));var i=n("5c40"),r=n("9ff4"),o=n("a1e9");const s="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=a&&a.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?a.createElementNS(s,e):a.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>a.createTextNode(e),createComment:e=>a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const s=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling)){while(1)if(t.insertBefore(r.cloneNode(!0),n),r===o||!(r=r.nextSibling))break}else{l.innerHTML=i?`<svg>${e}</svg>`:e;const r=l.content;if(i){const e=r.firstChild;while(e.firstChild)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function h(e,t,n){const i=e.style,o=Object(r["F"])(n);if(n&&!o){if(t&&!Object(r["F"])(t))for(const e in t)null==n[e]&&f(i,e,"");for(const e in n)f(i,e,n[e])}else{const r=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const d=/\s*!important$/;function f(e,t,n){if(Object(r["o"])(n))n.forEach(n=>f(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=g(e,t);d.test(n)?e.setProperty(Object(r["l"])(i),n.replace(d,""),"important"):e[i]=n}}const p=["Webkit","Moz","ms"],m={};function g(e,t){const n=m[t];if(n)return n;let i=Object(r["e"])(t);if("filter"!==i&&i in e)return m[t]=i;i=Object(r["f"])(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in e)return m[t]=n}return t}const A="http://www.w3.org/1999/xlink";function y(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(A,t.slice(6,t.length)):e.setAttributeNS(A,t,n);else{const i=Object(r["E"])(t);null==n||i&&!Object(r["m"])(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function v(e,t,n,i,o,s,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,o,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const i=null==n?"":n;return e.value===i&&"OPTION"!==e.tagName||(e.value=i),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=Object(r["m"])(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(c){0}l&&e.removeAttribute(t)}function b(e,t,n,i){e.addEventListener(t,n,i)}function _(e,t,n,i){e.removeEventListener(t,n,i)}function w(e,t,n,i,r=null){const o=e._vei||(e._vei={}),s=o[t];if(i&&s)s.value=i;else{const[n,a]=S(t);if(i){const s=o[t]=C(i,r);b(e,n,s,a)}else s&&(_(e,n,s,a),o[t]=void 0)}}const x=/(?:Once|Passive|Capture)$/;function S(e){let t;if(x.test(e)){let n;t={};while(n=e.match(x))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):Object(r["l"])(e.slice(2));return[n,t]}let T=0;const E=Promise.resolve(),M=()=>T||(E.then(()=>T=0),T=Date.now());function C(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Object(i["l"])(O(e,n.value),t,5,[e])};return n.value=e,n.attached=M(),n}function O(e,t){if(Object(r["o"])(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}const k=/^on[a-z]/,P=(e,t,n,i,o=!1,s,a,l,c)=>{"class"===t?u(e,i,o):"style"===t?h(e,n,i):Object(r["x"])(t)?Object(r["v"])(t)||w(e,t,n,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):I(e,t,i,o))?v(e,t,i,s,a,l,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,o))};function I(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&k.test(t)&&Object(r["q"])(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!k.test(t)||!Object(r["F"])(n))&&t in e))))}function R(e,t){const n=Object(i["F"])(e);class r extends N{constructor(e){super(n,e,t)}}return r.def=n,r}const D=e=>R(e,Ve),L="undefined"!==typeof HTMLElement?HTMLElement:class{};class N extends L{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Object(i["fb"])(()=>{this._connected||(qe(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver(e=>{for(const t of e)this._setAttr(t.attributeName)}).observe(this,{attributes:!0});const e=(e,t=!1)=>{const{props:n,styles:i}=e;let o;if(n&&!Object(r["o"])(n))for(const s in n){const e=n[s];(e===Number||e&&e.type===Number)&&(s in this._props&&(this._props[s]=Object(r["R"])(this._props[s])),(o||(o=Object.create(null)))[Object(r["e"])(s)]=!0)}this._numberProps=o,t&&this._resolveProps(e),this._applyStyles(i),this._update()},t=this._def.__asyncLoader;t?t().then(t=>e(t,!0)):e(this._def)}_resolveProps(e){const{props:t}=e,n=Object(r["o"])(t)?t:Object.keys(t||{});for(const i of Object.keys(this))"_"!==i[0]&&n.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of n.map(r["e"]))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(e){this._setProp(i,e)}})}_setAttr(e){let t=this.getAttribute(e);const n=Object(r["e"])(e);this._numberProps&&this._numberProps[n]&&(t=Object(r["R"])(t)),this._setProp(n,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(Object(r["l"])(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute(Object(r["l"])(e),t+""):t||this.removeAttribute(Object(r["l"])(e))))}_update(){qe(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Object(i["C"])(this._def,Object(r["h"])({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};e.emit=(e,...n)=>{t(e,n),Object(r["l"])(e)!==e&&t(Object(r["l"])(e),n)};let n=this;while(n=n&&(n.parentNode||n.host))if(n instanceof N){e.parent=n._instance,e.provides=n._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)})}}function B(e="$style"){{const t=Object(i["M"])();if(!t)return r["b"];const n=t.type.__cssModules;if(!n)return r["b"];const o=n[e];return o||r["b"]}}function F(e){const t=Object(i["M"])();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(e=>U(e,n))},r=()=>{const i=e(t.proxy);j(t.subTree,i),n(i)};Object(i["nc"])(r),Object(i["pb"])(()=>{const e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),Object(i["ub"])(()=>e.disconnect())})}function j(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{j(n.activeBranch,t)})}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)U(e.el,t);else if(e.type===i["d"])e.children.forEach(e=>j(e,t));else if(e.type===i["g"]){let{el:n,anchor:i}=e;while(n){if(U(n,t),n===i)break;n=n.nextSibling}}}function U(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty("--"+e,t[e])}}const z="transition",q="animation",V=(e,{slots:t})=>Object(i["Q"])(i["a"],X(e),t);V.displayName="Transition";const H={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},G=V.props=Object(r["h"])({},i["a"].props,H),W=(e,t=[])=>{Object(r["o"])(e)?e.forEach(e=>e(...t)):e&&e(...t)},$=e=>!!e&&(Object(r["o"])(e)?e.some(e=>e.length>1):e.length>1);function X(e){const t={};for(const r in e)r in H||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:s=n+"-enter-from",enterActiveClass:a=n+"-enter-active",enterToClass:l=n+"-enter-to",appearFromClass:c=s,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=n+"-leave-from",leaveActiveClass:f=n+"-leave-active",leaveToClass:p=n+"-leave-to"}=e,m=Y(o),g=m&&m[0],A=m&&m[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:b,onLeave:_,onLeaveCancelled:w,onBeforeAppear:x=y,onAppear:S=v,onAppearCancelled:T=b}=t,E=(e,t,n)=>{J(e,t?h:l),J(e,t?u:a),n&&n()},M=(e,t)=>{e._isLeaving=!1,J(e,d),J(e,p),J(e,f),t&&t()},C=e=>(t,n)=>{const r=e?S:v,o=()=>E(t,e,n);W(r,[t,o]),Z(()=>{J(t,e?c:s),Q(t,e?h:l),$(r)||te(t,i,g,o)})};return Object(r["h"])(t,{onBeforeEnter(e){W(y,[e]),Q(e,s),Q(e,a)},onBeforeAppear(e){W(x,[e]),Q(e,c),Q(e,u)},onEnter:C(!1),onAppear:C(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>M(e,t);Q(e,d),oe(),Q(e,f),Z(()=>{e._isLeaving&&(J(e,d),Q(e,p),$(_)||te(e,i,A,n))}),W(_,[e,n])},onEnterCancelled(e){E(e,!1),W(b,[e])},onAppearCancelled(e){E(e,!0),W(T,[e])},onLeaveCancelled(e){M(e),W(w,[e])}})}function Y(e){if(null==e)return null;if(Object(r["w"])(e))return[K(e.enter),K(e.leave)];{const t=K(e);return[t,t]}}function K(e){const t=Object(r["R"])(e);return t}function Q(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function J(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Z(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ee=0;function te(e,t,n,i){const r=e._endId=++ee,o=()=>{r===e._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=ne(e,t);if(!s)return i();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,d),o()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,d)}function ne(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(z+"Delay"),o=i(z+"Duration"),s=ie(r,o),a=i(q+"Delay"),l=i(q+"Duration"),c=ie(a,l);let u=null,h=0,d=0;t===z?s>0&&(u=z,h=s,d=o.length):t===q?c>0&&(u=q,h=c,d=l.length):(h=Math.max(s,c),u=h>0?s>c?z:q:null,d=u?u===z?o.length:l.length:0);const f=u===z&&/\b(transform|all)(,|$)/.test(i(z+"Property").toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function ie(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>re(t)+re(e[n])))}function re(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function oe(){return document.body.offsetHeight}const se=new WeakMap,ae=new WeakMap,le={name:"TransitionGroup",props:Object(r["h"])({},G,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Object(i["M"])(),r=Object(i["ic"])();let s,a;return Object(i["vb"])(()=>{if(!s.length)return;const t=e.moveClass||(e.name||"v")+"-move";if(!fe(s[0].el,n.vnode.el,t))return;s.forEach(ue),s.forEach(he);const i=s.filter(de);oe(),i.forEach(e=>{const n=e.el,i=n.style;Q(n,t),i.transform=i.webkitTransform=i.transitionDuration="";const r=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,J(n,t))};n.addEventListener("transitionend",r)})}),()=>{const l=Object(o["y"])(e),c=X(l);let u=l.tag||i["d"];s=a,a=t.default?Object(i["O"])(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&Object(i["Pb"])(t,Object(i["Mb"])(t,c,r,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];Object(i["Pb"])(t,Object(i["Mb"])(t,c,r,n)),se.set(t,t.el.getBoundingClientRect())}return Object(i["C"])(u,null,a)}}};le.props;const ce=le;function ue(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function he(e){ae.set(e,e.el.getBoundingClientRect())}function de(e){const t=se.get(e),n=ae.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${i}px,${r}px)`,t.transitionDuration="0s",e}}function fe(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach(e=>{e.split(/\s+/).forEach(e=>e&&i.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&i.classList.add(e)),i.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(i);const{hasTransform:o}=ne(i);return r.removeChild(i),o}const pe=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Object(r["o"])(t)?e=>Object(r["n"])(t,e):t};function me(e){e.target.composing=!0}function ge(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ae={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e._assign=pe(o);const s=i||o.props&&"number"===o.props.type;b(e,t?"change":"input",t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),s&&(i=Object(r["J"])(i)),e._assign(i)}),n&&b(e,"change",()=>{e.value=e.value.trim()}),t||(b(e,"compositionstart",me),b(e,"compositionend",ge),b(e,"change",ge))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:o}},s){if(e._assign=pe(s),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((o||"number"===e.type)&&Object(r["J"])(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},ye={deep:!0,created(e,t,n){e._assign=pe(n),b(e,"change",()=>{const t=e._modelValue,n=xe(e),i=e.checked,o=e._assign;if(Object(r["o"])(t)){const e=Object(r["I"])(t,n),s=-1!==e;if(i&&!s)o(t.concat(n));else if(!i&&s){const n=[...t];n.splice(e,1),o(n)}}else if(Object(r["D"])(t)){const e=new Set(t);i?e.add(n):e.delete(n),o(e)}else o(Se(e,i))})},mounted:ve,beforeUpdate(e,t,n){e._assign=pe(n),ve(e,t,n)}};function ve(e,{value:t,oldValue:n},i){e._modelValue=t,Object(r["o"])(t)?e.checked=Object(r["I"])(t,i.props.value)>-1:Object(r["D"])(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Object(r["H"])(t,Se(e,!0)))}const be={created(e,{value:t},n){e.checked=Object(r["H"])(t,n.props.value),e._assign=pe(n),b(e,"change",()=>{e._assign(xe(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=pe(i),t!==n&&(e.checked=Object(r["H"])(t,i.props.value))}},_e={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=Object(r["D"])(t);b(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?Object(r["J"])(xe(e)):xe(e));e._assign(e.multiple?o?new Set(t):t:t[0])}),e._assign=pe(i)},mounted(e,{value:t}){we(e,t)},beforeUpdate(e,t,n){e._assign=pe(n)},updated(e,{value:t}){we(e,t)}};function we(e,t){const n=e.multiple;if(!n||Object(r["o"])(t)||Object(r["D"])(t)){for(let i=0,o=e.options.length;i<o;i++){const o=e.options[i],s=xe(o);if(n)Object(r["o"])(t)?o.selected=Object(r["I"])(t,s)>-1:o.selected=t.has(s);else if(Object(r["H"])(xe(o),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function xe(e){return"_value"in e?e._value:e.value}function Se(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Te={created(e,t,n){Me(e,t,n,null,"created")},mounted(e,t,n){Me(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Me(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Me(e,t,n,i,"updated")}};function Ee(e,t){switch(e){case"SELECT":return _e;case"TEXTAREA":return Ae;default:switch(t){case"checkbox":return ye;case"radio":return be;default:return Ae}}}function Me(e,t,n,i,r){const o=Ee(e.tagName,n.props&&n.props.type),s=o[r];s&&s(e,t,n,i)}function Ce(){Ae.getSSRProps=({value:e})=>({value:e}),be.getSSRProps=({value:e},t)=>{if(t.props&&Object(r["H"])(t.props.value,e))return{checked:!0}},ye.getSSRProps=({value:e},t)=>{if(Object(r["o"])(e)){if(t.props&&Object(r["I"])(e,t.props.value)>-1)return{checked:!0}}else if(Object(r["D"])(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Te.getSSRProps=(e,t)=>{if("string"!==typeof t.type)return;const n=Ee(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}const Oe=["ctrl","shift","alt","meta"],ke={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Oe.some(n=>e[n+"Key"]&&!t.includes(n))},Pe=(e,t)=>(n,...i)=>{for(let e=0;e<t.length;e++){const i=ke[t[e]];if(i&&i(n,t))return}return e(n,...i)},Ie={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Re=(e,t)=>n=>{if(!("key"in n))return;const i=Object(r["l"])(n.key);return t.some(e=>e===i||Ie[e]===i)?e(n):void 0},De={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Le(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!==!n&&(i?t?(i.beforeEnter(e),Le(e,!0),i.enter(e)):i.leave(e,()=>{Le(e,!1)}):Le(e,t))},beforeUnmount(e,{value:t}){Le(e,t)}};function Le(e,t){e.style.display=t?e._vod:"none"}function Ne(){De.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Be=Object(r["h"])({patchProp:P},c);let Fe,je=!1;function Ue(){return Fe||(Fe=Object(i["y"])(Be))}function ze(){return Fe=je?Fe:Object(i["w"])(Be),je=!0,Fe}const qe=(...e)=>{Ue().render(...e)},Ve=(...e)=>{ze().hydrate(...e)},He=(...e)=>{const t=Ue().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=We(e);if(!i)return;const o=t._component;Object(r["q"])(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},Ge=(...e)=>{const t=ze().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=We(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function We(e){if(Object(r["F"])(e)){const t=document.querySelector(e);return t}return e}let $e=!1;const Xe=()=>{$e||($e=!0,Ce(),Ne())};const Ye=()=>{0}},"7a77":function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},"7aac":function(e,t,n){"use strict";var i=n("c532");e.exports=i.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(e,t,n){var i=n("1d80"),r=Object;e.exports=function(e){return r(i(e))}},"7c01":function(e,t,n){"use strict";var i=n("51b0");n.d(t,"a",(function(){return i["a"]})),n.d(t,"b",(function(){return i["b"]})),n.d(t,"c",(function(){return i["c"]})),n.d(t,"d",(function(){return i["d"]})),n.d(t,"e",(function(){return i["e"]})),n.d(t,"f",(function(){return i["f"]}))},"7e47":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("1315");function r(e,t){(0,i.default)("innerComments",e,t)}},"7f0c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485"),r=n("eb5b");function o(e,t){if((0,i.isBlockStatement)(e))return e;let n=[];return(0,i.isEmptyStatement)(e)?n=[]:((0,i.isStatement)(e)||(e=(0,i.isFunction)(t)?(0,r.returnStatement)(e):(0,r.expressionStatement)(e)),n=[e]),(0,r.blockStatement)(n)}},"801f":function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=8)}([function(e,t){e.exports=n("7a23")},function(e,t,n){"use strict";e.exports={nav:"",count:"",wrapper:"pagination",list:"pagination-list",item:"",link:"pagination-link",next:"",prev:"",active:"is-current",disabled:""}},function(e,t,n){"use strict";e.exports={nav:"",count:"",wrapper:"",list:"pagination",item:"page-item",link:"page-link",next:"",prev:"",active:"active",disabled:"disabled"}},function(e,t,n){"use strict";e.exports={nav:"",count:"",wrapper:"",list:"pagination",item:"page-item",link:"page-link",next:"",prev:"",active:"active",disabled:"disabled"}},function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,e)}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!1,e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(!0===e[0],!0,e)}function s(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;++n)t.push(s(e[n]));return t}if(a(e)){for(var n in t={},e)t[n]=s(e[n]);return t}return e}function a(e){return e&&"object"==typeof e&&!Array.isArray(e)}function l(e,t){if(!a(e))return t;for(var n in t)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=a(e[n])&&a(t[n])?l(e[n],t[n]):t[n]);return e}function c(e,t,n){var i;!e&&a(i=n.shift())||(i={});for(var r=0;r<n.length;++r){var o=n[r];if(a(o))for(var c in o)if("__proto__"!==c&&"constructor"!==c&&"prototype"!==c){var u=e?s(o[c]):o[c];i[c]=t?l(i[c],u):u}}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.clone=t.recursive=t.merge=t.main=void 0,e.exports=t=i,t.default=i,t.main=i,i.clone=s,i.isPlainObject=a,i.recursive=o,t.merge=r,t.recursive=o,t.clone=s,t.isPlainObject=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{format:!0,chunk:10,chunksNavigation:"fixed",edgeNavigation:!1,theme:"bootstrap3",template:null,hideCount:!1,texts:{count:"Showing {from} to {to} of {count} records|{count} records|One record",first:"First",last:"Last",nextPage:">",nextChunk:">>",prevPage:"<",prevChunk:"<<"}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(5)),r=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"RenderlessPagination",inject:["Page","records","perPage"],props:{itemClass:{required:!1,default:"VuePagination__pagination-item"}},render:function(){var e=this;return this.$slots.default({override:this.opts.template,showPagination:this.totalPages>1,pages:this.pages,pageEvents:function(t){return{click:function(){return e.setPage(t)},keydown:function(t){"ArrowRight"===t.key&&e.next(),"ArrowLeft"===t.key&&e.prev()}}},activeClass:this.activeClass,hasEdgeNav:this.opts.edgeNavigation&&this.totalChunks>1,setPage:this.setPage,setFirstPage:this.setPage.bind(this,1),setLastPage:this.setPage.bind(this,this.totalPages),hasChunksNav:"fixed"===this.opts.chunksNavigation,setPrevChunk:this.prevChunk,setNextChunk:this.nextChunk,setPrevPage:this.prev,firstPageProps:{class:this.Theme.link,disabled:1===this.page},lastPageProps:{class:this.Theme.link,disabled:this.page===this.totalPages},prevProps:{class:this.Theme.link,disabled:!!this.allowedPageClass(this.page-1)},nextProps:{class:this.Theme.link,disabled:!!this.allowedPageClass(this.page+1)},pageClasses:function(t){return e.itemClass+" "+e.Theme.item+" "+e.activeClass(t)},prevChunkProps:{class:this.Theme.link,disabled:!this.allowedChunk(-1)},nextChunkProps:{class:this.Theme.link,disabled:!this.allowedChunk(1)},setNextPage:this.next,theme:{nav:this.Theme.nav,list:"VuePagination__pagination "+this.Theme.list,prev:this.itemClass+" "+this.itemClass+"-prev-page "+this.Theme.item+" "+this.Theme.prev+" "+this.allowedPageClass(this.page-1),next:this.itemClass+"  "+this.itemClass+"-next-page "+this.Theme.item+" "+this.Theme.next+" "+this.allowedPageClass(this.page+1),prevChunk:this.itemClass+" "+this.Theme.item+" "+this.Theme.prev+" "+this.itemClass+"-prev-chunk "+this.allowedChunkClass(-1),nextChunk:this.itemClass+" "+this.Theme.item+" "+this.Theme.next+" "+this.itemClass+"-next-chunk "+this.allowedChunkClass(1),firstPage:this.itemClass+" "+this.Theme.item+" "+(1===this.page?this.Theme.disabled:"")+" "+this.itemClass+"-first-page",lastPage:this.itemClass+" "+this.Theme.item+" "+(this.page===this.totalPages?this.Theme.disabled:"")+" "+this.itemClass+"-last-page",link:this.Theme.link,page:this.itemClass+" "+this.Theme.item,wrapper:this.Theme.wrapper,count:"VuePagination__count "+this.Theme.count},hasRecords:this.hasRecords,count:this.count,texts:this.opts.texts,opts:this.opts,allowedChunkClass:this.allowedChunkClass,allowedPageClass:this.allowedPageClass,setChunk:this.setChunk,prev:this.prev,next:this.next,totalPages:this.totalPages,totalChunks:this.totalChunks,page:this.Page(),records:this.records(),perPage:this.perPage(),formatNumber:this.formatNumber})},data:function(){return{firstPage:this.$parent.modelValue,For:this.$parent.for,Options:this.$parent.options}},watch:{page:function(e){if("scroll"===this.opts.chunksNavigation&&this.allowedPage(e)&&!this.inDisplay(e))if(e===this.totalPages){var t=e-this.opts.chunk+1;this.firstPage=t>=1?t:1}else this.firstPage=e;this.$parent.$emit("paginate",e)}},computed:{Records:function(){return this.records()},PerPage:function(){return this.perPage()},opts:function(){return r.default.recursive((0,i.default)(),this.Options)},Theme:function(){if(this.opts.theme instanceof Object)return this.opts.theme;var e={bootstrap3:n(3),bootstrap4:n(2),bulma:n(1)};if(!e[this.opts.theme])throw"vue-pagination-2: the theme "+this.opts.theme+" does not exist";return e[this.opts.theme]},page:function(){return this.Page()},pages:function(){return this.Records?function(e,t){return Array.apply(0,Array(t)).map((function(t,n){return n+e}))}(this.paginationStart,this.pagesInCurrentChunk):[]},totalPages:function(){return this.Records?Math.ceil(this.Records/this.PerPage):1},totalChunks:function(){return Math.ceil(this.totalPages/this.opts.chunk)},currentChunk:function(){return Math.ceil(this.page/this.opts.chunk)},paginationStart:function(){return"scroll"===this.opts.chunksNavigation?this.firstPage:(this.currentChunk-1)*this.opts.chunk+1},pagesInCurrentChunk:function(){return this.paginationStart+this.opts.chunk<=this.totalPages?this.opts.chunk:this.totalPages-this.paginationStart+1},hasRecords:function(){return parseInt(this.Records)>0},count:function(){if(/{page}/.test(this.opts.texts.count))return this.totalPages<=1?"":this.opts.texts.count.replace("{page}",this.page).replace("{pages}",this.totalPages);var e=this.opts.texts.count.split("|"),t=(this.page-1)*this.PerPage+1,n=this.page==this.totalPages?this.Records:t+this.PerPage-1;return e[Math.min(1==this.Records?2:1==this.totalPages?1:0,e.length-1)].replace("{count}",this.formatNumber(this.Records)).replace("{from}",this.formatNumber(t)).replace("{to}",this.formatNumber(n))}},methods:{setPage:function(e){this.allowedPage(e)&&this.paginate(e)},paginate:function(e){this.$parent.$emit("update:modelValue",e)},next:function(){return this.setPage(this.page+1)},prev:function(){return this.setPage(this.page-1)},inDisplay:function(e){var t=this.firstPage,n=t+this.opts.chunk-1;return e>=t&&e<=n},nextChunk:function(){return this.setChunk(1)},prevChunk:function(){return this.setChunk(-1)},setChunk:function(e){this.setPage((this.currentChunk-1+e)*this.opts.chunk+1)},allowedPage:function(e){return e>=1&&e<=this.totalPages},allowedChunk:function(e){return 1==e&&this.currentChunk<this.totalChunks||-1==e&&this.currentChunk>1},allowedPageClass:function(e){return this.allowedPage(e)?"":this.Theme.disabled},allowedChunkClass:function(e){return this.allowedChunk(e)?"":this.Theme.disabled},activeClass:function(e){return this.page==e?this.Theme.active:""},formatNumber:function(e){return this.opts.format?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e}}},e.exports=t.default},function(e,t,n){"use strict";var i=n(0);e.exports=function(e){return function(t){var n=this.theme,r="",o="",s="",a="",l=e.opts.hideCount?"":(0,i.createVNode)("p",{style:parseInt(this.records)?"":"display:none",class:"VuePagination__count "+n.count},[this.count]),c=this.pages.map(function(e){return(0,i.createVNode)("li",{class:"VuePagination__pagination-item "+n.page+" "+this.activeClass(e),onClick:this.setPage.bind(this,e),onKeyDown:this.pageEvents(e).keydown},[(0,i.createVNode)("button",{class:n.link+" "+this.activeClass(e)},[this.formatNumber(e)])])}.bind(this));return this.opts.edgeNavigation&&this.totalChunks>1&&(s=(0,i.createVNode)("li",{class:"VuePagination__pagination-item "+n.page+" "+(1===this.page?n.disabled:"")+" VuePagination__pagination-item-first-page",onClick:this.setPage.bind(this,1)},[(0,i.createVNode)("button",{type:"button",class:n.link,disabled:1===this.page},[this.opts.texts.first])]),a=(0,i.createVNode)("li",{class:"VuePagination__pagination-item "+n.page+" "+(this.page===this.totalPages?n.disabled:"")+" VuePagination__pagination-item-last-page",onClick:this.setPage.bind(this,this.totalPages)},[(0,i.createVNode)("button",{type:"button",class:n.link,disabled:this.page===this.totalPages},[this.opts.texts.last])])),"fixed"===this.opts.chunksNavigation&&(r=(0,i.createVNode)("li",{class:"VuePagination__pagination-item "+n.page+" "+n.prev+" VuePagination__pagination-item-prev-chunk "+this.allowedChunkClass(-1),onClick:this.setChunk.bind(this,-1)},[(0,i.createVNode)("button",{type:"button",class:n.link,disabled:!!this.allowedChunkClass(-1)},[this.opts.texts.prevChunk])]),o=(0,i.createVNode)("li",{class:"VuePagination__pagination-item "+n.page+" "+n.next+" VuePagination__pagination-item-next-chunk "+this.allowedChunkClass(1),onClick:this.setChunk.bind(this,1)},[(0,i.createVNode)("button",{type:"button",class:n.link,disabled:!!this.allowedChunkClass(1)},[this.opts.texts.nextChunk])])),(0,i.createVNode)("div",{class:"VuePagination "+n.wrapper},[(0,i.createVNode)("nav",{class:""+n.nav},[(0,i.createVNode)("ul",{style:this.totalPages>1?"":"display:none",class:n.list+" VuePagination__pagination"},[s,r,(0,i.createVNode)("li",{class:"VuePagination__pagination-item "+n.page+" "+n.prev+" VuePagination__pagination-item-prev-page "+this.allowedPageClass(this.page-1),onClick:this.prev.bind(this)},[(0,i.createVNode)("button",{type:"button",class:n.link,disabled:!!this.allowedPageClass(this.page-1)},[this.opts.texts.prevPage])]),c,(0,i.createVNode)("li",{class:"VuePagination__pagination-item "+n.page+" "+n.next+" VuePagination__pagination-item-next-page "+this.allowedPageClass(this.page+1),onClick:this.next.bind(this)},[(0,i.createVNode)("button",{type:"button",class:n.link,disabled:!!this.allowedPageClass(this.page+1)},[this.opts.texts.nextPage])]),o,a]),l])])}.bind(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(7)),r=s(n(6)),o=n(0);function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Pagination",emits:["update:modelValue","paginate"],components:{RenderlessPagination:r.default},provide:function(){var e=this;return{Page:function(){return e.modelValue},perPage:function(){return e.perPage},records:function(){return e.records}}},render:function(){return(0,o.h)(r.default,{ref:"pg"},{default:function(e){return e.override?(0,o.h)(e.override,{props:e}):(0,i.default)(e)(o.h)}})},methods:{setPage:function(e){this.$refs.pg.setPage(e)}},props:{modelValue:{type:Number,required:!0,validator:function(e){return e>0}},records:{type:Number,required:!0},perPage:{type:Number,required:!0},options:{type:Object}}},e.exports=t.default}]))},8042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("eb5b");function r(e,t,n=!1){return e.object=(0,i.memberExpression)(e.object,e.property,e.computed),e.property=t,e.computed=!!n,e}},8233:function(e,t,n){var i=n("f0bf"),r="bitcoin";e.exports={validate:function(e,t,n){var o=i.getByNameOrSymbol(t||r);if(o.validator)return o.validator.isValidAddress(e,o,n);throw new Error("Missing validator for currency: "+t)}}},8238:function(e,t,n){(function(e){"undefined"!==typeof e&&e.__pretenderNodePolyfill&&(delete e.self,delete e.__pretenderNodePolyfill)}).call(this,n("c8ba"))},"825a":function(e,t,n){var i=n("861d"),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not an object")}},8266:function(e,t,n){},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,n){"use strict";var i=n("d925"),r=n("e683");e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},"848b":function(e,t,n){"use strict";var i=n("5cce").version,r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};function s(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var i=Object.keys(e),r=i.length;while(r-- >0){var o=i[r],s=t[o];if(s){var a=e[o],l=void 0===a||s(a,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}}r.transitional=function(e,t,n){function r(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,s){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!o[i]&&(o[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},e.exports={assertOptions:s,validators:r}},"861d":function(e,t,n){var i=n("1626"),r=n("8ea1"),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===o}:function(e){return"object"==typeof e?null!==e:i(e)}},8707:function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n("1c35"),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"===typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},8810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485"),r=n("c10d");function o(e){return(0,i.isFunctionDeclaration)(e)||(0,i.isClassDeclaration)(e)||(0,r.default)(e)}},"88bc":function(e,t,n){(function(t){var n=1/0,i=9007199254740991,r="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")();function h(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){var n=-1,i=e?e.length:0,r=Array(i);while(++n<i)r[n]=t(e[n],n,e);return r}function f(e,t){var n=-1,i=t.length,r=e.length;while(++n<i)e[r+n]=t[n];return e}var p=Object.prototype,m=p.hasOwnProperty,g=p.toString,A=u.Symbol,y=p.propertyIsEnumerable,v=A?A.isConcatSpreadable:void 0,b=Math.max;function _(e,t,n,i,r){var o=-1,s=e.length;n||(n=T),r||(r=[]);while(++o<s){var a=e[o];t>0&&n(a)?t>1?_(a,t-1,n,i,r):f(r,a):i||(r[r.length]=a)}return r}function w(e,t){return e=Object(e),x(e,t,(function(t,n){return n in e}))}function x(e,t,n){var i=-1,r=t.length,o={};while(++i<r){var s=t[i],a=e[s];n(a,s)&&(o[s]=a)}return o}function S(e,t){return t=b(void 0===t?e.length-1:t,0),function(){var n=arguments,i=-1,r=b(n.length-t,0),o=Array(r);while(++i<r)o[i]=n[t+i];i=-1;var s=Array(t+1);while(++i<t)s[i]=n[i];return s[t]=o,h(e,this,s)}}function T(e){return C(e)||M(e)||!!(v&&e&&e[v])}function E(e){if("string"==typeof e||L(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function M(e){return k(e)&&m.call(e,"callee")&&(!y.call(e,"callee")||g.call(e)==r)}var C=Array.isArray;function O(e){return null!=e&&I(e.length)&&!P(e)}function k(e){return D(e)&&O(e)}function P(e){var t=R(e)?g.call(e):"";return t==o||t==s}function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function R(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){return!!e&&"object"==typeof e}function L(e){return"symbol"==typeof e||D(e)&&g.call(e)==a}var N=S((function(e,t){return null==e?{}:w(e,d(_(t,1),E))}));e.exports=N}).call(this,n("c8ba"))},8925:function(e,t,n){var i=n("e330"),r=n("1626"),o=n("c6cd"),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},"89ae":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-i.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*i.Bounce.In(2*e):.5*i.Bounce.Out(2*e-1)+.5}}};n="undefined"===typeof self&&"undefined"!==typeof e&&e.hrtime?function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()};var r=n,o=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=r()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;while(n.length>0){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var o=this._tweens[n[i]],s=!t;o&&!1===o.update(e,s)&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),s={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=s.Utils.Linear;return t<0?o(e[0],e[1],i):t>1?o(e[n],e[n-1],n-i):o(e[r],e[r+1>n?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,o=s.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-t,i-a)*r(t,a)*e[a]*o(i,a);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=s.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(i=n*(1+t))),o(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):o(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=s.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var i=t;i>1;i--)n*=i;return e[t]=n,n}}(),CatmullRom:function(e,t,n,i,r){var o=.5*(n-e),s=.5*(i-t),a=r*r,l=r*a;return(2*t-2*n+o+s)*l+(-3*t+3*n-2*o-s)*a+o*r+t}}},a=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),l=new o,c=function(){function e(e,t){void 0===t&&(t=l),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=i.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=a.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"===typeof e?r()+parseFloat(e):e:r(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,i){for(var r in n){var o=e[r],s=Array.isArray(o),a=s?"array":typeof o,l=!s&&Array.isArray(n[r]);if("undefined"!==a&&"function"!==a){if(l){var c=n[r];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,o)),n[r]=[o].concat(c)}if("object"!==a&&!s||!o||l)"undefined"===typeof t[r]&&(t[r]=o),s||(t[r]*=1),i[r]=l?n[r].slice().reverse():t[r]||0;else{for(var u in t[r]=s?[]:{},o)t[r][u]=o[u];i[r]=s?[]:{},this._setupProperties(o,t[r],n[r],i[r])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=r()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=r()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=r()),void 0===t&&(t=!0),this._isPaused)return!0;var n,i,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=0===this._duration||i>1?1:i;var s=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,l=this._chainedTweens.length;a<l;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,i){for(var r in n)if(void 0!==t[r]){var o=t[r]||0,s=n[r],a=Array.isArray(e[r]),l=Array.isArray(s),c=!a&&l;c?e[r]=this._interpolationFunction(s,i):"object"===typeof s&&s?this._updateProperties(e[r],o,s,i):(s=this._handleRelativeValue(o,s),"number"===typeof s&&(e[r]=o+(s-o)*i))}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),u="18.6.4",h=a.nextId,d=l,f=d.getAll.bind(d),p=d.removeAll.bind(d),m=d.add.bind(d),g=d.remove.bind(d),A=d.update.bind(d),y={Easing:i,Group:o,Interpolation:s,now:r,Sequence:a,nextId:h,Tween:c,VERSION:u,getAll:f,removeAll:p,add:m,remove:g,update:A};t.Easing=i,t.Group=o,t.Interpolation=s,t.Sequence=a,t.Tween=c,t.VERSION=u,t.add=m,t.default=y,t.getAll=f,t.nextId=h,t.now=r,t.remove=g,t.removeAll=p,t.update=A}).call(this,n("4362"))},"8aca":function(e,t,n){var i=n("48c4"),r=n("42a7"),o="13456789abcdefghijkmnopqrstuwxyz",s=r(o),a=new RegExp("^(xrb|nano)_(["+o+"]{60})$");e.exports={isValidAddress:function(e){return!!a.test(e)&&this.verifyChecksum(e)},verifyChecksum:function(e){var t=s.decode(a.exec(e)[2]).slice(-37),n=i.blake2b(i.toHex(t.slice(0,-5)),5),r=i.toHex(t.slice(-5).reverse());return n===r}}},"8afd":function(e,t,n){"use strict";var i=n("7a23");n.d(t,"a",(function(){return i["computed"]})),n.d(t,"b",(function(){return i["getCurrentInstance"]})),n.d(t,"c",(function(){return i["inject"]})),n.d(t,"d",(function(){return i["isReactive"]})),n.d(t,"e",(function(){return i["isReadonly"]})),n.d(t,"f",(function(){return i["isRef"]})),n.d(t,"g",(function(){return i["nextTick"]})),n.d(t,"h",(function(){return i["onBeforeMount"]})),n.d(t,"i",(function(){return i["onBeforeUnmount"]})),n.d(t,"j",(function(){return i["provide"]})),n.d(t,"k",(function(){return i["reactive"]})),n.d(t,"l",(function(){return i["ref"]})),n.d(t,"m",(function(){return i["unref"]})),n.d(t,"n",(function(){return i["watch"]}))},"8b44":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("c485");function r(e,t){return(!(0,i.isBlockStatement)(e)||!(0,i.isFunction)(t)&&!(0,i.isCatchClause)(t))&&(!(!(0,i.isPattern)(e)||!(0,i.isFunction)(t)&&!(0,i.isCatchClause)(t))||(0,i.isScopable)(e))}},"8b61":function(e,t,n){"use strict";var i=n("57de");const r=(0,i.defineAliasedType)("Flow"),o=e=>{r(e,{builder:["id","typeParameters","extends","body"],visitor:["id","typeParameters","extends","mixins","implements","body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),extends:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends")),mixins:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends")),implements:(0,i.validateOptional)((0,i.arrayOfType)("ClassImplements")),body:(0,i.validateType)("ObjectTypeAnnotation")}})};r("AnyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["FlowType"],fields:{elementType:(0,i.validateType)("FlowType")}}),r("BooleanTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("BooleanLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("NullLiteralTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("ClassImplements",{visitor:["id","typeParameters"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),o("DeclareClass"),r("DeclareFunction",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),predicate:(0,i.validateOptionalType)("DeclaredPredicate")}}),o("DeclareInterface"),r("DeclareModule",{builder:["id","body","kind"],visitor:["id","body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)(["Identifier","StringLiteral"]),body:(0,i.validateType)("BlockStatement"),kind:(0,i.validateOptional)((0,i.assertOneOf)("CommonJS","ES"))}}),r("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{typeAnnotation:(0,i.validateType)("TypeAnnotation")}}),r("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),right:(0,i.validateType)("FlowType")}}),r("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,i.validateOptionalType)("FlowType"),impltype:(0,i.validateOptionalType)("FlowType")}}),r("DeclareVariable",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier")}}),r("DeclareExportDeclaration",{visitor:["declaration","specifiers","source"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{declaration:(0,i.validateOptionalType)("Flow"),specifiers:(0,i.validateOptional)((0,i.arrayOfType)(["ExportSpecifier","ExportNamespaceSpecifier"])),source:(0,i.validateOptionalType)("StringLiteral"),default:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),r("DeclareExportAllDeclaration",{visitor:["source"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{source:(0,i.validateType)("StringLiteral"),exportKind:(0,i.validateOptional)((0,i.assertOneOf)("type","value"))}}),r("DeclaredPredicate",{visitor:["value"],aliases:["FlowPredicate"],fields:{value:(0,i.validateType)("Flow")}}),r("ExistsTypeAnnotation",{aliases:["FlowType"]}),r("FunctionTypeAnnotation",{visitor:["typeParameters","params","rest","returnType"],aliases:["FlowType"],fields:{typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),params:(0,i.validate)((0,i.arrayOfType)("FunctionTypeParam")),rest:(0,i.validateOptionalType)("FunctionTypeParam"),this:(0,i.validateOptionalType)("FunctionTypeParam"),returnType:(0,i.validateType)("FlowType")}}),r("FunctionTypeParam",{visitor:["name","typeAnnotation"],fields:{name:(0,i.validateOptionalType)("Identifier"),typeAnnotation:(0,i.validateType)("FlowType"),optional:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),r("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["FlowType"],fields:{id:(0,i.validateType)(["Identifier","QualifiedTypeIdentifier"]),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),r("InferredPredicate",{aliases:["FlowPredicate"]}),r("InterfaceExtends",{visitor:["id","typeParameters"],fields:{id:(0,i.validateType)(["Identifier","QualifiedTypeIdentifier"]),typeParameters:(0,i.validateOptionalType)("TypeParameterInstantiation")}}),o("InterfaceDeclaration"),r("InterfaceTypeAnnotation",{visitor:["extends","body"],aliases:["FlowType"],fields:{extends:(0,i.validateOptional)((0,i.arrayOfType)("InterfaceExtends")),body:(0,i.validateType)("ObjectTypeAnnotation")}}),r("IntersectionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),r("MixedTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("EmptyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["FlowType"],fields:{typeAnnotation:(0,i.validateType)("FlowType")}}),r("NumberLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("number"))}}),r("NumberTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties","internalSlots"],aliases:["FlowType"],builder:["properties","indexers","callProperties","internalSlots","exact"],fields:{properties:(0,i.validate)((0,i.arrayOfType)(["ObjectTypeProperty","ObjectTypeSpreadProperty"])),indexers:{validate:(0,i.arrayOfType)("ObjectTypeIndexer"),optional:!0,default:[]},callProperties:{validate:(0,i.arrayOfType)("ObjectTypeCallProperty"),optional:!0,default:[]},internalSlots:{validate:(0,i.arrayOfType)("ObjectTypeInternalSlot"),optional:!0,default:[]},exact:{validate:(0,i.assertValueType)("boolean"),default:!1},inexact:(0,i.validateOptional)((0,i.assertValueType)("boolean"))}}),r("ObjectTypeInternalSlot",{visitor:["id","value","optional","static","method"],aliases:["UserWhitespacable"],fields:{id:(0,i.validateType)("Identifier"),value:(0,i.validateType)("FlowType"),optional:(0,i.validate)((0,i.assertValueType)("boolean")),static:(0,i.validate)((0,i.assertValueType)("boolean")),method:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("ObjectTypeCallProperty",{visitor:["value"],aliases:["UserWhitespacable"],fields:{value:(0,i.validateType)("FlowType"),static:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("ObjectTypeIndexer",{visitor:["id","key","value","variance"],aliases:["UserWhitespacable"],fields:{id:(0,i.validateOptionalType)("Identifier"),key:(0,i.validateType)("FlowType"),value:(0,i.validateType)("FlowType"),static:(0,i.validate)((0,i.assertValueType)("boolean")),variance:(0,i.validateOptionalType)("Variance")}}),r("ObjectTypeProperty",{visitor:["key","value","variance"],aliases:["UserWhitespacable"],fields:{key:(0,i.validateType)(["Identifier","StringLiteral"]),value:(0,i.validateType)("FlowType"),kind:(0,i.validate)((0,i.assertOneOf)("init","get","set")),static:(0,i.validate)((0,i.assertValueType)("boolean")),proto:(0,i.validate)((0,i.assertValueType)("boolean")),optional:(0,i.validate)((0,i.assertValueType)("boolean")),variance:(0,i.validateOptionalType)("Variance"),method:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["UserWhitespacable"],fields:{argument:(0,i.validateType)("FlowType")}}),r("OpaqueType",{visitor:["id","typeParameters","supertype","impltype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),supertype:(0,i.validateOptionalType)("FlowType"),impltype:(0,i.validateType)("FlowType")}}),r("QualifiedTypeIdentifier",{visitor:["id","qualification"],fields:{id:(0,i.validateType)("Identifier"),qualification:(0,i.validateType)(["Identifier","QualifiedTypeIdentifier"])}}),r("StringLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:(0,i.validate)((0,i.assertValueType)("string"))}}),r("StringTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("SymbolTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("ThisTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("TupleTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),r("TypeofTypeAnnotation",{visitor:["argument"],aliases:["FlowType"],fields:{argument:(0,i.validateType)("FlowType")}}),r("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:(0,i.validateType)("Identifier"),typeParameters:(0,i.validateOptionalType)("TypeParameterDeclaration"),right:(0,i.validateType)("FlowType")}}),r("TypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:(0,i.validateType)("FlowType")}}),r("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["ExpressionWrapper","Expression"],fields:{expression:(0,i.validateType)("Expression"),typeAnnotation:(0,i.validateType)("TypeAnnotation")}}),r("TypeParameter",{visitor:["bound","default","variance"],fields:{name:(0,i.validate)((0,i.assertValueType)("string")),bound:(0,i.validateOptionalType)("TypeAnnotation"),default:(0,i.validateOptionalType)("FlowType"),variance:(0,i.validateOptionalType)("Variance")}}),r("TypeParameterDeclaration",{visitor:["params"],fields:{params:(0,i.validate)((0,i.arrayOfType)("TypeParameter"))}}),r("TypeParameterInstantiation",{visitor:["params"],fields:{params:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),r("UnionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:(0,i.validate)((0,i.arrayOfType)("FlowType"))}}),r("Variance",{builder:["kind"],fields:{kind:(0,i.validate)((0,i.assertOneOf)("minus","plus"))}}),r("VoidTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]}),r("EnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{id:(0,i.validateType)("Identifier"),body:(0,i.validateType)(["EnumBooleanBody","EnumNumberBody","EnumStringBody","EnumSymbolBody"])}}),r("EnumBooleanBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)("EnumBooleanMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("EnumNumberBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)("EnumNumberMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("EnumStringBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:(0,i.validate)((0,i.assertValueType)("boolean")),members:(0,i.validateArrayOfType)(["EnumStringMember","EnumDefaultedMember"]),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("EnumSymbolBody",{aliases:["EnumBody"],visitor:["members"],fields:{members:(0,i.validateArrayOfType)("EnumDefaultedMember"),hasUnknownMembers:(0,i.validate)((0,i.assertValueType)("boolean"))}}),r("EnumBooleanMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("BooleanLiteral")}}),r("EnumNumberMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("NumericLiteral")}}),r("EnumStringMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:(0,i.validateType)("Identifier"),init:(0,i.validateType)("StringLiteral")}}),r("EnumDefaultedMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:(0,i.validateType)("Identifier")}}),r("IndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,i.validateType)("FlowType"),indexType:(0,i.validateType)("FlowType")}}),r("OptionalIndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:(0,i.validateType)("FlowType"),indexType:(0,i.validateType)("FlowType"),optional:(0,i.validate)((0,i.assertValueType)("boolean"))}})},"8d0f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("a559"),r=n("3c96"),o=n("55b5"),s=n("a128"),a=n("70ea");function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c=l(i),u=l(r),h=l(o),d=l(s),f=l(a);function p(){var e;return e=arguments.length-1,e<0||arguments.length<=e?void 0:arguments[e]}function m(e){return-e}function g(e,t){return e+t}function A(e,t){return e-t}function y(e,t){return e*t}function v(e,t){return e/t}function b(){return Math.max.apply(Math,arguments)}function _(){return Math.min.apply(Math,arguments)}function w(){return Array.of.apply(Array,arguments)}var x={symbols:{"*":{infix:{symbol:"*",f:y,notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:v,notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:g,notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:p,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:A,notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:m,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:w,notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:p,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:_,notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:b,notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"}}},S=x;var T=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,u["default"](n)}return h["default"](t,e),t}(d["default"](Error)),E=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function M(e){var t={};return t.symbols=e?c["default"]({},S.symbols,e.symbols):c["default"]({},S.symbols),t}function C(e,t){var n,i=e.pop();return t.push(i.f.apply(i,(n=[]).concat.apply(n,t.splice(-i.argCount)))),i.precedence}function O(e,t){var n,i=M(t),r=[i.symbols["("].prefix],o=[],s=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(i.symbols).map((function(e){return i.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");s.lastIndex=0;var a=!1;do{n=s.exec(e);var l=n||[")",void 0],c=l[0],u=l[1],h=i.symbols[c],d=h&&!h.prefix&&!h.func,f=!h||!h.postfix&&!h.infix;if(u||(a?f:d))throw new T(37,n?n.index:e.length,e);if(a){var p=h.postfix||h.infix;do{var m=r[r.length-1];if((p.precedence-m.precedence||m.rightToLeft)>0)break}while(C(r,o));a="postfix"===p.notation,")"!==p.symbol&&(r.push(p),a&&C(r,o))}else if(h){if(r.push(h.prefix||h.func),h.func&&(n=s.exec(e),!n||"("!==n[0]))throw new T(38,n?n.index:e.length,e)}else o.push(+c),a=!0}while(n&&r.length);if(r.length)throw new T(39,n?n.index:e.length,e);if(n)throw new T(40,n?n.index:e.length,e);return o.pop()}function k(e){return e.split("").reverse().join("")}function P(e,t){var n=k(e),i=n.match(E);if(i&&!i.every((function(e){return e===i[0]})))throw new T(41);var r=k(n.replace(E,""));return""+O(r,t)+(i?k(i[0]):"")}var I=/--[\S]*/g;function R(e,t){if(!e||!e.match(I))throw new T(73);var n;if("undefined"!==typeof document&&null!==document.documentElement&&(n=getComputedStyle(document.documentElement).getPropertyValue(e)),n)return n.trim();if(t)return t;throw new T(74)}function D(e){return e.charAt(0).toUpperCase()+e.slice(1)}var L=["Top","Right","Bottom","Left"];function N(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce((function(e,t){return""+e+D(t)}));var i=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===i?""+e+t:i}function B(e,t){for(var n={},i=0;i<t.length;i+=1)(t[i]||0===t[i])&&(n[N(e,L[i])]=t[i]);return n}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n[0],o=n[1],s=void 0===o?r:o,a=n[2],l=void 0===a?r:a,c=n[3],u=void 0===c?s:c,h=[r,s,l,u];return B(e,h)}function j(e,t){return e.substr(-t.length)===t}var U=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function z(e){if("string"!==typeof e)return e;var t=e.match(U);return t?parseFloat(e):e}var q=function(e){return function(t,n){void 0===n&&(n="16px");var i=t,r=n;if("string"===typeof t){if(!j(t,"px"))throw new T(69,e,t);i=z(t)}if("string"===typeof n){if(!j(n,"px"))throw new T(70,e,n);r=z(n)}if("string"===typeof i)throw new T(71,t,e);if("string"===typeof r)throw new T(72,n,e);return""+i/r+e}},V=q,H=V("em"),G=H,W=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function $(e){if("string"!==typeof e)return[e,""];var t=e.match(W);return t?[parseFloat(e),t[2]]:[e,void 0]}function X(e,t){if("object"!==typeof e||null===e)throw new T(75,typeof e);var n={};return Object.keys(e).forEach((function(i){"object"===typeof e[i]&&null!==e[i]?n[i]=X(e[i],t):!t||t&&(t===i||t.indexOf(i)>=0)?n[i]=e[i]+" !important":n[i]=e[i]})),n}var Y={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function K(e){return Y[e]}function Q(e,t,n){if(void 0===t&&(t="1em"),void 0===n&&(n=1.333),"number"!==typeof e)throw new T(42);if("string"===typeof n&&!Y[n])throw new T(43);var i="string"===typeof t?$(t):[t,""],r=i[0],o=i[1],s="string"===typeof n?K(n):n;if("string"===typeof r)throw new T(44,t);return""+r*Math.pow(s,e)+(o||"")}var J=V("rem"),Z=J,ee=16;function te(e){var t=$(e);if("px"===t[1])return parseFloat(e);if("%"===t[1])return parseFloat(e)/100*ee;throw new T(78,t[1])}function ne(){if("undefined"!==typeof document&&null!==document.documentElement){var e=getComputedStyle(document.documentElement).fontSize;return e?te(e):ee}return ee}function ie(e,t){var n=$(e);if("rem"!==n[1]&&""!==n[1])throw new T(77,n[1]);var i=t?te(t):ne();return n[0]*i+"px"}var re={back:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",circ:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",cubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",expo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",quad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",quart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",quint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",sine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)"};function oe(e){return re[e.toLowerCase().trim()]}var se={back:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",circ:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",cubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",expo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",quad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",quart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",quint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",sine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function ae(e){return se[e.toLowerCase().trim()]}var le={back:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",cubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",circ:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",expo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",quad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",quart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",quint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",sine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)"};function ce(e){return le[e.toLowerCase().trim()]}function ue(e,t,n,i){void 0===n&&(n="320px"),void 0===i&&(i="1200px");var r=$(e),o=r[0],s=r[1],a=$(t),l=a[0],c=a[1],u=$(n),h=u[0],d=u[1],f=$(i),p=f[0],m=f[1];if("number"!==typeof h||"number"!==typeof p||!d||!m||d!==m)throw new T(47);if("number"!==typeof o||"number"!==typeof l||s!==c)throw new T(48);if(s!==d||c!==m)throw new T(76);var g=(o-l)/(h-p),A=l-g*p;return"calc("+A.toFixed(2)+(s||"")+" + "+(100*g).toFixed(2)+"vw)"}function he(e){var t;void 0===e&&(e="&");var n=e+"::after";return t={},t[n]={clear:"both",content:'""',display:"table"},t}function de(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}}function fe(e,t){void 0===t&&(t=1);var n={display:"inline-block",maxWidth:e||"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"};return t>1?c["default"]({},n,{WebkitBoxOrient:"vertical",WebkitLineClamp:t,display:"-webkit-box",whiteSpace:"normal"}):n}function pe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=me(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function me(e,t){if(e){if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ae(e,t,n){if(void 0===t&&(t="320px"),void 0===n&&(n="1200px"),!Array.isArray(e)&&"object"!==typeof e||null===e)throw new T(49);if(Array.isArray(e)){for(var i,r={},o={},s=pe(e);!(i=s()).done;){var a,l,u=i.value;if(!u.prop||!u.fromSize||!u.toSize)throw new T(50);o[u.prop]=u.fromSize,r["@media (min-width: "+t+")"]=c["default"]({},r["@media (min-width: "+t+")"],(a={},a[u.prop]=ue(u.fromSize,u.toSize,t,n),a)),r["@media (min-width: "+n+")"]=c["default"]({},r["@media (min-width: "+n+")"],(l={},l[u.prop]=u.toSize,l))}return c["default"]({},o,r)}var h,d,f;if(!e.prop||!e.fromSize||!e.toSize)throw new T(51);return f={},f[e.prop]=e.fromSize,f["@media (min-width: "+t+")"]=(h={},h[e.prop]=ue(e.fromSize,e.toSize,t,n),h),f["@media (min-width: "+n+")"]=(d={},d[e.prop]=e.toSize,d),f}var ye,ve,be=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,_e={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function we(e,t){return t?' format("'+_e[e]+'")':""}function xe(e){return!!e.replace(/\s+/g," ").match(be)}function Se(e,t,n){if(xe(e))return'url("'+e+'")'+we(t[0],n);var i=t.map((function(t){return'url("'+e+"."+t+'")'+we(t,n)}));return i.join(", ")}function Te(e){var t=e.map((function(e){return'local("'+e+'")'}));return t.join(", ")}function Ee(e,t,n,i){var r=[];return t&&r.push(Te(t)),e&&r.push(Se(e,n,i)),r.join(", ")}function Me(e){var t=e.fontFamily,n=e.fontFilePath,i=e.fontStretch,r=e.fontStyle,o=e.fontVariant,s=e.fontWeight,a=e.fileFormats,l=void 0===a?["eot","woff2","woff","ttf","svg"]:a,c=e.formatHint,u=void 0!==c&&c,h=e.localFonts,d=void 0===h?[t]:h,f=e.unicodeRange,p=e.fontDisplay,m=e.fontVariationSettings,g=e.fontFeatureSettings;if(!t)throw new T(55);if(!n&&!d)throw new T(52);if(d&&!Array.isArray(d))throw new T(53);if(!Array.isArray(l))throw new T(54);var A={"@font-face":{fontFamily:t,src:Ee(n,d,l,u),unicodeRange:f,fontStretch:i,fontStyle:r,fontVariant:o,fontWeight:s,fontDisplay:p,fontVariationSettings:m,fontFeatureSettings:g}};return JSON.parse(JSON.stringify(A))}function Ce(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}function Oe(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}function ke(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function Pe(e){for(var t="",n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0;o<e.length;o+=1)if(t+=e[o],o===i.length-1&&i[o]){var s=i.filter((function(e){return!!e}));s.length>1?(t=t.slice(0,-1),t+=", "+i[o]):1===s.length&&(t+=""+i[o])}else i[o]&&(t+=i[o]+" ");return t.trim()}function Ie(e){var t=e.colorStops,n=e.fallback,i=e.toDirection,r=void 0===i?"":i;if(!t||t.length<2)throw new T(56);return{backgroundColor:n||t[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:Pe(ye||(ye=f["default"](["linear-gradient(","",")"])),r,t.join(", ").replace(/,(?=\S)/g,", "))}}function Re(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]}function De(e){var t=e.colorStops,n=e.extent,i=void 0===n?"":n,r=e.fallback,o=e.position,s=void 0===o?"":o,a=e.shape,l=void 0===a?"":a;if(!t||t.length<2)throw new T(57);return{backgroundColor:r||t[0].split(" ")[0],backgroundImage:Pe(ve||(ve=f["default"](["radial-gradient(","","","",")"])),s,l,i,t.join(", "))}}function Le(e,t,n,i,r){var o;if(void 0===n&&(n="png"),void 0===r&&(r="_2x"),!e)throw new T(58);var s=n.replace(/^\./,""),a=i?i+"."+s:""+e+r+"."+s;return o={backgroundImage:"url("+e+"."+s+")"},o[ke()]=c["default"]({backgroundImage:"url("+a+")"},t?{backgroundSize:t}:{}),o}var Ne={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function Be(e){return Ne[e]}function Fe(e){return Be(e)}var je=function(e,t,n){var i=""+n[0]+(n[1]||""),r=""+n[0]/2+(n[1]||""),o=""+t[0]+(t[1]||""),s=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+r+" "+o+" "+r;case"topLeft":return i+" "+o+" 0 0";case"left":return s+" "+i+" "+s+" 0";case"bottomLeft":return i+" 0 0 "+o;case"bottom":return o+" "+r+" 0 "+r;case"bottomRight":return"0 0 "+i+" "+o;case"right":return s+" 0 "+s+" "+i;case"topRight":default:return"0 "+i+" "+o+" 0"}},Ue=function(e,t){switch(e){case"top":case"bottomRight":return{borderBottomColor:t};case"right":case"bottomLeft":return{borderLeftColor:t};case"bottom":case"topLeft":return{borderTopColor:t};case"left":case"topRight":return{borderRightColor:t};default:throw new T(59)}};function ze(e){var t=e.pointingDirection,n=e.height,i=e.width,r=e.foregroundColor,o=e.backgroundColor,s=void 0===o?"transparent":o,a=$(i),l=$(n);if(isNaN(l[0])||isNaN(a[0]))throw new T(60);return c["default"]({width:"0",height:"0",borderColor:s},Ue(t,r),{borderStyle:"solid",borderWidth:je(t,l,a)})}function qe(e){void 0===e&&(e="break-word");var t="break-word"===e?"break-all":e;return{overflowWrap:e,wordWrap:e,wordBreak:t}}function Ve(e){return Math.round(255*e)}function He(e,t,n){return Ve(e)+","+Ve(t)+","+Ve(n)}function Ge(e,t,n,i){if(void 0===i&&(i=He),0===t)return i(n,n,n);var r=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,s=o*(1-Math.abs(r%2-1)),a=0,l=0,c=0;r>=0&&r<1?(a=o,l=s):r>=1&&r<2?(a=s,l=o):r>=2&&r<3?(l=o,c=s):r>=3&&r<4?(l=s,c=o):r>=4&&r<5?(a=s,c=o):r>=5&&r<6&&(a=o,c=s);var u=n-o/2,h=a+u,d=l+u,f=c+u;return i(h,d,f)}var We={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function $e(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return We[t]?"#"+We[t]:e}var Xe=/^#[a-fA-F0-9]{6}$/,Ye=/^#[a-fA-F0-9]{8}$/,Ke=/^#[a-fA-F0-9]{3}$/,Qe=/^#[a-fA-F0-9]{4}$/,Je=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,Ze=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,et=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,tt=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function nt(e){if("string"!==typeof e)throw new T(3);var t=$e(e);if(t.match(Xe))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Ye)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Ke))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Qe)){var i=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:i}}var r=Je.exec(t);if(r)return{red:parseInt(""+r[1],10),green:parseInt(""+r[2],10),blue:parseInt(""+r[3],10)};var o=Ze.exec(t.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var s=et.exec(t);if(s){var a=parseInt(""+s[1],10),l=parseInt(""+s[2],10)/100,c=parseInt(""+s[3],10)/100,u="rgb("+Ge(a,l,c)+")",h=Je.exec(u);if(!h)throw new T(4,t,u);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10)}}var d=tt.exec(t.substring(0,50));if(d){var f=parseInt(""+d[1],10),p=parseInt(""+d[2],10)/100,m=parseInt(""+d[3],10)/100,g="rgb("+Ge(f,p,m)+")",A=Je.exec(g);if(!A)throw new T(4,t,g);return{red:parseInt(""+A[1],10),green:parseInt(""+A[2],10),blue:parseInt(""+A[3],10),alpha:parseFloat(""+d[4])>1?parseFloat(""+d[4])/100:parseFloat(""+d[4])}}throw new T(5)}function it(e){var t,n=e.red/255,i=e.green/255,r=e.blue/255,o=Math.max(n,i,r),s=Math.min(n,i,r),a=(o+s)/2;if(o===s)return void 0!==e.alpha?{hue:0,saturation:0,lightness:a,alpha:e.alpha}:{hue:0,saturation:0,lightness:a};var l=o-s,c=a>.5?l/(2-o-s):l/(o+s);switch(o){case n:t=(i-r)/l+(i<r?6:0);break;case i:t=(r-n)/l+2;break;default:t=(n-i)/l+4;break}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:a,alpha:e.alpha}:{hue:t,saturation:c,lightness:a}}function rt(e){return it(nt(e))}var ot=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},st=ot;function at(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function lt(e){return at(Math.round(255*e))}function ct(e,t,n){return st("#"+lt(e)+lt(t)+lt(n))}function ut(e,t,n){return Ge(e,t,n,ct)}function ht(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return ut(e,t,n);if("object"===typeof e&&void 0===t&&void 0===n)return ut(e.hue,e.saturation,e.lightness);throw new T(1)}function dt(e,t,n,i){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof i)return i>=1?ut(e,t,n):"rgba("+Ge(e,t,n)+","+i+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===i)return e.alpha>=1?ut(e.hue,e.saturation,e.lightness):"rgba("+Ge(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new T(2)}function ft(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return st("#"+at(e)+at(t)+at(n));if("object"===typeof e&&void 0===t&&void 0===n)return st("#"+at(e.red)+at(e.green)+at(e.blue));throw new T(6)}function pt(e,t,n,i){if("string"===typeof e&&"number"===typeof t){var r=nt(e);return"rgba("+r.red+","+r.green+","+r.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof i)return i>=1?ft(e,t,n):"rgba("+e+","+t+","+n+","+i+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===i)return e.alpha>=1?ft(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new T(7)}var mt=function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)},gt=function(e){return"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue&&"number"===typeof e.alpha},At=function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&("number"!==typeof e.alpha||"undefined"===typeof e.alpha)},yt=function(e){return"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness&&"number"===typeof e.alpha};function vt(e){if("object"!==typeof e)throw new T(8);if(gt(e))return pt(e);if(mt(e))return ft(e);if(yt(e))return dt(e);if(At(e))return ht(e);throw new T(8)}function bt(e,t,n){return function(){var i=n.concat(Array.prototype.slice.call(arguments));return i.length>=t?e.apply(this,i):bt(e,t,i)}}function _t(e){return bt(e,e.length,[])}function wt(e,t){if("transparent"===t)return t;var n=rt(t);return vt(c["default"]({},n,{hue:n.hue+parseFloat(e)}))}var xt=_t(wt),St=xt;function Tt(e){if("transparent"===e)return e;var t=rt(e);return vt(c["default"]({},t,{hue:(t.hue+180)%360}))}function Et(e,t,n){return Math.max(e,Math.min(t,n))}function Mt(e,t){if("transparent"===t)return t;var n=rt(t);return vt(c["default"]({},n,{lightness:Et(0,1,n.lightness-parseFloat(e))}))}var Ct=_t(Mt),Ot=Ct;function kt(e,t){if("transparent"===t)return t;var n=rt(t);return vt(c["default"]({},n,{saturation:Et(0,1,n.saturation-parseFloat(e))}))}var Pt=_t(kt),It=Pt;function Rt(e){if("transparent"===e)return 0;var t=nt(e),n=Object.keys(t).map((function(e){var n=t[e]/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)})),i=n[0],r=n[1],o=n[2];return parseFloat((.2126*i+.7152*r+.0722*o).toFixed(3))}function Dt(e,t){var n=Rt(e),i=Rt(t);return parseFloat((n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)).toFixed(2))}function Lt(e){return"transparent"===e?e:vt(c["default"]({},rt(e),{saturation:0}))}function Nt(e){if("object"===typeof e&&"number"===typeof e.hue&&"number"===typeof e.saturation&&"number"===typeof e.lightness)return e.alpha&&"number"===typeof e.alpha?dt({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):ht({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new T(45)}function Bt(e){if("transparent"===e)return e;var t=nt(e);return vt(c["default"]({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))}function Ft(e,t){if("transparent"===t)return t;var n=rt(t);return vt(c["default"]({},n,{lightness:Et(0,1,n.lightness+parseFloat(e))}))}var jt=_t(Ft),Ut=jt;function zt(e,t){var n=Dt(e,t);return{AA:n>=4.5,AALarge:n>=3,AAA:n>=7,AAALarge:n>=4.5}}function qt(e,t,n){if("transparent"===t)return n;if("transparent"===n)return t;if(0===e)return n;var i=nt(t),r=c["default"]({},i,{alpha:"number"===typeof i.alpha?i.alpha:1}),o=nt(n),s=c["default"]({},o,{alpha:"number"===typeof o.alpha?o.alpha:1}),a=r.alpha-s.alpha,l=2*parseFloat(e)-1,u=l*a===-1?l:l+a,h=1+l*a,d=(u/h+1)/2,f=1-d,p={red:Math.floor(r.red*d+s.red*f),green:Math.floor(r.green*d+s.green*f),blue:Math.floor(r.blue*d+s.blue*f),alpha:r.alpha*parseFloat(e)+s.alpha*(1-parseFloat(e))};return pt(p)}var Vt=_t(qt),Ht=Vt;function Gt(e,t){if("transparent"===t)return t;var n=nt(t),i="number"===typeof n.alpha?n.alpha:1,r=c["default"]({},n,{alpha:Et(0,1,(100*i+100*parseFloat(e))/100)});return pt(r)}var Wt=_t(Gt),$t=Wt,Xt="#000",Yt="#fff";function Kt(e,t,n,i){void 0===t&&(t=Xt),void 0===n&&(n=Yt),void 0===i&&(i=!0);var r=Rt(e)>.179,o=r?t:n;return!i||Dt(e,o)>=4.5?o:r?Xt:Yt}function Qt(e){if("object"===typeof e&&"number"===typeof e.red&&"number"===typeof e.green&&"number"===typeof e.blue)return"number"===typeof e.alpha?pt({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):ft({red:e.red,green:e.green,blue:e.blue});throw new T(46)}function Jt(e,t){if("transparent"===t)return t;var n=rt(t);return vt(c["default"]({},n,{saturation:Et(0,1,n.saturation+parseFloat(e))}))}var Zt=_t(Jt),en=Zt;function tn(e,t){return"transparent"===t?t:vt(c["default"]({},rt(t),{hue:parseFloat(e)}))}var nn=_t(tn),rn=nn;function on(e,t){return"transparent"===t?t:vt(c["default"]({},rt(t),{lightness:parseFloat(e)}))}var sn=_t(on),an=sn;function ln(e,t){return"transparent"===t?t:vt(c["default"]({},rt(t),{saturation:parseFloat(e)}))}var cn=_t(ln),un=cn;function hn(e,t){return"transparent"===t?t:Ht(parseFloat(e),"rgb(0, 0, 0)",t)}var dn=_t(hn),fn=dn;function pn(e,t){return"transparent"===t?t:Ht(parseFloat(e),"rgb(255, 255, 255)",t)}var mn=_t(pn),gn=mn;function An(e,t){if("transparent"===t)return t;var n=nt(t),i="number"===typeof n.alpha?n.alpha:1,r=c["default"]({},n,{alpha:Et(0,1,+(100*i-100*parseFloat(e)).toFixed(2)/100)});return pt(r)}var yn=_t(An),vn=yn;function bn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0]);if(!i&&t.length>8)throw new T(64);var r=t.map((function(e){if(i&&!Array.isArray(e)||!i&&Array.isArray(e))throw new T(65);if(Array.isArray(e)&&e.length>8)throw new T(66);return Array.isArray(e)?e.join(" "):e})).join(", ");return{animation:r}}function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{backgroundImage:t.join(", ")}}function wn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{background:t.join(", ")}}var xn=["top","right","bottom","left"];function Sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;return"string"===typeof e&&xn.indexOf(e)>=0?(r={},r["border"+D(e)+"Width"]=n[0],r["border"+D(e)+"Style"]=n[1],r["border"+D(e)+"Color"]=n[2],r):(n.unshift(e),{borderWidth:n[0],borderStyle:n[1],borderColor:n[2]})}function Tn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return F.apply(void 0,["borderColor"].concat(t))}function En(e,t){var n,i,r=D(e);if(!t&&0!==t)throw new T(62);if("Top"===r||"Bottom"===r)return n={},n["border"+r+"RightRadius"]=t,n["border"+r+"LeftRadius"]=t,n;if("Left"===r||"Right"===r)return i={},i["borderTop"+r+"Radius"]=t,i["borderBottom"+r+"Radius"]=t,i;throw new T(63)}function Mn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return F.apply(void 0,["borderStyle"].concat(t))}function Cn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return F.apply(void 0,["borderWidth"].concat(t))}function On(e,t){var n=t?":"+t:"";return e(n)}function kn(e,t,n){if(!t)throw new T(67);if(0===e.length)return On(t,null);for(var i=[],r=0;r<e.length;r+=1){if(n&&n.indexOf(e[r])<0)throw new T(68);i.push(On(t,e[r]))}return i=i.join(","),i}var Pn=[void 0,null,"active","focus","hover"];function In(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}function Rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kn(t,In,Pn)}function Dn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return F.apply(void 0,["margin"].concat(t))}function Ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return F.apply(void 0,["padding"].concat(t))}var Nn=["absolute","fixed","relative","static","sticky"];function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Nn.indexOf(e)>=0&&e?c["default"]({},F.apply(void 0,[""].concat(n)),{position:e}):F.apply(void 0,["",e].concat(n))}function Fn(e,t){return void 0===t&&(t=e),{height:e,width:t}}var jn=[void 0,null,"active","focus","hover"];function Un(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}function zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kn(t,Un,jn)}function qn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Array.isArray(t[0])&&2===t.length){var i=t[1];if("string"!==typeof i)throw new T(61);var r=t[0].map((function(e){return e+" "+i})).join(", ");return{transition:r}}return{transition:t.join(", ")}}t.adjustHue=St,t.animation=bn,t.backgroundImages=_n,t.backgrounds=wn,t.between=ue,t.border=Sn,t.borderColor=Tn,t.borderRadius=En,t.borderStyle=Mn,t.borderWidth=Cn,t.buttons=Rn,t.clearFix=he,t.complement=Tt,t.cover=de,t.cssVar=R,t.darken=Ot,t.desaturate=It,t.directionalProperty=F,t.easeIn=oe,t.easeInOut=ae,t.easeOut=ce,t.ellipsis=fe,t.em=G,t.fluidRange=Ae,t.fontFace=Me,t.getContrast=Dt,t.getLuminance=Rt,t.getValueAndUnit=$,t.grayscale=Lt,t.hiDPI=ke,t.hideText=Ce,t.hideVisually=Oe,t.hsl=ht,t.hslToColorString=Nt,t.hsla=dt,t.important=X,t.invert=Bt,t.lighten=Ut,t.linearGradient=Ie,t.margin=Dn,t.math=P,t.meetsContrastGuidelines=zt,t.mix=Ht,t.modularScale=Q,t.normalize=Re,t.opacify=$t,t.padding=Ln,t.parseToHsl=rt,t.parseToRgb=nt,t.position=Bn,t.radialGradient=De,t.readableColor=Kt,t.rem=Z,t.remToPx=ie,t.retinaImage=Le,t.rgb=ft,t.rgbToColorString=Qt,t.rgba=pt,t.saturate=en,t.setHue=rn,t.setLightness=an,t.setSaturation=un,t.shade=fn,t.size=Fn,t.stripUnit=z,t.textInputs=zn,t.timingFunctions=Fe,t.tint=gn,t.toColorString=vt,t.transitions=qn,t.transparentize=vn,t.triangle=ze,t.wordWrap=qe},"8df4":function(e,t,n){"use strict";var i=n("7a77");function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e,t=new r((function(t){e=t}));return{token:t,cancel:e}},e.exports=r},"8e25":function(e,t,n){(function(t,i){e.exports=i(n("7a23"))})("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var i=n("b622"),r=i("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var i=n("1c0b");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},"06cf":function(e,t,n){var i=n("83ab"),r=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=s(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var i=n("83ab"),r=n("d039"),o=n("cc12");e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"159b":function(e,t,n){var i=n("da84"),r=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in r){var l=i[a],c=l&&l.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(u){c.forEach=o}}},"17c2":function(e,t,n){"use strict";var i=n("b727").forEach,r=n("a640"),o=n("ae40"),s=r("forEach"),a=o("forEach");e.exports=s&&a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var i=n("d066");e.exports=i("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var i=n("b622"),r=i("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(l){}return n}},"1cdc":function(e,t,n){var i=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},2266:function(e,t,n){var i=n("825a"),r=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),l=n("9bdd"),c=function(e,t){this.stopped=e,this.result=t},u=e.exports=function(e,t,n,u,h){var d,f,p,m,g,A,y,v=s(t,n,u?2:1);if(h)d=e;else{if(f=a(e),"function"!=typeof f)throw TypeError("Target is not iterable");if(r(f)){for(p=0,m=o(e.length);m>p;p++)if(g=u?v(i(y=e[p])[0],y[1]):v(e[p]),g&&g instanceof c)return g;return new c(!1)}d=f.call(e)}A=d.next;while(!(y=A.call(d)).done)if(g=l(d,v,y.value,u),"object"==typeof g&&g&&g instanceof c)return g;return new c(!1)};u.stop=function(e){return new c(!0,e)}},"23cb":function(e,t,n){var i=n("a691"),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},"23e7":function(e,t,n){var i=n("da84"),r=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,h,d,f,p,m=e.target,g=e.global,A=e.stat;if(u=g?i:A?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(h in t){if(f=t[h],e.noTargetGet?(p=r(u,h),d=p&&p.value):d=u[h],n=c(g?h:m+(A?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f===typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(u,h,f,e)}}},"241c":function(e,t,n){var i=n("ca84"),r=n("7839"),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},2626:function(e,t,n){"use strict";var i=n("d066"),r=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=i(e),n=r.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"2cf4":function(e,t,n){var i,r,o,s=n("da84"),a=n("d039"),l=n("c6b6"),c=n("0366"),u=n("1be4"),h=n("cc12"),d=n("1cdc"),f=s.location,p=s.setImmediate,m=s.clearImmediate,g=s.process,A=s.MessageChannel,y=s.Dispatch,v=0,b={},_="onreadystatechange",w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},x=function(e){return function(){w(e)}},S=function(e){w(e.data)},T=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};p&&m||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++v]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(v),v},m=function(e){delete b[e]},"process"==l(g)?i=function(e){g.nextTick(x(e))}:y&&y.now?i=function(e){y.now(x(e))}:A&&!d?(r=new A,o=r.port2,r.port1.onmessage=S,i=c(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(T)||"file:"===f.protocol?i=_ in h("script")?function(e){u.appendChild(h("script"))[_]=function(){u.removeChild(this),w(e)}}:function(e){setTimeout(x(e),0)}:(i=T,s.addEventListener("message",S,!1))),e.exports={set:p,clear:m}},"2d00":function(e,t,n){var i,r,o=n("da84"),s=n("342f"),a=o.process,l=a&&a.versions,c=l&&l.v8;c?(i=c.split("."),r=i[0]+i[1]):s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=i[1]))),e.exports=r&&+r},"342f":function(e,t,n){var i=n("d066");e.exports=i("navigator","userAgent")||""},"35a1":function(e,t,n){var i=n("f5df"),r=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||r[i(e)]}},"37e8":function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("825a"),s=n("df75");e.exports=i?Object.defineProperties:function(e,t){o(e);var n,i=s(t),a=i.length,l=0;while(a>l)r.f(e,n=i[l++],t[n]);return e}},"3bbe":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){"use strict";var i=n("23e7"),r=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"428f":function(e,t,n){var i=n("da84");e.exports=i},"44ad":function(e,t,n){var i=n("d039"),r=n("c6b6"),o="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},"44de":function(e,t,n){var i=n("da84");e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},4840:function(e,t,n){var i=n("825a"),r=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||void 0==(n=i(o)[s])?t:r(n)}},4930:function(e,t,n){var i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var i=n("fc6a"),r=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,l=i(t),c=r(l.length),u=o(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(e,t,n){var i=n("a691"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var i=n("c430"),r=n("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var i=n("d066"),r=n("241c"),o=n("7418"),s=n("825a");e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var i=n("1d80"),r=n("5899"),o="["+r+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"65f0":function(e,t,n){var i=n("861d"),r=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var i,r,o,s=n("7f9a"),a=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),h=n("f772"),d=n("d012"),f=a.WeakMap,p=function(e){return o(e)?r(e):i(e,{})},m=function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var g=new f,A=g.get,y=g.has,v=g.set;i=function(e,t){return v.call(g,e,t),t},r=function(e){return A.call(g,e)||{}},o=function(e){return y.call(g,e)}}else{var b=h("state");d[b]=!0,i=function(e,t){return c(e,b,t),t},r=function(e){return u(e,b)?e[b]:{}},o=function(e){return u(e,b)}}e.exports={set:i,get:r,has:o,enforce:p,getterFor:m}},"6eeb":function(e,t,n){var i=n("da84"),r=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||r(n,"name",t),u(n).source=h.join("string"==typeof t?t:"")),e!==i?(l?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:r(e,t,n)):c?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},7156:function(e,t,n){var i=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var o,s;return r&&"function"==typeof(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&r(e,s),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var i=n("1d80");e.exports=function(e){return Object(i(e))}},"7c73":function(e,t,n){var i,r=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),h=">",d="<",f="prototype",p="script",m=u("IE_PROTO"),g=function(){},A=function(e){return d+p+h+e+d+"/"+p+h},y=function(e){e.write(A("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(A("document.F=Object")),e.close(),e.F},b=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=i?y(i):v();var e=s.length;while(e--)delete b[f][s[e]];return b()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=r(e),n=new g,g[f]=null,n[m]=e):n=b(),void 0===t?n:o(n,t)}},"7f9a":function(e,t,n){var i=n("da84"),r=n("8925"),o=i.WeakMap;e.exports="function"===typeof o&&/native code/.test(r(o))},"825a":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,n){var i,r,o;(function(n,s){r=[],i=s,o="function"===typeof i?i.apply(t,r):i,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,i,r,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(f.stack)||s.exec(f.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(i,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===l)return h[d];if(l===u&&h[d].innerHTML&&h[d].innerHTML.trim()===r)return h[d]}return null}}return e}))},8925:function(e,t,n){var i=n("c6cd"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},"8bbf":function(t,n){t.exports=e},"90e3":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},9112:function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("5c6c");e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var i=n("d039"),r=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},"9bdd":function(e,t,n){var i=n("825a");e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&i(o.call(e)),s}}},"9bf2":function(e,t,n){var i=n("83ab"),r=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),r)try{return a(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9fab":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(e){return function(e,t){if(void 0==t&&(t={fuzzy:!0}),/youtu\.?be/.test(e)){var n,i=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<i.length;++n)if(i[n].test(e))return i[n].exec(e)[1];if(t.fuzzy){var r=e.split(/[\/\&\?=#\.\s]/g);for(n=0;n<r.length;++n)if(/^[^#\&\?]{11}$/.test(r[n]))return r[n]}}return null}}))},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},a9e3:function(e,t,n){"use strict";var i=n("83ab"),r=n("da84"),o=n("94ca"),s=n("6eeb"),a=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),h=n("d039"),d=n("7c73"),f=n("241c").f,p=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,A="Number",y=r[A],v=y.prototype,b=l(d(v))==A,_=function(e){var t,n,i,r,o,s,a,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=c.slice(2),s=o.length,a=0;a<s;a++)if(l=o.charCodeAt(a),l<48||l>r)return NaN;return parseInt(o,i)}return+c};if(o(A,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(b?h((function(){v.valueOf.call(n)})):l(n)!=A)?c(new y(_(t)),n,x):_(t)},S=i?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;S.length>T;T++)a(y,w=S[T])&&!a(x,w)&&m(x,w,p(y,w));x.prototype=v,v.constructor=x,s(r,A,x)}},ae40:function(e,t,n){var i=n("83ab"),r=n("d039"),o=n("5135"),s=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:l,h=o(t,1)?t[1]:void 0;return a[e]=!!n&&!r((function(){if(c&&!i)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,h)}))}},b041:function(e,t,n){"use strict";var i=n("00ee"),r=n("f5df");e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},b575:function(e,t,n){var i,r,o,s,a,l,c,u,h=n("da84"),d=n("06cf").f,f=n("c6b6"),p=n("2cf4").set,m=n("1cdc"),g=h.MutationObserver||h.WebKitMutationObserver,A=h.process,y=h.Promise,v="process"==f(A),b=d(h,"queueMicrotask"),_=b&&b.value;_||(i=function(){var e,t;v&&(e=A.domain)&&e.exit();while(r){t=r.fn,r=r.next;try{t()}catch(n){throw r?s():o=void 0,n}}o=void 0,e&&e.enter()},v?s=function(){A.nextTick(i)}:g&&!m?(a=!0,l=document.createTextNode(""),new g(i).observe(l,{characterData:!0}),s=function(){l.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),u=c.then,s=function(){u.call(c,i)}):s=function(){p.call(h,i)}),e.exports=_||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,s()),o=t}},b622:function(e,t,n){var i=n("da84"),r=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),l=n("fdbf"),c=r("wks"),u=i.Symbol,h=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)||(a&&o(u,e)?c[e]=u[e]:c[e]=h("Symbol."+e)),c[e]}},b727:function(e,t,n){var i=n("0366"),r=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h;return function(f,p,m,g){for(var A,y,v=o(f),b=r(v),_=i(p,m,3),w=s(b.length),x=0,S=g||a,T=t?S(f,w):n?S(f,0):void 0;w>x;x++)if((d||x in b)&&(A=b[x],y=_(A,x,v),e))if(t)T[x]=y;else if(y)switch(e){case 3:return!0;case 5:return A;case 6:return x;case 2:l.call(T,A)}else if(u)return!1;return h?-1:c||u?u:T}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,n){var i=n("861d");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var i=n("da84"),r=n("ce4e"),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var i=n("5135"),r=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)!i(s,n)&&i(a,n)&&c.push(n);while(t.length>l)i(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},cc12:function(e,t,n){var i=n("da84"),r=n("861d"),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cdf9:function(e,t,n){var i=n("825a"),r=n("861d"),o=n("f069");e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var i=n("da84"),r=n("9112");e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("428f"),r=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},d2bb:function(e,t,n){var i=n("825a"),r=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return i(n),r(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var i=n("00ee"),r=n("6eeb"),o=n("b041");i||r(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var i=n("9bf2").f,r=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,s)&&i(e,s,{configurable:!0,value:t})}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},df75:function(e,t,n){var i=n("ca84"),r=n("7839");e.exports=Object.keys||function(e){return i(e,r)}},e2cc:function(e,t,n){var i=n("6eeb");e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var i,r,o,s,a=n("23e7"),l=n("c430"),c=n("da84"),u=n("d066"),h=n("fea9"),d=n("6eeb"),f=n("e2cc"),p=n("d44e"),m=n("2626"),g=n("861d"),A=n("1c0b"),y=n("19aa"),v=n("c6b6"),b=n("8925"),_=n("2266"),w=n("1c7e"),x=n("4840"),S=n("2cf4").set,T=n("b575"),E=n("cdf9"),M=n("44de"),C=n("f069"),O=n("e667"),k=n("69f3"),P=n("94ca"),I=n("b622"),R=n("2d00"),D=I("species"),L="Promise",N=k.get,B=k.set,F=k.getterFor(L),j=h,U=c.TypeError,z=c.document,q=c.process,V=u("fetch"),H=C.f,G=H,W="process"==v(q),$=!!(z&&z.createEvent&&c.dispatchEvent),X="unhandledrejection",Y="rejectionhandled",K=0,Q=1,J=2,Z=1,ee=2,te=P(L,(function(){var e=b(j)!==String(j);if(!e){if(66===R)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!j.prototype["finally"])return!0;if(R>=51&&/native code/.test(j))return!1;var t=j.resolve(1),n=function(e){e((function(){}),(function(){}))},i=t.constructor={};return i[D]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){j.all(e)["catch"]((function(){}))})),ie=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;T((function(){var r=t.value,o=t.state==Q,s=0;while(i.length>s){var a,l,c,u=i[s++],h=o?u.ok:u.fail,d=u.resolve,f=u.reject,p=u.domain;try{h?(o||(t.rejection===ee&&le(e,t),t.rejection=Z),!0===h?a=r:(p&&p.enter(),a=h(r),p&&(p.exit(),c=!0)),a===u.promise?f(U("Promise-chain cycle")):(l=ie(a))?l.call(a,d,f):d(a)):f(r)}catch(m){p&&!c&&p.exit(),f(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&se(e,t)}))}},oe=function(e,t,n){var i,r;$?(i=z.createEvent("Event"),i.promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},(r=c["on"+e])?r(i):e===X&&M("Unhandled promise rejection",n)},se=function(e,t){S.call(c,(function(){var n,i=t.value,r=ae(t);if(r&&(n=O((function(){W?q.emit("unhandledRejection",i,e):oe(X,e,i)})),t.rejection=W||ae(t)?ee:Z,n.error))throw n.value}))},ae=function(e){return e.rejection!==Z&&!e.parent},le=function(e,t){S.call(c,(function(){W?q.emit("rejectionHandled",e):oe(Y,e,t.value)}))},ce=function(e,t,n,i){return function(r){e(t,n,r,i)}},ue=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=J,re(e,t,!0))},he=function(e,t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===n)throw U("Promise can't be resolved itself");var r=ie(n);r?T((function(){var i={done:!1};try{r.call(n,ce(he,e,i,t),ce(ue,e,i,t))}catch(o){ue(e,i,o,t)}})):(t.value=n,t.state=Q,re(e,t,!1))}catch(o){ue(e,{done:!1},o,t)}}};te&&(j=function(e){y(this,j,L),A(e),i.call(this);var t=N(this);try{e(ce(he,this,t),ce(ue,this,t))}catch(n){ue(this,t,n)}},i=function(e){B(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:K,value:void 0})},i.prototype=f(j.prototype,{then:function(e,t){var n=F(this),i=H(x(this,j));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=W?q.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=K&&re(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=N(e);this.promise=e,this.resolve=ce(he,e,t),this.reject=ce(ue,e,t)},C.f=H=function(e){return e===j||e===o?new r(e):G(e)},l||"function"!=typeof h||(s=h.prototype.then,d(h.prototype,"then",(function(e,t){var n=this;return new j((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(j,V.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:j}),p(j,L,!1,!0),m(L),o=u(L),a({target:L,stat:!0,forced:te},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:l||te},{resolve:function(e){return E(l&&this===o?j:this,e)}}),a({target:L,stat:!0,forced:ne},{all:function(e){var t=this,n=H(t),i=n.resolve,r=n.reject,o=O((function(){var n=A(t.resolve),o=[],s=0,a=1;_(e,(function(e){var l=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=H(t),i=n.reject,r=O((function(){var r=A(t.resolve);_(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},e893:function(e,t,n){var i=n("5135"),r=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=r(t),a=s.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||a(e,u,l(t,u))}}},e8b5:function(e,t,n){var i=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},e95a:function(e,t,n){var i=n("b622"),r=n("3f8c"),o=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},f069:function(e,t,n){"use strict";var i=n("1c0b"),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},f5df:function(e,t,n){var i=n("00ee"),r=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==r(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),s))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},f772:function(e,t,n){var i=n("5692"),r=n("90e3"),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"PlayerState",(function(){return u})),"undefined"!==typeof window){var i=window.document.currentScript,r=n("8875");i=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=n("8bbf");function a(e,t,n,i,r,o){return Object(s["openBlock"])(),Object(s["createBlock"])("div",{style:e.wrapperStyle},[Object(s["createVNode"])("div",{ref:"youtube",style:e.wrapperStyle},null,4)],4)}n("4160"),n("a9e3"),n("d3b7"),n("e6cf"),n("159b");var l=n("9fab"),c=n.n(l),u={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},h=Object(s["defineComponent"])({name:"YouTube",props:{src:{type:String,required:!0},height:{type:[Number,String],default:360},width:{type:[Number,String],default:640},host:{type:String,default:"https://www.youtube.com"},vars:Object},computed:{id:function(){return c()(this.src)||this.src},wrapperStyle:function(){return{width:"".concat(this.width,"px"),height:"".concat(this.height,"px"),position:"relative"}}},data:function(){var e=function(){},t=new Promise((function(t){e=t})),n={promise:t,resolver:e,player:null,initiated:!1,ready:!1,iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}};return n},mounted:function(){var e=this;window.onYouTubeIframeAPIReadyResolvers||(window.onYouTubeIframeAPIReadyResolvers=[]),window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=function(){var e;null===(e=window.onYouTubeIframeAPIReadyResolvers)||void 0===e||e.forEach((function(e){e()}))}),this.promise.then((function(){return e.initPlayer()}));var t="youtube-iframe-js-api-script",n=document.getElementById(t);if(n)this.resolver();else{var i;null===(i=window.onYouTubeIframeAPIReadyResolvers)||void 0===i||i.push(this.resolver),n=document.createElement("script"),n.id=t,n.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r&&r.parentNode&&r.parentNode.insertBefore(n,r)}},methods:{initPlayer:function(){var e=this;this.initiated=!0,this.player=new YT.Player(this.$refs.youtube,{height:this.height,width:this.width,videoId:this.id,host:this.host,playerVars:this.vars,events:{onReady:function(t){e.ready=!0,setTimeout((function(){return e.$emit("ready",t)}))},onStateChange:function(t){return e.$emit("state-change",t)},onPlaybackQualityChange:function(t){return e.$emit("playback-quality-change",t)},onPlaybackRateChange:function(t){return e.$emit("playback-rate-change",t)},onError:function(t){return e.$emit("error",t)},onApiChange:function(t){return e.$emit("api-change",t)}}})},cueVideoById:function(e,t,n){var i;null===(i=this.player)||void 0===i||i.cueVideoById(e,t,n)},loadVideoById:function(e,t,n){var i;null===(i=this.player)||void 0===i||i.loadVideoById(e,t,n)},cueVideoByUrl:function(e,t,n){var i;null===(i=this.player)||void 0===i||i.cueVideoByUrl(e,t,n)},loadVideoByUrl:function(e,t,n){var i;null===(i=this.player)||void 0===i||i.loadVideoByUrl(e,t,n)},cuePlaylist:function(e,t,n,i){var r;null===(r=this.player)||void 0===r||r.cuePlaylist(e,t,n,i)},loadPlaylist:function(e,t,n,i){var r;null===(r=this.player)||void 0===r||r.loadPlaylist(e,t,n,i)},playVideo:function(){var e;null===(e=this.player)||void 0===e||e.playVideo()},pauseVideo:function(){var e;null===(e=this.player)||void 0===e||e.pauseVideo()},stopVideo:function(){var e;null===(e=this.player)||void 0===e||e.stopVideo()},seekTo:function(e,t){var n;null===(n=this.player)||void 0===n||n.seekTo(e,t)},nextVideo:function(){var e;null===(e=this.player)||void 0===e||e.nextVideo()},previousVideo:function(){var e;null===(e=this.player)||void 0===e||e.previousVideo()},playVideoAt:function(e){var t;null===(t=this.player)||void 0===t||t.playVideoAt(e)},mute:function(){var e;null===(e=this.player)||void 0===e||e.mute()},unMute:function(){var e;null===(e=this.player)||void 0===e||e.unMute()},isMuted:function(){return!!this.player&&this.player.isMuted()},setVolume:function(e){var t;null===(t=this.player)||void 0===t||t.setVolume(e)},getVolume:function(){return this.player?this.player.getVolume():0},getPlaybackRate:function(){return this.player?this.player.getPlaybackRate():0},setPlaybackRate:function(e){var t;null===(t=this.player)||void 0===t||t.setPlaybackRate(e)},getAvailablePlaybackRates:function(){return this.player?this.player.getAvailablePlaybackRates():[]},setLoop:function(e){var t;null===(t=this.player)||void 0===t||t.setLoop(e)},setShuffle:function(e){var t;null===(t=this.player)||void 0===t||t.setShuffle(e)},getVideoLoadedFraction:function(){return this.player?this.player.getVideoLoadedFraction():0},getPlayerState:function(){return this.player?this.player.getPlayerState():u.UNSTARTED},getCurrentTime:function(){return this.player?this.player.getCurrentTime():0},getPlaybackQuality:function(){return this.player?this.player.getPlaybackQuality():"default"},setPlaybackQuality:function(e){var t;null===(t=this.player)||void 0===t||t.setPlaybackQuality(e)},getAvailableQualityLevels:function(){return this.player?this.player.getAvailableQualityLevels():[]},getDuration:function(){return this.player?this.player.getDuration():0},getVideoUrl:function(){return this.player?this.player.getVideoUrl():""},getVideoEmbedCode:function(){return this.player?this.player.getVideoEmbedCode():""},getPlaylist:function(){return this.player?this.player.getPlaylist():[]},getPlaylistIndex:function(){return this.player?this.player.getPlaylistIndex():0}},watch:{width:function(){var e;null===(e=this.player)||void 0===e||e.setSize(+this.width,+this.height)},height:function(){var e;null===(e=this.player)||void 0===e||e.setSize(+this.width,+this.height)},src:function(){this.initiated&&this.player&&this.player.loadVideoById(this.id)}},beforeUnmount:function(){var e;null===(e=this.player)||void 0===e||e.destroy()}}),d=h;d.render=a;var f=d;t["default"]=f},fc6a:function(e,t,n){var i=n("44ad"),r=n("1d80");e.exports=function(e){return i(r(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var i=n("4930");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var i=n("da84");e.exports=i.Promise}})["default"]}))},"8ea1":function(e,t){var n="object"==typeof document&&document.all,i="undefined"==typeof n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:i}},"8f6b":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return gi})),n.d(t,"b",(function(){return yi})),n.d(t,"c",(function(){return Ai})),n.d(t,"d",(function(){return bi})),n.d(t,"e",(function(){return vi})),n.d(t,"f",(function(){return _i})),n.d(t,"g",(function(){return wi})),n.d(t,"h",(function(){return pi})),n.d(t,"i",(function(){return mi}));var i,r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},o={},s=s||{},a=r||self;function l(){}function c(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function h(e){return Object.prototype.hasOwnProperty.call(e,d)&&e[d]||(e[d]=++f)}var d="closure_uid_"+(1e9*Math.random()>>>0),f=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:m,g.apply(null,arguments)}function A(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function y(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function v(){this.s=this.s,this.o=this.o}var b=0;v.prototype.s=!1,v.prototype.na=function(){this.s||(this.s=!0,this.M(),0==b)||h(this)},v.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function w(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function x(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(c(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function S(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function E(e){return/^[\s\xa0]*$/.test(e)}var M=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function C(e,t){return e<t?-1:e>t?1:0}function O(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function k(e){return-1!=O().indexOf(e)}function P(e){return P[" "](e),e}function I(e){var t=G;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}P[" "]=l;var R,D=k("Opera"),L=k("Trident")||k("MSIE"),N=k("Edge"),B=N||L,F=k("Gecko")&&!(-1!=O().toLowerCase().indexOf("webkit")&&!k("Edge"))&&!(k("Trident")||k("MSIE"))&&!k("Edge"),j=-1!=O().toLowerCase().indexOf("webkit")&&!k("Edge");function U(){var e=a.document;return e?e.documentMode:void 0}e:{var z="",q=function(){var e=O();return F?/rv:([^\);]+)(\)|;)/.exec(e):N?/Edge\/([\d\.]+)/.exec(e):L?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):j?/WebKit\/(\S+)/.exec(e):D?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(q&&(z=q?q[1]:""),L){var V=U();if(null!=V&&V>parseFloat(z)){R=String(V);break e}}R=z}var H,G={};function W(){return I((function(){let e=0;const t=M(String(R)).split("."),n=M("9").split("."),i=Math.max(t.length,n.length);for(let s=0;0==e&&s<i;s++){var r=t[s]||"",o=n[s]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;e=C(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||C(0==r[2].length,0==o[2].length)||C(r[2],o[2]),r=r[3],o=o[3]}while(0==e)}return 0<=e}))}if(a.document&&L){var $=U();H=$||(parseInt(R,10)||void 0)}else H=void 0;var X=H;function Y(e,t){if(S.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(F){e:{try{P(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Y.X.h.call(this)}}y(Y,S);var K={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),J=0;function Z(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++J,this.ba=this.ea=!1}function ee(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function te(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function ne(e){const t={};for(const n in e)t[n]=e[n];return t}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<ie.length;t++)n=ie[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function oe(e){this.src=e,this.g={},this.h=0}function se(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],o=_(r,t);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ee(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ae(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.ba&&o.listener==t&&o.capture==!!n&&o.ha==i)return r}return-1}oe.prototype.add=function(e,t,n,i,r){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=ae(e,t,i,r);return-1<s?(t=e[s],n||(t.ea=!1)):(t=new Z(t,this.src,o,!!i,r),t.ea=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),ce={};function ue(e,t,n,i,r){if(i&&i.once)return fe(e,t,n,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ue(e,t[o],n,i,r);return null}return n=be(n),e&&e[Q]?e.N(t,n,u(i)?!!i.capture:!!i,r):he(e,t,n,!1,i,r)}function he(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var s=u(r)?!!r.capture:!!r,a=ye(e);if(a||(e[le]=a=new oe(e)),n=a.add(t,n,i,s,o),n.proxy)return n;if(i=de(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)T||(r=s),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(ge(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function de(){function e(n){return t.call(e.src,e.listener,n)}const t=Ae;return e}function fe(e,t,n,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)fe(e,t[o],n,i,r);return null}return n=be(n),e&&e[Q]?e.O(t,n,u(i)?!!i.capture:!!i,r):he(e,t,n,!0,i,r)}function pe(e,t,n,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)pe(e,t[o],n,i,r);else i=u(i)?!!i.capture:!!i,n=be(n),e&&e[Q]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=ae(o,n,i,r),-1<n&&(ee(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ye(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ae(t,n,i,r)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Q])se(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ge(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=ye(t))?(se(n,e),0==n.h&&(n.src=null,t[le]=null)):ee(e)}}}function ge(e){return e in ce?ce[e]:ce[e]="on"+e}function Ae(e,t){if(e.ba)e=!0;else{t=new Y(t,this);var n=e.listener,i=e.ha||e.src;e.ea&&me(e),e=n.call(i,t)}return e}function ye(e){return e=e[le],e instanceof oe?e:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(e){return"function"===typeof e?e:(e[ve]||(e[ve]=function(t){return e.handleEvent(t)}),e[ve])}function _e(){v.call(this),this.i=new oe(this),this.P=this,this.I=null}function we(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,"string"===typeof t)t=new S(t,e);else if(t instanceof S)t.target=t.target||e;else{var r=t;t=new S(i,e),re(t,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];r=xe(s,i,!0,t)&&r}if(s=t.g=e,r=xe(s,i,!0,t)&&r,r=xe(s,i,!1,t)&&r,n)for(o=0;o<n.length;o++)s=t.g=n[o],r=xe(s,i,!1,t)&&r}function xe(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.ea&&se(e.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}y(_e,v),_e.prototype[Q]=!0,_e.prototype.removeEventListener=function(e,t,n,i){pe(this,e,t,n,i)},_e.prototype.M=function(){if(_e.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ee(n[i]);delete t.g[e],t.h--}}this.I=null},_e.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},_e.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Se=a.JSON.stringify;function Te(){var e=De;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Ee{constructor(){this.h=this.g=null}add(e,t){const n=Ce.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var Me,Ce=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Oe,e=>e.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ke(e){a.setTimeout(()=>{throw e},0)}function Pe(e,t){Me||Ie(),Re||(Me(),Re=!0),De.add(e,t)}function Ie(){var e=a.Promise.resolve(void 0);Me=function(){e.then(Le)}}var Re=!1,De=new Ee;function Le(){for(var e;e=Te();){try{e.h.call(e.g)}catch(n){ke(n)}var t=Ce;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Re=!1}function Ne(e,t){_e.call(this),this.h=e||1,this.g=t||a,this.j=g(this.lb,this),this.l=Date.now()}function Be(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Fe(e,t,n){if("function"===typeof e)n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function je(e){e.g=Fe(()=>{e.g=null,e.i&&(e.i=!1,je(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}y(Ne,_e),i=Ne.prototype,i.ca=!1,i.R=null,i.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),we(this,"tick"),this.ca&&(Be(this),this.start()))}},i.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Ne.X.M.call(this),Be(this),delete this.g};class Ue extends v{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:je(this)}M(){super.M(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(e){v.call(this),this.h=e,this.g={}}y(ze,v);var qe=[];function Ve(e,t,n,i){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var r=0;r<n.length;r++){var o=ue(t,n[r],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function He(e){te(e.g,(function(e,t){this.g.hasOwnProperty(t)&&me(e)}),e),e.g={}}function Ge(){this.g=!0}function We(e,t,n,i,r,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+s}))}function $e(e,t,n,i,r,o,s){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+o+" "+s}))}function Xe(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+Ke(e,n)+(i?" "+i:"")}))}function Ye(e,t){e.info((function(){return"TIMEOUT: "+t}))}function Ke(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Se(n)}catch(a){return t}}ze.prototype.M=function(){ze.X.M.call(this),He(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ge.prototype.Aa=function(){this.g=!1},Ge.prototype.info=function(){};var Qe={},Je=null;function Ze(){return Je=Je||new _e}function et(e){S.call(this,Qe.Pa,e)}function tt(e){const t=Ze();we(t,new et(t))}function nt(e,t){S.call(this,Qe.STAT_EVENT,e),this.stat=t}function it(e){const t=Ze();we(t,new nt(t,e))}function rt(e,t){S.call(this,Qe.Qa,e),this.size=t}function ot(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}Qe.Pa="serverreachability",y(et,S),Qe.STAT_EVENT="statevent",y(nt,S),Qe.Qa="timingevent",y(rt,S);var st={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},at={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lt(){}function ct(e){return e.h||(e.h=e.i())}function ut(){}lt.prototype.h=null;var ht,dt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ft(){S.call(this,"d")}function pt(){S.call(this,"c")}function mt(){}function gt(e,t,n,i){this.l=e,this.j=t,this.m=n,this.U=i||1,this.S=new ze(this),this.O=yt,e=B?125:void 0,this.T=new Ne(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}y(ft,S),y(pt,S),y(mt,lt),mt.prototype.g=function(){return new XMLHttpRequest},mt.prototype.i=function(){return{}},ht=new mt;var yt=45e3,vt={},bt={};function _t(e,t,n){e.K=1,e.v=Vt(Ft(t)),e.s=n,e.P=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),Et(e),e.A=Ft(e.v);var n=e.A,i=e.U;Array.isArray(i)||(i=[String(i)]),nn(n.i,"t",i),e.C=0,n=e.l.H,e.h=new At,e.g=ai(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ue(g(e.La,e,e.g),e.N)),Ve(e.S,e.g,"readystatechange",e.ib),t=e.H?ne(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),tt(),We(e.j,e.u,e.A,e.m,e.U,e.s)}function xt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function St(e,t,n){let i,r=!0;for(;!e.I&&e.C<n.length;){if(i=Tt(e,n),i==bt){4==t&&(e.o=4,it(14),r=!1),Xe(e.j,e.m,null,"[Incomplete Response]");break}if(i==vt){e.o=4,it(15),Xe(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}Xe(e.j,e.m,i,null),Pt(e,i)}xt(e)&&i!=bt&&i!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,it(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zn(t),t.K=!0,it(11))):(Xe(e.j,e.m,n,"[Invalid Chunked Response]"),kt(e),Ot(e))}function Tt(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?bt:(n=Number(t.substring(n,i)),isNaN(n)?vt:(i+=1,i+n>t.length?bt:(t=t.substr(i,n),e.C=i+n,t)))}function Et(e){e.V=Date.now()+e.O,Mt(e,e.O)}function Mt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ot(g(e.gb,e),t)}function Ct(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function Ot(e){0==e.l.G||e.I||ni(e.l,e)}function kt(e){Ct(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.T),He(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hn(n.h,e)))if(!e.J&&hn(n.h,e)&&3==n.G){try{var i=n.Fa.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ti(n),Hn(n)}Jn(n),it(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=ot(g(n.cb,n),6e3));if(1>=un(n.h)&&n.ja){try{n.ja()}catch(c){}n.ja=void 0}}else ri(n,11)}else if((e.J||n.g==e)&&ti(n),!E(t))for(r=n.Fa.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const t=c[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const r=c[4];null!=r&&(n.Ca=r,n.j.info("SVER="+n.Ca));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=i.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(dn(o,o.h),o.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.za=e,qt(i.F,i.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var s=e;if(i.sa=si(i,i.H?i.ka:null,i.V),s.J){fn(i.h,s);var a=s,l=i.J;l&&a.setTimeout(l),a.B&&(Ct(a),Et(a)),i.g=s}else Qn(i);0<n.i.length&&Wn(n)}else"stop"!=c[0]&&"close"!=c[0]||ri(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ri(n,7):Vn(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}tt(4)}catch(c){}}function It(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(c(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}function Rt(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(c(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function Dt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=Rt(e),i=It(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}i=gt.prototype,i.setTimeout=function(e){this.O=e},i.ib=function(e){e=e.target;const t=this.L;t&&3==Bn(e)?t.l():this.La(e)},i.La=function(e){try{if(e==this.g)e:{const h=Bn(this.g);var t=this.g.Ea();const d=this.g.aa();if(!(3>h)&&(3!=h||B||this.g&&(this.h.h||this.g.fa()||Fn(this.g)))){this.I||4!=h||7==t||tt(8==t||0>=d?3:2),Ct(this);var n=this.g.aa();this.Y=n;t:if(xt(this)){var i=Fn(this.g);e="";var r=i.length,o=4==Bn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){kt(this),Ot(this);var s="";break t}this.h.i=new a.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==n,$e(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(l)){var u=l;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,it(12),kt(this),Ot(this);break e}Xe(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pt(this,n)}this.P?(St(this,h,s),B&&this.i&&3==h&&(Ve(this.S,this.T,"tick",this.hb),this.T.start())):(Xe(this.j,this.m,s,null),Pt(this,s)),4==h&&kt(this),this.i&&!this.I&&(4==h?ni(this.l,this):(this.i=!1,Et(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,it(12)):(this.o=0,it(13)),kt(this),Ot(this)}}}catch(h){}},i.hb=function(){if(this.g){var e=Bn(this.g),t=this.g.fa();this.C<t.length&&(Ct(this),St(this,e,t),this.i&&4!=e&&Et(this))}},i.cancel=function(){this.I=!0,kt(this)},i.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(Ye(this.j,this.A),2!=this.K&&(tt(),it(17)),kt(this),this.o=2,Ot(this)):Mt(this,this.V-e)};var Lt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Bt(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bt){this.h=void 0!==t?t:e.h,jt(this,e.j),this.s=e.s,this.g=e.g,Ut(this,e.m),this.l=e.l,t=e.i;var n=new Jt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zt(this,n),this.o=e.o}else e&&(n=String(e).match(Lt))?(this.h=!!t,jt(this,n[1]||"",!0),this.s=Ht(n[2]||""),this.g=Ht(n[3]||"",!0),Ut(this,n[4]),this.l=Ht(n[5]||"",!0),zt(this,n[6]||"",!0),this.o=Ht(n[7]||"")):(this.h=!!t,this.i=new Jt(null,this.h))}function Ft(e){return new Bt(e)}function jt(e,t,n){e.j=n?Ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zt(e,t,n){t instanceof Jt?(e.i=t,on(e.i,e.h)):(n||(t=Gt(t,Kt)),e.i=new Jt(t,e.h))}function qt(e,t,n){e.i.set(t,n)}function Vt(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Bt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gt(t,$t,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gt(t,$t,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?Yt:Xt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gt(n,Qt)),e.join("")};var $t=/[#\/\?@]/g,Xt=/[#\?:]/g,Yt=/[#\?]/g,Kt=/[#\?@]/g,Qt=/#/g;function Jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zt(e){e.g||(e.g=new Map,e.h=0,e.i&&Nt(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function en(e,t){Zt(e),t=rn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tn(e,t){return Zt(e),t=rn(e,t),e.g.has(t)}function nn(e,t,n){en(e,t),0<n.length&&(e.i=null,e.g.set(rn(e,t),w(n)),e.h+=n.length)}function rn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function on(e,t){t&&!e.j&&(Zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(en(this,t),nn(this,n,e))}),e)),e.j=t}i=Jt.prototype,i.add=function(e,t){Zt(this),this.i=null,e=rn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){Zt(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},i.oa=function(){Zt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},i.W=function(e){Zt(this);let t=[];if("string"===typeof e)tn(this,e)&&(t=t.concat(this.g.get(rn(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},i.set=function(e,t){return Zt(this),this.i=null,e=rn(this,e),tn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const o=encodeURIComponent(String(i)),s=this.W(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),e.push(r)}}return this.i=e.join("&")};var sn=class{constructor(e,t){this.h=e,this.g=t}};function an(e){this.l=e||ln,a.PerformanceNavigationTiming?(e=a.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(a.g&&a.g.Ga&&a.g.Ga()&&a.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ln=10;function cn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function un(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dn(e,t){e.g?e.g.add(t):e.h=t}function fn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return w(e.i)}function mn(){}function gn(){this.g=new mn}function An(e,t,n){const i=n||"";try{Dt(e,(function(e,n){let r=e;u(e)&&(r=Se(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function yn(e,t){const n=new Ge;if(a.Image){const i=new Image;i.onload=A(vn,n,i,"TestLoadImage: loaded",!0,t),i.onerror=A(vn,n,i,"TestLoadImage: error",!1,t),i.onabort=A(vn,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=A(vn,n,i,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}function vn(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function bn(e){this.l=e.ac||null,this.j=e.jb||!1}function _n(e,t){_e.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},mn.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},mn.prototype.parse=function(e){return a.JSON.parse(e,void 0)},y(bn,lt),bn.prototype.g=function(){return new _n(this.l,this.j)},bn.prototype.i=function(e){return function(){return e}}({}),y(_n,_e);var wn=0;function xn(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Sn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tn(e)}function Tn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}i=_n.prototype,i.open=function(e,t){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tn(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sn(this)),this.readyState=wn},i.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xn(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},i.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sn(this):Tn(this),3==this.readyState&&xn(this)}},i.Va=function(e){this.g&&(this.response=this.responseText=e,Sn(this))},i.Ua=function(e){this.g&&(this.response=e,Sn(this))},i.ga=function(){this.g&&Sn(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=a.JSON.parse;function Mn(e){_e.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}y(Mn,_e);var Cn="",On=/^https?$/i,kn=["POST","PUT"];function Pn(e){return L&&W()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function In(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rn(e),Ln(e)}function Rn(e){e.D||(e.D=!0,we(e,"complete"),we(e,"error"))}function Dn(e){if(e.h&&"undefined"!=typeof s&&(!e.C[1]||4!=Bn(e)||2!=e.aa()))if(e.v&&4==Bn(e))Fe(e.Ha,0,e);else if(we(e,"readystatechange"),4==Bn(e)){e.h=!1;try{const s=e.aa();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===s){var r=String(e.H).match(Lt)[1]||null;if(!r&&a.self&&a.self.location){var o=a.self.location.protocol;r=o.substr(0,o.length-1)}i=!On.test(r?r.toLowerCase():"")}n=i}if(n)we(e,"complete"),we(e,"success");else{e.m=6;try{var l=2<Bn(e)?e.g.statusText:""}catch(c){l=""}e.j=l+" ["+e.aa()+"]",Rn(e)}}finally{Ln(e)}}}function Ln(e,t){if(e.g){Nn(e);const i=e.g,r=e.C[0]?l:null;e.g=null,e.C=null,t||we(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function Nn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(a.clearTimeout(e.A),e.A=null)}function Bn(e){return e.g?e.g.readyState:0}function Fn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jn(e){let t="";return te(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Un(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=jn(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function zn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qn(e){this.Ca=0,this.i=[],this.j=new Ge,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zn("baseRetryDelayMs",5e3,e),this.bb=zn("retryDelaySeedMs",1e4,e),this.$a=zn("forwardChannelMaxRetries",2,e),this.ta=zn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new an(e&&e.concurrentRequestLimit),this.Fa=new gn,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Vn(e){if(Gn(e),3==e.G){var t=e.U++,n=Ft(e.F);qt(n,"SID",e.I),qt(n,"RID",t),qt(n,"TYPE","terminate"),Yn(e,n),t=new gt(e,e.j,t,void 0),t.K=2,t.v=Vt(Ft(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.v.toString(),"")),!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=ai(t.l,null),t.g.da(t.v)),t.F=Date.now(),Et(t)}oi(e)}function Hn(e){e.g&&(Zn(e),e.g.cancel(),e.g=null)}function Gn(e){Hn(e),e.u&&(a.clearTimeout(e.u),e.u=null),ti(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Wn(e){cn(e.h)||e.m||(e.m=!0,Pe(e.Ja,e),e.C=0)}function $n(e,t){return!(un(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=ot(g(e.Ja,e,t),ii(e,e.C)),e.C++,!0))}function Xn(e,t){var n;n=t?t.m:e.U++;const i=Ft(e.F);qt(i,"SID",e.I),qt(i,"RID",n),qt(i,"AID",e.T),Yn(e,i),e.o&&e.s&&Un(i,e.o,e.s),n=new gt(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Kn(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),dn(e.h,n),_t(n,i,t)}function Yn(e,t){e.ia&&te(e.ia,(function(e,n){qt(t,n,e)})),e.l&&Dt({},(function(e,n){qt(t,n,e)}))}function Kn(e,t,n){n=Math.min(e.i.length,n);var i=e.l?g(e.l.Ra,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=r[a].h;const l=r[a].g;if(n-=t,0>n)t=Math.max(0,r[a].h-100),s=!1;else try{An(l,e,"req"+n+"_")}catch(o){i&&i(l)}}if(s){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function Qn(e){e.g||e.u||(e.Z=1,Pe(e.Ia,e),e.A=0)}function Jn(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ot(g(e.Ia,e),ii(e,e.A)),e.A++,!0)}function Zn(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function ei(e){e.g=new gt(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ft(e.sa);qt(t,"RID","rpc"),qt(t,"SID",e.I),qt(t,"CI",e.L?"0":"1"),qt(t,"AID",e.T),qt(t,"TYPE","xmlhttp"),Yn(e,t),e.o&&e.s&&Un(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Vt(Ft(t)),n.s=null,n.P=!0,wt(n,e)}function ti(e){null!=e.v&&(a.clearTimeout(e.v),e.v=null)}function ni(e,t){var n=null;if(e.g==t){ti(e),Zn(e),e.g=null;var i=2}else{if(!hn(e.h,t))return;n=t.D,fn(e.h,t),i=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;i=Ze(),we(i,new rt(i,n)),Wn(e)}else Qn(e);else if(r=t.o,3==r||0==r&&0<e.pa||!(1==i&&$n(e,t)||2==i&&Jn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:ri(e,5);break;case 4:ri(e,10);break;case 3:ri(e,6);break;default:ri(e,2)}}function ii(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ri(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var i=g(e.kb,e);n||(n=new Bt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||jt(n,"https"),Vt(n)),yn(n.toString(),i)}else it(2);e.G=0,e.l&&e.l.va(t),oi(e),Gn(e)}function oi(e){if(e.G=0,e.la=[],e.l){const t=pn(e.h);0==t.length&&0==e.i.length||(x(e.la,t),x(e.la,e.i),e.h.i.length=0,w(e.i),e.i.length=0),e.l.ua()}}function si(e,t,n){var i=n instanceof Bt?Ft(n):new Bt(n,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Ut(i,i.m);else{var r=a.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Bt(null,void 0);i&&jt(o,i),t&&(o.g=t),r&&Ut(o,r),n&&(o.l=n),i=o}return n=e.D,t=e.za,n&&t&&qt(i,n,t),qt(i,"VER",e.ma),Yn(e,i),i}function ai(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new Mn(new bn({jb:!0})):new Mn(e.ra),t.Ka(e.H),t}function li(){}function ci(){if(L&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function ui(e,t){_e.call(this),this.g=new qn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!E(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new fi(this)}function hi(e){ft.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function di(){pt.call(this),this.status=1}function fi(e){this.g=e}i=Mn.prototype,i.Ka=function(e){this.L=e},i.da=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ht.g(),this.C=this.u?ct(this.u):ct(ht),this.g.onreadystatechange=g(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void In(this,o)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),r=a.FormData&&e instanceof a.FormData,!(0<=_(kn,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nn(this),0<this.B&&((this.K=Pn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=g(this.qa,this)):this.A=Fe(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){In(this,o)}},i.qa=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),Ln(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ln(this,!0)),Mn.X.M.call(this)},i.Ha=function(){this.s||(this.F||this.v||this.l?Dn(this):this.fb())},i.fb=function(){Dn(this)},i.aa=function(){try{return 2<Bn(this)?this.g.status:-1}catch(e){return-1}},i.fa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},i.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},i.Ea=function(){return this.m},i.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},i=qn.prototype,i.ma=8,i.G=1,i.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new gt(this,this.j,e,void 0);let o=this.s;if(this.S&&(o?(o=ne(o),re(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(i="__data__"in i.g&&(i=i.g.__data__,"string"===typeof i)?i.length:void 0,void 0===i)break;if(t+=i,4096<t){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kn(this,r,t),n=Ft(this.F),qt(n,"RID",e),qt(n,"CVER",22),this.D&&qt(n,"X-HTTP-Session-Id",this.D),Yn(this,n),o&&(this.N?t="headers="+encodeURIComponent(String(jn(o)))+"&"+t:this.o&&Un(n,this.o,o)),dn(this.h,r),this.Ya&&qt(n,"TYPE","init"),this.O?(qt(n,"$req",t),qt(n,"SID","null"),r.Z=!0,_t(r,n,null)):_t(r,n,t),this.G=2}}else 3==this.G&&(e?Xn(this,e):0==this.i.length||cn(this.h)||Xn(this))},i.Ia=function(){if(this.u=null,ei(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ot(g(this.eb,this),e)}},i.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,it(10),Hn(this),ei(this))},i.cb=function(){null!=this.v&&(this.v=null,Hn(this),Jn(this),it(19))},i.kb=function(e){e?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))},i=li.prototype,i.xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Ra=function(){},ci.prototype.g=function(e,t){return new ui(e,t)},y(ui,_e),ui.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;it(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=si(e,null,e.V),Wn(e)},ui.prototype.close=function(){Vn(this.g)},ui.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Se(e),e=n);t.i.push(new sn(t.ab++,e)),3==t.G&&Wn(t)},ui.prototype.M=function(){this.g.l=null,delete this.j,Vn(this.g),delete this.g,ui.X.M.call(this)},y(hi,ft),y(di,pt),y(fi,li),fi.prototype.xa=function(){we(this.g,"a")},fi.prototype.wa=function(e){we(this.g,new hi(e))},fi.prototype.va=function(e){we(this.g,new di)},fi.prototype.ua=function(){we(this.g,"b")},ci.prototype.createWebChannel=ci.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,st.NO_ERROR=0,st.TIMEOUT=8,st.HTTP_ERROR=6,at.COMPLETE="complete",ut.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",_e.prototype.listen=_e.prototype.N,Mn.prototype.listenOnce=Mn.prototype.O,Mn.prototype.getLastError=Mn.prototype.Oa,Mn.prototype.getLastErrorCode=Mn.prototype.Ea,Mn.prototype.getStatus=Mn.prototype.aa,Mn.prototype.getResponseJson=Mn.prototype.Sa,Mn.prototype.getResponseText=Mn.prototype.fa,Mn.prototype.send=Mn.prototype.da,Mn.prototype.setWithCredentials=Mn.prototype.Ka;var pi=o.createWebChannelTransport=function(){return new ci},mi=o.getStatEventTarget=function(){return Ze()},gi=o.ErrorCode=st,Ai=o.EventType=at,yi=o.Event=Qe,vi=o.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},bi=o.FetchXmlHttpFactory=bn,_i=o.WebChannel=ut,wi=o.XhrIo=Mn}).call(this,n("c8ba"))},9046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_OPERATORS=t.UNARY_OPERATORS=t.STRING_UNARY_OPERATORS=t.STATEMENT_OR_BLOCK_KEYS=t.NUMBER_UNARY_OPERATORS=t.NUMBER_BINARY_OPERATORS=t.NOT_LOCAL_BINDING=t.LOGICAL_OPERATORS=t.INHERIT_KEYS=t.FOR_INIT_KEYS=t.FLATTENABLE_KEYS=t.EQUALITY_BINARY_OPERATORS=t.COMPARISON_BINARY_OPERATORS=t.COMMENT_KEYS=t.BOOLEAN_UNARY_OPERATORS=t.BOOLEAN_NUMBER_BINARY_OPERATORS=t.BOOLEAN_BINARY_OPERATORS=t.BLOCK_SCOPED_SYMBOL=t.BINARY_OPERATORS=t.ASSIGNMENT_OPERATORS=void 0;const i=["consequent","body","alternate"];t.STATEMENT_OR_BLOCK_KEYS=i;const r=["body","expressions"];t.FLATTENABLE_KEYS=r;const o=["left","init"];t.FOR_INIT_KEYS=o;const s=["leadingComments","trailingComments","innerComments"];t.COMMENT_KEYS=s;const a=["||","&&","??"];t.LOGICAL_OPERATORS=a;const l=["++","--"];t.UPDATE_OPERATORS=l;const c=[">","<",">=","<="];t.BOOLEAN_NUMBER_BINARY_OPERATORS=c;const u=["==","===","!=","!=="];t.EQUALITY_BINARY_OPERATORS=u;const h=[...u,"in","instanceof"];t.COMPARISON_BINARY_OPERATORS=h;const d=[...h,...c];t.BOOLEAN_BINARY_OPERATORS=d;const f=["-","/","%","*","**","&","|",">>",">>>","<<","^"];t.NUMBER_BINARY_OPERATORS=f;const p=["+",...f,...d,"|>"];t.BINARY_OPERATORS=p;const m=["=","+=",...f.map(e=>e+"="),...a.map(e=>e+"=")];t.ASSIGNMENT_OPERATORS=m;const g=["delete","!"];t.BOOLEAN_UNARY_OPERATORS=g;const A=["+","-","~"];t.NUMBER_UNARY_OPERATORS=A;const y=["typeof"];t.STRING_UNARY_OPERATORS=y;const v=["void","throw",...g,...A,...y];t.UNARY_OPERATORS=v;const b={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]};t.INHERIT_KEYS=b;const _=Symbol.for("var used to be block scoped");t.BLOCK_SCOPED_SYMBOL=_;const w=Symbol.for("should not be considered a local binding");t.NOT_LOCAL_BINDING=w},"90e3":function(e,t,n){var i=n("e330"),r=0,o=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+o,36)}},9112:function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("5c6c");e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("c485"),r=n("eb5b"),o=s;function s(e,t){if((0,i.isStatement)(e))return e;let n,o=!1;if((0,i.isClass)(e))o=!0,n="ClassDeclaration";else if((0,i.isFunction)(e))o=!0,n="FunctionDeclaration";else if((0,i.isAssignmentExpression)(e))return(0,r.expressionStatement)(e);if(o&&!e.id&&(n=!1),!n){if(t)return!1;throw new Error(`cannot turn ${e.type} to a statement`)}return e.type=n,e}t.default=o},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=c}return(f?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*m}},9388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("b9c3"),r=n("eb5b"),o=c;t.default=o;const s=Function.call.bind(Object.prototype.toString);function a(e){return"[object RegExp]"===s(e)}function l(e){if("object"!==typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function c(e){if(void 0===e)return(0,r.identifier)("undefined");if(!0===e||!1===e)return(0,r.booleanLiteral)(e);if(null===e)return(0,r.nullLiteral)();if("string"===typeof e)return(0,r.stringLiteral)(e);if("number"===typeof e){let t;if(Number.isFinite(e))t=(0,r.numericLiteral)(Math.abs(e));else{let n;n=Number.isNaN(e)?(0,r.numericLiteral)(0):(0,r.numericLiteral)(1),t=(0,r.binaryExpression)("/",n,(0,r.numericLiteral)(0))}return(e<0||Object.is(e,-0))&&(t=(0,r.unaryExpression)("-",t)),t}if(a(e)){const t=e.source,n=e.toString().match(/\/([a-z]+|)$/)[1];return(0,r.regExpLiteral)(t,n)}if(Array.isArray(e))return(0,r.arrayExpression)(e.map(c));if(l(e)){const t=[];for(const n of Object.keys(e)){let o;o=(0,i.default)(n)?(0,r.identifier)(n):(0,r.stringLiteral)(n),t.push((0,r.objectProperty)(o,c(e[n])))}return(0,r.objectExpression)(t)}throw new Error("don't know how to turn this value into a node")}},"94c7":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=/^\s+/,n=/\s+$/;function i(e,t){if(e=e||"",t=t||{},e instanceof i)return e;if(!(this instanceof i))return new i(e,t);var n=r(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function r(t){var n={r:0,g:0,b:0},i=1,r=null,s=null,l=null,u=!1,h=!1;return"string"==typeof t&&(t=U(t)),"object"==e(t)&&(j(t.r)&&j(t.g)&&j(t.b)?(n=o(t.r,t.g,t.b),u=!0,h="%"===String(t.r).substr(-1)?"prgb":"rgb"):j(t.h)&&j(t.s)&&j(t.v)?(r=L(t.s),s=L(t.v),n=c(t.h,r,s),u=!0,h="hsv"):j(t.h)&&j(t.s)&&j(t.l)&&(r=L(t.s),l=L(t.l),n=a(t.h,r,l),u=!0,h="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=C(i),{ok:u,format:t.format||h,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}function o(e,t,n){return{r:255*O(e,255),g:255*O(t,255),b:255*O(n,255)}}function s(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:r,l:a}}function a(e,t,n){var i,r,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=O(e,360),t=O(t,100),n=O(n,100),0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=s(l,a,e+1/3),r=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}function l(e,t,n){e=O(e,255),t=O(t,255),n=O(n,255);var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:r,v:a}}function c(e,t,n){e=6*O(e,360),t=O(t,100),n=O(n,100);var i=Math.floor(e),r=e-i,o=n*(1-t),s=n*(1-r*t),a=n*(1-(1-r)*t),l=i%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],h=[o,o,a,n,n,s][l];return{r:255*c,g:255*u,b:255*h}}function u(e,t,n,i){var r=[D(Math.round(e).toString(16)),D(Math.round(t).toString(16)),D(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function h(e,t,n,i,r){var o=[D(Math.round(e).toString(16)),D(Math.round(t).toString(16)),D(Math.round(n).toString(16)),D(N(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function d(e,t,n,i){var r=[D(N(i)),D(Math.round(e).toString(16)),D(Math.round(t).toString(16)),D(Math.round(n).toString(16))];return r.join("")}function f(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s-=t/100,n.s=k(n.s),i(n)}function p(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s+=t/100,n.s=k(n.s),i(n)}function m(e){return i(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l+=t/100,n.l=k(n.l),i(n)}function A(e,t){t=0===t?0:t||10;var n=i(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),i(n)}function y(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l-=t/100,n.l=k(n.l),i(n)}function v(e,t){var n=i(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,i(n)}function b(e){var t=i(e).toHsl();return t.h=(t.h+180)%360,i(t)}function _(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=i(e).toHsl(),r=[i(e)],o=360/t,s=1;s<t;s++)r.push(i({h:(n.h+s*o)%360,s:n.s,l:n.l}));return r}function w(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+72)%360,s:t.s,l:t.l}),i({h:(n+216)%360,s:t.s,l:t.l})]}function x(e,t,n){t=t||6,n=n||30;var r=i(e).toHsl(),o=360/n,s=[i(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,s.push(i(r));return s}function S(e,t){t=t||6;var n=i(e).toHsv(),r=n.h,o=n.s,s=n.v,a=[],l=1/t;while(t--)a.push(i({h:r,s:o,v:s})),s=(s+l)%1;return a}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i,r,o,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*i+.7152*r+.0722*o},setAlpha:function(e){return this._a=C(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return u(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return h(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*O(this._r,255))+"%",g:Math.round(100*O(this._g,255))+"%",b:Math.round(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*O(this._r,255))+"%, "+Math.round(100*O(this._g,255))+"%, "+Math.round(100*O(this._b,255))+"%)":"rgba("+Math.round(100*O(this._r,255))+"%, "+Math.round(100*O(this._g,255))+"%, "+Math.round(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+d(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=i(e);n="#"+d(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return r?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(_,[3])},tetrad:function(){return this._applyCombination(_,[4])}},i.fromRatio=function(t,n){if("object"==e(t)){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]="a"===o?t[o]:L(t[o]));t=r}return i(t,n)},i.equals=function(e,t){return!(!e||!t)&&i(e).toRgbString()==i(t).toRgbString()},i.random=function(){return i.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},i.mix=function(e,t,n){n=0===n?0:n||50;var r=i(e).toRgb(),o=i(t).toRgb(),s=n/100,a={r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a};return i(a)},i.readability=function(e,t){var n=i(e),r=i(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},i.isReadable=function(e,t,n){var r,o,s=i.readability(e,t);switch(o=!1,r=z(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7;break}return o},i.mostReadable=function(e,t,n){var r,o,s,a,l=null,c=0;n=n||{},o=n.includeFallbackColors,s=n.level,a=n.size;for(var u=0;u<t.length;u++)r=i.readability(e,t[u]),r>c&&(c=r,l=i(t[u]));return i.isReadable(e,l,{level:s,size:a})||!o?l:(n.includeFallbackColors=!1,i.mostReadable(e,["#fff","#000"],n))};var T=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=i.hexNames=M(T);function M(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function C(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function O(e,t){I(e)&&(e="100%");var n=R(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function k(e){return Math.min(1,Math.max(0,e))}function P(e){return parseInt(e,16)}function I(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function R(e){return"string"===typeof e&&-1!=e.indexOf("%")}function D(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function N(e){return Math.round(255*parseFloat(e)).toString(16)}function B(e){return P(e)/255}var F=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function j(e){return!!F.CSS_UNIT.exec(e)}function U(e){e=e.replace(t,"").replace(n,"").toLowerCase();var i,r=!1;if(T[e])e=T[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(i=F.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=F.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=F.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=F.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=F.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=F.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=F.hex8.exec(e))?{r:P(i[1]),g:P(i[2]),b:P(i[3]),a:B(i[4]),format:r?"name":"hex8"}:(i=F.hex6.exec(e))?{r:P(i[1]),g:P(i[2]),b:P(i[3]),format:r?"name":"hex"}:(i=F.hex4.exec(e))?{r:P(i[1]+""+i[1]),g:P(i[2]+""+i[2]),b:P(i[3]+""+i[3]),a:B(i[4]+""+i[4]),format:r?"name":"hex8"}:!!(i=F.hex3.exec(e))&&{r:P(i[1]+""+i[1]),g:P(i[2]+""+i[2]),b:P(i[3]+""+i[3]),format:r?"name":"hex"}}function z(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}return i}))},"94ca":function(e,t,n){var i=n("d039"),r=n("1626"),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(r(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},"952b":function(e,t,n){"use strict";(function(t,n){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2017
 * @license MIT
 */
var i="input is invalid type",r="object"===typeof window,o=r?window:{};o.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&"object"===typeof self,a=!o.JS_SHA3_NO_NODE_JS&&"object"===typeof t&&t.versions&&t.versions.node;a?o=n:s&&(o=self);var l=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],d=[1,256,65536,16777216],f=[6,1536,393216,100663296],p=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],A=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,n){return function(i){return new F(e,t,e).update(i)[n]()}},_=function(e,t,n){return function(i,r){return new F(e,t,r).update(i)[n]()}},w=function(e,t,n){return function(t,i,r,o){return k["cshake"+e].update(t,i,r,o)[n]()}},x=function(e,t,n){return function(t,i,r,o){return k["kmac"+e].update(t,i,r,o)[n]()}},S=function(e,t,n,i){for(var r=0;r<y.length;++r){var o=y[r];e[o]=t(n,i,o)}return e},T=function(e,t){var n=b(e,t,"hex");return n.create=function(){return new F(e,t,e)},n.update=function(e){return n.create().update(e)},S(n,b,e,t)},E=function(e,t){var n=_(e,t,"hex");return n.create=function(n){return new F(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},S(n,_,e,t)},M=function(e,t){var n=v[e],i=w(e,t,"hex");return i.create=function(i,r,o){return r||o?new F(e,t,i).bytepad([r,o],n):k["shake"+e].create(i)},i.update=function(e,t,n,r){return i.create(t,n,r).update(e)},S(i,w,e,t)},C=function(e,t){var n=v[e],i=x(e,t,"hex");return i.create=function(i,r,o){return new j(e,t,r).bytepad(["KMAC",o],n).bytepad([i],n)},i.update=function(e,t,n,r){return i.create(e,n,r).update(t)},S(i,x,e,t)},O=[{name:"keccak",padding:d,bits:g,createMethod:T},{name:"sha3",padding:f,bits:g,createMethod:T},{name:"shake",padding:u,bits:A,createMethod:E},{name:"cshake",padding:h,bits:A,createMethod:M},{name:"kmac",padding:h,bits:A,createMethod:C}],k={},P=[],I=0;I<O.length;++I)for(var R=O[I],D=R.bits,L=0;L<D.length;++L){var N=R.name+"_"+D[L];if(P.push(N),k[N]=R.createMethod(D[L],R.padding),"sha3"!==R.name){var B=R.name+D[L];P.push(B),k[B]=k[N]}}function F(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var i=0;i<50;++i)this.s[i]=0}function j(e,t,n){F.call(this,e,t,n)}F.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw i;if(null===e)throw i;if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw i;t=!0}var r,o,s=this.blocks,a=this.byteCount,c=e.length,u=this.blockCount,h=0,d=this.s;while(h<c){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<u+1;++r)s[r]=0;if(t)for(r=this.start;h<c&&r<a;++h)s[r>>2]|=e[h]<<p[3&r++];else for(r=this.start;h<c&&r<a;++h)o=e.charCodeAt(h),o<128?s[r>>2]|=o<<p[3&r++]:o<2048?(s[r>>2]|=(192|o>>6)<<p[3&r++],s[r>>2]|=(128|63&o)<<p[3&r++]):o<55296||o>=57344?(s[r>>2]|=(224|o>>12)<<p[3&r++],s[r>>2]|=(128|o>>6&63)<<p[3&r++],s[r>>2]|=(128|63&o)<<p[3&r++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++h)),s[r>>2]|=(240|o>>18)<<p[3&r++],s[r>>2]|=(128|o>>12&63)<<p[3&r++],s[r>>2]|=(128|o>>6&63)<<p[3&r++],s[r>>2]|=(128|63&o)<<p[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=s[u],r=0;r<u;++r)d[r]^=s[r];U(d),this.reset=!0}else this.start=r}return this}},F.prototype.encode=function(e,t){var n=255&e,i=1,r=[n];e>>=8,n=255&e;while(n>0)r.unshift(n),e>>=8,n=255&e,++i;return t?r.push(i):r.unshift(i),this.update(r),r.length},F.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw i;if(null===e)throw i;if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw i;t=!0}var r=0,o=e.length;if(t)r=o;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),r+=4)}return r+=this.encode(8*r),this.update(e),r},F.prototype.bytepad=function(e,t){for(var n=this.encode(t),i=0;i<e.length;++i)n+=this.encodeString(e[i]);var r=t-n%t,o=[];return o.length=r,this.update(o),this},F.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,i=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)i[t]^=e[t];U(i)}},F.prototype.toString=F.prototype.hex=function(){this.finalize();var e,t=this.blockCount,n=this.s,i=this.outputBlocks,r=this.extraBytes,o=0,s=0,a="";while(s<i){for(o=0;o<t&&s<i;++o,++s)e=n[o],a+=c[e>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15];s%t===0&&(U(n),o=0)}return r&&(e=n[o],a+=c[e>>4&15]+c[15&e],r>1&&(a+=c[e>>12&15]+c[e>>8&15]),r>2&&(a+=c[e>>20&15]+c[e>>16&15])),a},F.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,i=this.outputBlocks,r=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=r?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);var l=new Uint32Array(e);while(s<i){for(o=0;o<t&&s<i;++o,++s)l[s]=n[o];s%t===0&&U(n)}return r&&(l[o]=n[o],e=e.slice(0,a)),e},F.prototype.buffer=F.prototype.arrayBuffer,F.prototype.digest=F.prototype.array=function(){this.finalize();var e,t,n=this.blockCount,i=this.s,r=this.outputBlocks,o=this.extraBytes,s=0,a=0,l=[];while(a<r){for(s=0;s<n&&a<r;++s,++a)e=a<<2,t=i[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;a%n===0&&U(i)}return o&&(e=a<<2,t=i[s],l[e]=255&t,o>1&&(l[e+1]=t>>8&255),o>2&&(l[e+2]=t>>16&255)),l},j.prototype=new F,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),F.prototype.finalize.call(this)};var U=function(e){var t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,A,y,v,b,_,w,x,S,T,E,M,C,O,k,P,I,R,D,L,N,B,F,j,U,z,q,V,H,G,W,$,X,Y,K,Q,J,Z,ee,te,ne,ie,re,oe,se,ae,le,ce,ue;for(i=0;i<48;i+=2)r=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],t=d^(s<<1|a>>>31),n=f^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=r^(l<<1|c>>>31),n=o^(c<<1|l>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(u<<1|h>>>31),n=a^(h<<1|u>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=l^(d<<1|f>>>31),n=c^(f<<1|d>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=u^(r<<1|o>>>31),n=h^(o<<1|r>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,p=e[0],g=e[1],$=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,k=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,le=e[30]<<9|e[31]>>>23,V=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,N=e[3]<<1|e[2]>>>31,A=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,K=e[23]<<10|e[22]>>>22,P=e[33]<<13|e[32]>>>19,I=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,B=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,J=e[35]<<15|e[34]>>>17,R=e[45]<<29|e[44]>>>3,D=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ie=e[17]<<23|e[16]>>>9,re=e[16]<<23|e[17]>>>9,j=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,w=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,M=e[18]<<20|e[19]>>>12,C=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=p^~A&v,e[1]=g^~y&b,e[10]=T^~M&O,e[11]=E^~C&k,e[20]=L^~B&j,e[21]=N^~F&U,e[30]=G^~$&Y,e[31]=W^~X&K,e[40]=te^~ie&oe,e[41]=ne^~re&se,e[2]=A^~v&_,e[3]=y^~b&w,e[12]=M^~O&P,e[13]=C^~k&I,e[22]=B^~j&z,e[23]=F^~U&q,e[32]=$^~Y&Q,e[33]=X^~K&J,e[42]=ie^~oe&ae,e[43]=re^~se&le,e[4]=v^~_&x,e[5]=b^~w&S,e[14]=O^~P&R,e[15]=k^~I&D,e[24]=j^~z&V,e[25]=U^~q&H,e[34]=Y^~Q&Z,e[35]=K^~J&ee,e[44]=oe^~ae&ce,e[45]=se^~le&ue,e[6]=_^~x&p,e[7]=w^~S&g,e[16]=P^~R&T,e[17]=I^~D&E,e[26]=z^~V&L,e[27]=q^~H&N,e[36]=Q^~Z&G,e[37]=J^~ee&W,e[46]=ae^~ce&te,e[47]=le^~ue&ne,e[8]=x^~p&A,e[9]=S^~g&y,e[18]=R^~T&M,e[19]=D^~E&C,e[28]=V^~L&B,e[29]=H^~N&F,e[38]=Z^~G&$,e[39]=ee^~W&X,e[48]=ce^~te&ie,e[49]=ue^~ne&re,e[0]^=m[i],e[1]^=m[i+1]};e.exports=k}).call(this,n("4362"),n("c8ba"))},9539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("1093"),r=n("c485");function o(e){return!!(0,i.default)(e.type,"Immutable")||!!(0,r.isIdentifier)(e)&&"undefined"===e.name}},"96b9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnyTypeAnnotation",{enumerable:!0,get:function(){return i.anyTypeAnnotation}}),Object.defineProperty(t,"ArgumentPlaceholder",{enumerable:!0,get:function(){return i.argumentPlaceholder}}),Object.defineProperty(t,"ArrayExpression",{enumerable:!0,get:function(){return i.arrayExpression}}),Object.defineProperty(t,"ArrayPattern",{enumerable:!0,get:function(){return i.arrayPattern}}),Object.defineProperty(t,"ArrayTypeAnnotation",{enumerable:!0,get:function(){return i.arrayTypeAnnotation}}),Object.defineProperty(t,"ArrowFunctionExpression",{enumerable:!0,get:function(){return i.arrowFunctionExpression}}),Object.defineProperty(t,"AssignmentExpression",{enumerable:!0,get:function(){return i.assignmentExpression}}),Object.defineProperty(t,"AssignmentPattern",{enumerable:!0,get:function(){return i.assignmentPattern}}),Object.defineProperty(t,"AwaitExpression",{enumerable:!0,get:function(){return i.awaitExpression}}),Object.defineProperty(t,"BigIntLiteral",{enumerable:!0,get:function(){return i.bigIntLiteral}}),Object.defineProperty(t,"BinaryExpression",{enumerable:!0,get:function(){return i.binaryExpression}}),Object.defineProperty(t,"BindExpression",{enumerable:!0,get:function(){return i.bindExpression}}),Object.defineProperty(t,"BlockStatement",{enumerable:!0,get:function(){return i.blockStatement}}),Object.defineProperty(t,"BooleanLiteral",{enumerable:!0,get:function(){return i.booleanLiteral}}),Object.defineProperty(t,"BooleanLiteralTypeAnnotation",{enumerable:!0,get:function(){return i.booleanLiteralTypeAnnotation}}),Object.defineProperty(t,"BooleanTypeAnnotation",{enumerable:!0,get:function(){return i.booleanTypeAnnotation}}),Object.defineProperty(t,"BreakStatement",{enumerable:!0,get:function(){return i.breakStatement}}),Object.defineProperty(t,"CallExpression",{enumerable:!0,get:function(){return i.callExpression}}),Object.defineProperty(t,"CatchClause",{enumerable:!0,get:function(){return i.catchClause}}),Object.defineProperty(t,"ClassAccessorProperty",{enumerable:!0,get:function(){return i.classAccessorProperty}}),Object.defineProperty(t,"ClassBody",{enumerable:!0,get:function(){return i.classBody}}),Object.defineProperty(t,"ClassDeclaration",{enumerable:!0,get:function(){return i.classDeclaration}}),Object.defineProperty(t,"ClassExpression",{enumerable:!0,get:function(){return i.classExpression}}),Object.defineProperty(t,"ClassImplements",{enumerable:!0,get:function(){return i.classImplements}}),Object.defineProperty(t,"ClassMethod",{enumerable:!0,get:function(){return i.classMethod}}),Object.defineProperty(t,"ClassPrivateMethod",{enumerable:!0,get:function(){return i.classPrivateMethod}}),Object.defineProperty(t,"ClassPrivateProperty",{enumerable:!0,get:function(){return i.classPrivateProperty}}),Object.defineProperty(t,"ClassProperty",{enumerable:!0,get:function(){return i.classProperty}}),Object.defineProperty(t,"ConditionalExpression",{enumerable:!0,get:function(){return i.conditionalExpression}}),Object.defineProperty(t,"ContinueStatement",{enumerable:!0,get:function(){return i.continueStatement}}),Object.defineProperty(t,"DebuggerStatement",{enumerable:!0,get:function(){return i.debuggerStatement}}),Object.defineProperty(t,"DecimalLiteral",{enumerable:!0,get:function(){return i.decimalLiteral}}),Object.defineProperty(t,"DeclareClass",{enumerable:!0,get:function(){return i.declareClass}}),Object.defineProperty(t,"DeclareExportAllDeclaration",{enumerable:!0,get:function(){return i.declareExportAllDeclaration}}),Object.defineProperty(t,"DeclareExportDeclaration",{enumerable:!0,get:function(){return i.declareExportDeclaration}}),Object.defineProperty(t,"DeclareFunction",{enumerable:!0,get:function(){return i.declareFunction}}),Object.defineProperty(t,"DeclareInterface",{enumerable:!0,get:function(){return i.declareInterface}}),Object.defineProperty(t,"DeclareModule",{enumerable:!0,get:function(){return i.declareModule}}),Object.defineProperty(t,"DeclareModuleExports",{enumerable:!0,get:function(){return i.declareModuleExports}}),Object.defineProperty(t,"DeclareOpaqueType",{enumerable:!0,get:function(){return i.declareOpaqueType}}),Object.defineProperty(t,"DeclareTypeAlias",{enumerable:!0,get:function(){return i.declareTypeAlias}}),Object.defineProperty(t,"DeclareVariable",{enumerable:!0,get:function(){return i.declareVariable}}),Object.defineProperty(t,"DeclaredPredicate",{enumerable:!0,get:function(){return i.declaredPredicate}}),Object.defineProperty(t,"Decorator",{enumerable:!0,get:function(){return i.decorator}}),Object.defineProperty(t,"Directive",{enumerable:!0,get:function(){return i.directive}}),Object.defineProperty(t,"DirectiveLiteral",{enumerable:!0,get:function(){return i.directiveLiteral}}),Object.defineProperty(t,"DoExpression",{enumerable:!0,get:function(){return i.doExpression}}),Object.defineProperty(t,"DoWhileStatement",{enumerable:!0,get:function(){return i.doWhileStatement}}),Object.defineProperty(t,"EmptyStatement",{enumerable:!0,get:function(){return i.emptyStatement}}),Object.defineProperty(t,"EmptyTypeAnnotation",{enumerable:!0,get:function(){return i.emptyTypeAnnotation}}),Object.defineProperty(t,"EnumBooleanBody",{enumerable:!0,get:function(){return i.enumBooleanBody}}),Object.defineProperty(t,"EnumBooleanMember",{enumerable:!0,get:function(){return i.enumBooleanMember}}),Object.defineProperty(t,"EnumDeclaration",{enumerable:!0,get:function(){return i.enumDeclaration}}),Object.defineProperty(t,"EnumDefaultedMember",{enumerable:!0,get:function(){return i.enumDefaultedMember}}),Object.defineProperty(t,"EnumNumberBody",{enumerable:!0,get:function(){return i.enumNumberBody}}),Object.defineProperty(t,"EnumNumberMember",{enumerable:!0,get:function(){return i.enumNumberMember}}),Object.defineProperty(t,"EnumStringBody",{enumerable:!0,get:function(){return i.enumStringBody}}),Object.defineProperty(t,"EnumStringMember",{enumerable:!0,get:function(){return i.enumStringMember}}),Object.defineProperty(t,"EnumSymbolBody",{enumerable:!0,get:function(){return i.enumSymbolBody}}),Object.defineProperty(t,"ExistsTypeAnnotation",{enumerable:!0,get:function(){return i.existsTypeAnnotation}}),Object.defineProperty(t,"ExportAllDeclaration",{enumerable:!0,get:function(){return i.exportAllDeclaration}}),Object.defineProperty(t,"ExportDefaultDeclaration",{enumerable:!0,get:function(){return i.exportDefaultDeclaration}}),Object.defineProperty(t,"ExportDefaultSpecifier",{enumerable:!0,get:function(){return i.exportDefaultSpecifier}}),Object.defineProperty(t,"ExportNamedDeclaration",{enumerable:!0,get:function(){return i.exportNamedDeclaration}}),Object.defineProperty(t,"ExportNamespaceSpecifier",{enumerable:!0,get:function(){return i.exportNamespaceSpecifier}}),Object.defineProperty(t,"ExportSpecifier",{enumerable:!0,get:function(){return i.exportSpecifier}}),Object.defineProperty(t,"ExpressionStatement",{enumerable:!0,get:function(){return i.expressionStatement}}),Object.defineProperty(t,"File",{enumerable:!0,get:function(){return i.file}}),Object.defineProperty(t,"ForInStatement",{enumerable:!0,get:function(){return i.forInStatement}}),Object.defineProperty(t,"ForOfStatement",{enumerable:!0,get:function(){return i.forOfStatement}}),Object.defineProperty(t,"ForStatement",{enumerable:!0,get:function(){return i.forStatement}}),Object.defineProperty(t,"FunctionDeclaration",{enumerable:!0,get:function(){return i.functionDeclaration}}),Object.defineProperty(t,"FunctionExpression",{enumerable:!0,get:function(){return i.functionExpression}}),Object.defineProperty(t,"FunctionTypeAnnotation",{enumerable:!0,get:function(){return i.functionTypeAnnotation}}),Object.defineProperty(t,"FunctionTypeParam",{enumerable:!0,get:function(){return i.functionTypeParam}}),Object.defineProperty(t,"GenericTypeAnnotation",{enumerable:!0,get:function(){return i.genericTypeAnnotation}}),Object.defineProperty(t,"Identifier",{enumerable:!0,get:function(){return i.identifier}}),Object.defineProperty(t,"IfStatement",{enumerable:!0,get:function(){return i.ifStatement}}),Object.defineProperty(t,"Import",{enumerable:!0,get:function(){return i.import}}),Object.defineProperty(t,"ImportAttribute",{enumerable:!0,get:function(){return i.importAttribute}}),Object.defineProperty(t,"ImportDeclaration",{enumerable:!0,get:function(){return i.importDeclaration}}),Object.defineProperty(t,"ImportDefaultSpecifier",{enumerable:!0,get:function(){return i.importDefaultSpecifier}}),Object.defineProperty(t,"ImportNamespaceSpecifier",{enumerable:!0,get:function(){return i.importNamespaceSpecifier}}),Object.defineProperty(t,"ImportSpecifier",{enumerable:!0,get:function(){return i.importSpecifier}}),Object.defineProperty(t,"IndexedAccessType",{enumerable:!0,get:function(){return i.indexedAccessType}}),Object.defineProperty(t,"InferredPredicate",{enumerable:!0,get:function(){return i.inferredPredicate}}),Object.defineProperty(t,"InterfaceDeclaration",{enumerable:!0,get:function(){return i.interfaceDeclaration}}),Object.defineProperty(t,"InterfaceExtends",{enumerable:!0,get:function(){return i.interfaceExtends}}),Object.defineProperty(t,"InterfaceTypeAnnotation",{enumerable:!0,get:function(){return i.interfaceTypeAnnotation}}),Object.defineProperty(t,"InterpreterDirective",{enumerable:!0,get:function(){return i.interpreterDirective}}),Object.defineProperty(t,"IntersectionTypeAnnotation",{enumerable:!0,get:function(){return i.intersectionTypeAnnotation}}),Object.defineProperty(t,"JSXAttribute",{enumerable:!0,get:function(){return i.jsxAttribute}}),Object.defineProperty(t,"JSXClosingElement",{enumerable:!0,get:function(){return i.jsxClosingElement}}),Object.defineProperty(t,"JSXClosingFragment",{enumerable:!0,get:function(){return i.jsxClosingFragment}}),Object.defineProperty(t,"JSXElement",{enumerable:!0,get:function(){return i.jsxElement}}),Object.defineProperty(t,"JSXEmptyExpression",{enumerable:!0,get:function(){return i.jsxEmptyExpression}}),Object.defineProperty(t,"JSXExpressionContainer",{enumerable:!0,get:function(){return i.jsxExpressionContainer}}),Object.defineProperty(t,"JSXFragment",{enumerable:!0,get:function(){return i.jsxFragment}}),Object.defineProperty(t,"JSXIdentifier",{enumerable:!0,get:function(){return i.jsxIdentifier}}),Object.defineProperty(t,"JSXMemberExpression",{enumerable:!0,get:function(){return i.jsxMemberExpression}}),Object.defineProperty(t,"JSXNamespacedName",{enumerable:!0,get:function(){return i.jsxNamespacedName}}),Object.defineProperty(t,"JSXOpeningElement",{enumerable:!0,get:function(){return i.jsxOpeningElement}}),Object.defineProperty(t,"JSXOpeningFragment",{enumerable:!0,get:function(){return i.jsxOpeningFragment}}),Object.defineProperty(t,"JSXSpreadAttribute",{enumerable:!0,get:function(){return i.jsxSpreadAttribute}}),Object.defineProperty(t,"JSXSpreadChild",{enumerable:!0,get:function(){return i.jsxSpreadChild}}),Object.defineProperty(t,"JSXText",{enumerable:!0,get:function(){return i.jsxText}}),Object.defineProperty(t,"LabeledStatement",{enumerable:!0,get:function(){return i.labeledStatement}}),Object.defineProperty(t,"LogicalExpression",{enumerable:!0,get:function(){return i.logicalExpression}}),Object.defineProperty(t,"MemberExpression",{enumerable:!0,get:function(){return i.memberExpression}}),Object.defineProperty(t,"MetaProperty",{enumerable:!0,get:function(){return i.metaProperty}}),Object.defineProperty(t,"MixedTypeAnnotation",{enumerable:!0,get:function(){return i.mixedTypeAnnotation}}),Object.defineProperty(t,"ModuleExpression",{enumerable:!0,get:function(){return i.moduleExpression}}),Object.defineProperty(t,"NewExpression",{enumerable:!0,get:function(){return i.newExpression}}),Object.defineProperty(t,"Noop",{enumerable:!0,get:function(){return i.noop}}),Object.defineProperty(t,"NullLiteral",{enumerable:!0,get:function(){return i.nullLiteral}}),Object.defineProperty(t,"NullLiteralTypeAnnotation",{enumerable:!0,get:function(){return i.nullLiteralTypeAnnotation}}),Object.defineProperty(t,"NullableTypeAnnotation",{enumerable:!0,get:function(){return i.nullableTypeAnnotation}}),Object.defineProperty(t,"NumberLiteral",{enumerable:!0,get:function(){return i.numberLiteral}}),Object.defineProperty(t,"NumberLiteralTypeAnnotation",{enumerable:!0,get:function(){return i.numberLiteralTypeAnnotation}}),Object.defineProperty(t,"NumberTypeAnnotation",{enumerable:!0,get:function(){return i.numberTypeAnnotation}}),Object.defineProperty(t,"NumericLiteral",{enumerable:!0,get:function(){return i.numericLiteral}}),Object.defineProperty(t,"ObjectExpression",{enumerable:!0,get:function(){return i.objectExpression}}),Object.defineProperty(t,"ObjectMethod",{enumerable:!0,get:function(){return i.objectMethod}}),Object.defineProperty(t,"ObjectPattern",{enumerable:!0,get:function(){return i.objectPattern}}),Object.defineProperty(t,"ObjectProperty",{enumerable:!0,get:function(){return i.objectProperty}}),Object.defineProperty(t,"ObjectTypeAnnotation",{enumerable:!0,get:function(){return i.objectTypeAnnotation}}),Object.defineProperty(t,"ObjectTypeCallProperty",{enumerable:!0,get:function(){return i.objectTypeCallProperty}}),Object.defineProperty(t,"ObjectTypeIndexer",{enumerable:!0,get:function(){return i.objectTypeIndexer}}),Object.defineProperty(t,"ObjectTypeInternalSlot",{enumerable:!0,get:function(){return i.objectTypeInternalSlot}}),Object.defineProperty(t,"ObjectTypeProperty",{enumerable:!0,get:function(){return i.objectTypeProperty}}),Object.defineProperty(t,"ObjectTypeSpreadProperty",{enumerable:!0,get:function(){return i.objectTypeSpreadProperty}}),Object.defineProperty(t,"OpaqueType",{enumerable:!0,get:function(){return i.opaqueType}}),Object.defineProperty(t,"OptionalCallExpression",{enumerable:!0,get:function(){return i.optionalCallExpression}}),Object.defineProperty(t,"OptionalIndexedAccessType",{enumerable:!0,get:function(){return i.optionalIndexedAccessType}}),Object.defineProperty(t,"OptionalMemberExpression",{enumerable:!0,get:function(){return i.optionalMemberExpression}}),Object.defineProperty(t,"ParenthesizedExpression",{enumerable:!0,get:function(){return i.parenthesizedExpression}}),Object.defineProperty(t,"PipelineBareFunction",{enumerable:!0,get:function(){return i.pipelineBareFunction}}),Object.defineProperty(t,"PipelinePrimaryTopicReference",{enumerable:!0,get:function(){return i.pipelinePrimaryTopicReference}}),Object.defineProperty(t,"PipelineTopicExpression",{enumerable:!0,get:function(){return i.pipelineTopicExpression}}),Object.defineProperty(t,"Placeholder",{enumerable:!0,get:function(){return i.placeholder}}),Object.defineProperty(t,"PrivateName",{enumerable:!0,get:function(){return i.privateName}}),Object.defineProperty(t,"Program",{enumerable:!0,get:function(){return i.program}}),Object.defineProperty(t,"QualifiedTypeIdentifier",{enumerable:!0,get:function(){return i.qualifiedTypeIdentifier}}),Object.defineProperty(t,"RecordExpression",{enumerable:!0,get:function(){return i.recordExpression}}),Object.defineProperty(t,"RegExpLiteral",{enumerable:!0,get:function(){return i.regExpLiteral}}),Object.defineProperty(t,"RegexLiteral",{enumerable:!0,get:function(){return i.regexLiteral}}),Object.defineProperty(t,"RestElement",{enumerable:!0,get:function(){return i.restElement}}),Object.defineProperty(t,"RestProperty",{enumerable:!0,get:function(){return i.restProperty}}),Object.defineProperty(t,"ReturnStatement",{enumerable:!0,get:function(){return i.returnStatement}}),Object.defineProperty(t,"SequenceExpression",{enumerable:!0,get:function(){return i.sequenceExpression}}),Object.defineProperty(t,"SpreadElement",{enumerable:!0,get:function(){return i.spreadElement}}),Object.defineProperty(t,"SpreadProperty",{enumerable:!0,get:function(){return i.spreadProperty}}),Object.defineProperty(t,"StaticBlock",{enumerable:!0,get:function(){return i.staticBlock}}),Object.defineProperty(t,"StringLiteral",{enumerable:!0,get:function(){return i.stringLiteral}}),Object.defineProperty(t,"StringLiteralTypeAnnotation",{enumerable:!0,get:function(){return i.stringLiteralTypeAnnotation}}),Object.defineProperty(t,"StringTypeAnnotation",{enumerable:!0,get:function(){return i.stringTypeAnnotation}}),Object.defineProperty(t,"Super",{enumerable:!0,get:function(){return i.super}}),Object.defineProperty(t,"SwitchCase",{enumerable:!0,get:function(){return i.switchCase}}),Object.defineProperty(t,"SwitchStatement",{enumerable:!0,get:function(){return i.switchStatement}}),Object.defineProperty(t,"SymbolTypeAnnotation",{enumerable:!0,get:function(){return i.symbolTypeAnnotation}}),Object.defineProperty(t,"TSAnyKeyword",{enumerable:!0,get:function(){return i.tsAnyKeyword}}),Object.defineProperty(t,"TSArrayType",{enumerable:!0,get:function(){return i.tsArrayType}}),Object.defineProperty(t,"TSAsExpression",{enumerable:!0,get:function(){return i.tsAsExpression}}),Object.defineProperty(t,"TSBigIntKeyword",{enumerable:!0,get:function(){return i.tsBigIntKeyword}}),Object.defineProperty(t,"TSBooleanKeyword",{enumerable:!0,get:function(){return i.tsBooleanKeyword}}),Object.defineProperty(t,"TSCallSignatureDeclaration",{enumerable:!0,get:function(){return i.tsCallSignatureDeclaration}}),Object.defineProperty(t,"TSConditionalType",{enumerable:!0,get:function(){return i.tsConditionalType}}),Object.defineProperty(t,"TSConstructSignatureDeclaration",{enumerable:!0,get:function(){return i.tsConstructSignatureDeclaration}}),Object.defineProperty(t,"TSConstructorType",{enumerable:!0,get:function(){return i.tsConstructorType}}),Object.defineProperty(t,"TSDeclareFunction",{enumerable:!0,get:function(){return i.tsDeclareFunction}}),Object.defineProperty(t,"TSDeclareMethod",{enumerable:!0,get:function(){return i.tsDeclareMethod}}),Object.defineProperty(t,"TSEnumDeclaration",{enumerable:!0,get:function(){return i.tsEnumDeclaration}}),Object.defineProperty(t,"TSEnumMember",{enumerable:!0,get:function(){return i.tsEnumMember}}),Object.defineProperty(t,"TSExportAssignment",{enumerable:!0,get:function(){return i.tsExportAssignment}}),Object.defineProperty(t,"TSExpressionWithTypeArguments",{enumerable:!0,get:function(){return i.tsExpressionWithTypeArguments}}),Object.defineProperty(t,"TSExternalModuleReference",{enumerable:!0,get:function(){return i.tsExternalModuleReference}}),Object.defineProperty(t,"TSFunctionType",{enumerable:!0,get:function(){return i.tsFunctionType}}),Object.defineProperty(t,"TSImportEqualsDeclaration",{enumerable:!0,get:function(){return i.tsImportEqualsDeclaration}}),Object.defineProperty(t,"TSImportType",{enumerable:!0,get:function(){return i.tsImportType}}),Object.defineProperty(t,"TSIndexSignature",{enumerable:!0,get:function(){return i.tsIndexSignature}}),Object.defineProperty(t,"TSIndexedAccessType",{enumerable:!0,get:function(){return i.tsIndexedAccessType}}),Object.defineProperty(t,"TSInferType",{enumerable:!0,get:function(){return i.tsInferType}}),Object.defineProperty(t,"TSInstantiationExpression",{enumerable:!0,get:function(){return i.tsInstantiationExpression}}),Object.defineProperty(t,"TSInterfaceBody",{enumerable:!0,get:function(){return i.tsInterfaceBody}}),Object.defineProperty(t,"TSInterfaceDeclaration",{enumerable:!0,get:function(){return i.tsInterfaceDeclaration}}),Object.defineProperty(t,"TSIntersectionType",{enumerable:!0,get:function(){return i.tsIntersectionType}}),Object.defineProperty(t,"TSIntrinsicKeyword",{enumerable:!0,get:function(){return i.tsIntrinsicKeyword}}),Object.defineProperty(t,"TSLiteralType",{enumerable:!0,get:function(){return i.tsLiteralType}}),Object.defineProperty(t,"TSMappedType",{enumerable:!0,get:function(){return i.tsMappedType}}),Object.defineProperty(t,"TSMethodSignature",{enumerable:!0,get:function(){return i.tsMethodSignature}}),Object.defineProperty(t,"TSModuleBlock",{enumerable:!0,get:function(){return i.tsModuleBlock}}),Object.defineProperty(t,"TSModuleDeclaration",{enumerable:!0,get:function(){return i.tsModuleDeclaration}}),Object.defineProperty(t,"TSNamedTupleMember",{enumerable:!0,get:function(){return i.tsNamedTupleMember}}),Object.defineProperty(t,"TSNamespaceExportDeclaration",{enumerable:!0,get:function(){return i.tsNamespaceExportDeclaration}}),Object.defineProperty(t,"TSNeverKeyword",{enumerable:!0,get:function(){return i.tsNeverKeyword}}),Object.defineProperty(t,"TSNonNullExpression",{enumerable:!0,get:function(){return i.tsNonNullExpression}}),Object.defineProperty(t,"TSNullKeyword",{enumerable:!0,get:function(){return i.tsNullKeyword}}),Object.defineProperty(t,"TSNumberKeyword",{enumerable:!0,get:function(){return i.tsNumberKeyword}}),Object.defineProperty(t,"TSObjectKeyword",{enumerable:!0,get:function(){return i.tsObjectKeyword}}),Object.defineProperty(t,"TSOptionalType",{enumerable:!0,get:function(){return i.tsOptionalType}}),Object.defineProperty(t,"TSParameterProperty",{enumerable:!0,get:function(){return i.tsParameterProperty}}),Object.defineProperty(t,"TSParenthesizedType",{enumerable:!0,get:function(){return i.tsParenthesizedType}}),Object.defineProperty(t,"TSPropertySignature",{enumerable:!0,get:function(){return i.tsPropertySignature}}),Object.defineProperty(t,"TSQualifiedName",{enumerable:!0,get:function(){return i.tsQualifiedName}}),Object.defineProperty(t,"TSRestType",{enumerable:!0,get:function(){return i.tsRestType}}),Object.defineProperty(t,"TSSatisfiesExpression",{enumerable:!0,get:function(){return i.tsSatisfiesExpression}}),Object.defineProperty(t,"TSStringKeyword",{enumerable:!0,get:function(){return i.tsStringKeyword}}),Object.defineProperty(t,"TSSymbolKeyword",{enumerable:!0,get:function(){return i.tsSymbolKeyword}}),Object.defineProperty(t,"TSThisType",{enumerable:!0,get:function(){return i.tsThisType}}),Object.defineProperty(t,"TSTupleType",{enumerable:!0,get:function(){return i.tsTupleType}}),Object.defineProperty(t,"TSTypeAliasDeclaration",{enumerable:!0,get:function(){return i.tsTypeAliasDeclaration}}),Object.defineProperty(t,"TSTypeAnnotation",{enumerable:!0,get:function(){return i.tsTypeAnnotation}}),Object.defineProperty(t,"TSTypeAssertion",{enumerable:!0,get:function(){return i.tsTypeAssertion}}),Object.defineProperty(t,"TSTypeLiteral",{enumerable:!0,get:function(){return i.tsTypeLiteral}}),Object.defineProperty(t,"TSTypeOperator",{enumerable:!0,get:function(){return i.tsTypeOperator}}),Object.defineProperty(t,"TSTypeParameter",{enumerable:!0,get:function(){return i.tsTypeParameter}}),Object.defineProperty(t,"TSTypeParameterDeclaration",{enumerable:!0,get:function(){return i.tsTypeParameterDeclaration}}),Object.defineProperty(t,"TSTypeParameterInstantiation",{enumerable:!0,get:function(){return i.tsTypeParameterInstantiation}}),Object.defineProperty(t,"TSTypePredicate",{enumerable:!0,get:function(){return i.tsTypePredicate}}),Object.defineProperty(t,"TSTypeQuery",{enumerable:!0,get:function(){return i.tsTypeQuery}}),Object.defineProperty(t,"TSTypeReference",{enumerable:!0,get:function(){return i.tsTypeReference}}),Object.defineProperty(t,"TSUndefinedKeyword",{enumerable:!0,get:function(){return i.tsUndefinedKeyword}}),Object.defineProperty(t,"TSUnionType",{enumerable:!0,get:function(){return i.tsUnionType}}),Object.defineProperty(t,"TSUnknownKeyword",{enumerable:!0,get:function(){return i.tsUnknownKeyword}}),Object.defineProperty(t,"TSVoidKeyword",{enumerable:!0,get:function(){return i.tsVoidKeyword}}),Object.defineProperty(t,"TaggedTemplateExpression",{enumerable:!0,get:function(){return i.taggedTemplateExpression}}),Object.defineProperty(t,"TemplateElement",{enumerable:!0,get:function(){return i.templateElement}}),Object.defineProperty(t,"TemplateLiteral",{enumerable:!0,get:function(){return i.templateLiteral}}),Object.defineProperty(t,"ThisExpression",{enumerable:!0,get:function(){return i.thisExpression}}),Object.defineProperty(t,"ThisTypeAnnotation",{enumerable:!0,get:function(){return i.thisTypeAnnotation}}),Object.defineProperty(t,"ThrowStatement",{enumerable:!0,get:function(){return i.throwStatement}}),Object.defineProperty(t,"TopicReference",{enumerable:!0,get:function(){return i.topicReference}}),Object.defineProperty(t,"TryStatement",{enumerable:!0,get:function(){return i.tryStatement}}),Object.defineProperty(t,"TupleExpression",{enumerable:!0,get:function(){return i.tupleExpression}}),Object.defineProperty(t,"TupleTypeAnnotation",{enumerable:!0,get:function(){return i.tupleTypeAnnotation}}),Object.defineProperty(t,"TypeAlias",{enumerable:!0,get:function(){return i.typeAlias}}),Object.defineProperty(t,"TypeAnnotation",{enumerable:!0,get:function(){return i.typeAnnotation}}),Object.defineProperty(t,"TypeCastExpression",{enumerable:!0,get:function(){return i.typeCastExpression}}),Object.defineProperty(t,"TypeParameter",{enumerable:!0,get:function(){return i.typeParameter}}),Object.defineProperty(t,"TypeParameterDeclaration",{enumerable:!0,get:function(){return i.typeParameterDeclaration}}),Object.defineProperty(t,"TypeParameterInstantiation",{enumerable:!0,get:function(){return i.typeParameterInstantiation}}),Object.defineProperty(t,"TypeofTypeAnnotation",{enumerable:!0,get:function(){return i.typeofTypeAnnotation}}),Object.defineProperty(t,"UnaryExpression",{enumerable:!0,get:function(){return i.unaryExpression}}),Object.defineProperty(t,"UnionTypeAnnotation",{enumerable:!0,get:function(){return i.unionTypeAnnotation}}),Object.defineProperty(t,"UpdateExpression",{enumerable:!0,get:function(){return i.updateExpression}}),Object.defineProperty(t,"V8IntrinsicIdentifier",{enumerable:!0,get:function(){return i.v8IntrinsicIdentifier}}),Object.defineProperty(t,"VariableDeclaration",{enumerable:!0,get:function(){return i.variableDeclaration}}),Object.defineProperty(t,"VariableDeclarator",{enumerable:!0,get:function(){return i.variableDeclarator}}),Object.defineProperty(t,"Variance",{enumerable:!0,get:function(){return i.variance}}),Object.defineProperty(t,"VoidTypeAnnotation",{enumerable:!0,get:function(){return i.voidTypeAnnotation}}),Object.defineProperty(t,"WhileStatement",{enumerable:!0,get:function(){return i.whileStatement}}),Object.defineProperty(t,"WithStatement",{enumerable:!0,get:function(){return i.withStatement}}),Object.defineProperty(t,"YieldExpression",{enumerable:!0,get:function(){return i.yieldExpression}});var i=n("eb5b")},9973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("fafd"),r=n("5fac");function o(e,t){return(0,i.default)(e,r.default,t),e}},"9a00":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("b9c3");const r=new Set(["abstract","boolean","byte","char","double","enum","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","synchronized","throws","transient","volatile"]);function o(e){return(0,i.default)(e)&&!r.has(e)}},"9a3d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("c485");function r(e){return(0,i.isImportDefaultSpecifier)(e)||(0,i.isIdentifier)(e.imported||e.exported,{name:"default"})}},"9b93":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("2f82");function r(e){if(!(0,i.default)(e)){var t;const n=null!=(t=null==e?void 0:e.type)?t:JSON.stringify(e);throw new TypeError(`Not a valid node of type "${n}"`)}}},"9bf2":function(e,t,n){var i=n("83ab"),r=n("0cfb"),o=n("aed9"),s=n("825a"),a=n("a04b"),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=i?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var i=u(e,t);i&&i[f]&&(e[t]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),r)try{return c(e,t,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9e80":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHILE_TYPES=t.USERWHITESPACABLE_TYPES=t.UNARYLIKE_TYPES=t.TYPESCRIPT_TYPES=t.TSTYPE_TYPES=t.TSTYPEELEMENT_TYPES=t.TSENTITYNAME_TYPES=t.TSBASETYPE_TYPES=t.TERMINATORLESS_TYPES=t.STATEMENT_TYPES=t.STANDARDIZED_TYPES=t.SCOPABLE_TYPES=t.PUREISH_TYPES=t.PROPERTY_TYPES=t.PRIVATE_TYPES=t.PATTERN_TYPES=t.PATTERNLIKE_TYPES=t.OBJECTMEMBER_TYPES=t.MODULESPECIFIER_TYPES=t.MODULEDECLARATION_TYPES=t.MISCELLANEOUS_TYPES=t.METHOD_TYPES=t.LVAL_TYPES=t.LOOP_TYPES=t.LITERAL_TYPES=t.JSX_TYPES=t.IMPORTOREXPORTDECLARATION_TYPES=t.IMMUTABLE_TYPES=t.FUNCTION_TYPES=t.FUNCTIONPARENT_TYPES=t.FOR_TYPES=t.FORXSTATEMENT_TYPES=t.FLOW_TYPES=t.FLOWTYPE_TYPES=t.FLOWPREDICATE_TYPES=t.FLOWDECLARATION_TYPES=t.FLOWBASEANNOTATION_TYPES=t.EXPRESSION_TYPES=t.EXPRESSIONWRAPPER_TYPES=t.EXPORTDECLARATION_TYPES=t.ENUMMEMBER_TYPES=t.ENUMBODY_TYPES=t.DECLARATION_TYPES=t.CONDITIONAL_TYPES=t.COMPLETIONSTATEMENT_TYPES=t.CLASS_TYPES=t.BLOCK_TYPES=t.BLOCKPARENT_TYPES=t.BINARY_TYPES=t.ACCESSOR_TYPES=void 0;var i=n("b978");const r=i.FLIPPED_ALIAS_KEYS["Standardized"];t.STANDARDIZED_TYPES=r;const o=i.FLIPPED_ALIAS_KEYS["Expression"];t.EXPRESSION_TYPES=o;const s=i.FLIPPED_ALIAS_KEYS["Binary"];t.BINARY_TYPES=s;const a=i.FLIPPED_ALIAS_KEYS["Scopable"];t.SCOPABLE_TYPES=a;const l=i.FLIPPED_ALIAS_KEYS["BlockParent"];t.BLOCKPARENT_TYPES=l;const c=i.FLIPPED_ALIAS_KEYS["Block"];t.BLOCK_TYPES=c;const u=i.FLIPPED_ALIAS_KEYS["Statement"];t.STATEMENT_TYPES=u;const h=i.FLIPPED_ALIAS_KEYS["Terminatorless"];t.TERMINATORLESS_TYPES=h;const d=i.FLIPPED_ALIAS_KEYS["CompletionStatement"];t.COMPLETIONSTATEMENT_TYPES=d;const f=i.FLIPPED_ALIAS_KEYS["Conditional"];t.CONDITIONAL_TYPES=f;const p=i.FLIPPED_ALIAS_KEYS["Loop"];t.LOOP_TYPES=p;const m=i.FLIPPED_ALIAS_KEYS["While"];t.WHILE_TYPES=m;const g=i.FLIPPED_ALIAS_KEYS["ExpressionWrapper"];t.EXPRESSIONWRAPPER_TYPES=g;const A=i.FLIPPED_ALIAS_KEYS["For"];t.FOR_TYPES=A;const y=i.FLIPPED_ALIAS_KEYS["ForXStatement"];t.FORXSTATEMENT_TYPES=y;const v=i.FLIPPED_ALIAS_KEYS["Function"];t.FUNCTION_TYPES=v;const b=i.FLIPPED_ALIAS_KEYS["FunctionParent"];t.FUNCTIONPARENT_TYPES=b;const _=i.FLIPPED_ALIAS_KEYS["Pureish"];t.PUREISH_TYPES=_;const w=i.FLIPPED_ALIAS_KEYS["Declaration"];t.DECLARATION_TYPES=w;const x=i.FLIPPED_ALIAS_KEYS["PatternLike"];t.PATTERNLIKE_TYPES=x;const S=i.FLIPPED_ALIAS_KEYS["LVal"];t.LVAL_TYPES=S;const T=i.FLIPPED_ALIAS_KEYS["TSEntityName"];t.TSENTITYNAME_TYPES=T;const E=i.FLIPPED_ALIAS_KEYS["Literal"];t.LITERAL_TYPES=E;const M=i.FLIPPED_ALIAS_KEYS["Immutable"];t.IMMUTABLE_TYPES=M;const C=i.FLIPPED_ALIAS_KEYS["UserWhitespacable"];t.USERWHITESPACABLE_TYPES=C;const O=i.FLIPPED_ALIAS_KEYS["Method"];t.METHOD_TYPES=O;const k=i.FLIPPED_ALIAS_KEYS["ObjectMember"];t.OBJECTMEMBER_TYPES=k;const P=i.FLIPPED_ALIAS_KEYS["Property"];t.PROPERTY_TYPES=P;const I=i.FLIPPED_ALIAS_KEYS["UnaryLike"];t.UNARYLIKE_TYPES=I;const R=i.FLIPPED_ALIAS_KEYS["Pattern"];t.PATTERN_TYPES=R;const D=i.FLIPPED_ALIAS_KEYS["Class"];t.CLASS_TYPES=D;const L=i.FLIPPED_ALIAS_KEYS["ImportOrExportDeclaration"];t.IMPORTOREXPORTDECLARATION_TYPES=L;const N=i.FLIPPED_ALIAS_KEYS["ExportDeclaration"];t.EXPORTDECLARATION_TYPES=N;const B=i.FLIPPED_ALIAS_KEYS["ModuleSpecifier"];t.MODULESPECIFIER_TYPES=B;const F=i.FLIPPED_ALIAS_KEYS["Accessor"];t.ACCESSOR_TYPES=F;const j=i.FLIPPED_ALIAS_KEYS["Private"];t.PRIVATE_TYPES=j;const U=i.FLIPPED_ALIAS_KEYS["Flow"];t.FLOW_TYPES=U;const z=i.FLIPPED_ALIAS_KEYS["FlowType"];t.FLOWTYPE_TYPES=z;const q=i.FLIPPED_ALIAS_KEYS["FlowBaseAnnotation"];t.FLOWBASEANNOTATION_TYPES=q;const V=i.FLIPPED_ALIAS_KEYS["FlowDeclaration"];t.FLOWDECLARATION_TYPES=V;const H=i.FLIPPED_ALIAS_KEYS["FlowPredicate"];t.FLOWPREDICATE_TYPES=H;const G=i.FLIPPED_ALIAS_KEYS["EnumBody"];t.ENUMBODY_TYPES=G;const W=i.FLIPPED_ALIAS_KEYS["EnumMember"];t.ENUMMEMBER_TYPES=W;const $=i.FLIPPED_ALIAS_KEYS["JSX"];t.JSX_TYPES=$;const X=i.FLIPPED_ALIAS_KEYS["Miscellaneous"];t.MISCELLANEOUS_TYPES=X;const Y=i.FLIPPED_ALIAS_KEYS["TypeScript"];t.TYPESCRIPT_TYPES=Y;const K=i.FLIPPED_ALIAS_KEYS["TSTypeElement"];t.TSTYPEELEMENT_TYPES=K;const Q=i.FLIPPED_ALIAS_KEYS["TSType"];t.TSTYPE_TYPES=Q;const J=i.FLIPPED_ALIAS_KEYS["TSBaseType"];t.TSBASETYPE_TYPES=J;const Z=L;t.MODULEDECLARATION_TYPES=Z},"9ff4":function(e,t,n){"use strict";(function(e){function i(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return te})),n.d(t,"f",(function(){return re})),n.d(t,"g",(function(){return le})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return de})),n.d(t,"j",(function(){return se})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return ie})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return ae})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return J})),n.d(t,"q",(function(){return z})),n.d(t,"r",(function(){return o})),n.d(t,"s",(function(){return m})),n.d(t,"t",(function(){return K})),n.d(t,"u",(function(){return B})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return H})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return Y})),n.d(t,"z",(function(){return G})),n.d(t,"A",(function(){return U})),n.d(t,"B",(function(){return Q})),n.d(t,"C",(function(){return g})),n.d(t,"D",(function(){return F})),n.d(t,"E",(function(){return y})),n.d(t,"F",(function(){return q})),n.d(t,"G",(function(){return V})),n.d(t,"H",(function(){return _})),n.d(t,"I",(function(){return w})),n.d(t,"J",(function(){return ce})),n.d(t,"K",(function(){return i})),n.d(t,"L",(function(){return h})),n.d(t,"M",(function(){return d})),n.d(t,"N",(function(){return s})),n.d(t,"O",(function(){return R})),n.d(t,"P",(function(){return x})),n.d(t,"Q",(function(){return oe})),n.d(t,"R",(function(){return ue})),n.d(t,"S",(function(){return X}));const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=i(r);function s(e){if(N(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=q(i)?u(i):s(i);if(r)for(const e in r)t[e]=r[e]}return t}return q(e)||H(e)?e:void 0}const a=/;(?![^(]*\))/g,l=/:([^]+)/,c=/\/\*.*?\*\//gs;function u(e){const t={};return e.replace(c,"").split(a).forEach(e=>{if(e){const n=e.split(l);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function h(e){let t="";if(q(e))t=e;else if(N(e))for(let n=0;n<e.length;n++){const i=h(e[n]);i&&(t+=i+" ")}else if(H(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function d(e){if(!e)return null;let{class:t,style:n}=e;return t&&!q(t)&&(e.class=h(t)),n&&(e.style=s(n)),e}const f="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",p="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",m=i(f),g=i(p),A="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",y=i(A);function v(e){return!!e||""===e}function b(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=_(e[i],t[i]);return n}function _(e,t){if(e===t)return!0;let n=j(e),i=j(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=V(e),i=V(t),n||i)return e===t;if(n=N(e),i=N(t),n||i)return!(!n||!i)&&b(e,t);if(n=H(e),i=H(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!_(e[n],t[n]))return!1}}return String(e)===String(t)}function w(e,t){return e.findIndex(e=>_(e,t))}const x=e=>q(e)?e:null==e?"":N(e)||H(e)&&(e.toString===W||!z(e.toString))?JSON.stringify(e,S,2):String(e),S=(e,t)=>t&&t.__v_isRef?S(e,t.value):B(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[t+" =>"]=n,e),{})}:F(t)?{[`Set(${t.size})`]:[...t.values()]}:!H(t)||N(t)||Y(t)?t:String(t),T={},E=[],M=()=>{},C=()=>!1,O=/^on[^a-z]/,k=e=>O.test(e),P=e=>e.startsWith("onUpdate:"),I=Object.assign,R=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},D=Object.prototype.hasOwnProperty,L=(e,t)=>D.call(e,t),N=Array.isArray,B=e=>"[object Map]"===$(e),F=e=>"[object Set]"===$(e),j=e=>"[object Date]"===$(e),U=e=>"[object RegExp]"===$(e),z=e=>"function"===typeof e,q=e=>"string"===typeof e,V=e=>"symbol"===typeof e,H=e=>null!==e&&"object"===typeof e,G=e=>H(e)&&z(e.then)&&z(e.catch),W=Object.prototype.toString,$=e=>W.call(e),X=e=>$(e).slice(8,-1),Y=e=>"[object Object]"===$(e),K=e=>q(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,Q=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),J=i("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Z=e=>{const t=Object.create(null);return n=>{const i=t[n];return i||(t[n]=e(n))}},ee=/-(\w)/g,te=Z(e=>e.replace(ee,(e,t)=>t?t.toUpperCase():"")),ne=/\B([A-Z])/g,ie=Z(e=>e.replace(ne,"-$1").toLowerCase()),re=Z(e=>e.charAt(0).toUpperCase()+e.slice(1)),oe=Z(e=>e?"on"+re(e):""),se=(e,t)=>!Object.is(e,t),ae=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},le=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ce=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ue=e=>{const t=q(e)?Number(e):NaN;return isNaN(t)?e:t};let he;const de=()=>he||(he="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{})}).call(this,n("c8ba"))},a04b:function(e,t,n){var i=n("c04e"),r=n("d9b5");e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},a128:function(e,t,n){n("d9e2");var i=n("36c6"),r=n("4a4b"),o=n("c5f7"),s=n("b17c");function a(t){var n="function"===typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return s(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},a141:function(e,t,n){"use strict";n.r(t),n.d(t,"crc1",(function(){return l})),n.d(t,"crc8",(function(){return h})),n.d(t,"crc81wire",(function(){return p})),n.d(t,"crc16",(function(){return A})),n.d(t,"crc16ccitt",(function(){return b})),n.d(t,"crc16modbus",(function(){return x})),n.d(t,"crc16xmodem",(function(){return T})),n.d(t,"crc16kermit",(function(){return C})),n.d(t,"crc24",(function(){return P})),n.d(t,"crc32",(function(){return D})),n.d(t,"crcjam",(function(){return B}));var i=n("1c35");const r=i["Buffer"].from&&i["Buffer"].alloc&&i["Buffer"].allocUnsafe&&i["Buffer"].allocUnsafeSlow?i["Buffer"].from:e=>new i["Buffer"](e);var o=r,s=function(e,t){const n=(e,n)=>t(e,n)>>>0;return n.signed=t,n.unsigned=n,n.model=e,n};const a=s("crc1",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n=~~t,r=0;for(let i=0;i<e.length;i++){const t=e[i];r+=t}return n+=r%256,n%256}));var l=a;let c=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!==typeof Int32Array&&(c=new Int32Array(c));const u=s("crc-8",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n=~~t;for(let i=0;i<e.length;i++){const t=e[i];n=255&c[255&(n^t)]}return n}));var h=u;let d=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!==typeof Int32Array&&(d=new Int32Array(d));const f=s("dallas-1-wire",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n=~~t;for(let i=0;i<e.length;i++){const t=e[i];n=255&d[255&(n^t)]}return n}));var p=f;let m=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(m=new Int32Array(m));const g=s("crc-16",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n=~~t;for(let i=0;i<e.length;i++){const t=e[i];n=65535&(m[255&(n^t)]^n>>8)}return n}));var A=g;let y=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];"undefined"!==typeof Int32Array&&(y=new Int32Array(y));const v=s("ccitt",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n="undefined"!==typeof t?~~t:65535;for(let i=0;i<e.length;i++){const t=e[i];n=65535&(y[255&(n>>8^t)]^n<<8)}return n}));var b=v;let _=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(_=new Int32Array(_));const w=s("crc-16-modbus",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n="undefined"!==typeof t?~~t:65535;for(let i=0;i<e.length;i++){const t=e[i];n=65535&(_[255&(n^t)]^n>>8)}return n}));var x=w;const S=s("xmodem",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n="undefined"!==typeof t?~~t:0;for(let i=0;i<e.length;i++){const t=e[i];let r=n>>>8&255;r^=255&t,r^=r>>>4,n=n<<8&65535,n^=r,r=r<<5&65535,n^=r,r=r<<7&65535,n^=r}return n}));var T=S;let E=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!==typeof Int32Array&&(E=new Int32Array(E));const M=s("kermit",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n="undefined"!==typeof t?~~t:0;for(let i=0;i<e.length;i++){const t=e[i];n=65535&(E[255&(n^t)]^n>>8)}return n}));var C=M;let O=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!==typeof Int32Array&&(O=new Int32Array(O));const k=s("crc-24",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n="undefined"!==typeof t?~~t:11994318;for(let i=0;i<e.length;i++){const t=e[i];n=16777215&(O[255&(n>>16^t)]^n<<8)}return n}));var P=k;let I=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(I=new Int32Array(I));const R=s("crc-32",(function(e,t){i["Buffer"].isBuffer(e)||(e=o(e));let n=0===t?0:-1^~~t;for(let i=0;i<e.length;i++){const t=e[i];n=I[255&(n^t)]^n>>>8}return-1^n}));var D=R;let L=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(L=new Int32Array(L));const N=s("jam",(function(e,t=-1){i["Buffer"].isBuffer(e)||(e=o(e));let n=0===t?0:~~t;for(let i=0;i<e.length;i++){const t=e[i];n=L[255&(n^t)]^n>>>8}return n}));var B=N;t["default"]={crc1:l,crc8:h,crc81wire:p,crc16:A,crc16ccitt:b,crc16modbus:x,crc16xmodem:T,crc16kermit:C,crc24:P,crc32:D,crcjam:B}},a1e9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return at})),n.d(t,"d",(function(){return tt})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return Fe})),n.d(t,"i",(function(){return Le})),n.d(t,"j",(function(){return Ne})),n.d(t,"k",(function(){return Ge})),n.d(t,"l",(function(){return Be})),n.d(t,"m",(function(){return Ue})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return Ze})),n.d(t,"q",(function(){return ke})),n.d(t,"r",(function(){return Ie})),n.d(t,"s",(function(){return We})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return Pe})),n.d(t,"v",(function(){return Re})),n.d(t,"w",(function(){return $e})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return je})),n.d(t,"z",(function(){return rt})),n.d(t,"A",(function(){return nt})),n.d(t,"B",(function(){return k})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return Ke})),n.d(t,"E",(function(){return Qe}));var i=n("9ff4");let r;class o{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=r,!e&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function s(e){return new o(e)}function a(e,t=r){t&&t.active&&t.effects.push(e)}function l(){return r}function c(e){r&&r.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},h=e=>(e.w&A)>0,d=e=>(e.n&A)>0,f=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=A},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];h(r)&&!d(r)?r.delete(e):t[n++]=r,r.w&=~A,r.n&=~A}t.length=n}},m=new WeakMap;let g=0,A=1;const y=30;let v;const b=Symbol(""),_=Symbol("");class w{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let e=v,t=E;while(e){if(e===this)return;e=e.parent}try{return this.parent=v,v=this,E=!0,A=1<<++g,g<=y?f(this):x(this),this.fn()}finally{g<=y&&p(this),A=1<<--g,v=this.parent,E=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){v===this?this.deferStop=!0:this.active&&(x(this),this.onStop&&this.onStop(),this.active=!1)}}function x(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function S(e,t){e.effect&&(e=e.effect.fn);const n=new w(e);t&&(Object(i["h"])(n,t),t.scope&&a(n,t.scope)),t&&t.lazy||n.run();const r=n.run.bind(n);return r.effect=n,r}function T(e){e.effect.stop()}let E=!0;const M=[];function C(){M.push(E),E=!1}function O(){const e=M.pop();E=void 0===e||e}function k(e,t,n){if(E&&v){let t=m.get(e);t||m.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=u());const r=void 0;P(i,r)}}function P(e,t){let n=!1;g<=y?d(e)||(e.n|=A,n=!h(e)):n=!e.has(v),n&&(e.add(v),v.deps.push(e))}function I(e,t,n,r,o,s){const a=m.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&Object(i["o"])(e)){const e=Number(r);a.forEach((t,n)=>{("length"===n||n>=e)&&l.push(t)})}else switch(void 0!==n&&l.push(a.get(n)),t){case"add":Object(i["o"])(e)?Object(i["t"])(n)&&l.push(a.get("length")):(l.push(a.get(b)),Object(i["u"])(e)&&l.push(a.get(_)));break;case"delete":Object(i["o"])(e)||(l.push(a.get(b)),Object(i["u"])(e)&&l.push(a.get(_)));break;case"set":Object(i["u"])(e)&&l.push(a.get(b));break}if(1===l.length)l[0]&&R(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);R(u(e))}}function R(e,t){const n=Object(i["o"])(e)?e:[...e];for(const i of n)i.computed&&D(i,t);for(const i of n)i.computed||D(i,t)}function D(e,t){(e!==v||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function L(e,t){var n;return null===(n=m.get(e))||void 0===n?void 0:n.get(t)}const N=Object(i["K"])("__proto__,__v_isRef,__isVue"),B=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(i["G"])),F=G(),j=G(!1,!0),U=G(!0),z=G(!0,!0),q=V();function V(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){const n=je(this);for(let t=0,r=this.length;t<r;t++)k(n,"get",t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(je)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){C();const n=je(this)[t].apply(this,e);return O(),n}}),e}function H(e){const t=je(this);return k(t,"has",e),t.hasOwnProperty(e)}function G(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&o===(e?t?Me:Ee:t?Te:Se).get(n))return n;const s=Object(i["o"])(n);if(!e){if(s&&Object(i["k"])(q,r))return Reflect.get(q,r,o);if("hasOwnProperty"===r)return H}const a=Reflect.get(n,r,o);return(Object(i["G"])(r)?B.has(r):N(r))?a:(e||k(n,"get",r),t?a:Ge(a)?s&&Object(i["t"])(r)?a:a.value:Object(i["w"])(a)?e?Ie(a):ke(a):a)}}const W=X(),$=X(!0);function X(e=!1){return function(t,n,r,o){let s=t[n];if(Ne(s)&&Ge(s)&&!Ge(r))return!1;if(!e&&(Be(r)||Ne(r)||(s=je(s),r=je(r)),!Object(i["o"])(t)&&Ge(s)&&!Ge(r)))return s.value=r,!0;const a=Object(i["o"])(t)&&Object(i["t"])(n)?Number(n)<t.length:Object(i["k"])(t,n),l=Reflect.set(t,n,r,o);return t===je(o)&&(a?Object(i["j"])(r,s)&&I(t,"set",n,r,s):I(t,"add",n,r)),l}}function Y(e,t){const n=Object(i["k"])(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&I(e,"delete",t,void 0,r),o}function K(e,t){const n=Reflect.has(e,t);return Object(i["G"])(t)&&B.has(t)||k(e,"has",t),n}function Q(e){return k(e,"iterate",Object(i["o"])(e)?"length":b),Reflect.ownKeys(e)}const J={get:F,set:W,deleteProperty:Y,has:K,ownKeys:Q},Z={get:U,set(e,t){return!0},deleteProperty(e,t){return!0}},ee=Object(i["h"])({},J,{get:j,set:$}),te=Object(i["h"])({},Z,{get:z}),ne=e=>e,ie=e=>Reflect.getPrototypeOf(e);function re(e,t,n=!1,i=!1){e=e["__v_raw"];const r=je(e),o=je(t);n||(t!==o&&k(r,"get",t),k(r,"get",o));const{has:s}=ie(r),a=i?ne:n?qe:ze;return s.call(r,t)?a(e.get(t)):s.call(r,o)?a(e.get(o)):void(e!==r&&e.get(t))}function oe(e,t=!1){const n=this["__v_raw"],i=je(n),r=je(e);return t||(e!==r&&k(i,"has",e),k(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function se(e,t=!1){return e=e["__v_raw"],!t&&k(je(e),"iterate",b),Reflect.get(e,"size",e)}function ae(e){e=je(e);const t=je(this),n=ie(t),i=n.has.call(t,e);return i||(t.add(e),I(t,"add",e,e)),this}function le(e,t){t=je(t);const n=je(this),{has:r,get:o}=ie(n);let s=r.call(n,e);s||(e=je(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Object(i["j"])(t,a)&&I(n,"set",e,t,a):I(n,"add",e,t),this}function ce(e){const t=je(this),{has:n,get:i}=ie(t);let r=n.call(t,e);r||(e=je(e),r=n.call(t,e));const o=i?i.call(t,e):void 0,s=t.delete(e);return r&&I(t,"delete",e,void 0,o),s}function ue(){const e=je(this),t=0!==e.size,n=void 0,i=e.clear();return t&&I(e,"clear",void 0,void 0,n),i}function he(e,t){return function(n,i){const r=this,o=r["__v_raw"],s=je(o),a=t?ne:e?qe:ze;return!e&&k(s,"iterate",b),o.forEach((e,t)=>n.call(i,a(e),a(t),r))}}function de(e,t,n){return function(...r){const o=this["__v_raw"],s=je(o),a=Object(i["u"])(s),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=o[e](...r),h=n?ne:t?qe:ze;return!t&&k(s,"iterate",c?_:b),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function fe(e){return function(...t){return"delete"!==e&&this}}function pe(){const e={get(e){return re(this,e)},get size(){return se(this)},has:oe,add:ae,set:le,delete:ce,clear:ue,forEach:he(!1,!1)},t={get(e){return re(this,e,!1,!0)},get size(){return se(this)},has:oe,add:ae,set:le,delete:ce,clear:ue,forEach:he(!1,!0)},n={get(e){return re(this,e,!0)},get size(){return se(this,!0)},has(e){return oe.call(this,e,!0)},add:fe("add"),set:fe("set"),delete:fe("delete"),clear:fe("clear"),forEach:he(!0,!1)},i={get(e){return re(this,e,!0,!0)},get size(){return se(this,!0)},has(e){return oe.call(this,e,!0)},add:fe("add"),set:fe("set"),delete:fe("delete"),clear:fe("clear"),forEach:he(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach(r=>{e[r]=de(r,!1,!1),n[r]=de(r,!0,!1),t[r]=de(r,!1,!0),i[r]=de(r,!0,!0)}),[e,n,t,i]}const[me,ge,Ae,ye]=pe();function ve(e,t){const n=t?e?ye:Ae:e?ge:me;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(Object(i["k"])(n,r)&&r in t?n:t,r,o)}const be={get:ve(!1,!1)},_e={get:ve(!1,!0)},we={get:ve(!0,!1)},xe={get:ve(!0,!0)};const Se=new WeakMap,Te=new WeakMap,Ee=new WeakMap,Me=new WeakMap;function Ce(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Oe(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ce(Object(i["S"])(e))}function ke(e){return Ne(e)?e:De(e,!1,J,be,Se)}function Pe(e){return De(e,!1,ee,_e,Te)}function Ie(e){return De(e,!0,Z,we,Ee)}function Re(e){return De(e,!0,te,xe,Me)}function De(e,t,n,r,o){if(!Object(i["w"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=o.get(e);if(s)return s;const a=Oe(e);if(0===a)return e;const l=new Proxy(e,2===a?r:n);return o.set(e,l),l}function Le(e){return Ne(e)?Le(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ne(e){return!(!e||!e["__v_isReadonly"])}function Be(e){return!(!e||!e["__v_isShallow"])}function Fe(e){return Le(e)||Ne(e)}function je(e){const t=e&&e["__v_raw"];return t?je(t):e}function Ue(e){return Object(i["g"])(e,"__v_skip",!0),e}const ze=e=>Object(i["w"])(e)?ke(e):e,qe=e=>Object(i["w"])(e)?Ie(e):e;function Ve(e){E&&v&&(e=je(e),P(e.dep||(e.dep=u())))}function He(e,t){e=je(e);const n=e.dep;n&&R(n)}function Ge(e){return!(!e||!0!==e.__v_isRef)}function We(e){return Xe(e,!1)}function $e(e){return Xe(e,!0)}function Xe(e,t){return Ge(e)?e:new Ye(e,t)}class Ye{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:je(e),this._value=t?e:ze(e)}get value(){return Ve(this),this._value}set value(e){const t=this.__v_isShallow||Be(e)||Ne(e);e=t?e:je(e),Object(i["j"])(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:ze(e),He(this,e))}}function Ke(e){He(e,void 0)}function Qe(e){return Ge(e)?e.value:e}const Je={get:(e,t,n)=>Qe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Ge(r)&&!Ge(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ze(e){return Le(e)?e:new Proxy(e,Je)}class et{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e(()=>Ve(this),()=>He(this));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function tt(e){return new et(e)}function nt(e){const t=Object(i["o"])(e)?new Array(e.length):{};for(const n in e)t[n]=rt(e,n);return t}class it{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return L(je(this._object),this._key)}}function rt(e,t,n){const i=e[t];return Ge(i)?i:new it(e,t,n)}var ot;class st{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[ot]=!1,this._dirty=!0,this.effect=new w(e,()=>{this._dirty||(this._dirty=!0,He(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const e=je(this);return Ve(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function at(e,t,n=!1){let r,o;const s=Object(i["q"])(e);s?(r=e,o=i["d"]):(r=e.get,o=e.set);const a=new st(r,o,s||!o,n);return a}ot="__v_isReadonly"},a559:function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},a584:function(e,t,n){"use strict";var i=n("9ff4"),r=n("7a23");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){if("undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=e,o.defer=t.defer,t.preconnectOrigin){var s=document.createElement("link");s.href=t.preconnectOrigin,s.rel="preconnect",r.appendChild(s)}r.appendChild(o),o.onload=n,o.onerror=i}}))},c=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(!r.length)return t;var a=r.shift();if(Object(i["y"])(t)&&Object(i["y"])(a)){for(var l in a)Object(i["y"])(a[l])?(t[l]||Object.assign(t,o({},l,{})),e(t[l],a[l])):Object.assign(t,o({},l,a[l]));return e.apply(void 0,[t].concat(r))}},u=function(){return"undefined"!==typeof window&&"undefined"!==typeof document},h=function(e){u()},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h('Missing "appName" property inside the plugin options.',null==e.app_name),h('Missing "name" property in the route.',null==e.screen_name),e};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("/"),i=t.split("/");return""===n[0]&&"/"===t[t.length-1]&&n.shift(),i.join("/")+n.join("/")}var p,m=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},g={},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m();g=c(t,e)},y=function(){return g},v=function(){var e,t=y(),n=t.globalObjectName;u()&&"undefined"!==typeof window[n]&&(e=window)[n].apply(e,arguments)},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=y(),r=i.config,o=i.includes;v.apply(void 0,["config",r.id].concat(t)),Array.isArray(o)&&o.forEach((function(e){v.apply(void 0,["config",e.id].concat(t))}))},_=function(e,t){u()&&(window["ga-disable-".concat(e)]=t)},w=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=y(),n=t.config,i=t.includes;_(n.id,e),Array.isArray(i)&&i.forEach((function(t){return _(t.id,e)}))},x=function(){w(!0)},S=function(){w(!1)},T=function(e){p=e},E=function(){return p},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=y(),i=n.includes,r=n.defaultGroupName;null==t.send_to&&Array.isArray(i)&&i.length&&(t.send_to=i.map((function(e){return e.id})).concat(r)),v("event",e,t)},C=function(e){if(u()){var t;if("string"===typeof e)t={page_path:e};else if(e.path||e.fullPath){var n=y(),i=n.pageTrackerUseFullPath,r=n.pageTrackerPrependBase,o=E(),s=o&&o.options.base,l=i?e.fullPath:e.path;t=a(a({},e.name&&{page_title:e.name}),{},{page_path:r?f(l,s):l})}else t=e;null==t.page_location&&(t.page_location=window.location.href),null==t.send_page_view&&(t.send_page_view=!0),M("page_view",t)}},O=function(e){var t,n=y(),i=n.appName;e&&(t="string"===typeof e?{screen_name:e}:e,t.app_name=t.app_name||i,M("screen_view",t))},k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];M.apply(void 0,["exception"].concat(t))},P=function(e){b("linker",e)},I=function(e){M("timing_complete",e)},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];v.apply(void 0,["set"].concat(t))},D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];M.apply(void 0,["refund"].concat(t))},L=function(e){M("purchase",e)},N=function(e){b({custom_map:e})},B=Object.freeze({__proto__:null,query:v,config:b,optOut:x,optIn:S,pageview:C,screenview:O,exception:k,linker:P,time:I,set:R,refund:D,purchase:L,customMap:N,event:M}),F=function(e){e.config.globalProperties.$gtag=B},j=function(){if(u()){var e=y(),t=e.enabled,n=e.globalObjectName,i=e.globalDataLayerName;return null==window[n]&&(window[i]=window[i]||[],window[n]=function(){window[i].push(arguments)}),window[n]("js",new Date),t||x(),window[n]}},U=function(e){return a({send_page_view:!1},e)},z=function(){var e=y(),t=e.config,n=e.includes;v("config",t.id,U(t.params)),Array.isArray(n)&&n.forEach((function(e){v("config",e.id,U(e.params))}))},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=y(),r=n.appName,o=n.pageTrackerTemplate,s=n.pageTrackerScreenviewEnabled,a=n.pageTrackerSkipSamePath;if(!a||e.path!==t.path){var l=e;Object(i["q"])(o)?l=o(e,t):s&&(l=d({app_name:r,screen_name:e.name})),s?O(l):C(l)}},V=function(e){var t=y(),n=t.pageTrackerExcludedRoutes;return n.includes(e.path)||n.includes(e.name)},H=function(){var e=y(),t=e.onBeforeTrack,n=e.onAfterTrack,o=E();o.isReady().then((function(){Object(r["nextTick"])().then((function(){var e=o.currentRoute;z(),V(e.value)||q(e.value)})),o.afterEach((function(e,o){Object(r["nextTick"])().then((function(){V(e)||(Object(i["q"])(t)&&t(e,o),q(e,o),Object(i["q"])(n)&&n(e,o))}))}))}))},G=function(){var e=y(),t=e.onReady,n=e.onError,i=e.globalObjectName,r=e.globalDataLayerName,o=e.config,s=e.customResourceURL,a=e.customPreconnectOrigin,c=e.deferScriptLoad,u=e.pageTrackerEnabled,h=e.disableScriptLoad,d=Boolean(u&&E());if(j(),d?H():z(),!h)return l("".concat(s,"?id=").concat(o.id,"&l=").concat(r),{preconnectOrigin:a,defer:c}).then((function(){t&&t(window[i])}))["catch"]((function(e){return n&&n(e),e}))},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;F(e),A(t),T(n),y().bootstrap&&G()};t["a"]=W},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},a70d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n("4285"),r=n("fa5d"),o=n("7e47");function s(e,t){return(0,i.default)(e,t),(0,r.default)(e,t),(0,o.default)(e,t),e}},a9c7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;const i=new Set;function r(e,t,n=""){if(i.has(e))return;i.add(e);const r=o(1,2);console.warn(`${n}\`${e}\` has been deprecated, please migrate to \`${t}\`\n${r}`)}function o(e,t){const{stackTraceLimit:n,prepareStackTrace:i}=Error;let r;return Error.stackTraceLimit=1+e+t,Error.prepareStackTrace=function(e,t){r=t},(new Error).stack,Error.stackTraceLimit=n,Error.prepareStackTrace=i,r.slice(1+e,1+e+t).map(e=>"    at "+e).join("\n")}},ab02:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("c1f7"),r=o;function o(e,t){return(0,i.default)(e,t,!0)}t.default=r},ab36:function(e,t,n){var i=n("861d"),r=n("9112");e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},abc5:function(e,t,n){"use strict";(function(e){function i(){return r().__VUE_DEVTOOLS_GLOBAL_HOOK__}function r(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const o="function"===typeof Proxy}).call(this,n("c8ba"))},aeb0:function(e,t,n){var i=n("9bf2").f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},aed9:function(e,t,n){var i=n("83ab"),r=n("d039");e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b012:function(e,t){function n(e,t,n){var i,r,o,s,a;function l(){var c=Date.now()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),o=r=null))}null==t&&(t=100);var c=function(){o=this,r=arguments,s=Date.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=e.apply(o,r),o=r=null,clearTimeout(i),i=null)},c}n.debounce=n,e.exports=n},b17c:function(e,t,n){n("f8c9"),n("14d9");var i=n("4a4b"),r=n("6f8f");function o(t,n,s){return r()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=o=function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),s=new o;return n&&i(s,n.prototype),s},e.exports.__esModule=!0,e.exports["default"]=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},b21a:function(e,t,n){"use strict";function i(e,t,n){switch(t.type){case"MemberExpression":case"OptionalMemberExpression":return t.property===e?!!t.computed:t.object===e;case"JSXMemberExpression":return t.object===e;case"VariableDeclarator":return t.init===e;case"ArrowFunctionExpression":return t.body===e;case"PrivateName":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":return t.key===e&&!!t.computed;case"ObjectProperty":return t.key===e?!!t.computed:!n||"ObjectPattern"!==n.type;case"ClassProperty":case"ClassAccessorProperty":return t.key!==e||!!t.computed;case"ClassPrivateProperty":return t.key!==e;case"ClassDeclaration":case"ClassExpression":return t.superClass===e;case"AssignmentExpression":return t.right===e;case"AssignmentPattern":return t.right===e;case"LabeledStatement":return!1;case"CatchClause":return!1;case"RestElement":return!1;case"BreakStatement":case"ContinueStatement":return!1;case"FunctionDeclaration":case"FunctionExpression":return!1;case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return!1;case"ExportSpecifier":return(null==n||!n.source)&&t.local===e;case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":return!1;case"ImportAttribute":return!1;case"JSXAttribute":return!1;case"ObjectPattern":case"ArrayPattern":return!1;case"MetaProperty":return!1;case"ObjectTypeProperty":return t.key!==e;case"TSEnumMember":return t.id!==e;case"TSPropertySignature":return t.key!==e||!!t.computed}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},b2a2:function(e,t,n){"use strict";var i=n("57de");const r=(0,i.defineAliasedType)("JSX");r("JSXAttribute",{visitor:["name","value"],aliases:["Immutable"],fields:{name:{validate:(0,i.assertNodeType)("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:(0,i.assertNodeType)("JSXElement","JSXFragment","StringLiteral","JSXExpressionContainer")}}}),r("JSXClosingElement",{visitor:["name"],aliases:["Immutable"],fields:{name:{validate:(0,i.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")}}}),r("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["Immutable","Expression"],fields:Object.assign({openingElement:{validate:(0,i.assertNodeType)("JSXOpeningElement")},closingElement:{optional:!0,validate:(0,i.assertNodeType)("JSXClosingElement")},children:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")))}},{selfClosing:{validate:(0,i.assertValueType)("boolean"),optional:!0}})}),r("JSXEmptyExpression",{}),r("JSXExpressionContainer",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,i.assertNodeType)("Expression","JSXEmptyExpression")}}}),r("JSXSpreadChild",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:(0,i.assertNodeType)("Expression")}}}),r("JSXIdentifier",{builder:["name"],fields:{name:{validate:(0,i.assertValueType)("string")}}}),r("JSXMemberExpression",{visitor:["object","property"],fields:{object:{validate:(0,i.assertNodeType)("JSXMemberExpression","JSXIdentifier")},property:{validate:(0,i.assertNodeType)("JSXIdentifier")}}}),r("JSXNamespacedName",{visitor:["namespace","name"],fields:{namespace:{validate:(0,i.assertNodeType)("JSXIdentifier")},name:{validate:(0,i.assertNodeType)("JSXIdentifier")}}}),r("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","attributes"],aliases:["Immutable"],fields:{name:{validate:(0,i.assertNodeType)("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")},selfClosing:{default:!1},attributes:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("JSXAttribute","JSXSpreadAttribute")))},typeParameters:{validate:(0,i.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),r("JSXSpreadAttribute",{visitor:["argument"],fields:{argument:{validate:(0,i.assertNodeType)("Expression")}}}),r("JSXText",{aliases:["Immutable"],builder:["value"],fields:{value:{validate:(0,i.assertValueType)("string")}}}),r("JSXFragment",{builder:["openingFragment","closingFragment","children"],visitor:["openingFragment","children","closingFragment"],aliases:["Immutable","Expression"],fields:{openingFragment:{validate:(0,i.assertNodeType)("JSXOpeningFragment")},closingFragment:{validate:(0,i.assertNodeType)("JSXClosingFragment")},children:{validate:(0,i.chain)((0,i.assertValueType)("array"),(0,i.assertEach)((0,i.assertNodeType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")))}}}),r("JSXOpeningFragment",{aliases:["Immutable"]}),r("JSXClosingFragment",{aliases:["Immutable"]})},b42e:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:n)(t)}},b50d:function(e,t,n){"use strict";var i=n("c532"),r=n("467f"),o=n("7aac"),s=n("30b5"),a=n("83b9"),l=n("c345"),c=n("3934"),u=n("2d83"),h=n("cafa"),d=n("7a77");e.exports=function(e){return new Promise((function(t,n){var f,p=e.data,m=e.headers,g=e.responseType;function A(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}i.isFormData(p)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+b)}var _=a(e.baseURL,e.url);function w(){if(y){var i="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,o=g&&"text"!==g&&"json"!==g?y.response:y.responseText,s={data:o,status:y.status,statusText:y.statusText,headers:i,config:e,request:y};r((function(e){t(e),A()}),(function(e){n(e),A()}),s),y=null}}if(y.open(e.method.toUpperCase(),s(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(w)},y.onabort=function(){y&&(n(u("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(u("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},i.isStandardBrowserEnv()){var x=(e.withCredentials||c(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;x&&(m[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&i.forEach(m,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),p||(p=null),y.send(p)}))}},b622:function(e,t,n){var i=n("da84"),r=n("5692"),o=n("1a2d"),s=n("90e3"),a=n("04f8"),l=n("fdbf"),c=i.Symbol,u=r("wks"),h=l?c["for"]||c:c&&c.withoutSetter||s;e.exports=function(e){return o(u,e)||(u[e]=a&&o(c,e)?c[e]:h("Symbol."+e)),u[e]}},b71a:function(e,t,n){(function(e,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",g="[object GeneratorFunction]",A="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",_="[object RegExp]",w="[object Set]",x="[object String]",S="[object Symbol]",T="[object WeakMap]",E="[object ArrayBuffer]",M="[object DataView]",C="[object Float32Array]",O="[object Float64Array]",k="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",R="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",N="[object Uint32Array]",B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,j=/^\./,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,q=/\\(\\)?/g,V=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,G={};G[C]=G[O]=G[k]=G[P]=G[I]=G[R]=G[D]=G[L]=G[N]=!0,G[u]=G[h]=G[E]=G[d]=G[M]=G[f]=G[p]=G[m]=G[A]=G[y]=G[v]=G[_]=G[w]=G[x]=G[T]=!1;var W="object"==typeof e&&e&&e.Object===Object&&e,$="object"==typeof self&&self&&self.Object===Object&&self,X=W||$||Function("return this")(),Y=t&&!t.nodeType&&t,K=Y&&"object"==typeof n&&n&&!n.nodeType&&n,Q=K&&K.exports===Y,J=Q&&W.process,Z=function(){try{return J&&J.binding("util")}catch(e){}}(),ee=Z&&Z.isTypedArray;function te(e,t){var n=e?e.length:0;return!!n&&oe(e,t,0)>-1}function ne(e,t,n){var i=-1,r=e?e.length:0;while(++i<r)if(n(t,e[i]))return!0;return!1}function ie(e,t){var n=-1,i=e?e.length:0;while(++n<i)if(t(e[n],n,e))return!0;return!1}function re(e,t,n,i){var r=e.length,o=n+(i?1:-1);while(i?o--:++o<r)if(t(e[o],o,e))return o;return-1}function oe(e,t,n){if(t!==t)return re(e,se,n);var i=n-1,r=e.length;while(++i<r)if(e[i]===t)return i;return-1}function se(e){return e!==e}function ae(e){return function(t){return null==t?void 0:t[e]}}function le(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function ce(e){return function(t){return e(t)}}function ue(e,t){return e.has(t)}function he(e,t){return null==e?void 0:e[t]}function de(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function fe(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function pe(e,t){return function(n){return e(t(n))}}function me(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ge=Array.prototype,Ae=Function.prototype,ye=Object.prototype,ve=X["__core-js_shared__"],be=function(){var e=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_e=Ae.toString,we=ye.hasOwnProperty,xe=ye.toString,Se=RegExp("^"+_e.call(we).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=X.Symbol,Ee=X.Uint8Array,Me=ye.propertyIsEnumerable,Ce=ge.splice,Oe=pe(Object.keys,Object),ke=zt(X,"DataView"),Pe=zt(X,"Map"),Ie=zt(X,"Promise"),Re=zt(X,"Set"),De=zt(X,"WeakMap"),Le=zt(Object,"create"),Ne=Zt(ke),Be=Zt(Pe),Fe=Zt(Ie),je=Zt(Re),Ue=Zt(De),ze=Te?Te.prototype:void 0,qe=ze?ze.valueOf:void 0,Ve=ze?ze.toString:void 0;function He(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Ge(){this.__data__=Le?Le(null):{}}function We(e){return this.has(e)&&delete this.__data__[e]}function $e(e){var t=this.__data__;if(Le){var n=t[e];return n===o?void 0:n}return we.call(t,e)?t[e]:void 0}function Xe(e){var t=this.__data__;return Le?void 0!==t[e]:we.call(t,e)}function Ye(e,t){var n=this.__data__;return n[e]=Le&&void 0===t?o:t,this}function Ke(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Qe(){this.__data__=[]}function Je(e){var t=this.__data__,n=yt(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Ce.call(t,n,1),!0}function Ze(e){var t=this.__data__,n=yt(t,e);return n<0?void 0:t[n][1]}function et(e){return yt(this.__data__,e)>-1}function tt(e,t){var n=this.__data__,i=yt(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function nt(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function it(){this.__data__={hash:new He,map:new(Pe||Ke),string:new He}}function rt(e){return jt(this,e)["delete"](e)}function ot(e){return jt(this,e).get(e)}function st(e){return jt(this,e).has(e)}function at(e,t){return jt(this,e).set(e,t),this}function lt(e){var t=-1,n=e?e.length:0;this.__data__=new nt;while(++t<n)this.add(e[t])}function ct(e){return this.__data__.set(e,o),this}function ut(e){return this.__data__.has(e)}function ht(e){this.__data__=new Ke(e)}function dt(){this.__data__=new Ke}function ft(e){return this.__data__["delete"](e)}function pt(e){return this.__data__.get(e)}function mt(e){return this.__data__.has(e)}function gt(e,t){var n=this.__data__;if(n instanceof Ke){var r=n.__data__;if(!Pe||r.length<i-1)return r.push([e,t]),this;n=this.__data__=new nt(r)}return n.set(e,t),this}function At(e,t){var n=on(e)||rn(e)?le(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!we.call(e,o)||r&&("length"==o||Ht(o,i))||n.push(o);return n}function yt(e,t){var n=e.length;while(n--)if(nn(e[n][0],t))return n;return-1}function vt(e,t){t=Gt(t,e)?[t]:Dt(t);var n=0,i=t.length;while(null!=e&&n<i)e=e[Jt(t[n++])];return n&&n==i?e:void 0}function bt(e){return xe.call(e)}function _t(e,t){return null!=e&&t in Object(e)}function wt(e,t,n,i,r){return e===t||(null==e||null==t||!un(e)&&!hn(t)?e!==e&&t!==t:xt(e,t,wt,n,i,r))}function xt(e,t,n,i,r,o){var s=on(e),l=on(t),c=h,d=h;s||(c=qt(e),c=c==u?v:c),l||(d=qt(t),d=d==u?v:d);var f=c==v&&!de(e),p=d==v&&!de(t),m=c==d;if(m&&!f)return o||(o=new ht),s||fn(e)?Nt(e,t,n,i,r,o):Bt(e,t,c,n,i,r,o);if(!(r&a)){var g=f&&we.call(e,"__wrapped__"),A=p&&we.call(t,"__wrapped__");if(g||A){var y=g?e.value():e,b=A?t.value():t;return o||(o=new ht),n(y,b,i,r,o)}}return!!m&&(o||(o=new ht),Ft(e,t,n,i,r,o))}function St(e,t,n,i){var r=n.length,o=r,l=!i;if(null==e)return!o;e=Object(e);while(r--){var c=n[r];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}while(++r<o){c=n[r];var u=c[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var f=new ht;if(i)var p=i(h,d,u,e,t,f);if(!(void 0===p?wt(d,h,i,s|a,f):p))return!1}}return!0}function Tt(e){if(!un(e)||$t(e))return!1;var t=ln(e)||de(e)?Se:V;return t.test(Zt(e))}function Et(e){return hn(e)&&cn(e.length)&&!!G[xe.call(e)]}function Mt(e){return"function"==typeof e?e:null==e?yn:"object"==typeof e?on(e)?kt(e[0],e[1]):Ot(e):bn(e)}function Ct(e){if(!Xt(e))return Oe(e);var t=[];for(var n in Object(e))we.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ot(e){var t=Ut(e);return 1==t.length&&t[0][2]?Kt(t[0][0],t[0][1]):function(n){return n===e||St(n,e,t)}}function kt(e,t){return Gt(e)&&Yt(t)?Kt(Jt(e),t):function(n){var i=mn(n,e);return void 0===i&&i===t?gn(n,e):wt(t,i,void 0,s|a)}}function Pt(e){return function(t){return vt(t,e)}}function It(e){if("string"==typeof e)return e;if(dn(e))return Ve?Ve.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}function Rt(e,t,n){var r=-1,o=te,s=e.length,a=!0,l=[],c=l;if(n)a=!1,o=ne;else if(s>=i){var u=t?null:Lt(e);if(u)return me(u);a=!1,o=ue,c=new lt}else c=t?[]:l;e:while(++r<s){var h=e[r],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d===d){var f=c.length;while(f--)if(c[f]===d)continue e;t&&c.push(d),l.push(h)}else o(c,d,n)||(c!==l&&c.push(d),l.push(h))}return l}function Dt(e){return on(e)?e:Qt(e)}He.prototype.clear=Ge,He.prototype["delete"]=We,He.prototype.get=$e,He.prototype.has=Xe,He.prototype.set=Ye,Ke.prototype.clear=Qe,Ke.prototype["delete"]=Je,Ke.prototype.get=Ze,Ke.prototype.has=et,Ke.prototype.set=tt,nt.prototype.clear=it,nt.prototype["delete"]=rt,nt.prototype.get=ot,nt.prototype.has=st,nt.prototype.set=at,lt.prototype.add=lt.prototype.push=ct,lt.prototype.has=ut,ht.prototype.clear=dt,ht.prototype["delete"]=ft,ht.prototype.get=pt,ht.prototype.has=mt,ht.prototype.set=gt;var Lt=Re&&1/me(new Re([,-0]))[1]==l?function(e){return new Re(e)}:vn;function Nt(e,t,n,i,r,o){var l=r&a,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(e);if(h&&o.get(t))return h==t;var d=-1,f=!0,p=r&s?new lt:void 0;o.set(e,t),o.set(t,e);while(++d<c){var m=e[d],g=t[d];if(i)var A=l?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(void 0!==A){if(A)continue;f=!1;break}if(p){if(!ie(t,(function(e,t){if(!p.has(t)&&(m===e||n(m,e,i,r,o)))return p.add(t)}))){f=!1;break}}else if(m!==g&&!n(m,g,i,r,o)){f=!1;break}}return o["delete"](e),o["delete"](t),f}function Bt(e,t,n,i,r,o,l){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new Ee(e),new Ee(t)));case d:case f:case y:return nn(+e,+t);case p:return e.name==t.name&&e.message==t.message;case _:case x:return e==t+"";case A:var c=fe;case w:var u=o&a;if(c||(c=me),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;o|=s,l.set(e,t);var m=Nt(c(e),c(t),i,r,o,l);return l["delete"](e),m;case S:if(qe)return qe.call(e)==qe.call(t)}return!1}function Ft(e,t,n,i,r,o){var s=r&a,l=An(e),c=l.length,u=An(t),h=u.length;if(c!=h&&!s)return!1;var d=c;while(d--){var f=l[d];if(!(s?f in t:we.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var m=!0;o.set(e,t),o.set(t,e);var g=s;while(++d<c){f=l[d];var A=e[f],y=t[f];if(i)var v=s?i(y,A,f,t,e,o):i(A,y,f,e,t,o);if(!(void 0===v?A===y||n(A,y,i,r,o):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(m=!1)}return o["delete"](e),o["delete"](t),m}function jt(e,t){var n=e.__data__;return Wt(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ut(e){var t=An(e),n=t.length;while(n--){var i=t[n],r=e[i];t[n]=[i,r,Yt(r)]}return t}function zt(e,t){var n=he(e,t);return Tt(n)?n:void 0}var qt=bt;function Vt(e,t,n){t=Gt(t,e)?[t]:Dt(t);var i,r=-1,o=t.length;while(++r<o){var s=Jt(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;o=e?e.length:0;return!!o&&cn(o)&&Ht(s,o)&&(on(e)||rn(e))}function Ht(e,t){return t=null==t?c:t,!!t&&("number"==typeof e||H.test(e))&&e>-1&&e%1==0&&e<t}function Gt(e,t){if(on(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!dn(e))||(F.test(e)||!B.test(e)||null!=t&&e in Object(t))}function Wt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function $t(e){return!!be&&be in e}function Xt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ye;return e===n}function Yt(e){return e===e&&!un(e)}function Kt(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(ke&&qt(new ke(new ArrayBuffer(1)))!=M||Pe&&qt(new Pe)!=A||Ie&&qt(Ie.resolve())!=b||Re&&qt(new Re)!=w||De&&qt(new De)!=T)&&(qt=function(e){var t=xe.call(e),n=t==v?e.constructor:void 0,i=n?Zt(n):void 0;if(i)switch(i){case Ne:return M;case Be:return A;case Fe:return b;case je:return w;case Ue:return T}return t});var Qt=tn((function(e){e=pn(e);var t=[];return j.test(e)&&t.push(""),e.replace(U,(function(e,n,i,r){t.push(i?r.replace(q,"$1"):n||e)})),t}));function Jt(e){if("string"==typeof e||dn(e))return e;var t=e+"";return"0"==t&&1/e==-l?"-0":t}function Zt(e){if(null!=e){try{return _e.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function en(e,t){return e&&e.length?Rt(e,Mt(t,2)):[]}function tn(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(tn.Cache||nt),n}function nn(e,t){return e===t||e!==e&&t!==t}function rn(e){return an(e)&&we.call(e,"callee")&&(!Me.call(e,"callee")||xe.call(e)==u)}tn.Cache=nt;var on=Array.isArray;function sn(e){return null!=e&&cn(e.length)&&!ln(e)}function an(e){return hn(e)&&sn(e)}function ln(e){var t=un(e)?xe.call(e):"";return t==m||t==g}function cn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function un(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function hn(e){return!!e&&"object"==typeof e}function dn(e){return"symbol"==typeof e||hn(e)&&xe.call(e)==S}var fn=ee?ce(ee):Et;function pn(e){return null==e?"":It(e)}function mn(e,t,n){var i=null==e?void 0:vt(e,t);return void 0===i?n:i}function gn(e,t){return null!=e&&Vt(e,t,_t)}function An(e){return sn(e)?At(e):Ct(e)}function yn(e){return e}function vn(){}function bn(e){return Gt(e)?ae(Jt(e)):Pt(e)}n.exports=en}).call(this,n("c8ba"),n("62e4")(e))},b978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ALIAS_KEYS",{enumerable:!0,get:function(){return r.ALIAS_KEYS}}),Object.defineProperty(t,"BUILDER_KEYS",{enumerable:!0,get:function(){return r.BUILDER_KEYS}}),Object.defineProperty(t,"DEPRECATED_ALIASES",{enumerable:!0,get:function(){return s.DEPRECATED_ALIASES}}),Object.defineProperty(t,"DEPRECATED_KEYS",{enumerable:!0,get:function(){return r.DEPRECATED_KEYS}}),Object.defineProperty(t,"FLIPPED_ALIAS_KEYS",{enumerable:!0,get:function(){return r.FLIPPED_ALIAS_KEYS}}),Object.defineProperty(t,"NODE_FIELDS",{enumerable:!0,get:function(){return r.NODE_FIELDS}}),Object.defineProperty(t,"NODE_PARENT_VALIDATIONS",{enumerable:!0,get:function(){return r.NODE_PARENT_VALIDATIONS}}),Object.defineProperty(t,"PLACEHOLDERS",{enumerable:!0,get:function(){return o.PLACEHOLDERS}}),Object.defineProperty(t,"PLACEHOLDERS_ALIAS",{enumerable:!0,get:function(){return o.PLACEHOLDERS_ALIAS}}),Object.defineProperty(t,"PLACEHOLDERS_FLIPPED_ALIAS",{enumerable:!0,get:function(){return o.PLACEHOLDERS_FLIPPED_ALIAS}}),t.TYPES=void 0,Object.defineProperty(t,"VISITOR_KEYS",{enumerable:!0,get:function(){return r.VISITOR_KEYS}});var i=n("d192");n("f28d"),n("8b61"),n("b2a2"),n("beaa"),n("6f6e"),n("63bb");var r=n("57de"),o=n("cf44"),s=n("fff8");Object.keys(s.DEPRECATED_ALIASES).forEach(e=>{r.FLIPPED_ALIAS_KEYS[e]=r.FLIPPED_ALIAS_KEYS[s.DEPRECATED_ALIASES[e]]}),i(r.VISITOR_KEYS),i(r.ALIAS_KEYS),i(r.FLIPPED_ALIAS_KEYS),i(r.NODE_FIELDS),i(r.BUILDER_KEYS),i(r.DEPRECATED_KEYS),i(o.PLACEHOLDERS_ALIAS),i(o.PLACEHOLDERS_FLIPPED_ALIAS);const a=[].concat(Object.keys(r.VISITOR_KEYS),Object.keys(r.FLIPPED_ALIAS_KEYS),Object.keys(r.DEPRECATED_KEYS));t.TYPES=a},b980:function(e,t,n){var i=n("d039"),r=n("5c6c");e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},b9c3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("036e");function r(e,t=!0){return"string"===typeof e&&((!t||!(0,i.isKeyword)(e)&&!(0,i.isStrictReservedWord)(e,!0))&&(0,i.isIdentifierName)(e))}},bc31:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"0366":function(e,t,n){var i=n("1c0b");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var i=n("fc6a"),r=n("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return r(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):r(i(e))}},"06cf":function(e,t,n){var i=n("83ab"),r=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=s(e),t=a(t,!0),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var i=n("83ab"),r=n("d039"),o=n("cc12");e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"159b":function(e,t,n){var i=n("da84"),r=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in r){var l=i[a],c=l&&l.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(u){c.forEach=o}}},"17c2":function(e,t,n){"use strict";var i=n("b727").forEach,r=n("a640"),o=r("forEach");e.exports=o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,n){var i=n("d066");e.exports=i("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var i=n("d039"),r=n("b622"),o=n("2d00"),s=r("species");e.exports=function(e){return o>=51||!i((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,n){var i=n("a691"),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},"23e7":function(e,t,n){var i=n("da84"),r=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),l=n("e893"),c=n("94ca");e.exports=function(e,t){var n,u,h,d,f,p,m=e.target,g=e.global,A=e.stat;if(u=g?i:A?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(h in t){if(f=t[h],e.noTargetGet?(p=r(u,h),d=p&&p.value):d=u[h],n=c(g?h:m+(A?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f===typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(u,h,f,e)}}},"241c":function(e,t,n){var i=n("ca84"),r=n("7839"),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},"2d00":function(e,t,n){var i,r,o=n("da84"),s=n("342f"),a=o.process,l=a&&a.versions,c=l&&l.v8;c?(i=c.split("."),r=i[0]<4?1:i[0]+i[1]):s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=i[1]))),e.exports=r&&+r},"342f":function(e,t,n){var i=n("d066");e.exports=i("navigator","userAgent")||""},"37e8":function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("825a"),s=n("df75");e.exports=i?Object.defineProperties:function(e,t){o(e);var n,i=s(t),a=i.length,l=0;while(a>l)r.f(e,n=i[l++],t[n]);return e}},"428f":function(e,t,n){var i=n("da84");e.exports=i},"44ad":function(e,t,n){var i=n("d039"),r=n("c6b6"),o="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},4930:function(e,t,n){var i=n("2d00"),r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},"4d64":function(e,t,n){var i=n("fc6a"),r=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,l=i(t),c=r(l.length),u=o(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").filter,o=n("1dde"),s=o("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(e,t,n){var i=n("a691"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},5135:function(e,t,n){var i=n("7b0b"),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(i(e),t)}},5692:function(e,t,n){var i=n("c430"),r=n("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var i=n("d066"),r=n("241c"),o=n("7418"),s=n("825a");e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"65f0":function(e,t,n){var i=n("861d"),r=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var i,r,o,s=n("7f9a"),a=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),h=n("c6cd"),d=n("f772"),f=n("d012"),p="Object already initialized",m=a.WeakMap,g=function(e){return o(e)?r(e):i(e,{})},A=function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var y=h.state||(h.state=new m),v=y.get,b=y.has,_=y.set;i=function(e,t){if(b.call(y,e))throw new TypeError(p);return t.facade=e,_.call(y,e,t),t},r=function(e){return v.call(y,e)||{}},o=function(e){return b.call(y,e)}}else{var w=d("state");f[w]=!0,i=function(e,t){if(u(e,w))throw new TypeError(p);return t.facade=e,c(e,w,t),t},r=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:i,get:r,has:o,enforce:g,getterFor:A}},"6eeb":function(e,t,n){var i=n("da84"),r=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l,c=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||r(n,"name",t),l=u(n),l.source||(l.source=h.join("string"==typeof t?t:""))),e!==i?(c?!f&&e[t]&&(d=!0):delete e[t],d?e[t]=n:r(e,t,n)):d?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var i=n("428f"),r=n("5135"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||s(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var i=n("1d80");e.exports=function(e){return Object(i(e))}},"7c73":function(e,t,n){var i,r=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),h=">",d="<",f="prototype",p="script",m=u("IE_PROTO"),g=function(){},A=function(e){return d+p+h+e+d+"/"+p+h},y=function(e){e.write(A("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(A("document.F=Object")),e.close(),e.F},b=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=i?y(i):v();var e=s.length;while(e--)delete b[f][s[e]];return b()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=r(e),n=new g,g[f]=null,n[m]=e):n=b(),void 0===t?n:o(n,t)}},"7f9a":function(e,t,n){var i=n("da84"),r=n("8925"),o=i.WeakMap;e.exports="function"===typeof o&&/native code/.test(r(o))},"825a":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var i=n("c04e"),r=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,o(0,n)):e[s]=n}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,n){var i,r,o;(function(n,s){r=[],i=s,o="function"===typeof i?i.apply(t,r):i,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,i,r,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(f.stack)||s.exec(f.stack),l=a&&a[1]||!1,c=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(i,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===l)return h[d];if(l===u&&h[d].innerHTML&&h[d].innerHTML.trim()===r)return h[d]}return null}}return e}))},8925:function(e,t,n){var i=n("c6cd"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},"90e3":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},9112:function(e,t,n){var i=n("83ab"),r=n("9bf2"),o=n("5c6c");e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var i=n("d039"),r=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},"9bf2":function(e,t,n){var i=n("83ab"),r=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),r)try{return a(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a4d3:function(e,t,n){"use strict";var i=n("23e7"),r=n("da84"),o=n("d066"),s=n("c430"),a=n("83ab"),l=n("4930"),c=n("fdbf"),u=n("d039"),h=n("5135"),d=n("e8b5"),f=n("861d"),p=n("825a"),m=n("7b0b"),g=n("fc6a"),A=n("c04e"),y=n("5c6c"),v=n("7c73"),b=n("df75"),_=n("241c"),w=n("057f"),x=n("7418"),S=n("06cf"),T=n("9bf2"),E=n("d1e7"),M=n("9112"),C=n("6eeb"),O=n("5692"),k=n("f772"),P=n("d012"),I=n("90e3"),R=n("b622"),D=n("e538"),L=n("746f"),N=n("d44e"),B=n("69f3"),F=n("b727").forEach,j=k("hidden"),U="Symbol",z="prototype",q=R("toPrimitive"),V=B.set,H=B.getterFor(U),G=Object[z],W=r.Symbol,$=o("JSON","stringify"),X=S.f,Y=T.f,K=w.f,Q=E.f,J=O("symbols"),Z=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),ne=O("wks"),ie=r.QObject,re=!ie||!ie[z]||!ie[z].findChild,oe=a&&u((function(){return 7!=v(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=X(G,t);i&&delete G[t],Y(e,t,n),i&&e!==G&&Y(G,t,i)}:Y,se=function(e,t){var n=J[e]=v(W[z]);return V(n,{type:U,tag:e,description:t}),a||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},le=function(e,t,n){e===G&&le(Z,t,n),p(e);var i=A(t,!0);return p(n),h(J,i)?(n.enumerable?(h(e,j)&&e[j][i]&&(e[j][i]=!1),n=v(n,{enumerable:y(0,!1)})):(h(e,j)||Y(e,j,y(1,{})),e[j][i]=!0),oe(e,i,n)):Y(e,i,n)},ce=function(e,t){p(e);var n=g(t),i=b(n).concat(pe(n));return F(i,(function(t){a&&!he.call(n,t)||le(e,t,n[t])})),e},ue=function(e,t){return void 0===t?v(e):ce(v(e),t)},he=function(e){var t=A(e,!0),n=Q.call(this,t);return!(this===G&&h(J,t)&&!h(Z,t))&&(!(n||!h(this,t)||!h(J,t)||h(this,j)&&this[j][t])||n)},de=function(e,t){var n=g(e),i=A(t,!0);if(n!==G||!h(J,i)||h(Z,i)){var r=X(n,i);return!r||!h(J,i)||h(n,j)&&n[j][i]||(r.enumerable=!0),r}},fe=function(e){var t=K(g(e)),n=[];return F(t,(function(e){h(J,e)||h(P,e)||n.push(e)})),n},pe=function(e){var t=e===G,n=K(t?Z:g(e)),i=[];return F(n,(function(e){!h(J,e)||t&&!h(G,e)||i.push(J[e])})),i};if(l||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===G&&n.call(Z,e),h(this,j)&&h(this[j],t)&&(this[j][t]=!1),oe(this,t,y(1,e))};return a&&re&&oe(G,t,{configurable:!0,set:n}),se(t,e)},C(W[z],"toString",(function(){return H(this).tag})),C(W,"withoutSetter",(function(e){return se(I(e),e)})),E.f=he,T.f=le,S.f=de,_.f=w.f=fe,x.f=pe,D.f=function(e){return se(R(e),e)},a&&(Y(W[z],"description",{configurable:!0,get:function(){return H(this).description}}),s||C(G,"propertyIsEnumerable",he,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),F(b(ne),(function(e){L(e)})),i({target:U,stat:!0,forced:!l},{for:function(e){var t=String(e);if(h(ee,t))return ee[t];var n=W(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(h(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!a},{create:ue,defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:de}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),i({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(m(e))}}),$){var me=!l||u((function(){var e=W();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))}));i({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var i,r=[e],o=1;while(arguments.length>o)r.push(arguments[o++]);if(i=t,(f(t)||void 0!==e)&&!ae(e))return d(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!ae(t))return t}),r[1]=t,$.apply(null,r)}})}W[z][q]||M(W[z],q,W[z].valueOf),N(W,U),P[j]=!0},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},b622:function(e,t,n){var i=n("da84"),r=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),l=n("fdbf"),c=r("wks"),u=i.Symbol,h=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=h("Symbol."+e)),c[e]}},b64b:function(e,t,n){var i=n("23e7"),r=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));i({target:"Object",stat:!0,forced:a},{keys:function(e){return o(r(e))}})},b727:function(e,t,n){var i=n("0366"),r=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,m,g,A){for(var y,v,b=o(p),_=r(b),w=i(m,g,3),x=s(_.length),S=0,T=A||a,E=t?T(p,x):n||d?T(p,0):void 0;x>S;S++)if((f||S in _)&&(y=_[S],v=w(y,S,b),e))if(t)E[S]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:l.call(E,y)}else switch(e){case 4:return!1;case 7:l.call(E,y)}return h?-1:c||u?u:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},c04e:function(e,t,n){var i=n("861d");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var i=n("da84"),r=n("ce4e"),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var i=n("5135"),r=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)!i(s,n)&&i(a,n)&&c.push(n);while(t.length>l)i(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},cc12:function(e,t,n){var i=n("da84"),r=n("861d"),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,n){var i=n("da84"),r=n("9112");e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("428f"),r=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},d44e:function(e,t,n){var i=n("9bf2").f,r=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,s)&&i(e,s,{configurable:!0,value:t})}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var i=n("23e7"),r=n("83ab"),o=n("56ef"),s=n("fc6a"),a=n("06cf"),l=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,n,i=s(e),r=a.f,c=o(i),u={},h=0;while(c.length>h)n=r(i,t=c[h++]),void 0!==n&&l(u,t,n);return u}})},df75:function(e,t,n){var i=n("ca84"),r=n("7839");e.exports=Object.keys||function(e){return i(e,r)}},e439:function(e,t,n){var i=n("23e7"),r=n("d039"),o=n("fc6a"),s=n("06cf").f,a=n("83ab"),l=r((function(){s(1)})),c=!a||l;i({target:"Object",stat:!0,forced:c,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},e538:function(e,t,n){var i=n("b622");t.f=i},e893:function(e,t,n){var i=n("5135"),r=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=r(t),a=s.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||a(e,u,l(t,u))}}},e8b5:function(e,t,n){var i=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},f772:function(e,t,n){var i=n("5692"),r=n("90e3"),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var i=window.document.currentScript,r=n("8875");i=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,n||e.apply(r,o)},a=n&&!i;clearTimeout(i),i=setTimeout(s,t),a&&e.apply(r,o)}},u=function(e){var t=e.__ctx,n=Math.max(Math.min(e.clientWidth/(10*t.ratio),parseFloat(t.maxFontSize)),parseFloat(t.minFontSize))+"px";e.style.fontSize=n},h={delay:200,ratio:1,minFontSize:"16px",maxFontSize:"500px"},d={mounted:function(e,t){var n=t.value,i=l(l({},h),n);e.__ctx=i,e.__debounceHandler=c((function(){u(e)}),i.delay),"undefined"!==typeof window&&window.addEventListener("resize",e.__debounceHandler,{passive:!0}),u(e)},unmounted:function(e){"undefined"!==typeof window&&window.removeEventListener("resize",e.__debounceHandler,{passive:!0})}},f={install:function(e){e.directive("ResizeText",d)},ResizeText:d};t["default"]=f},fc6a:function(e,t,n){var i=n("44ad"),r=n("1d80");e.exports=function(e){return i(r(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var i=n("4930");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})["default"]},bc3a:function(e,t,n){e.exports=n("cee4")},bc7b:function(e,t,n){"use strict";var i=n("589b");n.d(t,"a",(function(){return i["f"]}));var r="firebase",o="9.17.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object(i["g"])(r,o,"app")},bd6f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485"),r=n("eb5b");function o(e,t=e.key||e.property){return!e.computed&&(0,i.isIdentifier)(t)&&(t=(0,r.stringLiteral)(t.name)),t}},bda9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCodePoint=h,t.readInt=u,t.readStringContents=s;var i=function(e){return e>=48&&e<=57};const r={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},o={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function s(e,t,n,i,r,o){const s=n,c=i,u=r;let h="",d=null,f=n;const{length:p}=t;for(;;){if(n>=p){o.unterminated(s,c,u),h+=t.slice(f,n);break}const m=t.charCodeAt(n);if(a(e,m,t,n)){h+=t.slice(f,n);break}if(92===m){h+=t.slice(f,n);const s=l(t,n,i,r,"template"===e,o);null!==s.ch||d?h+=s.ch:d={pos:n,lineStart:i,curLine:r},({pos:n,lineStart:i,curLine:r}=s),f=n}else 8232===m||8233===m?(++n,++r,i=n):10===m||13===m?"template"===e?(h+=t.slice(f,n)+"\n",++n,13===m&&10===t.charCodeAt(n)&&++n,++r,f=i=n):o.unterminated(s,c,u):++n}return{pos:n,str:h,firstInvalidLoc:d,lineStart:i,curLine:r,containsInvalid:!!d}}function a(e,t,n,i){return"template"===e?96===t||36===t&&123===n.charCodeAt(i+1):t===("double"===e?34:39)}function l(e,t,n,i,r,o){const s=!r;t++;const a=e=>({pos:t,ch:e,lineStart:n,curLine:i}),l=e.charCodeAt(t++);switch(l){case 110:return a("\n");case 114:return a("\r");case 120:{let r;return({code:r,pos:t}=c(e,t,n,i,2,!1,s,o)),a(null===r?null:String.fromCharCode(r))}case 117:{let r;return({code:r,pos:t}=h(e,t,n,i,s,o)),a(null===r?null:String.fromCodePoint(r))}case 116:return a("\t");case 98:return a("\b");case 118:return a("\v");case 102:return a("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:n=t,++i;case 8232:case 8233:return a("");case 56:case 57:if(r)return a(null);o.strictNumericEscape(t-1,n,i);default:if(l>=48&&l<=55){const s=t-1,l=e.slice(s,t+2).match(/^[0-7]+/);let c=l[0],u=parseInt(c,8);u>255&&(c=c.slice(0,-1),u=parseInt(c,8)),t+=c.length-1;const h=e.charCodeAt(t);if("0"!==c||56===h||57===h){if(r)return a(null);o.strictNumericEscape(s,n,i)}return a(String.fromCharCode(u))}return a(String.fromCharCode(l))}}function c(e,t,n,i,r,o,s,a){const l=t;let c;return({n:c,pos:t}=u(e,t,n,i,16,r,o,!1,a,!s)),null===c&&(s?a.invalidEscapeSequence(l,n,i):t=l-1),{code:c,pos:t}}function u(e,t,n,s,a,l,c,u,h,d){const f=t,p=16===a?r.hex:r.decBinOct,m=16===a?o.hex:10===a?o.dec:8===a?o.oct:o.bin;let g=!1,A=0;for(let r=0,o=null==l?1/0:l;r<o;++r){const r=e.charCodeAt(t);let o;if(95!==r||"bail"===u){if(o=r>=97?r-97+10:r>=65?r-65+10:i(r)?r-48:1/0,o>=a){if(o<=9&&d)return{n:null,pos:t};if(o<=9&&h.invalidDigit(t,n,s,a))o=0;else{if(!c)break;o=0,g=!0}}++t,A=A*a+o}else{const i=e.charCodeAt(t-1),r=e.charCodeAt(t+1);if(u){if(Number.isNaN(r)||!m(r)||p.has(i)||p.has(r)){if(d)return{n:null,pos:t};h.unexpectedNumericSeparator(t,n,s)}}else{if(d)return{n:null,pos:t};h.numericSeparatorInEscapeSequence(t,n,s)}++t}}return t===f||null!=l&&t-f!==l||g?{n:null,pos:t}:{n:A,pos:t}}function h(e,t,n,i,r,o){const s=e.charCodeAt(t);let a;if(123===s){if(++t,({code:a,pos:t}=c(e,t,n,i,e.indexOf("}",t)-t,!0,r,o)),++t,null!==a&&a>1114111){if(!r)return{code:null,pos:t};o.invalidCodePoint(t,n,i)}}else({code:a,pos:t}=c(e,t,n,i,4,!1,r,o));return{code:a,pos:t}}},be09:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("62ea"),r=n("252a");function o(e){const t=r.BUILDER_KEYS[e.type];for(const n of t)(0,i.default)(e,n,e[n]);return e}},be8c:function(e,t,n){"use strict";n.d(t,"a",(function(){return Tt})),n.d(t,"b",(function(){return vi})),n.d(t,"c",(function(){return ft})),n.d(t,"d",(function(){return dt})),n.d(t,"e",(function(){return gt}));var i=n("1fd5"),r=n("589b"),o=n("e691");function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;var a=n("22e5");
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i["b"]("auth","Firebase",l()),h=new o["b"]("@firebase/auth");function d(e,...t){h.logLevel<=o["a"].ERROR&&h.error(`Auth (${r["a"]}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e,...t){throw g(e,...t)}function p(e,...t){return g(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n}),o=new i["b"]("auth","Firebase",r);return o.create(t,{appName:e.name})}function g(e,...t){if("string"!==typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return u.create(e,...t)}function A(e,t,...n){if(!e)throw g(t,...n)}function y(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function v(e,t){e||y(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Map;function _(e){v(e instanceof Function,"Expected a class definition");let t=b.get(e);return t?(v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,b.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(e,t){const n=Object(r["b"])(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if(Object(i["o"])(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}const o=n.initialize({options:t});return o}function x(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===E()||"https:"===E()}function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(T()||Object(i["y"])()||"connection"in navigator))||navigator.onLine}function C(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e,t){this.shortDelay=e,this.longDelay=t,v(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(i["C"])()||Object(i["F"])()}get(){return M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(e,t){v(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},R=new O(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function L(e,t,n,r,o={}){return N(e,o,async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=Object(i["K"])(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),P.fetch()(F(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function N(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},I),t);try{const t=new j(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw U(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw U(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw U(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw U(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw m(e,a,s);f(e,a)}}catch(o){if(o instanceof i["c"])throw o;f(e,"network-request-failed")}}async function B(e,t,n,i,r={}){const o=await L(e,t,n,i,r);return"mfaPendingCredential"in o&&f(e,"multi-factor-auth-required",{_serverResponse:o}),o}function F(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?k(e.config,r):`${e.config.apiScheme}://${r}`}class j{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function U(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=p(e,t,i);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z(e,t){return L(e,"POST","/v1/accounts:delete",t)}async function q(e,t){return L(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H(e,t=!1){const n=Object(i["v"])(e),r=await n.getIdToken(t),o=W(r);A(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:o,token:r,authTime:V(G(o.auth_time)),issuedAtTime:V(G(o.iat)),expirationTime:V(G(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function G(e){return 1e3*Number(e)}function W(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(i["h"])(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(o){return d("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function $(e){const t=W(e);return A(t,"internal-error"),A("undefined"!==typeof t.exp,"internal-error"),A("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof i["c"]&&Y(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Y({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(e){var t;const n=e.auth,i=await e.getIdToken(),r=await X(e,q(n,{idToken:i}));A(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?te(o.providerUserInfo):[],a=ee(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Q(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function Z(e){const t=Object(i["v"])(e);await J(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ee(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}function te(e){return e.map(e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ne(e,t){const n=await N(e,{},async()=>{const n=Object(i["K"])({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=F(e,r,"/v1/token","key="+o),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",P.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A("undefined"!==typeof e.idToken,"internal-error"),A("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return A(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await ne(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,o=new ie;return n&&(A("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),i&&(A("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),r&&(A("number"===typeof r,"internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ie,this.toJSON())}_performRefresh(){return y("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e,t){A("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class oe{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Q(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await X(this,this.stsTokenManager.getToken(this.auth,e));return A(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return H(this,e)}reload(){return Z(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new oe(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await J(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await X(this,z(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:x}=t;A(v&&x,e,"internal-error");const S=ie.fromJSON(this.name,x);A("string"===typeof v,e,"internal-error"),re(u,e.name),re(h,e.name),A("boolean"===typeof b,e,"internal-error"),A("boolean"===typeof _,e,"internal-error"),re(d,e.name),re(f,e.name),re(p,e.name),re(m,e.name),re(g,e.name),re(y,e.name);const T=new oe({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(T.providerData=w.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const i=new ie;i.updateFromServerResponse(t);const r=new oe({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await J(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}se.type="NONE";const ae=se;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e,t,n){return`firebase:${e}:${t}:${n}`}class ce{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=le(this.userKey,i.apiKey,r),this.fullPersistenceKey=le("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oe._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ce(_(ae),e,n);const i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=i[0]||_(ae);const o=le(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=oe._fromJSON(e,t);c!==r&&(s=n),r=c;break}}catch(l){}const a=i.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(o)}catch(l){}})),new ce(r,e,n)):new ce(r,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(he(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ge(t))return"Blackberry";if(Ae(t))return"Webos";if(de(t))return"Safari";if((t.includes("chrome/")||fe(t))&&!t.includes("edge/"))return"Chrome";if(me(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function he(e=Object(i["w"])()){return/firefox\//i.test(e)}function de(e=Object(i["w"])()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fe(e=Object(i["w"])()){return/crios\//i.test(e)}function pe(e=Object(i["w"])()){return/iemobile/i.test(e)}function me(e=Object(i["w"])()){return/android/i.test(e)}function ge(e=Object(i["w"])()){return/blackberry/i.test(e)}function Ae(e=Object(i["w"])()){return/webos/i.test(e)}function ye(e=Object(i["w"])()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ve(e=Object(i["w"])()){var t;return ye(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function be(){return Object(i["A"])()&&10===document.documentMode}function _e(e=Object(i["w"])()){return ye(e)||me(e)||Ae(e)||ge(e)||/windows phone/i.test(e)||pe(e)}function we(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e,t=[]){let n;switch(e){case"Browser":n=ue(Object(i["w"])());break;case"Worker":n=`${ue(Object(i["w"])())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r["a"]}/${o}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,i)=>{try{const i=e(t);n(i)}catch(r){i(r)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Me(this),this.idTokenSubscription=new Me(this),this.beforeStateQueue=new Se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ce.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await J(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(i["v"])(e):null;return t&&A(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&A(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i["b"]("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_(e)||this._popupRedirectResolver;A(t,this,"argument-error"),this.redirectPersistenceManager=await ce.create(this,[_(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>r(this.currentUser)),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Ee(e){return Object(i["v"])(e)}class Me{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(i["m"])(e=>this.observer=e)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(e,t,n){const i=Ee(e);A(i._canInitEmulator,i,"emulator-config-failed"),A(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Oe(t),{host:s,port:a}=ke(t),l=null===a?"":":"+a;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Ie()}function Oe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ke(e){const t=Oe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Pe(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Pe(t)}}}function Pe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Ie(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return y("not implemented")}_getIdTokenResponse(e){return y("not implemented")}_linkToIdToken(e,t){return y("not implemented")}_getReauthenticationResolver(e){return y("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function De(e,t){return L(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Le(e,t){return B(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ne(e,t){return B(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}async function Be(e,t){return B(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe extends Re{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Fe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Fe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Le(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ne(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Be(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function je(e,t){return B(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue="http://localhost";class ze extends Re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ze(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=s(t,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ze(n,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return je(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,je(e,t)}buildRequest(){const e={requestUri:Ue,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=Object(i["K"])(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qe(e,t){return L(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}async function Ve(e,t){return B(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}async function He(e,t){const n=await B(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw U(e,"account-exists-with-different-credential",n);return n}const Ge={["USER_NOT_FOUND"]:"user-not-found"};async function We(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return B(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,n),Ge)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends Re{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $e({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $e({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Ve(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return He(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return We(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new $e({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ye(e){const t=Object(i["L"])(Object(i["q"])(e))["link"],n=t?Object(i["L"])(Object(i["q"])(t))["deep_link_id"]:null,r=Object(i["L"])(Object(i["q"])(e))["deep_link_id"],o=r?Object(i["L"])(Object(i["q"])(r))["link"]:null;return o||r||n||t||e}class Ke{constructor(e){var t,n,r,o,s,a;const l=Object(i["L"])(Object(i["q"])(e)),c=null!==(t=l["apiKey"])&&void 0!==t?t:null,u=null!==(n=l["oobCode"])&&void 0!==n?n:null,h=Xe(null!==(r=l["mode"])&&void 0!==r?r:null);A(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(o=l["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(s=l["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(e){const t=Ye(e);try{return new Ke(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qe{constructor(){this.providerId=Qe.PROVIDER_ID}static credential(e,t){return Fe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ke.parseLink(t);return A(n,"argument-error"),Fe._fromEmailAndCode(e,n.code,n.tenantId)}}Qe.PROVIDER_ID="password",Qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Je{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends Je{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class et extends Ze{constructor(){super("facebook.com")}static credential(e){return ze._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return et.credential(e.oauthAccessToken)}catch(t){return null}}}et.FACEBOOK_SIGN_IN_METHOD="facebook.com",et.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tt extends Ze{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ze._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return tt.credential(t,n)}catch(i){return null}}}tt.GOOGLE_SIGN_IN_METHOD="google.com",tt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nt extends Ze{constructor(){super("github.com")}static credential(e){return ze._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return nt.credential(e.oauthAccessToken)}catch(t){return null}}}nt.GITHUB_SIGN_IN_METHOD="github.com",nt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class it extends Ze{constructor(){super("twitter.com")}static credential(e,t){return ze._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return it.credential(t,n)}catch(i){return null}}}it.TWITTER_SIGN_IN_METHOD="twitter.com",it.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await oe._fromIdTokenResponse(e,n,i),o=ot(n),s=new rt({user:r,providerId:o,_tokenResponse:n,operationType:t});return s}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=ot(n);return new rt({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function ot(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class st extends i["c"]{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,st.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new st(e,t,n,i)}}function at(e,t,n,i){const r="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return r.catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw st._fromErrorAndOperation(e,n,t,i);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lt(e,t,n=!1){const i=await X(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rt._forOperation(e,"link",i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ct(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const o=await X(e,at(i,r,t,e),n);A(o.idToken,i,"internal-error");const s=W(o.idToken);A(s,i,"internal-error");const{sub:a}=s;return A(e.uid===a,i,"user-mismatch"),rt._forOperation(e,r,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&f(i,"user-mismatch"),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ut(e,t,n=!1){const i="signIn",r=await at(e,i,t),o=await rt._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ht(e,t){return B(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dt(e,t){const n=Ee(e),i=await ht(n,{token:t,returnSecureToken:!0}),r=await rt._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ft(e,t){return Object(i["v"])(e).setPersistence(t)}function pt(e,t,n,r){return Object(i["v"])(e).onIdTokenChanged(t,n,r)}function mt(e,t,n){return Object(i["v"])(e).beforeAuthStateChanged(t,n)}function gt(e){return Object(i["v"])(e).signOut()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function At(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}function yt(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}new WeakMap;const vt="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vt,"1"),this.storage.removeItem(vt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){const e=Object(i["w"])();return de(e)||ye(e)}const wt=1e3,xt=10;class St extends bt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_t()&&we(),this.fallbackToPolling=_e(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);be()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xt):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},wt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}St.type="LOCAL";const Tt=St;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends bt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Et.type="SESSION";const Mt=Et;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(e){return Promise.all(e.map(async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ot(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,o=this.handlersMap[i];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async e=>e(t.origin,r)),a=await Ct(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function kt(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.receivers=[];class Pt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((s,a)=>{const l=kt("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),s(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return window}function Rt(e){It().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return"undefined"!==typeof It()["WorkerGlobalScope"]&&"function"===typeof It()["importScripts"]}async function Lt(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function Nt(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Bt(){return Dt()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="firebaseLocalStorageDb",jt=1,Ut="firebaseLocalStorage",zt="fbase_key";class qt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vt(e,t){return e.transaction([Ut],t?"readwrite":"readonly").objectStore(Ut)}function Ht(){const e=indexedDB.deleteDatabase(Ft);return new qt(e).toPromise()}function Gt(){const e=indexedDB.open(Ft,jt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ut,{keyPath:zt})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ut)?t(n):(n.close(),await Ht(),t(await Gt()))})})}async function Wt(e,t,n){const i=Vt(e,!0).put({[zt]:t,value:n});return new qt(i).toPromise()}async function $t(e,t){const n=Vt(e,!1).get(t),i=await new qt(n).toPromise();return void 0===i?null:i.value}function Xt(e,t){const n=Vt(e,!0).delete(t);return new qt(n).toPromise()}const Yt=800,Kt=3;class Qt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Gt()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>Kt)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ot._getInstance(Bt()),this.receiver._subscribe("keyChanged",async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Lt(),!this.activeServiceWorker)return;this.sender=new Pt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&Nt()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gt();return await Wt(e,vt,"1"),await Xt(e,vt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>$t(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Vt(e,!1).getAll();return new qt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qt.type="LOCAL";const Jt=Qt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}function en(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tn(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function nn(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",tn().appendChild(i)})}function rn(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
rn("rcb"),new O(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const on="recaptcha";async function sn(e,t,n){var i;const r=await n.verify();try{let o;if(A("string"===typeof r,e,"argument-error"),A(n.type===on,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){A("enroll"===t.type,e,"internal-error");const n=await At(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{A("signin"===t.type,e,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;A(n,e,"missing-multi-factor-info");const s=await Zt(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await qe(e,{phoneNumber:o.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class an{constructor(e){this.providerId=an.PROVIDER_ID,this.auth=Ee(e)}verifyPhoneNumber(e,t){return sn(this.auth,e,Object(i["v"])(t))}static credential(e,t){return $e._fromVerification(e,t)}static credentialFromResult(e){const t=e;return an.credentialFromTaggedObject(t)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?$e._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ln(e,t){return t?_(t):(A(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.PROVIDER_ID="phone",an.PHONE_SIGN_IN_METHOD="phone";class cn extends Re{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function un(e){return ut(e.auth,new cn(e),e.bypassAuthState)}function hn(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),ct(n,new cn(e),e.bypassAuthState)}async function dn(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),lt(n,new cn(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return un;case"linkViaPopup":case"linkViaRedirect":return dn;case"reauthViaPopup":case"reauthViaRedirect":return hn;default:f(this.auth,"internal-error")}}resolve(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new O(2e3,1e4);class mn extends fn{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,mn.currentPopupAction&&mn.currentPopupAction.cancel(),mn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return A(e,this.auth,"internal-error"),e}async onExecution(){v(1===this.filter.length,"Popup operations only handle one event");const e=kt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(e,pn.get())};e()}}mn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const gn="pendingRedirect",An=new Map;class yn extends fn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=An.get(this.auth._key());if(!e){try{const t=await vn(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}An.set(this.auth._key(),e)}return this.bypassAuthState||An.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function vn(e,t){const n=wn(t),i=_n(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}function bn(e,t){An.set(e._key(),t)}function _n(e){return _(e._redirectPersistence)}function wn(e){return le(gn,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xn(e,t,n=!1){const i=Ee(e),r=ln(i,t),o=new yn(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Sn=6e5;class Tn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cn(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Mn(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sn&&this.cachedEventUids.clear(),this.cachedEventUids.has(En(e))}saveEventToCache(e){this.cachedEventUids.add(En(e)),this.lastProcessedEventTime=Date.now()}}function En(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Mn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function Cn(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mn(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function On(e,t={}){return L(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pn=/^https?/;async function In(e){if(e.config.emulator)return;const{authorizedDomains:t}=await On(e);for(const i of t)try{if(Rn(i))return}catch(n){}f(e,"unauthorized-domain")}function Rn(e){const t=S(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Pn.test(n))return!1;if(kn.test(e))return i===e;const r=e.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+r+"|"+r+")$","i");return o.test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new O(3e4,6e4);function Ln(){const e=It().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Nn(e){return new Promise((t,n)=>{var i,r,o;function s(){Ln(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ln(),n(p(e,"network-request-failed"))},timeout:Dn.get()})}if(null===(r=null===(i=It().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=It().gapi)||void 0===o?void 0:o.load)){const t=rn("iframefcb");return It()[t]=()=>{gapi.load?s():n(p(e,"network-request-failed"))},nn("https://apis.google.com/js/api.js?onload="+t).catch(e=>n(e))}s()}}).catch(e=>{throw Bn=null,e})}let Bn=null;function Fn(e){return Bn=Bn||Nn(e),Bn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new O(5e3,15e3),Un="__/auth/iframe",zn="emulator/auth/iframe",qn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hn(e){const t=e.config;A(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,zn):`https://${e.config.authDomain}/${Un}`,o={apiKey:t.apiKey,appName:e.name,v:r["a"]},s=Vn.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${Object(i["K"])(o).slice(1)}`}async function Gn(e){const t=await Fn(e),n=It().gapi;return A(n,e,"internal-error"),t.open({where:document.body,url:Hn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qn,dontclear:!0},t=>new Promise(async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=p(e,"network-request-failed"),o=It().setTimeout(()=>{i(r)},jn.get());function s(){It().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{i(r)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$n=500,Xn=600,Yn="_blank",Kn="http://localhost";class Qn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Jn(e,t,n,r=$n,o=Xn){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Wn),{width:r.toString(),height:o.toString(),top:s,left:a}),u=Object(i["w"])().toLowerCase();n&&(l=fe(u)?Yn:n),he(u)&&(t=t||Kn,c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(ve(u)&&"_self"!==l)return Zn(t||"",l),new Qn(null);const d=window.open(t||"",l,h);A(d,e,"popup-blocked");try{d.focus()}catch(f){}return new Qn(d)}function Zn(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="__/auth/handler",ti="emulator/auth/handler";function ni(e,t,n,o,s,a){A(e.config.authDomain,e,"auth-domain-config-required"),A(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:r["a"],eventId:s};if(t instanceof Je){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",Object(i["z"])(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Ze){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${ii(e)}?${Object(i["K"])(c).slice(1)}`}function ii({config:e}){return e.emulator?k(e,ti):`https://${e.authDomain}/${ei}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="webStorageSupport";class oi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mt,this._completeRedirectFn=xn,this._overrideRedirectResult=bn}async _openPopup(e,t,n,i){var r;v(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const o=ni(e,t,n,S(),i);return Jn(e,o,kt())}async _openRedirect(e,t,n,i){return await this._originValidation(e),Rt(ni(e,t,n,S(),i)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(v(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Gn(e),n=new Tn(e);return t.register("authEvent",t=>{A(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const i=n.onEvent(t.authEvent);return{status:i?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(ri,{type:ri},n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[ri];void 0!==r&&t(!!r),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=In(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _e()||de()||ye()}}const si=oi;class ai{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return y("unexpected MultiFactorSessionType")}}}class li extends ai{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new li(e)}_finalizeEnroll(e,t,n){return yt(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return en(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ci{constructor(){}static assertion(e){return li._fromCredential(e)}}ci.FACTOR_ID="phone";var ui="@firebase/auth",hi="0.21.3";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class di{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function pi(e){Object(r["c"])(new a["a"]("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),{apiKey:o,authDomain:s}=i.options;return((t,i)=>{A(o&&!o.includes(":"),"invalid-api-key",{appName:t.name}),A(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:t.name});const r={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(e)},a=new Te(t,i,r);return x(a,n),a})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{const i=e.getProvider("auth-internal");i.initialize()})),Object(r["c"])(new a["a"]("auth-internal",e=>{const t=Ee(e.getProvider("auth").getImmediate());return(e=>new di(e))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Object(r["g"])(ui,hi,fi(e)),Object(r["g"])(ui,hi,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=300,gi=Object(i["u"])("authIdTokenMaxAge")||mi;let Ai=null;const yi=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>gi)return;const r=null===n||void 0===n?void 0:n.token;Ai!==r&&(Ai=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer "+r}:{}}))};function vi(e=Object(r["e"])()){const t=Object(r["b"])(e,"auth");if(t.isInitialized())return t.getImmediate();const n=w(e,{popupRedirectResolver:si,persistence:[Jt,Tt,Mt]}),o=Object(i["u"])("authTokenSyncURL");if(o){const e=yi(o);mt(n,e,()=>e(n.currentUser)),pt(n,t=>e(t))}const s=Object(i["s"])("auth");return s&&Ce(n,"http://"+s),n}pi("Browser")},beaa:function(e,t,n){"use strict";var i=n("57de"),r=n("cf44");const o=(0,i.defineAliasedType)("Miscellaneous");o("Noop",{visitor:[]}),o("Placeholder",{visitor:[],builder:["expectedNode","name"],fields:{name:{validate:(0,i.assertNodeType)("Identifier")},expectedNode:{validate:(0,i.assertOneOf)(...r.PLACEHOLDERS)}}}),o("V8IntrinsicIdentifier",{builder:["name"],fields:{name:{validate:(0,i.assertValueType)("string")}}})},bf78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var i=n("b978"),r=n("c485");const o=Function.call.bind(Object.prototype.hasOwnProperty);function s(e,t,n,i){return e&&"string"===typeof e.type?c(e,t,n,i):e}function a(e,t,n,i){return Array.isArray(e)?e.map(e=>s(e,t,n,i)):s(e,t,n,i)}function l(e,t=!0,n=!1){return c(e,t,n,new Map)}function c(e,t=!0,n=!1,s){if(!e)return e;const{type:l}=e,c={type:e.type};if((0,r.isIdentifier)(e))c.name=e.name,o(e,"optional")&&"boolean"===typeof e.optional&&(c.optional=e.optional),o(e,"typeAnnotation")&&(c.typeAnnotation=t?a(e.typeAnnotation,!0,n,s):e.typeAnnotation);else{if(!o(i.NODE_FIELDS,l))throw new Error(`Unknown node type: "${l}"`);for(const h of Object.keys(i.NODE_FIELDS[l]))o(e,h)&&(c[h]=t?(0,r.isFile)(e)&&"comments"===h?u(e.comments,t,n,s):a(e[h],!0,n,s):e[h])}return o(e,"loc")&&(c.loc=n?null:e.loc),o(e,"leadingComments")&&(c.leadingComments=u(e.leadingComments,t,n,s)),o(e,"innerComments")&&(c.innerComments=u(e.innerComments,t,n,s)),o(e,"trailingComments")&&(c.trailingComments=u(e.trailingComments,t,n,s)),o(e,"extra")&&(c.extra=Object.assign({},e.extra)),c}function u(e,t,n,i){return e&&t?e.map(e=>{const t=i.get(e);if(t)return t;const{type:r,value:o,loc:s}=e,a={type:r,value:o,loc:s};return n&&(a.loc=null),i.set(e,a),a}):e}},c04e:function(e,t,n){var i=n("c65b"),r=n("861d"),o=n("d9b5"),s=n("dc4a"),a=n("485a"),l=n("b622"),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,l=s(e,u);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c10d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485"),r=n("9046");function o(e){return(0,i.isVariableDeclaration)(e)&&("var"!==e.kind||e[r.BLOCK_SCOPED_SYMBOL])}},c1f7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("c485");function r(e,t,n){const o=[].concat(e),s=Object.create(null);while(o.length){const e=o.shift();if(!e)continue;const a=r.keys[e.type];if((0,i.isIdentifier)(e))if(t){const t=s[e.name]=s[e.name]||[];t.push(e)}else s[e.name]=e;else if(!(0,i.isExportDeclaration)(e)||(0,i.isExportAllDeclaration)(e)){if(n){if((0,i.isFunctionDeclaration)(e)){o.push(e.id);continue}if((0,i.isFunctionExpression)(e))continue}if(a)for(let t=0;t<a.length;t++){const n=a[t],i=e[n];i&&(Array.isArray(i)?o.push(...i):o.push(i))}}else(0,i.isDeclaration)(e.declaration)&&o.push(e.declaration)}return s}r.keys={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],DeclareInterface:["id"],DeclareTypeAlias:["id"],DeclareOpaqueType:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ArrowFunctionExpression:["params"],ObjectMethod:["params"],ClassMethod:["params"],ClassPrivateMethod:["params"],ForInStatement:["left"],ForOfStatement:["left"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]}},c345:function(e,t,n){"use strict";var i=n("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},c36e:function(e,t,n){(function(t){var n=200,i="__lodash_hash_undefined__",r=1/0,o="[object Function]",s="[object GeneratorFunction]",a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,h=c||u||Function("return this")();function d(e,t){var n=e?e.length:0;return!!n&&m(e,t,0)>-1}function f(e,t,n){var i=-1,r=e?e.length:0;while(++i<r)if(n(t,e[i]))return!0;return!1}function p(e,t,n,i){var r=e.length,o=n+(i?1:-1);while(i?o--:++o<r)if(t(e[o],o,e))return o;return-1}function m(e,t,n){if(t!==t)return p(e,g,n);var i=n-1,r=e.length;while(++i<r)if(e[i]===t)return i;return-1}function g(e){return e!==e}function A(e,t){return e.has(t)}function y(e,t){return null==e?void 0:e[t]}function v(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var _=Array.prototype,w=Function.prototype,x=Object.prototype,S=h["__core-js_shared__"],T=function(){var e=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),E=w.toString,M=x.hasOwnProperty,C=x.toString,O=RegExp("^"+E.call(M).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=_.splice,P=se(h,"Map"),I=se(h,"Set"),R=se(Object,"create");function D(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function L(){this.__data__=R?R(null):{}}function N(e){return this.has(e)&&delete this.__data__[e]}function B(e){var t=this.__data__;if(R){var n=t[e];return n===i?void 0:n}return M.call(t,e)?t[e]:void 0}function F(e){var t=this.__data__;return R?void 0!==t[e]:M.call(t,e)}function j(e,t){var n=this.__data__;return n[e]=R&&void 0===t?i:t,this}function U(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function z(){this.__data__=[]}function q(e){var t=this.__data__,n=te(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():k.call(t,n,1),!0}function V(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]}function H(e){return te(this.__data__,e)>-1}function G(e,t){var n=this.__data__,i=te(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function W(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function $(){this.__data__={hash:new D,map:new(P||U),string:new D}}function X(e){return oe(this,e)["delete"](e)}function Y(e){return oe(this,e).get(e)}function K(e){return oe(this,e).has(e)}function Q(e,t){return oe(this,e).set(e,t),this}function J(e){var t=-1,n=e?e.length:0;this.__data__=new W;while(++t<n)this.add(e[t])}function Z(e){return this.__data__.set(e,i),this}function ee(e){return this.__data__.has(e)}function te(e,t){var n=e.length;while(n--)if(he(e[n][0],t))return n;return-1}function ne(e){if(!fe(e)||le(e))return!1;var t=de(e)||v(e)?O:l;return t.test(ce(e))}function ie(e,t,i){var r=-1,o=d,s=e.length,a=!0,l=[],c=l;if(i)a=!1,o=f;else if(s>=n){var u=t?null:re(e);if(u)return b(u);a=!1,o=A,c=new J}else c=t?[]:l;e:while(++r<s){var h=e[r],p=t?t(h):h;if(h=i||0!==h?h:0,a&&p===p){var m=c.length;while(m--)if(c[m]===p)continue e;t&&c.push(p),l.push(h)}else o(c,p,i)||(c!==l&&c.push(p),l.push(h))}return l}D.prototype.clear=L,D.prototype["delete"]=N,D.prototype.get=B,D.prototype.has=F,D.prototype.set=j,U.prototype.clear=z,U.prototype["delete"]=q,U.prototype.get=V,U.prototype.has=H,U.prototype.set=G,W.prototype.clear=$,W.prototype["delete"]=X,W.prototype.get=Y,W.prototype.has=K,W.prototype.set=Q,J.prototype.add=J.prototype.push=Z,J.prototype.has=ee;var re=I&&1/b(new I([,-0]))[1]==r?function(e){return new I(e)}:pe;function oe(e,t){var n=e.__data__;return ae(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=y(e,t);return ne(n)?n:void 0}function ae(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function le(e){return!!T&&T in e}function ce(e){if(null!=e){try{return E.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ue(e){return e&&e.length?ie(e):[]}function he(e,t){return e===t||e!==e&&t!==t}function de(e){var t=fe(e)?C.call(e):"";return t==o||t==s}function fe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function pe(){}e.exports=ue}).call(this,n("c8ba"))},c401:function(e,t,n){"use strict";var i=n("c532"),r=n("4c3d");e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},c430:function(e,t){e.exports=!1},c485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAccessor=vr,t.isAnyTypeAnnotation=Fe,t.isArgumentPlaceholder=pn,t.isArrayExpression=o,t.isArrayPattern=ie,t.isArrayTypeAnnotation=je,t.isArrowFunctionExpression=re,t.isAssignmentExpression=s,t.isAssignmentPattern=ne,t.isAwaitExpression=Ee,t.isBigIntLiteral=Ce,t.isBinary=zi,t.isBinaryExpression=a,t.isBindExpression=mn,t.isBlock=Hi,t.isBlockParent=Vi,t.isBlockStatement=h,t.isBooleanLiteral=I,t.isBooleanLiteralTypeAnnotation=ze,t.isBooleanTypeAnnotation=Ue,t.isBreakStatement=d,t.isCallExpression=f,t.isCatchClause=p,t.isClass=mr,t.isClassAccessorProperty=Re,t.isClassBody=oe,t.isClassDeclaration=ae,t.isClassExpression=se,t.isClassImplements=Ve,t.isClassMethod=ye,t.isClassPrivateMethod=Le,t.isClassPrivateProperty=De,t.isClassProperty=Ie,t.isCompletionStatement=$i,t.isConditional=Xi,t.isConditionalExpression=m,t.isContinueStatement=g,t.isDebuggerStatement=A,t.isDecimalLiteral=wn,t.isDeclaration=ir,t.isDeclareClass=He,t.isDeclareExportAllDeclaration=Ze,t.isDeclareExportDeclaration=Je,t.isDeclareFunction=Ge,t.isDeclareInterface=We,t.isDeclareModule=$e,t.isDeclareModuleExports=Xe,t.isDeclareOpaqueType=Ke,t.isDeclareTypeAlias=Ye,t.isDeclareVariable=Qe,t.isDeclaredPredicate=et,t.isDecorator=An,t.isDirective=c,t.isDirectiveLiteral=u,t.isDoExpression=yn,t.isDoWhileStatement=y,t.isEmptyStatement=v,t.isEmptyTypeAnnotation=ht,t.isEnumBody=Er,t.isEnumBooleanBody=jt,t.isEnumBooleanMember=Vt,t.isEnumDeclaration=Ft,t.isEnumDefaultedMember=Wt,t.isEnumMember=Mr,t.isEnumNumberBody=Ut,t.isEnumNumberMember=Ht,t.isEnumStringBody=zt,t.isEnumStringMember=Gt,t.isEnumSymbolBody=qt,t.isExistsTypeAnnotation=tt,t.isExportAllDeclaration=le,t.isExportDeclaration=Ar,t.isExportDefaultDeclaration=ce,t.isExportDefaultSpecifier=vn,t.isExportNamedDeclaration=ue,t.isExportNamespaceSpecifier=Oe,t.isExportSpecifier=he,t.isExpression=Ui,t.isExpressionStatement=b,t.isExpressionWrapper=Qi,t.isFile=_,t.isFlow=_r,t.isFlowBaseAnnotation=xr,t.isFlowDeclaration=Sr,t.isFlowPredicate=Tr,t.isFlowType=wr,t.isFor=Ji,t.isForInStatement=w,t.isForOfStatement=de,t.isForStatement=x,t.isForXStatement=Zi,t.isFunction=er,t.isFunctionDeclaration=S,t.isFunctionExpression=T,t.isFunctionParent=tr,t.isFunctionTypeAnnotation=nt,t.isFunctionTypeParam=it,t.isGenericTypeAnnotation=rt,t.isIdentifier=E,t.isIfStatement=M,t.isImmutable=lr,t.isImport=Me,t.isImportAttribute=gn,t.isImportDeclaration=fe,t.isImportDefaultSpecifier=pe,t.isImportNamespaceSpecifier=me,t.isImportOrExportDeclaration=gr,t.isImportSpecifier=ge,t.isIndexedAccessType=$t,t.isInferredPredicate=ot,t.isInterfaceDeclaration=at,t.isInterfaceExtends=st,t.isInterfaceTypeAnnotation=lt,t.isInterpreterDirective=l,t.isIntersectionTypeAnnotation=ct,t.isJSX=Cr,t.isJSXAttribute=Yt,t.isJSXClosingElement=Kt,t.isJSXClosingFragment=un,t.isJSXElement=Qt,t.isJSXEmptyExpression=Jt,t.isJSXExpressionContainer=Zt,t.isJSXFragment=ln,t.isJSXIdentifier=tn,t.isJSXMemberExpression=nn,t.isJSXNamespacedName=rn,t.isJSXOpeningElement=on,t.isJSXOpeningFragment=cn,t.isJSXSpreadAttribute=sn,t.isJSXSpreadChild=en,t.isJSXText=an,t.isLVal=or,t.isLabeledStatement=C,t.isLiteral=ar,t.isLogicalExpression=D,t.isLoop=Yi,t.isMemberExpression=L,t.isMetaProperty=Ae,t.isMethod=ur,t.isMiscellaneous=Or,t.isMixedTypeAnnotation=ut,t.isModuleDeclaration=Fr,t.isModuleExpression=xn,t.isModuleSpecifier=yr,t.isNewExpression=N,t.isNoop=hn,t.isNullLiteral=P,t.isNullLiteralTypeAnnotation=qe,t.isNullableTypeAnnotation=dt,t.isNumberLiteral=Dr,t.isNumberLiteralTypeAnnotation=ft,t.isNumberTypeAnnotation=pt,t.isNumericLiteral=k,t.isObjectExpression=F,t.isObjectMember=hr,t.isObjectMethod=j,t.isObjectPattern=ve,t.isObjectProperty=U,t.isObjectTypeAnnotation=mt,t.isObjectTypeCallProperty=At,t.isObjectTypeIndexer=yt,t.isObjectTypeInternalSlot=gt,t.isObjectTypeProperty=vt,t.isObjectTypeSpreadProperty=bt,t.isOpaqueType=_t,t.isOptionalCallExpression=Pe,t.isOptionalIndexedAccessType=Xt,t.isOptionalMemberExpression=ke,t.isParenthesizedExpression=H,t.isPattern=pr,t.isPatternLike=rr,t.isPipelineBareFunction=En,t.isPipelinePrimaryTopicReference=Mn,t.isPipelineTopicExpression=Tn,t.isPlaceholder=dn,t.isPrivate=br,t.isPrivateName=Ne,t.isProgram=B,t.isProperty=dr,t.isPureish=nr,t.isQualifiedTypeIdentifier=wt,t.isRecordExpression=bn,t.isRegExpLiteral=R,t.isRegexLiteral=Lr,t.isRestElement=z,t.isRestProperty=Nr,t.isReturnStatement=q,t.isScopable=qi,t.isSequenceExpression=V,t.isSpreadElement=be,t.isSpreadProperty=Br,t.isStandardized=ji,t.isStatement=Gi,t.isStaticBlock=Be,t.isStringLiteral=O,t.isStringLiteralTypeAnnotation=xt,t.isStringTypeAnnotation=St,t.isSuper=_e,t.isSwitchCase=G,t.isSwitchStatement=W,t.isSymbolTypeAnnotation=Tt,t.isTSAnyKeyword=Bn,t.isTSArrayType=ii,t.isTSAsExpression=wi,t.isTSBaseType=Rr,t.isTSBigIntKeyword=jn,t.isTSBooleanKeyword=Fn,t.isTSCallSignatureDeclaration=In,t.isTSConditionalType=ui,t.isTSConstructSignatureDeclaration=Rn,t.isTSConstructorType=Jn,t.isTSDeclareFunction=On,t.isTSDeclareMethod=kn,t.isTSEntityName=sr,t.isTSEnumDeclaration=Ti,t.isTSEnumMember=Ei,t.isTSExportAssignment=Ri,t.isTSExpressionWithTypeArguments=Ai,t.isTSExternalModuleReference=Pi,t.isTSFunctionType=Qn,t.isTSImportEqualsDeclaration=ki,t.isTSImportType=Oi,t.isTSIndexSignature=Nn,t.isTSIndexedAccessType=pi,t.isTSInferType=hi,t.isTSInstantiationExpression=_i,t.isTSInterfaceBody=vi,t.isTSInterfaceDeclaration=yi,t.isTSIntersectionType=ci,t.isTSIntrinsicKeyword=Un,t.isTSLiteralType=gi,t.isTSMappedType=mi,t.isTSMethodSignature=Ln,t.isTSModuleBlock=Ci,t.isTSModuleDeclaration=Mi,t.isTSNamedTupleMember=ai,t.isTSNamespaceExportDeclaration=Di,t.isTSNeverKeyword=zn,t.isTSNonNullExpression=Ii,t.isTSNullKeyword=qn,t.isTSNumberKeyword=Vn,t.isTSObjectKeyword=Hn,t.isTSOptionalType=oi,t.isTSParameterProperty=Cn,t.isTSParenthesizedType=di,t.isTSPropertySignature=Dn,t.isTSQualifiedName=Pn,t.isTSRestType=si,t.isTSSatisfiesExpression=xi,t.isTSStringKeyword=Gn,t.isTSSymbolKeyword=Wn,t.isTSThisType=Kn,t.isTSTupleType=ri,t.isTSType=Ir,t.isTSTypeAliasDeclaration=bi,t.isTSTypeAnnotation=Li,t.isTSTypeAssertion=Si,t.isTSTypeElement=Pr,t.isTSTypeLiteral=ni,t.isTSTypeOperator=fi,t.isTSTypeParameter=Fi,t.isTSTypeParameterDeclaration=Bi,t.isTSTypeParameterInstantiation=Ni,t.isTSTypePredicate=ei,t.isTSTypeQuery=ti,t.isTSTypeReference=Zn,t.isTSUndefinedKeyword=$n,t.isTSUnionType=li,t.isTSUnknownKeyword=Xn,t.isTSVoidKeyword=Yn,t.isTaggedTemplateExpression=we,t.isTemplateElement=xe,t.isTemplateLiteral=Se,t.isTerminatorless=Wi,t.isThisExpression=$,t.isThisTypeAnnotation=Et,t.isThrowStatement=X,t.isTopicReference=Sn,t.isTryStatement=Y,t.isTupleExpression=_n,t.isTupleTypeAnnotation=Mt,t.isTypeAlias=Ot,t.isTypeAnnotation=kt,t.isTypeCastExpression=Pt,t.isTypeParameter=It,t.isTypeParameterDeclaration=Rt,t.isTypeParameterInstantiation=Dt,t.isTypeScript=kr,t.isTypeofTypeAnnotation=Ct,t.isUnaryExpression=K,t.isUnaryLike=fr,t.isUnionTypeAnnotation=Lt,t.isUpdateExpression=Q,t.isUserWhitespacable=cr,t.isV8IntrinsicIdentifier=fn,t.isVariableDeclaration=J,t.isVariableDeclarator=Z,t.isVariance=Nt,t.isVoidTypeAnnotation=Bt,t.isWhile=Ki,t.isWhileStatement=ee,t.isWithStatement=te,t.isYieldExpression=Te;var i=n("392e"),r=n("a9c7");function o(e,t){if(!e)return!1;const n=e.type;return"ArrayExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function s(e,t){if(!e)return!1;const n=e.type;return"AssignmentExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function a(e,t){if(!e)return!1;const n=e.type;return"BinaryExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function l(e,t){if(!e)return!1;const n=e.type;return"InterpreterDirective"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function c(e,t){if(!e)return!1;const n=e.type;return"Directive"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function u(e,t){if(!e)return!1;const n=e.type;return"DirectiveLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function h(e,t){if(!e)return!1;const n=e.type;return"BlockStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function d(e,t){if(!e)return!1;const n=e.type;return"BreakStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function f(e,t){if(!e)return!1;const n=e.type;return"CallExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function p(e,t){if(!e)return!1;const n=e.type;return"CatchClause"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function m(e,t){if(!e)return!1;const n=e.type;return"ConditionalExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function g(e,t){if(!e)return!1;const n=e.type;return"ContinueStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function A(e,t){if(!e)return!1;const n=e.type;return"DebuggerStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function y(e,t){if(!e)return!1;const n=e.type;return"DoWhileStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function v(e,t){if(!e)return!1;const n=e.type;return"EmptyStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function b(e,t){if(!e)return!1;const n=e.type;return"ExpressionStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function _(e,t){if(!e)return!1;const n=e.type;return"File"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function w(e,t){if(!e)return!1;const n=e.type;return"ForInStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function x(e,t){if(!e)return!1;const n=e.type;return"ForStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function S(e,t){if(!e)return!1;const n=e.type;return"FunctionDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function T(e,t){if(!e)return!1;const n=e.type;return"FunctionExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function E(e,t){if(!e)return!1;const n=e.type;return"Identifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function M(e,t){if(!e)return!1;const n=e.type;return"IfStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function C(e,t){if(!e)return!1;const n=e.type;return"LabeledStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function O(e,t){if(!e)return!1;const n=e.type;return"StringLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function k(e,t){if(!e)return!1;const n=e.type;return"NumericLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function P(e,t){if(!e)return!1;const n=e.type;return"NullLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function I(e,t){if(!e)return!1;const n=e.type;return"BooleanLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function R(e,t){if(!e)return!1;const n=e.type;return"RegExpLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function D(e,t){if(!e)return!1;const n=e.type;return"LogicalExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function L(e,t){if(!e)return!1;const n=e.type;return"MemberExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function N(e,t){if(!e)return!1;const n=e.type;return"NewExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function B(e,t){if(!e)return!1;const n=e.type;return"Program"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function F(e,t){if(!e)return!1;const n=e.type;return"ObjectExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function j(e,t){if(!e)return!1;const n=e.type;return"ObjectMethod"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function U(e,t){if(!e)return!1;const n=e.type;return"ObjectProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function z(e,t){if(!e)return!1;const n=e.type;return"RestElement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function q(e,t){if(!e)return!1;const n=e.type;return"ReturnStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function V(e,t){if(!e)return!1;const n=e.type;return"SequenceExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function H(e,t){if(!e)return!1;const n=e.type;return"ParenthesizedExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function G(e,t){if(!e)return!1;const n=e.type;return"SwitchCase"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function W(e,t){if(!e)return!1;const n=e.type;return"SwitchStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function $(e,t){if(!e)return!1;const n=e.type;return"ThisExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function X(e,t){if(!e)return!1;const n=e.type;return"ThrowStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Y(e,t){if(!e)return!1;const n=e.type;return"TryStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function K(e,t){if(!e)return!1;const n=e.type;return"UnaryExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Q(e,t){if(!e)return!1;const n=e.type;return"UpdateExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function J(e,t){if(!e)return!1;const n=e.type;return"VariableDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Z(e,t){if(!e)return!1;const n=e.type;return"VariableDeclarator"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ee(e,t){if(!e)return!1;const n=e.type;return"WhileStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function te(e,t){if(!e)return!1;const n=e.type;return"WithStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ne(e,t){if(!e)return!1;const n=e.type;return"AssignmentPattern"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ie(e,t){if(!e)return!1;const n=e.type;return"ArrayPattern"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function re(e,t){if(!e)return!1;const n=e.type;return"ArrowFunctionExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function oe(e,t){if(!e)return!1;const n=e.type;return"ClassBody"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function se(e,t){if(!e)return!1;const n=e.type;return"ClassExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ae(e,t){if(!e)return!1;const n=e.type;return"ClassDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function le(e,t){if(!e)return!1;const n=e.type;return"ExportAllDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ce(e,t){if(!e)return!1;const n=e.type;return"ExportDefaultDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ue(e,t){if(!e)return!1;const n=e.type;return"ExportNamedDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function he(e,t){if(!e)return!1;const n=e.type;return"ExportSpecifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function de(e,t){if(!e)return!1;const n=e.type;return"ForOfStatement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function fe(e,t){if(!e)return!1;const n=e.type;return"ImportDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function pe(e,t){if(!e)return!1;const n=e.type;return"ImportDefaultSpecifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function me(e,t){if(!e)return!1;const n=e.type;return"ImportNamespaceSpecifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ge(e,t){if(!e)return!1;const n=e.type;return"ImportSpecifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ae(e,t){if(!e)return!1;const n=e.type;return"MetaProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ye(e,t){if(!e)return!1;const n=e.type;return"ClassMethod"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ve(e,t){if(!e)return!1;const n=e.type;return"ObjectPattern"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function be(e,t){if(!e)return!1;const n=e.type;return"SpreadElement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function _e(e,t){if(!e)return!1;const n=e.type;return"Super"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function we(e,t){if(!e)return!1;const n=e.type;return"TaggedTemplateExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function xe(e,t){if(!e)return!1;const n=e.type;return"TemplateElement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Se(e,t){if(!e)return!1;const n=e.type;return"TemplateLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Te(e,t){if(!e)return!1;const n=e.type;return"YieldExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ee(e,t){if(!e)return!1;const n=e.type;return"AwaitExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Me(e,t){if(!e)return!1;const n=e.type;return"Import"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ce(e,t){if(!e)return!1;const n=e.type;return"BigIntLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Oe(e,t){if(!e)return!1;const n=e.type;return"ExportNamespaceSpecifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ke(e,t){if(!e)return!1;const n=e.type;return"OptionalMemberExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Pe(e,t){if(!e)return!1;const n=e.type;return"OptionalCallExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ie(e,t){if(!e)return!1;const n=e.type;return"ClassProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Re(e,t){if(!e)return!1;const n=e.type;return"ClassAccessorProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function De(e,t){if(!e)return!1;const n=e.type;return"ClassPrivateProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Le(e,t){if(!e)return!1;const n=e.type;return"ClassPrivateMethod"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ne(e,t){if(!e)return!1;const n=e.type;return"PrivateName"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Be(e,t){if(!e)return!1;const n=e.type;return"StaticBlock"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Fe(e,t){if(!e)return!1;const n=e.type;return"AnyTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function je(e,t){if(!e)return!1;const n=e.type;return"ArrayTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ue(e,t){if(!e)return!1;const n=e.type;return"BooleanTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ze(e,t){if(!e)return!1;const n=e.type;return"BooleanLiteralTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function qe(e,t){if(!e)return!1;const n=e.type;return"NullLiteralTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ve(e,t){if(!e)return!1;const n=e.type;return"ClassImplements"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function He(e,t){if(!e)return!1;const n=e.type;return"DeclareClass"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ge(e,t){if(!e)return!1;const n=e.type;return"DeclareFunction"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function We(e,t){if(!e)return!1;const n=e.type;return"DeclareInterface"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function $e(e,t){if(!e)return!1;const n=e.type;return"DeclareModule"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Xe(e,t){if(!e)return!1;const n=e.type;return"DeclareModuleExports"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ye(e,t){if(!e)return!1;const n=e.type;return"DeclareTypeAlias"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ke(e,t){if(!e)return!1;const n=e.type;return"DeclareOpaqueType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Qe(e,t){if(!e)return!1;const n=e.type;return"DeclareVariable"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Je(e,t){if(!e)return!1;const n=e.type;return"DeclareExportDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ze(e,t){if(!e)return!1;const n=e.type;return"DeclareExportAllDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function et(e,t){if(!e)return!1;const n=e.type;return"DeclaredPredicate"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function tt(e,t){if(!e)return!1;const n=e.type;return"ExistsTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function nt(e,t){if(!e)return!1;const n=e.type;return"FunctionTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function it(e,t){if(!e)return!1;const n=e.type;return"FunctionTypeParam"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function rt(e,t){if(!e)return!1;const n=e.type;return"GenericTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ot(e,t){if(!e)return!1;const n=e.type;return"InferredPredicate"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function st(e,t){if(!e)return!1;const n=e.type;return"InterfaceExtends"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function at(e,t){if(!e)return!1;const n=e.type;return"InterfaceDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function lt(e,t){if(!e)return!1;const n=e.type;return"InterfaceTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ct(e,t){if(!e)return!1;const n=e.type;return"IntersectionTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ut(e,t){if(!e)return!1;const n=e.type;return"MixedTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ht(e,t){if(!e)return!1;const n=e.type;return"EmptyTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function dt(e,t){if(!e)return!1;const n=e.type;return"NullableTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ft(e,t){if(!e)return!1;const n=e.type;return"NumberLiteralTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function pt(e,t){if(!e)return!1;const n=e.type;return"NumberTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function mt(e,t){if(!e)return!1;const n=e.type;return"ObjectTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function gt(e,t){if(!e)return!1;const n=e.type;return"ObjectTypeInternalSlot"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function At(e,t){if(!e)return!1;const n=e.type;return"ObjectTypeCallProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function yt(e,t){if(!e)return!1;const n=e.type;return"ObjectTypeIndexer"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function vt(e,t){if(!e)return!1;const n=e.type;return"ObjectTypeProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function bt(e,t){if(!e)return!1;const n=e.type;return"ObjectTypeSpreadProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function _t(e,t){if(!e)return!1;const n=e.type;return"OpaqueType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function wt(e,t){if(!e)return!1;const n=e.type;return"QualifiedTypeIdentifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function xt(e,t){if(!e)return!1;const n=e.type;return"StringLiteralTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function St(e,t){if(!e)return!1;const n=e.type;return"StringTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Tt(e,t){if(!e)return!1;const n=e.type;return"SymbolTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Et(e,t){if(!e)return!1;const n=e.type;return"ThisTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Mt(e,t){if(!e)return!1;const n=e.type;return"TupleTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ct(e,t){if(!e)return!1;const n=e.type;return"TypeofTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ot(e,t){if(!e)return!1;const n=e.type;return"TypeAlias"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function kt(e,t){if(!e)return!1;const n=e.type;return"TypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Pt(e,t){if(!e)return!1;const n=e.type;return"TypeCastExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function It(e,t){if(!e)return!1;const n=e.type;return"TypeParameter"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Rt(e,t){if(!e)return!1;const n=e.type;return"TypeParameterDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Dt(e,t){if(!e)return!1;const n=e.type;return"TypeParameterInstantiation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Lt(e,t){if(!e)return!1;const n=e.type;return"UnionTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Nt(e,t){if(!e)return!1;const n=e.type;return"Variance"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Bt(e,t){if(!e)return!1;const n=e.type;return"VoidTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ft(e,t){if(!e)return!1;const n=e.type;return"EnumDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function jt(e,t){if(!e)return!1;const n=e.type;return"EnumBooleanBody"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ut(e,t){if(!e)return!1;const n=e.type;return"EnumNumberBody"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function zt(e,t){if(!e)return!1;const n=e.type;return"EnumStringBody"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function qt(e,t){if(!e)return!1;const n=e.type;return"EnumSymbolBody"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Vt(e,t){if(!e)return!1;const n=e.type;return"EnumBooleanMember"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ht(e,t){if(!e)return!1;const n=e.type;return"EnumNumberMember"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Gt(e,t){if(!e)return!1;const n=e.type;return"EnumStringMember"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Wt(e,t){if(!e)return!1;const n=e.type;return"EnumDefaultedMember"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function $t(e,t){if(!e)return!1;const n=e.type;return"IndexedAccessType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Xt(e,t){if(!e)return!1;const n=e.type;return"OptionalIndexedAccessType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Yt(e,t){if(!e)return!1;const n=e.type;return"JSXAttribute"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Kt(e,t){if(!e)return!1;const n=e.type;return"JSXClosingElement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Qt(e,t){if(!e)return!1;const n=e.type;return"JSXElement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Jt(e,t){if(!e)return!1;const n=e.type;return"JSXEmptyExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Zt(e,t){if(!e)return!1;const n=e.type;return"JSXExpressionContainer"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function en(e,t){if(!e)return!1;const n=e.type;return"JSXSpreadChild"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function tn(e,t){if(!e)return!1;const n=e.type;return"JSXIdentifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function nn(e,t){if(!e)return!1;const n=e.type;return"JSXMemberExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function rn(e,t){if(!e)return!1;const n=e.type;return"JSXNamespacedName"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function on(e,t){if(!e)return!1;const n=e.type;return"JSXOpeningElement"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function sn(e,t){if(!e)return!1;const n=e.type;return"JSXSpreadAttribute"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function an(e,t){if(!e)return!1;const n=e.type;return"JSXText"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ln(e,t){if(!e)return!1;const n=e.type;return"JSXFragment"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function cn(e,t){if(!e)return!1;const n=e.type;return"JSXOpeningFragment"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function un(e,t){if(!e)return!1;const n=e.type;return"JSXClosingFragment"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function hn(e,t){if(!e)return!1;const n=e.type;return"Noop"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function dn(e,t){if(!e)return!1;const n=e.type;return"Placeholder"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function fn(e,t){if(!e)return!1;const n=e.type;return"V8IntrinsicIdentifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function pn(e,t){if(!e)return!1;const n=e.type;return"ArgumentPlaceholder"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function mn(e,t){if(!e)return!1;const n=e.type;return"BindExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function gn(e,t){if(!e)return!1;const n=e.type;return"ImportAttribute"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function An(e,t){if(!e)return!1;const n=e.type;return"Decorator"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function yn(e,t){if(!e)return!1;const n=e.type;return"DoExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function vn(e,t){if(!e)return!1;const n=e.type;return"ExportDefaultSpecifier"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function bn(e,t){if(!e)return!1;const n=e.type;return"RecordExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function _n(e,t){if(!e)return!1;const n=e.type;return"TupleExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function wn(e,t){if(!e)return!1;const n=e.type;return"DecimalLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function xn(e,t){if(!e)return!1;const n=e.type;return"ModuleExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Sn(e,t){if(!e)return!1;const n=e.type;return"TopicReference"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Tn(e,t){if(!e)return!1;const n=e.type;return"PipelineTopicExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function En(e,t){if(!e)return!1;const n=e.type;return"PipelineBareFunction"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Mn(e,t){if(!e)return!1;const n=e.type;return"PipelinePrimaryTopicReference"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Cn(e,t){if(!e)return!1;const n=e.type;return"TSParameterProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function On(e,t){if(!e)return!1;const n=e.type;return"TSDeclareFunction"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function kn(e,t){if(!e)return!1;const n=e.type;return"TSDeclareMethod"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Pn(e,t){if(!e)return!1;const n=e.type;return"TSQualifiedName"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function In(e,t){if(!e)return!1;const n=e.type;return"TSCallSignatureDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Rn(e,t){if(!e)return!1;const n=e.type;return"TSConstructSignatureDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Dn(e,t){if(!e)return!1;const n=e.type;return"TSPropertySignature"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ln(e,t){if(!e)return!1;const n=e.type;return"TSMethodSignature"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Nn(e,t){if(!e)return!1;const n=e.type;return"TSIndexSignature"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Bn(e,t){if(!e)return!1;const n=e.type;return"TSAnyKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Fn(e,t){if(!e)return!1;const n=e.type;return"TSBooleanKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function jn(e,t){if(!e)return!1;const n=e.type;return"TSBigIntKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Un(e,t){if(!e)return!1;const n=e.type;return"TSIntrinsicKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function zn(e,t){if(!e)return!1;const n=e.type;return"TSNeverKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function qn(e,t){if(!e)return!1;const n=e.type;return"TSNullKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Vn(e,t){if(!e)return!1;const n=e.type;return"TSNumberKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Hn(e,t){if(!e)return!1;const n=e.type;return"TSObjectKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Gn(e,t){if(!e)return!1;const n=e.type;return"TSStringKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Wn(e,t){if(!e)return!1;const n=e.type;return"TSSymbolKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function $n(e,t){if(!e)return!1;const n=e.type;return"TSUndefinedKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Xn(e,t){if(!e)return!1;const n=e.type;return"TSUnknownKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Yn(e,t){if(!e)return!1;const n=e.type;return"TSVoidKeyword"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Kn(e,t){if(!e)return!1;const n=e.type;return"TSThisType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Qn(e,t){if(!e)return!1;const n=e.type;return"TSFunctionType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Jn(e,t){if(!e)return!1;const n=e.type;return"TSConstructorType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Zn(e,t){if(!e)return!1;const n=e.type;return"TSTypeReference"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ei(e,t){if(!e)return!1;const n=e.type;return"TSTypePredicate"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ti(e,t){if(!e)return!1;const n=e.type;return"TSTypeQuery"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ni(e,t){if(!e)return!1;const n=e.type;return"TSTypeLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ii(e,t){if(!e)return!1;const n=e.type;return"TSArrayType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ri(e,t){if(!e)return!1;const n=e.type;return"TSTupleType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function oi(e,t){if(!e)return!1;const n=e.type;return"TSOptionalType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function si(e,t){if(!e)return!1;const n=e.type;return"TSRestType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ai(e,t){if(!e)return!1;const n=e.type;return"TSNamedTupleMember"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function li(e,t){if(!e)return!1;const n=e.type;return"TSUnionType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ci(e,t){if(!e)return!1;const n=e.type;return"TSIntersectionType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ui(e,t){if(!e)return!1;const n=e.type;return"TSConditionalType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function hi(e,t){if(!e)return!1;const n=e.type;return"TSInferType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function di(e,t){if(!e)return!1;const n=e.type;return"TSParenthesizedType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function fi(e,t){if(!e)return!1;const n=e.type;return"TSTypeOperator"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function pi(e,t){if(!e)return!1;const n=e.type;return"TSIndexedAccessType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function mi(e,t){if(!e)return!1;const n=e.type;return"TSMappedType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function gi(e,t){if(!e)return!1;const n=e.type;return"TSLiteralType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ai(e,t){if(!e)return!1;const n=e.type;return"TSExpressionWithTypeArguments"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function yi(e,t){if(!e)return!1;const n=e.type;return"TSInterfaceDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function vi(e,t){if(!e)return!1;const n=e.type;return"TSInterfaceBody"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function bi(e,t){if(!e)return!1;const n=e.type;return"TSTypeAliasDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function _i(e,t){if(!e)return!1;const n=e.type;return"TSInstantiationExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function wi(e,t){if(!e)return!1;const n=e.type;return"TSAsExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function xi(e,t){if(!e)return!1;const n=e.type;return"TSSatisfiesExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Si(e,t){if(!e)return!1;const n=e.type;return"TSTypeAssertion"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ti(e,t){if(!e)return!1;const n=e.type;return"TSEnumDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ei(e,t){if(!e)return!1;const n=e.type;return"TSEnumMember"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Mi(e,t){if(!e)return!1;const n=e.type;return"TSModuleDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ci(e,t){if(!e)return!1;const n=e.type;return"TSModuleBlock"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Oi(e,t){if(!e)return!1;const n=e.type;return"TSImportType"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ki(e,t){if(!e)return!1;const n=e.type;return"TSImportEqualsDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Pi(e,t){if(!e)return!1;const n=e.type;return"TSExternalModuleReference"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ii(e,t){if(!e)return!1;const n=e.type;return"TSNonNullExpression"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ri(e,t){if(!e)return!1;const n=e.type;return"TSExportAssignment"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Di(e,t){if(!e)return!1;const n=e.type;return"TSNamespaceExportDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Li(e,t){if(!e)return!1;const n=e.type;return"TSTypeAnnotation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Ni(e,t){if(!e)return!1;const n=e.type;return"TSTypeParameterInstantiation"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Bi(e,t){if(!e)return!1;const n=e.type;return"TSTypeParameterDeclaration"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Fi(e,t){if(!e)return!1;const n=e.type;return"TSTypeParameter"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function ji(e,t){if(!e)return!1;const n=e.type;return("ArrayExpression"===n||"AssignmentExpression"===n||"BinaryExpression"===n||"InterpreterDirective"===n||"Directive"===n||"DirectiveLiteral"===n||"BlockStatement"===n||"BreakStatement"===n||"CallExpression"===n||"CatchClause"===n||"ConditionalExpression"===n||"ContinueStatement"===n||"DebuggerStatement"===n||"DoWhileStatement"===n||"EmptyStatement"===n||"ExpressionStatement"===n||"File"===n||"ForInStatement"===n||"ForStatement"===n||"FunctionDeclaration"===n||"FunctionExpression"===n||"Identifier"===n||"IfStatement"===n||"LabeledStatement"===n||"StringLiteral"===n||"NumericLiteral"===n||"NullLiteral"===n||"BooleanLiteral"===n||"RegExpLiteral"===n||"LogicalExpression"===n||"MemberExpression"===n||"NewExpression"===n||"Program"===n||"ObjectExpression"===n||"ObjectMethod"===n||"ObjectProperty"===n||"RestElement"===n||"ReturnStatement"===n||"SequenceExpression"===n||"ParenthesizedExpression"===n||"SwitchCase"===n||"SwitchStatement"===n||"ThisExpression"===n||"ThrowStatement"===n||"TryStatement"===n||"UnaryExpression"===n||"UpdateExpression"===n||"VariableDeclaration"===n||"VariableDeclarator"===n||"WhileStatement"===n||"WithStatement"===n||"AssignmentPattern"===n||"ArrayPattern"===n||"ArrowFunctionExpression"===n||"ClassBody"===n||"ClassExpression"===n||"ClassDeclaration"===n||"ExportAllDeclaration"===n||"ExportDefaultDeclaration"===n||"ExportNamedDeclaration"===n||"ExportSpecifier"===n||"ForOfStatement"===n||"ImportDeclaration"===n||"ImportDefaultSpecifier"===n||"ImportNamespaceSpecifier"===n||"ImportSpecifier"===n||"MetaProperty"===n||"ClassMethod"===n||"ObjectPattern"===n||"SpreadElement"===n||"Super"===n||"TaggedTemplateExpression"===n||"TemplateElement"===n||"TemplateLiteral"===n||"YieldExpression"===n||"AwaitExpression"===n||"Import"===n||"BigIntLiteral"===n||"ExportNamespaceSpecifier"===n||"OptionalMemberExpression"===n||"OptionalCallExpression"===n||"ClassProperty"===n||"ClassAccessorProperty"===n||"ClassPrivateProperty"===n||"ClassPrivateMethod"===n||"PrivateName"===n||"StaticBlock"===n||"Placeholder"===n&&("Identifier"===e.expectedNode||"StringLiteral"===e.expectedNode||"BlockStatement"===e.expectedNode||"ClassBody"===e.expectedNode))&&("undefined"===typeof t||(0,i.default)(e,t))}function Ui(e,t){if(!e)return!1;const n=e.type;return("ArrayExpression"===n||"AssignmentExpression"===n||"BinaryExpression"===n||"CallExpression"===n||"ConditionalExpression"===n||"FunctionExpression"===n||"Identifier"===n||"StringLiteral"===n||"NumericLiteral"===n||"NullLiteral"===n||"BooleanLiteral"===n||"RegExpLiteral"===n||"LogicalExpression"===n||"MemberExpression"===n||"NewExpression"===n||"ObjectExpression"===n||"SequenceExpression"===n||"ParenthesizedExpression"===n||"ThisExpression"===n||"UnaryExpression"===n||"UpdateExpression"===n||"ArrowFunctionExpression"===n||"ClassExpression"===n||"MetaProperty"===n||"Super"===n||"TaggedTemplateExpression"===n||"TemplateLiteral"===n||"YieldExpression"===n||"AwaitExpression"===n||"Import"===n||"BigIntLiteral"===n||"OptionalMemberExpression"===n||"OptionalCallExpression"===n||"TypeCastExpression"===n||"JSXElement"===n||"JSXFragment"===n||"BindExpression"===n||"DoExpression"===n||"RecordExpression"===n||"TupleExpression"===n||"DecimalLiteral"===n||"ModuleExpression"===n||"TopicReference"===n||"PipelineTopicExpression"===n||"PipelineBareFunction"===n||"PipelinePrimaryTopicReference"===n||"TSInstantiationExpression"===n||"TSAsExpression"===n||"TSSatisfiesExpression"===n||"TSTypeAssertion"===n||"TSNonNullExpression"===n||"Placeholder"===n&&("Expression"===e.expectedNode||"Identifier"===e.expectedNode||"StringLiteral"===e.expectedNode))&&("undefined"===typeof t||(0,i.default)(e,t))}function zi(e,t){if(!e)return!1;const n=e.type;return("BinaryExpression"===n||"LogicalExpression"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function qi(e,t){if(!e)return!1;const n=e.type;return("BlockStatement"===n||"CatchClause"===n||"DoWhileStatement"===n||"ForInStatement"===n||"ForStatement"===n||"FunctionDeclaration"===n||"FunctionExpression"===n||"Program"===n||"ObjectMethod"===n||"SwitchStatement"===n||"WhileStatement"===n||"ArrowFunctionExpression"===n||"ClassExpression"===n||"ClassDeclaration"===n||"ForOfStatement"===n||"ClassMethod"===n||"ClassPrivateMethod"===n||"StaticBlock"===n||"TSModuleBlock"===n||"Placeholder"===n&&"BlockStatement"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function Vi(e,t){if(!e)return!1;const n=e.type;return("BlockStatement"===n||"CatchClause"===n||"DoWhileStatement"===n||"ForInStatement"===n||"ForStatement"===n||"FunctionDeclaration"===n||"FunctionExpression"===n||"Program"===n||"ObjectMethod"===n||"SwitchStatement"===n||"WhileStatement"===n||"ArrowFunctionExpression"===n||"ForOfStatement"===n||"ClassMethod"===n||"ClassPrivateMethod"===n||"StaticBlock"===n||"TSModuleBlock"===n||"Placeholder"===n&&"BlockStatement"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function Hi(e,t){if(!e)return!1;const n=e.type;return("BlockStatement"===n||"Program"===n||"TSModuleBlock"===n||"Placeholder"===n&&"BlockStatement"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function Gi(e,t){if(!e)return!1;const n=e.type;return("BlockStatement"===n||"BreakStatement"===n||"ContinueStatement"===n||"DebuggerStatement"===n||"DoWhileStatement"===n||"EmptyStatement"===n||"ExpressionStatement"===n||"ForInStatement"===n||"ForStatement"===n||"FunctionDeclaration"===n||"IfStatement"===n||"LabeledStatement"===n||"ReturnStatement"===n||"SwitchStatement"===n||"ThrowStatement"===n||"TryStatement"===n||"VariableDeclaration"===n||"WhileStatement"===n||"WithStatement"===n||"ClassDeclaration"===n||"ExportAllDeclaration"===n||"ExportDefaultDeclaration"===n||"ExportNamedDeclaration"===n||"ForOfStatement"===n||"ImportDeclaration"===n||"DeclareClass"===n||"DeclareFunction"===n||"DeclareInterface"===n||"DeclareModule"===n||"DeclareModuleExports"===n||"DeclareTypeAlias"===n||"DeclareOpaqueType"===n||"DeclareVariable"===n||"DeclareExportDeclaration"===n||"DeclareExportAllDeclaration"===n||"InterfaceDeclaration"===n||"OpaqueType"===n||"TypeAlias"===n||"EnumDeclaration"===n||"TSDeclareFunction"===n||"TSInterfaceDeclaration"===n||"TSTypeAliasDeclaration"===n||"TSEnumDeclaration"===n||"TSModuleDeclaration"===n||"TSImportEqualsDeclaration"===n||"TSExportAssignment"===n||"TSNamespaceExportDeclaration"===n||"Placeholder"===n&&("Statement"===e.expectedNode||"Declaration"===e.expectedNode||"BlockStatement"===e.expectedNode))&&("undefined"===typeof t||(0,i.default)(e,t))}function Wi(e,t){if(!e)return!1;const n=e.type;return("BreakStatement"===n||"ContinueStatement"===n||"ReturnStatement"===n||"ThrowStatement"===n||"YieldExpression"===n||"AwaitExpression"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function $i(e,t){if(!e)return!1;const n=e.type;return("BreakStatement"===n||"ContinueStatement"===n||"ReturnStatement"===n||"ThrowStatement"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Xi(e,t){if(!e)return!1;const n=e.type;return("ConditionalExpression"===n||"IfStatement"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Yi(e,t){if(!e)return!1;const n=e.type;return("DoWhileStatement"===n||"ForInStatement"===n||"ForStatement"===n||"WhileStatement"===n||"ForOfStatement"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Ki(e,t){if(!e)return!1;const n=e.type;return("DoWhileStatement"===n||"WhileStatement"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Qi(e,t){if(!e)return!1;const n=e.type;return("ExpressionStatement"===n||"ParenthesizedExpression"===n||"TypeCastExpression"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Ji(e,t){if(!e)return!1;const n=e.type;return("ForInStatement"===n||"ForStatement"===n||"ForOfStatement"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Zi(e,t){if(!e)return!1;const n=e.type;return("ForInStatement"===n||"ForOfStatement"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function er(e,t){if(!e)return!1;const n=e.type;return("FunctionDeclaration"===n||"FunctionExpression"===n||"ObjectMethod"===n||"ArrowFunctionExpression"===n||"ClassMethod"===n||"ClassPrivateMethod"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function tr(e,t){if(!e)return!1;const n=e.type;return("FunctionDeclaration"===n||"FunctionExpression"===n||"ObjectMethod"===n||"ArrowFunctionExpression"===n||"ClassMethod"===n||"ClassPrivateMethod"===n||"StaticBlock"===n||"TSModuleBlock"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function nr(e,t){if(!e)return!1;const n=e.type;return("FunctionDeclaration"===n||"FunctionExpression"===n||"StringLiteral"===n||"NumericLiteral"===n||"NullLiteral"===n||"BooleanLiteral"===n||"RegExpLiteral"===n||"ArrowFunctionExpression"===n||"BigIntLiteral"===n||"DecimalLiteral"===n||"Placeholder"===n&&"StringLiteral"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function ir(e,t){if(!e)return!1;const n=e.type;return("FunctionDeclaration"===n||"VariableDeclaration"===n||"ClassDeclaration"===n||"ExportAllDeclaration"===n||"ExportDefaultDeclaration"===n||"ExportNamedDeclaration"===n||"ImportDeclaration"===n||"DeclareClass"===n||"DeclareFunction"===n||"DeclareInterface"===n||"DeclareModule"===n||"DeclareModuleExports"===n||"DeclareTypeAlias"===n||"DeclareOpaqueType"===n||"DeclareVariable"===n||"DeclareExportDeclaration"===n||"DeclareExportAllDeclaration"===n||"InterfaceDeclaration"===n||"OpaqueType"===n||"TypeAlias"===n||"EnumDeclaration"===n||"TSDeclareFunction"===n||"TSInterfaceDeclaration"===n||"TSTypeAliasDeclaration"===n||"TSEnumDeclaration"===n||"TSModuleDeclaration"===n||"Placeholder"===n&&"Declaration"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function rr(e,t){if(!e)return!1;const n=e.type;return("Identifier"===n||"RestElement"===n||"AssignmentPattern"===n||"ArrayPattern"===n||"ObjectPattern"===n||"TSAsExpression"===n||"TSSatisfiesExpression"===n||"TSTypeAssertion"===n||"TSNonNullExpression"===n||"Placeholder"===n&&("Pattern"===e.expectedNode||"Identifier"===e.expectedNode))&&("undefined"===typeof t||(0,i.default)(e,t))}function or(e,t){if(!e)return!1;const n=e.type;return("Identifier"===n||"MemberExpression"===n||"RestElement"===n||"AssignmentPattern"===n||"ArrayPattern"===n||"ObjectPattern"===n||"TSParameterProperty"===n||"TSAsExpression"===n||"TSSatisfiesExpression"===n||"TSTypeAssertion"===n||"TSNonNullExpression"===n||"Placeholder"===n&&("Pattern"===e.expectedNode||"Identifier"===e.expectedNode))&&("undefined"===typeof t||(0,i.default)(e,t))}function sr(e,t){if(!e)return!1;const n=e.type;return("Identifier"===n||"TSQualifiedName"===n||"Placeholder"===n&&"Identifier"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function ar(e,t){if(!e)return!1;const n=e.type;return("StringLiteral"===n||"NumericLiteral"===n||"NullLiteral"===n||"BooleanLiteral"===n||"RegExpLiteral"===n||"TemplateLiteral"===n||"BigIntLiteral"===n||"DecimalLiteral"===n||"Placeholder"===n&&"StringLiteral"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function lr(e,t){if(!e)return!1;const n=e.type;return("StringLiteral"===n||"NumericLiteral"===n||"NullLiteral"===n||"BooleanLiteral"===n||"BigIntLiteral"===n||"JSXAttribute"===n||"JSXClosingElement"===n||"JSXElement"===n||"JSXExpressionContainer"===n||"JSXSpreadChild"===n||"JSXOpeningElement"===n||"JSXText"===n||"JSXFragment"===n||"JSXOpeningFragment"===n||"JSXClosingFragment"===n||"DecimalLiteral"===n||"Placeholder"===n&&"StringLiteral"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function cr(e,t){if(!e)return!1;const n=e.type;return("ObjectMethod"===n||"ObjectProperty"===n||"ObjectTypeInternalSlot"===n||"ObjectTypeCallProperty"===n||"ObjectTypeIndexer"===n||"ObjectTypeProperty"===n||"ObjectTypeSpreadProperty"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function ur(e,t){if(!e)return!1;const n=e.type;return("ObjectMethod"===n||"ClassMethod"===n||"ClassPrivateMethod"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function hr(e,t){if(!e)return!1;const n=e.type;return("ObjectMethod"===n||"ObjectProperty"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function dr(e,t){if(!e)return!1;const n=e.type;return("ObjectProperty"===n||"ClassProperty"===n||"ClassAccessorProperty"===n||"ClassPrivateProperty"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function fr(e,t){if(!e)return!1;const n=e.type;return("UnaryExpression"===n||"SpreadElement"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function pr(e,t){if(!e)return!1;const n=e.type;return("AssignmentPattern"===n||"ArrayPattern"===n||"ObjectPattern"===n||"Placeholder"===n&&"Pattern"===e.expectedNode)&&("undefined"===typeof t||(0,i.default)(e,t))}function mr(e,t){if(!e)return!1;const n=e.type;return("ClassExpression"===n||"ClassDeclaration"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function gr(e,t){if(!e)return!1;const n=e.type;return("ExportAllDeclaration"===n||"ExportDefaultDeclaration"===n||"ExportNamedDeclaration"===n||"ImportDeclaration"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Ar(e,t){if(!e)return!1;const n=e.type;return("ExportAllDeclaration"===n||"ExportDefaultDeclaration"===n||"ExportNamedDeclaration"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function yr(e,t){if(!e)return!1;const n=e.type;return("ExportSpecifier"===n||"ImportDefaultSpecifier"===n||"ImportNamespaceSpecifier"===n||"ImportSpecifier"===n||"ExportNamespaceSpecifier"===n||"ExportDefaultSpecifier"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function vr(e,t){if(!e)return!1;const n=e.type;return"ClassAccessorProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function br(e,t){if(!e)return!1;const n=e.type;return("ClassPrivateProperty"===n||"ClassPrivateMethod"===n||"PrivateName"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function _r(e,t){if(!e)return!1;const n=e.type;return("AnyTypeAnnotation"===n||"ArrayTypeAnnotation"===n||"BooleanTypeAnnotation"===n||"BooleanLiteralTypeAnnotation"===n||"NullLiteralTypeAnnotation"===n||"ClassImplements"===n||"DeclareClass"===n||"DeclareFunction"===n||"DeclareInterface"===n||"DeclareModule"===n||"DeclareModuleExports"===n||"DeclareTypeAlias"===n||"DeclareOpaqueType"===n||"DeclareVariable"===n||"DeclareExportDeclaration"===n||"DeclareExportAllDeclaration"===n||"DeclaredPredicate"===n||"ExistsTypeAnnotation"===n||"FunctionTypeAnnotation"===n||"FunctionTypeParam"===n||"GenericTypeAnnotation"===n||"InferredPredicate"===n||"InterfaceExtends"===n||"InterfaceDeclaration"===n||"InterfaceTypeAnnotation"===n||"IntersectionTypeAnnotation"===n||"MixedTypeAnnotation"===n||"EmptyTypeAnnotation"===n||"NullableTypeAnnotation"===n||"NumberLiteralTypeAnnotation"===n||"NumberTypeAnnotation"===n||"ObjectTypeAnnotation"===n||"ObjectTypeInternalSlot"===n||"ObjectTypeCallProperty"===n||"ObjectTypeIndexer"===n||"ObjectTypeProperty"===n||"ObjectTypeSpreadProperty"===n||"OpaqueType"===n||"QualifiedTypeIdentifier"===n||"StringLiteralTypeAnnotation"===n||"StringTypeAnnotation"===n||"SymbolTypeAnnotation"===n||"ThisTypeAnnotation"===n||"TupleTypeAnnotation"===n||"TypeofTypeAnnotation"===n||"TypeAlias"===n||"TypeAnnotation"===n||"TypeCastExpression"===n||"TypeParameter"===n||"TypeParameterDeclaration"===n||"TypeParameterInstantiation"===n||"UnionTypeAnnotation"===n||"Variance"===n||"VoidTypeAnnotation"===n||"EnumDeclaration"===n||"EnumBooleanBody"===n||"EnumNumberBody"===n||"EnumStringBody"===n||"EnumSymbolBody"===n||"EnumBooleanMember"===n||"EnumNumberMember"===n||"EnumStringMember"===n||"EnumDefaultedMember"===n||"IndexedAccessType"===n||"OptionalIndexedAccessType"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function wr(e,t){if(!e)return!1;const n=e.type;return("AnyTypeAnnotation"===n||"ArrayTypeAnnotation"===n||"BooleanTypeAnnotation"===n||"BooleanLiteralTypeAnnotation"===n||"NullLiteralTypeAnnotation"===n||"ExistsTypeAnnotation"===n||"FunctionTypeAnnotation"===n||"GenericTypeAnnotation"===n||"InterfaceTypeAnnotation"===n||"IntersectionTypeAnnotation"===n||"MixedTypeAnnotation"===n||"EmptyTypeAnnotation"===n||"NullableTypeAnnotation"===n||"NumberLiteralTypeAnnotation"===n||"NumberTypeAnnotation"===n||"ObjectTypeAnnotation"===n||"StringLiteralTypeAnnotation"===n||"StringTypeAnnotation"===n||"SymbolTypeAnnotation"===n||"ThisTypeAnnotation"===n||"TupleTypeAnnotation"===n||"TypeofTypeAnnotation"===n||"UnionTypeAnnotation"===n||"VoidTypeAnnotation"===n||"IndexedAccessType"===n||"OptionalIndexedAccessType"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function xr(e,t){if(!e)return!1;const n=e.type;return("AnyTypeAnnotation"===n||"BooleanTypeAnnotation"===n||"NullLiteralTypeAnnotation"===n||"MixedTypeAnnotation"===n||"EmptyTypeAnnotation"===n||"NumberTypeAnnotation"===n||"StringTypeAnnotation"===n||"SymbolTypeAnnotation"===n||"ThisTypeAnnotation"===n||"VoidTypeAnnotation"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Sr(e,t){if(!e)return!1;const n=e.type;return("DeclareClass"===n||"DeclareFunction"===n||"DeclareInterface"===n||"DeclareModule"===n||"DeclareModuleExports"===n||"DeclareTypeAlias"===n||"DeclareOpaqueType"===n||"DeclareVariable"===n||"DeclareExportDeclaration"===n||"DeclareExportAllDeclaration"===n||"InterfaceDeclaration"===n||"OpaqueType"===n||"TypeAlias"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Tr(e,t){if(!e)return!1;const n=e.type;return("DeclaredPredicate"===n||"InferredPredicate"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Er(e,t){if(!e)return!1;const n=e.type;return("EnumBooleanBody"===n||"EnumNumberBody"===n||"EnumStringBody"===n||"EnumSymbolBody"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Mr(e,t){if(!e)return!1;const n=e.type;return("EnumBooleanMember"===n||"EnumNumberMember"===n||"EnumStringMember"===n||"EnumDefaultedMember"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Cr(e,t){if(!e)return!1;const n=e.type;return("JSXAttribute"===n||"JSXClosingElement"===n||"JSXElement"===n||"JSXEmptyExpression"===n||"JSXExpressionContainer"===n||"JSXSpreadChild"===n||"JSXIdentifier"===n||"JSXMemberExpression"===n||"JSXNamespacedName"===n||"JSXOpeningElement"===n||"JSXSpreadAttribute"===n||"JSXText"===n||"JSXFragment"===n||"JSXOpeningFragment"===n||"JSXClosingFragment"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Or(e,t){if(!e)return!1;const n=e.type;return("Noop"===n||"Placeholder"===n||"V8IntrinsicIdentifier"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function kr(e,t){if(!e)return!1;const n=e.type;return("TSParameterProperty"===n||"TSDeclareFunction"===n||"TSDeclareMethod"===n||"TSQualifiedName"===n||"TSCallSignatureDeclaration"===n||"TSConstructSignatureDeclaration"===n||"TSPropertySignature"===n||"TSMethodSignature"===n||"TSIndexSignature"===n||"TSAnyKeyword"===n||"TSBooleanKeyword"===n||"TSBigIntKeyword"===n||"TSIntrinsicKeyword"===n||"TSNeverKeyword"===n||"TSNullKeyword"===n||"TSNumberKeyword"===n||"TSObjectKeyword"===n||"TSStringKeyword"===n||"TSSymbolKeyword"===n||"TSUndefinedKeyword"===n||"TSUnknownKeyword"===n||"TSVoidKeyword"===n||"TSThisType"===n||"TSFunctionType"===n||"TSConstructorType"===n||"TSTypeReference"===n||"TSTypePredicate"===n||"TSTypeQuery"===n||"TSTypeLiteral"===n||"TSArrayType"===n||"TSTupleType"===n||"TSOptionalType"===n||"TSRestType"===n||"TSNamedTupleMember"===n||"TSUnionType"===n||"TSIntersectionType"===n||"TSConditionalType"===n||"TSInferType"===n||"TSParenthesizedType"===n||"TSTypeOperator"===n||"TSIndexedAccessType"===n||"TSMappedType"===n||"TSLiteralType"===n||"TSExpressionWithTypeArguments"===n||"TSInterfaceDeclaration"===n||"TSInterfaceBody"===n||"TSTypeAliasDeclaration"===n||"TSInstantiationExpression"===n||"TSAsExpression"===n||"TSSatisfiesExpression"===n||"TSTypeAssertion"===n||"TSEnumDeclaration"===n||"TSEnumMember"===n||"TSModuleDeclaration"===n||"TSModuleBlock"===n||"TSImportType"===n||"TSImportEqualsDeclaration"===n||"TSExternalModuleReference"===n||"TSNonNullExpression"===n||"TSExportAssignment"===n||"TSNamespaceExportDeclaration"===n||"TSTypeAnnotation"===n||"TSTypeParameterInstantiation"===n||"TSTypeParameterDeclaration"===n||"TSTypeParameter"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Pr(e,t){if(!e)return!1;const n=e.type;return("TSCallSignatureDeclaration"===n||"TSConstructSignatureDeclaration"===n||"TSPropertySignature"===n||"TSMethodSignature"===n||"TSIndexSignature"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Ir(e,t){if(!e)return!1;const n=e.type;return("TSAnyKeyword"===n||"TSBooleanKeyword"===n||"TSBigIntKeyword"===n||"TSIntrinsicKeyword"===n||"TSNeverKeyword"===n||"TSNullKeyword"===n||"TSNumberKeyword"===n||"TSObjectKeyword"===n||"TSStringKeyword"===n||"TSSymbolKeyword"===n||"TSUndefinedKeyword"===n||"TSUnknownKeyword"===n||"TSVoidKeyword"===n||"TSThisType"===n||"TSFunctionType"===n||"TSConstructorType"===n||"TSTypeReference"===n||"TSTypePredicate"===n||"TSTypeQuery"===n||"TSTypeLiteral"===n||"TSArrayType"===n||"TSTupleType"===n||"TSOptionalType"===n||"TSRestType"===n||"TSUnionType"===n||"TSIntersectionType"===n||"TSConditionalType"===n||"TSInferType"===n||"TSParenthesizedType"===n||"TSTypeOperator"===n||"TSIndexedAccessType"===n||"TSMappedType"===n||"TSLiteralType"===n||"TSExpressionWithTypeArguments"===n||"TSImportType"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Rr(e,t){if(!e)return!1;const n=e.type;return("TSAnyKeyword"===n||"TSBooleanKeyword"===n||"TSBigIntKeyword"===n||"TSIntrinsicKeyword"===n||"TSNeverKeyword"===n||"TSNullKeyword"===n||"TSNumberKeyword"===n||"TSObjectKeyword"===n||"TSStringKeyword"===n||"TSSymbolKeyword"===n||"TSUndefinedKeyword"===n||"TSUnknownKeyword"===n||"TSVoidKeyword"===n||"TSThisType"===n||"TSLiteralType"===n)&&("undefined"===typeof t||(0,i.default)(e,t))}function Dr(e,t){if((0,r.default)("isNumberLiteral","isNumericLiteral"),!e)return!1;const n=e.type;return"NumberLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Lr(e,t){if((0,r.default)("isRegexLiteral","isRegExpLiteral"),!e)return!1;const n=e.type;return"RegexLiteral"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Nr(e,t){if((0,r.default)("isRestProperty","isRestElement"),!e)return!1;const n=e.type;return"RestProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Br(e,t){if((0,r.default)("isSpreadProperty","isSpreadElement"),!e)return!1;const n=e.type;return"SpreadProperty"===n&&("undefined"===typeof t||(0,i.default)(e,t))}function Fr(e,t){return(0,r.default)("isModuleDeclaration","isImportOrExportDeclaration"),gr(e,t)}},c49e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("73bd");function r(e,t){if(null==e||!e.length)return;const n=[],r=(0,i.default)(e,t,n);if(r){for(const e of n)t.push(e);return r}}},c532:function(e,t,n){"use strict";var i=n("1d2b"),r=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return"undefined"===typeof e}function a(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function l(e){return"[object ArrayBuffer]"===r.call(e)}function c(e){return"[object FormData]"===r.call(e)}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer),t}function h(e){return"string"===typeof e}function d(e){return"number"===typeof e}function f(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function m(e){return"[object Date]"===r.call(e)}function g(e){return"[object File]"===r.call(e)}function A(e){return"[object Blob]"===r.call(e)}function y(e){return"[object Function]"===r.call(e)}function v(e){return f(e)&&y(e.pipe)}function b(e){return"[object URLSearchParams]"===r.call(e)}function _(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function S(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=S(e[n],t):p(t)?e[n]=S({},t):o(t)?e[n]=t.slice():e[n]=t}for(var n=0,i=arguments.length;n<i;n++)x(arguments[n],t);return e}function T(e,t,n){return x(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e}function E(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:o,isArrayBuffer:l,isBuffer:a,isFormData:c,isArrayBufferView:u,isString:h,isNumber:d,isObject:f,isPlainObject:p,isUndefined:s,isDate:m,isFile:g,isBlob:A,isFunction:y,isStream:v,isURLSearchParams:b,isStandardBrowserEnv:w,forEach:x,merge:S,extend:T,trim:_,stripBOM:E}},c5f7:function(e,t){function n(e){return-1!==Function.toString.call(e).indexOf("[native code]")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},c65b:function(e,t,n){var i=n("40d5"),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},c65e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("bf78");function r(e){return(0,i.default)(e)}},c6b6:function(e,t,n){var i=n("e330"),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},c6cd:function(e,t,n){var i=n("da84"),r=n("6374"),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},c832:function(e,t,n){(function(t){var n="Expected a function",i="__lodash_hash_undefined__",r=1/0,o="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/[\\^$.*+?()[\]{}|]/g,f=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,m="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,A=m||g||Function("return this")();function y(e,t){return null==e?void 0:e[t]}function v(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var b=Array.prototype,_=Function.prototype,w=Object.prototype,x=A["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),T=_.toString,E=w.hasOwnProperty,M=w.toString,C=RegExp("^"+T.call(E).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=A.Symbol,k=b.splice,P=oe(A,"Map"),I=oe(Object,"create"),R=O?O.prototype:void 0,D=R?R.toString:void 0;function L(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function N(){this.__data__=I?I(null):{}}function B(e){return this.has(e)&&delete this.__data__[e]}function F(e){var t=this.__data__;if(I){var n=t[e];return n===i?void 0:n}return E.call(t,e)?t[e]:void 0}function j(e){var t=this.__data__;return I?void 0!==t[e]:E.call(t,e)}function U(e,t){var n=this.__data__;return n[e]=I&&void 0===t?i:t,this}function z(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function q(){this.__data__=[]}function V(e){var t=this.__data__,n=Z(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():k.call(t,n,1),!0}function H(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]}function G(e){return Z(this.__data__,e)>-1}function W(e,t){var n=this.__data__,i=Z(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function $(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function X(){this.__data__={hash:new L,map:new(P||z),string:new L}}function Y(e){return re(this,e)["delete"](e)}function K(e){return re(this,e).get(e)}function Q(e){return re(this,e).has(e)}function J(e,t){return re(this,e).set(e,t),this}function Z(e,t){var n=e.length;while(n--)if(fe(e[n][0],t))return n;return-1}function ee(e,t){t=se(t,e)?[t]:ie(t);var n=0,i=t.length;while(null!=e&&n<i)e=e[ue(t[n++])];return n&&n==i?e:void 0}function te(e){if(!ge(e)||le(e))return!1;var t=me(e)||v(e)?C:p;return t.test(he(e))}function ne(e){if("string"==typeof e)return e;if(ye(e))return D?D.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}function ie(e){return pe(e)?e:ce(e)}function re(e,t){var n=e.__data__;return ae(t)?n["string"==typeof t?"string":"hash"]:n.map}function oe(e,t){var n=y(e,t);return te(n)?n:void 0}function se(e,t){if(pe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ye(e))||(c.test(e)||!l.test(e)||null!=t&&e in Object(t))}function ae(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function le(e){return!!S&&S in e}L.prototype.clear=N,L.prototype["delete"]=B,L.prototype.get=F,L.prototype.has=j,L.prototype.set=U,z.prototype.clear=q,z.prototype["delete"]=V,z.prototype.get=H,z.prototype.has=G,z.prototype.set=W,$.prototype.clear=X,$.prototype["delete"]=Y,$.prototype.get=K,$.prototype.has=Q,$.prototype.set=J;var ce=de((function(e){e=ve(e);var t=[];return u.test(e)&&t.push(""),e.replace(h,(function(e,n,i,r){t.push(i?r.replace(f,"$1"):n||e)})),t}));function ue(e){if("string"==typeof e||ye(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}function he(e){if(null!=e){try{return T.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function de(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=e.apply(this,n);return i.cache=o.set(r,s),s};return i.cache=new(de.Cache||$),i}function fe(e,t){return e===t||e!==e&&t!==t}de.Cache=$;var pe=Array.isArray;function me(e){var t=ge(e)?M.call(e):"";return t==o||t==s}function ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ae(e){return!!e&&"object"==typeof e}function ye(e){return"symbol"==typeof e||Ae(e)&&M.call(e)==a}function ve(e){return null==e?"":ne(e)}function be(e,t,n){var i=null==e?void 0:ee(e,t);return void 0===i?n:i}e.exports=be}).call(this,n("c8ba"))},c8af:function(e,t,n){"use strict";var i=n("c532");e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var i=n("e330"),r=n("1a2d"),o=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),l=i([].push);e.exports=function(e,t){var n,i=o(e),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);while(t.length>c)r(i,n=t[c++])&&(~s(u,n)||l(u,n));return u}},cafa:function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},cb2d:function(e,t,n){var i=n("1626"),r=n("9bf2"),o=n("13d2"),s=n("6374");e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(i(n)&&o(n,c,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cc12:function(e,t,n){var i=n("da84"),r=n("861d"),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ccc7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("bf78");function r(e){return(0,i.default)(e,!0,!0)}},cd3f:function(e,t,n){(function(e,n){var i=200,r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",d="[object GeneratorFunction]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object Promise]",A="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",_="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",E="[object Int8Array]",M="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,D=/\w*$/,L=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,B={};B[s]=B[a]=B[w]=B[x]=B[l]=B[c]=B[S]=B[T]=B[E]=B[M]=B[C]=B[f]=B[p]=B[m]=B[A]=B[y]=B[v]=B[b]=B[O]=B[k]=B[P]=B[I]=!0,B[u]=B[h]=B[_]=!1;var F="object"==typeof e&&e&&e.Object===Object&&e,j="object"==typeof self&&self&&self.Object===Object&&self,U=F||j||Function("return this")(),z=t&&!t.nodeType&&t,q=z&&"object"==typeof n&&n&&!n.nodeType&&n,V=q&&q.exports===z;function H(e,t){return e.set(t[0],t[1]),e}function G(e,t){return e.add(t),e}function W(e,t){var n=-1,i=e?e.length:0;while(++n<i)if(!1===t(e[n],n,e))break;return e}function $(e,t){var n=-1,i=t.length,r=e.length;while(++n<i)e[r+n]=t[n];return e}function X(e,t,n,i){var r=-1,o=e?e.length:0;i&&o&&(n=e[++r]);while(++r<o)n=t(n,e[r],r,e);return n}function Y(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function K(e,t){return null==e?void 0:e[t]}function Q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function J(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Z(e,t){return function(n){return e(t(n))}}function ee(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var te=Array.prototype,ne=Function.prototype,ie=Object.prototype,re=U["__core-js_shared__"],oe=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),se=ne.toString,ae=ie.hasOwnProperty,le=ie.toString,ce=RegExp("^"+se.call(ae).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=V?U.Buffer:void 0,he=U.Symbol,de=U.Uint8Array,fe=Z(Object.getPrototypeOf,Object),pe=Object.create,me=ie.propertyIsEnumerable,ge=te.splice,Ae=Object.getOwnPropertySymbols,ye=ue?ue.isBuffer:void 0,ve=Z(Object.keys,Object),be=Et(U,"DataView"),_e=Et(U,"Map"),we=Et(U,"Promise"),xe=Et(U,"Set"),Se=Et(U,"WeakMap"),Te=Et(Object,"create"),Ee=Nt(be),Me=Nt(_e),Ce=Nt(we),Oe=Nt(xe),ke=Nt(Se),Pe=he?he.prototype:void 0,Ie=Pe?Pe.valueOf:void 0;function Re(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function De(){this.__data__=Te?Te(null):{}}function Le(e){return this.has(e)&&delete this.__data__[e]}function Ne(e){var t=this.__data__;if(Te){var n=t[e];return n===r?void 0:n}return ae.call(t,e)?t[e]:void 0}function Be(e){var t=this.__data__;return Te?void 0!==t[e]:ae.call(t,e)}function Fe(e,t){var n=this.__data__;return n[e]=Te&&void 0===t?r:t,this}function je(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Ue(){this.__data__=[]}function ze(e){var t=this.__data__,n=ot(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():ge.call(t,n,1),!0}function qe(e){var t=this.__data__,n=ot(t,e);return n<0?void 0:t[n][1]}function Ve(e){return ot(this.__data__,e)>-1}function He(e,t){var n=this.__data__,i=ot(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function Ge(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function We(){this.__data__={hash:new Re,map:new(_e||je),string:new Re}}function $e(e){return Tt(this,e)["delete"](e)}function Xe(e){return Tt(this,e).get(e)}function Ye(e){return Tt(this,e).has(e)}function Ke(e,t){return Tt(this,e).set(e,t),this}function Qe(e){this.__data__=new je(e)}function Je(){this.__data__=new je}function Ze(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function nt(e,t){var n=this.__data__;if(n instanceof je){var r=n.__data__;if(!_e||r.length<i-1)return r.push([e,t]),this;n=this.__data__=new Ge(r)}return n.set(e,t),this}function it(e,t){var n=Ut(e)||jt(e)?Y(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!ae.call(e,o)||r&&("length"==o||It(o,i))||n.push(o);return n}function rt(e,t,n){var i=e[t];ae.call(e,t)&&Ft(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function ot(e,t){var n=e.length;while(n--)if(Ft(e[n][0],t))return n;return-1}function st(e,t){return e&&wt(t,Xt(t),e)}function at(e,t,n,i,r,o,a){var l;if(i&&(l=o?i(e,r,o,a):i(e)),void 0!==l)return l;if(!Wt(e))return e;var c=Ut(e);if(c){if(l=Ot(e),!t)return _t(e,l)}else{var u=Ct(e),f=u==h||u==d;if(Vt(e))return ft(e,t);if(u==m||u==s||f&&!o){if(Q(e))return o?e:{};if(l=kt(f?{}:e),!t)return xt(e,st(l,e))}else{if(!B[u])return o?e:{};l=Pt(e,u,at,t)}}a||(a=new Qe);var p=a.get(e);if(p)return p;if(a.set(e,l),!c)var g=n?St(e):Xt(e);return W(g||e,(function(r,o){g&&(o=r,r=e[o]),rt(l,o,at(r,t,n,i,o,e,a))})),l}function lt(e){return Wt(e)?pe(e):{}}function ct(e,t,n){var i=t(e);return Ut(e)?i:$(i,n(e))}function ut(e){return le.call(e)}function ht(e){if(!Wt(e)||Dt(e))return!1;var t=Ht(e)||Q(e)?ce:L;return t.test(Nt(e))}function dt(e){if(!Lt(e))return ve(e);var t=[];for(var n in Object(e))ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ft(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function pt(e){var t=new e.constructor(e.byteLength);return new de(t).set(new de(e)),t}function mt(e,t){var n=t?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function gt(e,t,n){var i=t?n(J(e),!0):J(e);return X(i,H,new e.constructor)}function At(e){var t=new e.constructor(e.source,D.exec(e));return t.lastIndex=e.lastIndex,t}function yt(e,t,n){var i=t?n(ee(e),!0):ee(e);return X(i,G,new e.constructor)}function vt(e){return Ie?Object(Ie.call(e)):{}}function bt(e,t){var n=t?pt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _t(e,t){var n=-1,i=e.length;t||(t=Array(i));while(++n<i)t[n]=e[n];return t}function wt(e,t,n,i){n||(n={});var r=-1,o=t.length;while(++r<o){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;rt(n,s,void 0===a?e[s]:a)}return n}function xt(e,t){return wt(e,Mt(e),t)}function St(e){return ct(e,Xt,Mt)}function Tt(e,t){var n=e.__data__;return Rt(t)?n["string"==typeof t?"string":"hash"]:n.map}function Et(e,t){var n=K(e,t);return ht(n)?n:void 0}Re.prototype.clear=De,Re.prototype["delete"]=Le,Re.prototype.get=Ne,Re.prototype.has=Be,Re.prototype.set=Fe,je.prototype.clear=Ue,je.prototype["delete"]=ze,je.prototype.get=qe,je.prototype.has=Ve,je.prototype.set=He,Ge.prototype.clear=We,Ge.prototype["delete"]=$e,Ge.prototype.get=Xe,Ge.prototype.has=Ye,Ge.prototype.set=Ke,Qe.prototype.clear=Je,Qe.prototype["delete"]=Ze,Qe.prototype.get=et,Qe.prototype.has=tt,Qe.prototype.set=nt;var Mt=Ae?Z(Ae,Object):Yt,Ct=ut;function Ot(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function kt(e){return"function"!=typeof e.constructor||Lt(e)?{}:lt(fe(e))}function Pt(e,t,n,i){var r=e.constructor;switch(t){case w:return pt(e);case l:case c:return new r(+e);case x:return mt(e,i);case S:case T:case E:case M:case C:case O:case k:case P:case I:return bt(e,i);case f:return gt(e,i,n);case p:case v:return new r(e);case A:return At(e);case y:return yt(e,i,n);case b:return vt(e)}}function It(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Rt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Dt(e){return!!oe&&oe in e}function Lt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ie;return e===n}function Nt(e){if(null!=e){try{return se.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bt(e){return at(e,!0,!0)}function Ft(e,t){return e===t||e!==e&&t!==t}function jt(e){return qt(e)&&ae.call(e,"callee")&&(!me.call(e,"callee")||le.call(e)==s)}(be&&Ct(new be(new ArrayBuffer(1)))!=x||_e&&Ct(new _e)!=f||we&&Ct(we.resolve())!=g||xe&&Ct(new xe)!=y||Se&&Ct(new Se)!=_)&&(Ct=function(e){var t=le.call(e),n=t==m?e.constructor:void 0,i=n?Nt(n):void 0;if(i)switch(i){case Ee:return x;case Me:return f;case Ce:return g;case Oe:return y;case ke:return _}return t});var Ut=Array.isArray;function zt(e){return null!=e&&Gt(e.length)&&!Ht(e)}function qt(e){return $t(e)&&zt(e)}var Vt=ye||Kt;function Ht(e){var t=Wt(e)?le.call(e):"";return t==h||t==d}function Gt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Wt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $t(e){return!!e&&"object"==typeof e}function Xt(e){return zt(e)?it(e):dt(e)}function Yt(){return[]}function Kt(){return!1}n.exports=Bt}).call(this,n("c8ba"),n("62e4")(e))},cd93:function(e,t){var n="[object Object]";function i(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function r(e,t){return function(n){return e(t(n))}}var o=Function.prototype,s=Object.prototype,a=o.toString,l=s.hasOwnProperty,c=a.call(Object),u=s.toString,h=r(Object.getPrototypeOf,Object);function d(e){return!!e&&"object"==typeof e}function f(e){if(!d(e)||u.call(e)!=n||i(e))return!1;var t=h(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&a.call(r)==c}e.exports=f},cdce:function(e,t,n){var i=n("da84"),r=n("1626"),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},cee4:function(e,t,n){"use strict";var i=n("c532"),r=n("1d2b"),o=n("0a06"),s=n("4a7b"),a=n("4c3d");function l(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n.create=function(t){return l(s(e,t))},n}var c=l(a);c.Axios=o,c.Cancel=n("7a77"),c.CancelToken=n("8df4"),c.isCancel=n("2e67"),c.VERSION=n("5cce").version,c.all=function(e){return Promise.all(e)},c.spread=n("0df6"),c.isAxiosError=n("5f02"),e.exports=c,e.exports.default=c},cf44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLACEHOLDERS_FLIPPED_ALIAS=t.PLACEHOLDERS_ALIAS=t.PLACEHOLDERS=void 0;var i=n("57de");const r=["Identifier","StringLiteral","Expression","Statement","Declaration","BlockStatement","ClassBody","Pattern"];t.PLACEHOLDERS=r;const o={Declaration:["Statement"],Pattern:["PatternLike","LVal"]};t.PLACEHOLDERS_ALIAS=o;for(const a of r){const e=i.ALIAS_KEYS[a];null!=e&&e.length&&(o[a]=e)}const s={};t.PLACEHOLDERS_FLIPPED_ALIAS=s,Object.keys(o).forEach(e=>{o[e].forEach(t=>{Object.hasOwnProperty.call(s,t)||(s[t]=[]),s[t].push(e)})})},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("da84"),r=n("1626"),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e]):i[e]&&i[e][t]}},d192:function(e,t,n){"use strict";let i=null;function r(e){if(null!==i&&(i.property,1)){const e=i;return i=r.prototype=null,e}return i=r.prototype=null==e?Object.create(null):e,new r}r(),e.exports=function(e){return r(e)}},d1e7:function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},d1f4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("eb5b"),r=n("252a");function o(e,t){if((0,r.isSuper)(e.object))throw new Error("Cannot prepend node to super property access (`super.foo`).");return e.object=(0,i.memberExpression)(t,e.object),e}},d2bb:function(e,t,n){var i=n("7282"),r=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=i(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(s){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},d44e:function(e,t,n){var i=n("9bf2").f,r=n("1a2d"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,s)&&i(e,s,{configurable:!0,value:t})}},d58f:function(e,t,n){var i=n("59ed"),r=n("7b0b"),o=n("44ad"),s=n("07fa"),a=TypeError,l=function(e){return function(t,n,l,c){i(n);var u=r(t),h=o(u),d=s(u),f=e?d-1:0,p=e?-1:1;if(l<2)while(1){if(f in h){c=h[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw a("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in h&&(c=n(c,h[f],f,u));return c}};e.exports={left:l(!1),right:l(!0)}},d81c:function(e,t,n){console.warn('Scripts "build/three.js" and "build/three.min.js" are deprecated with r150+, and will be removed with r160. Please use ES Modules or alternatives: https://threejs.org/docs/index.html#manual/en/introduction/Installation'),
/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
function(e,n){n(t)}(0,(function(e){"use strict";const t="150",n={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},i={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},r=0,o=1,s=2,a=3,l=0,c=1,u=2,h=3,d=0,f=1,p=2,m=2,g=0,A=1,y=2,v=3,b=4,_=5,w=100,x=101,S=102,T=103,E=104,M=200,C=201,O=202,k=203,P=204,I=205,R=206,D=207,L=208,N=209,B=210,F=0,j=1,U=2,z=3,q=4,V=5,H=6,G=7,W=0,$=1,X=2,Y=0,K=1,Q=2,J=3,Z=4,ee=5,te=300,ne=301,ie=302,re=303,oe=304,se=306,ae=1e3,le=1001,ce=1002,ue=1003,he=1004,de=1004,fe=1005,pe=1005,me=1006,ge=1007,Ae=1007,ye=1008,ve=1008,be=1009,_e=1010,we=1011,xe=1012,Se=1013,Te=1014,Ee=1015,Me=1016,Ce=1017,Oe=1018,ke=1020,Pe=1021,Ie=1023,Re=1024,De=1025,Le=1026,Ne=1027,Be=1028,Fe=1029,je=1030,Ue=1031,ze=1033,qe=33776,Ve=33777,He=33778,Ge=33779,We=35840,$e=35841,Xe=35842,Ye=35843,Ke=36196,Qe=37492,Je=37496,Ze=37808,et=37809,tt=37810,nt=37811,it=37812,rt=37813,ot=37814,st=37815,at=37816,lt=37817,ct=37818,ut=37819,ht=37820,dt=37821,ft=36492,pt=36283,mt=36284,gt=36285,At=36286,yt=2200,vt=2201,bt=2202,_t=2300,wt=2301,xt=2302,St=2400,Tt=2401,Et=2402,Mt=2500,Ct=2501,Ot=0,kt=1,Pt=2,It=3e3,Rt=3001,Dt=3200,Lt=3201,Nt=0,Bt=1,Ft="",jt="srgb",Ut="srgb-linear",zt="display-p3",qt=0,Vt=7680,Ht=7681,Gt=7682,Wt=7683,$t=34055,Xt=34056,Yt=5386,Kt=512,Qt=513,Jt=514,Zt=515,en=516,tn=517,nn=518,rn=519,on=35044,sn=35048,an=35040,ln=35045,cn=35049,un=35041,hn=35046,dn=35050,fn=35042,pn="100",mn="300 es",gn=1035;class An{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners,i=n[e];if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,i=t.length;n<i;n++)t[n].call(this,e);e.target=null}}}const yn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let vn=1234567;const bn=Math.PI/180,_n=180/Math.PI;function wn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=yn[255&e]+yn[e>>8&255]+yn[e>>16&255]+yn[e>>24&255]+"-"+yn[255&t]+yn[t>>8&255]+"-"+yn[t>>16&15|64]+yn[t>>24&255]+"-"+yn[63&n|128]+yn[n>>8&255]+"-"+yn[n>>16&255]+yn[n>>24&255]+yn[255&i]+yn[i>>8&255]+yn[i>>16&255]+yn[i>>24&255];return r.toLowerCase()}function xn(e,t,n){return Math.max(t,Math.min(n,e))}function Sn(e,t){return(e%t+t)%t}function Tn(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)}function En(e,t,n){return e!==t?(n-e)/(t-e):0}function Mn(e,t,n){return(1-n)*e+n*t}function Cn(e,t,n,i){return Mn(e,t,1-Math.exp(-n*i))}function On(e,t=1){return t-Math.abs(Sn(e,2*t)-t)}function kn(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function Pn(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))}function In(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Rn(e,t){return e+Math.random()*(t-e)}function Dn(e){return e*(.5-Math.random())}function Ln(e){void 0!==e&&(vn=e);let t=vn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}function Nn(e){return e*bn}function Bn(e){return e*_n}function Fn(e){return 0===(e&e-1)&&0!==e}function jn(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Un(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function zn(e,t,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),u=s((t+i)/2),h=o((t-i)/2),d=s((t-i)/2),f=o((i-t)/2),p=s((i-t)/2);switch(r){case"XYX":e.set(a*u,l*h,l*d,a*c);break;case"YZY":e.set(l*d,a*u,l*h,a*c);break;case"ZXZ":e.set(l*h,l*d,a*u,a*c);break;case"XZX":e.set(a*u,l*p,l*f,a*c);break;case"YXY":e.set(l*f,a*u,l*p,a*c);break;case"ZYZ":e.set(l*p,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function qn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Vn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Hn={DEG2RAD:bn,RAD2DEG:_n,generateUUID:wn,clamp:xn,euclideanModulo:Sn,mapLinear:Tn,inverseLerp:En,lerp:Mn,damp:Cn,pingpong:On,smoothstep:kn,smootherstep:Pn,randInt:In,randFloat:Rn,randFloatSpread:Dn,seededRandom:Ln,degToRad:Nn,radToDeg:Bn,isPowerOfTwo:Fn,ceilPowerOfTwo:jn,floorPowerOfTwo:Un,setQuaternionFromProperEuler:zn,normalize:Vn,denormalize:qn};class Gn{constructor(e=0,t=0){Gn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const e=Math.atan2(-this.y,-this.x)+Math.PI;return e}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wn{constructor(){Wn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,i,r,o,s,a,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=i[0],m=i[3],g=i[6],A=i[1],y=i[4],v=i[7],b=i[2],_=i[5],w=i[8];return r[0]=o*p+s*A+a*b,r[3]=o*m+s*y+a*_,r[6]=o*g+s*v+a*w,r[1]=l*p+c*A+u*b,r[4]=l*m+c*y+u*_,r[7]=l*g+c*v+u*w,r[2]=h*p+d*A+f*b,r[5]=h*m+d*y+f*_,r[8]=h*g+d*v+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=c*o-s*l,h=s*a-c*r,d=l*r-o*a,f=t*u+n*h+i*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(i*l-c*n)*p,e[2]=(s*n-i*o)*p,e[3]=h*p,e[4]=(c*t-i*a)*p,e[5]=(i*r-s*t)*p,e[6]=d*p,e[7]=(n*a-l*t)*p,e[8]=(o*t-n*r)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,s){const a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply($n.makeScale(e,t)),this}rotate(e){return this.premultiply($n.makeRotation(-e)),this}translate(e,t){return this.premultiply($n.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const $n=new Wn;function Xn(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Yn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Kn(e,t){return new Yn[e](t)}function Qn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}class Jn{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const h=r[o+0],d=r[o+1],f=r[o+2],p=r[o+3];if(0===s)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===s)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(u!==p||a!==h||l!==d||c!==f){let e=1-s;const t=a*h+l*d+c*f+u*p,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,t*n);e=Math.sin(e*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*e+h*r,l=l*e+d*r,c=c*e+f*r,u=u*e+p*r,e===1-s){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,o){const s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],h=r[o+1],d=r[o+2],f=r[o+3];return e[t]=s*f+c*u+a*d-l*h,e[t+1]=a*f+c*h+l*u-s*d,e[t+2]=l*f+c*d+s*h-a*u,e[t+3]=c*f-s*u-a*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),h=a(n/2),d=a(i/2),f=a(r/2);switch(o){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=n+s+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(r-l)*e,this._z=(o-i)*e}else if(n>s&&n>u){const e=2*Math.sqrt(1+n-s-u);this._w=(c-a)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(r+l)/e}else if(s>u){const e=2*Math.sqrt(1+s-n-u);this._w=(r-l)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-n-s);this._w=(o-i)/e,this._x=(r+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Zn{constructor(e=0,t=0,n=0){Zn.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ti.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ti.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,u=a*i+r*n-o*t,h=-r*t-o*n-s*i;return this.x=l*a+h*-r+c*-s-u*-o,this.y=c*a+h*-o+u*-r-l*-s,this.z=u*a+h*-s+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ei.copy(this).projectOnVector(e),this.sub(ei)}reflect(e){return this.sub(ei.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ei=new Zn,ti=new Jn;function ni(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ii(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const ri=(new Wn).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),oi=(new Wn).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),si=new Zn;function ai(e){return e.convertSRGBToLinear(),si.set(e.r,e.g,e.b).applyMatrix3(oi),e.setRGB(si.x,si.y,si.z)}function li(e){return si.set(e.r,e.g,e.b).applyMatrix3(ri),e.setRGB(si.x,si.y,si.z).convertLinearToSRGB()}const ci={[Ut]:e=>e,[jt]:e=>e.convertSRGBToLinear(),[zt]:ai},ui={[Ut]:e=>e,[jt]:e=>e.convertLinearToSRGB(),[zt]:li},hi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return Ut},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const i=ci[t],r=ui[n];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${t}" to "${n}".`);return r(i(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};let di;class fi{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===di&&(di=Qn("canvas")),di.width=e.width,di.height=e.height;const n=di.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=di}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=Qn("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*ni(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*ni(t[e]/255)):t[e]=ni(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class pi{constructor(e=null){this.isSource=!0,this.uuid=wn(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(mi(i[t].image)):e.push(mi(i[t]))}else e=mi(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function mi(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?fi.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let gi=0;class Ai extends An{constructor(e=Ai.DEFAULT_IMAGE,t=Ai.DEFAULT_MAPPING,n=le,i=le,r=me,o=ye,s=Ie,a=be,l=Ai.DEFAULT_ANISOTROPY,c=It){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gi++}),this.uuid=wn(),this.name="",this.source=new pi(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Gn(0,0),this.repeat=new Gn(1,1),this.center=new Gn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==te)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ae:e.x=e.x-Math.floor(e.x);break;case le:e.x=e.x<0?0:1;break;case ce:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ae:e.y=e.y-Math.floor(e.y);break;case le:e.y=e.y<0?0:1;break;case ce:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}Ai.DEFAULT_IMAGE=null,Ai.DEFAULT_MAPPING=te,Ai.DEFAULT_ANISOTROPY=1;class yi{constructor(e=0,t=0,n=0,i=1){yi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const o=.01,s=.1,a=e.elements,l=a[0],c=a[4],u=a[8],h=a[1],d=a[5],f=a[9],p=a[2],m=a[6],g=a[10];if(Math.abs(c-h)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(c+h)<s&&Math.abs(u+p)<s&&Math.abs(f+m)<s&&Math.abs(l+d+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,a=(d+1)/2,A=(g+1)/2,y=(c+h)/4,v=(u+p)/4,b=(f+m)/4;return e>a&&e>A?e<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=y/n,r=v/n):a>A?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=y/i,r=b/i):A<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(A),n=v/r,i=b/r),this.set(n,i,r,t),this}let A=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(A)<.001&&(A=1),this.x=(m-f)/A,this.y=(u-p)/A,this.z=(h-c)/A,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vi extends An{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new yi(0,0,e,t),this.scissorTest=!1,this.viewport=new yi(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Ai(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:me,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new pi(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bi extends Ai{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=ue,this.minFilter=ue,this.wrapR=le,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _i extends vi{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new bi(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class wi extends Ai{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=ue,this.minFilter=ue,this.wrapR=le,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xi extends vi{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new wi(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Si extends vi{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const r=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ti{constructor(e=new Zn(1/0,1/0,1/0),t=new Zn(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){const l=e[a],c=e[a+1],u=e[a+2];l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){const l=e.getX(a),c=e.getY(a),u=e.getZ(a);l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Mi.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,i=t.count;n<i;n++)Mi.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(Mi)}else null===n.boundingBox&&n.computeBoundingBox(),Ci.copy(n.boundingBox),Ci.applyMatrix4(e.matrixWorld),this.union(Ci);const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Mi),Mi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Li),Ni.subVectors(this.max,Li),Oi.subVectors(e.a,Li),ki.subVectors(e.b,Li),Pi.subVectors(e.c,Li),Ii.subVectors(ki,Oi),Ri.subVectors(Pi,ki),Di.subVectors(Oi,Pi);let t=[0,-Ii.z,Ii.y,0,-Ri.z,Ri.y,0,-Di.z,Di.y,Ii.z,0,-Ii.x,Ri.z,0,-Ri.x,Di.z,0,-Di.x,-Ii.y,Ii.x,0,-Ri.y,Ri.x,0,-Di.y,Di.x,0];return!!ji(t,Oi,ki,Pi,Ni)&&(t=[1,0,0,0,1,0,0,0,1],!!ji(t,Oi,ki,Pi,Ni)&&(Bi.crossVectors(Ii,Ri),t=[Bi.x,Bi.y,Bi.z],ji(t,Oi,ki,Pi,Ni)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Mi).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Mi).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Ei[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ei[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ei[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ei[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ei[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ei[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ei[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ei[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ei)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ei=[new Zn,new Zn,new Zn,new Zn,new Zn,new Zn,new Zn,new Zn],Mi=new Zn,Ci=new Ti,Oi=new Zn,ki=new Zn,Pi=new Zn,Ii=new Zn,Ri=new Zn,Di=new Zn,Li=new Zn,Ni=new Zn,Bi=new Zn,Fi=new Zn;function ji(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){Fi.fromArray(e,o);const s=r.x*Math.abs(Fi.x)+r.y*Math.abs(Fi.y)+r.z*Math.abs(Fi.z),a=t.dot(Fi),l=n.dot(Fi),c=i.dot(Fi);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const Ui=new Ti,zi=new Zn,qi=new Zn;class Vi{constructor(e=new Zn,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Ui.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;zi.subVectors(e,this.center);const t=zi.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(zi,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(qi.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(zi.copy(e.center).add(qi)),this.expandByPoint(zi.copy(e.center).sub(qi))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Hi=new Zn,Gi=new Zn,Wi=new Zn,$i=new Zn,Xi=new Zn,Yi=new Zn,Ki=new Zn;class Qi{constructor(e=new Zn,t=new Zn(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Hi)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Hi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Hi.copy(this.origin).addScaledVector(this.direction,t),Hi.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Gi.copy(e).add(t).multiplyScalar(.5),Wi.copy(t).sub(e).normalize(),$i.copy(this.origin).sub(Gi);const r=.5*e.distanceTo(t),o=-this.direction.dot(Wi),s=$i.dot(this.direction),a=-$i.dot(Wi),l=$i.lengthSq(),c=Math.abs(1-o*o);let u,h,d,f;if(c>0)if(u=o*a-s,h=o*s-a,f=r*c,u>=0)if(h>=-f)if(h<=f){const e=1/c;u*=e,h*=e,d=u*(u+o*h+2*s)+h*(o*u+h+2*a)+l}else h=r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h=-r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h<=-f?(u=Math.max(0,-(-o*r+s)),h=u>0?-r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l):h<=f?(u=0,h=Math.min(Math.max(-r,-a),r),d=h*(h+2*a)+l):(u=Math.max(0,-(o*r+s)),h=u>0?r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l);else h=o>0?-r:r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(Gi).addScaledVector(Wi,h),d}intersectSphere(e,t){Hi.subVectors(e.center,this.origin);const n=Hi.dot(this.direction),i=Hi.dot(Hi)-n*n,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return a<0?null:s<0?this.at(a,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;const n=e.normal.dot(this.direction);return n*t<0}intersectBox(e,t){let n,i,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||r>i?null:((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),u>=0?(s=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(s=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||s>i?null:((s>n||n!==n)&&(n=s),(a<i||i!==i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,Hi)}intersectTriangle(e,t,n,i,r){Xi.subVectors(t,e),Yi.subVectors(n,e),Ki.crossVectors(Xi,Yi);let o,s=this.direction.dot(Ki);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}$i.subVectors(this.origin,e);const a=o*this.direction.dot(Yi.crossVectors($i,Yi));if(a<0)return null;const l=o*this.direction.dot(Xi.cross($i));if(l<0)return null;if(a+l>s)return null;const c=-o*$i.dot(Ki);return c<0?null:this.at(c/s,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ji{constructor(){Ji.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ji).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Zi.setFromMatrixColumn(e,0).length(),r=1/Zi.setFromMatrixColumn(e,1).length(),o=1/Zi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-s*a,t[2]=r-e*l,t[6]=i+n*l,t[10]=o*a}else if("YXZ"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e+r*s,t[4]=i*s-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-s,t[2]=n*s-i,t[6]=r+e*s,t[10]=o*a}else if("ZXY"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e-r*s,t[4]=-o*u,t[8]=i+n*s,t[1]=n+i*s,t[5]=o*c,t[9]=r-e*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=a*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=o*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=s*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(tr,e,nr)}lookAt(e,t,n){const i=this.elements;return or.subVectors(e,t),0===or.lengthSq()&&(or.z=1),or.normalize(),ir.crossVectors(n,or),0===ir.lengthSq()&&(1===Math.abs(n.z)?or.x+=1e-4:or.z+=1e-4,or.normalize(),ir.crossVectors(n,or)),ir.normalize(),rr.crossVectors(or,ir),i[0]=ir.x,i[4]=rr.x,i[8]=or.x,i[1]=ir.y,i[5]=rr.y,i[9]=or.y,i[2]=ir.z,i[6]=rr.z,i[10]=or.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],A=n[3],y=n[7],v=n[11],b=n[15],_=i[0],w=i[4],x=i[8],S=i[12],T=i[1],E=i[5],M=i[9],C=i[13],O=i[2],k=i[6],P=i[10],I=i[14],R=i[3],D=i[7],L=i[11],N=i[15];return r[0]=o*_+s*T+a*O+l*R,r[4]=o*w+s*E+a*k+l*D,r[8]=o*x+s*M+a*P+l*L,r[12]=o*S+s*C+a*I+l*N,r[1]=c*_+u*T+h*O+d*R,r[5]=c*w+u*E+h*k+d*D,r[9]=c*x+u*M+h*P+d*L,r[13]=c*S+u*C+h*I+d*N,r[2]=f*_+p*T+m*O+g*R,r[6]=f*w+p*E+m*k+g*D,r[10]=f*x+p*M+m*P+g*L,r[14]=f*S+p*C+m*I+g*N,r[3]=A*_+y*T+v*O+b*R,r[7]=A*w+y*E+v*k+b*D,r[11]=A*x+y*M+v*P+b*L,r[15]=A*S+y*C+v*I+b*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14],f=e[3],p=e[7],m=e[11],g=e[15];return f*(+r*a*u-i*l*u-r*s*h+n*l*h+i*s*d-n*a*d)+p*(+t*a*d-t*l*h+r*o*h-i*o*d+i*l*c-r*a*c)+m*(+t*l*u-t*s*d-r*o*u+n*o*d+r*s*c-n*l*c)+g*(-i*s*c-t*a*u+t*s*h+i*o*u-n*o*h+n*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],A=u*m*l-p*h*l+p*a*d-s*m*d-u*a*g+s*h*g,y=f*h*l-c*m*l-f*a*d+o*m*d+c*a*g-o*h*g,v=c*p*l-f*u*l+f*s*d-o*p*d-c*s*g+o*u*g,b=f*u*a-c*p*a-f*s*h+o*p*h+c*s*m-o*u*m,_=t*A+n*y+i*v+r*b;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=A*w,e[1]=(p*h*r-u*m*r-p*i*d+n*m*d+u*i*g-n*h*g)*w,e[2]=(s*m*r-p*a*r+p*i*l-n*m*l-s*i*g+n*a*g)*w,e[3]=(u*a*r-s*h*r-u*i*l+n*h*l+s*i*d-n*a*d)*w,e[4]=y*w,e[5]=(c*m*r-f*h*r+f*i*d-t*m*d-c*i*g+t*h*g)*w,e[6]=(f*a*r-o*m*r-f*i*l+t*m*l+o*i*g-t*a*g)*w,e[7]=(o*h*r-c*a*r+c*i*l-t*h*l-o*i*d+t*a*d)*w,e[8]=v*w,e[9]=(f*u*r-c*p*r-f*n*d+t*p*d+c*n*g-t*u*g)*w,e[10]=(o*p*r-f*s*r+f*n*l-t*p*l-o*n*g+t*s*g)*w,e[11]=(c*s*r-o*u*r-c*n*l+t*u*l+o*n*d-t*s*d)*w,e[12]=b*w,e[13]=(c*p*i-f*u*i+f*n*h-t*p*h-c*n*m+t*u*m)*w,e[14]=(f*s*i-o*p*i-f*n*a+t*p*a+o*n*m-t*s*m)*w,e[15]=(o*u*i-c*s*i+c*n*a-t*u*a-o*n*h+t*s*h)*w,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,u=s+s,h=r*l,d=r*c,f=r*u,p=o*c,m=o*u,g=s*u,A=a*l,y=a*c,v=a*u,b=n.x,_=n.y,w=n.z;return i[0]=(1-(p+g))*b,i[1]=(d+v)*b,i[2]=(f-y)*b,i[3]=0,i[4]=(d-v)*_,i[5]=(1-(h+g))*_,i[6]=(m+A)*_,i[7]=0,i[8]=(f+y)*w,i[9]=(m-A)*w,i[10]=(1-(h+p))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=Zi.set(i[0],i[1],i[2]).length();const o=Zi.set(i[4],i[5],i[6]).length(),s=Zi.set(i[8],i[9],i[10]).length(),a=this.determinant();a<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],er.copy(this);const l=1/r,c=1/o,u=1/s;return er.elements[0]*=l,er.elements[1]*=l,er.elements[2]*=l,er.elements[4]*=c,er.elements[5]*=c,er.elements[6]*=c,er.elements[8]*=u,er.elements[9]*=u,er.elements[10]*=u,t.setFromRotationMatrix(er),n.x=r,n.y=o,n.z=s,this}makePerspective(e,t,n,i,r,o){const s=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(o+r)/(o-r),d=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o){const s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),u=(t+e)*a,h=(n+i)*l,d=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Zi=new Zn,er=new Ji,tr=new Zn(0,0,0),nr=new Zn(1,1,1),ir=new Zn,rr=new Zn,or=new Zn,sr=new Ji,ar=new Jn;class lr{constructor(e=0,t=0,n=0,i=lr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],c=i[9],u=i[2],h=i[6],d=i[10];switch(t){case"XYZ":this._y=Math.asin(xn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(xn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-xn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return sr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sr,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ar.setFromEuler(this),this.setFromQuaternion(ar,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}lr.DEFAULT_ORDER="XYZ";class cr{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&(1<<e|0))}}let ur=0;const hr=new Zn,dr=new Jn,fr=new Ji,pr=new Zn,mr=new Zn,gr=new Zn,Ar=new Jn,yr=new Zn(1,0,0),vr=new Zn(0,1,0),br=new Zn(0,0,1),_r={type:"added"},wr={type:"removed"};class xr extends An{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ur++}),this.uuid=wn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xr.DEFAULT_UP.clone();const e=new Zn,t=new lr,n=new Jn,i=new Zn(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ji},normalMatrix:{value:new Wn}}),this.matrix=new Ji,this.matrixWorld=new Ji,this.matrixAutoUpdate=xr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return dr.setFromAxisAngle(e,t),this.quaternion.multiply(dr),this}rotateOnWorldAxis(e,t){return dr.setFromAxisAngle(e,t),this.quaternion.premultiply(dr),this}rotateX(e){return this.rotateOnAxis(yr,e)}rotateY(e){return this.rotateOnAxis(vr,e)}rotateZ(e){return this.rotateOnAxis(br,e)}translateOnAxis(e,t){return hr.copy(e).applyQuaternion(this.quaternion),this.position.add(hr.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(yr,e)}translateY(e){return this.translateOnAxis(vr,e)}translateZ(e){return this.translateOnAxis(br,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fr.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?pr.copy(e):pr.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),mr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fr.lookAt(mr,pr,this.up):fr.lookAt(pr,mr,this.up),this.quaternion.setFromRotationMatrix(fr),i&&(fr.extractRotation(i.matrixWorld),dr.setFromRotationMatrix(fr),this.quaternion.premultiply(dr.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_r)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wr)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(wr)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fr.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),fr.multiply(e.parent.matrixWorld)),e.applyMatrix4(fr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n],r=i.getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,r=this.children.length;i<r;i++){const r=this.children[i].getObjectsByProperty(e,t);r.length>0&&(n=n.concat(r))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mr,e,gr),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mr,Ar,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=o(e.geometries),i=o(e.materials),r=o(e.textures),s=o(e.images),a=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function o(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}xr.DEFAULT_UP=new Zn(0,1,0),xr.DEFAULT_MATRIX_AUTO_UPDATE=!0,xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Sr=new Zn,Tr=new Zn,Er=new Zn,Mr=new Zn,Cr=new Zn,Or=new Zn,kr=new Zn,Pr=new Zn,Ir=new Zn,Rr=new Zn;class Dr{constructor(e=new Zn,t=new Zn,n=new Zn){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Sr.subVectors(e,t),i.cross(Sr);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Sr.subVectors(i,t),Tr.subVectors(n,t),Er.subVectors(e,t);const o=Sr.dot(Sr),s=Sr.dot(Tr),a=Sr.dot(Er),l=Tr.dot(Tr),c=Tr.dot(Er),u=o*l-s*s;if(0===u)return r.set(-2,-1,-1);const h=1/u,d=(l*a-s*c)*h,f=(o*c-s*a)*h;return r.set(1-d-f,f,d)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Mr),Mr.x>=0&&Mr.y>=0&&Mr.x+Mr.y<=1}static getUV(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,Mr),a.set(0,0),a.addScaledVector(r,Mr.x),a.addScaledVector(o,Mr.y),a.addScaledVector(s,Mr.z),a}static isFrontFacing(e,t,n,i){return Sr.subVectors(n,t),Tr.subVectors(e,t),Sr.cross(Tr).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Sr.subVectors(this.c,this.b),Tr.subVectors(this.a,this.b),.5*Sr.cross(Tr).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Dr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Dr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return Dr.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Dr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Dr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let o,s;Cr.subVectors(i,n),Or.subVectors(r,n),Pr.subVectors(e,n);const a=Cr.dot(Pr),l=Or.dot(Pr);if(a<=0&&l<=0)return t.copy(n);Ir.subVectors(e,i);const c=Cr.dot(Ir),u=Or.dot(Ir);if(c>=0&&u<=c)return t.copy(i);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(Cr,o);Rr.subVectors(e,r);const d=Cr.dot(Rr),f=Or.dot(Rr);if(f>=0&&d<=f)return t.copy(r);const p=d*l-a*f;if(p<=0&&l>=0&&f<=0)return s=l/(l-f),t.copy(n).addScaledVector(Or,s);const m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return kr.subVectors(r,i),s=(u-c)/(u-c+(d-f)),t.copy(i).addScaledVector(kr,s);const g=1/(m+p+h);return o=p*g,s=h*g,t.copy(n).addScaledVector(Cr,o).addScaledVector(Or,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Lr=0;class Nr extends An{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Lr++}),this.uuid=wn(),this.name="",this.type="Material",this.blending=A,this.side=d,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=P,this.blendDst=I,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=z,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=rn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vt,this.stencilZFail=Vt,this.stencilZPass=Vt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==A&&(n.blending=this.blending),this.side!==d&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const Br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fr={h:0,s:0,l:0},jr={h:0,s:0,l:0};function Ur(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class zr{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=jt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,hi.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=hi.workingColorSpace){return this.r=e,this.g=t,this.b=n,hi.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=hi.workingColorSpace){if(e=Sn(e,1),t=xn(t,0,1),n=xn(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Ur(r,i,e+1/3),this.g=Ur(r,i,e),this.b=Ur(r,i,e-1/3)}return hi.toWorkingColorSpace(this,i),this}setStyle(e,t=jt){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,hi.toWorkingColorSpace(this,t),n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,hi.toWorkingColorSpace(this,t),n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const e=parseFloat(r[1])/360,i=parseFloat(r[2])/100,o=parseFloat(r[3])/100;return n(r[4]),this.setHSL(e,i,o,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=i[1],r=n.length;if(3===r)return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,hi.toWorkingColorSpace(this,t),this;if(6===r)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,hi.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=jt){const n=Br[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ni(e.r),this.g=ni(e.g),this.b=ni(e.b),this}copyLinearToSRGB(e){return this.r=ii(e.r),this.g=ii(e.g),this.b=ii(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=jt){return hi.fromWorkingColorSpace(qr.copy(this),e),xn(255*qr.r,0,255)<<16^xn(255*qr.g,0,255)<<8^xn(255*qr.b,0,255)<<0}getHexString(e=jt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=hi.workingColorSpace){hi.fromWorkingColorSpace(qr.copy(this),t);const n=qr.r,i=qr.g,r=qr.b,o=Math.max(n,i,r),s=Math.min(n,i,r);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const e=o-s;switch(l=c<=.5?e/(o+s):e/(2-o-s),o){case n:a=(i-r)/e+(i<r?6:0);break;case i:a=(r-n)/e+2;break;case r:a=(n-i)/e+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getRGB(e,t=hi.workingColorSpace){return hi.fromWorkingColorSpace(qr.copy(this),t),e.r=qr.r,e.g=qr.g,e.b=qr.b,e}getStyle(e=jt){hi.fromWorkingColorSpace(qr.copy(this),e);const t=qr.r,n=qr.g,i=qr.b;return e!==jt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${255*t|0},${255*n|0},${255*i|0})`}offsetHSL(e,t,n){return this.getHSL(Fr),Fr.h+=e,Fr.s+=t,Fr.l+=n,this.setHSL(Fr.h,Fr.s,Fr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Fr),e.getHSL(jr);const n=Mn(Fr.h,jr.h,t),i=Mn(Fr.s,jr.s,t),r=Mn(Fr.l,jr.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const qr=new zr;zr.NAMES=Br;class Vr extends Nr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new zr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hr=new Zn,Gr=new Gn;class Wr{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=on,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Gr.fromBufferAttribute(this,t),Gr.applyMatrix3(e),this.setXY(t,Gr.x,Gr.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Hr.fromBufferAttribute(this,t),Hr.applyMatrix3(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Hr.fromBufferAttribute(this,t),Hr.applyMatrix4(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Hr.fromBufferAttribute(this,t),Hr.applyNormalMatrix(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Hr.fromBufferAttribute(this,t),Hr.transformDirection(e),this.setXYZ(t,Hr.x,Hr.y,Hr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=qn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=qn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=qn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=qn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Vn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),i=Vn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),i=Vn(i,this.array),r=Vn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==on&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class $r extends Wr{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Xr extends Wr{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Yr extends Wr{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Kr extends Wr{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Qr extends Wr{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Jr extends Wr{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Zr extends Wr{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class eo extends Wr{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class to extends Wr{constructor(e,t,n){super(new Float32Array(e),t,n)}}class no extends Wr{constructor(e,t,n){super(new Float64Array(e),t,n)}}let io=0;const ro=new Ji,oo=new xr,so=new Zn,ao=new Ti,lo=new Ti,co=new Zn;class uo extends An{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:io++}),this.uuid=wn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Xn(e)?Zr:Qr)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Wn).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ro.makeRotationFromQuaternion(e),this.applyMatrix4(ro),this}rotateX(e){return ro.makeRotationX(e),this.applyMatrix4(ro),this}rotateY(e){return ro.makeRotationY(e),this.applyMatrix4(ro),this}rotateZ(e){return ro.makeRotationZ(e),this.applyMatrix4(ro),this}translate(e,t,n){return ro.makeTranslation(e,t,n),this.applyMatrix4(ro),this}scale(e,t,n){return ro.makeScale(e,t,n),this.applyMatrix4(ro),this}lookAt(e){return oo.lookAt(e),oo.updateMatrix(),this.applyMatrix4(oo.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(so).negate(),this.translate(so.x,so.y,so.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new to(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Ti);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Zn(-1/0,-1/0,-1/0),new Zn(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const e=t[n];ao.setFromBufferAttribute(e),this.morphTargetsRelative?(co.addVectors(this.boundingBox.min,ao.min),this.boundingBox.expandByPoint(co),co.addVectors(this.boundingBox.max,ao.max),this.boundingBox.expandByPoint(co)):(this.boundingBox.expandByPoint(ao.min),this.boundingBox.expandByPoint(ao.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Vi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Zn,1/0);if(e){const n=this.boundingSphere.center;if(ao.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const n=t[e];lo.setFromBufferAttribute(n),this.morphTargetsRelative?(co.addVectors(ao.min,lo.min),ao.expandByPoint(co),co.addVectors(ao.max,lo.max),ao.expandByPoint(co)):(ao.expandByPoint(lo.min),ao.expandByPoint(lo.max))}ao.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)co.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(co));if(t)for(let r=0,o=t.length;r<o;r++){const o=t[r],s=this.morphTargetsRelative;for(let t=0,r=o.count;t<r;t++)co.fromBufferAttribute(o,t),s&&(so.fromBufferAttribute(e,t),co.add(so)),i=Math.max(i,n.distanceToSquared(co))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,s=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Wr(new Float32Array(4*s),4));const a=this.getAttribute("tangent").array,l=[],c=[];for(let T=0;T<s;T++)l[T]=new Zn,c[T]=new Zn;const u=new Zn,h=new Zn,d=new Zn,f=new Gn,p=new Gn,m=new Gn,g=new Zn,A=new Zn;function y(e,t,n){u.fromArray(i,3*e),h.fromArray(i,3*t),d.fromArray(i,3*n),f.fromArray(o,2*e),p.fromArray(o,2*t),m.fromArray(o,2*n),h.sub(u),d.sub(u),p.sub(f),m.sub(f);const r=1/(p.x*m.y-m.x*p.y);isFinite(r)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar(r),A.copy(d).multiplyScalar(p.x).addScaledVector(h,-m.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(A),c[t].add(A),c[n].add(A))}let v=this.groups;0===v.length&&(v=[{start:0,count:n.length}]);for(let T=0,E=v.length;T<E;++T){const e=v[T],t=e.start,i=e.count;for(let r=t,o=t+i;r<o;r+=3)y(n[r+0],n[r+1],n[r+2])}const b=new Zn,_=new Zn,w=new Zn,x=new Zn;function S(e){w.fromArray(r,3*e),x.copy(w);const t=l[e];b.copy(t),b.sub(w.multiplyScalar(w.dot(t))).normalize(),_.crossVectors(x,t);const n=_.dot(c[e]),i=n<0?-1:1;a[4*e]=b.x,a[4*e+1]=b.y,a[4*e+2]=b.z,a[4*e+3]=i}for(let T=0,E=v.length;T<E;++T){const e=v[T],t=e.start,i=e.count;for(let r=t,o=t+i;r<o;r+=3)S(n[r+0]),S(n[r+1]),S(n[r+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Wr(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new Zn,r=new Zn,o=new Zn,s=new Zn,a=new Zn,l=new Zn,c=new Zn,u=new Zn;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,f),o.fromBufferAttribute(t,p),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,d),a.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),s.add(c),a.add(c),l.add(c),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(f,a.x,a.y,a.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)co.fromBufferAttribute(e,t),co.normalize(),e.setXYZ(t,co.x,co.y,co.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,o=new n.constructor(t.length*i);let s=0,a=0;for(let l=0,c=t.length;l<c;l++){s=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*i;for(let e=0;e<i;e++)o[a++]=n[s++]}return new Wr(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new uo,n=this.index.array,i=this.attributes;for(const s in i){const r=i[s],o=e(r,n);t.setAttribute(s,o)}const r=this.morphAttributes;for(const s in r){const i=[],o=r[s];for(let t=0,r=o.length;t<r;t++){const r=o[t],s=e(r,n);i.push(s)}t.morphAttributes[s]=i}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const e=o[s];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const t=n[a];e.data.attributes[a]=t.toJSON(e.data)}const i={};let r=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];n.push(r.toJSON(e.data))}n.length>0&&(i[a]=n,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const e=i[l];this.setAttribute(l,e.clone(t))}const r=e.morphAttributes;for(const l in r){const e=[],n=r[l];for(let i=0,r=n.length;i<r;i++)e.push(n[i].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ho=new Ji,fo=new Qi,po=new Vi,mo=new Zn,go=new Zn,Ao=new Zn,yo=new Zn,vo=new Zn,bo=new Zn,_o=new Gn,wo=new Gn,xo=new Gn,So=new Zn,To=new Zn;class Eo extends xr{constructor(e=new uo,t=new Vr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(r&&s){bo.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=s[n],a=r[n];0!==i&&(vo.fromBufferAttribute(a,e),o?bo.addScaledVector(vo,i):bo.addScaledVector(vo.sub(t),i))}t.add(bo)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),po.copy(n.boundingSphere),po.applyMatrix4(r),fo.copy(e.ray).recast(e.near),!1===po.containsPoint(fo.origin)){if(null===fo.intersectSphere(po,mo))return;if(fo.origin.distanceToSquared(mo)>(e.far-e.near)**2)return}if(ho.copy(r).invert(),fo.copy(e.ray).applyMatrix4(ho),null!==n.boundingBox&&!1===fo.intersectsBox(n.boundingBox))return;let o;const s=n.index,a=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.groups,h=n.drawRange;if(null!==s)if(Array.isArray(i))for(let d=0,f=u.length;d<f;d++){const n=u[d],r=i[n.materialIndex],a=Math.max(n.start,h.start),f=Math.min(s.count,Math.min(n.start+n.count,h.start+h.count));for(let i=a,u=f;i<u;i+=3){const a=s.getX(i),u=s.getX(i+1),h=s.getX(i+2);o=Co(this,r,e,fo,l,c,a,u,h),o&&(o.faceIndex=Math.floor(i/3),o.face.materialIndex=n.materialIndex,t.push(o))}}else{const n=Math.max(0,h.start),r=Math.min(s.count,h.start+h.count);for(let a=n,u=r;a<u;a+=3){const n=s.getX(a),r=s.getX(a+1),u=s.getX(a+2);o=Co(this,i,e,fo,l,c,n,r,u),o&&(o.faceIndex=Math.floor(a/3),t.push(o))}}else if(void 0!==a)if(Array.isArray(i))for(let d=0,f=u.length;d<f;d++){const n=u[d],r=i[n.materialIndex],s=Math.max(n.start,h.start),f=Math.min(a.count,Math.min(n.start+n.count,h.start+h.count));for(let i=s,a=f;i<a;i+=3){const s=i,a=i+1,u=i+2;o=Co(this,r,e,fo,l,c,s,a,u),o&&(o.faceIndex=Math.floor(i/3),o.face.materialIndex=n.materialIndex,t.push(o))}}else{const n=Math.max(0,h.start),r=Math.min(a.count,h.start+h.count);for(let s=n,a=r;s<a;s+=3){const n=s,r=s+1,a=s+2;o=Co(this,i,e,fo,l,c,n,r,a),o&&(o.faceIndex=Math.floor(s/3),t.push(o))}}}}function Mo(e,t,n,i,r,o,s,a){let l;if(l=t.side===f?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,t.side===d,a),null===l)return null;To.copy(a),To.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(To);return c<n.near||c>n.far?null:{distance:c,point:To.clone(),object:e}}function Co(e,t,n,i,r,o,s,a,l){e.getVertexPosition(s,go),e.getVertexPosition(a,Ao),e.getVertexPosition(l,yo);const c=Mo(e,t,n,i,go,Ao,yo,So);if(c){r&&(_o.fromBufferAttribute(r,s),wo.fromBufferAttribute(r,a),xo.fromBufferAttribute(r,l),c.uv=Dr.getUV(So,go,Ao,yo,_o,wo,xo,new Gn)),o&&(_o.fromBufferAttribute(o,s),wo.fromBufferAttribute(o,a),xo.fromBufferAttribute(o,l),c.uv2=Dr.getUV(So,go,Ao,yo,_o,wo,xo,new Gn));const e={a:s,b:a,c:l,normal:new Zn,materialIndex:0};Dr.getNormal(go,Ao,yo,e.normal),c.face=e}return c}class Oo extends uo{constructor(e=1,t=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],l=[],c=[],u=[];let h=0,d=0;function f(e,t,n,i,r,o,f,p,m,g,A){const y=o/m,v=f/g,b=o/2,_=f/2,w=p/2,x=m+1,S=g+1;let T=0,E=0;const M=new Zn;for(let s=0;s<S;s++){const o=s*v-_;for(let a=0;a<x;a++){const h=a*y-b;M[e]=h*i,M[t]=o*r,M[n]=w,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,c.push(M.x,M.y,M.z),u.push(a/m),u.push(1-s/g),T+=1}}for(let s=0;s<g;s++)for(let e=0;e<m;e++){const t=h+e+x*s,n=h+e+x*(s+1),i=h+(e+1)+x*(s+1),r=h+(e+1)+x*s;a.push(t,n,r),a.push(n,i,r),E+=6}s.addGroup(d,E,A),d+=E,h+=T}f("z","y","x",-1,-1,n,t,e,o,r,0),f("z","y","x",1,-1,n,t,-e,o,r,1),f("x","z","y",1,1,e,n,t,i,o,2),f("x","z","y",1,-1,e,n,-t,i,o,3),f("x","y","z",1,-1,e,t,n,i,r,4),f("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new to(l,3)),this.setAttribute("normal",new to(c,3)),this.setAttribute("uv",new to(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Oo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ko(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Po(e){const t={};for(let n=0;n<e.length;n++){const i=ko(e[n]);for(const e in i)t[e]=i[e]}return t}function Io(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function Ro(e){return null===e.getRenderTarget()&&e.outputEncoding===Rt?jt:Ut}const Do={clone:ko,merge:Po};var Lo="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",No="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class Bo extends Nr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Lo,this.fragmentShader=No,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ko(e.uniforms),this.uniformsGroups=Io(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i],r=n.value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Fo extends xr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ji,this.projectionMatrix=new Ji,this.projectionMatrixInverse=new Ji}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class jo extends Fo{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*_n*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*bn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*_n*Math.atan(Math.tan(.5*bn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*bn*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/e,t-=o.offsetY*n/s,i*=o.width/e,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Uo=-90,zo=1;class qo extends xr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const i=new jo(Uo,zo,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const r=new jo(Uo,zo,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);const o=new jo(Uo,zo,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const s=new jo(Uo,zo,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);const a=new jo(Uo,zo,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(0,0,1),this.add(a);const l=new jo(Uo,zo,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[i,r,o,s,a,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,h=e.xr.enabled;e.toneMapping=Y,e.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class Vo extends Ai{constructor(e,t,n,i,r,o,s,a,l,c){e=void 0!==e?e:[],t=void 0!==t?t:ne,super(e,t,n,i,r,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ho extends vi{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new Vo(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:me}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},i=new Oo(5,5,5),r=new Bo({name:"CubemapFromEquirect",uniforms:ko(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:f,blending:g});r.uniforms.tEquirect.value=t;const o=new Eo(i,r),s=t.minFilter;t.minFilter===ye&&(t.minFilter=me);const a=new qo(1,10,this);return a.update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}}const Go=new Zn,Wo=new Zn,$o=new Wn;class Xo{constructor(e=new Zn(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=Go.subVectors(n,t).cross(Wo.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Go),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||$o.getNormalMatrix(e),i=this.coplanarPoint(Go).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Yo=new Vi,Ko=new Zn;class Qo{constructor(e=new Xo,t=new Xo,n=new Xo,i=new Xo,r=new Xo,o=new Xo){this.planes=[e,t,n,i,r,o]}set(e,t,n,i,r,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],A=n[14],y=n[15];return t[0].setComponents(s-i,u-a,p-h,y-m).normalize(),t[1].setComponents(s+i,u+a,p+h,y+m).normalize(),t[2].setComponents(s+r,u+l,p+d,y+g).normalize(),t[3].setComponents(s-r,u-l,p-d,y-g).normalize(),t[4].setComponents(s-o,u-c,p-f,y-A).normalize(),t[5].setComponents(s+o,u+c,p+f,y+A).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Yo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Yo)}intersectsSprite(e){return Yo.center.set(0,0,0),Yo.radius=.7071067811865476,Yo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yo)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++){const e=t[r].distanceToPoint(n);if(e<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Ko.x=i.normal.x>0?e.max.x:e.min.x,Ko.y=i.normal.y>0?e.max.y:e.min.y,Ko.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ko)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Jo(){let e=null,t=!1,n=null,i=null;function r(t,o){n(t,o),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Zo(e,t){const n=t.isWebGL2,i=new WeakMap;function r(t,i){const r=t.array,o=t.usage,s=e.createBuffer();let a;if(e.bindBuffer(i,s),e.bufferData(i,r,o),t.onUploadCallback(),r instanceof Float32Array)a=e.FLOAT;else if(r instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");a=e.HALF_FLOAT}else a=e.UNSIGNED_SHORT;else if(r instanceof Int16Array)a=e.SHORT;else if(r instanceof Uint32Array)a=e.UNSIGNED_INT;else if(r instanceof Int32Array)a=e.INT;else if(r instanceof Int8Array)a=e.BYTE;else if(r instanceof Uint8Array)a=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);a=e.UNSIGNED_BYTE}return{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function o(t,i,r){const o=i.array,s=i.updateRange;e.bindBuffer(r,t),-1===s.count?e.bufferSubData(r,0,o):(n?e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1),i.onUploadCallback()}function s(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)}function a(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))}function l(e,t){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);void 0===n?i.set(e,r(e,t)):n.version<e.version&&(o(n.buffer,e,t),n.version=e.version)}return{get:s,remove:a,update:l}}class es extends uo{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,o=t/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,u=e/s,h=t/a,d=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*h-o;for(let t=0;t<l;t++){const n=t*u-r;f.push(n,-e,0),p.push(0,0,1),m.push(t/s),m.push(1-g/a)}}for(let g=0;g<a;g++)for(let e=0;e<s;e++){const t=e+l*g,n=e+l*(g+1),i=e+1+l*(g+1),r=e+1+l*g;d.push(t,n,r),d.push(n,i,r)}this.setIndex(d),this.setAttribute("position",new to(f,3)),this.setAttribute("normal",new to(p,3)),this.setAttribute("uv",new to(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new es(e.width,e.height,e.widthSegments,e.heightSegments)}}var ts="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",ns="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",is="#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",rs="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",os="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",ss="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",as="vec3 transformed = vec3( position );",ls="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",cs="vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",us="#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",hs="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",ds="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",fs="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",ps="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",ms="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",gs="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",As="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",ys="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",vs="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",bs="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nfloat w0( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n}\nfloat w1( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n}\nfloat w2( float a ){\n    return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n}\nfloat w3( float a ) {\n\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n}\nfloat g0( float a ) {\n\treturn w0( a ) + w1( a );\n}\nfloat g1( float a ) {\n\treturn w2( a ) + w3( a );\n}\nfloat h0( float a ) {\n\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n}\nfloat h1( float a ) {\n    return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n}\nvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\tuv = uv * texelSize.zw + 0.5;\n\tvec2 iuv = floor( uv );\n    vec2 fuv = fract( uv );\n    float g0x = g0( fuv.x );\n    float g1x = g1( fuv.x );\n    float h0x = h0( fuv.x );\n    float h1x = h1( fuv.x );\n    float h0y = h0( fuv.y );\n    float h1y = h1( fuv.y );\n    vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n    vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n    vec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n}\nvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\treturn mix( fSample, cSample, fract( lod ) );\n}",_s="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",ws="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",xs="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",Ss="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",Ts="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Es="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",Ms="gl_FragColor = linearToOutputTexel( gl_FragColor );",Cs="vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",Os="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",ks="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",Ps="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Is="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",Rs="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Ds="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",Ls="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",Ns="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",Bs="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Fs="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",js="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",Us="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",zs="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",qs="varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",Vs="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",Hs="#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",Gs="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",Ws="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",$s="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Xs="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",Ys="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",Ks="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Qs="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Js="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",Zs="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",ea="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",ta="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",na="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",ia="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",ra="#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",oa="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",sa="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",aa="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",la="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",ca="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",ua="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",ha="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",da="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",fa="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",pa="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",ma="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",ga="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",Aa="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",ya="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",va="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",ba="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",_a="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",wa="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",xa="#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",Sa="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",Ta="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",Ea="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",Ma="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",Ca="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Oa="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",ka="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Pa="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Ia="#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",Ra="#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",Da="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",La="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",Na="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Ba="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",Fa="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",ja="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",Ua="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",za="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",qa="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Va="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",Ha="#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",Ga="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",Wa="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",$a="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",Xa="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Ya="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Ka="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",Qa="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",Ja="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif";const Za="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",el="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",tl="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",nl="#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",il="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",rl="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",ol="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",sl="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",al="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",ll="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",cl="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",ul="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",hl="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",dl="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",fl="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",pl="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ml="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",gl="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Al="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",yl="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",vl="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",bl="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",_l="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",wl="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",xl="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",Sl="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Tl="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",El="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Ml="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",Cl="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Ol="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",kl="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Pl="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Il="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Rl={alphamap_fragment:ts,alphamap_pars_fragment:ns,alphatest_fragment:is,alphatest_pars_fragment:rs,aomap_fragment:os,aomap_pars_fragment:ss,begin_vertex:as,beginnormal_vertex:ls,bsdfs:cs,iridescence_fragment:us,bumpmap_pars_fragment:hs,clipping_planes_fragment:ds,clipping_planes_pars_fragment:fs,clipping_planes_pars_vertex:ps,clipping_planes_vertex:ms,color_fragment:gs,color_pars_fragment:As,color_pars_vertex:ys,color_vertex:vs,common:bs,cube_uv_reflection_fragment:_s,defaultnormal_vertex:ws,displacementmap_pars_vertex:xs,displacementmap_vertex:Ss,emissivemap_fragment:Ts,emissivemap_pars_fragment:Es,encodings_fragment:Ms,encodings_pars_fragment:Cs,envmap_fragment:Os,envmap_common_pars_fragment:ks,envmap_pars_fragment:Ps,envmap_pars_vertex:Is,envmap_physical_pars_fragment:Hs,envmap_vertex:Rs,fog_vertex:Ds,fog_pars_vertex:Ls,fog_fragment:Ns,fog_pars_fragment:Bs,gradientmap_pars_fragment:Fs,lightmap_fragment:js,lightmap_pars_fragment:Us,lights_lambert_fragment:zs,lights_lambert_pars_fragment:qs,lights_pars_begin:Vs,lights_toon_fragment:Gs,lights_toon_pars_fragment:Ws,lights_phong_fragment:$s,lights_phong_pars_fragment:Xs,lights_physical_fragment:Ys,lights_physical_pars_fragment:Ks,lights_fragment_begin:Qs,lights_fragment_maps:Js,lights_fragment_end:Zs,logdepthbuf_fragment:ea,logdepthbuf_pars_fragment:ta,logdepthbuf_pars_vertex:na,logdepthbuf_vertex:ia,map_fragment:ra,map_pars_fragment:oa,map_particle_fragment:sa,map_particle_pars_fragment:aa,metalnessmap_fragment:la,metalnessmap_pars_fragment:ca,morphcolor_vertex:ua,morphnormal_vertex:ha,morphtarget_pars_vertex:da,morphtarget_vertex:fa,normal_fragment_begin:pa,normal_fragment_maps:ma,normal_pars_fragment:ga,normal_pars_vertex:Aa,normal_vertex:ya,normalmap_pars_fragment:va,clearcoat_normal_fragment_begin:ba,clearcoat_normal_fragment_maps:_a,clearcoat_pars_fragment:wa,iridescence_pars_fragment:xa,output_fragment:Sa,packing:Ta,premultiplied_alpha_fragment:Ea,project_vertex:Ma,dithering_fragment:Ca,dithering_pars_fragment:Oa,roughnessmap_fragment:ka,roughnessmap_pars_fragment:Pa,shadowmap_pars_fragment:Ia,shadowmap_pars_vertex:Ra,shadowmap_vertex:Da,shadowmask_pars_fragment:La,skinbase_vertex:Na,skinning_pars_vertex:Ba,skinning_vertex:Fa,skinnormal_vertex:ja,specularmap_fragment:Ua,specularmap_pars_fragment:za,tonemapping_fragment:qa,tonemapping_pars_fragment:Va,transmission_fragment:Ha,transmission_pars_fragment:Ga,uv_pars_fragment:Wa,uv_pars_vertex:$a,uv_vertex:Xa,uv2_pars_fragment:Ya,uv2_pars_vertex:Ka,uv2_vertex:Qa,worldpos_vertex:Ja,background_vert:Za,background_frag:el,backgroundCube_vert:tl,backgroundCube_frag:nl,cube_vert:il,cube_frag:rl,depth_vert:ol,depth_frag:sl,distanceRGBA_vert:al,distanceRGBA_frag:ll,equirect_vert:cl,equirect_frag:ul,linedashed_vert:hl,linedashed_frag:dl,meshbasic_vert:fl,meshbasic_frag:pl,meshlambert_vert:ml,meshlambert_frag:gl,meshmatcap_vert:Al,meshmatcap_frag:yl,meshnormal_vert:vl,meshnormal_frag:bl,meshphong_vert:_l,meshphong_frag:wl,meshphysical_vert:xl,meshphysical_frag:Sl,meshtoon_vert:Tl,meshtoon_frag:El,points_vert:Ml,points_frag:Cl,shadow_vert:Ol,shadow_frag:kl,sprite_vert:Pl,sprite_frag:Il},Dl={common:{diffuse:{value:new zr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Wn},uv2Transform:{value:new Wn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Gn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wn}},sprite:{diffuse:{value:new zr(16777215)},opacity:{value:1},center:{value:new Gn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wn}}},Ll={basic:{uniforms:Po([Dl.common,Dl.specularmap,Dl.envmap,Dl.aomap,Dl.lightmap,Dl.fog]),vertexShader:Rl.meshbasic_vert,fragmentShader:Rl.meshbasic_frag},lambert:{uniforms:Po([Dl.common,Dl.specularmap,Dl.envmap,Dl.aomap,Dl.lightmap,Dl.emissivemap,Dl.bumpmap,Dl.normalmap,Dl.displacementmap,Dl.fog,Dl.lights,{emissive:{value:new zr(0)}}]),vertexShader:Rl.meshlambert_vert,fragmentShader:Rl.meshlambert_frag},phong:{uniforms:Po([Dl.common,Dl.specularmap,Dl.envmap,Dl.aomap,Dl.lightmap,Dl.emissivemap,Dl.bumpmap,Dl.normalmap,Dl.displacementmap,Dl.fog,Dl.lights,{emissive:{value:new zr(0)},specular:{value:new zr(1118481)},shininess:{value:30}}]),vertexShader:Rl.meshphong_vert,fragmentShader:Rl.meshphong_frag},standard:{uniforms:Po([Dl.common,Dl.envmap,Dl.aomap,Dl.lightmap,Dl.emissivemap,Dl.bumpmap,Dl.normalmap,Dl.displacementmap,Dl.roughnessmap,Dl.metalnessmap,Dl.fog,Dl.lights,{emissive:{value:new zr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rl.meshphysical_vert,fragmentShader:Rl.meshphysical_frag},toon:{uniforms:Po([Dl.common,Dl.aomap,Dl.lightmap,Dl.emissivemap,Dl.bumpmap,Dl.normalmap,Dl.displacementmap,Dl.gradientmap,Dl.fog,Dl.lights,{emissive:{value:new zr(0)}}]),vertexShader:Rl.meshtoon_vert,fragmentShader:Rl.meshtoon_frag},matcap:{uniforms:Po([Dl.common,Dl.bumpmap,Dl.normalmap,Dl.displacementmap,Dl.fog,{matcap:{value:null}}]),vertexShader:Rl.meshmatcap_vert,fragmentShader:Rl.meshmatcap_frag},points:{uniforms:Po([Dl.points,Dl.fog]),vertexShader:Rl.points_vert,fragmentShader:Rl.points_frag},dashed:{uniforms:Po([Dl.common,Dl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rl.linedashed_vert,fragmentShader:Rl.linedashed_frag},depth:{uniforms:Po([Dl.common,Dl.displacementmap]),vertexShader:Rl.depth_vert,fragmentShader:Rl.depth_frag},normal:{uniforms:Po([Dl.common,Dl.bumpmap,Dl.normalmap,Dl.displacementmap,{opacity:{value:1}}]),vertexShader:Rl.meshnormal_vert,fragmentShader:Rl.meshnormal_frag},sprite:{uniforms:Po([Dl.sprite,Dl.fog]),vertexShader:Rl.sprite_vert,fragmentShader:Rl.sprite_frag},background:{uniforms:{uvTransform:{value:new Wn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Rl.background_vert,fragmentShader:Rl.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Rl.backgroundCube_vert,fragmentShader:Rl.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Rl.cube_vert,fragmentShader:Rl.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rl.equirect_vert,fragmentShader:Rl.equirect_frag},distanceRGBA:{uniforms:Po([Dl.common,Dl.displacementmap,{referencePosition:{value:new Zn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rl.distanceRGBA_vert,fragmentShader:Rl.distanceRGBA_frag},shadow:{uniforms:Po([Dl.lights,Dl.fog,{color:{value:new zr(0)},opacity:{value:1}}]),vertexShader:Rl.shadow_vert,fragmentShader:Rl.shadow_frag}};Ll.physical={uniforms:Po([Ll.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Gn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new zr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Gn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new zr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new zr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Rl.meshphysical_vert,fragmentShader:Rl.meshphysical_frag};const Nl={r:0,b:0,g:0};function Bl(e,t,n,i,r,o,s){const a=new zr(0);let l,c,u=!0===o?0:1,h=null,p=0,m=null;function g(i,o){let s=!1,g=!0===o.isScene?o.background:null;if(g&&g.isTexture){const e=o.backgroundBlurriness>0;g=(e?n:t).get(g)}const y=e.xr,v=y.getSession&&y.getSession();v&&"additive"===v.environmentBlendMode&&(g=null),null===g?A(a,u):g&&g.isColor&&(A(g,1),s=!0),(e.autoClear||s)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===se)?(void 0===c&&(c=new Eo(new Oo(1,1,1),new Bo({name:"BackgroundCubeMaterial",uniforms:ko(Ll.backgroundCube.uniforms),vertexShader:Ll.backgroundCube.vertexShader,fragmentShader:Ll.backgroundCube.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=g,c.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=o.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,c.material.toneMapped=g.encoding!==Rt,h===g&&p===g.version&&m===e.toneMapping||(c.material.needsUpdate=!0,h=g,p=g.version,m=e.toneMapping),c.layers.enableAll(),i.unshift(c,c.geometry,c.material,0,0,null)):g&&g.isTexture&&(void 0===l&&(l=new Eo(new es(2,2),new Bo({name:"BackgroundMaterial",uniforms:ko(Ll.background.uniforms),vertexShader:Ll.background.vertexShader,fragmentShader:Ll.background.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=g,l.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,l.material.toneMapped=g.encoding!==Rt,!0===g.matrixAutoUpdate&&g.updateMatrix(),l.material.uniforms.uvTransform.value.copy(g.matrix),h===g&&p===g.version&&m===e.toneMapping||(l.material.needsUpdate=!0,h=g,p=g.version,m=e.toneMapping),l.layers.enableAll(),i.unshift(l,l.geometry,l.material,0,0,null))}function A(t,n){t.getRGB(Nl,Ro(e)),i.buffers.color.setClear(Nl.r,Nl.g,Nl.b,n,s)}return{getClearColor:function(){return a},setClearColor:function(e,t=1){a.set(e),u=t,A(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,A(a,u)},render:g}}function Fl(e,t,n,i){const r=e.getParameter(e.MAX_VERTEX_ATTRIBS),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},l=g(null);let c=l,u=!1;function h(t,i,r,o,a){let l=!1;if(s){const e=m(o,r,i);c!==e&&(c=e,f(c.object)),l=A(t,o,r,a),l&&y(t,o,r,a)}else{const e=!0===i.wireframe;c.geometry===o.id&&c.program===r.id&&c.wireframe===e||(c.geometry=o.id,c.program=r.id,c.wireframe=e,l=!0)}null!==a&&n.update(a,e.ELEMENT_ARRAY_BUFFER),(l||u)&&(u=!1,S(t,i,r,o),null!==a&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(a).buffer))}function d(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function f(t){return i.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function p(t){return i.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function m(e,t,n){const i=!0===n.wireframe;let r=a[e.id];void 0===r&&(r={},a[e.id]=r);let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[i];return void 0===s&&(s=g(d()),o[i]=s),s}function g(e){const t=[],n=[],i=[];for(let o=0;o<r;o++)t[o]=0,n[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function A(e,t,n,i){const r=c.attributes,o=t.attributes;let s=0;const a=n.getAttributes();for(const l in a){const t=a[l];if(t.location>=0){const t=r[l];let n=o[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return c.attributesNum!==s||c.index!==i}function y(e,t,n,i){const r={},o=t.attributes;let s=0;const a=n.getAttributes();for(const l in a){const t=a[l];if(t.location>=0){let t=o[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),r[l]=n,s++}}c.attributes=r,c.attributesNum=s,c.index=i}function v(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function b(e){_(e,0)}function _(n,r){const o=c.newAttributes,s=c.enabledAttributes,a=c.attributeDivisors;if(o[n]=1,0===s[n]&&(e.enableVertexAttribArray(n),s[n]=1),a[n]!==r){const o=i.isWebGL2?e:t.get("ANGLE_instanced_arrays");o[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r}}function w(){const t=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function x(t,n,r,o,s,a){!0!==i.isWebGL2||r!==e.INT&&r!==e.UNSIGNED_INT?e.vertexAttribPointer(t,n,r,o,s,a):e.vertexAttribIPointer(t,n,r,s,a)}function S(r,o,s,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;v();const l=a.attributes,c=s.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const i=c[t];if(i.location>=0){let o=l[t];if(void 0===o&&("instanceMatrix"===t&&r.instanceMatrix&&(o=r.instanceMatrix),"instanceColor"===t&&r.instanceColor&&(o=r.instanceColor)),void 0!==o){const t=o.normalized,s=o.itemSize,l=n.get(o);if(void 0===l)continue;const c=l.buffer,u=l.type,h=l.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,l=n.stride,d=o.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)_(i.location+e,n.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<i.locationSize;e++)b(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)x(i.location+e,s/i.locationSize,u,t,l*h,(d+s/i.locationSize*e)*h)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)_(i.location+e,o.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<i.locationSize;e++)b(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<i.locationSize;e++)x(i.location+e,s/i.locationSize,u,t,s*h,s/i.locationSize*e*h)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(i.location,n);break;case 3:e.vertexAttrib3fv(i.location,n);break;case 4:e.vertexAttrib4fv(i.location,n);break;default:e.vertexAttrib1fv(i.location,n)}}}}w()}function T(){C();for(const e in a){const t=a[e];for(const e in t){const n=t[e];for(const e in n)p(n[e].object),delete n[e];delete t[e]}delete a[e]}}function E(e){if(void 0===a[e.id])return;const t=a[e.id];for(const n in t){const e=t[n];for(const t in e)p(e[t].object),delete e[t];delete t[n]}delete a[e.id]}function M(e){for(const t in a){const n=a[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)p(i[e].object),delete i[e];delete n[e.id]}}function C(){O(),u=!0,c!==l&&(c=l,f(c.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:C,resetDefaultState:O,dispose:T,releaseStatesOfGeometry:E,releaseStatesOfProgram:M,initAttributes:v,enableAttribute:b,disableUnusedAttributes:w}}function jl(e,t,n,i){const r=i.isWebGL2;let o;function s(e){o=e}function a(t,i){e.drawArrays(o,t,i),n.update(i,o,1)}function l(i,s,a){if(0===a)return;let l,c;if(r)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,i,s,a),n.update(s,o,a)}this.setMode=s,this.render=a,this.renderInstances=l}function Ul(e,t,n){let i;function r(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;let a=void 0!==n.precision?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=s||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,h=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),p=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),m=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),A=e.getParameter(e.MAX_VARYING_VECTORS),y=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=d>0,b=s||t.has("OES_texture_float"),_=v&&b,w=s?e.getParameter(e.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:A,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:_,maxSamples:w}}function zl(e){const t=this;let n=null,i=0,r=!1,o=!1;const s=new Xo,a=new Wn,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(e,n,i,r){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const t=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=i;n!==o;++n,l+=4)s.copy(e[n]).applyMatrix4(r,a),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(t,s,a){const h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!r||null===h||0===h.length||o&&!f)o?u(null):c();else{const e=o?0:i,t=4*e;let r=p.clippingState||null;l.value=r,r=u(h,s,t,a);for(let i=0;i!==t;++i)r[i]=n[i];p.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function ql(e){let t=new WeakMap;function n(e,t){return t===re?e.mapping=ne:t===oe&&(e.mapping=ie),e}function i(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping;if(o===re||o===oe){if(t.has(i)){const e=t.get(i).texture;return n(e,i.mapping)}{const o=i.image;if(o&&o.height>0){const s=new Ho(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}}return i}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}function o(){t=new WeakMap}return{get:i,dispose:o}}class Vl extends Fo{constructor(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,s=i+t,a=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,o=r+e*this.view.width,s-=t*this.view.offsetY,a=s-t*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Hl=4,Gl=[.125,.215,.35,.446,.526,.582],Wl=20,$l=new Vl,Xl=new zr;let Yl=null;const Kl=(1+Math.sqrt(5))/2,Ql=1/Kl,Jl=[new Zn(1,1,1),new Zn(-1,1,1),new Zn(1,1,-1),new Zn(-1,1,-1),new Zn(0,Kl,Ql),new Zn(0,Kl,-Ql),new Zn(Ql,0,Kl),new Zn(-Ql,0,Kl),new Zn(Kl,Ql,0),new Zn(-Kl,Ql,0)];class Zl{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){Yl=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=oc(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=rc(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Yl),e.scissorTest=!1,nc(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ne||e.mapping===ie?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Yl=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:me,minFilter:me,generateMipmaps:!1,type:Me,format:Ie,encoding:It,depthBuffer:!1},i=tc(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=tc(e,t,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ec(i)),this._blurMaterial=ic(i,e,t)}return i}_compileMaterial(e){const t=new Eo(this._lodPlanes[0],e);this._renderer.compile(t,$l)}_sceneToCubeUV(e,t,n,i){const r=90,o=1,s=new jo(r,o,t,n),a=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,h=c.toneMapping;c.getClearColor(Xl),c.toneMapping=Y,c.autoClear=!1;const d=new Vr({name:"PMREM.Background",side:f,depthWrite:!1,depthTest:!1}),p=new Eo(new Oo,d);let m=!1;const g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,m=!0):(d.color.copy(Xl),m=!0);for(let f=0;f<6;f++){const t=f%3;0===t?(s.up.set(0,a[f],0),s.lookAt(l[f],0,0)):1===t?(s.up.set(0,0,a[f]),s.lookAt(0,l[f],0)):(s.up.set(0,a[f],0),s.lookAt(0,0,l[f]));const n=this._cubeSize;nc(i,t*n,f>2?n:0,n,n),c.setRenderTarget(i),m&&c.render(p,s),c.render(e,s)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=h,c.autoClear=u,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===ne||e.mapping===ie;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=oc()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=rc());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new Eo(this._lodPlanes[0],r),s=r.uniforms;s["envMap"].value=e;const a=this._cubeSize;nc(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,$l)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Jl[(i-1)%Jl.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,s){const a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Eo(this._lodPlanes[i],l),h=l.uniforms,d=this._sizeLods[n]-1,f=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*Wl-1),p=r/f,m=isFinite(r)?1+Math.floor(c*p):Wl;m>Wl&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Wl}`);const g=[];let A=0;for(let w=0;w<Wl;++w){const e=w/p,t=Math.exp(-e*e/2);g.push(t),0===w?A+=t:w<m&&(A+=2*t)}for(let w=0;w<g.length;w++)g[w]=g[w]/A;h["envMap"].value=e.texture,h["samples"].value=m,h["weights"].value=g,h["latitudinal"].value="latitudinal"===o,s&&(h["poleAxis"].value=s);const{_lodMax:y}=this;h["dTheta"].value=f,h["mipInt"].value=y-n;const v=this._sizeLods[i],b=3*v*(i>y-Hl?i-y+Hl:0),_=4*(this._cubeSize-v);nc(t,b,_,3*v,2*v),a.setRenderTarget(t),a.render(u,$l)}}function ec(e){const t=[],n=[],i=[];let r=e;const o=e-Hl+1+Gl.length;for(let s=0;s<o;s++){const o=Math.pow(2,r);n.push(o);let a=1/o;s>e-Hl?a=Gl[s-e+Hl-1]:0===s&&(a=0),i.push(a);const l=1/(o-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,f=6,p=3,m=2,g=1,A=new Float32Array(p*f*d),y=new Float32Array(m*f*d),v=new Float32Array(g*f*d);for(let e=0;e<d;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];A.set(i,p*f*e),y.set(h,m*f*e);const r=[e,e,e,e,e,e];v.set(r,g*f*e)}const b=new uo;b.setAttribute("position",new Wr(A,p)),b.setAttribute("uv",new Wr(y,m)),b.setAttribute("faceIndex",new Wr(v,g)),t.push(b),r>Hl&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}function tc(e,t,n){const i=new vi(e,t,n);return i.texture.mapping=se,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function nc(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function ic(e,t,n){const i=new Float32Array(Wl),r=new Zn(0,1,0),o=new Bo({name:"SphericalGaussianBlur",defines:{n:Wl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:e+".0"},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:sc(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:g,depthTest:!1,depthWrite:!1});return o}function rc(){return new Bo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sc(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:g,depthTest:!1,depthWrite:!1})}function oc(){return new Bo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sc(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:g,depthTest:!1,depthWrite:!1})}function sc(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function ac(e){let t=new WeakMap,n=null;function i(i){if(i&&i.isTexture){const s=i.mapping,a=s===re||s===oe,l=s===ne||s===ie;if(a||l){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new Zl(e)),r=a?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const s=i.image;if(a&&s&&s.height>0||l&&s&&r(s)){null===n&&(n=new Zl(e));const r=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,r),i.addEventListener("dispose",o),r.texture}return null}}}return i}function r(e){let t=0;const n=6;for(let i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}function o(e){const n=e.target;n.removeEventListener("dispose",o);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}function s(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}return{get:i,dispose:s}}function lc(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function cc(e,t,n,i){const r={},o=new WeakMap;function s(e){const a=e.target;null!==a.index&&t.remove(a.index);for(const n in a.attributes)t.remove(a.attributes[n]);a.removeEventListener("dispose",s),delete r[a.id];const l=o.get(a);l&&(t.remove(l),o.delete(a)),i.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(e,t){return!0===r[t.id]||(t.addEventListener("dispose",s),r[t.id]=!0,n.memory.geometries++),t}function l(n){const i=n.attributes;for(const o in i)t.update(i[o],e.ARRAY_BUFFER);const r=n.morphAttributes;for(const o in r){const n=r[o];for(let i=0,r=n.length;i<r;i++)t.update(n[i],e.ARRAY_BUFFER)}}function c(e){const n=[],i=e.index,r=e.attributes.position;let s=0;if(null!==i){const e=i.array;s=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],o=e[t+2];n.push(i,r,r,o,o,i)}}else{const e=r.array;s=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}const a=new(Xn(n)?Zr:Qr)(n,1);a.version=s;const l=o.get(e);l&&t.remove(l),o.set(e,a)}function u(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&c(e)}else c(e);return o.get(e)}return{get:a,update:l,getWireframeAttribute:u}}function uc(e,t,n,i){const r=i.isWebGL2;let o,s,a;function l(e){o=e}function c(e){s=e.type,a=e.bytesPerElement}function u(t,i){e.drawElements(o,i,s,t*a),n.update(i,o,1)}function h(i,l,c){if(0===c)return;let u,h;if(r)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,l,s,i*a,c),n.update(l,o,c)}this.setMode=l,this.setIndex=c,this.render=u,this.renderInstances=h}function hc(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(t,i,r){switch(n.calls++,i){case e.TRIANGLES:n.triangles+=r*(t/3);break;case e.LINES:n.lines+=r*(t/2);break;case e.LINE_STRIP:n.lines+=r*(t-1);break;case e.LINE_LOOP:n.lines+=r*t;break;case e.POINTS:n.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function dc(e,t){return e[0]-t[0]}function fc(e,t){return Math.abs(t[1])-Math.abs(e[1])}function pc(e,t,n){const i={},r=new Float32Array(8),o=new WeakMap,s=new yi,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(l,c,u){const h=l.morphTargetInfluences;if(!0===t.isWebGL2){const i=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,r=void 0!==i?i.length:0;let a=o.get(c);if(void 0===a||a.count!==r){void 0!==a&&a.texture.dispose();const e=void 0!==c.morphAttributes.position,n=void 0!==c.morphAttributes.normal,i=void 0!==c.morphAttributes.color,l=c.morphAttributes.position||[],u=c.morphAttributes.normal||[],h=c.morphAttributes.color||[];let f=0;!0===e&&(f=1),!0===n&&(f=2),!0===i&&(f=3);let p=c.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const g=new Float32Array(p*m*4*r),A=new bi(g,p,m,r);A.type=Ee,A.needsUpdate=!0;const y=4*f;for(let t=0;t<r;t++){const r=l[t],o=u[t],a=h[t],c=p*m*4*t;for(let t=0;t<r.count;t++){const l=t*y;!0===e&&(s.fromBufferAttribute(r,t),g[c+l+0]=s.x,g[c+l+1]=s.y,g[c+l+2]=s.z,g[c+l+3]=0),!0===n&&(s.fromBufferAttribute(o,t),g[c+l+4]=s.x,g[c+l+5]=s.y,g[c+l+6]=s.z,g[c+l+7]=0),!0===i&&(s.fromBufferAttribute(a,t),g[c+l+8]=s.x,g[c+l+9]=s.y,g[c+l+10]=s.z,g[c+l+11]=4===a.itemSize?s.w:1)}}function d(){A.dispose(),o.delete(c),c.removeEventListener("dispose",d)}a={count:r,texture:A,size:new Gn(p,m)},o.set(c,a),c.addEventListener("dispose",d)}let l=0;for(let e=0;e<h.length;e++)l+=h[e];const f=c.morphTargetsRelative?1:1-l;u.getUniforms().setValue(e,"morphTargetBaseInfluence",f),u.getUniforms().setValue(e,"morphTargetInfluences",h),u.getUniforms().setValue(e,"morphTargetsTexture",a.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",a.size)}else{const t=void 0===h?0:h.length;let n=i[c.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];i[c.id]=n}for(let e=0;e<t;e++){const t=n[e];t[0]=e,t[1]=h[e]}n.sort(fc);for(let e=0;e<8;e++)e<t&&n[e][1]?(a[e][0]=n[e][0],a[e][1]=n[e][1]):(a[e][0]=Number.MAX_SAFE_INTEGER,a[e][1]=0);a.sort(dc);const o=c.morphAttributes.position,s=c.morphAttributes.normal;let l=0;for(let e=0;e<8;e++){const t=a[e],n=t[0],i=t[1];n!==Number.MAX_SAFE_INTEGER&&i?(o&&c.getAttribute("morphTarget"+e)!==o[n]&&c.setAttribute("morphTarget"+e,o[n]),s&&c.getAttribute("morphNormal"+e)!==s[n]&&c.setAttribute("morphNormal"+e,s[n]),r[e]=i,l+=i):(o&&!0===c.hasAttribute("morphTarget"+e)&&c.deleteAttribute("morphTarget"+e),s&&!0===c.hasAttribute("morphNormal"+e)&&c.deleteAttribute("morphNormal"+e),r[e]=0)}const d=c.morphTargetsRelative?1:1-l;u.getUniforms().setValue(e,"morphTargetBaseInfluence",d),u.getUniforms().setValue(e,"morphTargetInfluences",r)}}return{update:l}}function mc(e,t,n,i){let r=new WeakMap;function o(o){const s=i.render.frame,l=o.geometry,c=t.get(o,l);return r.get(c)!==s&&(t.update(c),r.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER)),c}function s(){r=new WeakMap}function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:o,dispose:s}}const gc=new Ai,Ac=new bi,yc=new wi,vc=new Vo,bc=[],_c=[],wc=new Float32Array(16),xc=new Float32Array(9),Sc=new Float32Array(4);function Tc(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let o=bc[r];if(void 0===o&&(o=new Float32Array(r),bc[r]=o),0!==t){i.toArray(o,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(o,r)}return o}function Ec(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Mc(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function Cc(e,t){let n=_c[t];void 0===n&&(n=new Int32Array(t),_c[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Oc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function kc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ec(n,t))return;e.uniform2fv(this.addr,t),Mc(n,t)}}function Pc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ec(n,t))return;e.uniform3fv(this.addr,t),Mc(n,t)}}function Ic(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ec(n,t))return;e.uniform4fv(this.addr,t),Mc(n,t)}}function Rc(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ec(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Mc(n,t)}else{if(Ec(n,i))return;Sc.set(i),e.uniformMatrix2fv(this.addr,!1,Sc),Mc(n,i)}}function Dc(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ec(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Mc(n,t)}else{if(Ec(n,i))return;xc.set(i),e.uniformMatrix3fv(this.addr,!1,xc),Mc(n,i)}}function Lc(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Ec(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Mc(n,t)}else{if(Ec(n,i))return;wc.set(i),e.uniformMatrix4fv(this.addr,!1,wc),Mc(n,i)}}function Nc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Bc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ec(n,t))return;e.uniform2iv(this.addr,t),Mc(n,t)}}function Fc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ec(n,t))return;e.uniform3iv(this.addr,t),Mc(n,t)}}function jc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ec(n,t))return;e.uniform4iv(this.addr,t),Mc(n,t)}}function Uc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function zc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ec(n,t))return;e.uniform2uiv(this.addr,t),Mc(n,t)}}function qc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ec(n,t))return;e.uniform3uiv(this.addr,t),Mc(n,t)}}function Vc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ec(n,t))return;e.uniform4uiv(this.addr,t),Mc(n,t)}}function Hc(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||gc,r)}function Gc(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||yc,r)}function Wc(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||vc,r)}function $c(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Ac,r)}function Xc(e){switch(e){case 5126:return Oc;case 35664:return kc;case 35665:return Pc;case 35666:return Ic;case 35674:return Rc;case 35675:return Dc;case 35676:return Lc;case 5124:case 35670:return Nc;case 35667:case 35671:return Bc;case 35668:case 35672:return Fc;case 35669:case 35673:return jc;case 5125:return Uc;case 36294:return zc;case 36295:return qc;case 36296:return Vc;case 35678:case 36198:case 36298:case 36306:case 35682:return Hc;case 35679:case 36299:case 36307:return Gc;case 35680:case 36300:case 36308:case 36293:return Wc;case 36289:case 36303:case 36311:case 36292:return $c}}function Yc(e,t){e.uniform1fv(this.addr,t)}function Kc(e,t){const n=Tc(t,this.size,2);e.uniform2fv(this.addr,n)}function Qc(e,t){const n=Tc(t,this.size,3);e.uniform3fv(this.addr,n)}function Jc(e,t){const n=Tc(t,this.size,4);e.uniform4fv(this.addr,n)}function Zc(e,t){const n=Tc(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function eu(e,t){const n=Tc(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function tu(e,t){const n=Tc(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function nu(e,t){e.uniform1iv(this.addr,t)}function iu(e,t){e.uniform2iv(this.addr,t)}function ru(e,t){e.uniform3iv(this.addr,t)}function ou(e,t){e.uniform4iv(this.addr,t)}function su(e,t){e.uniform1uiv(this.addr,t)}function au(e,t){e.uniform2uiv(this.addr,t)}function lu(e,t){e.uniform3uiv(this.addr,t)}function cu(e,t){e.uniform4uiv(this.addr,t)}function uu(e,t,n){const i=this.cache,r=t.length,o=Cc(n,r);Ec(i,o)||(e.uniform1iv(this.addr,o),Mc(i,o));for(let s=0;s!==r;++s)n.setTexture2D(t[s]||gc,o[s])}function hu(e,t,n){const i=this.cache,r=t.length,o=Cc(n,r);Ec(i,o)||(e.uniform1iv(this.addr,o),Mc(i,o));for(let s=0;s!==r;++s)n.setTexture3D(t[s]||yc,o[s])}function du(e,t,n){const i=this.cache,r=t.length,o=Cc(n,r);Ec(i,o)||(e.uniform1iv(this.addr,o),Mc(i,o));for(let s=0;s!==r;++s)n.setTextureCube(t[s]||vc,o[s])}function fu(e,t,n){const i=this.cache,r=t.length,o=Cc(n,r);Ec(i,o)||(e.uniform1iv(this.addr,o),Mc(i,o));for(let s=0;s!==r;++s)n.setTexture2DArray(t[s]||Ac,o[s])}function pu(e){switch(e){case 5126:return Yc;case 35664:return Kc;case 35665:return Qc;case 35666:return Jc;case 35674:return Zc;case 35675:return eu;case 35676:return tu;case 5124:case 35670:return nu;case 35667:case 35671:return iu;case 35668:case 35672:return ru;case 35669:case 35673:return ou;case 5125:return su;case 36294:return au;case 36295:return lu;case 36296:return cu;case 35678:case 36198:case 36298:case 36306:case 35682:return uu;case 35679:case 36299:case 36307:return hu;case 35680:case 36300:case 36308:case 36293:return du;case 36289:case 36303:case 36311:case 36292:return fu}}class mu{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Xc(t.type)}}class gu{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=pu(t.type)}}class Au{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(e,t[o.id],n)}}}const yu=/(\w+)(\])?(\[|\.)?/g;function vu(e,t){e.seq.push(t),e.map[t.id]=t}function bu(e,t,n){const i=e.name,r=i.length;yu.lastIndex=0;while(1){const o=yu.exec(i),s=yu.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===r){vu(n,void 0===c?new mu(a,e,t):new gu(a,e,t));break}{const e=n.map;let t=e[a];void 0===t&&(t=new Au(a),vu(n,t)),n=t}}}class _u{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i),r=e.getUniformLocation(t,n.name);bu(n,r,this)}}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function wu(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let xu=0;function Su(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=r;s<o;s++){const e=s+1;i.push(`${e===t?">":" "} ${e}: ${n[s]}`)}return i.join("\n")}function Tu(e){switch(e){case It:return["Linear","( value )"];case Rt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Eu(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const i=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+Su(e.getShaderSource(t),i)}return r}function Mu(e,t){const n=Tu(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Cu(e,t){let n;switch(t){case K:n="Linear";break;case Q:n="Reinhard";break;case J:n="OptimizedCineon";break;case Z:n="ACESFilmic";break;case ee:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ou(e){const t=[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(Iu).join("\n")}function ku(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}function Pu(e,t){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),o=i.name;let s=1;i.type===e.FLOAT_MAT2&&(s=2),i.type===e.FLOAT_MAT3&&(s=3),i.type===e.FLOAT_MAT4&&(s=4),n[o]={type:i.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}function Iu(e){return""!==e}function Ru(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Du(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Lu=/^[ \t]*#include +<([\w\d./]+)>/gm;function Nu(e){return e.replace(Lu,Bu)}function Bu(e,t){const n=Rl[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Nu(n)}const Fu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ju(e){return e.replace(Fu,Uu)}function Uu(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function zu(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function qu(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===c?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===u?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===h&&(t="SHADOWMAP_TYPE_VSM"),t}function Vu(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ne:case ie:t="ENVMAP_TYPE_CUBE";break;case se:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Hu(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ie:t="ENVMAP_MODE_REFRACTION";break}return t}function Gu(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case W:t="ENVMAP_BLENDING_MULTIPLY";break;case $:t="ENVMAP_BLENDING_MIX";break;case X:t="ENVMAP_BLENDING_ADD";break}return t}function Wu(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t,r=1/(3*Math.max(Math.pow(2,n),112));return{texelWidth:r,texelHeight:i,maxMip:n}}function $u(e,t,n,i){const r=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=qu(n),c=Vu(n),u=Hu(n),h=Gu(n),d=Wu(n),f=n.isWebGL2?"":Ou(n),p=ku(o),m=r.createProgram();let g,A,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[p].filter(Iu).join("\n"),g.length>0&&(g+="\n"),A=[f,p].filter(Iu).join("\n"),A.length>0&&(A+="\n")):(g=[zu(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Iu).join("\n"),A=[f,zu(n),"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Y?"#define TONE_MAPPING":"",n.toneMapping!==Y?Rl["tonemapping_pars_fragment"]:"",n.toneMapping!==Y?Cu("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Rl["encodings_pars_fragment"],Mu("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Iu).join("\n")),s=Nu(s),s=Ru(s,n),s=Du(s,n),a=Nu(a),a=Ru(a,n),a=Du(a,n),s=ju(s),a=ju(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,A=["#define varying in",n.glslVersion===mn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===mn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+A);const v=y+g+s,b=y+A+a,_=wu(r,r.VERTEX_SHADER,v),w=wu(r,r.FRAGMENT_SHADER,b);if(r.attachShader(m,_),r.attachShader(m,w),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),e.debug.checkShaderErrors){const e=r.getProgramInfoLog(m).trim(),t=r.getShaderInfoLog(_).trim(),n=r.getShaderInfoLog(w).trim();let i=!0,o=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS)){i=!1;const t=Eu(r,_,"vertex"),n=Eu(r,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+n)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:i,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:A}})}let x,S;return r.deleteShader(_),r.deleteShader(w),this.getUniforms=function(){return void 0===x&&(x=new _u(r,m)),x},this.getAttributes=function(){return void 0===S&&(S=Pu(r,m)),S},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=xu++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=w,this}let Xu=0;class Yu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Ku(e),t.set(e,n)),n}}class Ku{constructor(e){this.id=Xu++,this.code=e,this.usedTimes=0}}function Qu(e,t,n,i,r,o,s){const a=new cr,l=new Yu,c=[],u=r.isWebGL2,h=r.logarithmicDepthBuffer,d=r.vertexTextures;let m=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(o,a,c,y,v){const b=y.fog,_=v.geometry,w=o.isMeshStandardMaterial?y.environment:null,x=(o.isMeshStandardMaterial?n:t).get(o.envMap||w),S=x&&x.mapping===se?x.image.height:null,T=g[o.type];null!==o.precision&&(m=r.getMaxPrecision(o.precision),m!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",m,"instead."));const E=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,M=void 0!==E?E.length:0;let C,O,k,P,I=0;if(void 0!==_.morphAttributes.position&&(I=1),void 0!==_.morphAttributes.normal&&(I=2),void 0!==_.morphAttributes.color&&(I=3),T){const e=Ll[T];C=e.vertexShader,O=e.fragmentShader}else C=o.vertexShader,O=o.fragmentShader,l.update(o),k=l.getVertexShaderID(o),P=l.getFragmentShaderID(o);const R=e.getRenderTarget(),D=o.alphaTest>0,L=o.clearcoat>0,N=o.iridescence>0,B={isWebGL2:u,shaderID:T,shaderName:o.type,vertexShader:C,fragmentShader:O,defines:o.defines,customVertexShaderID:k,customFragmentShaderID:P,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:m,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:d,outputEncoding:null===R?e.outputEncoding:!0===R.isXRRenderTarget?R.texture.encoding:It,map:!!o.map,matcap:!!o.matcap,envMap:!!x,envMapMode:x&&x.mapping,envMapCubeUVHeight:S,lightMap:!!o.lightMap,aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:o.normalMapType===Bt,tangentSpaceNormalMap:o.normalMapType===Nt,decodeVideoTexture:!!o.map&&!0===o.map.isVideoTexture&&o.map.encoding===Rt,clearcoat:L,clearcoatMap:L&&!!o.clearcoatMap,clearcoatRoughnessMap:L&&!!o.clearcoatRoughnessMap,clearcoatNormalMap:L&&!!o.clearcoatNormalMap,iridescence:N,iridescenceMap:N&&!!o.iridescenceMap,iridescenceThicknessMap:N&&!!o.iridescenceThicknessMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularColorMap:!!o.specularColorMap,opaque:!1===o.transparent&&o.blending===A,alphaMap:!!o.alphaMap,alphaTest:D,gradientMap:!!o.gradientMap,sheen:o.sheen>0,sheenColorMap:!!o.sheenColorMap,sheenRoughnessMap:!!o.sheenRoughnessMap,transmission:o.transmission>0,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!_.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,vertexUvs:!!o.map||!!o.bumpMap||!!o.normalMap||!!o.specularMap||!!o.alphaMap||!!o.emissiveMap||!!o.roughnessMap||!!o.metalnessMap||!!o.clearcoatMap||!!o.clearcoatRoughnessMap||!!o.clearcoatNormalMap||!!o.iridescenceMap||!!o.iridescenceThicknessMap||!!o.displacementMap||!!o.transmissionMap||!!o.thicknessMap||!!o.specularIntensityMap||!!o.specularColorMap||!!o.sheenColorMap||!!o.sheenRoughnessMap,uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.iridescenceMap||o.iridescenceThicknessMap||o.transmission>0||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheen>0||o.sheenColorMap||o.sheenRoughnessMap)&&!!o.displacementMap,fog:!!b,useFog:!0===o.fog,fogExp2:b&&b.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==_.morphAttributes.position,morphNormals:void 0!==_.morphAttributes.normal,morphColors:void 0!==_.morphAttributes.color,morphTargetsCount:M,morphTextureStride:I,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numSpotLightMaps:a.spotLightMap.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numSpotLightShadowsWithMaps:a.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:Y,useLegacyLights:e.useLegacyLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===p,flipSided:o.side===f,useDepthPacking:!!o.depthPacking,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()};return B}function v(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(b(n,t),_(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()}function b(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}function _(e,t){a.disableAll(),t.isWebGL2&&a.enable(0),t.supportsVertexTextures&&a.enable(1),t.instancing&&a.enable(2),t.instancingColor&&a.enable(3),t.map&&a.enable(4),t.matcap&&a.enable(5),t.envMap&&a.enable(6),t.lightMap&&a.enable(7),t.aoMap&&a.enable(8),t.emissiveMap&&a.enable(9),t.bumpMap&&a.enable(10),t.normalMap&&a.enable(11),t.objectSpaceNormalMap&&a.enable(12),t.tangentSpaceNormalMap&&a.enable(13),t.clearcoat&&a.enable(14),t.clearcoatMap&&a.enable(15),t.clearcoatRoughnessMap&&a.enable(16),t.clearcoatNormalMap&&a.enable(17),t.iridescence&&a.enable(18),t.iridescenceMap&&a.enable(19),t.iridescenceThicknessMap&&a.enable(20),t.displacementMap&&a.enable(21),t.specularMap&&a.enable(22),t.roughnessMap&&a.enable(23),t.metalnessMap&&a.enable(24),t.gradientMap&&a.enable(25),t.alphaMap&&a.enable(26),t.alphaTest&&a.enable(27),t.vertexColors&&a.enable(28),t.vertexAlphas&&a.enable(29),t.vertexUvs&&a.enable(30),t.vertexTangents&&a.enable(31),t.uvsVertexOnly&&a.enable(32),e.push(a.mask),a.disableAll(),t.fog&&a.enable(0),t.useFog&&a.enable(1),t.flatShading&&a.enable(2),t.logarithmicDepthBuffer&&a.enable(3),t.skinning&&a.enable(4),t.morphTargets&&a.enable(5),t.morphNormals&&a.enable(6),t.morphColors&&a.enable(7),t.premultipliedAlpha&&a.enable(8),t.shadowMapEnabled&&a.enable(9),t.useLegacyLights&&a.enable(10),t.doubleSided&&a.enable(11),t.flipSided&&a.enable(12),t.useDepthPacking&&a.enable(13),t.dithering&&a.enable(14),t.specularIntensityMap&&a.enable(15),t.specularColorMap&&a.enable(16),t.transmission&&a.enable(17),t.transmissionMap&&a.enable(18),t.thicknessMap&&a.enable(19),t.sheen&&a.enable(20),t.sheenColorMap&&a.enable(21),t.sheenRoughnessMap&&a.enable(22),t.decodeVideoTexture&&a.enable(23),t.opaque&&a.enable(24),e.push(a.mask)}function w(e){const t=g[e.type];let n;if(t){const e=Ll[t];n=Do.clone(e.uniforms)}else n=e.uniforms;return n}function x(t,n){let i;for(let e=0,r=c.length;e<r;e++){const t=c[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new $u(e,n,t,o),c.push(i)),i}function S(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}}function T(e){l.remove(e)}function E(){l.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:w,acquireProgram:x,releaseProgram:S,releaseShaderCache:T,programs:c,dispose:E}}function Ju(){let e=new WeakMap;function t(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n}function n(t){e.delete(t)}function i(t,n,i){e.get(t)[n]=i}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function Zu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function eh(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function th(){const e=[];let t=0;const n=[],i=[],r=[];function o(){t=0,n.length=0,i.length=0,r.length=0}function s(n,i,r,o,s,a){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:o,renderOrder:n.renderOrder,z:s,group:a},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=a),t++,l}function a(e,t,o,a,l,c){const u=s(e,t,o,a,l,c);o.transmission>0?i.push(u):!0===o.transparent?r.push(u):n.push(u)}function l(e,t,o,a,l,c){const u=s(e,t,o,a,l,c);o.transmission>0?i.unshift(u):!0===o.transparent?r.unshift(u):n.unshift(u)}function c(e,t){n.length>1&&n.sort(e||Zu),i.length>1&&i.sort(t||eh),r.length>1&&r.sort(t||eh)}function u(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}}return{opaque:n,transmissive:i,transparent:r,init:o,push:a,unshift:l,finish:u,sort:c}}function nh(){let e=new WeakMap;function t(t,n){const i=e.get(t);let r;return void 0===i?(r=new th,e.set(t,[r])):n>=i.length?(r=new th,i.push(r)):r=i[n],r}function n(){e=new WeakMap}return{get:t,dispose:n}}function ih(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Zn,color:new zr};break;case"SpotLight":n={position:new Zn,direction:new Zn,color:new zr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Zn,color:new zr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Zn,skyColor:new zr,groundColor:new zr};break;case"RectAreaLight":n={color:new zr,position:new Zn,halfWidth:new Zn,halfHeight:new Zn};break}return e[t.id]=n,n}}}function rh(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let oh=0;function sh(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function ah(e,t){const n=new ih,i=rh(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new Zn);const o=new Zn,s=new Ji,a=new Ji;function l(o,s){let a=0,l=0,c=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0;o.sort(sh);const b=!0===s?Math.PI:1;for(let e=0,t=o.length;e<t;e++){const t=o[e],s=t.color,_=t.intensity,w=t.distance,x=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)a+=s.r*_*b,l+=s.g*_*b,c+=s.b*_*b;else if(t.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(t.sh.coefficients[e],_);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.directionalShadow[u]=n,r.directionalShadowMap[u]=x,r.directionalShadowMatrix[u]=t.shadow.matrix,m++}r.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(s).multiplyScalar(_*b),e.distance=w,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,r.spot[d]=e;const o=t.shadow;if(t.map&&(r.spotLightMap[y]=t.map,y++,o.updateMatrices(t),t.castShadow&&v++),r.spotLightMatrix[d]=o.matrix,t.castShadow){const e=i.get(t);e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,r.spotShadow[d]=e,r.spotShadowMap[d]=x,A++}d++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(s).multiplyScalar(_),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),r.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,r.pointShadow[h]=n,r.pointShadowMap[h]=x,r.pointShadowMatrix[h]=t.shadow.matrix,g++}r.point[h]=e,h++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(_*b),e.groundColor.copy(t.groundColor).multiplyScalar(_*b),r.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=Dl.LTC_FLOAT_1,r.rectAreaLTC2=Dl.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Dl.LTC_HALF_1,r.rectAreaLTC2=Dl.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=a,r.ambient[1]=l,r.ambient[2]=c;const _=r.hash;_.directionalLength===u&&_.pointLength===h&&_.spotLength===d&&_.rectAreaLength===f&&_.hemiLength===p&&_.numDirectionalShadows===m&&_.numPointShadows===g&&_.numSpotShadows===A&&_.numSpotMaps===y||(r.directional.length=u,r.spot.length=d,r.rectArea.length=f,r.point.length=h,r.hemi.length=p,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=g,r.spotLightMatrix.length=A+y-v,r.spotLightMap.length=y,r.numSpotLightShadowsWithMaps=v,_.directionalLength=u,_.pointLength=h,_.spotLength=d,_.rectAreaLength=f,_.hemiLength=p,_.numDirectionalShadows=m,_.numPointShadows=g,_.numSpotShadows=A,_.numSpotMaps=y,r.version=oh++)}function c(e,t){let n=0,i=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,f=e.length;d<f;d++){const t=e[d];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),s.copy(t.matrixWorld),s.premultiply(h),a.extractRotation(s),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=r.point[i];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),i++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),u++}}}return{setup:l,setupView:c,state:r}}function lh(e,t){const n=new ah(e,t),i=[],r=[];function o(){i.length=0,r.length=0}function s(e){i.push(e)}function a(e){r.push(e)}function l(e){n.setup(i,e)}function c(e){n.setupView(i,e)}const u={lightsArray:i,shadowsArray:r,lights:n};return{init:o,state:u,setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function ch(e,t){let n=new WeakMap;function i(i,r=0){const o=n.get(i);let s;return void 0===o?(s=new lh(e,t),n.set(i,[s])):r>=o.length?(s=new lh(e,t),o.push(s)):s=o[r],s}function r(){n=new WeakMap}return{get:i,dispose:r}}class uh extends Nr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Dt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class hh extends Nr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Zn,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const dh="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fh="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function ph(e,t,n){let i=new Qo;const r=new Gn,o=new Gn,s=new yi,a=new uh({depthPacking:Lt}),l=new hh,u={},m=n.maxTextureSize,A={[d]:f,[f]:d,[p]:p},y=new Bo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Gn},radius:{value:4}},vertexShader:dh,fragmentShader:fh}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const b=new uo;b.setAttribute("position",new Wr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Eo(b,y),w=this;function x(n,i){const o=t.update(_);y.defines.VSM_SAMPLES!==n.blurSamples&&(y.defines.VSM_SAMPLES=n.blurSamples,v.defines.VSM_SAMPLES=n.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new vi(r.x,r.y)),y.uniforms.shadow_pass.value=n.map.texture,y.uniforms.resolution.value=n.mapSize,y.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,o,y,_,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,o,v,_,null)}function S(t,n,i,r,o,s){let c=null;const d=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==d)c=d;else if(c=!0===i.isPointLight?l:a,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=c.uuid,t=n.uuid;let i=u[e];void 0===i&&(i={},u[e]=i);let r=i[t];void 0===r&&(r=c.clone(),i[t]=r),c=r}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=s===h?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:A[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.map=n.map,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===i.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=r,c.farDistance=o),c}function T(n,r,o,s,a){if(!1===n.visible)return;const l=n.layers.test(r.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&a===h)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=t.update(n),r=n.material;if(Array.isArray(r)){const t=i.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=r[c.materialIndex];if(u&&u.visible){const t=S(n,u,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,c)}}}else if(r.visible){const t=S(n,r,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)T(c[e],r,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=c,this.render=function(t,n,a){if(!1===w.enabled)return;if(!1===w.autoUpdate&&!1===w.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),d=e.state;d.setBlending(g),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let f=0,p=t.length;f<p;f++){const l=t[f],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;r.copy(c.mapSize);const u=c.getFrameExtents();if(r.multiply(u),o.copy(c.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(o.x=Math.floor(m/u.x),r.x=o.x*u.x,c.mapSize.x=o.x),r.y>m&&(o.y=Math.floor(m/u.y),r.y=o.y*u.y,c.mapSize.y=o.y)),null===c.map){const e=this.type!==h?{minFilter:ue,magFilter:ue}:{};c.map=new vi(r.x,r.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const p=c.getViewportCount();for(let e=0;e<p;e++){const t=c.getViewport(e);s.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),d.viewport(s),c.updateMatrices(l,e),i=c.getFrustum(),T(n,a,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===h&&x(c,a),c.needsUpdate=!1}w.needsUpdate=!1,e.setRenderTarget(l,c,u)}}function mh(e,t,n){const i=n.isWebGL2;function a(){let t=!1;const n=new yi;let i=null;const r=new yi(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,s,a){!0===a&&(t*=s,i*=s,o*=s),n.set(t,i,o,s),!1===r.equals(n)&&(e.clearColor(t,i,o,s),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}}function l(){let t=!1,n=null,i=null,r=null;return{setTest:function(t){t?Se(e.DEPTH_TEST):Te(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){switch(t){case F:e.depthFunc(e.NEVER);break;case j:e.depthFunc(e.ALWAYS);break;case U:e.depthFunc(e.LESS);break;case z:e.depthFunc(e.LEQUAL);break;case q:e.depthFunc(e.EQUAL);break;case V:e.depthFunc(e.GEQUAL);break;case H:e.depthFunc(e.GREATER);break;case G:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}}function c(){let t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(n){t||(n?Se(e.STENCIL_TEST):Te(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,s){i===t&&r===n&&o===s||(e.stencilFunc(t,n,s),i=t,r=n,o=s)},setOp:function(t,n,i){s===t&&a===n&&l===i||(e.stencilOp(t,n,i),s=t,a=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null}}}const u=new a,h=new l,d=new c,m=new WeakMap,W=new WeakMap;let $={},X={},Y=new WeakMap,K=[],Q=null,J=!1,Z=null,ee=null,te=null,ne=null,ie=null,re=null,oe=null,se=!1,ae=null,le=null,ce=null,ue=null,he=null;const de=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let fe=!1,pe=0;const me=e.getParameter(e.VERSION);-1!==me.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(me)[1]),fe=pe>=1):-1!==me.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(me)[1]),fe=pe>=2);let ge=null,Ae={};const ye=e.getParameter(e.SCISSOR_BOX),ve=e.getParameter(e.VIEWPORT),be=(new yi).fromArray(ye),_e=(new yi).fromArray(ve);function we(t,n,i){const r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<i;s++)e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return o}const xe={};function Se(t){!0!==$[t]&&(e.enable(t),$[t]=!0)}function Te(t){!1!==$[t]&&(e.disable(t),$[t]=!1)}function Ee(t,n){return X[t]!==n&&(e.bindFramebuffer(t,n),X[t]=n,i&&(t===e.DRAW_FRAMEBUFFER&&(X[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(X[e.DRAW_FRAMEBUFFER]=n)),!0)}function Me(i,r){let o=K,s=!1;if(i)if(o=Y.get(r),void 0===o&&(o=[],Y.set(r,o)),i.isWebGLMultipleRenderTargets){const t=i.texture;if(o.length!==t.length||o[0]!==e.COLOR_ATTACHMENT0){for(let n=0,i=t.length;n<i;n++)o[n]=e.COLOR_ATTACHMENT0+n;o.length=t.length,s=!0}}else o[0]!==e.COLOR_ATTACHMENT0&&(o[0]=e.COLOR_ATTACHMENT0,s=!0);else o[0]!==e.BACK&&(o[0]=e.BACK,s=!0);s&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))}function Ce(t){return Q!==t&&(e.useProgram(t),Q=t,!0)}xe[e.TEXTURE_2D]=we(e.TEXTURE_2D,e.TEXTURE_2D,1),xe[e.TEXTURE_CUBE_MAP]=we(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),u.setClear(0,0,0,1),h.setClear(1),d.setClear(0),Se(e.DEPTH_TEST),h.setFunc(z),Re(!1),De(o),Se(e.CULL_FACE),Pe(g);const Oe={[w]:e.FUNC_ADD,[x]:e.FUNC_SUBTRACT,[S]:e.FUNC_REVERSE_SUBTRACT};if(i)Oe[T]=e.MIN,Oe[E]=e.MAX;else{const e=t.get("EXT_blend_minmax");null!==e&&(Oe[T]=e.MIN_EXT,Oe[E]=e.MAX_EXT)}const ke={[M]:e.ZERO,[C]:e.ONE,[O]:e.SRC_COLOR,[P]:e.SRC_ALPHA,[B]:e.SRC_ALPHA_SATURATE,[L]:e.DST_COLOR,[R]:e.DST_ALPHA,[k]:e.ONE_MINUS_SRC_COLOR,[I]:e.ONE_MINUS_SRC_ALPHA,[N]:e.ONE_MINUS_DST_COLOR,[D]:e.ONE_MINUS_DST_ALPHA};function Pe(t,n,i,r,o,s,a,l){if(t!==g){if(!1===J&&(Se(e.BLEND),J=!0),t===_)o=o||n,s=s||i,a=a||r,n===ee&&o===ie||(e.blendEquationSeparate(Oe[n],Oe[o]),ee=n,ie=o),i===te&&r===ne&&s===re&&a===oe||(e.blendFuncSeparate(ke[i],ke[r],ke[s],ke[a]),te=i,ne=r,re=s,oe=a),Z=t,se=!1;else if(t!==Z||l!==se){if(ee===w&&ie===w||(e.blendEquation(e.FUNC_ADD),ee=w,ie=w),l)switch(t){case A:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case y:e.blendFunc(e.ONE,e.ONE);break;case v:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case b:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}else switch(t){case A:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case y:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case v:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case b:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}te=null,ne=null,re=null,oe=null,Z=t,se=l}}else!0===J&&(Te(e.BLEND),J=!1)}function Ie(t,n){t.side===p?Te(e.CULL_FACE):Se(e.CULL_FACE);let i=t.side===f;n&&(i=!i),Re(i),t.blending===A&&!1===t.transparent?Pe(g):Pe(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),h.setFunc(t.depthFunc),h.setTest(t.depthTest),h.setMask(t.depthWrite),u.setMask(t.colorWrite);const r=t.stencilWrite;d.setTest(r),r&&(d.setMask(t.stencilWriteMask),d.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),d.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Ne(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?Se(e.SAMPLE_ALPHA_TO_COVERAGE):Te(e.SAMPLE_ALPHA_TO_COVERAGE)}function Re(t){ae!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),ae=t)}function De(t){t!==r?(Se(e.CULL_FACE),t!==le&&(t===o?e.cullFace(e.BACK):t===s?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):Te(e.CULL_FACE),le=t}function Le(t){t!==ce&&(fe&&e.lineWidth(t),ce=t)}function Ne(t,n,i){t?(Se(e.POLYGON_OFFSET_FILL),ue===n&&he===i||(e.polygonOffset(n,i),ue=n,he=i)):Te(e.POLYGON_OFFSET_FILL)}function Be(t){t?Se(e.SCISSOR_TEST):Te(e.SCISSOR_TEST)}function Fe(t){void 0===t&&(t=e.TEXTURE0+de-1),ge!==t&&(e.activeTexture(t),ge=t)}function je(t,n,i){void 0===i&&(i=null===ge?e.TEXTURE0+de-1:ge);let r=Ae[i];void 0===r&&(r={type:void 0,texture:void 0},Ae[i]=r),r.type===t&&r.texture===n||(ge!==i&&(e.activeTexture(i),ge=i),e.bindTexture(t,n||xe[t]),r.type=t,r.texture=n)}function Ue(){const t=Ae[ge];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function ze(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function qe(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ve(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function He(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ge(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function We(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function $e(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Xe(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ye(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ke(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Qe(t){!1===be.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),be.copy(t))}function Je(t){!1===_e.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),_e.copy(t))}function Ze(t,n){let i=W.get(n);void 0===i&&(i=new WeakMap,W.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))}function et(t,n){const i=W.get(n),r=i.get(t);m.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),m.set(n,r))}function tt(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===i&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),$={},ge=null,Ae={},X={},Y=new WeakMap,K=[],Q=null,J=!1,Z=null,ee=null,te=null,ne=null,ie=null,re=null,oe=null,se=!1,ae=null,le=null,ce=null,ue=null,he=null,be.set(0,0,e.canvas.width,e.canvas.height),_e.set(0,0,e.canvas.width,e.canvas.height),u.reset(),h.reset(),d.reset()}return{buffers:{color:u,depth:h,stencil:d},enable:Se,disable:Te,bindFramebuffer:Ee,drawBuffers:Me,useProgram:Ce,setBlending:Pe,setMaterial:Ie,setFlipSided:Re,setCullFace:De,setLineWidth:Le,setPolygonOffset:Ne,setScissorTest:Be,activeTexture:Fe,bindTexture:je,unbindTexture:Ue,compressedTexImage2D:ze,compressedTexImage3D:qe,texImage2D:Ye,texImage3D:Ke,updateUBOMapping:Ze,uniformBlockBinding:et,texStorage2D:$e,texStorage3D:Xe,texSubImage2D:Ve,texSubImage3D:He,compressedTexSubImage2D:Ge,compressedTexSubImage3D:We,scissor:Qe,viewport:Je,reset:tt}}function gh(e,t,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let A=!1;try{A="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(re){}function y(e,t){return A?new OffscreenCanvas(e,t):Qn("canvas")}function v(e,t,n,i){let r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const i=t?Un:Math.floor,o=i(r*e.width),s=i(r*e.height);void 0===m&&(m=y(o,s));const a=n?y(o,s):m;a.width=o,a.height=s;const l=a.getContext("2d");return l.drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Fn(e.width)&&Fn(e.height)}function _(e){return!a&&(e.wrapS!==le||e.wrapT!==le||e.minFilter!==ue&&e.minFilter!==me)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==ue&&e.minFilter!==me}function x(t){e.generateMipmap(t)}function S(n,i,r,o,s=!1){if(!1===a)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=i;return i===e.RED&&(r===e.FLOAT&&(l=e.R32F),r===e.HALF_FLOAT&&(l=e.R16F),r===e.UNSIGNED_BYTE&&(l=e.R8)),i===e.RG&&(r===e.FLOAT&&(l=e.RG32F),r===e.HALF_FLOAT&&(l=e.RG16F),r===e.UNSIGNED_BYTE&&(l=e.RG8)),i===e.RGBA&&(r===e.FLOAT&&(l=e.RGBA32F),r===e.HALF_FLOAT&&(l=e.RGBA16F),r===e.UNSIGNED_BYTE&&(l=o===Rt&&!1===s?e.SRGB8_ALPHA8:e.RGBA8),r===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),r===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)),l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get("EXT_color_buffer_float"),l}function T(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==ue&&e.minFilter!==me?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function E(t){return t===ue||t===he||t===fe?e.NEAREST:e.LINEAR}function M(e){const t=e.target;t.removeEventListener("dispose",M),O(t),t.isVideoTexture&&p.delete(t)}function C(e){const t=e.target;t.removeEventListener("dispose",C),P(t)}function O(e){const t=i.get(e);if(void 0===t.__webglInit)return;const n=e.source,r=g.get(n);if(r){const i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&k(e),0===Object.keys(r).length&&g.delete(n)}i.remove(e)}function k(t){const n=i.get(t);e.deleteTexture(n.__webglTexture);const r=t.source,o=g.get(r);delete o[n.__cacheKey],s.memory.textures--}function P(t){const n=t.texture,r=i.get(t),o=i.get(n);if(void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),s.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let i=0;i<6;i++)e.deleteFramebuffer(r.__webglFramebuffer[i]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[i]);else{if(e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(let t=0;t<r.__webglColorRenderbuffer.length;t++)r.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(r.__webglColorRenderbuffer[t]);r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let a=0,l=n.length;a<l;a++){const t=i.get(n[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),s.memory.textures--),i.remove(n[a])}i.remove(n),i.remove(t)}let I=0;function R(){I=0}function D(){const e=I;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),I+=1,e}function L(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}function N(t,r){const o=i.get(t);if(t.isVideoTexture&&ne(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void H(o,t,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+r)}function B(t,r){const o=i.get(t);t.version>0&&o.__version!==t.version?H(o,t,r):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+r)}function F(t,r){const o=i.get(t);t.version>0&&o.__version!==t.version?H(o,t,r):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+r)}function j(t,r){const o=i.get(t);t.version>0&&o.__version!==t.version?G(o,t,r):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+r)}const U={[ae]:e.REPEAT,[le]:e.CLAMP_TO_EDGE,[ce]:e.MIRRORED_REPEAT},z={[ue]:e.NEAREST,[he]:e.NEAREST_MIPMAP_NEAREST,[fe]:e.NEAREST_MIPMAP_LINEAR,[me]:e.LINEAR,[ge]:e.LINEAR_MIPMAP_NEAREST,[ye]:e.LINEAR_MIPMAP_LINEAR};function q(n,o,s){if(s?(e.texParameteri(n,e.TEXTURE_WRAP_S,U[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,U[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,U[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,z[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,z[o.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),o.wrapS===le&&o.wrapT===le||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,E(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,E(o.minFilter)),o.minFilter!==ue&&o.minFilter!==me&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const s=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===ue)return;if(o.minFilter!==fe&&o.minFilter!==ye)return;if(o.type===Ee&&!1===t.has("OES_texture_float_linear"))return;if(!1===a&&o.type===Me&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function V(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",M));const r=n.source;let o=g.get(r);void 0===o&&(o={},g.set(r,o));const a=L(n);if(a!==t.__cacheKey){void 0===o[a]&&(o[a]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,i=!0),o[a].usedTimes++;const r=o[t.__cacheKey];void 0!==r&&(o[t.__cacheKey].usedTimes--,0===r.usedTimes&&k(n)),t.__cacheKey=a,t.__webglTexture=o[a].texture}return i}function H(t,r,s){let l=e.TEXTURE_2D;(r.isDataArrayTexture||r.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),r.isData3DTexture&&(l=e.TEXTURE_3D);const c=V(t,r),h=r.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=i.get(h);if(h.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);const t=_(r)&&!1===b(r.image);let i=v(r.image,t,!1,u);i=ie(r,i);const f=b(i)||a,p=o.convert(r.format,r.encoding);let m,g=o.convert(r.type),A=S(r.internalFormat,p,g,r.encoding,r.isVideoTexture);q(l,r,f);const y=r.mipmaps,E=a&&!0!==r.isVideoTexture,M=void 0===d.__version||!0===c,C=T(r,i,f);if(r.isDepthTexture)A=e.DEPTH_COMPONENT,a?A=r.type===Ee?e.DEPTH_COMPONENT32F:r.type===Te?e.DEPTH_COMPONENT24:r.type===ke?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:r.type===Ee&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Le&&A===e.DEPTH_COMPONENT&&r.type!==xe&&r.type!==Te&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Te,g=o.convert(r.type)),r.format===Ne&&A===e.DEPTH_COMPONENT&&(A=e.DEPTH_STENCIL,r.type!==ke&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=ke,g=o.convert(r.type))),M&&(E?n.texStorage2D(e.TEXTURE_2D,1,A,i.width,i.height):n.texImage2D(e.TEXTURE_2D,0,A,i.width,i.height,0,p,g,null));else if(r.isDataTexture)if(y.length>0&&f){E&&M&&n.texStorage2D(e.TEXTURE_2D,C,A,y[0].width,y[0].height);for(let t=0,i=y.length;t<i;t++)m=y[t],E?n.texSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,p,g,m.data):n.texImage2D(e.TEXTURE_2D,t,A,m.width,m.height,0,p,g,m.data);r.generateMipmaps=!1}else E?(M&&n.texStorage2D(e.TEXTURE_2D,C,A,i.width,i.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,i.width,i.height,p,g,i.data)):n.texImage2D(e.TEXTURE_2D,0,A,i.width,i.height,0,p,g,i.data);else if(r.isCompressedTexture)if(r.isCompressedArrayTexture){E&&M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,A,y[0].width,y[0].height,i.depth);for(let t=0,o=y.length;t<o;t++)m=y[t],r.format!==Ie?null!==p?E?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,m.width,m.height,i.depth,p,m.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,A,m.width,m.height,i.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,m.width,m.height,i.depth,p,g,m.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,A,m.width,m.height,i.depth,0,p,g,m.data)}else{E&&M&&n.texStorage2D(e.TEXTURE_2D,C,A,y[0].width,y[0].height);for(let t=0,i=y.length;t<i;t++)m=y[t],r.format!==Ie?null!==p?E?n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,p,m.data):n.compressedTexImage2D(e.TEXTURE_2D,t,A,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,p,g,m.data):n.texImage2D(e.TEXTURE_2D,t,A,m.width,m.height,0,p,g,m.data)}else if(r.isDataArrayTexture)E?(M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,A,i.width,i.height,i.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,i.width,i.height,i.depth,p,g,i.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,A,i.width,i.height,i.depth,0,p,g,i.data);else if(r.isData3DTexture)E?(M&&n.texStorage3D(e.TEXTURE_3D,C,A,i.width,i.height,i.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,i.width,i.height,i.depth,p,g,i.data)):n.texImage3D(e.TEXTURE_3D,0,A,i.width,i.height,i.depth,0,p,g,i.data);else if(r.isFramebufferTexture){if(M)if(E)n.texStorage2D(e.TEXTURE_2D,C,A,i.width,i.height);else{let t=i.width,r=i.height;for(let i=0;i<C;i++)n.texImage2D(e.TEXTURE_2D,i,A,t,r,0,p,g,null),t>>=1,r>>=1}}else if(y.length>0&&f){E&&M&&n.texStorage2D(e.TEXTURE_2D,C,A,y[0].width,y[0].height);for(let t=0,i=y.length;t<i;t++)m=y[t],E?n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,g,m):n.texImage2D(e.TEXTURE_2D,t,A,p,g,m);r.generateMipmaps=!1}else E?(M&&n.texStorage2D(e.TEXTURE_2D,C,A,i.width,i.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,g,i)):n.texImage2D(e.TEXTURE_2D,0,A,p,g,i);w(r,f)&&x(l),d.__version=h.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function G(t,r,s){if(6!==r.image.length)return;const l=V(t,r),u=r.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const h=i.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(e.TEXTURE0+s),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);const t=r.isCompressedTexture||r.image[0].isCompressedTexture,i=r.image[0]&&r.image[0].isDataTexture,d=[];for(let e=0;e<6;e++)d[e]=t||i?i?r.image[e].image:r.image[e]:v(r.image[e],!1,!0,c),d[e]=ie(r,d[e]);const f=d[0],p=b(f)||a,m=o.convert(r.format,r.encoding),g=o.convert(r.type),A=S(r.internalFormat,m,g,r.encoding),y=a&&!0!==r.isVideoTexture,_=void 0===h.__version||!0===l;let E,M=T(r,f,p);if(q(e.TEXTURE_CUBE_MAP,r,p),t){y&&_&&n.texStorage2D(e.TEXTURE_CUBE_MAP,M,A,f.width,f.height);for(let t=0;t<6;t++){E=d[t].mipmaps;for(let i=0;i<E.length;i++){const o=E[i];r.format!==Ie?null!==m?y?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,o.width,o.height,m,o.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,A,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,o.width,o.height,m,g,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,A,o.width,o.height,0,m,g,o.data)}}}else{E=r.mipmaps,y&&_&&(E.length>0&&M++,n.texStorage2D(e.TEXTURE_CUBE_MAP,M,A,d[0].width,d[0].height));for(let t=0;t<6;t++)if(i){y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,d[t].width,d[t].height,m,g,d[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,A,d[t].width,d[t].height,0,m,g,d[t].data);for(let i=0;i<E.length;i++){const r=E[i],o=r.image[t].image;y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,o.width,o.height,m,g,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,A,o.width,o.height,0,m,g,o.data)}}else{y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m,g,d[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,A,m,g,d[t]);for(let i=0;i<E.length;i++){const r=E[i];y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,m,g,r.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,A,m,g,r.image[t])}}}w(r,p)&&x(e.TEXTURE_CUBE_MAP),h.__version=u.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function W(t,r,s,a,l){const c=o.convert(s.format,s.encoding),u=o.convert(s.type),h=S(s.internalFormat,c,u,s.encoding),f=i.get(r);f.__hasExternalTextures||(l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,0,h,r.width,r.height,r.depth,0,c,u,null):n.texImage2D(l,0,h,r.width,r.height,0,c,u,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),te(r)?d.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,a,l,i.get(s).__webglTexture,0,ee(r)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,a,l,i.get(s).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function $(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let r=e.DEPTH_COMPONENT16;if(i||te(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Ee?r=e.DEPTH_COMPONENT32F:t.type===Te&&(r=e.DEPTH_COMPONENT24));const i=ee(n);te(n)?d.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,r,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,i,r,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,r,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){const r=ee(n);i&&!1===te(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,r,e.DEPTH24_STENCIL8,n.width,n.height):te(n)?d.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let r=0;r<t.length;r++){const s=t[r],a=o.convert(s.format,s.encoding),l=o.convert(s.type),c=S(s.internalFormat,a,l,s.encoding),u=ee(n);i&&!1===te(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,c,n.width,n.height):te(n)?d.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function X(t,r){const o=r&&r.isWebGLCubeRenderTarget;if(o)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),N(r.depthTexture,0);const s=i.get(r.depthTexture).__webglTexture,a=ee(r);if(r.depthTexture.format===Le)te(r)?d.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0);else{if(r.depthTexture.format!==Ne)throw new Error("Unknown depthTexture format");te(r)?d.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0)}}function Y(t){const r=i.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");X(r.__webglFramebuffer,t)}else if(o){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=e.createRenderbuffer(),$(r.__webglDepthbuffer[i],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),$(r.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function K(t,n,r){const o=i.get(t);void 0!==n&&W(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==r&&Y(t)}function Q(t){const l=t.texture,c=i.get(t),u=i.get(l);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,s.memory.textures++);const h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=b(t)||a;if(h){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),d)if(r.drawBuffers){const n=t.texture;for(let t=0,r=n.length;t<r;t++){const r=i.get(n[t]);void 0===r.__webglTexture&&(r.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&t.samples>0&&!1===te(t)){const i=d?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer);for(let n=0;n<i.length;n++){const r=i[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const s=o.convert(r.format,r.encoding),a=o.convert(r.type),l=S(r.internalFormat,s,a,r.encoding,!0===t.isXRRenderTarget),u=ee(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),$(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(h){n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),q(e.TEXTURE_CUBE_MAP,l,f);for(let n=0;n<6;n++)W(c.__webglFramebuffer[n],t,l,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n);w(l,f)&&x(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){const r=t.texture;for(let o=0,s=r.length;o<s;o++){const s=r[o],a=i.get(s);n.bindTexture(e.TEXTURE_2D,a.__webglTexture),q(e.TEXTURE_2D,s,f),W(c.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D),w(s,f)&&x(e.TEXTURE_2D)}n.unbindTexture()}else{let i=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(a?i=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(i,u.__webglTexture),q(i,l,f),W(c.__webglFramebuffer,t,l,e.COLOR_ATTACHMENT0,i),w(l,f)&&x(i),n.unbindTexture()}t.depthBuffer&&Y(t)}function J(t){const r=b(t)||a,o=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let s=0,a=o.length;s<a;s++){const a=o[s];if(w(a,r)){const r=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=i.get(a).__webglTexture;n.bindTexture(r,o),x(r),n.unbindTexture()}}}function Z(t){if(a&&t.samples>0&&!1===te(t)){const r=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,s=t.height;let a=e.COLOR_BUFFER_BIT;const l=[],c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=i.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(let t=0;t<r.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<r.length;n++){l.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&l.push(c);const d=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===d&&(t.depthBuffer&&(a|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(a|=e.STENCIL_BUFFER_BIT)),h&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]),!0===d&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[c]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[c])),h){const t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,s,0,0,o,s,a,e.NEAREST),f&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),h)for(let t=0;t<r.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const o=i.get(r[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}}function ee(e){return Math.min(h,e.samples)}function te(e){const n=i.get(e);return a&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function ne(e){const t=s.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}function ie(e,n){const i=e.encoding,r=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===gn||i!==It&&(i===Rt?!1===a?!0===t.has("EXT_sRGB")&&r===Ie?(e.format=gn,e.minFilter=me,e.generateMipmaps=!1):n=fi.sRGBToLinear(n):r===Ie&&o===be||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",i)),n}this.allocateTextureUnit=D,this.resetTextureUnits=R,this.setTexture2D=N,this.setTexture2DArray=B,this.setTexture3D=F,this.setTextureCube=j,this.rebindTextures=K,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=J,this.updateMultisampleRenderTarget=Z,this.setupDepthRenderbuffer=Y,this.setupFrameBufferTexture=W,this.useMultisampledRTT=te}function Ah(e,t,n){const i=n.isWebGL2;function r(n,r=null){let o;if(n===be)return e.UNSIGNED_BYTE;if(n===Ce)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Oe)return e.UNSIGNED_SHORT_5_5_5_1;if(n===_e)return e.BYTE;if(n===we)return e.SHORT;if(n===xe)return e.UNSIGNED_SHORT;if(n===Se)return e.INT;if(n===Te)return e.UNSIGNED_INT;if(n===Ee)return e.FLOAT;if(n===Me)return i?e.HALF_FLOAT:(o=t.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(n===Pe)return e.ALPHA;if(n===Ie)return e.RGBA;if(n===Re)return e.LUMINANCE;if(n===De)return e.LUMINANCE_ALPHA;if(n===Le)return e.DEPTH_COMPONENT;if(n===Ne)return e.DEPTH_STENCIL;if(n===gn)return o=t.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(n===Be)return e.RED;if(n===Fe)return e.RED_INTEGER;if(n===je)return e.RG;if(n===Ue)return e.RG_INTEGER;if(n===ze)return e.RGBA_INTEGER;if(n===qe||n===Ve||n===He||n===Ge)if(r===Rt){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(n===qe)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ve)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===He)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Ge)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(n===qe)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ve)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===He)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Ge)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===We||n===$e||n===Xe||n===Ye){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(n===We)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===$e)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Xe)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ye)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Ke)return o=t.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Qe||n===Je){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(n===Qe)return r===Rt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===Je)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(n===Ze||n===et||n===tt||n===nt||n===it||n===rt||n===ot||n===st||n===at||n===lt||n===ct||n===ut||n===ht||n===dt){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(n===Ze)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===et)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===tt)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===nt)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===it)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===rt)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===ot)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===st)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===at)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===lt)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ct)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===ut)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===ht)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===dt)return r===Rt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===ft){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(n===ft)return r===Rt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===pt||n===mt||n===gt||n===At){if(o=t.get("EXT_texture_compression_rgtc"),null===o)return null;if(n===ft)return o.COMPRESSED_RED_RGTC1_EXT;if(n===mt)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===gt)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===At)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===ke?i?e.UNSIGNED_INT_24_8:(o=t.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}return{convert:r}}class yh extends jo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class vh extends xr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bh={type:"move"};class _h{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new vh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new vh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Zn,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Zn),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new vh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Zn,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Zn),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),i=this._getHandJoint(l,o);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],s=i.position.distanceTo(r.position),a=.02,c=.005;l.inputState.pinching&&s>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&s<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(bh)))}return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new vh;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class wh extends Ai{constructor(e,t,n,i,r,o,s,a,l,c){if(c=void 0!==c?c:Le,c!==Le&&c!==Ne)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Le&&(n=Te),void 0===n&&c===Ne&&(n=ke),super(null,i,r,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:ue,this.minFilter=void 0!==a?a:ue,this.flipY=!1,this.generateMipmaps=!1}}class xh extends An{constructor(e,t){super();const n=this;let i=null,r=1,o=null,s="local-floor",a=1,l=null,c=null,u=null,h=null,d=null,f=null;const p=t.getContextAttributes();let m=null,g=null;const A=[],y=[],v=new Set,b=new Map,_=new jo;_.layers.enable(1),_.viewport=new yi;const w=new jo;w.layers.enable(2),w.viewport=new yi;const x=[_,w],S=new yh;S.layers.enable(1),S.layers.enable(2);let T=null,E=null;function M(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=A[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function C(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",C),i.removeEventListener("inputsourceschange",O);for(let e=0;e<A.length;e++){const t=y[e];null!==t&&(y[e]=null,A[e].disconnect(t))}T=null,E=null,e.setRenderTarget(m),d=null,h=null,u=null,i=null,g=null,N.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function O(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=y.indexOf(n);i>=0&&(y[i]=null,A[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=y.indexOf(n);if(-1===i){for(let e=0;e<A.length;e++){if(e>=y.length){y.push(n),i=e;break}if(null===y[e]){y[e]=n,i=e;break}}if(-1===i)break}const r=A[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=A[e];return void 0===t&&(t=new _h,A[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=A[e];return void 0===t&&(t=new _h,A[e]=t),t.getGripSpace()},this.getHand=function(e){let t=A[e];return void 0===t&&(t=new _h,A[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){if(m=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",C),i.addEventListener("inputsourceschange",O),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==i.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};d=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:d}),g=new vi(d.framebufferWidth,d.framebufferHeight,{format:Ie,type:be,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let n=null,o=null,s=null;p.depth&&(s=p.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=p.stencil?Ne:Le,o=p.stencil?ke:Te);const a={colorFormat:t.RGBA8,depthFormat:s,scaleFactor:r};u=new XRWebGLBinding(i,t),h=u.createProjectionLayer(a),i.updateRenderState({layers:[h]}),g=new vi(h.textureWidth,h.textureHeight,{format:Ie,type:be,depthTexture:new wh(h.textureWidth,h.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});const l=e.properties.get(g);l.__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=await i.requestReferenceSpace(s),N.setContext(i),N.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const k=new Zn,P=new Zn;function I(e,t,n){k.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);const i=k.distanceTo(P),r=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],d=s*u,f=s*h,p=i/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=s+p,A=a+p,y=d-m,v=f+(i-m),b=l*a/A*g,_=c*a/A*g;e.projectionMatrix.makePerspective(y,v,b,_,g,A)}function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===i)return;S.near=w.near=_.near=e.near,S.far=w.far=_.far=e.far,T===S.near&&E===S.far||(i.updateRenderState({depthNear:S.near,depthFar:S.far}),T=S.near,E=S.far);const t=e.parent,n=S.cameras;R(S,t);for(let i=0;i<n.length;i++)R(n[i],t);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),e.matrix.copy(S.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);const r=e.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);2===n.length?I(S,_,w):S.projectionMatrix.copy(_.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){if(null!==h||null!==d)return a},this.setFoveation=function(e){a=e,null!==h&&(h.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)},this.getPlanes=function(){return v};let D=null;function L(t,i){if(c=i.getViewerPose(l||o),f=i,null!==c){const t=c.views;null!==d&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const r=t[i];let o=null;if(null!==d)o=d.getViewport(r);else{const t=u.getViewSubImage(h,r);o=t.viewport,0===i&&(e.setRenderTargetTextures(g,t.colorTexture,h.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let s=x[i];void 0===s&&(s=new jo,s.layers.enable(i),s.viewport=new yi,x[i]=s),s.matrix.fromArray(r.transform.matrix),s.projectionMatrix.fromArray(r.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===i&&S.matrix.copy(s.matrix),!0===n&&S.cameras.push(s)}}for(let e=0;e<A.length;e++){const t=y[e],n=A[e];null!==t&&void 0!==n&&n.update(t,i,l||o)}if(D&&D(t,i),i.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:i.detectedPlanes});let e=null;for(const t of v)i.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(const t of e)v.delete(t),b.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(const t of i.detectedPlanes)if(v.has(t)){const e=b.get(t);t.lastChangedTime>e&&(b.set(t,t.lastChangedTime),n.dispatchEvent({type:"planechanged",data:t}))}else v.add(t),b.set(t,i.lastChangedTime),n.dispatchEvent({type:"planeadded",data:t})}f=null}const N=new Jo;N.setAnimationLoop(L),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}function Sh(e,t){function n(t,n){n.color.getRGB(t.fogColor.value,Ro(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)}function i(e,t,n,i,f){t.isMeshBasicMaterial||t.isMeshLambertMaterial?r(e,t):t.isMeshToonMaterial?(r(e,t),u(e,t)):t.isMeshPhongMaterial?(r(e,t),c(e,t)):t.isMeshStandardMaterial?(r(e,t),h(e,t),t.isMeshPhysicalMaterial&&d(e,t,f)):t.isMeshMatcapMaterial?(r(e,t),p(e,t)):t.isMeshDepthMaterial?r(e,t):t.isMeshDistanceMaterial?(r(e,t),m(e,t)):t.isMeshNormalMaterial?r(e,t):t.isLineBasicMaterial?(o(e,t),t.isLineDashedMaterial&&s(e,t)):t.isPointsMaterial?a(e,t,n,i):t.isSpriteMaterial?l(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}function r(n,i){n.opacity.value=i.opacity,i.color&&n.diffuse.value.copy(i.color),i.emissive&&n.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(n.map.value=i.map),i.alphaMap&&(n.alphaMap.value=i.alphaMap),i.bumpMap&&(n.bumpMap.value=i.bumpMap,n.bumpScale.value=i.bumpScale,i.side===f&&(n.bumpScale.value*=-1)),i.displacementMap&&(n.displacementMap.value=i.displacementMap,n.displacementScale.value=i.displacementScale,n.displacementBias.value=i.displacementBias),i.emissiveMap&&(n.emissiveMap.value=i.emissiveMap),i.normalMap&&(n.normalMap.value=i.normalMap,n.normalScale.value.copy(i.normalScale),i.side===f&&n.normalScale.value.negate()),i.specularMap&&(n.specularMap.value=i.specularMap),i.alphaTest>0&&(n.alphaTest.value=i.alphaTest);const r=t.get(i).envMap;if(r&&(n.envMap.value=r,n.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,n.reflectivity.value=i.reflectivity,n.ior.value=i.ior,n.refractionRatio.value=i.refractionRatio),i.lightMap){n.lightMap.value=i.lightMap;const t=!0===e.useLegacyLights?Math.PI:1;n.lightMapIntensity.value=i.lightMapIntensity*t}let o,s;i.aoMap&&(n.aoMap.value=i.aoMap,n.aoMapIntensity.value=i.aoMapIntensity),i.map?o=i.map:i.specularMap?o=i.specularMap:i.displacementMap?o=i.displacementMap:i.normalMap?o=i.normalMap:i.bumpMap?o=i.bumpMap:i.roughnessMap?o=i.roughnessMap:i.metalnessMap?o=i.metalnessMap:i.alphaMap?o=i.alphaMap:i.emissiveMap?o=i.emissiveMap:i.clearcoatMap?o=i.clearcoatMap:i.clearcoatNormalMap?o=i.clearcoatNormalMap:i.clearcoatRoughnessMap?o=i.clearcoatRoughnessMap:i.iridescenceMap?o=i.iridescenceMap:i.iridescenceThicknessMap?o=i.iridescenceThicknessMap:i.specularIntensityMap?o=i.specularIntensityMap:i.specularColorMap?o=i.specularColorMap:i.transmissionMap?o=i.transmissionMap:i.thicknessMap?o=i.thicknessMap:i.sheenColorMap?o=i.sheenColorMap:i.sheenRoughnessMap&&(o=i.sheenRoughnessMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uvTransform.value.copy(o.matrix)),i.aoMap?s=i.aoMap:i.lightMap&&(s=i.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),n.uv2Transform.value.copy(s.matrix))}function o(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}function s(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function a(e,t,n,i){let r;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*i,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?r=t.map:t.alphaMap&&(r=t.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}function l(e,t){let n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function c(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}function u(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function h(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);const i=t.get(n).envMap;i&&(e.envMapIntensity.value=n.envMapIntensity)}function d(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===f&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap)),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}function p(e,t){t.matcap&&(e.matcap.value=t.matcap)}function m(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function Th(e,t,n,i){let r={},o={},s=[];const a=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t){const n=t.program;i.uniformBlockBinding(e,n)}function c(e,n){let s=r[e.id];void 0===s&&(p(e),s=u(e),r[e.id]=s,e.addEventListener("dispose",g));const a=n.program;i.updateUBOMapping(e,a);const l=t.render.frame;o[e.id]!==l&&(d(e),o[e.id]=l)}function u(t){const n=h();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,i),e.bufferData(e.UNIFORM_BUFFER,r,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,i),i}function h(){for(let e=0;e<a;e++)if(-1===s.indexOf(e))return s.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(t){const n=r[t.id],i=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let r=0,s=i.length;r<s;r++){const t=i[r];if(!0===f(t,r,o)){const n=t.__offset,i=Array.isArray(t.value)?t.value:[t.value];let r=0;for(let o=0;o<i.length;o++){const s=i[o],a=m(s);"number"===typeof s?(t.__data[0]=s,e.bufferSubData(e.UNIFORM_BUFFER,n+r,t.__data)):s.isMatrix3?(t.__data[0]=s.elements[0],t.__data[1]=s.elements[1],t.__data[2]=s.elements[2],t.__data[3]=s.elements[0],t.__data[4]=s.elements[3],t.__data[5]=s.elements[4],t.__data[6]=s.elements[5],t.__data[7]=s.elements[0],t.__data[8]=s.elements[6],t.__data[9]=s.elements[7],t.__data[10]=s.elements[8],t.__data[11]=s.elements[0]):(s.toArray(t.__data,r),r+=a.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,n,t.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function f(e,t,n){const i=e.value;if(void 0===n[t]){if("number"===typeof i)n[t]=i;else{const e=Array.isArray(i)?i:[i],r=[];for(let t=0;t<e.length;t++)r.push(e[t].clone());n[t]=r}return!0}if("number"===typeof i){if(n[t]!==i)return n[t]=i,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],r=Array.isArray(i)?i:[i];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(r[t]))return n.copy(r[t]),!0}}return!1}function p(e){const t=e.uniforms;let n=0;const i=16;let r=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s={boundary:0,storage:0},a=Array.isArray(e.value)?e.value:[e.value];for(let t=0,n=a.length;t<n;t++){const e=a[t],n=m(e);s.boundary+=n.boundary,s.storage+=n.storage}if(e.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,o>0){r=n%i;const t=i-r;0!==r&&t-s.boundary<0&&(n+=i-r,e.__offset=n)}n+=s.storage}return r=n%i,r>0&&(n+=i-r),e.__size=n,e.__cache={},this}function m(e){const t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function g(t){const n=t.target;n.removeEventListener("dispose",g);const i=s.indexOf(n.__bindingPointIndex);s.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete o[n.id]}function A(){for(const t in r)e.deleteBuffer(r[t]);s=[],r={},o={}}return{bind:l,update:c,dispose:A}}function Eh(){const e=Qn("canvas");return e.style.display="block",e}function Mh(e={}){this.isWebGLRenderer=!0;const n=void 0!==e.canvas?e.canvas:Eh(),i=void 0!==e.context?e.context:null,r=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h;h=null!==i?i.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let m=null,g=null;const A=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=It,this.useLegacyLights=!0,this.toneMapping=Y,this.toneMappingExposure=1;const v=this;let b=!1,_=0,w=0,x=null,S=-1,T=null;const E=new yi,M=new yi;let C=null,O=n.width,k=n.height,P=1,I=null,R=null;const D=new yi(0,0,O,k),L=new yi(0,0,O,k);let N=!1;const B=new Qo;let F=!1,j=!1,U=null;const z=new Ji,q=new Zn,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===x?P:1}let G,W,$,X,K,Q,J,Z,ee,te,ne,ie,re,oe,se,ae,le,ce,ue,he,de,fe,pe,me,ge=i;function Ae(e,t){for(let i=0;i<e.length;i++){const r=e[i],o=n.getContext(r,t);if(null!==o)return o}return null}try{const e={alpha:!0,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r"+t),n.addEventListener("webglcontextlost",we,!1),n.addEventListener("webglcontextrestored",xe,!1),n.addEventListener("webglcontextcreationerror",Se,!1),null===ge){const t=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&t.shift(),ge=Ae(t,e),null===ge)throw Ae(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(We){throw console.error("THREE.WebGLRenderer: "+We.message),We}function ve(){G=new lc(ge),W=new Ul(ge,G,e),G.init(W),fe=new Ah(ge,G,W),$=new mh(ge,G,W),X=new hc(ge),K=new Ju,Q=new gh(ge,G,$,K,W,fe,X),J=new ql(v),Z=new ac(v),ee=new Zo(ge,W),pe=new Fl(ge,G,ee,W),te=new cc(ge,ee,X,pe),ne=new mc(ge,te,ee,X),ue=new pc(ge,W,Q),ae=new zl(K),ie=new Qu(v,J,Z,G,W,pe,ae),re=new Sh(v,K),oe=new nh,se=new ch(G,W),ce=new Bl(v,J,Z,$,ne,h,a),le=new ph(v,ne,W),me=new Th(ge,X,W,$),he=new jl(ge,G,X,W),de=new uc(ge,G,X,W),X.programs=ie.programs,v.capabilities=W,v.extensions=G,v.properties=K,v.renderLists=oe,v.shadowMap=le,v.state=$,v.info=X}ve();const _e=new xh(v,ge);function we(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function xe(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=X.autoReset,t=le.enabled,n=le.autoUpdate,i=le.needsUpdate,r=le.type;ve(),X.autoReset=e,le.enabled=t,le.autoUpdate=n,le.needsUpdate=i,le.type=r}function Se(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Te(e){const t=e.target;t.removeEventListener("dispose",Te),Ce(t)}function Ce(e){Oe(e),K.remove(e)}function Oe(e){const t=K.get(e).programs;void 0!==t&&(t.forEach((function(e){ie.releaseProgram(e)})),e.isShaderMaterial&&ie.releaseShaderCache(e))}this.xr=_e,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const e=G.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=G.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(O,k,!1))},this.getSize=function(e){return e.set(O,k)},this.setSize=function(e,t,i=!0){_e.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=e,k=t,n.width=Math.floor(e*P),n.height=Math.floor(t*P),!0===i&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(O*P,k*P).floor()},this.setDrawingBufferSize=function(e,t,i){O=e,k=t,P=i,n.width=Math.floor(e*i),n.height=Math.floor(t*i),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,i){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,i),$.viewport(E.copy(D).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,i){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,i),$.scissor(M.copy(L).multiplyScalar(P).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){$.setScissorTest(N=e)},this.setOpaqueSort=function(e){I=e},this.setTransparentSort=function(e){R=e},this.getClearColor=function(e){return e.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(e=!0,t=!0,n=!0){let i=0;e&&(i|=ge.COLOR_BUFFER_BIT),t&&(i|=ge.DEPTH_BUFFER_BIT),n&&(i|=ge.STENCIL_BUFFER_BIT),ge.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",we,!1),n.removeEventListener("webglcontextrestored",xe,!1),n.removeEventListener("webglcontextcreationerror",Se,!1),oe.dispose(),se.dispose(),K.dispose(),J.dispose(),Z.dispose(),ne.dispose(),pe.dispose(),me.dispose(),ie.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Re),_e.removeEventListener("sessionend",De),U&&(U.dispose(),U=null),Le.stop()},this.renderBufferDirect=function(e,t,n,i,r,o){null===t&&(t=V);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=Ve(e,t,n,i,r);$.setMaterial(i,s);let l=n.index,c=1;!0===i.wireframe&&(l=te.getWireframeAttribute(n),c=2);const u=n.drawRange,h=n.attributes.position;let d=u.start*c,f=(u.start+u.count)*c;null!==o&&(d=Math.max(d,o.start*c),f=Math.min(f,(o.start+o.count)*c)),null!==l?(d=Math.max(d,0),f=Math.min(f,l.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),f=Math.min(f,h.count));const p=f-d;if(p<0||p===1/0)return;let m;pe.setup(r,i,a,n,l);let g=he;if(null!==l&&(m=ee.get(l),g=de,g.setIndex(m)),r.isMesh)!0===i.wireframe?($.setLineWidth(i.wireframeLinewidth*H()),g.setMode(ge.LINES)):g.setMode(ge.TRIANGLES);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),$.setLineWidth(e*H()),r.isLineSegments?g.setMode(ge.LINES):r.isLineLoop?g.setMode(ge.LINE_LOOP):g.setMode(ge.LINE_STRIP)}else r.isPoints?g.setMode(ge.POINTS):r.isSprite&&g.setMode(ge.TRIANGLES);if(r.isInstancedMesh)g.renderInstances(d,p,r.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(d,p,t)}else g.render(d,p)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===p&&!1===e.forceSinglePass?(e.side=f,e.needsUpdate=!0,ze(e,t,n),e.side=d,e.needsUpdate=!0,ze(e,t,n),e.side=p):ze(e,t,n)}g=se.get(e),g.init(),y.push(g),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))})),g.setupLights(v.useLegacyLights),e.traverse((function(t){const i=t.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];n(o,e,t)}else n(i,e,t)})),y.pop(),g=null};let ke=null;function Pe(e){ke&&ke(e)}function Re(){Le.stop()}function De(){Le.start()}const Le=new Jo;function Ne(e,t,n,i){if(!1===e.visible)return;const r=e.layers.test(t.layers);if(r)if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)g.pushLight(e),e.castShadow&&g.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||B.intersectsSprite(e)){i&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=ne.update(e),r=e.material;r.visible&&m.push(e,t,r,n,q.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==X.render.frame&&(e.skeleton.update(),e.skeleton.frame=X.render.frame),!e.frustumCulled||B.intersectsObject(e))){i&&q.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=ne.update(e),r=e.material;if(Array.isArray(r)){const i=t.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&m.push(e,t,a,n,q.z,s)}}else r.visible&&m.push(e,t,r,n,q.z,null)}const o=e.children;for(let s=0,a=o.length;s<a;s++)Ne(o[s],t,n,i)}function Be(e,t,n,i){const r=e.opaque,o=e.transmissive,s=e.transparent;g.setupLightsView(n),!0===F&&ae.setGlobalState(v.clippingPlanes,n),o.length>0&&Fe(r,t,n),i&&$.viewport(E.copy(i)),r.length>0&&je(r,t,n),o.length>0&&je(o,t,n),s.length>0&&je(s,t,n),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1)}function Fe(e,t,n){const i=W.isWebGL2;null===U&&(U=new vi(1024,1024,{generateMipmaps:!0,type:G.has("EXT_color_buffer_half_float")?Me:be,minFilter:ye,samples:i&&!0===s?4:0}));const r=v.getRenderTarget();v.setRenderTarget(U),v.clear();const o=v.toneMapping;v.toneMapping=Y,je(e,t,n),v.toneMapping=o,Q.updateMultisampleRenderTarget(U),Q.updateRenderTargetMipmap(U),v.setRenderTarget(r)}function je(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,o=e.length;r<o;r++){const o=e[r],s=o.object,a=o.geometry,l=null===i?o.material:i,c=o.group;s.layers.test(n.layers)&&Ue(s,t,n,a,l,c)}}function Ue(e,t,n,i,r,o){e.onBeforeRender(v,t,n,i,r,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(v,t,n,i,e,o),!0===r.transparent&&r.side===p&&!1===r.forceSinglePass?(r.side=f,r.needsUpdate=!0,v.renderBufferDirect(n,t,i,r,e,o),r.side=d,r.needsUpdate=!0,v.renderBufferDirect(n,t,i,r,e,o),r.side=p):v.renderBufferDirect(n,t,i,r,e,o),e.onAfterRender(v,t,n,i,r,o)}function ze(e,t,n){!0!==t.isScene&&(t=V);const i=K.get(e),r=g.state.lights,o=g.state.shadowsArray,s=r.state.version,a=ie.getParameters(e,r.state,o,t,n),l=ie.getProgramCacheKey(a);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?Z:J).get(e.envMap||i.environment),void 0===c&&(e.addEventListener("dispose",Te),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===s)return qe(e,a),u}else a.uniforms=ie.getUniforms(e),e.onBuild(n,a,v),e.onBeforeCompile(a,v),u=ie.acquireProgram(a,l),c.set(l,u),i.uniforms=a.uniforms;const h=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=ae.uniform),qe(e,a),i.needsLights=Ge(e),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotLightMatrix.value=r.state.spotLightMatrix,h.spotLightMap.value=r.state.spotLightMap,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const d=u.getUniforms(),f=_u.seqWithValue(d.seq,h);return i.currentProgram=u,i.uniformsList=f,u}function qe(e,t){const n=K.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function Ve(e,t,n,i,r){!0!==t.isScene&&(t=V),Q.resetTextureUnits();const o=t.fog,s=i.isMeshStandardMaterial?t.environment:null,a=null===x?v.outputEncoding:!0===x.isXRRenderTarget?x.texture.encoding:It,l=(i.isMeshStandardMaterial?Z:J).get(i.envMap||s),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!i.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,p=i.toneMapped?v.toneMapping:Y,m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,A=void 0!==m?m.length:0,y=K.get(i),b=g.state.lights;if(!0===F&&(!0===j||e!==T)){const t=e===T&&i.id===S;ae.setState(i,e,t)}let _=!1;i.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputEncoding!==a||r.isInstancedMesh&&!1===y.instancing?_=!0:r.isInstancedMesh||!0!==y.instancing?r.isSkinnedMesh&&!1===y.skinning?_=!0:r.isSkinnedMesh||!0!==y.skinning?y.envMap!==l||!0===i.fog&&y.fog!==o?_=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===ae.numPlanes&&y.numIntersection===ae.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==h||y.morphNormals!==d||y.morphColors!==f||y.toneMapping!==p||!0===W.isWebGL2&&y.morphTargetsCount!==A)&&(_=!0):_=!0:_=!0:_=!0:(_=!0,y.__version=i.version);let w=y.currentProgram;!0===_&&(w=ze(i,t,r));let E=!1,M=!1,C=!1;const O=w.getUniforms(),I=y.uniforms;if($.useProgram(w.program)&&(E=!0,M=!0,C=!0),i.id!==S&&(S=i.id,M=!0),E||T!==e){if(O.setValue(ge,"projectionMatrix",e.projectionMatrix),W.logarithmicDepthBuffer&&O.setValue(ge,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),T!==e&&(T=e,M=!0,C=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){const t=O.map.cameraPosition;void 0!==t&&t.setValue(ge,q.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&O.setValue(ge,"isOrthographic",!0===e.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||r.isSkinnedMesh)&&O.setValue(ge,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){O.setOptional(ge,r,"bindMatrix"),O.setOptional(ge,r,"bindMatrixInverse");const e=r.skeleton;e&&(W.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),O.setValue(ge,"boneTexture",e.boneTexture,Q),O.setValue(ge,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const R=n.morphAttributes;if((void 0!==R.position||void 0!==R.normal||void 0!==R.color&&!0===W.isWebGL2)&&ue.update(r,n,w),(M||y.receiveShadow!==r.receiveShadow)&&(y.receiveShadow=r.receiveShadow,O.setValue(ge,"receiveShadow",r.receiveShadow)),i.isMeshGouraudMaterial&&null!==i.envMap&&(I.envMap.value=l,I.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),M&&(O.setValue(ge,"toneMappingExposure",v.toneMappingExposure),y.needsLights&&He(I,C),o&&!0===i.fog&&re.refreshFogUniforms(I,o),re.refreshMaterialUniforms(I,i,P,k,U),_u.upload(ge,y.uniformsList,I,Q)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(_u.upload(ge,y.uniformsList,I,Q),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&O.setValue(ge,"center",r.center),O.setValue(ge,"modelViewMatrix",r.modelViewMatrix),O.setValue(ge,"normalMatrix",r.normalMatrix),O.setValue(ge,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const e=i.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(W.isWebGL2){const n=e[t];me.update(n,w),me.bind(n,w)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return w}function He(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function Ge(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Le.setAnimationLoop(Pe),"undefined"!==typeof self&&Le.setContext(self),this.setAnimationLoop=function(e){ke=e,_e.setAnimationLoop(e),null===e?Le.stop():Le.start()},_e.addEventListener("sessionstart",Re),_e.addEventListener("sessionend",De),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===_e.enabled&&!0===_e.isPresenting&&(!0===_e.cameraAutoUpdate&&_e.updateCamera(t),t=_e.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,x),g=se.get(e,y.length),g.init(),y.push(g),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),B.setFromProjectionMatrix(z),j=this.localClippingEnabled,F=ae.init(this.clippingPlanes,j),m=oe.get(e,A.length),m.init(),A.push(m),Ne(e,t,0,v.sortObjects),m.finish(),!0===v.sortObjects&&m.sort(I,R),!0===F&&ae.beginShadows();const n=g.state.shadowsArray;if(le.render(n,e,t),!0===F&&ae.endShadows(),!0===this.info.autoReset&&this.info.reset(),ce.render(m,e),g.setupLights(v.useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,i=n.length;t<i;t++){const i=n[t];Be(m,e,i,i.viewport)}}else Be(m,e,t);null!==x&&(Q.updateMultisampleRenderTarget(x),Q.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(v,e,t),pe.resetDefaultState(),S=-1,T=null,y.pop(),g=y.length>0?y[y.length-1]:null,A.pop(),m=A.length>0?A[A.length-1]:null},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){K.get(e.texture).__webglTexture=t,K.get(e.depthTexture).__webglTexture=n;const i=K.get(e);i.__hasExternalTextures=!0,i.__hasExternalTextures&&(i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===G.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=K.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){x=e,_=t,w=n;let i=!0,r=null,o=!1,s=!1;if(e){const n=K.get(e);void 0!==n.__useDefaultFramebuffer?($.bindFramebuffer(ge.FRAMEBUFFER,null),i=!1):void 0===n.__webglFramebuffer?Q.setupRenderTarget(e):n.__hasExternalTextures&&Q.rebindTextures(e,K.get(e.texture).__webglTexture,K.get(e.depthTexture).__webglTexture);const a=e.texture;(a.isData3DTexture||a.isDataArrayTexture||a.isCompressedArrayTexture)&&(s=!0);const l=K.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=l[t],o=!0):r=W.isWebGL2&&e.samples>0&&!1===Q.useMultisampledRTT(e)?K.get(e).__webglMultisampledFramebuffer:l,E.copy(e.viewport),M.copy(e.scissor),C=e.scissorTest}else E.copy(D).multiplyScalar(P).floor(),M.copy(L).multiplyScalar(P).floor(),C=N;const a=$.bindFramebuffer(ge.FRAMEBUFFER,r);if(a&&W.drawBuffers&&i&&$.drawBuffers(e,r),$.viewport(E),$.scissor(M),$.setScissorTest(C),o){const i=K.get(e.texture);ge.framebufferTexture2D(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,ge.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(s){const i=K.get(e.texture),r=t||0;ge.framebufferTextureLayer(ge.FRAMEBUFFER,ge.COLOR_ATTACHMENT0,i.__webglTexture,n||0,r)}S=-1},this.readRenderTargetPixels=function(e,t,n,i,r,o,s){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=K.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){$.bindFramebuffer(ge.FRAMEBUFFER,a);try{const s=e.texture,a=s.format,l=s.type;if(a!==Ie&&fe.convert(a)!==ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===Me&&(G.has("EXT_color_buffer_half_float")||W.isWebGL2&&G.has("EXT_color_buffer_float"));if(l!==be&&fe.convert(l)!==ge.getParameter(ge.IMPLEMENTATION_COLOR_READ_TYPE)&&(l!==Ee||!(W.isWebGL2||G.has("OES_texture_float")||G.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&ge.readPixels(t,n,i,r,fe.convert(a),fe.convert(l),o)}finally{const e=null!==x?K.get(x).__webglFramebuffer:null;$.bindFramebuffer(ge.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),o=Math.floor(t.image.height*i);Q.setTexture2D(t,0),ge.copyTexSubImage2D(ge.TEXTURE_2D,n,0,0,e.x,e.y,r,o),$.unbindTexture()},this.copyTextureToTexture=function(e,t,n,i=0){const r=t.image.width,o=t.image.height,s=fe.convert(n.format),a=fe.convert(n.type);Q.setTexture2D(n,0),ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,n.flipY),ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),ge.pixelStorei(ge.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?ge.texSubImage2D(ge.TEXTURE_2D,i,e.x,e.y,r,o,s,a,t.image.data):t.isCompressedTexture?ge.compressedTexSubImage2D(ge.TEXTURE_2D,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):ge.texSubImage2D(ge.TEXTURE_2D,i,e.x,e.y,s,a,t.image),0===i&&n.generateMipmaps&&ge.generateMipmap(ge.TEXTURE_2D),$.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i,r=0){if(v.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,a=e.max.z-e.min.z+1,l=fe.convert(i.format),c=fe.convert(i.type);let u;if(i.isData3DTexture)Q.setTexture3D(i,0),u=ge.TEXTURE_3D;else{if(!i.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Q.setTexture2DArray(i,0),u=ge.TEXTURE_2D_ARRAY}ge.pixelStorei(ge.UNPACK_FLIP_Y_WEBGL,i.flipY),ge.pixelStorei(ge.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),ge.pixelStorei(ge.UNPACK_ALIGNMENT,i.unpackAlignment);const h=ge.getParameter(ge.UNPACK_ROW_LENGTH),d=ge.getParameter(ge.UNPACK_IMAGE_HEIGHT),f=ge.getParameter(ge.UNPACK_SKIP_PIXELS),p=ge.getParameter(ge.UNPACK_SKIP_ROWS),m=ge.getParameter(ge.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ge.pixelStorei(ge.UNPACK_ROW_LENGTH,g.width),ge.pixelStorei(ge.UNPACK_IMAGE_HEIGHT,g.height),ge.pixelStorei(ge.UNPACK_SKIP_PIXELS,e.min.x),ge.pixelStorei(ge.UNPACK_SKIP_ROWS,e.min.y),ge.pixelStorei(ge.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?ge.texSubImage3D(u,r,t.x,t.y,t.z,o,s,a,l,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ge.compressedTexSubImage3D(u,r,t.x,t.y,t.z,o,s,a,l,g.data)):ge.texSubImage3D(u,r,t.x,t.y,t.z,o,s,a,l,c,g),ge.pixelStorei(ge.UNPACK_ROW_LENGTH,h),ge.pixelStorei(ge.UNPACK_IMAGE_HEIGHT,d),ge.pixelStorei(ge.UNPACK_SKIP_PIXELS,f),ge.pixelStorei(ge.UNPACK_SKIP_ROWS,p),ge.pixelStorei(ge.UNPACK_SKIP_IMAGES,m),0===r&&i.generateMipmaps&&ge.generateMipmap(u),$.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?Q.setTextureCube(e,0):e.isData3DTexture?Q.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Q.setTexture2DArray(e,0):Q.setTexture2D(e,0),$.unbindTexture()},this.resetState=function(){_=0,w=0,x=null,$.reset(),pe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(Mh.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}});class Ch extends Mh{}Ch.prototype.isWebGL1Renderer=!0;class Oh{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new zr(e),this.density=t}clone(){return new Oh(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class kh{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new zr(e),this.near=t,this.far=n}clone(){return new kh(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Ph extends xr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Ih{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=on,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=wn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=wn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=wn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Rh=new Zn;class Dh{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Rh.fromBufferAttribute(this,t),Rh.applyMatrix4(e),this.setXYZ(t,Rh.x,Rh.y,Rh.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Rh.fromBufferAttribute(this,t),Rh.applyNormalMatrix(e),this.setXYZ(t,Rh.x,Rh.y,Rh.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Rh.fromBufferAttribute(this,t),Rh.transformDirection(e),this.setXYZ(t,Rh.x,Rh.y,Rh.z);return this}setX(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=qn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=qn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=qn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=qn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),i=Vn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Vn(t,this.array),n=Vn(n,this.array),i=Vn(i,this.array),r=Vn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Wr(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Dh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Lh extends Nr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new zr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Nh;const Bh=new Zn,Fh=new Zn,jh=new Zn,Uh=new Gn,zh=new Gn,qh=new Ji,Vh=new Zn,Hh=new Zn,Gh=new Zn,Wh=new Gn,$h=new Gn,Xh=new Gn;class Yh extends xr{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Nh){Nh=new uo;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Ih(e,5);Nh.setIndex([0,1,2,0,2,3]),Nh.setAttribute("position",new Dh(t,3,0,!1)),Nh.setAttribute("uv",new Dh(t,2,3,!1))}this.geometry=Nh,this.material=void 0!==e?e:new Lh,this.center=new Gn(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fh.setFromMatrixScale(this.matrixWorld),qh.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Fh.multiplyScalar(-jh.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Kh(Vh.set(-.5,-.5,0),jh,o,Fh,i,r),Kh(Hh.set(.5,-.5,0),jh,o,Fh,i,r),Kh(Gh.set(.5,.5,0),jh,o,Fh,i,r),Wh.set(0,0),$h.set(1,0),Xh.set(1,1);let s=e.ray.intersectTriangle(Vh,Hh,Gh,!1,Bh);if(null===s&&(Kh(Hh.set(-.5,.5,0),jh,o,Fh,i,r),$h.set(0,1),s=e.ray.intersectTriangle(Vh,Gh,Hh,!1,Bh),null===s))return;const a=e.ray.origin.distanceTo(Bh);a<e.near||a>e.far||t.push({distance:a,point:Bh.clone(),uv:Dr.getUV(Bh,Vh,Hh,Gh,Wh,$h,Xh,new Gn),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Kh(e,t,n,i,r,o){Uh.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(zh.x=o*Uh.x-r*Uh.y,zh.y=r*Uh.x+o*Uh.y):zh.copy(Uh),e.copy(t),e.x+=zh.x,e.y+=zh.y,e.applyMatrix4(qh)}const Qh=new Zn,Jh=new Zn;class Zh extends xr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let r;for(r=0;r<i.length;r++)if(t<i[r].distance)break;return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){const n=this.levels;if(n.length>0){Qh.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Qh);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Qh.setFromMatrixPosition(e.matrixWorld),Jh.setFromMatrixPosition(this.matrixWorld);const n=Qh.distanceTo(Jh)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r;i++){let e=t[i].distance;if(t[i].object.visible&&(e-=e*t[i].hysteresis),!(n>=e))break;t[i-1].object.visible=!1,t[i].object.visible=!0}for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const e=n[i];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const ed=new Zn,td=new yi,nd=new yi,id=new Zn,rd=new Ji;class od extends Eo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ji,this.bindMatrixInverse=new Ji}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new yi,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,i=this.geometry;td.fromBufferAttribute(i.attributes.skinIndex,e),nd.fromBufferAttribute(i.attributes.skinWeight,e),ed.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const e=nd.getComponent(r);if(0!==e){const i=td.getComponent(r);rd.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(id.copy(ed).applyMatrix4(rd),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class sd extends xr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ad extends Ai{constructor(e=null,t=1,n=1,i,r,o,s,a,l=ue,c=ue,u,h){super(null,o,s,a,l,c,i,r,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ld=new Ji,cd=new Ji;class ud{constructor(e=[],t=[]){this.uuid=wn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Ji)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Ji;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const i=e[r]?e[r].matrixWorld:cd;ld.multiplyMatrices(i,t[r]),ld.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}clone(){return new ud(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=jn(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ad(t,e,e,Ie,Ee);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new sd),this.bones.push(r),this.boneInverses.push((new Ji).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}}class hd extends Wr{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const dd=new Ji,fd=new Ji,pd=[],md=new Ji,gd=new Eo;class Ad extends Eo{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new hd(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let i=0;i<n;i++)this.setMatrixAt(i,md)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,i=this.count;if(gd.geometry=this.geometry,gd.material=this.material,void 0!==gd.material)for(let r=0;r<i;r++){this.getMatrixAt(r,dd),fd.multiplyMatrices(n,dd),gd.matrixWorld=fd,gd.raycast(e,pd);for(let e=0,n=pd.length;e<n;e++){const n=pd[e];n.instanceId=r,n.object=this,t.push(n)}pd.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new hd(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class yd extends Nr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new zr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const vd=new Zn,bd=new Zn,_d=new Ji,wd=new Qi,xd=new Vi;class Sd extends xr{constructor(e=new uo,t=new yd){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)vd.fromBufferAttribute(t,e-1),bd.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=vd.distanceTo(bd);e.setAttribute("lineDistance",new to(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),xd.copy(n.boundingSphere),xd.applyMatrix4(i),xd.radius+=r,!1===e.ray.intersectsSphere(xd))return;_d.copy(i).invert(),wd.copy(e.ray).applyMatrix4(_d);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=new Zn,c=new Zn,u=new Zn,h=new Zn,d=this.isLineSegments?2:1,f=n.index,p=n.attributes,m=p.position;if(null!==f){const n=Math.max(0,o.start),i=Math.min(f.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=d){const n=f.getX(r),i=f.getX(r+1);l.fromBufferAttribute(m,n),c.fromBufferAttribute(m,i);const o=wd.distanceSqToSegment(l,c,h,u);if(o>a)continue;h.applyMatrix4(this.matrixWorld);const s=e.ray.origin.distanceTo(h);s<e.near||s>e.far||t.push({distance:s,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else{const n=Math.max(0,o.start),i=Math.min(m.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=d){l.fromBufferAttribute(m,r),c.fromBufferAttribute(m,r+1);const n=wd.distanceSqToSegment(l,c,h,u);if(n>a)continue;h.applyMatrix4(this.matrixWorld);const i=e.ray.origin.distanceTo(h);i<e.near||i>e.far||t.push({distance:i,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}const Td=new Zn,Ed=new Zn;class Md extends Sd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)Td.fromBufferAttribute(t,e),Ed.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Td.distanceTo(Ed);e.setAttribute("lineDistance",new to(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Cd extends Sd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Od extends Nr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new zr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const kd=new Ji,Pd=new Qi,Id=new Vi,Rd=new Zn;class Dd extends xr{constructor(e=new uo,t=new Od){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Id.copy(n.boundingSphere),Id.applyMatrix4(i),Id.radius+=r,!1===e.ray.intersectsSphere(Id))return;kd.copy(i).invert(),Pd.copy(e.ray).applyMatrix4(kd);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=n.index,c=n.attributes,u=c.position;if(null!==l){const n=Math.max(0,o.start),r=Math.min(l.count,o.start+o.count);for(let o=n,s=r;o<s;o++){const n=l.getX(o);Rd.fromBufferAttribute(u,n),Ld(Rd,n,a,i,e,t,this)}}else{const n=Math.max(0,o.start),r=Math.min(u.count,o.start+o.count);for(let o=n,s=r;o<s;o++)Rd.fromBufferAttribute(u,o),Ld(Rd,o,a,i,e,t,this)}}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}function Ld(e,t,n,i,r,o,s){const a=Pd.distanceSqToPoint(e);if(a<n){const n=new Zn;Pd.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:t,face:null,object:s})}}class Nd extends Ai{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:me,this.magFilter=void 0!==r?r:me,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image,t="requestVideoFrameCallback"in e;!1===t&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Bd extends Ai{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=ue,this.minFilter=ue,this.generateMipmaps=!1,this.needsUpdate=!0}}class Fd extends Ai{constructor(e,t,n,i,r,o,s,a,l,c,u,h){super(null,o,s,a,l,c,i,r,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jd extends Fd{constructor(e,t,n,i,r,o){super(e,t,n,r,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=le}}class Ud extends Ai{constructor(e,t,n,i,r,o,s,a,l){super(e,t,n,i,r,o,s,a,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class zd{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const r=n.length;let o;o=t||e*n[r-1];let s,a=0,l=r-1;while(a<=l)if(i=Math.floor(a+(l-a)/2),s=n[i]-o,s<0)a=i+1;else{if(!(s>0)){l=i;break}l=i-1}if(i=l,n[i]===o)return i/(r-1);const c=n[i],u=n[i+1],h=u-c,d=(o-c)/h,f=(i+d)/(r-1);return f}getTangent(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=t||(o.isVector2?new Gn:new Zn);return a.copy(s).sub(o).normalize(),a}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Zn,i=[],r=[],o=[],s=new Zn,a=new Ji;for(let d=0;d<=e;d++){const t=d/e;i[d]=this.getTangentAt(t,new Zn)}r[0]=new Zn,o[0]=new Zn;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let d=1;d<=e;d++){if(r[d]=r[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(xn(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(s,e))}o[d].crossVectors(i[d],r[d])}if(!0===t){let t=Math.acos(xn(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],t*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class qd extends zd{constructor(e=0,t=0,n=1,i=1,r=0,o=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e,t){const n=t||new Gn,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;while(r<0)r+=i;while(r>i)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const s=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,i=l-this.aY;a=n*e-i*t+this.aX,l=n*t+i*e+this.aY}return n.set(a,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Vd extends qd{constructor(e,t,n,i,r,o){super(e,t,n,n,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Hd(){let e=0,t=0,n=0,i=0;function r(r,o,s,a){e=r,t=s,n=-3*r+3*o-2*s-a,i=2*r-2*o+s+a}return{initCatmullRom:function(e,t,n,i,o){r(t,n,o*(n-e),o*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,o,s,a){let l=(t-e)/o-(n-e)/(o+s)+(n-t)/s,c=(n-t)/s-(i-t)/(s+a)+(i-n)/a;l*=s,c*=s,r(t,n,l,c)},calc:function(r){const o=r*r,s=o*r;return e+t*r+n*o+i*s}}}const Gd=new Zn,Wd=new Hd,$d=new Hd,Xd=new Hd;class Yd extends zd{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new Zn){const n=t,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e;let s,a,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?s=i[(l-1)%r]:(Gd.subVectors(i[0],i[1]).add(i[0]),s=Gd);const u=i[l%r],h=i[(l+1)%r];if(this.closed||l+2<r?a=i[(l+2)%r]:(Gd.subVectors(i[r-1],i[r-2]).add(i[r-1]),a=Gd),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(s.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),i=Math.pow(h.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),Wd.initNonuniformCatmullRom(s.x,u.x,h.x,a.x,t,n,i),$d.initNonuniformCatmullRom(s.y,u.y,h.y,a.y,t,n,i),Xd.initNonuniformCatmullRom(s.z,u.z,h.z,a.z,t,n,i)}else"catmullrom"===this.curveType&&(Wd.initCatmullRom(s.x,u.x,h.x,a.x,this.tension),$d.initCatmullRom(s.y,u.y,h.y,a.y,this.tension),Xd.initCatmullRom(s.z,u.z,h.z,a.z,this.tension));return n.set(Wd.calc(c),$d.calc(c),Xd.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Zn).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Kd(e,t,n,i,r){const o=.5*(i-t),s=.5*(r-n),a=e*e,l=e*a;return(2*n-2*i+o+s)*l+(-3*n+3*i-2*o-s)*a+o*e+n}function Qd(e,t){const n=1-e;return n*n*t}function Jd(e,t){return 2*(1-e)*e*t}function Zd(e,t){return e*e*t}function ef(e,t,n,i){return Qd(e,t)+Jd(e,n)+Zd(e,i)}function tf(e,t){const n=1-e;return n*n*n*t}function nf(e,t){const n=1-e;return 3*n*n*e*t}function rf(e,t){return 3*(1-e)*e*e*t}function of(e,t){return e*e*e*t}function sf(e,t,n,i,r){return tf(e,t)+nf(e,n)+rf(e,i)+of(e,r)}class af extends zd{constructor(e=new Gn,t=new Gn,n=new Gn,i=new Gn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Gn){const n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(sf(e,i.x,r.x,o.x,s.x),sf(e,i.y,r.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lf extends zd{constructor(e=new Zn,t=new Zn,n=new Zn,i=new Zn){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Zn){const n=t,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(sf(e,i.x,r.x,o.x,s.x),sf(e,i.y,r.y,o.y,s.y),sf(e,i.z,r.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cf extends zd{constructor(e=new Gn,t=new Gn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Gn){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Gn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uf extends zd{constructor(e=new Zn,t=new Zn){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Zn){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Zn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hf extends zd{constructor(e=new Gn,t=new Gn,n=new Gn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Gn){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(ef(e,i.x,r.x,o.x),ef(e,i.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class df extends zd{constructor(e=new Zn,t=new Zn,n=new Zn){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Zn){const n=t,i=this.v0,r=this.v1,o=this.v2;return n.set(ef(e,i.x,r.x,o.x),ef(e,i.y,r.y,o.y),ef(e,i.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ff extends zd{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Gn){const n=t,i=this.points,r=(i.length-1)*e,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(Kd(s,a.x,l.x,c.x,u.x),Kd(s,a.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Gn).fromArray(n))}return this}}var pf=Object.freeze({__proto__:null,ArcCurve:Vd,CatmullRomCurve3:Yd,CubicBezierCurve:af,CubicBezierCurve3:lf,EllipseCurve:qd,LineCurve:cf,LineCurve3:uf,QuadraticBezierCurve:hf,QuadraticBezierCurve3:df,SplineCurve:ff});class mf extends zd{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new cf(t,e))}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let r=0;while(r<i.length){if(i[r]>=n){const e=i[r]-n,o=this.curves[r],s=o.getLength(),a=0===s?0:1-e/s;return o.getPointAt(a,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let e=0;e<a.length;e++){const i=a[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new pf[n.type]).fromJSON(n))}return this}}class gf extends mf{constructor(e){super(),this.type="Path",this.currentPoint=new Gn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new cf(this.currentPoint.clone(),new Gn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const r=new hf(this.currentPoint.clone(),new Gn(e,t),new Gn(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,o){const s=new af(this.currentPoint.clone(),new Gn(e,t),new Gn(n,i),new Gn(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new ff(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,i,r,o),this}absarc(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this}ellipse(e,t,n,i,r,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,o,s,a),this}absellipse(e,t,n,i,r,o,s,a){const l=new qd(e,t,n,i,r,o,s,a);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Af extends uo{constructor(e=[new Gn(0,-.5),new Gn(.5,0),new Gn(0,.5)],t=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=xn(i,0,2*Math.PI);const r=[],o=[],s=[],a=[],l=[],c=1/t,u=new Zn,h=new Gn,d=new Zn,f=new Zn,p=new Zn;let m=0,g=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:m=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,d.x=1*g,d.y=-m,d.z=0*g,p.copy(d),d.normalize(),a.push(d.x,d.y,d.z);break;case e.length-1:a.push(p.x,p.y,p.z);break;default:m=e[A+1].x-e[A].x,g=e[A+1].y-e[A].y,d.x=1*g,d.y=-m,d.z=0*g,f.copy(d),d.x+=p.x,d.y+=p.y,d.z+=p.z,d.normalize(),a.push(d.x,d.y,d.z),p.copy(f)}for(let A=0;A<=t;A++){const r=n+A*c*i,d=Math.sin(r),f=Math.cos(r);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*d,u.y=e[n].y,u.z=e[n].x*f,o.push(u.x,u.y,u.z),h.x=A/t,h.y=n/(e.length-1),s.push(h.x,h.y);const i=a[3*n+0]*d,r=a[3*n+1],c=a[3*n+0]*f;l.push(i,r,c)}}for(let A=0;A<t;A++)for(let t=0;t<e.length-1;t++){const n=t+A*e.length,i=n,o=n+e.length,s=n+e.length+1,a=n+1;r.push(i,o,a),r.push(s,a,o)}this.setIndex(r),this.setAttribute("position",new to(o,3)),this.setAttribute("uv",new to(s,2)),this.setAttribute("normal",new to(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Af(e.points,e.segments,e.phiStart,e.phiLength)}}class yf extends Af{constructor(e=1,t=1,n=4,i=8){const r=new gf;r.absarc(0,-t/2,e,1.5*Math.PI,0),r.absarc(0,t/2,e,0,.5*Math.PI),super(r.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new yf(e.radius,e.length,e.capSegments,e.radialSegments)}}class vf extends uo{constructor(e=1,t=32,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],o=[],s=[],a=[],l=new Zn,c=new Gn;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const r=n+u/t*i;l.x=e*Math.cos(r),l.y=e*Math.sin(r),o.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,a.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new to(o,3)),this.setAttribute("normal",new to(s,3)),this.setAttribute("uv",new to(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class bf extends uo{constructor(e=1,t=1,n=1,i=32,r=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function A(){const o=new Zn,A=new Zn;let y=0;const v=(t-e)/n;for(let l=0;l<=r;l++){const c=[],g=l/r,y=g*(t-e)+e;for(let e=0;e<=i;e++){const t=e/i,r=t*a+s,l=Math.sin(r),p=Math.cos(r);A.x=y*l,A.y=-g*n+m,A.z=y*p,u.push(A.x,A.y,A.z),o.set(l,v,p).normalize(),h.push(o.x,o.y,o.z),d.push(t,1-g),c.push(f++)}p.push(c)}for(let e=0;e<i;e++)for(let t=0;t<r;t++){const n=p[t][e],i=p[t+1][e],r=p[t+1][e+1],o=p[t][e+1];c.push(n,i,o),c.push(i,r,o),y+=6}l.addGroup(g,y,0),g+=y}function y(n){const r=f,o=new Gn,p=new Zn;let A=0;const y=!0===n?e:t,v=!0===n?1:-1;for(let e=1;e<=i;e++)u.push(0,m*v,0),h.push(0,v,0),d.push(.5,.5),f++;const b=f;for(let e=0;e<=i;e++){const t=e/i,n=t*a+s,r=Math.cos(n),l=Math.sin(n);p.x=y*l,p.y=m*v,p.z=y*r,u.push(p.x,p.y,p.z),h.push(0,v,0),o.x=.5*r+.5,o.y=.5*l*v+.5,d.push(o.x,o.y),f++}for(let e=0;e<i;e++){const t=r+e,i=b+e;!0===n?c.push(i,i+1,t):c.push(i+1,i,t),A+=3}l.addGroup(g,A,!0===n?1:2),g+=A}A(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(c),this.setAttribute("position",new to(u,3)),this.setAttribute("normal",new to(h,3)),this.setAttribute("uv",new to(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _f extends bf{constructor(e=1,t=1,n=32,i=1,r=!1,o=0,s=2*Math.PI){super(0,e,t,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}static fromJSON(e){return new _f(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wf extends uo{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const r=[],o=[];function s(e){const n=new Zn,i=new Zn,r=new Zn;for(let o=0;o<t.length;o+=3)d(t[o+0],n),d(t[o+1],i),d(t[o+2],r),a(n,i,r,e)}function a(e,t,n,i){const r=i+1,o=[];for(let s=0;s<=r;s++){o[s]=[];const i=e.clone().lerp(n,s/r),a=t.clone().lerp(n,s/r),l=r-s;for(let e=0;e<=l;e++)o[s][e]=0===e&&s===r?i:i.clone().lerp(a,e/l)}for(let s=0;s<r;s++)for(let e=0;e<2*(r-s)-1;e++){const t=Math.floor(e/2);e%2===0?(h(o[s][t+1]),h(o[s+1][t]),h(o[s][t])):(h(o[s][t+1]),h(o[s+1][t+1]),h(o[s+1][t]))}}function l(e){const t=new Zn;for(let n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}function c(){const e=new Zn;for(let t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];const n=m(e)/2/Math.PI+.5,i=g(e)/Math.PI+.5;o.push(n,1-i)}f(),u()}function u(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],i=o[e+4],r=Math.max(t,n,i),s=Math.min(t,n,i);r>.9&&s<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),i<.2&&(o[e+4]+=1))}}function h(e){r.push(e.x,e.y,e.z)}function d(t,n){const i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function f(){const e=new Zn,t=new Zn,n=new Zn,i=new Zn,s=new Gn,a=new Gn,l=new Gn;for(let c=0,u=0;c<r.length;c+=9,u+=6){e.set(r[c+0],r[c+1],r[c+2]),t.set(r[c+3],r[c+4],r[c+5]),n.set(r[c+6],r[c+7],r[c+8]),s.set(o[u+0],o[u+1]),a.set(o[u+2],o[u+3]),l.set(o[u+4],o[u+5]),i.copy(e).add(t).add(n).divideScalar(3);const h=m(i);p(s,u+0,e,h),p(a,u+2,t,h),p(l,u+4,n,h)}}function p(e,t,n,i){i<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=i/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}s(i),l(n),c(),this.setAttribute("position",new to(r,3)),this.setAttribute("normal",new to(r.slice(),3)),this.setAttribute("uv",new to(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wf(e.vertices,e.indices,e.radius,e.details)}}class xf extends wf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xf(e.radius,e.detail)}}const Sf=new Zn,Tf=new Zn,Ef=new Zn,Mf=new Dr;class Cf extends uo{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,i=Math.pow(10,n),r=Math.cos(bn*t),o=e.getIndex(),s=e.getAttribute("position"),a=o?o.count:s.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},d=[];for(let e=0;e<a;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:a}=Mf;if(t.fromBufferAttribute(s,l[0]),n.fromBufferAttribute(s,l[1]),a.fromBufferAttribute(s,l[2]),Mf.getNormal(Ef),u[0]=`${Math.round(t.x*i)},${Math.round(t.y*i)},${Math.round(t.z*i)}`,u[1]=`${Math.round(n.x*i)},${Math.round(n.y*i)},${Math.round(n.z*i)}`,u[2]=`${Math.round(a.x*i)},${Math.round(a.y*i)},${Math.round(a.z*i)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],i=u[t],o=Mf[c[e]],s=Mf[c[t]],a=`${n}_${i}`,f=`${i}_${n}`;f in h&&h[f]?(Ef.dot(h[f].normal)<=r&&(d.push(o.x,o.y,o.z),d.push(s.x,s.y,s.z)),h[f]=null):a in h||(h[a]={index0:l[e],index1:l[t],normal:Ef.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];Sf.fromBufferAttribute(s,t),Tf.fromBufferAttribute(s,n),d.push(Sf.x,Sf.y,Sf.z),d.push(Tf.x,Tf.y,Tf.z)}this.setAttribute("position",new to(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Of extends gf{constructor(e){super(e),this.uuid=wn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new gf).fromJSON(n))}return this}}const kf={triangulate:function(e,t,n=2){const i=t&&t.length,r=i?t[0]*n:e.length;let o=Pf(e,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,h,d,f;if(i&&(o=Ff(e,t,o,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)h=e[t],d=e[t+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);f=Math.max(c-a,u-l),f=0!==f?32767/f:0}return Rf(o,s,n,a,l,f,0),s}};function Pf(e,t,n,i,r){let o,s;if(r===ap(e,t,n,i)>0)for(o=t;o<n;o+=i)s=rp(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=rp(o,e[o],e[o+1],s);return s&&Kf(s,s.next)&&(op(s),s=s.next),s}function If(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!Kf(i,i.next)&&0!==Yf(i.prev,i,i.next))i=i.next;else{if(op(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function Rf(e,t,n,i,r,o,s){if(!e)return;!s&&o&&Vf(e,i,r,o);let a,l,c=e;while(e.prev!==e.next)if(a=e.prev,l=e.next,o?Lf(e,i,r,o):Df(e))t.push(a.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),op(e),e=l.next,c=l.next;else if(e=l,e===c){s?1===s?(e=Nf(If(e),t,n),Rf(e,t,n,i,r,o,2)):2===s&&Bf(e,t,n,i,r,o):Rf(If(e),t,n,i,r,o,1);break}}function Df(e){const t=e.prev,n=e,i=e.next;if(Yf(t,n,i)>=0)return!1;const r=t.x,o=n.x,s=i.x,a=t.y,l=n.y,c=i.y,u=r<o?r<s?r:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,d=r>o?r>s?r:s:o>s?o:s,f=a>l?a>c?a:c:l>c?l:c;let p=i.next;while(p!==t){if(p.x>=u&&p.x<=d&&p.y>=h&&p.y<=f&&$f(r,a,o,l,s,c,p.x,p.y)&&Yf(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Lf(e,t,n,i){const r=e.prev,o=e,s=e.next;if(Yf(r,o,s)>=0)return!1;const a=r.x,l=o.x,c=s.x,u=r.y,h=o.y,d=s.y,f=a<l?a<c?a:c:l<c?l:c,p=u<h?u<d?u:d:h<d?h:d,m=a>l?a>c?a:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,A=Gf(f,p,t,n,i),y=Gf(m,g,t,n,i);let v=e.prevZ,b=e.nextZ;while(v&&v.z>=A&&b&&b.z<=y){if(v.x>=f&&v.x<=m&&v.y>=p&&v.y<=g&&v!==r&&v!==s&&$f(a,u,l,h,c,d,v.x,v.y)&&Yf(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==r&&b!==s&&$f(a,u,l,h,c,d,b.x,b.y)&&Yf(b.prev,b,b.next)>=0)return!1;b=b.nextZ}while(v&&v.z>=A){if(v.x>=f&&v.x<=m&&v.y>=p&&v.y<=g&&v!==r&&v!==s&&$f(a,u,l,h,c,d,v.x,v.y)&&Yf(v.prev,v,v.next)>=0)return!1;v=v.prevZ}while(b&&b.z<=y){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==r&&b!==s&&$f(a,u,l,h,c,d,b.x,b.y)&&Yf(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Nf(e,t,n){let i=e;do{const r=i.prev,o=i.next.next;!Kf(r,o)&&Qf(r,i,i.next,o)&&tp(r,o)&&tp(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),op(i),op(i.next),i=e=o),i=i.next}while(i!==e);return If(i)}function Bf(e,t,n,i,r,o){let s=e;do{let e=s.next.next;while(e!==s.prev){if(s.i!==e.i&&Xf(s,e)){let a=ip(s,e);return s=If(s,s.next),a=If(a,a.next),Rf(s,t,n,i,r,o,0),void Rf(a,t,n,i,r,o,0)}e=e.next}s=s.next}while(s!==e)}function Ff(e,t,n,i){const r=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=Pf(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Wf(c));for(r.sort(jf),o=0;o<r.length;o++)n=Uf(r[o],n);return n}function jf(e,t){return e.x-t.x}function Uf(e,t){const n=zf(e,t);if(!n)return t;const i=ip(n,e);return If(i,i.next),If(n,n.next)}function zf(e,t){let n,i=t,r=-1/0;const o=e.x,s=e.y;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){const e=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=o&&e>r&&(r=e,n=i.x<i.next.x?i:i.next,e===o))return n}i=i.next}while(i!==t);if(!n)return null;const a=n,l=n.x,c=n.y;let u,h=1/0;i=n;do{o>=i.x&&i.x>=l&&o!==i.x&&$f(s<c?o:r,s,l,c,s<c?r:o,s,i.x,i.y)&&(u=Math.abs(s-i.y)/(o-i.x),tp(i,e)&&(u<h||u===h&&(i.x>n.x||i.x===n.x&&qf(n,i)))&&(n=i,h=u)),i=i.next}while(i!==a);return n}function qf(e,t){return Yf(e.prev,e,t.prev)<0&&Yf(t.next,e,e.next)<0}function Vf(e,t,n,i){let r=e;do{0===r.z&&(r.z=Gf(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,Hf(r)}function Hf(e){let t,n,i,r,o,s,a,l,c=1;do{n=e,e=null,o=null,s=0;while(n){for(s++,i=n,a=0,t=0;t<c;t++)if(a++,i=i.nextZ,!i)break;l=c;while(a>0||l>0&&i)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1);return e}function Gf(e,t,n,i,r){return e=(e-n)*r|0,t=(t-i)*r|0,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function Wf(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function $f(e,t,n,i,r,o,s,a){return(r-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(i-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function Xf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!ep(e,t)&&(tp(e,t)&&tp(t,e)&&np(e,t)&&(Yf(e.prev,e,t.prev)||Yf(e,t.prev,t))||Kf(e,t)&&Yf(e.prev,e,e.next)>0&&Yf(t.prev,t,t.next)>0)}function Yf(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Kf(e,t){return e.x===t.x&&e.y===t.y}function Qf(e,t,n,i){const r=Zf(Yf(e,t,n)),o=Zf(Yf(e,t,i)),s=Zf(Yf(n,i,e)),a=Zf(Yf(n,i,t));return r!==o&&s!==a||(!(0!==r||!Jf(e,n,t))||(!(0!==o||!Jf(e,i,t))||(!(0!==s||!Jf(n,e,i))||!(0!==a||!Jf(n,t,i)))))}function Jf(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Zf(e){return e>0?1:e<0?-1:0}function ep(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Qf(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function tp(e,t){return Yf(e.prev,e,e.next)<0?Yf(e,t,e.next)>=0&&Yf(e,e.prev,t)>=0:Yf(e,t,e.prev)<0||Yf(e,e.next,t)<0}function np(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}function ip(e,t){const n=new sp(e.i,e.x,e.y),i=new sp(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function rp(e,t,n,i){const r=new sp(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function op(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function sp(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ap(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}class lp{static area(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n}static isClockWise(e){return lp.area(e)<0}static triangulateShape(e,t){const n=[],i=[],r=[];cp(e),up(n,e);let o=e.length;t.forEach(cp);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,up(n,t[a]);const s=kf.triangulate(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}}function cp(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function up(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class hp extends uo{constructor(e=new Of([new Gn(.5,.5),new Gn(-.5,.5),new Gn(-.5,-.5),new Gn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let s=0,a=e.length;s<a;s++){const t=e[s];o(t)}function o(e){const o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:dp;let g,A,y,v,b,_=!1;p&&(g=p.getSpacedPoints(a),_=!0,c=!1,A=p.computeFrenetFrames(a,!1),y=new Zn,v=new Zn,b=new Zn),c||(f=0,u=0,h=0,d=0);const w=e.extractPoints(s);let x=w.shape;const S=w.holes,T=!lp.isClockWise(x);if(T){x=x.reverse();for(let e=0,t=S.length;e<t;e++){const t=S[e];lp.isClockWise(t)&&(S[e]=t.reverse())}}const E=lp.triangulateShape(x,S),M=x;for(let t=0,n=S.length;t<n;t++){const e=S[t];x=x.concat(e)}function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const O=x.length,k=E.length;function P(e,t,n){let i,r,o;const s=e.x-t.x,a=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=s*s+a*a,h=s*c-a*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=t.x-a/h,p=t.y+s/h,m=n.x-c/d,g=n.y+l/d,A=((m-f)*c-(g-p)*l)/(s*c-a*l);i=f+s*A-e.x,r=p+a*A-e.y;const y=i*i+r*r;if(y<=2)return new Gn(i,r);o=Math.sqrt(y/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(c)&&(e=!0),e?(i=-a,r=s,o=Math.sqrt(u)):(i=s,r=a,o=Math.sqrt(u/2))}return new Gn(i/o,r/o)}const I=[];for(let t=0,n=M.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),I[t]=P(M[t],M[i],M[r]);const R=[];let D,L=I.concat();for(let t=0,n=S.length;t<n;t++){const e=S[t];D=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),D[t]=P(e[t],e[i],e[r]);R.push(D),L=L.concat(D)}for(let t=0;t<f;t++){const e=t/f,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=M.length;t<r;t++){const e=C(M[t],I[t],i);U(e.x,e.y,-n)}for(let t=0,r=S.length;t<r;t++){const e=S[t];D=R[t];for(let t=0,r=e.length;t<r;t++){const r=C(e[t],D[t],i);U(r.x,r.y,-n)}}}const N=h+d;for(let t=0;t<O;t++){const e=c?C(x[t],L[t],N):x[t];_?(v.copy(A.normals[0]).multiplyScalar(e.x),y.copy(A.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(v).add(y),U(b.x,b.y,b.z)):U(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<O;e++){const n=c?C(x[e],L[e],N):x[e];_?(v.copy(A.normals[t]).multiplyScalar(n.x),y.copy(A.binormals[t]).multiplyScalar(n.y),b.copy(g[t]).add(v).add(y),U(b.x,b.y,b.z)):U(n.x,n.y,l/a*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=M.length;t<r;t++){const e=C(M[t],I[t],i);U(e.x,e.y,l+n)}for(let t=0,r=S.length;t<r;t++){const e=S[t];D=R[t];for(let t=0,r=e.length;t<r;t++){const r=C(e[t],D[t],i);_?U(r.x,r.y+g[a-1].y,g[a-1].x+n):U(r.x,r.y,l+n)}}}function B(){const e=i.length/3;if(c){let e=0,t=O*e;for(let n=0;n<k;n++){const e=E[n];z(e[2]+t,e[1]+t,e[0]+t)}e=a+2*f,t=O*e;for(let n=0;n<k;n++){const e=E[n];z(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<k;e++){const t=E[e];z(t[2],t[1],t[0])}for(let e=0;e<k;e++){const t=E[e];z(t[0]+O*a,t[1]+O*a,t[2]+O*a)}}n.addGroup(e,i.length/3-e,0)}function F(){const e=i.length/3;let t=0;j(M,t),t+=M.length;for(let n=0,i=S.length;n<i;n++){const e=S[n];j(e,t),t+=e.length}n.addGroup(e,i.length/3-e,1)}function j(e,t){let n=e.length;while(--n>=0){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=a+2*f;e<n;e++){const n=O*e,o=O*(e+1),s=t+i+n,a=t+r+n,l=t+r+o,c=t+i+o;q(s,a,l,c)}}}function U(e,t,n){o.push(e),o.push(t),o.push(n)}function z(e,t,r){V(e),V(t),V(r);const o=i.length/3,s=m.generateTopUV(n,i,o-3,o-2,o-1);H(s[0]),H(s[1]),H(s[2])}function q(e,t,r,o){V(e),V(t),V(o),V(t),V(r),V(o);const s=i.length/3,a=m.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);H(a[0]),H(a[1]),H(a[3]),H(a[1]),H(a[2]),H(a[3])}function V(e){i.push(o[3*e+0]),i.push(o[3*e+1]),i.push(o[3*e+2])}function H(e){r.push(e.x),r.push(e.y)}B(),F()}this.setAttribute("position",new to(i,3)),this.setAttribute("uv",new to(r,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return fp(t,n,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const i=t[e.shapes[r]];n.push(i)}const i=e.options.extrudePath;return void 0!==i&&(e.options.extrudePath=(new pf[i.type]).fromJSON(i)),new hp(n,e.options)}}const dp={generateTopUV:function(e,t,n,i,r){const o=t[3*n],s=t[3*n+1],a=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new Gn(o,s),new Gn(a,l),new Gn(c,u)]},generateSideWallUV:function(e,t,n,i,r,o){const s=t[3*n],a=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],h=t[3*i+2],d=t[3*r],f=t[3*r+1],p=t[3*r+2],m=t[3*o],g=t[3*o+1],A=t[3*o+2];return Math.abs(a-u)<Math.abs(s-c)?[new Gn(s,1-l),new Gn(c,1-h),new Gn(d,1-p),new Gn(m,1-A)]:[new Gn(a,1-l),new Gn(u,1-h),new Gn(f,1-p),new Gn(g,1-A)]}};function fp(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const t=e[i];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class pp extends wf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pp(e.radius,e.detail)}}class mp extends wf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mp(e.radius,e.detail)}}class gp extends uo{constructor(e=.5,t=1,n=32,i=1,r=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);const s=[],a=[],l=[],c=[];let u=e;const h=(t-e)/i,d=new Zn,f=new Gn;for(let p=0;p<=i;p++){for(let e=0;e<=n;e++){const i=r+e/n*o;d.x=u*Math.cos(i),d.y=u*Math.sin(i),a.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(d.x/t+1)/2,f.y=(d.y/t+1)/2,c.push(f.x,f.y)}u+=h}for(let p=0;p<i;p++){const e=p*(n+1);for(let t=0;t<n;t++){const i=t+e,r=i,o=i+n+1,a=i+n+2,l=i+1;s.push(r,o,l),s.push(o,a,l)}}this.setIndex(s),this.setAttribute("position",new to(a,3)),this.setAttribute("normal",new to(l,3)),this.setAttribute("uv",new to(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ap extends uo{constructor(e=new Of([new Gn(0,.5),new Gn(-.5,-.5),new Gn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],o=[];let s=0,a=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,a,c),s+=a,a=0;function l(e){const s=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===lp.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===lp.isClockWise(e)&&(u[t]=e.reverse())}const h=lp.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,i=h.length;t<i;t++){const e=h[t],i=e[0]+s,r=e[1]+s,o=e[2]+s;n.push(i,r,o),a+=3}}this.setIndex(n),this.setAttribute("position",new to(i,3)),this.setAttribute("normal",new to(r,3)),this.setAttribute("uv",new to(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return yp(t,e)}static fromJSON(e,t){const n=[];for(let i=0,r=e.shapes.length;i<r;i++){const r=t[e.shapes[i]];n.push(r)}return new Ap(n,e.curveSegments)}}function yp(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}class vp extends uo{constructor(e=1,t=32,n=16,i=0,r=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const a=Math.min(o+s,Math.PI);let l=0;const c=[],u=new Zn,h=new Zn,d=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const d=[],A=g/n;let y=0;0==g&&0==o?y=.5/t:g==n&&a==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const a=n/t;u.x=-e*Math.cos(i+a*r)*Math.sin(o+A*s),u.y=e*Math.cos(o+A*s),u.z=e*Math.sin(i+a*r)*Math.sin(o+A*s),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(a+y,1-A),d.push(l++)}c.push(d)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],i=c[g][e],r=c[g+1][e],s=c[g+1][e+1];(0!==g||o>0)&&d.push(t,i,s),(g!==n-1||a<Math.PI)&&d.push(i,r,s)}this.setIndex(d),this.setAttribute("position",new to(f,3)),this.setAttribute("normal",new to(p,3)),this.setAttribute("uv",new to(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class bp extends wf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bp(e.radius,e.detail)}}class _p extends uo{constructor(e=1,t=.4,n=12,i=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const o=[],s=[],a=[],l=[],c=new Zn,u=new Zn,h=new Zn;for(let d=0;d<=n;d++)for(let o=0;o<=i;o++){const f=o/i*r,p=d/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),s.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),h.subVectors(u,c).normalize(),a.push(h.x,h.y,h.z),l.push(o/i),l.push(d/n)}for(let d=1;d<=n;d++)for(let e=1;e<=i;e++){const t=(i+1)*d+e-1,n=(i+1)*(d-1)+e-1,r=(i+1)*(d-1)+e,s=(i+1)*d+e;o.push(t,n,s),o.push(n,r,s)}this.setIndex(o),this.setAttribute("position",new to(s,3)),this.setAttribute("normal",new to(a,3)),this.setAttribute("uv",new to(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class wp extends uo{constructor(e=1,t=.4,n=64,i=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],l=[],c=[],u=new Zn,h=new Zn,d=new Zn,f=new Zn,p=new Zn,m=new Zn,g=new Zn;for(let y=0;y<=n;++y){const s=y/n*r*Math.PI*2;A(s,r,o,e,d),A(s+.01,r,o,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=i;++e){const r=e/i*Math.PI*2,o=-t*Math.cos(r),s=t*Math.sin(r);u.x=d.x+(o*g.x+s*p.x),u.y=d.y+(o*g.y+s*p.y),u.z=d.z+(o*g.z+s*p.z),a.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(e/i)}}for(let y=1;y<=n;y++)for(let e=1;e<=i;e++){const t=(i+1)*(y-1)+(e-1),n=(i+1)*y+(e-1),r=(i+1)*y+e,o=(i+1)*(y-1)+e;s.push(t,n,o),s.push(n,r,o)}function A(e,t,n,i,r){const o=Math.cos(e),s=Math.sin(e),a=n/t*e,l=Math.cos(a);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*s*.5,r.z=i*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new to(a,3)),this.setAttribute("normal",new to(l,3)),this.setAttribute("uv",new to(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class xp extends uo{constructor(e=new df(new Zn(-1,-1,0),new Zn(-1,1,0),new Zn(1,1,0)),t=64,n=1,i=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new Zn,a=new Zn,l=new Gn;let c=new Zn;const u=[],h=[],d=[],f=[];function p(){for(let e=0;e<t;e++)m(e);m(!1===r?t:0),A(),g()}function m(r){c=e.getPointAt(r/t,c);const l=o.normals[r],d=o.binormals[r];for(let e=0;e<=i;e++){const t=e/i*Math.PI*2,r=Math.sin(t),o=-Math.cos(t);a.x=o*l.x+r*d.x,a.y=o*l.y+r*d.y,a.z=o*l.z+r*d.z,a.normalize(),h.push(a.x,a.y,a.z),s.x=c.x+n*a.x,s.y=c.y+n*a.y,s.z=c.z+n*a.z,u.push(s.x,s.y,s.z)}}function g(){for(let e=1;e<=t;e++)for(let t=1;t<=i;t++){const n=(i+1)*(e-1)+(t-1),r=(i+1)*e+(t-1),o=(i+1)*e+t,s=(i+1)*(e-1)+t;f.push(n,r,s),f.push(r,o,s)}}function A(){for(let e=0;e<=t;e++)for(let n=0;n<=i;n++)l.x=e/t,l.y=n/i,d.push(l.x,l.y)}p(),this.setIndex(f),this.setAttribute("position",new to(u,3)),this.setAttribute("normal",new to(h,3)),this.setAttribute("uv",new to(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new xp((new pf[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Sp extends uo{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,i=new Zn,r=new Zn;if(null!==e.index){const o=e.attributes.position,s=e.index;let a=e.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,l=a.length;e<l;++e){const l=a[e],c=l.start,u=l.count;for(let e=c,a=c+u;e<a;e+=3)for(let l=0;l<3;l++){const a=s.getX(e+l),c=s.getX(e+(l+1)%3);i.fromBufferAttribute(o,a),r.fromBufferAttribute(o,c),!0===Tp(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let e=0,s=o.count/3;e<s;e++)for(let a=0;a<3;a++){const s=3*e+a,l=3*e+(a+1)%3;i.fromBufferAttribute(o,s),r.fromBufferAttribute(o,l),!0===Tp(i,r,n)&&(t.push(i.x,i.y,i.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new to(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Tp(e,t,n){const i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var Ep=Object.freeze({__proto__:null,BoxGeometry:Oo,CapsuleGeometry:yf,CircleGeometry:vf,ConeGeometry:_f,CylinderGeometry:bf,DodecahedronGeometry:xf,EdgesGeometry:Cf,ExtrudeGeometry:hp,IcosahedronGeometry:pp,LatheGeometry:Af,OctahedronGeometry:mp,PlaneGeometry:es,PolyhedronGeometry:wf,RingGeometry:gp,ShapeGeometry:Ap,SphereGeometry:vp,TetrahedronGeometry:bp,TorusGeometry:_p,TorusKnotGeometry:wp,TubeGeometry:xp,WireframeGeometry:Sp});class Mp extends Nr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new zr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Cp extends Bo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Op extends Nr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kp extends Op{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Gn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new zr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new zr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new zr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Pp extends Nr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new zr(16777215),this.specular=new zr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ip extends Nr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Rp extends Nr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Dp extends Nr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new zr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lp extends Nr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nt,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Np extends yd{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Bp(e,t,n){return jp(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Fp(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function jp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Up(e){function t(t,n){return e[t]-e[n]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i}function zp(e,t,n){const i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*t;for(let n=0;n!==t;++n)r[s++]=e[i+n]}return r}function qp(e,t,n,i){let r=1,o=e[0];while(void 0!==o&&void 0===o[i])o=e[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(t.push(o.time),n.push(s)),o=e[r++]}while(void 0!==o)}function Vp(e,t,n,i,r=30){const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),a=[],c=[];for(let o=0;o<e.times.length;++o){const s=e.times[o]*r;if(!(s<n||s>=i)){a.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==a.length&&(e.times=Fp(a,e.times.constructor),e.values=Fp(c,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function Hp(e,t=0,n=e,i=30){i<=0&&(i=30);const r=n.tracks.length,o=t/i;for(let s=0;s<r;++s){const t=n.tracks[s],i=t.ValueTypeName;if("bool"===i||"string"===i)continue;const r=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===i}));if(void 0===r)continue;let a=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(o<=t.times[0]){const e=a,n=l-a;d=Bp(t.values,e,n)}else if(o>=t.times[h]){const e=h*l+a,n=e+l-a;d=Bp(t.values,e,n)}else{const e=t.createInterpolant(),n=a,i=l-a;e.evaluate(o),d=Bp(e.resultBuffer,n,i)}if("quaternion"===i){const e=(new Jn).fromArray(d).normalize().conjugate();e.toArray(d)}const f=r.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===i)Jn.multiplyQuaternionsFlat(r.values,t,d,0,r.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)r.values[t+n]-=d[n]}}}return e.blendMode=Ct,e}const Gp={arraySlice:Bp,convertArray:Fp,isTypedArray:jp,getKeyframeOrder:Up,sortedArray:zp,flattenJSON:qp,subclip:Vp,makeClipAdditive:Hp};class Wp{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;{const s=t[1];e<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}}while(n<o){const i=n+o>>>1;e<t[i]?o=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $p extends Wp{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:St,endingEnd:St}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,o=e+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case Tt:r=e,s=2*t-n;break;case Et:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Tt:o=e,a=2*n-t;break;case Et:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(i-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,A=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,v=d*m-d*p;for(let b=0;b!==s;++b)r[b]=g*o[c+b]+A*o[l+b]+y*o[a+b]+v*o[u+b];return r}}class Xp extends Wp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),u=1-c;for(let h=0;h!==s;++h)r[h]=o[l+h]*u+o[a+h]*c;return r}}class Yp extends Wp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Kp{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fp(t,this.TimeBufferType),this.values=Fp(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Fp(e.times,Array),values:Fp(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Yp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Xp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $p(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case _t:t=this.InterpolantFactoryMethodDiscrete;break;case wt:t=this.InterpolantFactoryMethodLinear;break;case xt:t=this.InterpolantFactoryMethodSmooth;break}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _t;case this.InterpolantFactoryMethodLinear:return wt;case this.InterpolantFactoryMethodSmooth:return xt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,o=i-1;while(r!==i&&n[r]<e)++r;while(-1!==o&&n[o]>t)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const e=this.getValueSize();this.times=Bp(n,r,o),this.values=Bp(this.values,r*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){const t=n[s];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,t,o),e=!1;break}o=t}if(void 0!==i&&jp(i))for(let s=0,a=i.length;s!==a;++s){const t=i[s];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,t),e=!1;break}}return e}optimize(){const e=Bp(this.times),t=Bp(this.values),n=this.getValueSize(),i=this.getInterpolation()===xt,r=e.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=e[s],l=e[s+1];if(a!==l&&(1!==s||a!==e[0]))if(i)r=!0;else{const e=s*n,i=e-n,o=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[i+s]||n!==t[o+s]){r=!0;break}}}if(r){if(s!==o){e[o]=e[s];const i=s*n,r=o*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++o}}if(r>0){e[o]=e[r];for(let e=r*n,i=o*n,s=0;s!==n;++s)t[i+s]=t[e+s];++o}return o!==e.length?(this.times=Bp(e,0,o),this.values=Bp(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=Bp(this.times,0),t=Bp(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Kp.prototype.TimeBufferType=Float32Array,Kp.prototype.ValueBufferType=Float32Array,Kp.prototype.DefaultInterpolation=wt;class Qp extends Kp{}Qp.prototype.ValueTypeName="bool",Qp.prototype.ValueBufferType=Array,Qp.prototype.DefaultInterpolation=_t,Qp.prototype.InterpolantFactoryMethodLinear=void 0,Qp.prototype.InterpolantFactoryMethodSmooth=void 0;class Jp extends Kp{}Jp.prototype.ValueTypeName="color";class Zp extends Kp{}Zp.prototype.ValueTypeName="number";class em extends Wp{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t);let l=e*s;for(let c=l+s;l!==c;l+=4)Jn.slerpFlat(r,0,o,l-s,o,l,a);return r}}class tm extends Kp{InterpolantFactoryMethodLinear(e){return new em(this.times,this.values,this.getValueSize(),e)}}tm.prototype.ValueTypeName="quaternion",tm.prototype.DefaultInterpolation=wt,tm.prototype.InterpolantFactoryMethodSmooth=void 0;class nm extends Kp{}nm.prototype.ValueTypeName="string",nm.prototype.ValueBufferType=Array,nm.prototype.DefaultInterpolation=_t,nm.prototype.InterpolantFactoryMethodLinear=void 0,nm.prototype.InterpolantFactoryMethodSmooth=void 0;class im extends Kp{}im.prototype.ValueTypeName="vector";class rm{constructor(e,t=-1,n,i=Mt){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=wn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(sm(n[o]).scale(i));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(Kp.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const r=t.length,o=[];for(let s=0;s<r;s++){let e=[],a=[];e.push((s+r-1)%r,s,(s+1)%r),a.push(0,1,0);const l=Up(e);e=zp(e,1,l),a=zp(a,1,l),i||0!==e[0]||(e.push(r),a.push(a[0])),o.push(new Zp(".morphTargetInfluences["+t[s].name+"]",e,a).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const t=e[s],n=t.name.match(r);if(n&&n.length>1){const e=n[1];let r=i[e];r||(i[e]=r=[]),r.push(t)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const o=[],s=[];qp(n,o,s,i),0!==o.length&&r.push(new e(t,o,s))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const e=l[u].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let i=0;i<e[n].morphTargets.length;i++)t[e[n].morphTargets[i]]=-1;for(const r in t){const t=[],o=[];for(let i=0;i!==e[n].morphTargets.length;++i){const i=e[n];t.push(i.time),o.push(i.morphTarget===r?1:0)}i.push(new Zp(".morphTargetInfluence["+r+"]",t,o))}a=t.length*o}else{const r=".bones["+t[u].name+"]";n(im,r+".position",e,"pos",i),n(tm,r+".quaternion",e,"rot",i),n(im,r+".scale",e,"scl",i)}}if(0===i.length)return null;const c=new this(r,a,i,s);return c}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const e=this.tracks[n];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function om(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Zp;case"vector":case"vector2":case"vector3":case"vector4":return im;case"color":return Jp;case"quaternion":return tm;case"bool":case"boolean":return Qp;case"string":return nm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function sm(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=om(e.type);if(void 0===e.times){const t=[],n=[];qp(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const am={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class lm{constructor(e,t,n){const i=this;let r=!1,o=0,s=0,a=void 0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===r&&void 0!==i.onStart&&i.onStart(e,o,s),r=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}}const cm=new lm;class um{constructor(e){this.manager=void 0!==e?e:cm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const hm={};class dm extends Error{constructor(e,t){super(e),this.response=t}}class fm extends um{constructor(e){super(e)}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=am.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(void 0!==hm[e])return void hm[e].push({onLoad:t,onProgress:n,onError:i});hm[e]=[],hm[e].push({onLoad:t,onProgress:n,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=hm[e],i=t.body.getReader(),r=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),o=r?parseInt(r):0,s=0!==o;let a=0;const l=new ReadableStream({start(e){function t(){i.read().then(({done:i,value:r})=>{if(i)e.close();else{a+=r.byteLength;const i=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(i)}e.enqueue(r),t()}})}t()}});return new Response(l)}throw new dm(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(a){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>{const t=new DOMParser;return t.parseFromString(e,s)});case"json":return e.json();default:if(void 0===s)return e.text();{const t=/charset="?([^;"\s]*)"?/i,n=t.exec(s),i=n&&n[1]?n[1].toLowerCase():void 0,r=new TextDecoder(i);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{am.add(e,t);const n=hm[e];delete hm[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onLoad&&i.onLoad(t)}}).catch(t=>{const n=hm[e];if(void 0===n)throw this.manager.itemError(e),t;delete hm[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class pm extends um{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new fm(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=rm.parse(e[n]);t.push(i)}return t}}class mm extends um{constructor(e){super(e)}load(e,t,n,i){const r=this,o=[],s=new Fd,a=new fm(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(c){a.load(e[c],(function(e){const n=r.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=me),s.image=o,s.format=n.format,s.needsUpdate=!0,t&&t(s))}),n,i)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else a.load(e,(function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=me),s.format=n.format,s.needsUpdate=!0,t&&t(s)}),n,i);return s}}class gm extends um{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=am.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;const s=Qn("img");function a(){c(),am.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}}class Am extends um{constructor(e){super(e)}load(e,t,n,i){const r=new Vo,o=new gm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(e[n],(function(e){r.images[n]=e,s++,6===s&&(r.needsUpdate=!0,t&&t(r))}),void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}}class ym extends um{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new ad,s=new fm(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(e,(function(e){const n=r.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:le,o.wrapT=void 0!==n.wrapT?n.wrapT:le,o.magFilter=void 0!==n.magFilter?n.magFilter:me,o.minFilter=void 0!==n.minFilter?n.minFilter:me,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=ye),1===n.mipmapCount&&(o.minFilter=me),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n))}),n,i),o}}class vm extends um{constructor(e){super(e)}load(e,t,n,i){const r=new Ai,o=new gm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}class bm extends xr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new zr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class _m extends bm{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new zr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const wm=new Ji,xm=new Zn,Sm=new Zn;class Tm{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Gn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ji,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qo,this._frameExtents=new Gn(1,1),this._viewportCount=1,this._viewports=[new yi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;xm.setFromMatrixPosition(e.matrixWorld),t.position.copy(xm),Sm.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Sm),t.updateMatrixWorld(),wm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wm),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(wm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Em extends Tm{constructor(){super(new jo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*_n*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Mm extends bm{constructor(e,t,n=0,i=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.target=new xr,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new Em}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Cm=new Ji,Om=new Zn,km=new Zn;class Pm extends Tm{constructor(){super(new jo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Gn(4,2),this._viewportCount=6,this._viewports=[new yi(2,1,1,1),new yi(0,1,1,1),new yi(3,1,1,1),new yi(1,1,1,1),new yi(3,0,1,1),new yi(1,0,1,1)],this._cubeDirections=[new Zn(1,0,0),new Zn(-1,0,0),new Zn(0,0,1),new Zn(0,0,-1),new Zn(0,1,0),new Zn(0,-1,0)],this._cubeUps=[new Zn(0,1,0),new Zn(0,1,0),new Zn(0,1,0),new Zn(0,1,0),new Zn(0,0,1),new Zn(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Om.setFromMatrixPosition(e.matrixWorld),n.position.copy(Om),km.copy(n.position),km.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(km),n.updateMatrixWorld(),i.makeTranslation(-Om.x,-Om.y,-Om.z),Cm.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Cm)}}class Im extends bm{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new Pm}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Rm extends Tm{constructor(){super(new Vl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Dm extends bm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xr.DEFAULT_UP),this.updateMatrix(),this.target=new xr,this.shadow=new Rm}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Lm extends bm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Nm extends bm{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Bm{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Zn)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*i*1.092548),t.addScaledVector(o[5],i*r*1.092548),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],n*r*1.092548),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*i),t.addScaledVector(o[2],1.023328*r),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*i),t.addScaledVector(o[5],.858086*i*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],.858086*n*r),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}class Fm extends bm{constructor(e=new Bm,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class jm extends um{constructor(e){super(e),this.textures={}}load(e,t,n,i){const r=this,o=new fm(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=jm.createMaterialFromType(e.type);if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=e.sheen),void 0!==e.sheenColor&&(i.sheenColor=(new zr).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(i.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.specularIntensity&&(i.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(i.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(i.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.thickness&&(i.thickness=e.thickness),void 0!==e.attenuationDistance&&(i.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.shadowSide&&(i.shadowSide=e.shadowSide),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.alphaToCoverage&&(i.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(i.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(i.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const r in e.uniforms){const t=e.uniforms[r];switch(i.uniforms[r]={},t.type){case"t":i.uniforms[r].value=n(t.value);break;case"c":i.uniforms[r].value=(new zr).setHex(t.value);break;case"v2":i.uniforms[r].value=(new Gn).fromArray(t.value);break;case"v3":i.uniforms[r].value=(new Zn).fromArray(t.value);break;case"v4":i.uniforms[r].value=(new yi).fromArray(t.value);break;case"m3":i.uniforms[r].value=(new Wn).fromArray(t.value);break;case"m4":i.uniforms[r].value=(new Ji).fromArray(t.value);break;default:i.uniforms[r].value=t.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(i.glslVersion=e.glslVersion),void 0!==e.extensions)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new Gn).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(i.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(i.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Gn).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(i.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(i.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(i.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Mp,SpriteMaterial:Lh,RawShaderMaterial:Cp,ShaderMaterial:Bo,PointsMaterial:Od,MeshPhysicalMaterial:kp,MeshStandardMaterial:Op,MeshPhongMaterial:Pp,MeshToonMaterial:Ip,MeshNormalMaterial:Rp,MeshLambertMaterial:Dp,MeshDepthMaterial:uh,MeshDistanceMaterial:hh,MeshBasicMaterial:Vr,MeshMatcapMaterial:Lp,LineDashedMaterial:Np,LineBasicMaterial:yd,Material:Nr};return new t[e]}}class Um{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class zm extends uo{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qm extends um{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new fm(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}parse(e){const t={},n={};function i(e,n){if(void 0!==t[n])return t[n];const i=e.interleavedBuffers,o=i[n],s=r(e,o.buffer),a=Kn(o.type,s),l=new Ih(a,o.stride);return l.uuid=o.uuid,t[n]=l,l}function r(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers,r=i[t],o=new Uint32Array(r).buffer;return n[t]=o,o}const o=e.isInstancedBufferGeometry?new zm:new uo,s=e.data.index;if(void 0!==s){const e=Kn(s.type,s.array);o.setIndex(new Wr(e,1))}const a=e.data.attributes;for(const d in a){const t=a[d];let n;if(t.isInterleavedBufferAttribute){const r=i(e.data,t.data);n=new Dh(r,t.itemSize,t.offset,t.normalized)}else{const e=Kn(t.type,t.array),i=t.isInstancedBufferAttribute?hd:Wr;n=new i(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),void 0!==t.updateRange&&(n.updateRange.offset=t.updateRange.offset,n.updateRange.count=t.updateRange.count),o.setAttribute(d,n)}const l=e.data.morphAttributes;if(l)for(const d in l){const t=l[d],n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];let s;if(o.isInterleavedBufferAttribute){const t=i(e.data,o.data);s=new Dh(t,o.itemSize,o.offset,o.normalized)}else{const e=Kn(o.type,o.array);s=new Wr(e,o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}o.morphAttributes[d]=n}const c=e.data.morphTargetsRelative;c&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==u)for(let d=0,f=u.length;d!==f;++d){const e=u[d];o.addGroup(e.start,e.count,e.materialIndex)}const h=e.data.boundingSphere;if(void 0!==h){const e=new Zn;void 0!==h.center&&e.fromArray(h.center),o.boundingSphere=new Vi(e,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Vm extends um{constructor(e){super(e)}load(e,t,n,i){const r=this,o=""===this.path?Um.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new fm(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(a){return void 0!==i&&i(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}const s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);r.parse(o,t)}),n,i)}async loadAsync(e,t){const n=this,i=""===this.path?Um.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const r=new fm(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,t),s=JSON.parse(o),a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,a,s,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,i,s,o,t),l=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,l),a}parseShapes(e){const t={};if(void 0!==e)for(let n=0,i=e.length;n<i;n++){const i=(new Of).fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse((function(e){e.isBone&&(i[e.uuid]=e)})),void 0!==e)for(let r=0,o=e.length;r<o;r++){const t=(new ud).fromJSON(e[r],i);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const i=new qm;for(let r=0,o=e.length;r<o;r++){let o;const s=e[r];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;default:s.type in Ep?o=Ep[s.type].fromJSON(s,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${s.type}"`)}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}}return n}parseMaterials(e,t){const n={},i={};if(void 0!==e){const r=new jm;r.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const i=e[n],r=rm.parse(i);t[r.uuid]=r}return t}parseImages(e,t){const n=this,i={};let r;function o(e){return n.manager.itemStart(e),r.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}function s(e){if("string"===typeof e){const t=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t;return o(i)}return e.data?{data:Kn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new lm(t);r=new gm(n),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const n=e[t],r=n.url;if(Array.isArray(r)){const e=[];for(let t=0,n=r.length;t<n;t++){const n=r[t],i=s(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new ad(i.data,i.width,i.height)))}i[n.uuid]=new pi(e)}else{const e=s(n.url);i[n.uuid]=new pi(e)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function r(e){if("string"===typeof e){const n=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await i.loadAsync(r)}return e.data?{data:Kn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){i=new gm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],o=i.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],i=await r(n);null!==i&&(i instanceof HTMLImageElement?e.push(i):e.push(new ad(i.data,i.width,i.height)))}n[i.uuid]=new pi(e)}else{const e=await r(i.url);n[i.uuid]=new pi(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const i={};if(void 0!==e)for(let r=0,o=e.length;r<o;r++){const o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const s=t[o.image],a=s.data;let l;Array.isArray(a)?(l=new Vo,6===a.length&&(l.needsUpdate=!0)):(l=a&&a.data?new ad:new Ai,a&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Hm)),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],Gm),l.wrapT=n(o.wrap[1],Gm)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,Wm)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,Wm)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),i[o.uuid]=l}return i}parseObject(e,t,n,i,r){let o,s,a;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),t.push(n[r])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),i[e]}switch(e.type){case"Scene":o=new Ph,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new zr(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new kh(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new Oh(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new jo(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Vl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Lm(e.color,e.intensity);break;case"DirectionalLight":o=new Dm(e.color,e.intensity);break;case"PointLight":o=new Im(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Nm(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Mm(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new _m(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new Fm).fromJSON(e);break;case"SkinnedMesh":s=l(e.geometry),a=c(e.material),o=new od(s,a),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":s=l(e.geometry),a=c(e.material),o=new Eo(s,a);break;case"InstancedMesh":s=l(e.geometry),a=c(e.material);const t=e.count,n=e.instanceMatrix,i=e.instanceColor;o=new Ad(s,a,t),o.instanceMatrix=new hd(new Float32Array(n.array),16),void 0!==i&&(o.instanceColor=new hd(new Float32Array(i.array),i.itemSize));break;case"LOD":o=new Zh;break;case"Line":o=new Sd(l(e.geometry),c(e.material));break;case"LineLoop":o=new Cd(l(e.geometry),c(e.material));break;case"LineSegments":o=new Md(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new Dd(l(e.geometry),c(e.material));break;case"Sprite":o=new Yh(c(e.material));break;case"Group":o=new vh;break;case"Bone":o=new sd;break;default:o=new xr}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const s=e.children;for(let e=0;e<s.length;e++)o.add(this.parseObject(s[e],t,n,i,r))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(r[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=o.getObjectByProperty("uuid",n.object);void 0!==i&&o.addLevel(i,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const Hm={UVMapping:te,CubeReflectionMapping:ne,CubeRefractionMapping:ie,EquirectangularReflectionMapping:re,EquirectangularRefractionMapping:oe,CubeUVReflectionMapping:se},Gm={RepeatWrapping:ae,ClampToEdgeWrapping:le,MirroredRepeatWrapping:ce},Wm={NearestFilter:ue,NearestMipmapNearestFilter:he,NearestMipmapLinearFilter:fe,LinearFilter:me,LinearMipmapNearestFilter:ge,LinearMipmapLinearFilter:ye};class $m extends um{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=am.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){am.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}let Xm;class Ym{static getContext(){return void 0===Xm&&(Xm=new(window.AudioContext||window.webkitAudioContext)),Xm}static setContext(e){Xm=e}}class Km extends um{constructor(e){super(e)}load(e,t,n,i){const r=this,o=new fm(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{const e=n.slice(0),i=Ym.getContext();i.decodeAudioData(e,(function(e){t(e)}))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}}),n,i)}}class Qm extends Fm{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const i=(new zr).set(e),r=(new zr).set(t),o=new Zn(i.r,i.g,i.b),s=new Zn(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(l)}}class Jm extends Fm{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=(new zr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Zm=new Ji,eg=new Ji,tg=new Ji;class ng{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new jo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new jo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache,n=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(n){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,tg.copy(e.projectionMatrix);const n=t.eyeSep/2,i=n*t.near/t.focus,r=t.near*Math.tan(bn*t.fov*.5)/t.zoom;let o,s;eg.elements[12]=-n,Zm.elements[12]=n,o=-r*t.aspect+i,s=r*t.aspect+i,tg.elements[0]=2*t.near/(s-o),tg.elements[8]=(s+o)/(s-o),this.cameraL.projectionMatrix.copy(tg),o=-r*t.aspect-i,s=r*t.aspect-i,tg.elements[0]=2*t.near/(s-o),tg.elements[8]=(s+o)/(s-o),this.cameraR.projectionMatrix.copy(tg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(eg),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Zm)}}class ig{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rg(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=rg();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function rg(){return("undefined"===typeof performance?Date:performance).now()}const og=new Zn,sg=new Jn,ag=new Zn,lg=new Zn;class cg extends xr{constructor(){super(),this.type="AudioListener",this.context=Ym.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ig}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(og,sg,ag),lg.set(0,0,-1).applyQuaternion(sg),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(og.x,e),t.positionY.linearRampToValueAtTime(og.y,e),t.positionZ.linearRampToValueAtTime(og.z,e),t.forwardX.linearRampToValueAtTime(lg.x,e),t.forwardY.linearRampToValueAtTime(lg.y,e),t.forwardZ.linearRampToValueAtTime(lg.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(og.x,og.y,og.z),t.setOrientation(lg.x,lg.y,lg.z,n.x,n.y,n.z)}}class ug extends xr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const hg=new Zn,dg=new Jn,fg=new Zn,pg=new Zn;class mg extends ug{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(hg,dg,fg),pg.set(0,0,1).applyQuaternion(dg);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hg.x,e),t.positionY.linearRampToValueAtTime(hg.y,e),t.positionZ.linearRampToValueAtTime(hg.z,e),t.orientationX.linearRampToValueAtTime(pg.x,e),t.orientationY.linearRampToValueAtTime(pg.y,e),t.orientationZ.linearRampToValueAtTime(pg.z,e)}else t.setPosition(hg.x,hg.y,hg.z),t.setOrientation(pg.x,pg.y,pg.z)}}class gg{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Ag{constructor(e,t,n){let i,r,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==i;++e)n[r+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Jn.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){const o=this._workIndex*r;Jn.multiplyQuaternionsFlat(e,o,e,t,e,n),Jn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=t+s;e[r]=e[r]*o+e[n+s]*i}}_lerpAdditive(e,t,n,i,r){for(let o=0;o!==r;++o){const r=t+o;e[r]=e[r]+e[n+o]*i}}}const yg="\\[\\]\\.:\\/",vg=new RegExp("["+yg+"]","g"),bg="[^"+yg+"]",_g="[^"+yg.replace("\\.","")+"]",wg=/((?:WC+[\/:])*)/.source.replace("WC",bg),xg=/(WCOD+)?/.source.replace("WCOD",_g),Sg=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bg),Tg=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bg),Eg=new RegExp("^"+wg+xg+Sg+Tg+"$"),Mg=["material","materials","bones","map"];class Cg{constructor(e,t,n){const i=n||Og.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Og{constructor(e,t,n){this.path=t,this.parsedPath=n||Og.parseTrackName(t),this.node=Og.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Og.Composite(e,t,n):new Og(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(vg,"")}static parseTrackName(e){const t=Eg.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==Mg.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const o=n(r.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Og.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const o=e[i];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Og.Composite=Cg,Og.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Og.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Og.prototype.GetterByBindingType=[Og.prototype._getValue_direct,Og.prototype._getValue_array,Og.prototype._getValue_arrayElement,Og.prototype._getValue_toArray],Og.prototype.SetterByBindingTypeAndVersioning=[[Og.prototype._setValue_direct,Og.prototype._setValue_direct_setNeedsUpdate,Og.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Og.prototype._setValue_array,Og.prototype._setValue_array_setNeedsUpdate,Og.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Og.prototype._setValue_arrayElement,Og.prototype._setValue_arrayElement_setNeedsUpdate,Og.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Og.prototype._setValue_fromArray,Og.prototype._setValue_fromArray_setNeedsUpdate,Og.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class kg{constructor(){this.isAnimationObjectGroup=!0,this.uuid=wn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s=void 0,a=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=a++,t[h]=d,e.push(u);for(let e=0,t=o;e!==t;++e)r[e].push(new Og(u,n[e],i[e]))}else if(d<l){s=e[d];const a=--l,c=e[a];t[c.uuid]=d,e[d]=c,t[h]=a,e[a]=u;for(let e=0,t=o;e!==t;++e){const t=r[e],o=t[a];let s=t[d];t[d]=o,void 0===s&&(s=new Og(u,n[e],i[e])),t[a]=s}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,l=t[a];if(void 0!==l&&l>=r){const o=r++,c=e[o];t[c.uuid]=l,e[l]=c,t[a]=o,e[o]=s;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[o],r=t[l];t[l]=i,t[o]=r}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],l=a.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<r){const s=--r,a=e[s],l=--o,u=e[l];t[a.uuid]=c,e[c]=a,t[u.uuid]=s,e[s]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[s],r=t[l];t[c]=i,t[s]=r,t.pop()}}else{const r=--o,s=e[r];r>0&&(t[s.uuid]=c),e[c]=s,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[c]=t[r],t.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,o.push(e),s.push(t),r.push(u);for(let h=c,d=a.length;h!==d;++h){const n=a[h];u[h]=new Og(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],l=e[s];t[l]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}}class Pg{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,o=r.length,s=new Array(o),a={endingStart:St,endingEnd:St};for(let l=0;l!==o;++l){const e=r[l].createInterpolant(null);s[l]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,i=e._clip.duration,r=i/n,o=n/i;e.warp(1,r,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;i<0||0===n?t=0:(this._startTime=null,t=n*i)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case Ct:for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulateAdditive(s);break;case Mt:default:for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const o=n===bt;if(0===e)return-1===r?i:o&&1===(1&r)?t-i:i;if(n===yt){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1===(1&r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Tt,i.endingEnd=Tt):(i.endingStart=e?this.zeroSlopeAtStart?Tt:St:Et,i.endingEnd=t?this.zeroSlopeAtEnd?Tt:St:Et)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}}const Ig=new Float32Array(1);class Rg extends An{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==r;++u){const e=i[u],r=e.name;let l=c[r];if(void 0!==l)++l.referenceCount,o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,r));continue}const i=t&&t._propertyBindings[u].binding.parsedPath;l=new Ag(Og.create(n,r,i),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,r),o[u]=l}s[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,r=this._actionsByClip;let o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;const u=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[t];void 0===o&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Xp(new Float32Array(2),new Float32Array(2),1,Ig),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const i=t||this._root,r=i.uuid;let o="string"===typeof e?rm.findByName(i,e):e;const s=null!==o?o.uuid:e,a=this._actionsByClip[s];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:Mt),void 0!==a){const e=a.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Pg(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c}existingAction(e,t){const n=t||this._root,i=n.uuid,r="string"===typeof e?rm.findByName(n,e):e,o=r?r.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){const n=t[l];n._update(i,e,r,o)}const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,o=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,t[r]=o,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const e=n[o].actionByRoot,i=e[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName,r=i[t];if(void 0!==r)for(const o in r){const e=r[o];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Dg{constructor(e){this.value=e}clone(){return new Dg(void 0===this.value.clone?this.value:this.value.clone())}}let Lg=0;class Ng extends An{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Lg++}),this.name="",this.usage=on,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++)this.uniforms.push(t[n].clone());return this}clone(){return(new this.constructor).copy(this)}}class Bg extends Ih{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Fg{constructor(e,t,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class jg{constructor(e,t,n=0,i=1/0){this.ray=new Qi(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new cr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return zg(e,this,n,t),n.sort(Ug),n}intersectObjects(e,t=!0,n=[]){for(let i=0,r=e.length;i<r;i++)zg(e[i],this,n,t);return n.sort(Ug),n}}function Ug(e,t){return e.distance-t.distance}function zg(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)zg(i[e],t,n,!0)}}class qg{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Vg{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const Hg=new Gn;class Gg{constructor(e=new Gn(1/0,1/0),t=new Gn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Hg.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Hg).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Wg=new Zn,$g=new Zn;class Xg{constructor(e=new Zn,t=new Zn){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Wg.subVectors(e,this.start),$g.subVectors(this.end,this.start);const n=$g.dot($g),i=$g.dot(Wg);let r=i/n;return t&&(r=xn(r,0,1)),r}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Yg=new Zn;class Kg extends xr{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new uo,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const e=o/a*Math.PI*2,t=s/a*Math.PI*2;i.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new to(i,3));const r=new yd({fog:!1,toneMapped:!1});this.cone=new Md(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Yg.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Yg),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Qg=new Zn,Jg=new Ji,Zg=new Ji;class eA extends Md{constructor(e){const t=tA(e),n=new uo,i=[],r=[],o=new zr(0,0,1),s=new zr(0,1,0);for(let l=0;l<t.length;l++){const e=t[l];e.parent&&e.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new to(i,3)),n.setAttribute("color",new to(r,3));const a=new yd({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");Zg.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const e=t[r];e.parent&&e.parent.isBone&&(Jg.multiplyMatrices(Zg,e.matrixWorld),Qg.setFromMatrixPosition(Jg),i.setXYZ(o,Qg.x,Qg.y,Qg.z),Jg.multiplyMatrices(Zg,e.parent.matrixWorld),Qg.setFromMatrixPosition(Jg),i.setXYZ(o+1,Qg.x,Qg.y,Qg.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function tA(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,tA(e.children[n]));return t}class nA extends Eo{constructor(e,t,n){const i=new vp(t,4,2),r=new Vr({wireframe:!0,fog:!1,toneMapped:!1});super(i,r),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const iA=new Zn,rA=new zr,oA=new zr;class sA extends xr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new mp(t);i.rotateY(.5*Math.PI),this.material=new Vr({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.setAttribute("color",new Wr(o,3)),this.add(new Eo(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rA.copy(this.light.color),oA.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const i=e<n/2?rA:oA;t.setXYZ(e,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(iA.setFromMatrixPosition(this.light.matrixWorld).negate())}}class aA extends Md{constructor(e=10,t=10,n=4473924,i=8947848){n=new zr(n),i=new zr(i);const r=t/2,o=e/t,s=e/2,a=[],l=[];for(let h=0,d=0,f=-s;h<=t;h++,f+=o){a.push(-s,0,f,s,0,f),a.push(f,0,-s,f,0,s);const e=h===r?n:i;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new uo;c.setAttribute("position",new to(a,3)),c.setAttribute("color",new to(l,3));const u=new yd({vertexColors:!0,toneMapped:!1});super(c,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lA extends Md{constructor(e=10,t=16,n=8,i=64,r=4473924,o=8947848){r=new zr(r),o=new zr(o);const s=[],a=[];if(t>1)for(let u=0;u<t;u++){const n=u/t*(2*Math.PI),i=Math.sin(n)*e,l=Math.cos(n)*e;s.push(0,0,0),s.push(i,0,l);const c=1&u?r:o;a.push(c.r,c.g,c.b),a.push(c.r,c.g,c.b)}for(let u=0;u<n;u++){const t=1&u?r:o,l=e-e/n*u;for(let e=0;e<i;e++){let n=e/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l;s.push(r,0,o),a.push(t.r,t.g,t.b),n=(e+1)/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l,s.push(r,0,o),a.push(t.r,t.g,t.b)}}const l=new uo;l.setAttribute("position",new to(s,3)),l.setAttribute("color",new to(a,3));const c=new yd({vertexColors:!0,toneMapped:!1});super(l,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const cA=new Zn,uA=new Zn,hA=new Zn;class dA extends xr{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let i=new uo;i.setAttribute("position",new to([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new yd({fog:!1,toneMapped:!1});this.lightPlane=new Sd(i,r),this.add(this.lightPlane),i=new uo,i.setAttribute("position",new to([0,0,0,0,0,1],3)),this.targetLine=new Sd(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),cA.setFromMatrixPosition(this.light.matrixWorld),uA.setFromMatrixPosition(this.light.target.matrixWorld),hA.subVectors(uA,cA),this.lightPlane.lookAt(uA),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(uA),this.targetLine.scale.z=hA.length()}}const fA=new Zn,pA=new Fo;class mA extends Md{constructor(e){const t=new uo,n=new yd({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={};function s(e,t){a(e),a(t)}function a(e){i.push(0,0,0),r.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(i.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new to(i,3)),t.setAttribute("color",new to(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new zr(16755200),c=new zr(16711680),u=new zr(43775),h=new zr(16777215),d=new zr(3355443);this.setColors(l,c,u,h,d)}setColors(e,t,n,i,r){const o=this.geometry,s=o.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,r.r,r.g,r.b),s.setXYZ(41,r.r,r.g,r.b),s.setXYZ(42,r.r,r.g,r.b),s.setXYZ(43,r.r,r.g,r.b),s.setXYZ(44,r.r,r.g,r.b),s.setXYZ(45,r.r,r.g,r.b),s.setXYZ(46,r.r,r.g,r.b),s.setXYZ(47,r.r,r.g,r.b),s.setXYZ(48,r.r,r.g,r.b),s.setXYZ(49,r.r,r.g,r.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;pA.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gA("c",t,e,pA,0,0,-1),gA("t",t,e,pA,0,0,1),gA("n1",t,e,pA,-n,-i,-1),gA("n2",t,e,pA,n,-i,-1),gA("n3",t,e,pA,-n,i,-1),gA("n4",t,e,pA,n,i,-1),gA("f1",t,e,pA,-n,-i,1),gA("f2",t,e,pA,n,-i,1),gA("f3",t,e,pA,-n,i,1),gA("f4",t,e,pA,n,i,1),gA("u1",t,e,pA,.7*n,1.1*i,-1),gA("u2",t,e,pA,.7*-n,1.1*i,-1),gA("u3",t,e,pA,0,2*i,-1),gA("cf1",t,e,pA,-n,0,1),gA("cf2",t,e,pA,n,0,1),gA("cf3",t,e,pA,0,-i,1),gA("cf4",t,e,pA,0,i,1),gA("cn1",t,e,pA,-n,0,-1),gA("cn2",t,e,pA,n,0,-1),gA("cn3",t,e,pA,0,-i,-1),gA("cn4",t,e,pA,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gA(e,t,n,i,r,o,s){fA.set(r,o,s).unproject(i);const a=t[e];if(void 0!==a){const e=n.getAttribute("position");for(let t=0,n=a.length;t<n;t++)e.setXYZ(a[t],fA.x,fA.y,fA.z)}}const AA=new Ti;class yA extends Md{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new uo;r.setIndex(new Wr(n,1)),r.setAttribute("position",new Wr(i,3)),super(r,new yd({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&AA.setFromObject(this.object),AA.isEmpty())return;const t=AA.min,n=AA.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vA extends Md{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new uo;r.setIndex(new Wr(n,1)),r.setAttribute("position",new to(i,3)),super(r,new yd({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class bA extends Sd{constructor(e,t=1,n=16776960){const i=n,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new uo;o.setAttribute("position",new to(r,3)),o.computeBoundingSphere(),super(o,new yd({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],a=new uo;a.setAttribute("position",new to(s,3)),a.computeBoundingSphere(),this.add(new Eo(a,new Vr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _A=new Zn;let wA,xA;class SA extends xr{constructor(e=new Zn(0,0,1),t=new Zn(0,0,0),n=1,i=16776960,r=.2*n,o=.2*r){super(),this.type="ArrowHelper",void 0===wA&&(wA=new uo,wA.setAttribute("position",new to([0,0,0,0,1,0],3)),xA=new bf(0,.5,1,5,1),xA.translate(0,-.5,0)),this.position.copy(t),this.line=new Sd(wA,new yd({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Eo(xA,new Vr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_A.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(_A,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class TA extends Md{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new uo;i.setAttribute("position",new to(t,3)),i.setAttribute("color",new to(n,3));const r=new yd({vertexColors:!0,toneMapped:!1});super(i,r),this.type="AxesHelper"}setColors(e,t,n){const i=new zr,r=this.geometry.attributes.color.array;return i.set(e),i.toArray(r,0),i.toArray(r,3),i.set(t),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class EA{constructor(){this.type="ShapePath",this.color=new zr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new gf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,o){return this.currentPath.bezierCurveTo(e,t,n,i,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new Of;r.curves=i.curves,t.push(r)}return t}function n(e,t){const n=t.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=t[r],s=t[o],a=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],a=-a,s=t[r],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-a*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return i}const i=lp.isClockWise,r=this.subPaths;if(0===r.length)return[];let o,s,a;const l=[];if(1===r.length)return s=r[0],a=new Of,a.curves=s.curves,l.push(a),l;let c=!i(r[0].getPoints());c=e?!c:c;const u=[],h=[];let d,f,p=[],m=0;h[m]=void 0,p[m]=[];for(let g=0,A=r.length;g<A;g++)s=r[g],d=s.getPoints(),o=i(d),o=e?!o:o,o?(!c&&h[m]&&m++,h[m]={s:new Of,p:d},h[m].s.curves=s.curves,c&&m++,p[m]=[]):p[m].push({h:s,p:d[0]});if(!h[0])return t(r);if(h.length>1){let e=!1,t=0;for(let n=0,i=h.length;n<i;n++)u[n]=[];for(let i=0,r=h.length;i<r;i++){const r=p[i];for(let o=0;o<r.length;o++){const s=r[o];let a=!0;for(let r=0;r<h.length;r++)n(s.p,h[r].p)&&(i!==r&&t++,a?(a=!1,u[r].push(s)):e=!0);a&&u[i].push(s)}}t>0&&!1===e&&(p=u)}for(let g=0,A=h.length;g<A;g++){a=h[g].s,l.push(a),f=p[g];for(let e=0,t=f.length;e<t;e++)a.holes.push(f[e].h)}return l}}const MA=CA();function CA(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):e<-14?(i[l]=1024>>-e-14,i[256|l]=1024>>-e-14|32768,r[l]=-e-1,r[256|l]=-e-1):e<=15?(i[l]=e+15<<10,i[256|l]=e+15<<10|32768,r[l]=13,r[256|l]=13):e<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;while(0===(8388608&e))e<<=1,t-=8388608;e&=-8388609,t+=947912704,o[l]=e|t}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}function OA(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=xn(e,-65504,65504),MA.floatView[0]=e;const t=MA.uint32View[0],n=t>>23&511;return MA.baseTable[n]+((8388607&t)>>MA.shiftTable[n])}function kA(e){const t=e>>10;return MA.uint32View[0]=MA.mantissaTable[MA.offsetTable[t]+(1023&e)]+MA.exponentTable[t],MA.floatView[0]}const PA={toHalfFloat:OA,fromHalfFloat:kA};class IA extends Oo{constructor(e,t,n,i,r,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,i,r,o)}}class RA extends yf{constructor(e,t,n,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,i)}}class DA extends vf{constructor(e,t,n,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,i)}}class LA extends _f{constructor(e,t,n,i,r,o,s){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,i,r,o,s)}}class NA extends bf{constructor(e,t,n,i,r,o,s,a){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,i,r,o,s,a)}}class BA extends xf{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class FA extends hp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class jA extends pp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class UA extends Af{constructor(e,t,n,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,i)}}class zA extends mp{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class qA extends es{constructor(e,t,n,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,i)}}class VA extends wf{constructor(e,t,n,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,i)}}class HA extends gp{constructor(e,t,n,i,r,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,i,r,o)}}class GA extends Ap{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class WA extends vp{constructor(e,t,n,i,r,o,s){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,i,r,o,s)}}class $A extends bp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class XA extends _p{constructor(e,t,n,i,r){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,i,r)}}class YA extends wp{constructor(e,t,n,i,r,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,i,r,o)}}class KA extends xp{constructor(e,t,n,i,r){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,i,r)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:t}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=t),e.ACESFilmicToneMapping=Z,e.AddEquation=w,e.AddOperation=X,e.AdditiveAnimationBlendMode=Ct,e.AdditiveBlending=y,e.AlphaFormat=Pe,e.AlwaysDepth=j,e.AlwaysStencilFunc=rn,e.AmbientLight=Lm,e.AmbientLightProbe=Jm,e.AnimationClip=rm,e.AnimationLoader=pm,e.AnimationMixer=Rg,e.AnimationObjectGroup=kg,e.AnimationUtils=Gp,e.ArcCurve=Vd,e.ArrayCamera=yh,e.ArrowHelper=SA,e.Audio=ug,e.AudioAnalyser=gg,e.AudioContext=Ym,e.AudioListener=cg,e.AudioLoader=Km,e.AxesHelper=TA,e.BackSide=f,e.BasicDepthPacking=Dt,e.BasicShadowMap=l,e.Bone=sd,e.BooleanKeyframeTrack=Qp,e.Box2=Gg,e.Box3=Ti,e.Box3Helper=vA,e.BoxBufferGeometry=IA,e.BoxGeometry=Oo,e.BoxHelper=yA,e.BufferAttribute=Wr,e.BufferGeometry=uo,e.BufferGeometryLoader=qm,e.ByteType=_e,e.Cache=am,e.Camera=Fo,e.CameraHelper=mA,e.CanvasTexture=Ud,e.CapsuleBufferGeometry=RA,e.CapsuleGeometry=yf,e.CatmullRomCurve3=Yd,e.CineonToneMapping=J,e.CircleBufferGeometry=DA,e.CircleGeometry=vf,e.ClampToEdgeWrapping=le,e.Clock=ig,e.Color=zr,e.ColorKeyframeTrack=Jp,e.ColorManagement=hi,e.CompressedArrayTexture=jd,e.CompressedTexture=Fd,e.CompressedTextureLoader=mm,e.ConeBufferGeometry=LA,e.ConeGeometry=_f,e.CubeCamera=qo,e.CubeReflectionMapping=ne,e.CubeRefractionMapping=ie,e.CubeTexture=Vo,e.CubeTextureLoader=Am,e.CubeUVReflectionMapping=se,e.CubicBezierCurve=af,e.CubicBezierCurve3=lf,e.CubicInterpolant=$p,e.CullFaceBack=o,e.CullFaceFront=s,e.CullFaceFrontBack=a,e.CullFaceNone=r,e.Curve=zd,e.CurvePath=mf,e.CustomBlending=_,e.CustomToneMapping=ee,e.CylinderBufferGeometry=NA,e.CylinderGeometry=bf,e.Cylindrical=Vg,e.Data3DTexture=wi,e.DataArrayTexture=bi,e.DataTexture=ad,e.DataTextureLoader=ym,e.DataUtils=PA,e.DecrementStencilOp=Wt,e.DecrementWrapStencilOp=Xt,e.DefaultLoadingManager=cm,e.DepthFormat=Le,e.DepthStencilFormat=Ne,e.DepthTexture=wh,e.DirectionalLight=Dm,e.DirectionalLightHelper=dA,e.DiscreteInterpolant=Yp,e.DisplayP3ColorSpace=zt,e.DodecahedronBufferGeometry=BA,e.DodecahedronGeometry=xf,e.DoubleSide=p,e.DstAlphaFactor=R,e.DstColorFactor=L,e.DynamicCopyUsage=dn,e.DynamicDrawUsage=sn,e.DynamicReadUsage=cn,e.EdgesGeometry=Cf,e.EllipseCurve=qd,e.EqualDepth=q,e.EqualStencilFunc=Jt,e.EquirectangularReflectionMapping=re,e.EquirectangularRefractionMapping=oe,e.Euler=lr,e.EventDispatcher=An,e.ExtrudeBufferGeometry=FA,e.ExtrudeGeometry=hp,e.FileLoader=fm,e.Float16BufferAttribute=eo,e.Float32BufferAttribute=to,e.Float64BufferAttribute=no,e.FloatType=Ee,e.Fog=kh,e.FogExp2=Oh,e.FramebufferTexture=Bd,e.FrontSide=d,e.Frustum=Qo,e.GLBufferAttribute=Fg,e.GLSL1=pn,e.GLSL3=mn,e.GreaterDepth=H,e.GreaterEqualDepth=V,e.GreaterEqualStencilFunc=nn,e.GreaterStencilFunc=en,e.GridHelper=aA,e.Group=vh,e.HalfFloatType=Me,e.HemisphereLight=_m,e.HemisphereLightHelper=sA,e.HemisphereLightProbe=Qm,e.IcosahedronBufferGeometry=jA,e.IcosahedronGeometry=pp,e.ImageBitmapLoader=$m,e.ImageLoader=gm,e.ImageUtils=fi,e.IncrementStencilOp=Gt,e.IncrementWrapStencilOp=$t,e.InstancedBufferAttribute=hd,e.InstancedBufferGeometry=zm,e.InstancedInterleavedBuffer=Bg,e.InstancedMesh=Ad,e.Int16BufferAttribute=Kr,e.Int32BufferAttribute=Jr,e.Int8BufferAttribute=$r,e.IntType=Se,e.InterleavedBuffer=Ih,e.InterleavedBufferAttribute=Dh,e.Interpolant=Wp,e.InterpolateDiscrete=_t,e.InterpolateLinear=wt,e.InterpolateSmooth=xt,e.InvertStencilOp=Yt,e.KeepStencilOp=Vt,e.KeyframeTrack=Kp,e.LOD=Zh,e.LatheBufferGeometry=UA,e.LatheGeometry=Af,e.Layers=cr,e.LessDepth=U,e.LessEqualDepth=z,e.LessEqualStencilFunc=Zt,e.LessStencilFunc=Qt,e.Light=bm,e.LightProbe=Fm,e.Line=Sd,e.Line3=Xg,e.LineBasicMaterial=yd,e.LineCurve=cf,e.LineCurve3=uf,e.LineDashedMaterial=Np,e.LineLoop=Cd,e.LineSegments=Md,e.LinearEncoding=It,e.LinearFilter=me,e.LinearInterpolant=Xp,e.LinearMipMapLinearFilter=ve,e.LinearMipMapNearestFilter=Ae,e.LinearMipmapLinearFilter=ye,e.LinearMipmapNearestFilter=ge,e.LinearSRGBColorSpace=Ut,e.LinearToneMapping=K,e.Loader=um,e.LoaderUtils=Um,e.LoadingManager=lm,e.LoopOnce=yt,e.LoopPingPong=bt,e.LoopRepeat=vt,e.LuminanceAlphaFormat=De,e.LuminanceFormat=Re,e.MOUSE=n,e.Material=Nr,e.MaterialLoader=jm,e.MathUtils=Hn,e.Matrix3=Wn,e.Matrix4=Ji,e.MaxEquation=E,e.Mesh=Eo,e.MeshBasicMaterial=Vr,e.MeshDepthMaterial=uh,e.MeshDistanceMaterial=hh,e.MeshLambertMaterial=Dp,e.MeshMatcapMaterial=Lp,e.MeshNormalMaterial=Rp,e.MeshPhongMaterial=Pp,e.MeshPhysicalMaterial=kp,e.MeshStandardMaterial=Op,e.MeshToonMaterial=Ip,e.MinEquation=T,e.MirroredRepeatWrapping=ce,e.MixOperation=$,e.MultiplyBlending=b,e.MultiplyOperation=W,e.NearestFilter=ue,e.NearestMipMapLinearFilter=pe,e.NearestMipMapNearestFilter=de,e.NearestMipmapLinearFilter=fe,e.NearestMipmapNearestFilter=he,e.NeverDepth=F,e.NeverStencilFunc=Kt,e.NoBlending=g,e.NoColorSpace=Ft,e.NoToneMapping=Y,e.NormalAnimationBlendMode=Mt,e.NormalBlending=A,e.NotEqualDepth=G,e.NotEqualStencilFunc=tn,e.NumberKeyframeTrack=Zp,e.Object3D=xr,e.ObjectLoader=Vm,e.ObjectSpaceNormalMap=Bt,e.OctahedronBufferGeometry=zA,e.OctahedronGeometry=mp,e.OneFactor=C,e.OneMinusDstAlphaFactor=D,e.OneMinusDstColorFactor=N,e.OneMinusSrcAlphaFactor=I,e.OneMinusSrcColorFactor=k,e.OrthographicCamera=Vl,e.PCFShadowMap=c,e.PCFSoftShadowMap=u,e.PMREMGenerator=Zl,e.Path=gf,e.PerspectiveCamera=jo,e.Plane=Xo,e.PlaneBufferGeometry=qA,e.PlaneGeometry=es,e.PlaneHelper=bA,e.PointLight=Im,e.PointLightHelper=nA,e.Points=Dd,e.PointsMaterial=Od,e.PolarGridHelper=lA,e.PolyhedronBufferGeometry=VA,e.PolyhedronGeometry=wf,e.PositionalAudio=mg,e.PropertyBinding=Og,e.PropertyMixer=Ag,e.QuadraticBezierCurve=hf,e.QuadraticBezierCurve3=df,e.Quaternion=Jn,e.QuaternionKeyframeTrack=tm,e.QuaternionLinearInterpolant=em,e.RED_GREEN_RGTC2_Format=gt,e.RED_RGTC1_Format=pt,e.REVISION=t,e.RGBADepthPacking=Lt,e.RGBAFormat=Ie,e.RGBAIntegerFormat=ze,e.RGBA_ASTC_10x10_Format=ut,e.RGBA_ASTC_10x5_Format=at,e.RGBA_ASTC_10x6_Format=lt,e.RGBA_ASTC_10x8_Format=ct,e.RGBA_ASTC_12x10_Format=ht,e.RGBA_ASTC_12x12_Format=dt,e.RGBA_ASTC_4x4_Format=Ze,e.RGBA_ASTC_5x4_Format=et,e.RGBA_ASTC_5x5_Format=tt,e.RGBA_ASTC_6x5_Format=nt,e.RGBA_ASTC_6x6_Format=it,e.RGBA_ASTC_8x5_Format=rt,e.RGBA_ASTC_8x6_Format=ot,e.RGBA_ASTC_8x8_Format=st,e.RGBA_BPTC_Format=ft,e.RGBA_ETC2_EAC_Format=Je,e.RGBA_PVRTC_2BPPV1_Format=Ye,e.RGBA_PVRTC_4BPPV1_Format=Xe,e.RGBA_S3TC_DXT1_Format=Ve,e.RGBA_S3TC_DXT3_Format=He,e.RGBA_S3TC_DXT5_Format=Ge,e.RGB_ETC1_Format=Ke,e.RGB_ETC2_Format=Qe,e.RGB_PVRTC_2BPPV1_Format=$e,e.RGB_PVRTC_4BPPV1_Format=We,e.RGB_S3TC_DXT1_Format=qe,e.RGFormat=je,e.RGIntegerFormat=Ue,e.RawShaderMaterial=Cp,e.Ray=Qi,e.Raycaster=jg,e.RectAreaLight=Nm,e.RedFormat=Be,e.RedIntegerFormat=Fe,e.ReinhardToneMapping=Q,e.RepeatWrapping=ae,e.ReplaceStencilOp=Ht,e.ReverseSubtractEquation=S,e.RingBufferGeometry=HA,e.RingGeometry=gp,e.SIGNED_RED_GREEN_RGTC2_Format=At,e.SIGNED_RED_RGTC1_Format=mt,e.SRGBColorSpace=jt,e.Scene=Ph,e.ShaderChunk=Rl,e.ShaderLib=Ll,e.ShaderMaterial=Bo,e.ShadowMaterial=Mp,e.Shape=Of,e.ShapeBufferGeometry=GA,e.ShapeGeometry=Ap,e.ShapePath=EA,e.ShapeUtils=lp,e.ShortType=we,e.Skeleton=ud,e.SkeletonHelper=eA,e.SkinnedMesh=od,e.Source=pi,e.Sphere=Vi,e.SphereBufferGeometry=WA,e.SphereGeometry=vp,e.Spherical=qg,e.SphericalHarmonics3=Bm,e.SplineCurve=ff,e.SpotLight=Mm,e.SpotLightHelper=Kg,e.Sprite=Yh,e.SpriteMaterial=Lh,e.SrcAlphaFactor=P,e.SrcAlphaSaturateFactor=B,e.SrcColorFactor=O,e.StaticCopyUsage=hn,e.StaticDrawUsage=on,e.StaticReadUsage=ln,e.StereoCamera=ng,e.StreamCopyUsage=fn,e.StreamDrawUsage=an,e.StreamReadUsage=un,e.StringKeyframeTrack=nm,e.SubtractEquation=x,e.SubtractiveBlending=v,e.TOUCH=i,e.TangentSpaceNormalMap=Nt,e.TetrahedronBufferGeometry=$A,e.TetrahedronGeometry=bp,e.Texture=Ai,e.TextureLoader=vm,e.TorusBufferGeometry=XA,e.TorusGeometry=_p,e.TorusKnotBufferGeometry=YA,e.TorusKnotGeometry=wp,e.Triangle=Dr,e.TriangleFanDrawMode=Pt,e.TriangleStripDrawMode=kt,e.TrianglesDrawMode=Ot,e.TubeBufferGeometry=KA,e.TubeGeometry=xp,e.TwoPassDoubleSide=m,e.UVMapping=te,e.Uint16BufferAttribute=Qr,e.Uint32BufferAttribute=Zr,e.Uint8BufferAttribute=Xr,e.Uint8ClampedBufferAttribute=Yr,e.Uniform=Dg,e.UniformsGroup=Ng,e.UniformsLib=Dl,e.UniformsUtils=Do,e.UnsignedByteType=be,e.UnsignedInt248Type=ke,e.UnsignedIntType=Te,e.UnsignedShort4444Type=Ce,e.UnsignedShort5551Type=Oe,e.UnsignedShortType=xe,e.VSMShadowMap=h,e.Vector2=Gn,e.Vector3=Zn,e.Vector4=yi,e.VectorKeyframeTrack=im,e.VideoTexture=Nd,e.WebGL1Renderer=Ch,e.WebGL3DRenderTarget=xi,e.WebGLArrayRenderTarget=_i,e.WebGLCubeRenderTarget=Ho,e.WebGLMultipleRenderTargets=Si,e.WebGLRenderTarget=vi,e.WebGLRenderer=Mh,e.WebGLUtils=Ah,e.WireframeGeometry=Sp,e.WrapAroundEnding=Et,e.ZeroCurvatureEnding=St,e.ZeroFactor=M,e.ZeroSlopeEnding=Tt,e.ZeroStencilOp=qt,e._SRGBAFormat=gn,e.sRGBEncoding=Rt}))},d860:function(e,t,n){var i=n("48c4"),r=n("d890"),o="prod",s=new RegExp("^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{95}$"),a=new RegExp("^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{106}$");function l(e,t,n,i){var r=t.addressTypes;switch("integrated"==i&&(r=t.iAddressTypes),n){case"prod":return parseInt(e.substr(0,2),16)==r.prod[0];case"testnet":return parseInt(e.substr(0,2),16)==r.testnet[0];case"both":return parseInt(e.substr(0,2),16)==r.prod[0]||parseInt(e.substr(0,2),16)==r.testnet[0];default:return!1}}function c(e){if(e.length%2!==0)return null;for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;++n)t[n]=parseInt(e.slice(2*n,2*n+2),16);return t}e.exports={isValidAddress:function(e,t,n){n=n||o;var u="standard";if(!s.test(e)){if(!a.test(e))return!1;u="integrated"}var h=r.decode(e);if(!h)return!1;if(!l(h,t,n,u))return!1;var d=h.slice(-8),f=i.keccak256Checksum(c(h.slice(0,-8)));return d===f}}},d87c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("c485"),r=o;function o(e){if((0,i.isExpressionStatement)(e)&&(e=e.expression),(0,i.isExpression)(e))return e;if((0,i.isClass)(e)?e.type="ClassExpression":(0,i.isFunction)(e)&&(e.type="FunctionExpression"),!(0,i.isExpression)(e))throw new Error(`cannot turn ${e.type} to an expression`);return e}t.default=r},d890:function(e,t,n){var i=n("640d")["JSBigInt"],r=function(){for(var e={},t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));var o=[0,2,3,5,6,7,9,10,11],s=n.length,a=8,l=11,c=new i(2).pow(64);function u(e){if(e.length%2!==0)throw"Hex string has invalid length!";for(var t=new Uint8Array(e.length/2),n=0;n<e.length/2;++n)t[n]=parseInt(e.slice(2*n,2*n+2),16);return t}function h(e){for(var t=[],n=0;n<e.length;++n)t.push(("0"+e[n].toString(16)).slice(-2));return t.join("")}function d(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function f(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}function p(e){if(e.length<1||e.length>8)throw"Invalid input length";var t=i.ZERO,n=new i(2).pow(8),r=0;switch(9-e.length){case 1:t=t.add(e[r++]);case 2:t=t.multiply(n).add(e[r++]);case 3:t=t.multiply(n).add(e[r++]);case 4:t=t.multiply(n).add(e[r++]);case 5:t=t.multiply(n).add(e[r++]);case 6:t=t.multiply(n).add(e[r++]);case 7:t=t.multiply(n).add(e[r++]);case 8:t=t.multiply(n).add(e[r++]);break;default:throw"Impossible condition"}return t}function m(e,t){var n=new Uint8Array(t);if(t<1||t>8)throw"Invalid input length";for(var r=new i(2).pow(8),o=t-1;o>=0;o--)n[o]=e.remainder(r).toJSValue(),e=e.divide(r);return n}return e.encode_block=function(e,t,i){if(e.length<1||e.length>l)throw"Invalid block length: "+e.length;var r=p(e),a=o[e.length]-1;while(1===r.compare(0)){var c=r.divRem(s),u=c[1];r=c[0],t[i+a]=n[u.toJSValue()],a--}return t},e.encode=function(t){var i=u(t);if(0===i.length)return"";var r,s=Math.floor(i.length/a),c=i.length%a,h=s*l+o[c],d=new Uint8Array(h);for(r=0;r<h;++r)d[r]=n[0];for(r=0;r<s;r++)d=e.encode_block(i.subarray(r*a,r*a+a),d,r*l);return c>0&&(d=e.encode_block(i.subarray(s*a,s*a+c),d,s*l)),f(d)},e.decode_block=function(e,t,r){if(e.length<1||e.length>l)throw"Invalid block length: "+e.length;var u=o.indexOf(e.length);if(u<=0)throw"Invalid block size";for(var h=new i(0),d=new i(1),f=e.length-1;f>=0;f--){var p=n.indexOf(e[f]);if(p<0)throw"Invalid symbol";var g=d.multiply(p).add(h);if(1===g.compare(c))throw"Overflow";h=g,d=d.multiply(s)}if(u<a&&new i(2).pow(8*u).compare(h)<=0)throw"Overflow 2";return t.set(m(h,u),r),t},e.decode=function(t){if(t=d(t),0===t.length)return"";var n=Math.floor(t.length/l),i=t.length%l,r=o.indexOf(i);if(r<0)throw"Invalid encoded length";for(var s=n*a+r,c=new Uint8Array(s),u=0;u<n;u++)c=e.decode_block(t.subarray(u*l,u*l+l),c,u*a);return i>0&&(c=e.decode_block(t.subarray(n*l,n*l+i),c,n*a)),h(c)},e}();e.exports=r},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},d959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n}},d9b5:function(e,t,n){var i=n("d066"),r=n("1626"),o=n("3a9b"),s=n("fdbf"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&o(t.prototype,a(e))}},d9e2:function(e,t,n){var i=n("23e7"),r=n("da84"),o=n("2ba4"),s=n("e5cb"),a="WebAssembly",l=r[a],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=s(e,t,c),i({global:!0,constructor:!0,arity:1,forced:c},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=s(a+"."+e,t,c),i({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},da7f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("57fa");const r=(0,i.default)("React.Component");var o=r;t.default=o},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc11:function(e,t,n){var i=n("dd98"),r=n("e4f1"),o=n("48c4"),s="prod";function a(e){try{return i.decode(e)}catch(t){return null}}function l(e,t){switch(e){case"blake256":return o.blake256Checksum(t);case"sha256":default:return o.sha256Checksum(t)}}function c(e,t){t=t||{};var n=t.expectedLength||25,i=t.hashFunction||"sha256",r=a(e);if(r){var s=r.length;if(s!==n)return null;var c=o.toHex(r.slice(s-4,s)),u=o.toHex(r.slice(0,s-4)),h=l(i,u);return c===h?o.toHex(r.slice(0,n-24)):null}return null}function u(e,t,n){var i;n=n||s;var r=c(e,t);return!!r&&(i="prod"===n||"testnet"===n?t.addressTypes[n]:t.addressTypes.prod.concat(t.addressTypes.testnet),i.indexOf(r)>=0)}e.exports={isValidAddress:function(e,t,n){return u(e,t,n)||r.isValidAddress(e,t.segwitHrp)}}},dc4a:function(e,t,n){var i=n("59ed"),r=n("7234");e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},dc53:function(e,t,n){},dd87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("9046");function r(e){return i.COMMENT_KEYS.forEach(t=>{e[t]=null}),e}},dd98:function(e,t){for(var n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",i={},r=0;r<n.length;++r)i[n.charAt(r)]=r;var o=n.length;e.exports={decode:function(e){if(0===e.length)return[];var t,n,r=[0];for(t=0;t<e.length;++t){var s=e[t];if(!(s in i))throw new Error("Non-base58 character");for(n=0;n<r.length;++n)r[n]*=o;r[0]+=i[s];var a=0;for(n=0;n<r.length;++n)r[n]+=a,a=r[n]>>8,r[n]&=255;while(a)r.push(255&a),a>>=8}for(t=0;"1"===e[t]&&t<e.length-1;++t)r.push(0);return r.reverse()}}},dddd:function(e,t){var n=function(e){e=e||{};var t,n="undefined"!==typeof e?e:{},i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);var r,o=[],s="";function a(e){return n["locateFile"]?n["locateFile"](e,s):s+e}"undefined"!==typeof document&&document.currentScript&&(s=document.currentScript.src),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",r=function(e,t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){if(200==i.status||0==i.status&&i.response)t(i.response);else{var r=Se(e);r?t(r.buffer):n()}},i.onerror=n,i.send(null)};var l=n["print"]||console.log.bind(console),c=n["printErr"]||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);i=null,n["arguments"]&&(o=n["arguments"]);var u=0,h=function(e){u=e},d=function(){return u},f=8;function p(e,t,n,i){switch(n=n||"i8","*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":M[e>>0]=t;break;case"i8":M[e>>0]=t;break;case"i16":O[e>>1]=t;break;case"i32":k[e>>2]=t;break;case"i64":se=[t>>>0,(oe=t,+K(oe)>=1?oe>0?(0|Z(+J(oe/4294967296),4294967295))>>>0:~~+Q((oe-+(~~oe>>>0))/4294967296)>>>0:0)],k[e>>2]=se[0],k[e+4>>2]=se[1];break;case"float":P[e>>2]=t;break;case"double":I[e>>3]=t;break;default:Fe("invalid type for setValue: "+n)}}function m(e,t,n){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":return M[e>>0];case"i8":return M[e>>0];case"i16":return O[e>>1];case"i32":return k[e>>2];case"i64":return k[e>>2];case"float":return P[e>>2];case"double":return I[e>>3];default:Fe("invalid type for getValue: "+t)}return null}var g=!1;function A(e,t){e||Fe("Assertion failed: "+t)}function y(e){var t=n["_"+e];return A(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function v(e,t,n,i,r){var o={string:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=ke(n),T(e,t,n)}return t},array:function(e){var t=ke(e.length);return R(e,t),t}};function s(e){return"string"===t?x(e):"boolean"===t?Boolean(e):e}var a=y(e),l=[],c=0;if(i)for(var u=0;u<i.length;u++){var h=o[n[u]];h?(0===c&&(c=Ie()),l[u]=h(i[u])):l[u]=i[u]}var d=a.apply(null,l);return d=s(d),0!==c&&Pe(c),d}function b(e,t,n,i){n=n||[];var r=n.every((function(e){return"number"===e})),o="string"!==t;return o&&r&&!i?y(e):function(){return v(e,t,n,arguments,i)}}var _="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function w(e,t,n){var i=t+n,r=t;while(e[r]&&!(r>=i))++r;if(r-t>16&&e.subarray&&_)return _.decode(e.subarray(t,r));var o="";while(t<r){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var l=63&e[t++];if(s=224==(240&s)?(15&s)<<12|a<<6|l:(7&s)<<18|a<<12|l<<6|63&e[t++],s<65536)o+=String.fromCharCode(s);else{var c=s-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o}function x(e,t){return e?w(C,e,t):""}function S(e,t,n,i){if(!(i>0))return 0;for(var r=n,o=n+i-1,s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a>=55296&&a<=57343){var l=e.charCodeAt(++s);a=65536+((1023&a)<<10)|1023&l}if(a<=127){if(n>=o)break;t[n++]=a}else if(a<=2047){if(n+1>=o)break;t[n++]=192|a>>6,t[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;t[n++]=224|a>>12,t[n++]=128|a>>6&63,t[n++]=128|63&a}else{if(n+3>=o)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63,t[n++]=128|a>>6&63,t[n++]=128|63&a}}return t[n]=0,n-r}function T(e,t,n){return S(e,C,t,n)}var E,M,C,O,k,P,I;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function R(e,t){M.set(e,t)}function D(e,t){return e%t>0&&(e+=t-e%t),e}function L(e){E=e,n["HEAP8"]=M=new Int8Array(e),n["HEAP16"]=O=new Int16Array(e),n["HEAP32"]=k=new Int32Array(e),n["HEAPU8"]=C=new Uint8Array(e),n["HEAPU16"]=new Uint16Array(e),n["HEAPU32"]=new Uint32Array(e),n["HEAPF32"]=P=new Float32Array(e),n["HEAPF64"]=I=new Float64Array(e)}var N=5267040,B=24128,F=n["TOTAL_MEMORY"]||33554432;function j(e){while(e.length>0){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"===typeof i?void 0===t.arg?n["dynCall_v"](i):n["dynCall_vi"](i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}E=n["buffer"]?n["buffer"]:new ArrayBuffer(F),F=E.byteLength,L(E),k[B>>2]=N;var U=[],z=[],q=[],V=[];function H(){if(n["preRun"]){"function"==typeof n["preRun"]&&(n["preRun"]=[n["preRun"]]);while(n["preRun"].length)X(n["preRun"].shift())}j(U)}function G(){j(z)}function W(){j(q)}function $(){if(n["postRun"]){"function"==typeof n["postRun"]&&(n["postRun"]=[n["postRun"]]);while(n["postRun"].length)Y(n["postRun"].shift())}j(V)}function X(e){U.unshift(e)}function Y(e){V.unshift(e)}var K=Math.abs,Q=Math.ceil,J=Math.floor,Z=Math.min,ee=0,te=null,ne=null;function ie(e){ee++,n["monitorRunDependencies"]&&n["monitorRunDependencies"](ee)}function re(e){if(ee--,n["monitorRunDependencies"]&&n["monitorRunDependencies"](ee),0==ee&&(null!==te&&(clearInterval(te),te=null),ne)){var t=ne;ne=null,t()}}n["preloadedImages"]={},n["preloadedAudios"]={};var oe,se,ae=null,le="data:application/octet-stream;base64,";function ce(e){return String.prototype.startsWith?e.startsWith(le):0===e.indexOf(le)}ae="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAOgehWlKfUEEz1zLi+JsiQa2og3wcMfVAWCbHorc0yEDi+Yn/Y6mbQJ11/mfsnG9At6bnG4UQQkBvMCQWKqUUQJVmwwswmOc/3hVgVBL3uj//qqOEOdGOPw/WDN4gnGE/H3ANkCUgND+AA8btKgAHPwTXBqJVSdo+XfRQAqsKrj4fc+zLYbSPQklEmCZHv2FCUP+uDso1NEKYtPhwphUHQptxnyFXYdpB7CddZAMmrkGAt1AxSTqBQUibBVdTsFNBSuX3MV+AJkFocv82SLf5QAqmgj7AY81A23VDSEnLoEDGEJVSeDFzQDYrqvBk70VA8U157pcRGUBWfEF+ZKbsP7KBdLHZTpFAqKYk69AqekDbeGY41MdjQD8AZzHK501A1vcrrjubNkD5LnquvBYhQCbiRRD71QlAqt72EbOH8z8Eu+jL1YbdP4uaox/xUcY/abedg1XfsD+BsUdzJ4KZP5wE9YFySIM/rW1kAKMpbT+rZFthVRhWPy4PKlXIs0A/qMZLlwDnMEHByqEF0I0ZQQYSFD8lUQNBPpY+dFs07UAH8BZImBPWQN9RY0I0sMBA2T7kLfc6qUByFYvfhBKTQMq+0Mis1XxA0XQbeQXMZUBJJ5aEGXpQQP7/SY0a6ThAaMD92b/UIkAs8s8yqXoMQNIegOvCk/U/aOi7NZJP4D8AAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAD/////AAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA/////wAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAP////8AAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////BQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAEAAQAAAQEAAAAAAAEAAAABAAAAAQABAAAAAAAAAAAAAAAAAAAAAAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAGFsZ29zLmMAaDNOZWlnaGJvclJvdGF0aW9ucwBjb29yZGlqay5jAF91cEFwN0NoZWNrZWQAX3VwQXA3ckNoZWNrZWQAZGlyZWN0ZWRFZGdlLmMAZGlyZWN0ZWRFZGdlVG9Cb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0NlbGxCb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbY2VudGVySUpLLmZhY2VdW2ZhY2UyXSA9PSBLSQBfZmFjZUlqa1RvQ2VsbEJvdW5kYXJ5AGgzSW5kZXguYwBjb21wYWN0Q2VsbHMAbGF0TG5nVG9DZWxsAGNlbGxUb0NoaWxkUG9zAHZhbGlkYXRlQ2hpbGRQb3MAbGF0TG5nLmMAY2VsbEFyZWFSYWRzMgBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGNlbGxUb0xvY2FsSWprAGJhc2VDZWxsICE9IG9yaWdpbkJhc2VDZWxsACEob3JpZ2luT25QZW50ICYmIGluZGV4T25QZW50KQBiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvQ2VsbAAhX2lzQmFzZUNlbGxQZW50YWdvbihiYXNlQ2VsbCkAYmFzZUNlbGxSb3RhdGlvbnMgPj0gMABncmlkUGF0aENlbGxzADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";var ue=24144;function he(e){return e}function de(e){var t=/\b__Z[\w\d_]+/g;return e.replace(t,(function(e){var t=he(e);return e===t?e:t+" ["+e+"]"}))}function fe(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function pe(){var e=fe();return n["extraStackTrace"]&&(e+="\n"+n["extraStackTrace"]()),de(e)}function me(e,t,n,i){Fe("Assertion failed: "+x(e)+", at: "+[t?x(t):"unknown filename",n,i?x(i):"unknown function"])}function ge(){return M.length}function Ae(e,t,n){C.set(C.subarray(t,t+n),e)}function ye(e){return n["___errno_location"]&&(k[n["___errno_location"]()>>2]=e),e}function ve(e){Fe("OOM")}function be(e){try{var t=new ArrayBuffer(e);if(t.byteLength!=e)return;return new Int8Array(t).set(M),Oe(t),L(t),1}catch(n){}}function _e(e){var t=ge(),n=16777216,i=2147483648-n;if(e>i)return!1;var r=16777216,o=Math.max(t,r);while(o<e)o=o<=536870912?D(2*o,n):Math.min(D((3*o+2147483648)/4,n),i);var s=be(o);return!!s}var we="function"===typeof atob?atob:function(e){var t,n,i,r,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=l.indexOf(e.charAt(u++)),o=l.indexOf(e.charAt(u++)),s=l.indexOf(e.charAt(u++)),a=l.indexOf(e.charAt(u++)),t=r<<2|o>>4,n=(15&o)<<4|s>>2,i=(3&s)<<6|a,c+=String.fromCharCode(t),64!==s&&(c+=String.fromCharCode(n)),64!==a&&(c+=String.fromCharCode(i))}while(u<e.length);return c};function xe(e){try{for(var t=we(e),n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}catch(r){throw new Error("Converting base64 string to bytes failed.")}}function Se(e){if(ce(e))return xe(e.slice(le.length))}var Te,Ee={Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},Me={a:Fe,b:h,c:d,d:me,e:ye,f:ge,g:Ae,h:_e,i:ve,j:he,k:de,l:be,m:fe,n:pe,o:ue,p:B},Ce=function(e,t,n){var i=new e.Int8Array(n),r=new e.Int32Array(n),o=(new e.Uint8Array(n),new e.Float32Array(n),new e.Float64Array(n)),s=0|t.o,a=0|t.p,l=e.Math.floor,c=e.Math.abs,u=e.Math.sqrt,h=e.Math.pow,d=e.Math.cos,f=e.Math.sin,p=e.Math.tan,m=e.Math.acos,g=e.Math.asin,A=e.Math.atan,y=e.Math.atan2,v=e.Math.ceil,b=e.Math.imul,_=e.Math.min,w=e.Math.max,x=e.Math.clz32,S=t.b,T=t.c,E=t.d,M=t.e,C=t.f,O=t.g,k=t.h,P=t.i,I=24160;function R(e){return i=new Int8Array(e),new Uint8Array(e),r=new Int32Array(e),new Float32Array(e),o=new Float64Array(e),n=e,!0}function D(e){e|=0;var t=0;return t=I,I=I+e|0,I=I+15&-16,0|t}function L(){return 0|I}function N(e){e|=0,I=e}function B(e,t){e|=0,I=e}function F(e,t){e|=0,t|=0;var n=0,i=0,o=0;return(0|e)<0?(t=2,0|t):(0|e)>13780509?(t=0|$t(15,t),0|t):(n=((0|e)<0)<<31>>31,o=0|ii(0|e,0|n,3,0),i=0|T(),n=0|Qn(0|e,0|n,1,0),n=0|ii(0|o,0|i,0|n,0|T()),n=0|Qn(0|n,0|T(),1,0),e=0|T(),r[t>>2]=n,r[t+4>>2]=e,t=0,0|t)}function j(e,t,n,i){return e|=0,t|=0,n|=0,i|=0,0|U(e,t,n,i,0)}function U(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0,u=0;if(c=I,I=I+16|0,a=c,!(0|z(e,t,n,i,o)))return i=0,I=c,0|i;do{if((0|n)>=0){if((0|n)>13780509){if(s=0|$t(15,a),0|s)break;l=a,a=0|r[l>>2],l=0|r[l+4>>2]}else s=((0|n)<0)<<31>>31,u=0|ii(0|n,0|s,3,0),l=0|T(),s=0|Qn(0|n,0|s,1,0),s=0|ii(0|u,0|l,0|s,0|T()),s=0|Qn(0|s,0|T(),1,0),l=0|T(),r[a>>2]=s,r[a+4>>2]=l,a=s;if(fi(0|i,0,a<<3|0),0|o){fi(0|o,0,a<<2|0),s=0|q(e,t,n,i,o,a,l,0);break}s=0|Kn(a,4),s?(u=0|q(e,t,n,i,s,a,l,0),Yn(s),s=u):s=13}else s=2}while(0);return u=s,I=c,0|u}function z(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0;if(g=I,I=I+16|0,p=g,m=g+8|0,f=p,r[f>>2]=e,r[f+4>>2]=t,(0|n)<0)return m=2,I=g,0|m;if(s=i,r[s>>2]=e,r[s+4>>2]=t,s=0!=(0|o),s&&(r[o>>2]=0),0|lt(e,t))return m=9,I=g,0|m;r[m>>2]=0;e:do{if((0|n)>=1)if(s){h=1,u=0,d=0,f=1,s=e;while(1){if(!(u|d)){if(s=0|V(s,t,4,m,p),0|s)break e;if(t=p,s=0|r[t>>2],t=0|r[t+4>>2],0|lt(s,t)){s=9;break e}}if(s=0|V(s,t,0|r[22384+(d<<2)>>2],m,p),0|s)break e;if(t=p,s=0|r[t>>2],t=0|r[t+4>>2],e=i+(h<<3)|0,r[e>>2]=s,r[e+4>>2]=t,r[o+(h<<2)>>2]=f,e=u+1|0,a=(0|e)==(0|f),l=d+1|0,c=6==(0|l),0|lt(s,t)){s=9;break e}if(f=f+(c&a&1)|0,(0|f)>(0|n)){s=0;break}h=h+1|0,u=a?0:e,d=a?c?0:l:d}}else{h=1,u=0,d=0,f=1,s=e;while(1){if(!(u|d)){if(s=0|V(s,t,4,m,p),0|s)break e;if(t=p,s=0|r[t>>2],t=0|r[t+4>>2],0|lt(s,t)){s=9;break e}}if(s=0|V(s,t,0|r[22384+(d<<2)>>2],m,p),0|s)break e;if(t=p,s=0|r[t>>2],t=0|r[t+4>>2],e=i+(h<<3)|0,r[e>>2]=s,r[e+4>>2]=t,e=u+1|0,a=(0|e)==(0|f),l=d+1|0,c=6==(0|l),0|lt(s,t)){s=9;break e}if(f=f+(c&a&1)|0,(0|f)>(0|n)){s=0;break}h=h+1|0,u=a?0:e,d=a?c?0:l:d}}else s=0}while(0);return m=s,I=g,0|m}function q(e,t,n,i,o,s,a,l){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0,a|=0,l|=0;var c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0;if(g=I,I=I+16|0,p=g+8|0,m=g,c=0|oi(0|e,0|t,0|s,0|a),h=0|T(),d=i+(c<<3)|0,A=d,y=0|r[A>>2],A=0|r[A+4>>2],u=(0|y)==(0|e)&(0|A)==(0|t),!(0==(0|y)&0==(0|A)|u))do{c=0|Qn(0|c,0|h,1,0),c=0|ri(0|c,0|T(),0|s,0|a),h=0|T(),d=i+(c<<3)|0,y=d,A=0|r[y>>2],y=0|r[y+4>>2],u=(0|A)==(0|e)&(0|y)==(0|t)}while(!(0==(0|A)&0==(0|y)|u));if(c=o+(c<<2)|0,u&&(0|r[c>>2])<=(0|l))return y=0,I=g,0|y;if(y=d,r[y>>2]=e,r[y+4>>2]=t,r[c>>2]=l,(0|l)>=(0|n))return y=0,I=g,0|y;switch(u=l+1|0,r[p>>2]=0,c=0|V(e,t,2,p,m),0|c){case 9:f=9;break;case 0:c=m,c=0|q(0|r[c>>2],0|r[c+4>>2],n,i,o,s,a,u),c||(f=9);break;default:}e:do{if(9==(0|f)){switch(r[p>>2]=0,c=0|V(e,t,3,p,m),0|c){case 9:break;case 0:if(c=m,c=0|q(0|r[c>>2],0|r[c+4>>2],n,i,o,s,a,u),0|c)break e;break;default:break e}switch(r[p>>2]=0,c=0|V(e,t,1,p,m),0|c){case 9:break;case 0:if(c=m,c=0|q(0|r[c>>2],0|r[c+4>>2],n,i,o,s,a,u),0|c)break e;break;default:break e}switch(r[p>>2]=0,c=0|V(e,t,5,p,m),0|c){case 9:break;case 0:if(c=m,c=0|q(0|r[c>>2],0|r[c+4>>2],n,i,o,s,a,u),0|c)break e;break;default:break e}switch(r[p>>2]=0,c=0|V(e,t,4,p,m),0|c){case 9:break;case 0:if(c=m,c=0|q(0|r[c>>2],0|r[c+4>>2],n,i,o,s,a,u),0|c)break e;break;default:break e}switch(r[p>>2]=0,c=0|V(e,t,6,p,m),0|c){case 9:break;case 0:if(c=m,c=0|q(0|r[c>>2],0|r[c+4>>2],n,i,o,s,a,u),0|c)break e;break;default:break e}return y=0,I=g,0|y}}while(0);return y=c,I=g,0|y}function V(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0;if(n>>>0>6)return o=1,0|o;if(d=(0|r[i>>2])%6|0,r[i>>2]=d,(0|d)>0){s=0;do{n=0|Oe(n),s=s+1|0}while((0|s)<(0|r[i>>2]))}if(d=0|ai(0|e,0|t,45),T(),h=127&d,h>>>0>121)return o=5,0|o;c=0|gt(e,t),s=0|ai(0|e,0|t,52),T(),s&=15;e:do{if(s){while(1){if(a=3*(15-s|0)|0,l=0|ai(0|e,0|t,0|a),T(),l&=7,7==(0|l)){t=5;break}if(m=0==(0|wt(s)),s=s+-1|0,f=0|li(7,0,0|a),t&=~(0|T()),p=0|li(0|r[(m?432:16)+(28*l|0)+(n<<2)>>2],0,0|a),a=0|T(),n=0|r[(m?640:224)+(28*l|0)+(n<<2)>>2],e=p|e&~f,t|=a,!n){n=0;break e}if(!s){u=8;break e}}return 0|t}u=8}while(0);8==(0|u)&&(m=0|r[848+(28*h|0)+(n<<2)>>2],p=0|li(0|m,0,45),e|=p,t=0|T()|-1040385&t,n=0|r[4272+(28*h|0)+(n<<2)>>2],127==(127&m|0)&&(m=0|li(0|r[848+(28*h|0)+20>>2],0,45),t=0|T()|-1040385&t,n=0|r[4272+(28*h|0)+20>>2],e=0|yt(m|e,t),t=0|T(),r[i>>2]=1+(0|r[i>>2]))),l=0|ai(0|e,0|t,45),T(),l&=127;e:do{if(0|Q(l)){t:do{if(1==(0|gt(e,t))){if((0|h)!=(0|l)){if(0|ie(l,0|r[7696+(28*h|0)>>2])){e=0|bt(e,t),a=1,t=0|T();break}E(23313,22416,436,22424)}switch(0|c){case 3:e=0|yt(e,t),t=0|T(),r[i>>2]=1+(0|r[i>>2]),a=0;break t;case 5:e=0|bt(e,t),t=0|T(),r[i>>2]=5+(0|r[i>>2]),a=0;break t;case 0:return m=9,0|m;default:return m=1,0|m}}else a=0}while(0);if((0|n)>0){s=0;do{e=0|At(e,t),t=0|T(),s=s+1|0}while((0|s)!=(0|n))}if((0|h)!=(0|l)){if(!(0|J(l))){if(0!=(0|a)|5!=(0|gt(e,t)))break;r[i>>2]=1+(0|r[i>>2]);break}switch(127&d){case 8:case 118:break e;default:}3!=(0|gt(e,t))&&(r[i>>2]=1+(0|r[i>>2]))}}else if((0|n)>0){s=0;do{e=0|yt(e,t),t=0|T(),s=s+1|0}while((0|s)!=(0|n))}}while(0);return r[i>>2]=((0|r[i>>2])+n|0)%6|0,m=o,r[m>>2]=e,r[m+4>>2]=t,m=0,0|m}function H(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0;l=I,I=I+16|0,s=l,a=l+8|0,o=0==(0|lt(e,t)),o=o?1:2;while(1){if(r[a>>2]=0,u=0==(0|V(e,t,o,a,s)),c=s,u&((0|r[c>>2])==(0|n)?(0|r[c+4>>2])==(0|i):0)){e=4;break}if(o=o+1|0,o>>>0>=7){o=7,e=4;break}}return 4==(0|e)?(I=l,0|o):0}function G(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0;if(m=I,I=I+16|0,f=m,p=m+8|0,d=f,r[d>>2]=e,r[d+4>>2]=t,!n)return p=i,r[p>>2]=e,r[p+4>>2]=t,p=0,I=m,0|p;r[p>>2]=0;e:do{if(0|lt(e,t))e=9;else{if(s=(0|n)>0,s){o=0,d=e;do{if(e=0|V(d,t,4,p,f),0|e)break e;if(t=f,d=0|r[t>>2],t=0|r[t+4>>2],o=o+1|0,0|lt(d,t)){e=9;break e}}while((0|o)<(0|n));if(h=i,r[h>>2]=d,r[h+4>>2]=t,h=n+-1|0,s){u=0,e=1;do{if(o=22384+(u<<2)|0,5==(0|u)){a=0|r[o>>2],s=0,o=e;while(1){if(e=f,e=0|V(0|r[e>>2],0|r[e+4>>2],a,p,f),0|e)break e;if((0|s)!=(0|h)){if(c=f,l=0|r[c>>2],c=0|r[c+4>>2],e=i+(o<<3)|0,r[e>>2]=l,r[e+4>>2]=c,0|lt(l,c)){e=9;break e}e=o+1|0}else e=o;if(s=s+1|0,(0|s)>=(0|n))break;o=e}}else{a=f,c=0|r[o>>2],l=0,o=e,s=0|r[a>>2],a=0|r[a+4>>2];while(1){if(e=0|V(s,a,c,p,f),0|e)break e;if(a=f,s=0|r[a>>2],a=0|r[a+4>>2],e=i+(o<<3)|0,r[e>>2]=s,r[e+4>>2]=a,e=o+1|0,0|lt(s,a)){e=9;break e}if(l=l+1|0,(0|l)>=(0|n))break;o=e}}u=u+1|0}while(u>>>0<6);e=f,a=d,o=0|r[e>>2],s=t,e=0|r[e+4>>2]}else a=d,o=d,s=t,e=t}else a=i,r[a>>2]=e,r[a+4>>2]=t,a=e,o=e,s=t,e=t;e=(0|a)==(0|o)&(0|s)==(0|e)?0:9}}while(0);return p=e,I=m,0|p}function W(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0;if(l=I,I=I+48|0,o=l+16|0,s=l+8|0,a=l,0|n)return a=15,I=l,0|a;if(u=e,c=0|r[u+4>>2],n=s,r[n>>2]=r[u>>2],r[n+4>>2]=c,gn(s,o),t=0|ue(o,t,a),!t){if(n=0|r[s>>2],s=0|r[e+8>>2],(0|s)>0){o=0|r[e+12>>2],t=0;do{n=(0|r[o+(t<<3)>>2])+n|0,t=t+1|0}while((0|t)<(0|s))}t=a,o=0|r[t>>2],t=0|r[t+4>>2],s=((0|n)<0)<<31>>31,(0|t)<(0|s)|(0|t)==(0|s)&o>>>0<n>>>0?(t=a,r[t>>2]=n,r[t+4>>2]=s,t=s):n=o,c=0|Qn(0|n,0|t,12,0),u=0|T(),t=a,r[t>>2]=c,r[t+4>>2]=u,t=i,r[t>>2]=c,r[t+4>>2]=u,t=0}return u=t,I=l,0|u}function $(e,t,n,i,s,a,l){e|=0,t|=0,n|=0,i|=0,s|=0,a|=0,l|=0;var c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,E=0,M=0,C=0,O=0,k=0,P=0,R=0,D=0,L=0,N=0,B=0,F=0,j=0;if(L=I,I=I+64|0,k=L+48|0,P=L+32|0,R=L+24|0,x=L+8|0,S=L,u=0|r[e>>2],(0|u)<=0)return D=0,I=L,0|D;E=e+4|0,M=k+8|0,C=P+8|0,O=x+8|0,c=0,_=0;while(1){h=0|r[E>>2],b=h+(_<<4)|0,r[k>>2]=r[b>>2],r[k+4>>2]=r[b+4>>2],r[k+8>>2]=r[b+8>>2],r[k+12>>2]=r[b+12>>2],(0|_)==(u+-1|0)?(r[P>>2]=r[h>>2],r[P+4>>2]=r[h+4>>2],r[P+8>>2]=r[h+8>>2],r[P+12>>2]=r[h+12>>2]):(b=h+(_+1<<4)|0,r[P>>2]=r[b>>2],r[P+4>>2]=r[b+4>>2],r[P+8>>2]=r[b+8>>2],r[P+12>>2]=r[b+12>>2]),u=0|he(k,P,i,R);e:do{if(u)h=0,c=u;else if(h=R,u=0|r[h>>2],h=0|r[h+4>>2],(0|h)>0|0==(0|h)&u>>>0>0){v=0,b=0;t:while(1){if(j=+o[k>>3],y=0|Jn(0|u,0|h,0|v,0|b),F=+(y>>>0)+4294967296*+(0|T()),N=+(u>>>0)+4294967296*+(0|h),B=+(v>>>0)+4294967296*+(0|b),o[x>>3]=j*F/N+ +o[P>>3]*B/N,o[O>>3]=+o[M>>3]*F/N+ +o[C>>3]*B/N,u=0|xt(x,i,S),0|u){c=u;break}y=S,A=0|r[y>>2],y=0|r[y+4>>2],p=0|oi(0|A,0|y,0|t,0|n),d=0|T(),u=l+(p<<3)|0,f=u,h=0|r[f>>2],f=0|r[f+4>>2];n:do{if(0==(0|h)&0==(0|f))w=u,D=16;else{m=0,g=0;while(1){if((0|m)>(0|n)|(0|m)==(0|n)&g>>>0>t>>>0){c=1;break t}if((0|h)==(0|A)&(0|f)==(0|y))break n;if(u=0|Qn(0|p,0|d,1,0),p=0|ri(0|u,0|T(),0|t,0|n),d=0|T(),g=0|Qn(0|g,0|m,1,0),m=0|T(),u=l+(p<<3)|0,f=u,h=0|r[f>>2],f=0|r[f+4>>2],0==(0|h)&0==(0|f)){w=u,D=16;break}}}}while(0);if(16!=(0|D)||(D=0,0==(0|A)&0==(0|y))||(g=w,r[g>>2]=A,r[g+4>>2]=y,g=a+(r[s>>2]<<3)|0,r[g>>2]=A,r[g+4>>2]=y,g=s,g=0|Qn(0|r[g>>2],0|r[g+4>>2],1,0),A=0|T(),y=s,r[y>>2]=g,r[y+4>>2]=A),v=0|Qn(0|v,0|b,1,0),b=0|T(),h=R,u=0|r[h>>2],h=0|r[h+4>>2],!((0|h)>(0|b)|(0|h)==(0|b)&u>>>0>v>>>0)){h=1;break e}}h=0}else h=1}while(0);if(_=_+1|0,!h){D=21;break}if(u=0|r[e>>2],(0|_)>=(0|u)){c=0,D=21;break}}return 21==(0|D)?(I=L,0|c):0}function X(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,E=0,M=0,C=0,O=0,k=0,P=0,R=0,D=0,L=0,N=0,B=0;if(B=I,I=I+112|0,R=B+80|0,c=B+72|0,D=B,L=B+56|0,0|n)return N=15,I=B,0|N;if(u=e+8|0,N=0|Xn(32+(r[u>>2]<<5)|0),!N)return N=13,I=B,0|N;if(An(e,N),k=e,P=0|r[k+4>>2],n=c,r[n>>2]=r[k>>2],r[n+4>>2]=P,gn(c,R),n=0|ue(R,t,D),n)k=0,P=0;else{if(n=0|r[c>>2],s=0|r[u>>2],(0|s)>0){a=0|r[e+12>>2],o=0;do{n=(0|r[a+(o<<3)>>2])+n|0,o=o+1|0}while((0|o)!=(0|s));o=n}else o=n;n=D,s=0|r[n>>2],n=0|r[n+4>>2],a=((0|o)<0)<<31>>31,(0|n)<(0|a)|(0|n)==(0|a)&s>>>0<o>>>0?(n=D,r[n>>2]=o,r[n+4>>2]=a,n=a):o=s,k=0|Qn(0|o,0|n,12,0),P=0|T(),n=D,r[n>>2]=k,r[n+4>>2]=P,n=0}if(0|n)return Yn(N),N=n,I=B,0|N;if(o=0|Kn(k,8),!o)return Yn(N),N=13,I=B,0|N;if(l=0|Kn(k,8),!l)return Yn(N),Yn(o),N=13,I=B,0|N;C=R,r[C>>2]=0,r[C+4>>2]=0,C=e,O=0|r[C+4>>2],n=c,r[n>>2]=r[C>>2],r[n+4>>2]=O,n=0|$(c,k,P,t,R,o,l);e:do{if(n)Yn(o),Yn(l),Yn(N);else{t:do{if((0|r[u>>2])>0){a=e+12|0,s=0;while(1){if(n=0|$((0|r[a>>2])+(s<<3)|0,k,P,t,R,o,l),s=s+1|0,0|n)break;if((0|s)>=(0|r[u>>2]))break t}Yn(o),Yn(l),Yn(N);break e}}while(0);(0|P)>0|0==(0|P)&k>>>0>0&&fi(0|l,0,k<<3|0),O=R,C=0|r[O+4>>2];t:do{if((0|C)>0|0==(0|C)&(0|r[O>>2])>>>0>0){S=o,E=l,M=o,C=l,O=o,n=o,_=o,w=l,x=l,o=l;n:while(1){A=0,y=0,v=0,b=0,s=0,a=0;while(1){l=D,c=l+56|0;do{r[l>>2]=0,l=l+4|0}while((0|l)<(0|c));if(t=S+(A<<3)|0,u=0|r[t>>2],t=0|r[t+4>>2],0|z(u,t,1,D,0)){l=D,c=l+56|0;do{r[l>>2]=0,l=l+4|0}while((0|l)<(0|c));l=0|Kn(7,4),0|l&&(q(u,t,1,D,l,7,0,0),Yn(l))}g=0;while(1){m=D+(g<<3)|0,p=0|r[m>>2],m=0|r[m+4>>2];i:do{if(0==(0|p)&0==(0|m))l=s,c=a;else{if(h=0|oi(0|p,0|m,0|k,0|P),u=0|T(),l=i+(h<<3)|0,t=l,c=0|r[t>>2],t=0|r[t+4>>2],!(0==(0|c)&0==(0|t))){d=0,f=0;do{if((0|d)>(0|P)|(0|d)==(0|P)&f>>>0>k>>>0)break n;if((0|c)==(0|p)&(0|t)==(0|m)){l=s,c=a;break i}l=0|Qn(0|h,0|u,1,0),h=0|ri(0|l,0|T(),0|k,0|P),u=0|T(),f=0|Qn(0|f,0|d,1,0),d=0|T(),l=i+(h<<3)|0,t=l,c=0|r[t>>2],t=0|r[t+4>>2]}while(!(0==(0|c)&0==(0|t)))}0==(0|p)&0==(0|m)?(l=s,c=a):(Et(p,m,L),0|yn(e,N,L)&&(f=0|Qn(0|s,0|a,1,0),a=0|T(),d=l,r[d>>2]=p,r[d+4>>2]=m,s=E+(s<<3)|0,r[s>>2]=p,r[s+4>>2]=m,s=f),l=s,c=a)}}while(0);if(g=g+1|0,g>>>0>=7)break;s=l,a=c}if(A=0|Qn(0|A,0|y,1,0),y=0|T(),v=0|Qn(0|v,0|b,1,0),b=0|T(),a=R,s=0|r[a>>2],a=0|r[a+4>>2],!((0|b)<(0|a)|(0|b)==(0|a)&v>>>0<s>>>0))break;s=l,a=c}if((0|a)>0|0==(0|a)&s>>>0>0){s=0,a=0;do{b=S+(s<<3)|0,r[b>>2]=0,r[b+4>>2]=0,s=0|Qn(0|s,0|a,1,0),a=0|T(),b=R,v=0|r[b+4>>2]}while((0|a)<(0|v)|((0|a)==(0|v)?s>>>0<(0|r[b>>2])>>>0:0))}if(b=R,r[b>>2]=l,r[b+4>>2]=c,!((0|c)>0|0==(0|c)&l>>>0>0))break t;g=o,A=x,y=O,v=w,b=E,o=_,x=n,w=M,_=g,n=A,O=C,C=y,M=v,E=S,S=b}Yn(M),Yn(C),Yn(N),n=1;break e}n=l}while(0);Yn(N),Yn(o),Yn(n),n=0}}while(0);return N=n,I=B,0|N}function Y(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0;if(h=I,I=I+176|0,c=h,(0|t)<1)return Fn(n,0,0),u=0,I=h,0|u;l=e,l=0|ai(0|r[l>>2],0|r[l+4>>2],52),T(),Fn(n,(0|t)>6?t:6,15&l),l=0;while(1){if(i=e+(l<<3)|0,i=0|Mt(0|r[i>>2],0|r[i+4>>2],c),0|i)break;if(i=0|r[c>>2],(0|i)>0){a=0;do{s=c+8+(a<<4)|0,a=a+1|0,i=c+8+(((0|a)%(0|i)|0)<<4)|0,o=0|Vn(n,i,s),o?zn(n,o):qn(n,s,i),i=0|r[c>>2]}while((0|a)<(0|i))}if(l=l+1|0,(0|l)>=(0|t)){i=0,u=13;break}}return 13==(0|u)?(I=h,0|i):(jn(n),u=i,I=h,0|u)}function K(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0;if(s=I,I=I+32|0,i=s,o=s+16|0,e=0|Y(e,t,o),0|e)return n=e,I=s,0|n;if(r[n>>2]=0,r[n+4>>2]=0,r[n+8>>2]=0,e=0|Un(o),0|e)do{t=0|tn(n);do{nn(t,e),a=e+16|0,r[i>>2]=r[a>>2],r[i+4>>2]=r[a+4>>2],r[i+8>>2]=r[a+8>>2],r[i+12>>2]=r[a+12>>2],zn(o,e),e=0|Hn(o,i)}while(0!=(0|e));e=0|Un(o)}while(0!=(0|e));return jn(o),e=0|on(n),e?(rn(n),a=e,I=s,0|a):(a=0,I=s,0|a)}function Q(e){return e|=0,e>>>0>121?(e=0,0|e):(e=0|r[7696+(28*e|0)+16>>2],0|e)}function J(e){return e|=0,4==(0|e)|117==(0|e)|0}function Z(e){return e|=0,0|r[11120+(216*(0|r[e>>2])|0)+(72*(0|r[e+4>>2])|0)+(24*(0|r[e+8>>2])|0)+(r[e+12>>2]<<3)>>2]}function ee(e){return e|=0,0|r[11120+(216*(0|r[e>>2])|0)+(72*(0|r[e+4>>2])|0)+(24*(0|r[e+8>>2])|0)+(r[e+12>>2]<<3)+4>>2]}function te(e,t){e|=0,t|=0,e=7696+(28*e|0)|0,r[t>>2]=r[e>>2],r[t+4>>2]=r[e+4>>2],r[t+8>>2]=r[e+8>>2],r[t+12>>2]=r[e+12>>2]}function ne(e,t){e|=0,t|=0;var n=0,i=0;if(t>>>0>20)return t=-1,0|t;do{if((0|r[11120+(216*t|0)>>2])!=(0|e))if((0|r[11120+(216*t|0)+8>>2])!=(0|e))if((0|r[11120+(216*t|0)+16>>2])!=(0|e))if((0|r[11120+(216*t|0)+24>>2])!=(0|e))if((0|r[11120+(216*t|0)+32>>2])!=(0|e))if((0|r[11120+(216*t|0)+40>>2])!=(0|e))if((0|r[11120+(216*t|0)+48>>2])!=(0|e))if((0|r[11120+(216*t|0)+56>>2])!=(0|e))if((0|r[11120+(216*t|0)+64>>2])!=(0|e))if((0|r[11120+(216*t|0)+72>>2])!=(0|e))if((0|r[11120+(216*t|0)+80>>2])!=(0|e))if((0|r[11120+(216*t|0)+88>>2])!=(0|e))if((0|r[11120+(216*t|0)+96>>2])!=(0|e))if((0|r[11120+(216*t|0)+104>>2])!=(0|e))if((0|r[11120+(216*t|0)+112>>2])!=(0|e))if((0|r[11120+(216*t|0)+120>>2])!=(0|e))if((0|r[11120+(216*t|0)+128>>2])!=(0|e)){if((0|r[11120+(216*t|0)+136>>2])!=(0|e)){if((0|r[11120+(216*t|0)+144>>2])==(0|e)){e=0,n=2,i=0;break}if((0|r[11120+(216*t|0)+152>>2])==(0|e)){e=0,n=2,i=1;break}if((0|r[11120+(216*t|0)+160>>2])==(0|e)){e=0,n=2,i=2;break}if((0|r[11120+(216*t|0)+168>>2])==(0|e)){e=1,n=2,i=0;break}if((0|r[11120+(216*t|0)+176>>2])==(0|e)){e=1,n=2,i=1;break}if((0|r[11120+(216*t|0)+184>>2])==(0|e)){e=1,n=2,i=2;break}if((0|r[11120+(216*t|0)+192>>2])==(0|e)){e=2,n=2,i=0;break}if((0|r[11120+(216*t|0)+200>>2])==(0|e)){e=2,n=2,i=1;break}if((0|r[11120+(216*t|0)+208>>2])==(0|e)){e=2,n=2,i=2;break}return e=-1,0|e}e=2,n=1,i=2}else e=2,n=1,i=1;else e=2,n=1,i=0;else e=1,n=1,i=2;else e=1,n=1,i=1;else e=1,n=1,i=0;else e=0,n=1,i=2;else e=0,n=1,i=1;else e=0,n=1,i=0;else e=2,n=0,i=2;else e=2,n=0,i=1;else e=2,n=0,i=0;else e=1,n=0,i=2;else e=1,n=0,i=1;else e=1,n=0,i=0;else e=0,n=0,i=2;else e=0,n=0,i=1;else e=0,n=0,i=0}while(0);return t=0|r[11120+(216*t|0)+(72*n|0)+(24*e|0)+(i<<3)+4>>2],0|t}function ie(e,t){return e|=0,t|=0,(0|r[7696+(28*e|0)+20>>2])==(0|t)?(t=1,0|t):(t=(0|r[7696+(28*e|0)+24>>2])==(0|t),0|t)}function re(e,t){return e|=0,t|=0,0|r[848+(28*e|0)+(t<<2)>>2]}function oe(e,t){return e|=0,t|=0,(0|r[848+(28*e|0)>>2])==(0|t)?(t=0,0|t):(0|r[848+(28*e|0)+4>>2])==(0|t)?(t=1,0|t):(0|r[848+(28*e|0)+8>>2])==(0|t)?(t=2,0|t):(0|r[848+(28*e|0)+12>>2])==(0|t)?(t=3,0|t):(0|r[848+(28*e|0)+16>>2])==(0|t)?(t=4,0|t):(0|r[848+(28*e|0)+20>>2])==(0|t)?(t=5,0|t):0|((0|r[848+(28*e|0)+24>>2])==(0|t)?6:7)}function se(){return 122}function ae(e){e|=0;var t=0,n=0,i=0;t=0;do{li(0|t,0,45),i=134225919|T(),n=e+(t<<3)|0,r[n>>2]=-1,r[n+4>>2]=i,t=t+1|0}while(122!=(0|t));return 0}function le(e){return e|=0,+o[e+16>>3]<+o[e+24>>3]|0}function ce(e,t){e|=0,t|=0;var n=0,i=0,r=0;return n=+o[t>>3],n>=+o[e+8>>3]&&n<=+o[e>>3]?(i=+o[e+16>>3],n=+o[e+24>>3],r=+o[t+8>>3],t=r>=n,e=r<=i&1,i<n?t&&(e=1):t||(e=0),t=0!=(0|e),0|t):(t=0,0|t)}function ue(e,t,n){e|=0,t|=0,n|=0;var i=0,a=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,b=0,w=0,x=0;b=I,I=I+288|0,m=b+264|0,g=b+96|0,p=b,d=p,f=d+96|0;do{r[d>>2]=0,d=d+4|0}while((0|d)<(0|f));return t=0|Pt(t,p),0|t?(y=t,I=b,0|y):(f=p,p=0|r[f>>2],f=0|r[f+4>>2],Et(p,f,m),Mt(p,f,g),h=+jt(m,g+8|0),o[m>>3]=+o[e>>3],f=m+8|0,o[f>>3]=+o[e+16>>3],o[g>>3]=+o[e+8>>3],p=g+8|0,o[p>>3]=+o[e+24>>3],a=+jt(m,g),x=+o[f>>3]-+o[p>>3],u=+c(+x),w=+o[m>>3]-+o[g>>3],i=+c(+w),0==x|0==w||(x=+ci(+u,+i),x=+v(+a*a/+ui(+x/+ui(+u,+i),3)/(h*(2.59807621135*h)*.8)),o[s>>3]=x,A=~~x>>>0,y=+c(x)>=1?x>0?~~+_(+l(x/4294967296),4294967295)>>>0:~~+v((x-+(~~x>>>0))/4294967296)>>>0:0,2146435072==(2146435072&r[s+4>>2]|0))?t=1:(g=0==(0|A)&0==(0|y),t=n,r[t>>2]=g?1:A,r[t+4>>2]=g?0:y,t=0),y=t,I=b,0|y)}function he(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var a=0,u=0,h=0,d=0,f=0,p=0,m=0;p=I,I=I+288|0,h=p+264|0,d=p+96|0,f=p,a=f,u=a+96|0;do{r[a>>2]=0,a=a+4|0}while((0|a)<(0|u));return n=0|Pt(n,f),0|n?(i=n,I=p,0|i):(n=f,a=0|r[n>>2],n=0|r[n+4>>2],Et(a,n,h),Mt(a,n,d),m=+jt(h,d+8|0),m=+v(+ +jt(e,t)/(2*m)),o[s>>3]=m,n=~~m>>>0,a=+c(m)>=1?m>0?~~+_(+l(m/4294967296),4294967295)>>>0:~~+v((m-+(~~m>>>0))/4294967296)>>>0:0,2146435072==(2146435072&r[s+4>>2]|0)?(i=1,I=p,0|i):(f=0==(0|n)&0==(0|a),r[i>>2]=f?1:n,r[i+4>>2]=f?0:a,i=0,I=p,0|i))}function de(e,t,n,i){e|=0,t|=0,n|=0,i|=0,r[e>>2]=t,r[e+4>>2]=n,r[e+8>>2]=i}function fe(e,t){e|=0,t|=0;var n=0,i=0,s=0,a=0,l=0,u=0,h=0,d=0,f=0,p=0,m=0;p=t+8|0,r[p>>2]=0,h=+o[e>>3],l=+c(+h),d=+o[e+8>>3],u=+c(+d)/.8660254037844386,l+=.5*u,n=~~l,e=~~u,l-=+(0|n),u-=+(0|e);do{if(l<.5){if(l<.3333333333333333){if(r[t>>2]=n,u<.5*(l+1)){r[t+4>>2]=e;break}e=e+1|0,r[t+4>>2]=e;break}if(m=1-l,e=(1&!(u<m))+e|0,r[t+4>>2]=e,m<=u&u<2*l){n=n+1|0,r[t>>2]=n;break}r[t>>2]=n;break}if(!(l<.6666666666666666)){if(n=n+1|0,r[t>>2]=n,u<.5*l){r[t+4>>2]=e;break}e=e+1|0,r[t+4>>2]=e;break}if(u<1-l){if(r[t+4>>2]=e,2*l-1<u){r[t>>2]=n;break}}else e=e+1|0,r[t+4>>2]=e;n=n+1|0,r[t>>2]=n}while(0);do{if(h<0){if(1&e){f=(e+1|0)/2|0,f=0|Jn(0|n,((0|n)<0)<<31>>31|0,0|f,((0|f)<0)<<31>>31|0),n=~~(+(0|n)-(2*(+(f>>>0)+4294967296*+(0|T()))+1)),r[t>>2]=n;break}f=(0|e)/2|0,f=0|Jn(0|n,((0|n)<0)<<31>>31|0,0|f,((0|f)<0)<<31>>31|0),n=~~(+(0|n)-2*(+(f>>>0)+4294967296*+(0|T()))),r[t>>2]=n;break}}while(0);f=t+4|0,d<0&&(n=n-((1|e<<1)/2|0)|0,r[t>>2]=n,e=0-e|0,r[f>>2]=e),i=e-n|0,(0|n)<0?(s=0-n|0,r[f>>2]=i,r[p>>2]=s,r[t>>2]=0,e=i,n=0):s=0,(0|e)<0&&(n=n-e|0,r[t>>2]=n,s=s-e|0,r[p>>2]=s,r[f>>2]=0,e=0),a=n-s|0,i=e-s|0,(0|s)<0&&(r[t>>2]=a,r[f>>2]=i,r[p>>2]=0,e=i,n=a,s=0),i=(0|e)<(0|n)?e:n,i=(0|s)<(0|i)?s:i,(0|i)<=0||(r[t>>2]=n-i,r[f>>2]=e-i,r[p>>2]=s-i)}function pe(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0;t=0|r[e>>2],a=e+4|0,n=0|r[a>>2],(0|t)<0&&(n=n-t|0,r[a>>2]=n,s=e+8|0,r[s>>2]=(0|r[s>>2])-t,r[e>>2]=0,t=0),(0|n)<0?(t=t-n|0,r[e>>2]=t,s=e+8|0,o=(0|r[s>>2])-n|0,r[s>>2]=o,r[a>>2]=0,n=0):(o=e+8|0,s=o,o=0|r[o>>2]),(0|o)<0&&(t=t-o|0,r[e>>2]=t,n=n-o|0,r[a>>2]=n,r[s>>2]=0,o=0),i=(0|n)<(0|t)?n:t,i=(0|o)<(0|i)?o:i,(0|i)<=0||(r[e>>2]=t-i,r[a>>2]=n-i,r[s>>2]=o-i)}function me(e,t){e|=0,t|=0;var n=0,i=0;i=0|r[e+8>>2],n=+((0|r[e+4>>2])-i|0),o[t>>3]=+((0|r[e>>2])-i|0)-.5*n,o[t+8>>3]=.8660254037844386*n}function ge(e,t,n){e|=0,t|=0,n|=0,r[n>>2]=(0|r[t>>2])+(0|r[e>>2]),r[n+4>>2]=(0|r[t+4>>2])+(0|r[e+4>>2]),r[n+8>>2]=(0|r[t+8>>2])+(0|r[e+8>>2])}function Ae(e,t,n){e|=0,t|=0,n|=0,r[n>>2]=(0|r[e>>2])-(0|r[t>>2]),r[n+4>>2]=(0|r[e+4>>2])-(0|r[t+4>>2]),r[n+8>>2]=(0|r[e+8>>2])-(0|r[t+8>>2])}function ye(e,t){e|=0,t|=0;var n=0,i=0;n=0|b(0|r[e>>2],t),r[e>>2]=n,n=e+4|0,i=0|b(0|r[n>>2],t),r[n>>2]=i,e=e+8|0,t=0|b(0|r[e>>2],t),r[e>>2]=t}function ve(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;a=0|r[e>>2],l=(0|a)<0,i=(0|r[e+4>>2])-(l?a:0)|0,s=(0|i)<0,o=(s?0-i|0:0)+((0|r[e+8>>2])-(l?a:0))|0,n=(0|o)<0,e=n?0:o,t=(s?0:i)-(n?o:0)|0,o=(l?0:a)-(s?i:0)-(n?o:0)|0,n=(0|t)<(0|o)?t:o,n=(0|e)<(0|n)?e:n,i=(0|n)>0,e=e-(i?n:0)|0,t=t-(i?n:0)|0;e:do{switch(o-(i?n:0)|0){case 0:switch(0|t){case 0:return l=0==(0|e)?0:1==(0|e)?1:7,0|l;case 1:return l=0==(0|e)?2:1==(0|e)?3:7,0|l;default:break e}case 1:switch(0|t){case 0:return l=0==(0|e)?4:1==(0|e)?5:7,0|l;case 1:if(e)break e;return e=6,0|e;default:break e}default:}}while(0);return l=7,0|l}function be(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;a=e+8|0,o=0|r[a>>2],s=(0|r[e>>2])-o|0,l=e+4|0,o=(0|r[l>>2])-o|0;do{if(s>>>0>715827881|o>>>0>715827881){if(n=(0|s)>0,n){if((2147483647-s|0)<(0|s))return l=1,0|l;if((2147483647-(s<<1)|0)<(0|s))return l=1,0|l}else{if((-2147483648-s|0)>(0|s))return l=1,0|l;if((-2147483648-(s<<1)|0)>(0|s))return l=1,0|l}if(t=3*s|0,(0|o)>0){if((2147483647-o|0)<(0|o))return l=1,0|l}else if((-2147483648-o|0)>(0|o))return l=1,0|l;if(i=o<<1,(0|s)>-1){if((-2147483648|t|0)>=(0|o))return l=1,0|l}else if((-2147483648^t|0)<(0|o))return l=1,0|l;if(n){if(!((2147483647-s|0)<(0|i))){n=i;break}return t=1,0|t}if(!((-2147483648-s|0)>(0|i))){n=i;break}return t=1,0|t}n=o<<1,t=3*s|0}while(0);i=0|$n(+(t-o|0)/7),r[e>>2]=i,o=0|$n(+(n+s|0)/7),r[l>>2]=o,r[a>>2]=0,n=(0|o)<(0|i),t=n?i:o,n=n?o:i;do{if((0|n)<0){if((0|t)>0){if((-2147483648|t|0)<(0|n)&-2147483648!=(0|n)&(2147483647-t|0)>=(0|n))break;E(23313,22444,355,22455)}if(-2147483648==(0|n)|(-2147483648-t|0)>(0|n)&&E(23313,22444,355,22455),(0|t)>-1){if((-2147483648|t|0)<(0|n))break;E(23313,22444,355,22455)}else{if((-2147483648^t|0)>=(0|n))break;E(23313,22444,355,22455)}}}while(0);return t=o-i|0,(0|i)<0?(n=0-i|0,r[l>>2]=t,r[a>>2]=n,r[e>>2]=0,i=0):(t=o,n=0),(0|t)<0&&(i=i-t|0,r[e>>2]=i,n=n-t|0,r[a>>2]=n,r[l>>2]=0,t=0),s=i-n|0,o=t-n|0,(0|n)<0?(r[e>>2]=s,r[l>>2]=o,r[a>>2]=0,t=o,o=s,n=0):o=i,i=(0|t)<(0|o)?t:o,i=(0|n)<(0|i)?n:i,(0|i)<=0?(l=0,0|l):(r[e>>2]=o-i,r[l>>2]=t-i,r[a>>2]=n-i,l=0,0|l)}function _e(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;a=e+8|0,o=0|r[a>>2],s=(0|r[e>>2])-o|0,l=e+4|0,o=(0|r[l>>2])-o|0;do{if(s>>>0>715827881|o>>>0>715827881){if(n=(0|s)>0,n){if((2147483647-s|0)<(0|s))return l=1,0|l}else if((-2147483648-s|0)>(0|s))return l=1,0|l;if(t=s<<1,(0|o)>0){if((2147483647-o|0)<(0|o))return l=1,0|l;if((2147483647-(o<<1)|0)<(0|o))return l=1,0|l}else{if((-2147483648-o|0)>(0|o))return l=1,0|l;if((-2147483648-(o<<1)|0)>(0|o))return l=1,0|l}if(i=3*o|0,n){if((2147483647-t|0)<(0|o))return l=1,0|l}else if((-2147483648-t|0)>(0|o))return l=1,0|l;if((0|o)>-1){if((-2147483648|i|0)<(0|s)){n=i;break}return t=1,0|t}if(!((-2147483648^i|0)<(0|s))){n=i;break}return t=1,0|t}n=3*o|0,t=s<<1}while(0);i=0|$n(+(t+o|0)/7),r[e>>2]=i,o=0|$n(+(n-s|0)/7),r[l>>2]=o,r[a>>2]=0,n=(0|o)<(0|i),t=n?i:o,n=n?o:i;do{if((0|n)<0){if((0|t)>0){if((-2147483648|t|0)<(0|n)&-2147483648!=(0|n)&(2147483647-t|0)>=(0|n))break;E(23313,22444,404,22469)}if(-2147483648==(0|n)|(-2147483648-t|0)>(0|n)&&E(23313,22444,404,22469),(0|t)>-1){if((-2147483648|t|0)<(0|n))break;E(23313,22444,404,22469)}else{if((-2147483648^t|0)>=(0|n))break;E(23313,22444,404,22469)}}}while(0);return t=o-i|0,(0|i)<0?(n=0-i|0,r[l>>2]=t,r[a>>2]=n,r[e>>2]=0,i=0):(t=o,n=0),(0|t)<0&&(i=i-t|0,r[e>>2]=i,n=n-t|0,r[a>>2]=n,r[l>>2]=0,t=0),s=i-n|0,o=t-n|0,(0|n)<0?(r[e>>2]=s,r[l>>2]=o,r[a>>2]=0,t=o,o=s,n=0):o=i,i=(0|t)<(0|o)?t:o,i=(0|n)<(0|i)?n:i,(0|i)<=0?(l=0,0|l):(r[e>>2]=o-i,r[l>>2]=t-i,r[a>>2]=n-i,l=0,0|l)}function we(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;a=e+8|0,n=0|r[a>>2],t=(0|r[e>>2])-n|0,l=e+4|0,n=(0|r[l>>2])-n|0,i=0|$n(+((3*t|0)-n|0)/7),r[e>>2]=i,t=0|$n(+((n<<1)+t|0)/7),r[l>>2]=t,r[a>>2]=0,n=t-i|0,(0|i)<0?(s=0-i|0,r[l>>2]=n,r[a>>2]=s,r[e>>2]=0,t=n,i=0,n=s):n=0,(0|t)<0&&(i=i-t|0,r[e>>2]=i,n=n-t|0,r[a>>2]=n,r[l>>2]=0,t=0),s=i-n|0,o=t-n|0,(0|n)<0?(r[e>>2]=s,r[l>>2]=o,r[a>>2]=0,t=o,o=s,n=0):o=i,i=(0|t)<(0|o)?t:o,i=(0|n)<(0|i)?n:i,(0|i)<=0||(r[e>>2]=o-i,r[l>>2]=t-i,r[a>>2]=n-i)}function xe(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;a=e+8|0,n=0|r[a>>2],t=(0|r[e>>2])-n|0,l=e+4|0,n=(0|r[l>>2])-n|0,i=0|$n(+((t<<1)+n|0)/7),r[e>>2]=i,t=0|$n(+((3*n|0)-t|0)/7),r[l>>2]=t,r[a>>2]=0,n=t-i|0,(0|i)<0?(s=0-i|0,r[l>>2]=n,r[a>>2]=s,r[e>>2]=0,t=n,i=0,n=s):n=0,(0|t)<0&&(i=i-t|0,r[e>>2]=i,n=n-t|0,r[a>>2]=n,r[l>>2]=0,t=0),s=i-n|0,o=t-n|0,(0|n)<0?(r[e>>2]=s,r[l>>2]=o,r[a>>2]=0,t=o,o=s,n=0):o=i,i=(0|t)<(0|o)?t:o,i=(0|n)<(0|i)?n:i,(0|i)<=0||(r[e>>2]=o-i,r[l>>2]=t-i,r[a>>2]=n-i)}function Se(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;t=0|r[e>>2],a=e+4|0,n=0|r[a>>2],l=e+8|0,i=0|r[l>>2],o=n+(3*t|0)|0,r[e>>2]=o,n=i+(3*n|0)|0,r[a>>2]=n,t=(3*i|0)+t|0,r[l>>2]=t,i=n-o|0,(0|o)<0?(t=t-o|0,r[a>>2]=i,r[l>>2]=t,r[e>>2]=0,n=i,i=0):i=o,(0|n)<0&&(i=i-n|0,r[e>>2]=i,t=t-n|0,r[l>>2]=t,r[a>>2]=0,n=0),s=i-t|0,o=n-t|0,(0|t)<0?(r[e>>2]=s,r[a>>2]=o,r[l>>2]=0,i=s,t=0):o=n,n=(0|o)<(0|i)?o:i,n=(0|t)<(0|n)?t:n,(0|n)<=0||(r[e>>2]=i-n,r[a>>2]=o-n,r[l>>2]=t-n)}function Te(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;o=0|r[e>>2],a=e+4|0,t=0|r[a>>2],l=e+8|0,n=0|r[l>>2],i=(3*t|0)+o|0,o=n+(3*o|0)|0,r[e>>2]=o,r[a>>2]=i,t=(3*n|0)+t|0,r[l>>2]=t,n=i-o|0,(0|o)<0?(t=t-o|0,r[a>>2]=n,r[l>>2]=t,r[e>>2]=0,o=0):n=i,(0|n)<0&&(o=o-n|0,r[e>>2]=o,t=t-n|0,r[l>>2]=t,r[a>>2]=0,n=0),s=o-t|0,i=n-t|0,(0|t)<0?(r[e>>2]=s,r[a>>2]=i,r[l>>2]=0,o=s,t=0):i=n,n=(0|i)<(0|o)?i:o,n=(0|t)<(0|n)?t:n,(0|n)<=0||(r[e>>2]=o-n,r[a>>2]=i-n,r[l>>2]=t-n)}function Ee(e,t){e|=0,t|=0;var n=0,i=0,o=0,s=0,a=0,l=0;(t+-1|0)>>>0>=6||(o=(0|r[15440+(12*t|0)>>2])+(0|r[e>>2])|0,r[e>>2]=o,l=e+4|0,i=(0|r[15440+(12*t|0)+4>>2])+(0|r[l>>2])|0,r[l>>2]=i,a=e+8|0,t=(0|r[15440+(12*t|0)+8>>2])+(0|r[a>>2])|0,r[a>>2]=t,n=i-o|0,(0|o)<0?(t=t-o|0,r[l>>2]=n,r[a>>2]=t,r[e>>2]=0,i=0):(n=i,i=o),(0|n)<0&&(i=i-n|0,r[e>>2]=i,t=t-n|0,r[a>>2]=t,r[l>>2]=0,n=0),s=i-t|0,o=n-t|0,(0|t)<0?(r[e>>2]=s,r[l>>2]=o,r[a>>2]=0,i=s,t=0):o=n,n=(0|o)<(0|i)?o:i,n=(0|t)<(0|n)?t:n,(0|n)<=0||(r[e>>2]=i-n,r[l>>2]=o-n,r[a>>2]=t-n))}function Me(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;o=0|r[e>>2],a=e+4|0,t=0|r[a>>2],l=e+8|0,n=0|r[l>>2],i=t+o|0,o=n+o|0,r[e>>2]=o,r[a>>2]=i,t=n+t|0,r[l>>2]=t,n=i-o|0,(0|o)<0?(t=t-o|0,r[a>>2]=n,r[l>>2]=t,r[e>>2]=0,i=0):(n=i,i=o),(0|n)<0&&(i=i-n|0,r[e>>2]=i,t=t-n|0,r[l>>2]=t,r[a>>2]=0,n=0),s=i-t|0,o=n-t|0,(0|t)<0?(r[e>>2]=s,r[a>>2]=o,r[l>>2]=0,i=s,t=0):o=n,n=(0|o)<(0|i)?o:i,n=(0|t)<(0|n)?t:n,(0|n)<=0||(r[e>>2]=i-n,r[a>>2]=o-n,r[l>>2]=t-n)}function Ce(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;t=0|r[e>>2],a=e+4|0,i=0|r[a>>2],l=e+8|0,n=0|r[l>>2],o=i+t|0,r[e>>2]=o,i=n+i|0,r[a>>2]=i,t=n+t|0,r[l>>2]=t,n=i-o|0,(0|o)<0?(t=t-o|0,r[a>>2]=n,r[l>>2]=t,r[e>>2]=0,i=0):(n=i,i=o),(0|n)<0&&(i=i-n|0,r[e>>2]=i,t=t-n|0,r[l>>2]=t,r[a>>2]=0,n=0),s=i-t|0,o=n-t|0,(0|t)<0?(r[e>>2]=s,r[a>>2]=o,r[l>>2]=0,i=s,t=0):o=n,n=(0|o)<(0|i)?o:i,n=(0|t)<(0|n)?t:n,(0|n)<=0||(r[e>>2]=i-n,r[a>>2]=o-n,r[l>>2]=t-n)}function Oe(e){switch(e|=0,0|e){case 1:e=5;break;case 5:e=4;break;case 4:e=6;break;case 6:e=2;break;case 2:e=3;break;case 3:e=1;break;default:}return 0|e}function ke(e){switch(e|=0,0|e){case 1:e=3;break;case 3:e=2;break;case 2:e=6;break;case 6:e=4;break;case 4:e=5;break;case 5:e=1;break;default:}return 0|e}function Pe(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;t=0|r[e>>2],a=e+4|0,n=0|r[a>>2],l=e+8|0,i=0|r[l>>2],o=n+(t<<1)|0,r[e>>2]=o,n=i+(n<<1)|0,r[a>>2]=n,t=(i<<1)+t|0,r[l>>2]=t,i=n-o|0,(0|o)<0?(t=t-o|0,r[a>>2]=i,r[l>>2]=t,r[e>>2]=0,n=i,i=0):i=o,(0|n)<0&&(i=i-n|0,r[e>>2]=i,t=t-n|0,r[l>>2]=t,r[a>>2]=0,n=0),s=i-t|0,o=n-t|0,(0|t)<0?(r[e>>2]=s,r[a>>2]=o,r[l>>2]=0,i=s,t=0):o=n,n=(0|o)<(0|i)?o:i,n=(0|t)<(0|n)?t:n,(0|n)<=0||(r[e>>2]=i-n,r[a>>2]=o-n,r[l>>2]=t-n)}function Ie(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;o=0|r[e>>2],a=e+4|0,t=0|r[a>>2],l=e+8|0,n=0|r[l>>2],i=(t<<1)+o|0,o=n+(o<<1)|0,r[e>>2]=o,r[a>>2]=i,t=(n<<1)+t|0,r[l>>2]=t,n=i-o|0,(0|o)<0?(t=t-o|0,r[a>>2]=n,r[l>>2]=t,r[e>>2]=0,o=0):n=i,(0|n)<0&&(o=o-n|0,r[e>>2]=o,t=t-n|0,r[l>>2]=t,r[a>>2]=0,n=0),s=o-t|0,i=n-t|0,(0|t)<0?(r[e>>2]=s,r[a>>2]=i,r[l>>2]=0,o=s,t=0):i=n,n=(0|i)<(0|o)?i:o,n=(0|t)<(0|n)?t:n,(0|n)<=0||(r[e>>2]=o-n,r[a>>2]=i-n,r[l>>2]=t-n)}function Re(e,t){e|=0,t|=0;var n=0,i=0,o=0,s=0,a=0,l=0;return a=(0|r[e>>2])-(0|r[t>>2])|0,l=(0|a)<0,i=(0|r[e+4>>2])-(0|r[t+4>>2])-(l?a:0)|0,s=(0|i)<0,o=(l?0-a|0:0)+(0|r[e+8>>2])-(0|r[t+8>>2])+(s?0-i|0:0)|0,e=(0|o)<0,t=e?0:o,n=(s?0:i)-(e?o:0)|0,o=(l?0:a)-(s?i:0)-(e?o:0)|0,e=(0|n)<(0|o)?n:o,e=(0|t)<(0|e)?t:e,i=(0|e)>0,t=t-(i?e:0)|0,n=n-(i?e:0)|0,e=o-(i?e:0)|0,e=(0|e)>-1?e:0-e|0,n=(0|n)>-1?n:0-n|0,t=(0|t)>-1?t:0-t|0,t=(0|n)>(0|t)?n:t,0|((0|e)>(0|t)?e:t)}function De(e,t){e|=0,t|=0;var n=0;n=0|r[e+8>>2],r[t>>2]=(0|r[e>>2])-n,r[t+4>>2]=(0|r[e+4>>2])-n}function Le(e,t){e|=0,t|=0;var n=0,i=0,o=0,s=0,a=0,l=0;i=0|r[e>>2],r[t>>2]=i,o=0|r[e+4>>2],a=t+4|0,r[a>>2]=o,l=t+8|0,r[l>>2]=0,n=(0|o)<(0|i),e=n?i:o,n=n?o:i;do{if((0|n)<0){if((0|e)>0){if((-2147483648|e|0)<(0|n)&-2147483648!=(0|n)&(2147483647-e|0)>=(0|n))break;return e=1,0|e}if(-2147483648==(0|n)|(-2147483648-e|0)>(0|n))return t=1,0|t;if((0|e)>-1){if((-2147483648|e|0)<(0|n))break;return e=1,0|e}if(!((-2147483648^e|0)<(0|n)))break;return e=1,0|e}}while(0);return e=o-i|0,(0|i)<0?(n=0-i|0,r[a>>2]=e,r[l>>2]=n,r[t>>2]=0,i=0):(e=o,n=0),(0|e)<0&&(i=i-e|0,r[t>>2]=i,n=n-e|0,r[l>>2]=n,r[a>>2]=0,e=0),s=i-n|0,o=e-n|0,(0|n)<0?(r[t>>2]=s,r[a>>2]=o,r[l>>2]=0,e=o,o=s,n=0):o=i,i=(0|e)<(0|o)?e:o,i=(0|n)<(0|i)?n:i,(0|i)<=0?(t=0,0|t):(r[t>>2]=o-i,r[a>>2]=e-i,r[l>>2]=n-i,t=0,0|t)}function Ne(e){e|=0;var t=0,n=0,i=0,o=0;t=e+8|0,o=0|r[t>>2],n=o-(0|r[e>>2])|0,r[e>>2]=n,i=e+4|0,e=(0|r[i>>2])-o|0,r[i>>2]=e,r[t>>2]=0-(e+n)}function Be(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0;n=0|r[e>>2],t=0-n|0,r[e>>2]=t,a=e+8|0,r[a>>2]=0,l=e+4|0,i=0|r[l>>2],o=i+n|0,(0|n)>0?(r[l>>2]=o,r[a>>2]=n,r[e>>2]=0,t=0,i=o):n=0,(0|i)<0?(s=t-i|0,r[e>>2]=s,n=n-i|0,r[a>>2]=n,r[l>>2]=0,o=s-n|0,t=0-n|0,(0|n)<0?(r[e>>2]=o,r[l>>2]=t,r[a>>2]=0,i=t,n=0):(i=0,o=s)):o=t,t=(0|i)<(0|o)?i:o,t=(0|n)<(0|t)?n:t,(0|t)<=0||(r[e>>2]=o-t,r[l>>2]=i-t,r[a>>2]=n-t)}function Fe(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0,u=0,h=0,d=0;if(d=I,I=I+64|0,h=d,l=d+56|0,!(!0&134217728==(2013265920&t|0)&!0&134217728==(2013265920&i|0)))return o=5,I=d,0|o;if((0|e)==(0|n)&(0|t)==(0|i))return r[o>>2]=0,o=0,I=d,0|o;if(a=0|ai(0|e,0|t,52),T(),a&=15,u=0|ai(0|n,0|i,52),T(),(0|a)!=(15&u|0))return o=12,I=d,0|o;if(s=a+-1|0,a>>>0>1){st(e,t,s,h),st(n,i,s,l),u=h,c=0|r[u>>2],u=0|r[u+4>>2];e:do{if((0|c)==(0|r[l>>2])&&(0|u)==(0|r[l+4>>2])){a=3*(15^a)|0,s=0|ai(0|e,0|t,0|a),T(),s&=7,a=0|ai(0|n,0|i,0|a),T(),a&=7;do{if(0==(0|s)|0==(0|a))r[o>>2]=1,s=0;else if(7==(0|s))s=5;else{if(1==(0|s)|1==(0|a)&&0|lt(c,u)){s=5;break}if((0|r[15536+(s<<2)>>2])!=(0|a)&&(0|r[15568+(s<<2)>>2])!=(0|a))break e;r[o>>2]=1,s=0}}while(0);return o=s,I=d,0|o}}while(0)}s=h,a=s+56|0;do{r[s>>2]=0,s=s+4|0}while((0|s)<(0|a));return j(e,t,1,h),t=h,(0|r[t>>2])==(0|n)&&(0|r[t+4>>2])==(0|i)||(t=h+8|0,(0|r[t>>2])==(0|n)&&(0|r[t+4>>2])==(0|i))||(t=h+16|0,(0|r[t>>2])==(0|n)&&(0|r[t+4>>2])==(0|i))||(t=h+24|0,(0|r[t>>2])==(0|n)&&(0|r[t+4>>2])==(0|i))||(t=h+32|0,(0|r[t>>2])==(0|n)&&(0|r[t+4>>2])==(0|i))||(t=h+40|0,(0|r[t>>2])==(0|n)&&(0|r[t+4>>2])==(0|i))?s=1:(s=h+48|0,s=1&((0|r[s>>2])==(0|n)?(0|r[s+4>>2])==(0|i):0)),r[o>>2]=s,o=0,I=d,0|o}function je(e,t,n,i,o){return e|=0,t|=0,n|=0,i|=0,o|=0,n=0|H(e,t,n,i),7==(0|n)?(o=11,0|o):(i=0|li(0|n,0,56),t=-2130706433&t|0|T()|268435456,r[o>>2]=e|i,r[o+4>>2]=t,o=0,0|o)}function Ue(e,t,n){return e|=0,t|=0,n|=0,!0&268435456==(2013265920&t|0)?(r[n>>2]=e,r[n+4>>2]=-2130706433&t|134217728,n=0,0|n):(n=6,0|n)}function ze(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0;return o=I,I=I+16|0,i=o,r[i>>2]=0,!0&268435456==(2013265920&t|0)?(s=0|ai(0|e,0|t,56),T(),i=0|V(e,-2130706433&t|134217728,7&s,i,n),I=o,0|i):(i=6,I=o,0|i)}function qe(e,t){e|=0,t|=0;var n=0;switch(n=0|ai(0|e,0|t,56),T(),7&n){case 0:case 7:return n=0,0|n;default:}return n=-2130706433&t|134217728,!0&268435456==(2013265920&t|0)?!0&16777216==(117440512&t|0)&0!=(0|lt(e,n))?(n=0,0|n):(n=0|ot(e,n),0|n):(n=0,0|n)}function Ve(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0;return o=I,I=I+16|0,i=o,!0&268435456==(2013265920&t|0)?(s=-2130706433&t|134217728,a=n,r[a>>2]=e,r[a+4>>2]=s,r[i>>2]=0,t=0|ai(0|e,0|t,56),T(),i=0|V(e,s,7&t,i,n+8|0),I=o,0|i):(i=6,I=o,0|i)}function He(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0;return o=0==(0|lt(e,t)),t&=-2130706433,i=n,r[i>>2]=o?e:0,r[i+4>>2]=o?285212672|t:0,i=n+8|0,r[i>>2]=e,r[i+4>>2]=301989888|t,i=n+16|0,r[i>>2]=e,r[i+4>>2]=318767104|t,i=n+24|0,r[i>>2]=e,r[i+4>>2]=335544320|t,i=n+32|0,r[i>>2]=e,r[i+4>>2]=352321536|t,n=n+40|0,r[n>>2]=e,r[n+4>>2]=369098752|t,0}function Ge(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0;return a=I,I=I+16|0,o=a,s=-2130706433&t|134217728,!0&268435456==(2013265920&t|0)?(i=0|ai(0|e,0|t,56),T(),i=0|In(e,s,7&i),-1==(0|i)?(r[n>>2]=0,s=6,I=a,0|s):(0|Tt(e,s,o)&&E(23313,22484,282,22499),t=0|ai(0|e,0|t,52),T(),t&=15,0|lt(e,s)?Qe(o,t,i,2,n):tt(o,t,i,2,n),s=0,I=a,0|s)):(s=6,I=a,0|s)}function We(e,t,n){e|=0,t|=0,n|=0;var i=0,r=0;i=I,I=I+16|0,r=i,$e(e,t,n,r),fe(r,n+4|0),I=i}function $e(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var s=0,a=0,l=0,c=0,u=0;if(c=I,I=I+16|0,u=c,Xe(e,n,u),a=+m(+(1-.5*+o[u>>3])),a<1e-16)return r[i>>2]=0,r[i+4>>2]=0,r[i+8>>2]=0,r[i+12>>2]=0,void(I=c);if(u=0|r[n>>2],s=+o[15920+(24*u|0)>>3],s=+Nt(s-+Nt(+zt(15600+(u<<4)|0,e))),l=0|wt(t)?+Nt(s+-.3334731722518321):s,s=+p(+a)/.381966011250105,(0|t)>0){e=0;do{s*=2.6457513110645907,e=e+1|0}while((0|e)!=(0|t))}a=+d(+l)*s,o[i>>3]=a,l=+f(+l)*s,o[i+8>>3]=l,I=c}function Xe(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0;a=I,I=I+32|0,s=a,Pn(e,s),r[t>>2]=0,o[n>>3]=5,i=+kn(16400,s),i<+o[n>>3]&&(r[t>>2]=0,o[n>>3]=i),i=+kn(16424,s),i<+o[n>>3]&&(r[t>>2]=1,o[n>>3]=i),i=+kn(16448,s),i<+o[n>>3]&&(r[t>>2]=2,o[n>>3]=i),i=+kn(16472,s),i<+o[n>>3]&&(r[t>>2]=3,o[n>>3]=i),i=+kn(16496,s),i<+o[n>>3]&&(r[t>>2]=4,o[n>>3]=i),i=+kn(16520,s),i<+o[n>>3]&&(r[t>>2]=5,o[n>>3]=i),i=+kn(16544,s),i<+o[n>>3]&&(r[t>>2]=6,o[n>>3]=i),i=+kn(16568,s),i<+o[n>>3]&&(r[t>>2]=7,o[n>>3]=i),i=+kn(16592,s),i<+o[n>>3]&&(r[t>>2]=8,o[n>>3]=i),i=+kn(16616,s),i<+o[n>>3]&&(r[t>>2]=9,o[n>>3]=i),i=+kn(16640,s),i<+o[n>>3]&&(r[t>>2]=10,o[n>>3]=i),i=+kn(16664,s),i<+o[n>>3]&&(r[t>>2]=11,o[n>>3]=i),i=+kn(16688,s),i<+o[n>>3]&&(r[t>>2]=12,o[n>>3]=i),i=+kn(16712,s),i<+o[n>>3]&&(r[t>>2]=13,o[n>>3]=i),i=+kn(16736,s),i<+o[n>>3]&&(r[t>>2]=14,o[n>>3]=i),i=+kn(16760,s),i<+o[n>>3]&&(r[t>>2]=15,o[n>>3]=i),i=+kn(16784,s),i<+o[n>>3]&&(r[t>>2]=16,o[n>>3]=i),i=+kn(16808,s),i<+o[n>>3]&&(r[t>>2]=17,o[n>>3]=i),i=+kn(16832,s),i<+o[n>>3]&&(r[t>>2]=18,o[n>>3]=i),i=+kn(16856,s),i<+o[n>>3]?(r[t>>2]=19,o[n>>3]=i,I=a):I=a}function Ye(e,t,n,i,s){e|=0,t|=0,n|=0,i|=0,s|=0;var a=0,l=0;if(a=+Mn(e),a<1e-16)return t=15600+(t<<4)|0,r[s>>2]=r[t>>2],r[s+4>>2]=r[t+4>>2],r[s+8>>2]=r[t+8>>2],void(r[s+12>>2]=r[t+12>>2]);if(l=+y(+ +o[e+8>>3],+ +o[e>>3]),(0|n)>0){e=0;do{a/=2.6457513110645907,e=e+1|0}while((0|e)!=(0|n))}i?(a/=3,n=0==(0|wt(n)),a=+A(.381966011250105*(n?a:a/2.6457513110645907))):(a=+A(.381966011250105*a),0|wt(n)&&(l=+Nt(l+.3334731722518321))),qt(15600+(t<<4)|0,+Nt(+o[15920+(24*t|0)>>3]-l),a,s)}function Ke(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0;i=I,I=I+16|0,o=i,me(e+4|0,o),Ye(o,0|r[e>>2],t,0,n),I=i}function Qe(e,t,n,i,s){e|=0,t|=0,n|=0,i|=0,s|=0;var a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,T=0,M=0,C=0,O=0,k=0,P=0,R=0,D=0,L=0,N=0;if(D=I,I=I+272|0,a=D+256|0,b=D+240|0,k=D,P=D+224|0,R=D+208|0,_=D+176|0,w=D+160|0,x=D+192|0,S=D+144|0,T=D+128|0,M=D+112|0,C=D+96|0,O=D+80|0,r[a>>2]=t,r[b>>2]=r[e>>2],r[b+4>>2]=r[e+4>>2],r[b+8>>2]=r[e+8>>2],r[b+12>>2]=r[e+12>>2],Je(b,a,k),r[s>>2]=0,b=i+n+(5==(0|i)&1)|0,(0|b)<=(0|n))I=D;else{u=0|r[a>>2],h=P+4|0,d=_+4|0,f=n+5|0,p=16880+(u<<2)|0,m=16960+(u<<2)|0,g=T+8|0,A=M+8|0,y=C+8|0,v=R+4|0,c=n;e:while(1){l=k+(((0|c)%5|0)<<4)|0,r[R>>2]=r[l>>2],r[R+4>>2]=r[l+4>>2],r[R+8>>2]=r[l+8>>2],r[R+12>>2]=r[l+12>>2];do{}while(2==(0|Ze(R,u,0,1)));if((0|c)>(0|n)&0!=(0|wt(t))){if(r[_>>2]=r[R>>2],r[_+4>>2]=r[R+4>>2],r[_+8>>2]=r[R+8>>2],r[_+12>>2]=r[R+12>>2],me(h,w),i=0|r[_>>2],a=0|r[17040+(80*i|0)+(r[P>>2]<<2)>>2],r[_>>2]=r[18640+(80*i|0)+(20*a|0)>>2],l=0|r[18640+(80*i|0)+(20*a|0)+16>>2],(0|l)>0){e=0;do{Me(d),e=e+1|0}while((0|e)<(0|l))}switch(l=18640+(80*i|0)+(20*a|0)+4|0,r[x>>2]=r[l>>2],r[x+4>>2]=r[l+4>>2],r[x+8>>2]=r[l+8>>2],ye(x,3*(0|r[p>>2])|0),ge(d,x,d),pe(d),me(d,S),L=+(0|r[m>>2]),o[T>>3]=3*L,o[g>>3]=0,N=-1.5*L,o[M>>3]=N,o[A>>3]=2.598076211353316*L,o[C>>3]=N,o[y>>3]=-2.598076211353316*L,0|r[17040+(80*(0|r[_>>2])|0)+(r[R>>2]<<2)>>2]){case 1:e=M,i=T;break;case 3:e=C,i=M;break;case 2:e=T,i=C;break;default:e=12;break e}Cn(w,S,i,e,O),Ye(O,0|r[_>>2],u,1,s+8+(r[s>>2]<<4)|0),r[s>>2]=1+(0|r[s>>2])}if((0|c)<(0|f)&&(me(v,_),Ye(_,0|r[R>>2],u,1,s+8+(r[s>>2]<<4)|0),r[s>>2]=1+(0|r[s>>2])),r[P>>2]=r[R>>2],r[P+4>>2]=r[R+4>>2],r[P+8>>2]=r[R+8>>2],r[P+12>>2]=r[R+12>>2],c=c+1|0,(0|c)>=(0|b)){e=3;break}}3!=(0|e)?12==(0|e)&&E(22522,22569,571,22579):I=D}}function Je(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0,l=0,c=0;c=I,I=I+128|0,i=c+64|0,o=c,s=i,a=20240,l=s+60|0;do{r[s>>2]=r[a>>2],s=s+4|0,a=a+4|0}while((0|s)<(0|l));s=o,a=20304,l=s+60|0;do{r[s>>2]=r[a>>2],s=s+4|0,a=a+4|0}while((0|s)<(0|l));l=0==(0|wt(0|r[t>>2])),i=l?i:o,o=e+4|0,Pe(o),Ie(o),0|wt(0|r[t>>2])&&(Te(o),r[t>>2]=1+(0|r[t>>2])),r[n>>2]=r[e>>2],t=n+4|0,ge(o,i,t),pe(t),r[n+16>>2]=r[e>>2],t=n+20|0,ge(o,i+12|0,t),pe(t),r[n+32>>2]=r[e>>2],t=n+36|0,ge(o,i+24|0,t),pe(t),r[n+48>>2]=r[e>>2],t=n+52|0,ge(o,i+36|0,t),pe(t),r[n+64>>2]=r[e>>2],n=n+68|0,ge(o,i+48|0,n),pe(n),I=c}function Ze(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0;if(m=I,I=I+32|0,f=m+12|0,l=m,p=e+4|0,d=0|r[16960+(t<<2)>>2],h=0!=(0|i),d=h?3*d|0:d,o=0|r[p>>2],u=e+8|0,a=0|r[u>>2],h){if(s=e+12|0,i=0|r[s>>2],o=a+o+i|0,(0|o)==(0|d))return p=1,I=m,0|p;c=s}else c=e+12|0,i=0|r[c>>2],o=a+o+i|0;if((0|o)<=(0|d))return p=0,I=m,0|p;do{if((0|i)>0){if(i=0|r[e>>2],(0|a)>0){s=18640+(80*i|0)+60|0,i=e;break}i=18640+(80*i|0)+40|0,n?(de(f,d,0,0),Ae(p,f,l),Ce(l),ge(l,f,p),s=i,i=e):(s=i,i=e)}else s=18640+(80*(0|r[e>>2])|0)+20|0,i=e}while(0);if(r[i>>2]=r[s>>2],o=s+16|0,(0|r[o>>2])>0){i=0;do{Me(p),i=i+1|0}while((0|i)<(0|r[o>>2]))}return e=s+4|0,r[f>>2]=r[e>>2],r[f+4>>2]=r[e+4>>2],r[f+8>>2]=r[e+8>>2],t=0|r[16880+(t<<2)>>2],ye(f,h?3*t|0:t),ge(p,f,p),pe(p),i=h&&((0|r[u>>2])+(0|r[p>>2])+(0|r[c>>2])|0)==(0|d)?1:2,p=i,I=m,0|p}function et(e,t){e|=0,t|=0;var n=0;do{n=0|Ze(e,t,0,1)}while(2==(0|n));return 0|n}function tt(e,t,n,i,s){e|=0,t|=0,n|=0,i|=0,s|=0;var a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,T=0,M=0,C=0,O=0,k=0;if(C=I,I=I+240|0,a=C+224|0,x=C+208|0,S=C,T=C+192|0,M=C+176|0,y=C+160|0,v=C+144|0,b=C+128|0,_=C+112|0,w=C+96|0,r[a>>2]=t,r[x>>2]=r[e>>2],r[x+4>>2]=r[e+4>>2],r[x+8>>2]=r[e+8>>2],r[x+12>>2]=r[e+12>>2],nt(x,a,S),r[s>>2]=0,A=i+n+(6==(0|i)&1)|0,(0|A)<=(0|n))I=C;else{u=0|r[a>>2],h=n+6|0,d=16960+(u<<2)|0,f=v+8|0,p=b+8|0,m=_+8|0,g=T+4|0,l=0,c=n,i=-1;e:while(1){if(a=(0|c)%6|0,e=S+(a<<4)|0,r[T>>2]=r[e>>2],r[T+4>>2]=r[e+4>>2],r[T+8>>2]=r[e+8>>2],r[T+12>>2]=r[e+12>>2],e=l,l=0|Ze(T,u,0,1),(0|c)>(0|n)&0!=(0|wt(t))&&(1!=(0|e)&&(0|r[T>>2])!=(0|i))){switch(me(S+(((a+5|0)%6|0)<<4)+4|0,M),me(S+(a<<4)+4|0,y),O=+(0|r[d>>2]),o[v>>3]=3*O,o[f>>3]=0,k=-1.5*O,o[b>>3]=k,o[p>>3]=2.598076211353316*O,o[_>>3]=k,o[m>>3]=-2.598076211353316*O,a=0|r[x>>2],0|r[17040+(80*a|0)+(((0|i)==(0|a)?0|r[T>>2]:i)<<2)>>2]){case 1:e=b,i=v;break;case 3:e=_,i=b;break;case 2:e=v,i=_;break;default:e=8;break e}Cn(M,y,i,e,w),0|On(M,w)||0|On(y,w)||(Ye(w,0|r[x>>2],u,1,s+8+(r[s>>2]<<4)|0),r[s>>2]=1+(0|r[s>>2]))}if((0|c)<(0|h)&&(me(g,M),Ye(M,0|r[T>>2],u,1,s+8+(r[s>>2]<<4)|0),r[s>>2]=1+(0|r[s>>2])),c=c+1|0,(0|c)>=(0|A)){e=3;break}i=0|r[T>>2]}3!=(0|e)?8==(0|e)&&E(22606,22569,736,22651):I=C}}function nt(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0,l=0,c=0;c=I,I=I+160|0,i=c+80|0,o=c,s=i,a=20368,l=s+72|0;do{r[s>>2]=r[a>>2],s=s+4|0,a=a+4|0}while((0|s)<(0|l));s=o,a=20448,l=s+72|0;do{r[s>>2]=r[a>>2],s=s+4|0,a=a+4|0}while((0|s)<(0|l));l=0==(0|wt(0|r[t>>2])),i=l?i:o,o=e+4|0,Pe(o),Ie(o),0|wt(0|r[t>>2])&&(Te(o),r[t>>2]=1+(0|r[t>>2])),r[n>>2]=r[e>>2],t=n+4|0,ge(o,i,t),pe(t),r[n+16>>2]=r[e>>2],t=n+20|0,ge(o,i+12|0,t),pe(t),r[n+32>>2]=r[e>>2],t=n+36|0,ge(o,i+24|0,t),pe(t),r[n+48>>2]=r[e>>2],t=n+52|0,ge(o,i+36|0,t),pe(t),r[n+64>>2]=r[e>>2],t=n+68|0,ge(o,i+48|0,t),pe(t),r[n+80>>2]=r[e>>2],n=n+84|0,ge(o,i+60|0,n),pe(n),I=c}function it(e,t){return e|=0,t|=0,t=0|ai(0|e,0|t,52),T(),15&t|0}function rt(e,t){return e|=0,t|=0,t=0|ai(0|e,0|t,45),T(),127&t|0}function ot(e,t){e|=0,t|=0;var n=0,i=0,r=0,o=0,s=0,a=0;if(!(!0&134217728==(-16777216&t|0)))return t=0,0|t;if(s=0|ai(0|e,0|t,45),T(),s&=127,s>>>0>121)return t=0,0|t;n=0|ai(0|e,0|t,52),T(),n&=15;do{if(0|n){r=1,i=0;while(1){if(o=0|ai(0|e,0|t,3*(15-r|0)|0),T(),o&=7,0!=(0|o)&(1^i)){if(1==(0|o)&0!=(0|Q(s))){a=0,i=13;break}i=1}if(7==(0|o)){a=0,i=13;break}if(!(r>>>0<n>>>0)){i=9;break}r=r+1|0}if(9==(0|i)){if(15!=(0|n))break;return a=1,0|a}if(13==(0|i))return 0|a}}while(0);while(1){if(a=0|ai(0|e,0|t,3*(14-n|0)|0),T(),!(7==(7&a|0)&!0)){a=0,i=13;break}if(!(n>>>0<14)){a=1,i=13;break}n=n+1|0}return 13==(0|i)?0|a:0}function st(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0;if(s=0|ai(0|e,0|t,52),T(),s&=15,n>>>0>15)return i=4,0|i;if((0|s)<(0|n))return i=12,0|i;if((0|s)==(0|n))return r[i>>2]=e,r[i+4>>2]=t,i=0,0|i;if(o=0|li(0|n,0,52),o|=e,e=0|T()|-15728641&t,(0|s)>(0|n))do{t=0|li(7,0,3*(14-n|0)|0),n=n+1|0,o|=t,e=0|T()|e}while((0|n)<(0|s));return r[i>>2]=o,r[i+4>>2]=e,i=0,0|i}function at(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0;if(s=0|ai(0|e,0|t,52),T(),s&=15,!((0|n)<16&(0|s)<=(0|n)))return i=4,0|i;o=n-s|0,n=0|ai(0|e,0|t,45),T();e:do{if(0|Q(127&n)){t:do{if(0|s){n=1;while(1){if(a=0|li(7,0,3*(15-n|0)|0),!(0==(a&e|0)&0==((0|T())&t|0)))break;if(!(n>>>0<s>>>0))break t;n=n+1|0}n=0|pn(7,0,o,((0|o)<0)<<31>>31),o=0|T();break e}}while(0);n=0|pn(7,0,o,((0|o)<0)<<31>>31),n=0|ii(0|n,0|T(),5,0),n=0|Qn(0|n,0|T(),-5,-1),n=0|ti(0|n,0|T(),6,0),n=0|Qn(0|n,0|T(),1,0),o=0|T()}else n=0|pn(7,0,o,((0|o)<0)<<31>>31),o=0|T()}while(0);return a=i,r[a>>2]=n,r[a+4>>2]=o,a=0,0|a}function lt(e,t){e|=0,t|=0;var n=0,i=0,r=0;if(r=0|ai(0|e,0|t,45),T(),!(0|Q(127&r)))return r=0,0|r;r=0|ai(0|e,0|t,52),T(),r&=15;e:do{if(r){i=1;while(1){if(n=0|ai(0|e,0|t,3*(15-i|0)|0),T(),n&=7,0|n)break e;if(!(i>>>0<r>>>0)){n=0;break}i=i+1|0}}else n=0}while(0);return r=0==(0|n)&1,0|r}function ct(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0;if(a=I,I=I+16|0,s=a,Dt(s,e,t,n),t=s,e=0|r[t>>2],t=0|r[t+4>>2],0==(0|e)&0==(0|t))return I=a,0;o=0,n=0;do{l=i+(o<<3)|0,r[l>>2]=e,r[l+4>>2]=t,o=0|Qn(0|o,0|n,1,0),n=0|T(),Lt(s),l=s,e=0|r[l>>2],t=0|r[l+4>>2]}while(!(0==(0|e)&0==(0|t)));return I=a,0}function ut(e,t,n,i){return e|=0,t|=0,n|=0,i|=0,(0|i)<(0|n)?(n=t,i=e,S(0|n),0|i):(n=0|li(-1,-1,3+(3*(i-n|0)|0)|0),i=0|li(0|~n,0|~(0|T()),3*(15-i|0)|0),n=~(0|T())&t,i=~i&e,S(0|n),0|i)}function ht(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0;return o=0|ai(0|e,0|t,52),T(),o&=15,(0|n)<16&(0|o)<=(0|n)?((0|o)<(0|n)&&(o=0|li(-1,-1,3+(3*(n+-1-o|0)|0)|0),o=0|li(0|~o,0|~(0|T()),3*(15-n|0)|0),t=~(0|T())&t,e&=~o),o=0|li(0|n,0,52),n=-15728641&t|0|T(),r[i>>2]=e|o,r[i+4>>2]=n,i=0,0|i):(i=4,0|i)}function dt(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,M=0;if(0==(0|n)&0==(0|i))return S=0,0|S;if(o=e,s=0|r[o>>2],o=0|r[o+4>>2],!0&0==(15728640&o|0)){if(!((0|i)>0|0==(0|i)&n>>>0>0))return S=0,0|S;if(S=t,r[S>>2]=s,r[S+4>>2]=o,1==(0|n)&0==(0|i))return S=0,0|S;o=1;do{w=e+(o<<3)|0,x=0|r[w+4>>2],S=t+(o<<3)|0,r[S>>2]=r[w>>2],r[S+4>>2]=x,o=o+1|0}while(0<(0|i)|0==(0|i)&o>>>0<n>>>0);return o=0,0|o}if(_=n<<3,x=0|Xn(_),!x)return S=13,0|S;if(di(0|x,0|e,0|_),w=0|Kn(n,8),!w)return Yn(x),S=13,0|S;e:do{if(0|n){t:while(1){o=x,y=0|r[o>>2],o=0|r[o+4>>2],v=0|ai(0|y,0|o,52),T(),v&=15,b=v+-1|0,A=(0|n)>0;n:do{if(0!=(0|v)&A){if(p=((0|n)<0)<<31>>31,m=0|li(0|b,0,52),g=0|T(),b>>>0>15){if(!(0==(0|y)&0==(0|o))){S=17;break t}s=0;while(1){if(s=s+1|0,(0|s)>=(0|n))break n;if(i=x+(s<<3)|0,g=0|r[i>>2],i=0|r[i+4>>2],!(0==(0|g)&0==(0|i))){o=i,S=17;break t}}}s=0,e=y,i=o;while(1){if(!(0==(0|e)&0==(0|i))){if(!(!0&0==(117440512&i|0))){S=22;break t}if(l=0|ai(0|e,0|i,52),T(),l&=15,(0|l)<(0|b)){o=12,S=28;break t}if((0|l)!=(0|b)&&(e|=m,i=-15728641&i|g,l>>>0>=v>>>0)){a=b;do{f=0|li(7,0,3*(14-a|0)|0),a=a+1|0,e|=f,i=0|T()|i}while(a>>>0<l>>>0)}if(a=0|oi(0|e,0|i,0|n,0|p),T(),u=w+(a<<3)|0,l=u,c=0|r[l>>2],l=0|r[l+4>>2],0==(0|c)&0==(0|l))a=u;else{f=0;while(1){if((0|f)>(0|n)){S=32;break t}if((0|c)==(0|e)&(-117440513&l|0)==(0|i)){h=0|ai(0|c,0|l,56),T(),h&=7,d=h+1|0,M=0|ai(0|c,0|l,45),T();i:do{if(0|Q(127&M)){if(c=0|ai(0|c,0|l,52),T(),c&=15,!c){l=6;break}l=1;while(1){if(M=0|li(7,0,3*(15-l|0)|0),!(0==(M&e|0)&0==((0|T())&i|0))){l=7;break i}if(!(l>>>0<c>>>0)){l=6;break}l=l+1|0}}else l=7}while(0);if((h+2|0)>>>0>l>>>0){S=42;break t}M=0|li(0|d,0,56),i=0|T()|-117440513&i,d=u,r[d>>2]=0,r[d+4>>2]=0,e|=M}else a=(a+1|0)%(0|n)|0;if(u=w+(a<<3)|0,l=u,c=0|r[l>>2],l=0|r[l+4>>2],0==(0|c)&0==(0|l)){a=u;break}f=f+1|0}}M=a,r[M>>2]=e,r[M+4>>2]=i}if(s=s+1|0,(0|s)>=(0|n))break n;i=x+(s<<3)|0,e=0|r[i>>2],i=0|r[i+4>>2]}}}while(0);if((n+5|0)>>>0<11){S=85;break}if(g=0|Kn((0|n)/6|0,8),!g){S=49;break}n:do{if(A){f=0,d=0;do{if(l=w+(f<<3)|0,i=l,s=0|r[i>>2],i=0|r[i+4>>2],!(0==(0|s)&0==(0|i))){c=0|ai(0|s,0|i,56),T(),c&=7,e=c+1|0,u=-117440513&i,M=0|ai(0|s,0|i,45),T();i:do{if(0|Q(127&M)){if(h=0|ai(0|s,0|i,52),T(),h&=15,0|h){a=1;while(1){if(M=0|li(7,0,3*(15-a|0)|0),!(0==(s&M|0)&0==(u&(0|T())|0)))break i;if(!(a>>>0<h>>>0))break;a=a+1|0}}i=0|li(0|e,0,56),s|=i,i=0|T()|u,e=l,r[e>>2]=s,r[e+4>>2]=i,e=c+2|0}}while(0);7==(0|e)&&(M=g+(d<<3)|0,r[M>>2]=s,r[M+4>>2]=-117440513&i,d=d+1|0)}f=f+1|0}while((0|f)!=(0|n));if(A){if(f=((0|n)<0)<<31>>31,p=0|li(0|b,0,52),m=0|T(),b>>>0>15){if(!(0==(0|y)&0==(0|o))){o=4,S=84;break t}o=0;while(1){if(o=o+1|0,(0|o)>=(0|n)){s=0,o=d;break n}if(M=x+(o<<3)|0,!(0==(0|r[M>>2])&0==(0|r[M+4>>2]))){o=4,S=84;break t}}}h=0,s=0,u=y;while(1){do{if(!(0==(0|u)&0==(0|o))){if(l=0|ai(0|u,0|o,52),T(),l&=15,(0|l)<(0|b)){o=12,S=84;break t}do{if((0|l)==(0|b))i=u,l=o;else{if(i=u|p,e=-15728641&o|m,l>>>0<v>>>0){l=e;break}a=b;do{M=0|li(7,0,3*(14-a|0)|0),a=a+1|0,i|=M,e=0|T()|e}while(a>>>0<l>>>0);l=e}}while(0);a=0|oi(0|i,0|l,0|n,0|f),T(),e=0;while(1){if((0|e)>(0|n)){S=77;break t}if(M=w+(a<<3)|0,c=0|r[M+4>>2],(-117440513&c|0)==(0|l)&&(0|r[M>>2])==(0|i)){S=79;break}if(a=(a+1|0)%(0|n)|0,M=w+(a<<3)|0,(0|r[M>>2])==(0|i)&&(0|r[M+4>>2])==(0|l))break;e=e+1|0}if(79==(0|S)&&(S=0,!0&100663296==(117440512&c|0)))break;M=t+(s<<3)|0,r[M>>2]=u,r[M+4>>2]=o,s=s+1|0}}while(0);if(o=h+1|0,(0|o)>=(0|n)){o=d;break n}M=x+(o<<3)|0,h=o,u=0|r[M>>2],o=0|r[M+4>>2]}}else s=0,o=d}else s=0,o=0}while(0);if(fi(0|w,0,0|_),di(0|x,0|g,o<<3|0),Yn(g),!o)break e;t=t+(s<<3)|0,n=o}if(17==(0|S))!0&0==(117440512&o|0)?(o=4,S=28):S=22;else if(32==(0|S))E(23313,22674,362,22684);else{if(42==(0|S))return Yn(x),Yn(w),M=10,0|M;if(49==(0|S))return Yn(x),Yn(w),M=13,0|M;if(77==(0|S))E(23313,22674,462,22684);else{if(84==(0|S))return Yn(g),Yn(x),Yn(w),M=o,0|M;if(85==(0|S)){di(0|t,0|x,n<<3|0);break}}}if(22==(0|S))return Yn(x),Yn(w),M=5,0|M;if(28==(0|S))return Yn(x),Yn(w),M=o,0|M}}while(0);return Yn(x),Yn(w),M=0,0|M}function ft(e,t,n,i,o,s,a){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0,a|=0;var l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0;if(g=I,I=I+16|0,m=g,!((0|n)>0|0==(0|n)&t>>>0>0))return m=0,I=g,0|m;if((0|a)>=16)return m=12,I=g,0|m;f=0,p=0,d=0,l=0;e:while(1){if(u=e+(f<<3)|0,c=0|r[u>>2],u=0|r[u+4>>2],h=0|ai(0|c,0|u,52),T(),(15&h|0)>(0|a)){l=12,c=11;break}if(Dt(m,c,u,a),h=m,u=0|r[h>>2],h=0|r[h+4>>2],0==(0|u)&0==(0|h))c=d;else{c=d;do{if(!((0|l)<(0|s)|(0|l)==(0|s)&c>>>0<o>>>0)){c=10;break e}d=i+(c<<3)|0,r[d>>2]=u,r[d+4>>2]=h,c=0|Qn(0|c,0|l,1,0),l=0|T(),Lt(m),d=m,u=0|r[d>>2],h=0|r[d+4>>2]}while(!(0==(0|u)&0==(0|h)))}if(f=0|Qn(0|f,0|p,1,0),p=0|T(),!((0|p)<(0|n)|(0|p)==(0|n)&f>>>0<t>>>0)){l=0,c=11;break}d=c}return 10==(0|c)?(m=14,I=g,0|m):11==(0|c)?(I=g,0|l):0}function pt(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0;f=I,I=I+16|0,d=f;e:do{if((0|n)>0|0==(0|n)&t>>>0>0){u=0,a=0,s=0,h=0;while(1){if(c=e+(u<<3)|0,l=0|r[c>>2],c=0|r[c+4>>2],!(0==(0|l)&0==(0|c))&&(c=0==(0|at(l,c,i,d)),l=d,a=0|Qn(0|r[l>>2],0|r[l+4>>2],0|a,0|s),s=0|T(),!c)){s=12;break}if(u=0|Qn(0|u,0|h,1,0),h=0|T(),!((0|h)<(0|n)|(0|h)==(0|n)&u>>>0<t>>>0))break e}return I=f,0|s}a=0,s=0}while(0);return r[o>>2]=a,r[o+4>>2]=s,o=0,I=f,0|o}function mt(e,t){return e|=0,t|=0,t=0|ai(0|e,0|t,52),T(),1&t|0}function gt(e,t){e|=0,t|=0;var n=0,i=0,r=0;if(r=0|ai(0|e,0|t,52),T(),r&=15,!r)return r=0,0|r;i=1;while(1){if(n=0|ai(0|e,0|t,3*(15-i|0)|0),T(),n&=7,0|n){i=5;break}if(!(i>>>0<r>>>0)){n=0,i=5;break}i=i+1|0}return 5==(0|i)?0|n:0}function At(e,t){e|=0,t|=0;var n=0,i=0,r=0,o=0,s=0,a=0,l=0;if(l=0|ai(0|e,0|t,52),T(),l&=15,!l)return a=t,l=e,S(0|a),0|l;a=1,n=0;while(1){o=3*(15-a|0)|0,i=0|li(7,0,0|o),r=0|T(),s=0|ai(0|e,0|t,0|o),T(),o=0|li(0|Oe(7&s),0,0|o),s=0|T(),e=o|e&~i,t=s|t&~r;e:do{if(!n)if(0==(o&i|0)&0==(s&r|0))n=0;else if(i=0|ai(0|e,0|t,52),T(),i&=15,i){n=1;t:while(1){switch(s=0|ai(0|e,0|t,3*(15-n|0)|0),T(),7&s){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<i>>>0)){n=1;break e}n=n+1|0}n=1;while(1){if(s=3*(15-n|0)|0,r=0|ai(0|e,0|t,0|s),T(),o=0|li(7,0,0|s),t&=~(0|T()),s=0|li(0|Oe(7&r),0,0|s),e=e&~o|s,t=0|t|T(),!(n>>>0<i>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(a>>>0<l>>>0))break;a=a+1|0}return S(0|t),0|e}function yt(e,t){e|=0,t|=0;var n=0,i=0,r=0,o=0,s=0;if(i=0|ai(0|e,0|t,52),T(),i&=15,!i)return n=t,i=e,S(0|n),0|i;n=1;while(1){if(o=3*(15-n|0)|0,s=0|ai(0|e,0|t,0|o),T(),r=0|li(7,0,0|o),t&=~(0|T()),o=0|li(0|Oe(7&s),0,0|o),e=o|e&~r,t=0|T()|t,!(n>>>0<i>>>0))break;n=n+1|0}return S(0|t),0|e}function vt(e,t){e|=0,t|=0;var n=0,i=0,r=0,o=0,s=0,a=0,l=0;if(l=0|ai(0|e,0|t,52),T(),l&=15,!l)return a=t,l=e,S(0|a),0|l;a=1,n=0;while(1){o=3*(15-a|0)|0,i=0|li(7,0,0|o),r=0|T(),s=0|ai(0|e,0|t,0|o),T(),o=0|li(0|ke(7&s),0,0|o),s=0|T(),e=o|e&~i,t=s|t&~r;e:do{if(!n)if(0==(o&i|0)&0==(s&r|0))n=0;else if(i=0|ai(0|e,0|t,52),T(),i&=15,i){n=1;t:while(1){switch(s=0|ai(0|e,0|t,3*(15-n|0)|0),T(),7&s){case 1:break t;case 0:break;default:n=1;break e}if(!(n>>>0<i>>>0)){n=1;break e}n=n+1|0}n=1;while(1){if(r=3*(15-n|0)|0,o=0|li(7,0,0|r),s=t&~(0|T()),t=0|ai(0|e,0|t,0|r),T(),t=0|li(0|ke(7&t),0,0|r),e=e&~o|t,t=0|s|T(),!(n>>>0<i>>>0)){n=1;break}n=n+1|0}}else n=1}while(0);if(!(a>>>0<l>>>0))break;a=a+1|0}return S(0|t),0|e}function bt(e,t){e|=0,t|=0;var n=0,i=0,r=0,o=0,s=0;if(i=0|ai(0|e,0|t,52),T(),i&=15,!i)return n=t,i=e,S(0|n),0|i;n=1;while(1){if(s=3*(15-n|0)|0,o=0|li(7,0,0|s),r=t&~(0|T()),t=0|ai(0|e,0|t,0|s),T(),t=0|li(0|ke(7&t),0,0|s),e=t|e&~o,t=0|T()|r,!(n>>>0<i>>>0))break;n=n+1|0}return S(0|t),0|e}function _t(e,t){e|=0,t|=0;var n=0,i=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0;if(c=I,I=I+64|0,l=c+40|0,i=c+24|0,o=c+12|0,s=c,li(0|t,0,52),n=134225919|T(),!t)return(0|r[e+4>>2])>2||(0|r[e+8>>2])>2||(0|r[e+12>>2])>2?(a=0,l=0,S(0|a),I=c,0|l):(li(0|Z(e),0,45),a=0|T()|n,l=-1,S(0|a),I=c,0|l);if(r[l>>2]=r[e>>2],r[l+4>>2]=r[e+4>>2],r[l+8>>2]=r[e+8>>2],r[l+12>>2]=r[e+12>>2],a=l+4|0,(0|t)>0){e=-1;while(1){if(r[i>>2]=r[a>>2],r[i+4>>2]=r[a+4>>2],r[i+8>>2]=r[a+8>>2],1&t?(we(a),r[o>>2]=r[a>>2],r[o+4>>2]=r[a+4>>2],r[o+8>>2]=r[a+8>>2],Se(o)):(xe(a),r[o>>2]=r[a>>2],r[o+4>>2]=r[a+4>>2],r[o+8>>2]=r[a+8>>2],Te(o)),Ae(i,o,s),pe(s),h=3*(15-t|0)|0,u=0|li(7,0,0|h),n&=~(0|T()),h=0|li(0|ve(s),0,0|h),e=h|e&~u,n=0|T()|n,!((0|t)>1))break;t=t+-1|0}}else e=-1;e:do{if((0|r[a>>2])<=2&&(0|r[l+8>>2])<=2&&(0|r[l+12>>2])<=2){if(i=0|Z(l),t=0|li(0|i,0,45),t|=e,e=0|T()|-1040385&n,s=0|ee(l),!(0|Q(i))){if((0|s)<=0)break;o=0;while(1){if(i=0|ai(0|t,0|e,52),T(),i&=15,i){n=1;while(1){if(h=3*(15-n|0)|0,l=0|ai(0|t,0|e,0|h),T(),u=0|li(7,0,0|h),e&=~(0|T()),h=0|li(0|Oe(7&l),0,0|h),t=t&~u|h,e=0|e|T(),!(n>>>0<i>>>0))break;n=n+1|0}}if(o=o+1|0,(0|o)==(0|s))break e}}o=0|ai(0|t,0|e,52),T(),o&=15;t:do{if(o){n=1;n:while(1){switch(h=0|ai(0|t,0|e,3*(15-n|0)|0),T(),7&h){case 1:break n;case 0:break;default:break t}if(!(n>>>0<o>>>0))break t;n=n+1|0}if(0|ie(i,0|r[l>>2])){n=1;while(1){if(l=3*(15-n|0)|0,u=0|li(7,0,0|l),h=e&~(0|T()),e=0|ai(0|t,0|e,0|l),T(),e=0|li(0|ke(7&e),0,0|l),t=t&~u|e,e=0|h|T(),!(n>>>0<o>>>0))break;n=n+1|0}}else{n=1;while(1){if(h=3*(15-n|0)|0,l=0|ai(0|t,0|e,0|h),T(),u=0|li(7,0,0|h),e&=~(0|T()),h=0|li(0|Oe(7&l),0,0|h),t=t&~u|h,e=0|e|T(),!(n>>>0<o>>>0))break;n=n+1|0}}}}while(0);if((0|s)>0){n=0;do{t=0|At(t,e),e=0|T(),n=n+1|0}while((0|n)!=(0|s))}}else t=0,e=0}while(0);return u=e,h=t,S(0|u),I=c,0|h}function wt(e){return e|=0,0|(0|e)%2}function xt(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0;return o=I,I=I+16|0,i=o,t>>>0>15?(i=4,I=o,0|i):2146435072==(2146435072&r[e+4>>2]|0)||2146435072==(2146435072&r[e+8+4>>2]|0)?(i=3,I=o,0|i):(We(e,t,i),t=0|_t(i,t),i=0|T(),r[n>>2]=t,r[n+4>>2]=i,0==(0|t)&0==(0|i)&&E(23313,22674,786,22697),i=0,I=o,0|i)}function St(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0;if(o=n+4|0,s=0|ai(0|e,0|t,52),T(),s&=15,a=0|ai(0|e,0|t,45),T(),i=0==(0|s),0|Q(127&a)){if(i)return a=1,0|a;i=1}else{if(i)return a=0,0|a;i=0==(0|r[o>>2])&&0==(0|r[n+8>>2])?0!=(0|r[n+12>>2])&1:1}n=1;while(1){if(1&n?Se(o):Te(o),a=0|ai(0|e,0|t,3*(15-n|0)|0),T(),Ee(o,7&a),!(n>>>0<s>>>0))break;n=n+1|0}return 0|i}function Tt(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0;if(h=I,I=I+16|0,c=h,u=0|ai(0|e,0|t,45),T(),u&=127,u>>>0>121)return r[n>>2]=0,r[n+4>>2]=0,r[n+8>>2]=0,r[n+12>>2]=0,u=5,I=h,0|u;e:do{if(0!=(0|Q(u))&&(s=0|ai(0|e,0|t,52),T(),s&=15,0!=(0|s))){i=1;t:while(1){switch(l=0|ai(0|e,0|t,3*(15-i|0)|0),T(),7&l){case 5:break t;case 0:break;default:i=t;break e}if(!(i>>>0<s>>>0)){i=t;break e}i=i+1|0}o=1,i=t;while(1){if(t=3*(15-o|0)|0,a=0|li(7,0,0|t),l=i&~(0|T()),i=0|ai(0|e,0|i,0|t),T(),i=0|li(0|ke(7&i),0,0|t),e=e&~a|i,i=0|l|T(),!(o>>>0<s>>>0))break;o=o+1|0}}else i=t}while(0);if(l=7696+(28*u|0)|0,r[n>>2]=r[l>>2],r[n+4>>2]=r[l+4>>2],r[n+8>>2]=r[l+8>>2],r[n+12>>2]=r[l+12>>2],!(0|St(e,i,n)))return u=0,I=h,0|u;if(a=n+4|0,r[c>>2]=r[a>>2],r[c+4>>2]=r[a+4>>2],r[c+8>>2]=r[a+8>>2],s=0|ai(0|e,0|i,52),T(),l=15&s,1&s?(Te(a),s=l+1|0):s=l,0|Q(u)){e:do{if(l){t=1;while(1){if(o=0|ai(0|e,0|i,3*(15-t|0)|0),T(),o&=7,0|o){i=o;break e}if(!(t>>>0<l>>>0)){i=0;break}t=t+1|0}}else i=0}while(0);i=4==(0|i)&1}else i=0;if(0|Ze(n,s,i,0)){if(0|Q(u))do{}while(0!=(0|Ze(n,s,0,0)));(0|s)!=(0|l)&&xe(a)}else(0|s)!=(0|l)&&(r[a>>2]=r[c>>2],r[a+4>>2]=r[c+4>>2],r[a+8>>2]=r[c+8>>2]);return u=0,I=h,0|u}function Et(e,t,n){e|=0,t|=0,n|=0;var i=0,r=0,o=0;return o=I,I=I+16|0,i=o,r=0|Tt(e,t,i),0|r?(I=o,0|r):(r=0|ai(0|e,0|t,52),T(),Ke(i,15&r,n),r=0,I=o,0|r)}function Mt(e,t,n){e|=0,t|=0,n|=0;var i=0,r=0,o=0,s=0,a=0;if(s=I,I=I+16|0,o=s,i=0|Tt(e,t,o),0|i)return o=i,I=s,0|o;i=0|ai(0|e,0|t,45),T(),i=0==(0|Q(127&i)),r=0|ai(0|e,0|t,52),T(),r&=15;e:do{if(!i){if(0|r){i=1;while(1){if(a=0|li(7,0,3*(15-i|0)|0),!(0==(a&e|0)&0==((0|T())&t|0)))break e;if(!(i>>>0<r>>>0))break;i=i+1|0}}return Qe(o,r,0,5,n),a=0,I=s,0|a}}while(0);return tt(o,r,0,6,n),a=0,I=s,0|a}function Ct(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0;if(o=0|ai(0|e,0|t,45),T(),!(0|Q(127&o)))return o=2,r[n>>2]=o,0;if(o=0|ai(0|e,0|t,52),T(),o&=15,!o)return o=5,r[n>>2]=o,0;i=1;while(1){if(s=0|li(7,0,3*(15-i|0)|0),!(0==(s&e|0)&0==((0|T())&t|0))){i=2,e=6;break}if(!(i>>>0<o>>>0)){i=5,e=6;break}i=i+1|0}return 6==(0|e)?(r[n>>2]=i,0):0}function Ot(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0;d=I,I=I+128|0,u=d+112|0,s=d+96|0,h=d,o=0|ai(0|e,0|t,52),T(),l=15&o,r[u>>2]=l,a=0|ai(0|e,0|t,45),T(),a&=127;e:do{if(0|Q(a)){if(0|l){i=1;while(1){if(c=0|li(7,0,3*(15-i|0)|0),!(0==(c&e|0)&0==((0|T())&t|0))){o=0;break e}if(!(i>>>0<l>>>0))break;i=i+1|0}}if(!(1&o))return c=0|li(l+1|0,0,52),h=0|T()|-15728641&t,u=0|li(7,0,3*(14-l|0)|0),h=0|Ot((c|e)&~u,h&~(0|T()),n),I=d,0|h;o=1}else o=0}while(0);if(i=0|Tt(e,t,s),!i){o?(Je(s,u,h),c=5):(nt(s,u,h),c=6);e:do{if(0|Q(a))if(l){i=1;while(1){if(a=0|li(7,0,3*(15-i|0)|0),!(0==(a&e|0)&0==((0|T())&t|0))){e=2;break e}if(!(i>>>0<l>>>0)){e=5;break}i=i+1|0}}else e=5;else e=2}while(0);fi(0|n,-1,e<<2|0);e:do{if(o){s=0;while(1){if(a=h+(s<<4)|0,et(a,0|r[u>>2]),a=0|r[a>>2],l=0|r[n>>2],-1==(0|l)|(0|l)==(0|a))i=n;else{o=0;do{if(o=o+1|0,o>>>0>=e>>>0){i=1;break e}i=n+(o<<2)|0,l=0|r[i>>2]}while(!(-1==(0|l)|(0|l)==(0|a)))}if(r[i>>2]=a,s=s+1|0,s>>>0>=c>>>0){i=0;break}}}else{s=0;while(1){if(a=h+(s<<4)|0,Ze(a,0|r[u>>2],0,1),a=0|r[a>>2],l=0|r[n>>2],-1==(0|l)|(0|l)==(0|a))i=n;else{o=0;do{if(o=o+1|0,o>>>0>=e>>>0){i=1;break e}i=n+(o<<2)|0,l=0|r[i>>2]}while(!(-1==(0|l)|(0|l)==(0|a)))}if(r[i>>2]=a,s=s+1|0,s>>>0>=c>>>0){i=0;break}}}}while(0)}return h=i,I=d,0|h}function kt(){return 12}function Pt(e,t){e|=0,t|=0;var n=0,i=0,o=0,s=0,a=0,l=0,c=0;if(e>>>0>15)return l=4,0|l;if(li(0|e,0,52),l=134225919|T(),!e){n=0,i=0;do{0|Q(i)&&(li(0|i,0,45),a=0|l|T(),e=t+(n<<3)|0,r[e>>2]=-1,r[e+4>>2]=a,n=n+1|0),i=i+1|0}while(122!=(0|i));return n=0,0|n}n=0,a=0;do{if(0|Q(a)){li(0|a,0,45),i=1,o=-1,s=0|l|T();while(1){if(c=0|li(7,0,3*(15-i|0)|0),o&=~c,s&=~(0|T()),(0|i)==(0|e))break;i=i+1|0}c=t+(n<<3)|0,r[c>>2]=o,r[c+4>>2]=s,n=n+1|0}a=a+1|0}while(122!=(0|a));return n=0,0|n}function It(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0;if(v=I,I=I+16|0,A=v,y=0|ai(0|e,0|t,52),T(),y&=15,n>>>0>15)return y=4,I=v,0|y;if((0|y)<(0|n))return y=12,I=v,0|y;if((0|y)!=(0|n))if(s=0|li(0|n,0,52),s|=e,l=0|T()|-15728641&t,(0|y)>(0|n)){c=n;do{g=0|li(7,0,3*(14-c|0)|0),c=c+1|0,s|=g,l=0|T()|l}while((0|c)<(0|y));g=s}else g=s;else g=e,l=t;m=0|ai(0|g,0|l,45),T();e:do{if(0|Q(127&m)){if(c=0|ai(0|g,0|l,52),T(),c&=15,0|c){s=1;while(1){if(m=0|li(7,0,3*(15-s|0)|0),!(0==(m&g|0)&0==((0|T())&l|0))){u=33;break e}if(!(s>>>0<c>>>0))break;s=s+1|0}}if(m=i,r[m>>2]=0,r[m+4>>2]=0,(0|y)>(0|n)){m=-15728641&t,p=y;while(1){if(f=p,p=p+-1|0,p>>>0>15|(0|y)<(0|p)){u=19;break}if((0|y)!=(0|p))if(s=0|li(0|p,0,52),s|=e,c=0|T()|m,(0|y)<(0|f))d=s;else{u=p;do{d=0|li(7,0,3*(14-u|0)|0),u=u+1|0,s|=d,c=0|T()|c}while((0|u)<(0|y));d=s}else d=e,c=t;if(h=0|ai(0|d,0|c,45),T(),0|Q(127&h)){h=0|ai(0|d,0|c,52),T(),h&=15;t:do{if(h){u=1;while(1){if(s=0|ai(0|d,0|c,3*(15-u|0)|0),T(),s&=7,0|s)break t;if(!(u>>>0<h>>>0)){s=0;break}u=u+1|0}}else s=0}while(0);s=0==(0|s)&1}else s=0;if(c=0|ai(0|e,0|t,3*(15-f|0)|0),T(),c&=7,7==(0|c)){o=5,u=42;break}if(s=0!=(0|s),1==(0|c)&s){o=5,u=42;break}if(d=c+((0!=(0|c)&s)<<31>>31)|0,0|d&&(u=y-f|0,u=0|pn(7,0,u,((0|u)<0)<<31>>31),h=0|T(),s?(s=0|ii(0|u,0|h,5,0),s=0|Qn(0|s,0|T(),-5,-1),s=0|ti(0|s,0|T(),6,0),s=0|Qn(0|s,0|T(),1,0),c=0|T()):(s=u,c=h),f=d+-1|0,f=0|ii(0|u,0|h,0|f,((0|f)<0)<<31>>31|0),f=0|Qn(0|s,0|c,0|f,0|T()),d=0|T(),h=i,h=0|Qn(0|f,0|d,0|r[h>>2],0|r[h+4>>2]),d=0|T(),f=i,r[f>>2]=h,r[f+4>>2]=d),(0|p)<=(0|n)){u=37;break}}if(19==(0|u))E(23313,22674,1099,22710);else{if(37==(0|u)){a=i,o=0|r[a+4>>2],a=0|r[a>>2];break}if(42==(0|u))return I=v,0|o}}else o=0,a=0}else u=33}while(0);e:do{if(33==(0|u)){if(m=i,r[m>>2]=0,r[m+4>>2]=0,(0|y)>(0|n)){s=y;while(1){if(o=0|ai(0|e,0|t,3*(15-s|0)|0),T(),o&=7,7==(0|o)){o=5;break}if(a=y-s|0,a=0|pn(7,0,a,((0|a)<0)<<31>>31),o=0|ii(0|a,0|T(),0|o,0),a=0|T(),m=i,a=0|Qn(0|r[m>>2],0|r[m+4>>2],0|o,0|a),o=0|T(),m=i,r[m>>2]=a,r[m+4>>2]=o,s=s+-1|0,(0|s)<=(0|n))break e}return I=v,0|o}o=0,a=0}}while(0);return 0|at(g,l,y,A)&&E(23313,22674,1063,22725),y=A,A=0|r[y+4>>2],((0|o)>-1|-1==(0|o)&a>>>0>4294967295)&((0|A)>(0|o)|((0|A)==(0|o)?(0|r[y>>2])>>>0>a>>>0:0))?(y=0,I=v,0|y):(E(23313,22674,1139,22710),0)}function Rt(e,t,n,i,o,s){e|=0,t|=0,n|=0,i|=0,o|=0,s|=0;var a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0;if(d=I,I=I+16|0,a=d,o>>>0>15)return s=4,I=d,0|s;if(l=0|ai(0|n,0|i,52),T(),l&=15,(0|l)>(0|o))return s=12,I=d,0|s;if(0|at(n,i,o,a)&&E(23313,22674,1063,22725),h=a,u=0|r[h+4>>2],!(((0|t)>-1|-1==(0|t)&e>>>0>4294967295)&((0|u)>(0|t)|((0|u)==(0|t)?(0|r[h>>2])>>>0>e>>>0:0))))return s=2,I=d,0|s;h=o-l|0,o=0|li(0|o,0,52),c=0|T()|-15728641&i,u=s,r[u>>2]=o|n,r[u+4>>2]=c,u=0|ai(0|n,0|i,45),T();e:do{if(0|Q(127&u)){if(0|l){a=1;while(1){if(u=0|li(7,0,3*(15-a|0)|0),!(0==(u&n|0)&0==((0|T())&i|0)))break e;if(!(a>>>0<l>>>0))break;a=a+1|0}}if((0|h)<1)return s=0,I=d,0|s;u=15^l,i=-1,c=1,a=1;while(1){l=h-c|0,l=0|pn(7,0,l,((0|l)<0)<<31>>31),n=0|T();do{if(a){if(a=0|ii(0|l,0|n,5,0),a=0|Qn(0|a,0|T(),-5,-1),a=0|ti(0|a,0|T(),6,0),o=0|T(),(0|t)>(0|o)|(0|t)==(0|o)&e>>>0>a>>>0){t=0|Qn(0|e,0|t,-1,-1),t=0|Jn(0|t,0|T(),0|a,0|o),a=0|T(),f=s,m=0|r[f>>2],f=0|r[f+4>>2],g=3*(u+i|0)|0,p=0|li(7,0,0|g),f&=~(0|T()),i=0|ti(0|t,0|a,0|l,0|n),e=0|T(),o=0|Qn(0|i,0|e,2,0),g=0|li(0|o,0|T(),0|g),f=0|T()|f,o=s,r[o>>2]=g|m&~p,r[o+4>>2]=f,e=0|ii(0|i,0|e,0|l,0|n),e=0|Jn(0|t,0|a,0|e,0|T()),a=0,t=0|T();break}g=s,p=0|r[g>>2],g=0|r[g+4>>2],m=0|li(7,0,3*(u+i|0)|0),g&=~(0|T()),a=s,r[a>>2]=p&~m,r[a+4>>2]=g,a=1;break}p=s,o=0|r[p>>2],p=0|r[p+4>>2],i=3*(u+i|0)|0,f=0|li(7,0,0|i),p&=~(0|T()),g=0|ti(0|e,0|t,0|l,0|n),a=0|T(),i=0|li(0|g,0|a,0|i),p=0|T()|p,m=s,r[m>>2]=i|o&~f,r[m+4>>2]=p,a=0|ii(0|g,0|a,0|l,0|n),e=0|Jn(0|e,0|t,0|a,0|T()),a=0,t=0|T()}while(0);if(!((0|h)>(0|c))){t=0;break}i=~c,c=c+1|0}return I=d,0|t}}while(0);if((0|h)<1)return g=0,I=d,0|g;o=15^l,a=1;while(1){if(m=h-a|0,m=0|pn(7,0,m,((0|m)<0)<<31>>31),g=0|T(),c=s,n=0|r[c>>2],c=0|r[c+4>>2],l=3*(o-a|0)|0,i=0|li(7,0,0|l),c&=~(0|T()),f=0|ti(0|e,0|t,0|m,0|g),p=0|T(),l=0|li(0|f,0|p,0|l),c=0|T()|c,u=s,r[u>>2]=l|n&~i,r[u+4>>2]=c,g=0|ii(0|f,0|p,0|m,0|g),e=0|Jn(0|e,0|t,0|g,0|T()),t=0|T(),(0|h)<=(0|a)){t=0;break}a=a+1|0}return I=d,0|t}function Dt(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0;o=0|ai(0|t,0|n,52),T(),o&=15,0==(0|t)&0==(0|n)|(0|i)>15|(0|o)>(0|i)?(i=-1,o=-1,t=0,n=0):(s=0|ut(t,n,o+1|0,i),n=-15728641&(0|T()),t=0|li(0|i,0,52),t|=s,n=0|n|T(),s=0==(0|lt(t,n)),i=s?-1:i),s=e,r[s>>2]=t,r[s+4>>2]=n,r[e+8>>2]=o,r[e+12>>2]=i}function Lt(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0,c=0,u=0;if(n=e,t=0|r[n>>2],n=0|r[n+4>>2],!(0==(0|t)&0==(0|n))&&(i=0|ai(0|t,0|n,52),T(),i&=15,l=0|li(1,0,3*(15^i)|0),t=0|Qn(0|l,0|T(),0|t,0|n),n=0|T(),l=e,r[l>>2]=t,r[l+4>>2]=n,l=e+8|0,a=0|r[l>>2],!((0|i)<(0|a)))){c=e+12|0,s=i;while(1){if((0|s)==(0|a)){i=5;break}if(u=(0|s)==(0|r[c>>2]),o=3*(15-s|0)|0,i=0|ai(0|t,0|n,0|o),T(),i&=7,u&1==(0|i)&!0){i=7;break}if(!(7==(0|i)&!0)){i=10;break}if(u=0|li(1,0,0|o),t=0|Qn(0|t,0|n,0|u,0|T()),n=0|T(),u=e,r[u>>2]=t,r[u+4>>2]=n,!((0|s)>(0|a))){i=10;break}s=s+-1|0}if(5==(0|i))return u=e,r[u>>2]=0,r[u+4>>2]=0,r[l>>2]=-1,void(r[c>>2]=-1);if(7==(0|i))return a=0|li(1,0,0|o),a=0|Qn(0|t,0|n,0|a,0|T()),l=0|T(),u=e,r[u>>2]=a,r[u+4>>2]=l,void(r[c>>2]=s+-1)}}function Nt(e){e=+e;var t=0;return t=e<0?e+6.283185307179586:e,+(e>=6.283185307179586?t+-6.283185307179586:t)}function Bt(e,t){return e|=0,t|=0,+c(+(+o[e>>3]-+o[t>>3]))<17453292519943298e-27?(t=+c(+(+o[e+8>>3]-+o[t+8>>3]))<17453292519943298e-27,0|t):(t=0,0|t)}function Ft(e,t){e|=0,t|=0;var n=0,i=0,r=0,s=0;return r=+o[t>>3],i=+o[e>>3],s=+f(.5*(r-i)),n=+f(.5*(+o[t+8>>3]-+o[e+8>>3])),n=s*s+n*(+d(+r)*+d(+i)*n),2*+y(+ +u(+n),+ +u(+(1-n)))}function jt(e,t){e|=0,t|=0;var n=0,i=0,r=0,s=0;return r=+o[t>>3],i=+o[e>>3],s=+f(.5*(r-i)),n=+f(.5*(+o[t+8>>3]-+o[e+8>>3])),n=s*s+n*(+d(+r)*+d(+i)*n),2*+y(+ +u(+n),+ +u(+(1-n)))*6371.007180918475}function Ut(e,t){e|=0,t|=0;var n=0,i=0,r=0,s=0;return r=+o[t>>3],i=+o[e>>3],s=+f(.5*(r-i)),n=+f(.5*(+o[t+8>>3]-+o[e+8>>3])),n=s*s+n*(+d(+r)*+d(+i)*n),2*+y(+ +u(+n),+ +u(+(1-n)))*6371.007180918475*1e3}function zt(e,t){e|=0,t|=0;var n=0,i=0,r=0,s=0,a=0;return s=+o[t>>3],i=+d(+s),r=+o[t+8>>3]-+o[e+8>>3],a=i*+f(+r),n=+o[e>>3],+ +y(+a,+(+f(+s)*+d(+n)-+d(+r)*(i*+f(+n))))}function qt(e,t,n,i){e|=0,t=+t,n=+n,i|=0;var s=0,a=0,l=0,u=0;if(n<1e-16)return r[i>>2]=r[e>>2],r[i+4>>2]=r[e+4>>2],r[i+8>>2]=r[e+8>>2],void(r[i+12>>2]=r[e+12>>2]);a=t<0?t+6.283185307179586:t,a=t>=6.283185307179586?a+-6.283185307179586:a;do{if(!(a<1e-16)){if(s=+c(+(a+-3.141592653589793))<1e-16,t=+o[e>>3],s){t-=n,o[i>>3]=t,s=i;break}if(l=+d(+n),n=+f(+n),t=l*+f(+t)+ +d(+a)*(n*+d(+t)),t=t>1?1:t,t=+g(+(t<-1?-1:t)),o[i>>3]=t,+c(+(t+-1.5707963267948966))<1e-16)return o[i>>3]=1.5707963267948966,void(o[i+8>>3]=0);if(+c(+(t+1.5707963267948966))<1e-16)return o[i>>3]=-1.5707963267948966,void(o[i+8>>3]=0);if(u=+d(+t),a=n*+f(+a)/u,n=+o[e>>3],t=(l-+f(+t)*+f(+n))/+d(+n)/u,l=a>1?1:a,t=t>1?1:t,t=+o[e+8>>3]+ +y(+(l<-1?-1:l),+(t<-1?-1:t)),t>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);return void(o[i+8>>3]=t)}t=+o[e>>3]+n,o[i>>3]=t,s=i}while(0);if(+c(+(t+-1.5707963267948966))<1e-16)return o[s>>3]=1.5707963267948966,void(o[i+8>>3]=0);if(+c(+(t+1.5707963267948966))<1e-16)return o[s>>3]=-1.5707963267948966,void(o[i+8>>3]=0);if(t=+o[e+8>>3],t>3.141592653589793)do{t+=-6.283185307179586}while(t>3.141592653589793);if(t<-3.141592653589793)do{t+=6.283185307179586}while(t<-3.141592653589793);o[i+8>>3]=t}function Vt(e,t){return e|=0,t|=0,e>>>0>15?(t=4,0|t):(o[t>>3]=+o[20528+(e<<3)>>3],t=0,0|t)}function Ht(e,t){return e|=0,t|=0,e>>>0>15?(t=4,0|t):(o[t>>3]=+o[20656+(e<<3)>>3],t=0,0|t)}function Gt(e,t){return e|=0,t|=0,e>>>0>15?(t=4,0|t):(o[t>>3]=+o[20784+(e<<3)>>3],t=0,0|t)}function Wt(e,t){return e|=0,t|=0,e>>>0>15?(t=4,0|t):(o[t>>3]=+o[20912+(e<<3)>>3],t=0,0|t)}function $t(e,t){e|=0,t|=0;var n=0;return e>>>0>15?(t=4,0|t):(n=0|pn(7,0,e,((0|e)<0)<<31>>31),n=0|ii(0|n,0|T(),120,0),e=0|T(),r[t>>2]=2|n,r[t+4>>2]=e,t=0,0|t)}function Xt(e,t,n){e|=0,t|=0,n|=0;var i=0,r=0,s=0,a=0,l=0,c=0,h=0,m=0,g=0,v=0;return v=+o[t>>3],m=+o[e>>3],c=+f(.5*(v-m)),s=+o[t+8>>3],h=+o[e+8>>3],a=+f(.5*(s-h)),l=+d(+m),g=+d(+v),a=c*c+a*(g*l*a),a=2*+y(+ +u(+a),+ +u(+(1-a))),c=+o[n>>3],v=+f(.5*(c-v)),i=+o[n+8>>3],s=+f(.5*(i-s)),r=+d(+c),s=v*v+s*(g*r*s),s=2*+y(+ +u(+s),+ +u(+(1-s))),c=+f(.5*(m-c)),i=+f(.5*(h-i)),i=c*c+i*(l*r*i),i=2*+y(+ +u(+i),+ +u(+(1-i))),r=.5*(a+s+i),4*+A(+ +u(+ +p(.5*r)*+p(.5*(r-a))*+p(.5*(r-s))*+p(.5*(r-i))))}function Yt(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0,l=0,c=0;if(c=I,I=I+192|0,a=c+168|0,l=c,s=0|Et(e,t,a),0|s)return n=s,I=c,0|n;if(0|Mt(e,t,l)&&E(23313,22742,386,22751),t=0|r[l>>2],(0|t)>0){if(i=+Xt(l+8|0,l+8+((1!=(0|t)&1)<<4)|0,a)+0,1!=(0|t)){e=1;do{s=e,e=e+1|0,i+=+Xt(l+8+(s<<4)|0,l+8+(((0|e)%(0|t)|0)<<4)|0,a)}while((0|e)<(0|t))}}else i=0;return o[n>>3]=i,n=0,I=c,0|n}function Kt(e,t,n){return e|=0,t|=0,n|=0,e=0|Yt(e,t,n),0|e||(o[n>>3]=6371.007180918475*+o[n>>3]*6371.007180918475),0|e}function Qt(e,t,n){return e|=0,t|=0,n|=0,e=0|Yt(e,t,n),0|e||(o[n>>3]=6371.007180918475*+o[n>>3]*6371.007180918475*1e3*1e3),0|e}function Jt(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0,l=0,c=0,h=0,p=0,m=0;if(c=I,I=I+176|0,l=c,e=0|Ge(e,t,l),0|e)return l=e,I=c,0|l;if(o[n>>3]=0,e=0|r[l>>2],(0|e)<=1)return l=0,I=c,0|l;t=e+-1|0,e=0,i=+o[l+8>>3],s=+o[l+16>>3],a=0;do{e=e+1|0,p=i,i=+o[l+8+(e<<4)>>3],m=+f(.5*(i-p)),h=s,s=+o[l+8+(e<<4)+8>>3],h=+f(.5*(s-h)),h=m*m+h*(+d(+i)*+d(+p)*h),a+=2*+y(+ +u(+h),+ +u(+(1-h)))}while((0|e)<(0|t));return o[n>>3]=a,l=0,I=c,0|l}function Zt(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0,l=0,c=0,h=0,p=0,m=0;if(c=I,I=I+176|0,l=c,e=0|Ge(e,t,l),0|e)return l=e,a=+o[n>>3],a*=6371.007180918475,o[n>>3]=a,I=c,0|l;if(o[n>>3]=0,e=0|r[l>>2],(0|e)<=1)return l=0,a=0,a*=6371.007180918475,o[n>>3]=a,I=c,0|l;t=e+-1|0,e=0,i=+o[l+8>>3],s=+o[l+16>>3],a=0;do{e=e+1|0,p=i,i=+o[l+8+(e<<4)>>3],m=+f(.5*(i-p)),h=s,s=+o[l+8+(e<<4)+8>>3],h=+f(.5*(s-h)),h=m*m+h*(+d(+p)*+d(+i)*h),a+=2*+y(+ +u(+h),+ +u(+(1-h)))}while((0|e)!=(0|t));return o[n>>3]=a,l=0,m=a,m*=6371.007180918475,o[n>>3]=m,I=c,0|l}function en(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0,l=0,c=0,h=0,p=0,m=0;if(c=I,I=I+176|0,l=c,e=0|Ge(e,t,l),0|e)return l=e,a=+o[n>>3],a*=6371.007180918475,a*=1e3,o[n>>3]=a,I=c,0|l;if(o[n>>3]=0,e=0|r[l>>2],(0|e)<=1)return l=0,a=0,a*=6371.007180918475,a*=1e3,o[n>>3]=a,I=c,0|l;t=e+-1|0,e=0,i=+o[l+8>>3],s=+o[l+16>>3],a=0;do{e=e+1|0,p=i,i=+o[l+8+(e<<4)>>3],m=+f(.5*(i-p)),h=s,s=+o[l+8+(e<<4)+8>>3],h=+f(.5*(s-h)),h=m*m+h*(+d(+p)*+d(+i)*h),a+=2*+y(+ +u(+h),+ +u(+(1-h)))}while((0|e)!=(0|t));return o[n>>3]=a,l=0,m=a,m*=6371.007180918475,m*=1e3,o[n>>3]=m,I=c,0|l}function tn(e){e|=0;var t=0,n=0,i=0;return t=0|Kn(1,12),t||E(22832,22787,49,22845),n=e+4|0,i=0|r[n>>2],0|i?(i=i+8|0,r[i>>2]=t,r[n>>2]=t,0|t):(0|r[e>>2]&&E(22862,22787,61,22885),i=e,r[i>>2]=t,r[n>>2]=t,0|t)}function nn(e,t){e|=0,t|=0;var n=0,i=0;return i=0|Xn(24),i||E(22899,22787,78,22913),r[i>>2]=r[t>>2],r[i+4>>2]=r[t+4>>2],r[i+8>>2]=r[t+8>>2],r[i+12>>2]=r[t+12>>2],r[i+16>>2]=0,t=e+4|0,n=0|r[t>>2],0|n?(r[n+16>>2]=i,r[t>>2]=i,0|i):(0|r[e>>2]&&E(22928,22787,82,22913),r[e>>2]=i,r[t>>2]=i,0|i)}function rn(e){e|=0;var t=0,n=0,i=0,o=0;if(e){i=1;while(1){if(t=0|r[e>>2],0|t)do{if(n=0|r[t>>2],0|n)do{o=n,n=0|r[n+16>>2],Yn(o)}while(0!=(0|n));o=t,t=0|r[t+8>>2],Yn(o)}while(0!=(0|t));if(t=e,e=0|r[e+8>>2],i||Yn(t),!e)break;i=0}}}function on(e){e|=0;var t=0,n=0,i=0,s=0,a=0,l=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,T=0,M=0,C=0,O=0,k=0,P=0,I=0,R=0,D=0,L=0,N=0;if(s=e+8|0,0|r[s>>2])return N=1,0|N;if(i=0|r[e>>2],!i)return N=0,0|N;t=i,n=0;do{n=n+1|0,t=0|r[t+8>>2]}while(0!=(0|t));if(n>>>0<2)return N=0,0|N;D=0|Xn(n<<2),D||E(22948,22787,317,22967),R=0|Xn(n<<5),R||E(22989,22787,321,22967),r[e>>2]=0,T=e+4|0,r[T>>2]=0,r[s>>2]=0,n=0,I=0,S=0,p=0;e:while(1){if(f=0|r[i>>2],f){a=0,l=f;do{if(h=+o[l+8>>3],t=l,l=0|r[l+16>>2],d=0==(0|l),s=d?f:l,u=+o[s+8>>3],+c(+(h-u))>3.141592653589793){N=14;break}a+=(u-h)*(+o[t>>3]+ +o[s>>3])}while(!d);if(14==(0|N)){N=0,a=0,t=f;do{x=+o[t+8>>3],P=t+16|0,k=0|r[P>>2],k=0==(0|k)?f:k,w=+o[k+8>>3],a+=(+o[t>>3]+ +o[k>>3])*((w<0?w+6.283185307179586:w)-(x<0?x+6.283185307179586:x)),t=0|r[(0==(0|t)?i:P)>>2]}while(0!=(0|t))}a>0?(r[D+(I<<2)>>2]=i,I=I+1|0,s=S,t=p):N=19}else N=19;if(19==(0|N)){N=0;do{if(!n){if(p){s=T,l=p+8|0,t=i,n=e;break}if(0|r[e>>2]){N=27;break e}s=T,l=e,t=i,n=e;break}if(t=n+8|0,0|r[t>>2]){N=21;break e}if(n=0|Kn(1,12),!n){N=23;break e}r[t>>2]=n,s=n+4|0,l=n,t=p}while(0);if(r[l>>2]=i,r[s>>2]=i,l=R+(S<<5)|0,d=0|r[i>>2],d){f=R+(S<<5)+8|0,o[f>>3]=17976931348623157e292,p=R+(S<<5)+24|0,o[p>>3]=17976931348623157e292,o[l>>3]=-17976931348623157e292,m=R+(S<<5)+16|0,o[m>>3]=-17976931348623157e292,b=17976931348623157e292,_=-17976931348623157e292,s=0,g=d,h=17976931348623157e292,y=17976931348623157e292,v=-17976931348623157e292,u=-17976931348623157e292;while(1){if(a=+o[g>>3],x=+o[g+8>>3],g=0|r[g+16>>2],A=0==(0|g),w=+o[(A?d:g)+8>>3],a<h&&(o[f>>3]=a,h=a),x<y&&(o[p>>3]=x,y=x),a>v?o[l>>3]=a:a=v,x>u&&(o[m>>3]=x,u=x),b=x>0&x<b?x:b,_=x<0&x>_?x:_,s|=+c(+(x-w))>3.141592653589793,A)break;v=a}s&&(o[m>>3]=_,o[p>>3]=b)}else r[l>>2]=0,r[l+4>>2]=0,r[l+8>>2]=0,r[l+12>>2]=0,r[l+16>>2]=0,r[l+20>>2]=0,r[l+24>>2]=0,r[l+28>>2]=0;s=S+1|0}if(P=i+8|0,i=0|r[P>>2],r[P>>2]=0,!i){N=45;break}S=s,p=t}if(21==(0|N))E(22765,22787,35,22799);else if(23==(0|N))E(22819,22787,37,22799);else if(27==(0|N))E(22862,22787,61,22885);else if(45==(0|N)){e:do{if((0|I)>0){P=0==(0|s),O=s<<2,k=0==(0|e),C=0,t=0;while(1){if(M=0|r[D+(C<<2)>>2],P)N=73;else{if(S=0|Xn(O),!S){N=50;break}if(T=0|Xn(O),!T){N=52;break}t:do{if(k)n=0;else{s=0,n=0,l=e;while(1){if(i=R+(s<<5)|0,0|sn(0|r[l>>2],i,0|r[M>>2])?(r[S+(n<<2)>>2]=l,r[T+(n<<2)>>2]=i,A=n+1|0):A=n,l=0|r[l+8>>2],!l)break;s=s+1|0,n=A}if((0|A)>0)if(i=0|r[S>>2],1==(0|A))n=i;else{m=0,g=-1,n=i,p=i;while(1){d=0|r[p>>2],i=0,l=0;while(1){if(s=0|r[r[S+(l<<2)>>2]>>2],f=(0|s)==(0|d)?i:i+(1&(0|sn(s,0|r[T+(l<<2)>>2],0|r[d>>2])))|0,l=l+1|0,(0|l)==(0|A))break;i=f}if(s=(0|f)>(0|g),n=s?p:n,i=m+1|0,(0|i)==(0|A))break t;m=i,g=s?f:g,p=0|r[S+(i<<2)>>2]}}else n=0}}while(0);if(Yn(S),Yn(T),n){if(s=n+4|0,i=0|r[s>>2],i)n=i+8|0;else if(0|r[n>>2]){N=70;break}r[n>>2]=M,r[s>>2]=M}else N=73}if(73==(0|N)){if(N=0,t=0|r[M>>2],0|t)do{T=t,t=0|r[t+16>>2],Yn(T)}while(0!=(0|t));Yn(M),t=1}if(C=C+1|0,(0|C)>=(0|I)){L=t;break e}}50==(0|N)?E(23004,22787,249,23023):52==(0|N)?E(23042,22787,252,23023):70==(0|N)&&E(22862,22787,61,22885)}else L=0}while(0);return Yn(D),Yn(R),N=L,0|N}return 0}function sn(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0;if(!(0|ce(t,n)))return e=0,0|e;if(t=0|le(t),i=+o[n>>3],s=+o[n+8>>3],s=t&s<0?s+6.283185307179586:s,e=0|r[e>>2],!e)return e=0,0|e;if(t){t=0,h=s,n=e;e:while(1){while(1){if(l=+o[n>>3],s=+o[n+8>>3],n=n+16|0,d=0|r[n>>2],d=0==(0|d)?e:d,a=+o[d>>3],c=+o[d+8>>3],l>a?(u=l,l=c):(u=a,a=l,l=s,s=c),i=i==a|i==u?i+2220446049250313e-31:i,!(i<a|i>u))break;if(n=0|r[n>>2],!n){n=22;break e}}if(c=l<0?l+6.283185307179586:l,l=s<0?s+6.283185307179586:s,h=c==h|l==h?h+-2220446049250313e-31:h,u=c+(i-a)/(u-a)*(l-c),(u<0?u+6.283185307179586:u)>h&&(t^=1),n=0|r[n>>2],!n){n=22;break}}if(22==(0|n))return 0|t}else{t=0,h=s,n=e;e:while(1){while(1){if(l=+o[n>>3],s=+o[n+8>>3],n=n+16|0,d=0|r[n>>2],d=0==(0|d)?e:d,a=+o[d>>3],c=+o[d+8>>3],l>a?(u=l,l=c):(u=a,a=l,l=s,s=c),i=i==a|i==u?i+2220446049250313e-31:i,!(i<a|i>u))break;if(n=0|r[n>>2],!n){n=22;break e}}if(h=l==h|s==h?h+-2220446049250313e-31:h,l+(i-a)/(u-a)*(s-l)>h&&(t^=1),n=0|r[n>>2],!n){n=22;break}}if(22==(0|n))return 0|t}return 0}function an(e,t,n,o,s){e|=0,t|=0,n|=0,o|=0,s|=0;var a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0;if(b=I,I=I+32|0,v=b+16|0,y=b,a=0|ai(0|e,0|t,52),T(),a&=15,m=0|ai(0|n,0|o,52),T(),(0|a)!=(15&m|0))return v=12,I=b,0|v;if(h=0|ai(0|e,0|t,45),T(),h&=127,d=0|ai(0|n,0|o,45),T(),d&=127,h>>>0>121|d>>>0>121)return v=5,I=b,0|v;if(m=(0|h)!=(0|d),m){if(c=0|oe(h,d),7==(0|c))return v=1,I=b,0|v;u=0|oe(d,h),7==(0|u)?E(23066,23090,161,23100):(g=c,l=u)}else g=0,l=0;f=0|Q(h),p=0|Q(d),r[v>>2]=0,r[v+4>>2]=0,r[v+8>>2]=0,r[v+12>>2]=0;do{if(g){if(d=0|r[4272+(28*h|0)+(g<<2)>>2],c=(0|d)>0,p)if(c){h=0,u=n,c=o;do{u=0|vt(u,c),c=0|T(),l=0|ke(l),1==(0|l)&&(l=0|ke(1)),h=h+1|0}while((0|h)!=(0|d));d=l,h=u,u=c}else d=l,h=n,u=o;else if(c){h=0,u=n,c=o;do{u=0|bt(u,c),c=0|T(),l=0|ke(l),h=h+1|0}while((0|h)!=(0|d));d=l,h=u,u=c}else d=l,h=n,u=o;if(St(h,u,v),m||E(23115,23090,191,23100),c=0!=(0|f),l=0!=(0|p),c&l&&E(23142,23090,192,23100),c){if(l=0|gt(e,t),7==(0|l)){a=5;break}if(0|i[21872+(7*l|0)+g>>0]){a=1;break}u=0|r[21040+(28*l|0)+(g<<2)>>2],h=u}else if(l){if(l=0|gt(h,u),7==(0|l)){a=5;break}if(0|i[21872+(7*l|0)+d>>0]){a=1;break}h=0,u=0|r[21040+(28*d|0)+(l<<2)>>2]}else h=0,u=0;if((h|u|0)<0)a=5;else{if((0|u)>0){c=v+4|0,l=0;do{Ce(c),l=l+1|0}while((0|l)!=(0|u))}if(r[y>>2]=0,r[y+4>>2]=0,r[y+8>>2]=0,Ee(y,g),0|a)while(1){if(0|wt(a)?Se(y):Te(y),!((0|a)>1))break;a=a+-1|0}if((0|h)>0){a=0;do{Ce(y),a=a+1|0}while((0|a)!=(0|h))}A=v+4|0,ge(A,y,A),pe(A),A=51}}else if(St(n,o,v),0!=(0|f)&0!=(0|p))if((0|d)!=(0|h)&&E(23173,23090,261,23100),l=0|gt(e,t),a=0|gt(n,o),7==(0|l)|7==(0|a))a=5;else if(0|i[21872+(7*l|0)+a>>0])a=1;else if(l=0|r[21040+(28*l|0)+(a<<2)>>2],(0|l)>0){c=v+4|0,a=0;do{Ce(c),a=a+1|0}while((0|a)!=(0|l));A=51}else A=51;else A=51}while(0);return 51==(0|A)&&(a=v+4|0,r[s>>2]=r[a>>2],r[s+4>>2]=r[a+4>>2],r[s+8>>2]=r[a+8>>2],a=0),v=a,I=b,0|v}function ln(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0;if(g=I,I=I+48|0,u=g+36|0,a=g+24|0,l=g+12|0,c=g,o=0|ai(0|e,0|t,52),T(),o&=15,f=0|ai(0|e,0|t,45),T(),f&=127,f>>>0>121)return i=5,I=g,0|i;if(h=0|Q(f),li(0|o,0,52),A=134225919|T(),s=i,r[s>>2]=-1,r[s+4>>2]=A,!o)return o=0|ve(n),7==(0|o)?(A=1,I=g,0|A):(o=0|re(f,o),127==(0|o)?(A=1,I=g,0|A):(p=0|li(0|o,0,45),m=0|T(),f=i,m=-1040385&r[f+4>>2]|m,A=i,r[A>>2]=r[f>>2]|p,r[A+4>>2]=m,A=0,I=g,0|A));r[u>>2]=r[n>>2],r[u+4>>2]=r[n+4>>2],r[u+8>>2]=r[n+8>>2],n=o;while(1){if(s=n,n=n+-1|0,r[a>>2]=r[u>>2],r[a+4>>2]=r[u+4>>2],r[a+8>>2]=r[u+8>>2],0|wt(s)){if(o=0|be(u),0|o){n=13;break}r[l>>2]=r[u>>2],r[l+4>>2]=r[u+4>>2],r[l+8>>2]=r[u+8>>2],Se(l)}else{if(o=0|_e(u),0|o){n=13;break}r[l>>2]=r[u>>2],r[l+4>>2]=r[u+4>>2],r[l+8>>2]=r[u+8>>2],Te(l)}if(Ae(a,l,c),pe(c),o=i,v=0|r[o>>2],o=0|r[o+4>>2],b=3*(15-s|0)|0,y=0|li(7,0,0|b),o&=~(0|T()),b=0|li(0|ve(c),0,0|b),o=0|T()|o,A=i,r[A>>2]=b|v&~y,r[A+4>>2]=o,(0|s)<=1){n=14;break}}e:do{if(13!=(0|n)&&14==(0|n))if((0|r[u>>2])<=1&&(0|r[u+4>>2])<=1&&(0|r[u+8>>2])<=1){n=0|ve(u),o=0|re(f,n),c=127==(0|o)?0:0|Q(o);t:do{if(n){if(h){if(o=0|gt(e,t),7==(0|o)){o=5;break e}if(s=0|r[21248+(28*o|0)+(n<<2)>>2],(0|s)>0){o=n,n=0;do{o=0|Oe(o),n=n+1|0}while((0|n)!=(0|s))}else o=n;if(1==(0|o)){o=9;break e}n=0|re(f,o),127==(0|n)&&E(23200,23090,411,23230),0|Q(n)?E(23245,23090,412,23230):(m=n,p=s,d=o)}else m=o,p=0,d=n;if(l=0|r[4272+(28*f|0)+(d<<2)>>2],(0|l)<=-1&&E(23276,23090,419,23230),!c){if((0|p)<0){o=5;break e}if(0|p){s=i,o=0,n=0|r[s>>2],s=0|r[s+4>>2];do{n=0|yt(n,s),s=0|T(),b=i,r[b>>2]=n,r[b+4>>2]=s,o=o+1|0}while((0|o)<(0|p))}if((0|l)<=0){o=m,n=58;break}s=i,o=0,n=0|r[s>>2],s=0|r[s+4>>2];while(1)if(n=0|yt(n,s),s=0|T(),b=i,r[b>>2]=n,r[b+4>>2]=s,o=o+1|0,(0|o)==(0|l)){o=m,n=58;break t}}if(a=0|oe(m,f),7==(0|a)&&E(23066,23090,428,23230),o=i,n=0|r[o>>2],o=0|r[o+4>>2],(0|l)>0){s=0;do{n=0|yt(n,o),o=0|T(),b=i,r[b>>2]=n,r[b+4>>2]=o,s=s+1|0}while((0|s)!=(0|l))}if(o=0|gt(n,o),7==(0|o)&&E(23313,23090,440,23230),n=0|J(m),n=0|r[(n?21664:21456)+(28*a|0)+(o<<2)>>2],(0|n)<0&&E(23313,23090,454,23230),n){a=i,o=0,s=0|r[a>>2],a=0|r[a+4>>2];do{s=0|At(s,a),a=0|T(),b=i,r[b>>2]=s,r[b+4>>2]=a,o=o+1|0}while((0|o)<(0|n));o=m,n=58}else o=m,n=58}else if(0!=(0|h)&0!=(0|c)){if(n=0|gt(e,t),s=i,s=0|gt(0|r[s>>2],0|r[s+4>>2]),7==(0|n)|7==(0|s)){o=5;break e}if(s=0|r[21248+(28*n|0)+(s<<2)>>2],(0|s)<0){o=5;break e}if(s){l=i,n=0,a=0|r[l>>2],l=0|r[l+4>>2];do{a=0|yt(a,l),l=0|T(),b=i,r[b>>2]=a,r[b+4>>2]=l,n=n+1|0}while((0|n)<(0|s));n=58}else n=59}else n=58}while(0);if(58==(0|n)&&c&&(n=59),59==(0|n)&&(b=i,1==(0|gt(0|r[b>>2],0|r[b+4>>2])))){o=9;break}b=i,y=0|r[b>>2],b=-1040385&r[b+4>>2],v=0|li(0|o,0,45),b=0|b|T(),o=i,r[o>>2]=y|v,r[o+4>>2]=b,o=0}else o=1}while(0);return b=o,I=g,0|b}function cn(e,t,n,i,r,o){e|=0,t|=0,n|=0,i|=0,r|=0,o|=0;var s=0,a=0;return a=I,I=I+16|0,s=a,r?e=15:(e=0|an(e,t,n,i,s),e||(De(s,o),e=0)),I=a,0|e}function un(e,t,n,i,r){e|=0,t|=0,n|=0,i|=0,r|=0;var o=0,s=0;return s=I,I=I+16|0,o=s,i?n=15:(n=0|Le(n,o),n||(n=0|ln(e,t,o,r))),I=s,0|n}function hn(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0;return c=I,I=I+32|0,a=c+12|0,l=c,s=0|an(e,t,e,t,a),0|s?(l=s,I=c,0|l):(e=0|an(e,t,n,i,l),0|e?(l=e,I=c,0|l):(a=0|Re(a,l),l=o,r[l>>2]=a,r[l+4>>2]=((0|a)<0)<<31>>31,l=0,I=c,0|l))}function dn(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0;return c=I,I=I+32|0,a=c+12|0,l=c,s=0|an(e,t,e,t,a),s||(s=0|an(e,t,n,i,l),s)?(l=s,I=c,0|l):(i=0|Re(a,l),i=0|Qn(0|i,((0|i)<0)<<31>>31|0,1,0),a=0|T(),l=o,r[l>>2]=i,r[l+4>>2]=a,l=0,I=c,0|l)}function fn(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,M=0,C=0;if(M=I,I=I+48|0,a=M+24|0,l=M+12|0,S=M,s=0|an(e,t,e,t,a),!s&&(s=0|an(e,t,n,i,l),!s)){w=0|Re(a,l),x=((0|w)<0)<<31>>31,r[a>>2]=0,r[a+4>>2]=0,r[a+8>>2]=0,r[l>>2]=0,r[l+4>>2]=0,r[l+8>>2]=0,0|an(e,t,e,t,a)&&E(23313,23090,691,23299),0|an(e,t,n,i,l)&&E(23313,23090,696,23299),Ne(a),Ne(l),w?(f=0|r[a>>2],g=+(0|w),v=a+4|0,p=0|r[v>>2],b=a+8|0,m=0|r[b>>2],_=a,i=f,s=p,n=m,A=+((0|r[l>>2])-f|0)/g,y=+((0|r[l+4>>2])-p|0)/g,g=+((0|r[l+8>>2])-m|0)/g):(s=a+4|0,n=a+8|0,v=s,b=n,_=a,i=0|r[a>>2],s=0|r[s>>2],n=0|r[n>>2],A=0,y=0,g=0),r[S>>2]=i,m=S+4|0,r[m>>2]=s,p=S+8|0,r[p>>2]=n;e:do{if((0|w)<0)s=0;else{d=0,f=0,s=i;while(1){h=+(f>>>0)+4294967296*+(0|d),C=A*h+ +(0|s),u=y*h+ +(0|r[v>>2]),h=g*h+ +(0|r[b>>2]),n=~~+hi(+C),a=~~+hi(+u),s=~~+hi(+h),C=+c(+(+(0|n)-C)),u=+c(+(+(0|a)-u)),h=+c(+(+(0|s)-h));do{if(!(C>u&C>h)){if(l=0-n|0,u>h){i=l-s|0;break}i=a,s=l-a|0;break}n=0-(a+s)|0,i=a}while(0);if(r[S>>2]=n,r[m>>2]=i,r[p>>2]=s,Be(S),s=0|ln(e,t,S,o+(f<<3)|0),0|s)break e;if(!((0|d)<(0|x)|(0|d)==(0|x)&f>>>0<w>>>0)){s=0;break e}s=0|Qn(0|f,0|d,1,0),l=0|T(),d=l,f=s,s=0|r[_>>2]}}}while(0);return S=s,I=M,0|S}return S=s,I=M,0|S}function pn(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var r=0,o=0,s=0;if(0==(0|n)&0==(0|i))return r=0,o=1,S(0|r),0|o;o=e,r=t,e=1,t=0;do{s=0==(1&n|0)&!0,e=0|ii(0|(s?1:o),0|(s?0:r),0|e,0|t),t=0|T(),n=0|si(0|n,0|i,1),i=0|T(),o=0|ii(0|o,0|r,0|o,0|r),r=0|T()}while(!(0==(0|n)&0==(0|i)));return S(0|t),0|e}function mn(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0;if(!(0|ce(t,n)))return p=0,0|p;if(t=0|le(t),i=+o[n>>3],s=+o[n+8>>3],s=t&s<0?s+6.283185307179586:s,p=0|r[e>>2],(0|p)<=0)return p=0,0|p;if(f=0|r[e+4>>2],t){t=0,d=s,n=-1,e=0;e:while(1){h=e;while(1){if(l=+o[f+(h<<4)>>3],s=+o[f+(h<<4)+8>>3],e=(n+2|0)%(0|p)|0,a=+o[f+(e<<4)>>3],c=+o[f+(e<<4)+8>>3],l>a?(u=l,l=c):(u=a,a=l,l=s,s=c),i=i==a|i==u?i+2220446049250313e-31:i,!(i<a|i>u))break;if(n=h+1|0,(0|n)>=(0|p)){n=22;break e}e=h,h=n,n=e}if(c=l<0?l+6.283185307179586:l,l=s<0?s+6.283185307179586:s,d=c==d|l==d?d+-2220446049250313e-31:d,u=c+(i-a)/(u-a)*(l-c),(u<0?u+6.283185307179586:u)>d&&(t^=1),e=h+1|0,(0|e)>=(0|p)){n=22;break}n=h}if(22==(0|n))return 0|t}else{t=0,d=s,n=-1,e=0;e:while(1){h=e;while(1){if(l=+o[f+(h<<4)>>3],s=+o[f+(h<<4)+8>>3],e=(n+2|0)%(0|p)|0,a=+o[f+(e<<4)>>3],c=+o[f+(e<<4)+8>>3],l>a?(u=l,l=c):(u=a,a=l,l=s,s=c),i=i==a|i==u?i+2220446049250313e-31:i,!(i<a|i>u))break;if(n=h+1|0,(0|n)>=(0|p)){n=22;break e}e=h,h=n,n=e}if(d=l==d|s==d?d+-2220446049250313e-31:d,l+(i-a)/(u-a)*(s-l)>d&&(t^=1),e=h+1|0,(0|e)>=(0|p)){n=22;break}n=h}if(22==(0|n))return 0|t}return 0}function gn(e,t){e|=0,t|=0;var n=0,i=0,s=0,a=0,l=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0;if(A=0|r[e>>2],!A)return r[t>>2]=0,r[t+4>>2]=0,r[t+8>>2]=0,r[t+12>>2]=0,r[t+16>>2]=0,r[t+20>>2]=0,r[t+24>>2]=0,void(r[t+28>>2]=0);if(y=t+8|0,o[y>>3]=17976931348623157e292,v=t+24|0,o[v>>3]=17976931348623157e292,o[t>>3]=-17976931348623157e292,b=t+16|0,o[b>>3]=-17976931348623157e292,!((0|A)<=0)){m=0|r[e+4>>2],d=17976931348623157e292,f=-17976931348623157e292,p=0,e=-1,a=17976931348623157e292,l=17976931348623157e292,h=-17976931348623157e292,i=-17976931348623157e292,g=0;while(1){if(n=+o[m+(g<<4)>>3],u=+o[m+(g<<4)+8>>3],e=e+2|0,s=+o[m+(((0|e)==(0|A)?0:e)<<4)+8>>3],n<a&&(o[y>>3]=n,a=n),u<l&&(o[v>>3]=u,l=u),n>h?o[t>>3]=n:n=h,u>i&&(o[b>>3]=u,i=u),d=u>0&u<d?u:d,f=u<0&u>f?u:f,p|=+c(+(u-s))>3.141592653589793,e=g+1|0,(0|e)==(0|A))break;_=g,h=n,g=e,e=_}p&&(o[b>>3]=f,o[v>>3]=d)}}function An(e,t){e|=0,t|=0;var n=0,i=0,s=0,a=0,l=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0,x=0,S=0,T=0,E=0;if(A=0|r[e>>2],A){if(y=t+8|0,o[y>>3]=17976931348623157e292,v=t+24|0,o[v>>3]=17976931348623157e292,o[t>>3]=-17976931348623157e292,b=t+16|0,o[b>>3]=-17976931348623157e292,(0|A)>0){s=0|r[e+4>>2],m=17976931348623157e292,g=-17976931348623157e292,i=0,n=-1,h=17976931348623157e292,d=17976931348623157e292,p=-17976931348623157e292,l=-17976931348623157e292,_=0;while(1){if(a=+o[s+(_<<4)>>3],f=+o[s+(_<<4)+8>>3],T=n+2|0,u=+o[s+(((0|T)==(0|A)?0:T)<<4)+8>>3],a<h&&(o[y>>3]=a,h=a),f<d&&(o[v>>3]=f,d=f),a>p?o[t>>3]=a:a=p,f>l&&(o[b>>3]=f,l=f),m=f>0&f<m?f:m,g=f<0&f>g?f:g,i|=+c(+(f-u))>3.141592653589793,n=_+1|0,(0|n)==(0|A))break;T=_,p=a,_=n,n=T}i&&(o[b>>3]=g,o[v>>3]=m)}}else r[t>>2]=0,r[t+4>>2]=0,r[t+8>>2]=0,r[t+12>>2]=0,r[t+16>>2]=0,r[t+20>>2]=0,r[t+24>>2]=0,r[t+28>>2]=0;if(T=e+8|0,n=0|r[T>>2],!((0|n)<=0)){S=e+12|0,x=0;do{if(s=0|r[S>>2],i=x,x=x+1|0,v=t+(x<<5)|0,b=0|r[s+(i<<3)>>2],b){if(_=t+(x<<5)+8|0,o[_>>3]=17976931348623157e292,e=t+(x<<5)+24|0,o[e>>3]=17976931348623157e292,o[v>>3]=-17976931348623157e292,w=t+(x<<5)+16|0,o[w>>3]=-17976931348623157e292,(0|b)>0){A=0|r[s+(i<<3)+4>>2],m=17976931348623157e292,g=-17976931348623157e292,s=0,i=-1,y=0,h=17976931348623157e292,d=17976931348623157e292,f=-17976931348623157e292,l=-17976931348623157e292;while(1){if(a=+o[A+(y<<4)>>3],p=+o[A+(y<<4)+8>>3],i=i+2|0,u=+o[A+(((0|i)==(0|b)?0:i)<<4)+8>>3],a<h&&(o[_>>3]=a,h=a),p<d&&(o[e>>3]=p,d=p),a>f?o[v>>3]=a:a=f,p>l&&(o[w>>3]=p,l=p),m=p>0&p<m?p:m,g=p<0&p>g?p:g,s|=+c(+(p-u))>3.141592653589793,i=y+1|0,(0|i)==(0|b))break;E=y,y=i,f=a,i=E}s&&(o[w>>3]=g,o[e>>3]=m)}}else r[v>>2]=0,r[v+4>>2]=0,r[v+8>>2]=0,r[v+12>>2]=0,r[v+16>>2]=0,r[v+20>>2]=0,r[v+24>>2]=0,r[v+28>>2]=0,n=0|r[T>>2]}while((0|x)<(0|n))}}function yn(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0;if(!(0|mn(e,t,n)))return o=0,0|o;if(o=e+8|0,(0|r[o>>2])<=0)return o=1,0|o;i=e+12|0,e=0;while(1){if(s=e,e=e+1|0,0|mn((0|r[i>>2])+(s<<3)|0,t+(e<<5)|0,n)){e=0,i=6;break}if((0|e)>=(0|r[o>>2])){e=1,i=6;break}}return 6==(0|i)?0|e:0}function vn(){return 8}function bn(){return 16}function _n(){return 168}function wn(){return 8}function xn(){return 16}function Sn(){return 12}function Tn(){return 8}function En(e){return e|=0,+(+((0|r[e>>2])>>>0)+4294967296*+(0|r[e+4>>2]))}function Mn(e){e|=0;var t=0,n=0;return n=+o[e>>3],t=+o[e+8>>3],+ +u(+(n*n+t*t))}function Cn(e,t,n,i,r){e|=0,t|=0,n|=0,i|=0,r|=0;var s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0;u=+o[e>>3],c=+o[t>>3]-u,l=+o[e+8>>3],a=+o[t+8>>3]-l,d=+o[n>>3],s=+o[i>>3]-d,f=+o[n+8>>3],h=+o[i+8>>3]-f,s=(s*(l-f)-(u-d)*h)/(c*h-a*s),o[r>>3]=u+c*s,o[r+8>>3]=l+a*s}function On(e,t){return e|=0,t|=0,+c(+(+o[e>>3]-+o[t>>3]))<1.1920928955078125e-7?(t=+c(+(+o[e+8>>3]-+o[t+8>>3]))<1.1920928955078125e-7,0|t):(t=0,0|t)}function kn(e,t){e|=0,t|=0;var n=0,i=0,r=0;return r=+o[e>>3]-+o[t>>3],i=+o[e+8>>3]-+o[t+8>>3],n=+o[e+16>>3]-+o[t+16>>3],+(r*r+i*i+n*n)}function Pn(e,t){e|=0,t|=0;var n=0,i=0,r=0;n=+o[e>>3],i=+d(+n),n=+f(+n),o[t+16>>3]=n,n=+o[e+8>>3],r=i*+d(+n),o[t>>3]=r,n=i*+f(+n),o[t+8>>3]=n}function In(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0;if(s=I,I=I+16|0,o=s,i=0|lt(e,t),(n+-1|0)>>>0>5)return o=-1,I=s,0|o;if(i=0!=(0|i),1==(0|n)&i)return o=-1,I=s,0|o;do{if(!(0|Rn(e,t,o))){if(i){i=(5+(0|r[21936+(n<<2)>>2])-(0|r[o>>2])|0)%5|0;break}i=(6+(0|r[21968+(n<<2)>>2])-(0|r[o>>2])|0)%6|0;break}i=-1}while(0);return o=i,I=s,0|o}function Rn(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0,l=0,c=0,u=0;if(u=I,I=I+32|0,a=u+16|0,l=u,i=0|Tt(e,t,a),0|i)return n=i,I=u,0|n;s=0|rt(e,t),c=0|gt(e,t),te(s,l),i=0|ne(s,0|r[a>>2]);e:do{if(0|Q(s)){do{switch(0|s){case 4:e=0;break;case 14:e=1;break;case 24:e=2;break;case 38:e=3;break;case 49:e=4;break;case 58:e=5;break;case 63:e=6;break;case 72:e=7;break;case 83:e=8;break;case 97:e=9;break;case 107:e=10;break;case 117:e=11;break;default:i=1;break e}}while(0);if(o=0|r[22e3+(24*e|0)+8>>2],t=0|r[22e3+(24*e|0)+16>>2],e=0|r[a>>2],(0|e)!=(0|r[l>>2])&&(l=0|J(s),e=0|r[a>>2],l|(0|e)==(0|t)&&(i=(i+1|0)%6|0)),3==(0|c)&(0|e)==(0|t)){i=(i+5|0)%6|0,o=22;break}5==(0|c)&(0|e)==(0|o)?(i=(i+1|0)%6|0,o=22):o=22}else o=22}while(0);return 22==(0|o)&&(r[n>>2]=i,i=0),n=i,I=u,0|n}function Dn(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0;if(b=I,I=I+32|0,v=b+24|0,A=b+20|0,m=b+8|0,p=b+16|0,f=b,c=0==(0|lt(e,t)),c=c?6:5,h=0|ai(0|e,0|t,52),T(),h&=15,c>>>0<=n>>>0)return i=2,I=b,0|i;d=0==(0|h),!d&&(g=0|li(7,0,3*(15^h)|0),0==(g&e|0)&0==((0|T())&t|0))?o=n:s=4;e:do{if(4==(0|s)){if(o=0!=(0|lt(e,t)),(0|(o?4:5))<(0|n))return i=1,I=b,0|i;if(0|Rn(e,t,v))return i=1,I=b,0|i;if(s=(0|r[v>>2])+n|0,o=o?22288+(((0|s)%5|0)<<2)|0:22320+(((0|s)%6|0)<<2)|0,g=0|r[o>>2],7==(0|g))return i=1,I=b,0|i;r[A>>2]=0,o=0|V(e,t,g,A,m);do{if(!o){if(l=m,u=0|r[l>>2],l=0|r[l+4>>2],a=l>>>0<t>>>0|(0|l)==(0|t)&u>>>0<e>>>0,s=a?u:e,a=a?l:t,!d&&(d=0|li(7,0,3*(15^h)|0),0==(u&d|0)&0==(l&(0|T())|0)))o=n;else{if(l=(n+-1+c|0)%(0|c)|0,o=0|lt(e,t),(0|l)<0&&E(23313,23315,245,23324),c=0!=(0|o),(0|(c?4:5))<(0|l)&&E(23313,23315,245,23324),0|Rn(e,t,v)&&E(23313,23315,245,23324),o=(0|r[v>>2])+l|0,o=c?22288+(((0|o)%5|0)<<2)|0:22320+(((0|o)%6|0)<<2)|0,l=0|r[o>>2],7==(0|l)&&E(23313,23315,245,23324),r[p>>2]=0,o=0|V(e,t,l,p,f),0|o)break;u=f,c=0|r[u>>2],u=0|r[u+4>>2];do{if(u>>>0<a>>>0|(0|u)==(0|a)&c>>>0<s>>>0){if(s=0|lt(c,u)?0|H(c,u,e,t):0|r[22384+((((0|r[p>>2])+(0|r[22352+(l<<2)>>2])|0)%6|0)<<2)>>2],o=0|lt(c,u),(s+-1|0)>>>0>5){o=-1,s=c,a=u;break}if(o=0!=(0|o),1==(0|s)&o){o=-1,s=c,a=u;break}do{if(!(0|Rn(c,u,v))){if(o){o=(5+(0|r[21936+(s<<2)>>2])-(0|r[v>>2])|0)%5|0;break}o=(6+(0|r[21968+(s<<2)>>2])-(0|r[v>>2])|0)%6|0;break}o=-1}while(0);s=c,a=u}else o=n}while(0);l=m,u=0|r[l>>2],l=0|r[l+4>>2]}if((0|s)==(0|u)&(0|a)==(0|l)){if(c=0!=(0|lt(u,l)),e=c?0|H(u,l,e,t):0|r[22384+((((0|r[A>>2])+(0|r[22352+(g<<2)>>2])|0)%6|0)<<2)>>2],o=0|lt(u,l),(e+-1|0)>>>0<=5&&(y=0!=(0|o),!(1==(0|e)&y)))do{if(!(0|Rn(u,l,v))){if(y){o=(5+(0|r[21936+(e<<2)>>2])-(0|r[v>>2])|0)%5|0;break}o=(6+(0|r[21968+(e<<2)>>2])-(0|r[v>>2])|0)%6|0;break}o=-1}while(0);else o=-1;o=o+1|0,o=6==(0|o)|c&5==(0|o)?0:o}t=a,e=s;break e}}while(0);return i=o,I=b,0|i}}while(0);return y=0|li(0|o,0,56),v=0|T()|-2130706433&t|536870912,r[i>>2]=y|e,r[i+4>>2]=v,i=0,I=b,0|i}function Ln(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0;return s=0==(0|lt(e,t)),i=0|Dn(e,t,0,n),o=0==(0|i),s?o?(i=0|Dn(e,t,1,n+8|0),0|i?(s=i,0|s):(i=0|Dn(e,t,2,n+16|0),0|i?(s=i,0|s):(i=0|Dn(e,t,3,n+24|0),0|i?(s=i,0|s):(i=0|Dn(e,t,4,n+32|0),i?(s=i,0|s):0|Dn(e,t,5,n+40|0))))):(s=i,0|s):o?(i=0|Dn(e,t,1,n+8|0),0|i?(s=i,0|s):(i=0|Dn(e,t,2,n+16|0),0|i?(s=i,0|s):(i=0|Dn(e,t,3,n+24|0),0|i?(s=i,0|s):(i=0|Dn(e,t,4,n+32|0),0|i?(s=i,0|s):(s=n+40|0,r[s>>2]=0,r[s+4>>2]=0,s=0,0|s))))):(s=i,0|s)}function Nn(e,t,n){e|=0,t|=0,n|=0;var i=0,o=0,s=0,a=0,l=0,c=0;return c=I,I=I+192|0,o=c,s=c+168|0,a=0|ai(0|e,0|t,56),T(),a&=7,l=-2130706433&t|134217728,i=0|Tt(e,l,s),0|i?(l=i,I=c,0|l):(t=0|ai(0|e,0|t,52),T(),t&=15,0|lt(e,l)?Qe(s,t,a,1,o):tt(s,t,a,1,o),l=o+8|0,r[n>>2]=r[l>>2],r[n+4>>2]=r[l+4>>2],r[n+8>>2]=r[l+8>>2],r[n+12>>2]=r[l+12>>2],l=0,I=c,0|l)}function Bn(e,t){e|=0,t|=0;var n=0,i=0,o=0,s=0;return o=I,I=I+16|0,n=o,!0&536870912==(2013265920&t|0)?(i=-2130706433&t|134217728,0|ot(e,i)?(s=0|ai(0|e,0|t,56),T(),s=0==(0|Dn(e,i,7&s,n)),i=n,i=s&((0|r[i>>2])==(0|e)?(0|r[i+4>>2])==(0|t):0)&1,I=o,0|i):(i=0,I=o,0|i)):(i=0,I=o,0|i)}function Fn(e,t,n){e|=0,t|=0,n|=0;var i=0;(0|t)>0?(i=0|Kn(t,4),r[e>>2]=i,i||E(23337,23360,40,23374)):r[e>>2]=0,r[e+4>>2]=t,r[e+8>>2]=0,r[e+12>>2]=n}function jn(e){e|=0;var t=0,n=0,i=0,s=0,a=0,l=0,u=0;s=e+4|0,a=e+12|0,l=e+8|0;e:while(1){n=0|r[s>>2],t=0;while(1){if((0|t)>=(0|n))break e;if(i=0|r[e>>2],u=0|r[i+(t<<2)>>2],u)break;t=t+1|0}t=i+(~~(+c(+ +h(10,+ +(15-(0|r[a>>2])|0))*(+o[u>>3]+ +o[u+8>>3]))%+(0|n))>>>0<<2)|0,n=0|r[t>>2];t:do{if(0|n){if(i=u+32|0,(0|n)==(0|u))r[t>>2]=r[i>>2];else{if(n=n+32|0,t=0|r[n>>2],!t)break;while(1){if((0|t)==(0|u))break;if(n=t+32|0,t=0|r[n>>2],!t)break t}r[n>>2]=r[i>>2]}Yn(u),r[l>>2]=(0|r[l>>2])-1}}while(0)}Yn(0|r[e>>2])}function Un(e){e|=0;var t=0,n=0,i=0;i=0|r[e+4>>2],n=0;while(1){if((0|n)>=(0|i)){t=0,n=4;break}if(t=0|r[(0|r[e>>2])+(n<<2)>>2],t){n=4;break}n=n+1|0}return 4==(0|n)?0|t:0}function zn(e,t){e|=0,t|=0;var n=0,i=0,s=0,a=0;if(n=~~(+c(+ +h(10,+ +(15-(0|r[e+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|r[e+4>>2]))>>>0,n=(0|r[e>>2])+(n<<2)|0,i=0|r[n>>2],!i)return a=1,0|a;a=t+32|0;do{if((0|i)!=(0|t)){if(n=0|r[i+32>>2],!n)return a=1,0|a;s=n;while(1){if((0|s)==(0|t)){s=8;break}if(n=0|r[s+32>>2],!n){n=1,s=10;break}i=s,s=n}if(8==(0|s)){r[i+32>>2]=r[a>>2];break}if(10==(0|s))return 0|n}else r[n>>2]=r[a>>2]}while(0);return Yn(t),a=e+8|0,r[a>>2]=(0|r[a>>2])-1,a=0,0|a}function qn(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0,a=0,l=0;a=0|Xn(40),a||E(23390,23360,98,23403),r[a>>2]=r[t>>2],r[a+4>>2]=r[t+4>>2],r[a+8>>2]=r[t+8>>2],r[a+12>>2]=r[t+12>>2],s=a+16|0,r[s>>2]=r[n>>2],r[s+4>>2]=r[n+4>>2],r[s+8>>2]=r[n+8>>2],r[s+12>>2]=r[n+12>>2],r[a+32>>2]=0,s=~~(+c(+ +h(10,+ +(15-(0|r[e+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|r[e+4>>2]))>>>0,s=(0|r[e>>2])+(s<<2)|0,i=0|r[s>>2];do{if(i){while(1){if(0|Bt(i,t)&&0|Bt(i+16|0,n))break;if(s=0|r[i+32>>2],i=0==(0|s)?i:s,!(0|r[i+32>>2])){l=10;break}}if(10==(0|l)){r[i+32>>2]=a;break}return Yn(a),l=i,0|l}r[s>>2]=a}while(0);return l=e+8|0,r[l>>2]=1+(0|r[l>>2]),l=a,0|l}function Vn(e,t,n){e|=0,t|=0,n|=0;var i=0,s=0;if(s=~~(+c(+ +h(10,+ +(15-(0|r[e+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|r[e+4>>2]))>>>0,s=0|r[(0|r[e>>2])+(s<<2)>>2],!s)return n=0,0|n;if(!n){e=s;while(1){if(0|Bt(e,t)){i=10;break}if(e=0|r[e+32>>2],!e){e=0,i=10;break}}if(10==(0|i))return 0|e}e=s;while(1){if(0|Bt(e,t)&&0|Bt(e+16|0,n)){i=10;break}if(e=0|r[e+32>>2],!e){e=0,i=10;break}}return 10==(0|i)?0|e:0}function Hn(e,t){e|=0,t|=0;var n=0;if(n=~~(+c(+ +h(10,+ +(15-(0|r[e+12>>2])|0))*(+o[t>>3]+ +o[t+8>>3]))%+(0|r[e+4>>2]))>>>0,e=0|r[(0|r[e>>2])+(n<<2)>>2],!e)return n=0,0|n;while(1){if(0|Bt(e,t)){t=5;break}if(e=0|r[e+32>>2],!e){e=0,t=5;break}}return 5==(0|t)?0|e:0}function Gn(){return 23424}function Wn(e){return e=+e,+ +pi(+e)}function $n(e){return e=+e,0|~~+Wn(e)}function Xn(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,A=0,y=0,v=0,b=0,_=0,w=0;w=I,I=I+16|0,f=w;do{if(e>>>0<245){if(u=e>>>0<11?16:e+11&-8,e=u>>>3,d=0|r[5857],n=d>>>e,3&n|0)return t=(1&n^1)+e|0,e=23468+(t<<1<<2)|0,n=e+8|0,i=0|r[n>>2],o=i+8|0,s=0|r[o>>2],(0|s)==(0|e)?r[5857]=d&~(1<<t):(r[s+12>>2]=e,r[n>>2]=s),_=t<<3,r[i+4>>2]=3|_,_=i+_+4|0,r[_>>2]=1|r[_>>2],_=o,I=w,0|_;if(h=0|r[5859],u>>>0>h>>>0){if(0|n)return t=2<<e,t=n<<e&(t|0-t),t=(t&0-t)-1|0,l=t>>>12&16,t>>>=l,n=t>>>5&8,t>>>=n,s=t>>>2&4,t>>>=s,e=t>>>1&2,t>>>=e,i=t>>>1&1,i=(n|l|s|e|i)+(t>>>i)|0,t=23468+(i<<1<<2)|0,e=t+8|0,s=0|r[e>>2],l=s+8|0,n=0|r[l>>2],(0|n)==(0|t)?(e=d&~(1<<i),r[5857]=e):(r[n+12>>2]=t,r[e>>2]=n,e=d),_=i<<3,a=_-u|0,r[s+4>>2]=3|u,o=s+u|0,r[o+4>>2]=1|a,r[s+_>>2]=a,0|h&&(i=0|r[5862],t=h>>>3,n=23468+(t<<1<<2)|0,t=1<<t,e&t?(e=n+8|0,t=0|r[e>>2]):(r[5857]=e|t,t=n,e=n+8|0),r[e>>2]=i,r[t+12>>2]=i,r[i+8>>2]=t,r[i+12>>2]=n),r[5859]=a,r[5862]=o,_=l,I=w,0|_;if(s=0|r[5858],s){n=(s&0-s)-1|0,o=n>>>12&16,n>>>=o,i=n>>>5&8,n>>>=i,a=n>>>2&4,n>>>=a,l=n>>>1&2,n>>>=l,c=n>>>1&1,c=0|r[23732+((i|o|a|l|c)+(n>>>c)<<2)>>2],n=c,l=c,c=(-8&r[c+4>>2])-u|0;while(1){if(e=0|r[n+16>>2],!e&&(e=0|r[n+20>>2],!e))break;a=(-8&r[e+4>>2])-u|0,o=a>>>0<c>>>0,n=e,l=o?e:l,c=o?a:c}if(a=l+u|0,a>>>0>l>>>0){o=0|r[l+24>>2],t=0|r[l+12>>2];do{if((0|t)==(0|l)){if(e=l+20|0,t=0|r[e>>2],!t&&(e=l+16|0,t=0|r[e>>2],!t)){n=0;break}while(1)if(i=t+20|0,n=0|r[i>>2],n)t=n,e=i;else{if(i=t+16|0,n=0|r[i>>2],!n)break;t=n,e=i}r[e>>2]=0,n=t}else n=0|r[l+8>>2],r[n+12>>2]=t,r[t+8>>2]=n,n=t}while(0);do{if(0|o){if(t=0|r[l+28>>2],e=23732+(t<<2)|0,(0|l)==(0|r[e>>2])){if(r[e>>2]=n,!n){r[5858]=s&~(1<<t);break}}else if(_=o+16|0,r[((0|r[_>>2])==(0|l)?_:o+20|0)>>2]=n,!n)break;r[n+24>>2]=o,t=0|r[l+16>>2],0|t&&(r[n+16>>2]=t,r[t+24>>2]=n),t=0|r[l+20>>2],0|t&&(r[n+20>>2]=t,r[t+24>>2]=n)}}while(0);return c>>>0<16?(_=c+u|0,r[l+4>>2]=3|_,_=l+_+4|0,r[_>>2]=1|r[_>>2]):(r[l+4>>2]=3|u,r[a+4>>2]=1|c,r[a+c>>2]=c,0|h&&(i=0|r[5862],t=h>>>3,n=23468+(t<<1<<2)|0,t=1<<t,t&d?(e=n+8|0,t=0|r[e>>2]):(r[5857]=t|d,t=n,e=n+8|0),r[e>>2]=i,r[t+12>>2]=i,r[i+8>>2]=t,r[i+12>>2]=n),r[5859]=c,r[5862]=a),_=l+8|0,I=w,0|_}d=u}else d=u}else d=u}else if(e>>>0<=4294967231)if(e=e+11|0,u=-8&e,i=0|r[5858],i){o=0-u|0,e>>>=8,e?u>>>0>16777215?c=31:(d=(e+1048320|0)>>>16&8,g=e<<d,l=(g+520192|0)>>>16&4,g<<=l,c=(g+245760|0)>>>16&2,c=14-(l|d|c)+(g<<c>>>15)|0,c=u>>>(c+7|0)&1|c<<1):c=0,n=0|r[23732+(c<<2)>>2];e:do{if(n){e=0,l=u<<(31==(0|c)?0:25-(c>>>1)|0),s=0;while(1){if(a=(-8&r[n+4>>2])-u|0,a>>>0<o>>>0){if(!a){e=n,o=0,g=65;break e}e=n,o=a}if(g=0|r[n+20>>2],n=0|r[n+16+(l>>>31<<2)>>2],s=0==(0|g)|(0|g)==(0|n)?s:g,!n){n=s,g=61;break}l<<=1}}else n=0,e=0,g=61}while(0);if(61==(0|g)){if(0==(0|n)&0==(0|e)){if(e=2<<c,e=(e|0-e)&i,!e){d=u;break}d=(e&0-e)-1|0,a=d>>>12&16,d>>>=a,s=d>>>5&8,d>>>=s,l=d>>>2&4,d>>>=l,c=d>>>1&2,d>>>=c,n=d>>>1&1,e=0,n=0|r[23732+((s|a|l|c|n)+(d>>>n)<<2)>>2]}n?g=65:(l=e,a=o)}if(65==(0|g)){s=n;while(1){if(d=(-8&r[s+4>>2])-u|0,n=d>>>0<o>>>0,o=n?d:o,e=n?s:e,n=0|r[s+16>>2],n||(n=0|r[s+20>>2]),!n){l=e,a=o;break}s=n}}if(0!=(0|l)&&a>>>0<((0|r[5859])-u|0)>>>0&&(h=l+u|0,h>>>0>l>>>0)){s=0|r[l+24>>2],t=0|r[l+12>>2];do{if((0|t)==(0|l)){if(e=l+20|0,t=0|r[e>>2],!t&&(e=l+16|0,t=0|r[e>>2],!t)){t=0;break}while(1)if(o=t+20|0,n=0|r[o>>2],n)t=n,e=o;else{if(o=t+16|0,n=0|r[o>>2],!n)break;t=n,e=o}r[e>>2]=0}else _=0|r[l+8>>2],r[_+12>>2]=t,r[t+8>>2]=_}while(0);do{if(s){if(e=0|r[l+28>>2],n=23732+(e<<2)|0,(0|l)==(0|r[n>>2])){if(r[n>>2]=t,!t){i&=~(1<<e),r[5858]=i;break}}else if(_=s+16|0,r[((0|r[_>>2])==(0|l)?_:s+20|0)>>2]=t,!t)break;r[t+24>>2]=s,e=0|r[l+16>>2],0|e&&(r[t+16>>2]=e,r[e+24>>2]=t),e=0|r[l+20>>2],e&&(r[t+20>>2]=e,r[e+24>>2]=t)}}while(0);e:do{if(a>>>0<16)_=a+u|0,r[l+4>>2]=3|_,_=l+_+4|0,r[_>>2]=1|r[_>>2];else{if(r[l+4>>2]=3|u,r[h+4>>2]=1|a,r[h+a>>2]=a,t=a>>>3,a>>>0<256){n=23468+(t<<1<<2)|0,e=0|r[5857],t=1<<t,e&t?(e=n+8|0,t=0|r[e>>2]):(r[5857]=e|t,t=n,e=n+8|0),r[e>>2]=h,r[t+12>>2]=h,r[h+8>>2]=t,r[h+12>>2]=n;break}if(t=a>>>8,t?a>>>0>16777215?n=31:(b=(t+1048320|0)>>>16&8,_=t<<b,v=(_+520192|0)>>>16&4,_<<=v,n=(_+245760|0)>>>16&2,n=14-(v|b|n)+(_<<n>>>15)|0,n=a>>>(n+7|0)&1|n<<1):n=0,t=23732+(n<<2)|0,r[h+28>>2]=n,e=h+16|0,r[e+4>>2]=0,r[e>>2]=0,e=1<<n,!(i&e)){r[5858]=i|e,r[t>>2]=h,r[h+24>>2]=t,r[h+12>>2]=h,r[h+8>>2]=h;break}t=0|r[t>>2];t:do{if((-8&r[t+4>>2]|0)!=(0|a)){i=a<<(31==(0|n)?0:25-(n>>>1)|0);while(1){if(n=t+16+(i>>>31<<2)|0,e=0|r[n>>2],!e)break;if((-8&r[e+4>>2]|0)==(0|a)){t=e;break t}i<<=1,t=e}r[n>>2]=h,r[h+24>>2]=t,r[h+12>>2]=h,r[h+8>>2]=h;break e}}while(0);b=t+8|0,_=0|r[b>>2],r[_+12>>2]=h,r[b>>2]=h,r[h+8>>2]=_,r[h+12>>2]=t,r[h+24>>2]=0}}while(0);return _=l+8|0,I=w,0|_}d=u}else d=u;else d=-1}while(0);if(n=0|r[5859],n>>>0>=d>>>0)return t=n-d|0,e=0|r[5862],t>>>0>15?(_=e+d|0,r[5862]=_,r[5859]=t,r[_+4>>2]=1|t,r[e+n>>2]=t,r[e+4>>2]=3|d):(r[5859]=0,r[5862]=0,r[e+4>>2]=3|n,_=e+n+4|0,r[_>>2]=1|r[_>>2]),_=e+8|0,I=w,0|_;if(a=0|r[5860],a>>>0>d>>>0)return v=a-d|0,r[5860]=v,_=0|r[5863],b=_+d|0,r[5863]=b,r[b+4>>2]=1|v,r[_+4>>2]=3|d,_=_+8|0,I=w,0|_;if(0|r[5975]?e=0|r[5977]:(r[5977]=4096,r[5976]=4096,r[5978]=-1,r[5979]=-1,r[5980]=0,r[5968]=0,r[5975]=-16&f^1431655768,e=4096),l=d+48|0,c=d+47|0,s=e+c|0,o=0-e|0,u=s&o,u>>>0<=d>>>0)return _=0,I=w,0|_;if(e=0|r[5967],0|e&&(h=0|r[5965],f=h+u|0,f>>>0<=h>>>0|f>>>0>e>>>0))return _=0,I=w,0|_;e:do{if(4&r[5968])t=0,g=143;else{n=0|r[5863];t:do{if(n){i=23876;while(1){if(f=0|r[i>>2],f>>>0<=n>>>0&&(f+(0|r[i+4>>2])|0)>>>0>n>>>0)break;if(e=0|r[i+8>>2],!e){g=128;break t}i=e}if(t=s-a&o,t>>>0<2147483647)if(e=0|mi(0|t),(0|e)==((0|r[i>>2])+(0|r[i+4>>2])|0)){if(-1!=(0|e)){a=t,s=e,g=145;break e}}else i=e,g=136;else t=0}else g=128}while(0);do{if(128==(0|g))if(n=0|mi(0),-1!=(0|n)&&(t=n,p=0|r[5976],m=p+-1|0,t=(0==(m&t|0)?0:(m+t&0-p)-t|0)+u|0,p=0|r[5965],m=t+p|0,t>>>0>d>>>0&t>>>0<2147483647)){if(f=0|r[5967],0|f&&m>>>0<=p>>>0|m>>>0>f>>>0){t=0;break}if(e=0|mi(0|t),(0|e)==(0|n)){a=t,s=n,g=145;break e}i=e,g=136}else t=0}while(0);do{if(136==(0|g)){if(n=0-t|0,!(l>>>0>t>>>0&t>>>0<2147483647&-1!=(0|i))){if(-1==(0|i)){t=0;break}a=t,s=i,g=145;break e}if(e=0|r[5977],e=c-t+e&0-e,e>>>0>=2147483647){a=t,s=i,g=145;break e}if(-1==(0|mi(0|e))){mi(0|n),t=0;break}a=e+t|0,s=i,g=145;break e}}while(0);r[5968]=4|r[5968],g=143}}while(0);if(143==(0|g)&&u>>>0<2147483647&&(v=0|mi(0|u),m=0|mi(0),A=m-v|0,y=A>>>0>(d+40|0)>>>0,!(-1==(0|v)|1^y|v>>>0<m>>>0&-1!=(0|v)&-1!=(0|m)^1))&&(a=y?A:t,s=v,g=145),145==(0|g)){t=(0|r[5965])+a|0,r[5965]=t,t>>>0>(0|r[5966])>>>0&&(r[5966]=t),c=0|r[5863];e:do{if(c){t=23876;while(1){if(e=0|r[t>>2],n=0|r[t+4>>2],(0|s)==(e+n|0)){g=154;break}if(i=0|r[t+8>>2],!i)break;t=i}if(154==(0|g)&&(b=t+4|0,0==(8&r[t+12>>2]|0))&&s>>>0>c>>>0&e>>>0<=c>>>0){r[b>>2]=n+a,_=(0|r[5860])+a|0,v=c+8|0,v=0==(7&v|0)?0:0-v&7,b=c+v|0,v=_-v|0,r[5863]=b,r[5860]=v,r[b+4>>2]=1|v,r[c+_+4>>2]=40,r[5864]=r[5979];break}s>>>0<(0|r[5861])>>>0&&(r[5861]=s),n=s+a|0,t=23876;while(1){if((0|r[t>>2])==(0|n)){g=162;break}if(e=0|r[t+8>>2],!e)break;t=e}if(162==(0|g)&&0==(8&r[t+12>>2]|0)){r[t>>2]=s,h=t+4|0,r[h>>2]=(0|r[h>>2])+a,h=s+8|0,h=s+(0==(7&h|0)?0:0-h&7)|0,t=n+8|0,t=n+(0==(7&t|0)?0:0-t&7)|0,u=h+d|0,l=t-h-d|0,r[h+4>>2]=3|d;t:do{if((0|c)==(0|t))_=(0|r[5860])+l|0,r[5860]=_,r[5863]=u,r[u+4>>2]=1|_;else{if((0|r[5862])==(0|t)){_=(0|r[5859])+l|0,r[5859]=_,r[5862]=u,r[u+4>>2]=1|_,r[u+_>>2]=_;break}if(e=0|r[t+4>>2],1==(3&e|0)){a=-8&e,i=e>>>3;n:do{if(e>>>0<256){if(e=0|r[t+8>>2],n=0|r[t+12>>2],(0|n)==(0|e)){r[5857]=r[5857]&~(1<<i);break}r[e+12>>2]=n,r[n+8>>2]=e;break}s=0|r[t+24>>2],e=0|r[t+12>>2];do{if((0|e)==(0|t)){if(n=t+16|0,i=n+4|0,e=0|r[i>>2],e)n=i;else if(e=0|r[n>>2],!e){e=0;break}while(1)if(o=e+20|0,i=0|r[o>>2],i)e=i,n=o;else{if(o=e+16|0,i=0|r[o>>2],!i)break;e=i,n=o}r[n>>2]=0}else _=0|r[t+8>>2],r[_+12>>2]=e,r[e+8>>2]=_}while(0);if(!s)break;n=0|r[t+28>>2],i=23732+(n<<2)|0;do{if((0|r[i>>2])==(0|t)){if(r[i>>2]=e,0|e)break;r[5858]=r[5858]&~(1<<n);break n}if(_=s+16|0,r[((0|r[_>>2])==(0|t)?_:s+20|0)>>2]=e,!e)break n}while(0);if(r[e+24>>2]=s,n=t+16|0,i=0|r[n>>2],0|i&&(r[e+16>>2]=i,r[i+24>>2]=e),n=0|r[n+4>>2],!n)break;r[e+20>>2]=n,r[n+24>>2]=e}while(0);t=t+a|0,o=a+l|0}else o=l;if(t=t+4|0,r[t>>2]=-2&r[t>>2],r[u+4>>2]=1|o,r[u+o>>2]=o,t=o>>>3,o>>>0<256){n=23468+(t<<1<<2)|0,e=0|r[5857],t=1<<t,e&t?(e=n+8|0,t=0|r[e>>2]):(r[5857]=e|t,t=n,e=n+8|0),r[e>>2]=u,r[t+12>>2]=u,r[u+8>>2]=t,r[u+12>>2]=n;break}t=o>>>8;do{if(t){if(o>>>0>16777215){i=31;break}b=(t+1048320|0)>>>16&8,_=t<<b,v=(_+520192|0)>>>16&4,_<<=v,i=(_+245760|0)>>>16&2,i=14-(v|b|i)+(_<<i>>>15)|0,i=o>>>(i+7|0)&1|i<<1}else i=0}while(0);if(t=23732+(i<<2)|0,r[u+28>>2]=i,e=u+16|0,r[e+4>>2]=0,r[e>>2]=0,e=0|r[5858],n=1<<i,!(e&n)){r[5858]=e|n,r[t>>2]=u,r[u+24>>2]=t,r[u+12>>2]=u,r[u+8>>2]=u;break}t=0|r[t>>2];n:do{if((-8&r[t+4>>2]|0)!=(0|o)){i=o<<(31==(0|i)?0:25-(i>>>1)|0);while(1){if(n=t+16+(i>>>31<<2)|0,e=0|r[n>>2],!e)break;if((-8&r[e+4>>2]|0)==(0|o)){t=e;break n}i<<=1,t=e}r[n>>2]=u,r[u+24>>2]=t,r[u+12>>2]=u,r[u+8>>2]=u;break t}}while(0);b=t+8|0,_=0|r[b>>2],r[_+12>>2]=u,r[b>>2]=u,r[u+8>>2]=_,r[u+12>>2]=t,r[u+24>>2]=0}}while(0);return _=h+8|0,I=w,0|_}t=23876;while(1){if(e=0|r[t>>2],e>>>0<=c>>>0&&(_=e+(0|r[t+4>>2])|0,_>>>0>c>>>0))break;t=0|r[t+8>>2]}o=_+-47|0,e=o+8|0,e=o+(0==(7&e|0)?0:0-e&7)|0,o=c+16|0,e=e>>>0<o>>>0?c:e,t=e+8|0,n=a+-40|0,v=s+8|0,v=0==(7&v|0)?0:0-v&7,b=s+v|0,v=n-v|0,r[5863]=b,r[5860]=v,r[b+4>>2]=1|v,r[s+n+4>>2]=40,r[5864]=r[5979],n=e+4|0,r[n>>2]=27,r[t>>2]=r[5969],r[t+4>>2]=r[5970],r[t+8>>2]=r[5971],r[t+12>>2]=r[5972],r[5969]=s,r[5970]=a,r[5972]=0,r[5971]=t,t=e+24|0;do{b=t,t=t+4|0,r[t>>2]=7}while((b+8|0)>>>0<_>>>0);if((0|e)!=(0|c)){if(s=e-c|0,r[n>>2]=-2&r[n>>2],r[c+4>>2]=1|s,r[e>>2]=s,t=s>>>3,s>>>0<256){n=23468+(t<<1<<2)|0,e=0|r[5857],t=1<<t,e&t?(e=n+8|0,t=0|r[e>>2]):(r[5857]=e|t,t=n,e=n+8|0),r[e>>2]=c,r[t+12>>2]=c,r[c+8>>2]=t,r[c+12>>2]=n;break}if(t=s>>>8,t?s>>>0>16777215?i=31:(b=(t+1048320|0)>>>16&8,_=t<<b,v=(_+520192|0)>>>16&4,_<<=v,i=(_+245760|0)>>>16&2,i=14-(v|b|i)+(_<<i>>>15)|0,i=s>>>(i+7|0)&1|i<<1):i=0,n=23732+(i<<2)|0,r[c+28>>2]=i,r[c+20>>2]=0,r[o>>2]=0,t=0|r[5858],e=1<<i,!(t&e)){r[5858]=t|e,r[n>>2]=c,r[c+24>>2]=n,r[c+12>>2]=c,r[c+8>>2]=c;break}t=0|r[n>>2];t:do{if((-8&r[t+4>>2]|0)!=(0|s)){i=s<<(31==(0|i)?0:25-(i>>>1)|0);while(1){if(n=t+16+(i>>>31<<2)|0,e=0|r[n>>2],!e)break;if((-8&r[e+4>>2]|0)==(0|s)){t=e;break t}i<<=1,t=e}r[n>>2]=c,r[c+24>>2]=t,r[c+12>>2]=c,r[c+8>>2]=c;break e}}while(0);b=t+8|0,_=0|r[b>>2],r[_+12>>2]=c,r[b>>2]=c,r[c+8>>2]=_,r[c+12>>2]=t,r[c+24>>2]=0}}else _=0|r[5861],0==(0|_)|s>>>0<_>>>0&&(r[5861]=s),r[5969]=s,r[5970]=a,r[5972]=0,r[5866]=r[5975],r[5865]=-1,r[5870]=23468,r[5869]=23468,r[5872]=23476,r[5871]=23476,r[5874]=23484,r[5873]=23484,r[5876]=23492,r[5875]=23492,r[5878]=23500,r[5877]=23500,r[5880]=23508,r[5879]=23508,r[5882]=23516,r[5881]=23516,r[5884]=23524,r[5883]=23524,r[5886]=23532,r[5885]=23532,r[5888]=23540,r[5887]=23540,r[5890]=23548,r[5889]=23548,r[5892]=23556,r[5891]=23556,r[5894]=23564,r[5893]=23564,r[5896]=23572,r[5895]=23572,r[5898]=23580,r[5897]=23580,r[5900]=23588,r[5899]=23588,r[5902]=23596,r[5901]=23596,r[5904]=23604,r[5903]=23604,r[5906]=23612,r[5905]=23612,r[5908]=23620,r[5907]=23620,r[5910]=23628,r[5909]=23628,r[5912]=23636,r[5911]=23636,r[5914]=23644,r[5913]=23644,r[5916]=23652,r[5915]=23652,r[5918]=23660,r[5917]=23660,r[5920]=23668,r[5919]=23668,r[5922]=23676,r[5921]=23676,r[5924]=23684,r[5923]=23684,r[5926]=23692,r[5925]=23692,r[5928]=23700,r[5927]=23700,r[5930]=23708,r[5929]=23708,r[5932]=23716,r[5931]=23716,_=a+-40|0,v=s+8|0,v=0==(7&v|0)?0:0-v&7,b=s+v|0,v=_-v|0,r[5863]=b,r[5860]=v,r[b+4>>2]=1|v,r[s+_+4>>2]=40,r[5864]=r[5979]}while(0);if(t=0|r[5860],t>>>0>d>>>0)return v=t-d|0,r[5860]=v,_=0|r[5863],b=_+d|0,r[5863]=b,r[b+4>>2]=1|v,r[_+4>>2]=3|d,_=_+8|0,I=w,0|_}return _=0|Gn(),r[_>>2]=12,_=0,I=w,0|_}function Yn(e){e|=0;var t=0,n=0,i=0,o=0,s=0,a=0,l=0,c=0;if(e){n=e+-8|0,o=0|r[5861],e=0|r[e+-4>>2],t=-8&e,c=n+t|0;do{if(1&e)l=n,a=n;else{if(i=0|r[n>>2],!(3&e))return;if(a=n+(0-i)|0,s=i+t|0,a>>>0<o>>>0)return;if((0|r[5862])==(0|a)){if(e=c+4|0,t=0|r[e>>2],3!=(3&t|0)){l=a,t=s;break}return r[5859]=s,r[e>>2]=-2&t,r[a+4>>2]=1|s,void(r[a+s>>2]=s)}if(n=i>>>3,i>>>0<256){if(e=0|r[a+8>>2],t=0|r[a+12>>2],(0|t)==(0|e)){r[5857]=r[5857]&~(1<<n),l=a,t=s;break}r[e+12>>2]=t,r[t+8>>2]=e,l=a,t=s;break}o=0|r[a+24>>2],e=0|r[a+12>>2];do{if((0|e)==(0|a)){if(t=a+16|0,n=t+4|0,e=0|r[n>>2],e)t=n;else if(e=0|r[t>>2],!e){e=0;break}while(1)if(i=e+20|0,n=0|r[i>>2],n)e=n,t=i;else{if(i=e+16|0,n=0|r[i>>2],!n)break;e=n,t=i}r[t>>2]=0}else l=0|r[a+8>>2],r[l+12>>2]=e,r[e+8>>2]=l}while(0);if(o){if(t=0|r[a+28>>2],n=23732+(t<<2)|0,(0|r[n>>2])==(0|a)){if(r[n>>2]=e,!e){r[5858]=r[5858]&~(1<<t),l=a,t=s;break}}else if(l=o+16|0,r[((0|r[l>>2])==(0|a)?l:o+20|0)>>2]=e,!e){l=a,t=s;break}r[e+24>>2]=o,t=a+16|0,n=0|r[t>>2],0|n&&(r[e+16>>2]=n,r[n+24>>2]=e),t=0|r[t+4>>2],t?(r[e+20>>2]=t,r[t+24>>2]=e,l=a,t=s):(l=a,t=s)}else l=a,t=s}}while(0);if(!(a>>>0>=c>>>0)&&(e=c+4|0,i=0|r[e>>2],1&i)){if(2&i)r[e>>2]=-2&i,r[l+4>>2]=1|t,r[a+t>>2]=t,o=t;else{if((0|r[5863])==(0|c)){if(c=(0|r[5860])+t|0,r[5860]=c,r[5863]=l,r[l+4>>2]=1|c,(0|l)!=(0|r[5862]))return;return r[5862]=0,void(r[5859]=0)}if((0|r[5862])==(0|c))return c=(0|r[5859])+t|0,r[5859]=c,r[5862]=a,r[l+4>>2]=1|c,void(r[a+c>>2]=c);o=(-8&i)+t|0,n=i>>>3;do{if(i>>>0<256){if(t=0|r[c+8>>2],e=0|r[c+12>>2],(0|e)==(0|t)){r[5857]=r[5857]&~(1<<n);break}r[t+12>>2]=e,r[e+8>>2]=t;break}s=0|r[c+24>>2],e=0|r[c+12>>2];do{if((0|e)==(0|c)){if(t=c+16|0,n=t+4|0,e=0|r[n>>2],e)t=n;else if(e=0|r[t>>2],!e){n=0;break}while(1)if(i=e+20|0,n=0|r[i>>2],n)e=n,t=i;else{if(i=e+16|0,n=0|r[i>>2],!n)break;e=n,t=i}r[t>>2]=0,n=e}else n=0|r[c+8>>2],r[n+12>>2]=e,r[e+8>>2]=n,n=e}while(0);if(0|s){if(e=0|r[c+28>>2],t=23732+(e<<2)|0,(0|r[t>>2])==(0|c)){if(r[t>>2]=n,!n){r[5858]=r[5858]&~(1<<e);break}}else if(i=s+16|0,r[((0|r[i>>2])==(0|c)?i:s+20|0)>>2]=n,!n)break;r[n+24>>2]=s,e=c+16|0,t=0|r[e>>2],0|t&&(r[n+16>>2]=t,r[t+24>>2]=n),e=0|r[e+4>>2],0|e&&(r[n+20>>2]=e,r[e+24>>2]=n)}}while(0);if(r[l+4>>2]=1|o,r[a+o>>2]=o,(0|l)==(0|r[5862]))return void(r[5859]=o)}if(e=o>>>3,o>>>0<256)return n=23468+(e<<1<<2)|0,t=0|r[5857],e=1<<e,t&e?(t=n+8|0,e=0|r[t>>2]):(r[5857]=t|e,e=n,t=n+8|0),r[t>>2]=l,r[e+12>>2]=l,r[l+8>>2]=e,void(r[l+12>>2]=n);e=o>>>8,e?o>>>0>16777215?i=31:(a=(e+1048320|0)>>>16&8,c=e<<a,s=(c+520192|0)>>>16&4,c<<=s,i=(c+245760|0)>>>16&2,i=14-(s|a|i)+(c<<i>>>15)|0,i=o>>>(i+7|0)&1|i<<1):i=0,e=23732+(i<<2)|0,r[l+28>>2]=i,r[l+20>>2]=0,r[l+16>>2]=0,t=0|r[5858],n=1<<i;e:do{if(t&n){e=0|r[e>>2];t:do{if((-8&r[e+4>>2]|0)!=(0|o)){i=o<<(31==(0|i)?0:25-(i>>>1)|0);while(1){if(n=e+16+(i>>>31<<2)|0,t=0|r[n>>2],!t)break;if((-8&r[t+4>>2]|0)==(0|o)){e=t;break t}i<<=1,e=t}r[n>>2]=l,r[l+24>>2]=e,r[l+12>>2]=l,r[l+8>>2]=l;break e}}while(0);a=e+8|0,c=0|r[a>>2],r[c+12>>2]=l,r[a>>2]=l,r[l+8>>2]=c,r[l+12>>2]=e,r[l+24>>2]=0}else r[5858]=t|n,r[e>>2]=l,r[l+24>>2]=e,r[l+12>>2]=l,r[l+8>>2]=l}while(0);if(c=(0|r[5865])-1|0,r[5865]=c,!(0|c)){e=23884;while(1){if(e=0|r[e>>2],!e)break;e=e+8|0}r[5865]=-1}}}}function Kn(e,t){e|=0,t|=0;var n=0;return e?(n=0|b(t,e),(t|e)>>>0>65535&&(n=(0|(n>>>0)/(e>>>0))==(0|t)?n:-1)):n=0,e=0|Xn(n),e&&3&r[e+-4>>2]?(fi(0|e,0,0|n),0|e):0|e}function Qn(e,t,n,i){return e|=0,t|=0,n|=0,i|=0,n=e+n>>>0,0|(S(t+i+(n>>>0<e>>>0|0)>>>0|0),0|n)}function Jn(e,t,n,i){return e|=0,t|=0,n|=0,i|=0,i=t-i-(n>>>0>e>>>0|0)>>>0,0|(S(0|i),e-n>>>0|0)}function Zn(e){return e|=0,0|(e?31-(0|x(e^e-1))|0:32)}function ei(e,t,n,i,o){e|=0,t|=0,n|=0,i|=0,o|=0;var s=0,a=0,l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0;if(h=e,c=t,u=c,a=n,f=i,l=f,!u)return s=0!=(0|o),l?s?(r[o>>2]=0|e,r[o+4>>2]=0&t,f=0,o=0,0|(S(0|f),o)):(f=0,o=0,0|(S(0|f),o)):(s&&(r[o>>2]=(h>>>0)%(a>>>0),r[o+4>>2]=0),f=0,o=(h>>>0)/(a>>>0)>>>0,0|(S(0|f),o));s=0==(0|l);do{if(a){if(!s){if(s=(0|x(0|l))-(0|x(0|u))|0,s>>>0<=31){d=s+1|0,l=31-s|0,t=s-31>>31,a=d,e=h>>>(d>>>0)&t|u<<l,t&=u>>>(d>>>0),s=0,l=h<<l;break}return o?(r[o>>2]=0|e,r[o+4>>2]=c|0&t,f=0,o=0,0|(S(0|f),o)):(f=0,o=0,0|(S(0|f),o))}if(s=a-1|0,s&a|0){l=33+(0|x(0|a))-(0|x(0|u))|0,m=64-l|0,d=32-l|0,c=d>>31,p=l-32|0,t=p>>31,a=l,e=d-1>>31&u>>>(p>>>0)|(u<<d|h>>>(l>>>0))&t,t&=u>>>(l>>>0),s=h<<m&c,l=(u<<m|h>>>(p>>>0))&c|h<<d&l-33>>31;break}return 0|o&&(r[o>>2]=s&h,r[o+4>>2]=0),1==(0|a)?(p=c|0&t,m=0|e,0|(S(0|p),m)):(m=0|Zn(0|a),p=u>>>(m>>>0)|0,m=u<<32-m|h>>>(m>>>0)|0,0|(S(0|p),m))}if(s)return 0|o&&(r[o>>2]=(u>>>0)%(a>>>0),r[o+4>>2]=0),p=0,m=(u>>>0)/(a>>>0)>>>0,0|(S(0|p),m);if(!h)return 0|o&&(r[o>>2]=0,r[o+4>>2]=(u>>>0)%(l>>>0)),p=0,m=(u>>>0)/(l>>>0)>>>0,0|(S(0|p),m);if(s=l-1|0,!(s&l))return 0|o&&(r[o>>2]=0|e,r[o+4>>2]=s&u|0&t),p=0,m=u>>>((0|Zn(0|l))>>>0),0|(S(0|p),m);if(s=(0|x(0|l))-(0|x(0|u))|0,s>>>0<=30){t=s+1|0,l=31-s|0,a=t,e=u<<l|h>>>(t>>>0),t=u>>>(t>>>0),s=0,l=h<<l;break}return o?(r[o>>2]=0|e,r[o+4>>2]=c|0&t,p=0,m=0,0|(S(0|p),m)):(p=0,m=0,0|(S(0|p),m))}while(0);if(a){d=0|n,h=f|0&i,u=0|Qn(0|d,0|h,-1,-1),n=0|T(),c=l,l=0;do{i=c,c=s>>>31|c<<1,s=l|s<<1,i=e<<1|i>>>31|0,f=e>>>31|t<<1|0,Jn(0|u,0|n,0|i,0|f),m=0|T(),p=m>>31|((0|m)<0?-1:0)<<1,l=1&p,e=0|Jn(0|i,0|f,p&d|0,(((0|m)<0?-1:0)>>31|((0|m)<0?-1:0)<<1)&h|0),t=0|T(),a=a-1|0}while(0!=(0|a));u=c,c=0}else u=l,c=0,l=0;return a=0,0|o&&(r[o>>2]=e,r[o+4>>2]=t),p=(0|s)>>>31|(u|a)<<1|0&(a<<1|s>>>31)|c,m=-2&(s<<1|0)|l,0|(S(0|p),m)}function ti(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var r=0,o=0,s=0,a=0,l=0,c=0;return c=t>>31|((0|t)<0?-1:0)<<1,l=((0|t)<0?-1:0)>>31|((0|t)<0?-1:0)<<1,o=i>>31|((0|i)<0?-1:0)<<1,r=((0|i)<0?-1:0)>>31|((0|i)<0?-1:0)<<1,a=0|Jn(c^e|0,l^t|0,0|c,0|l),s=0|T(),e=o^c,t=r^l,0|Jn((0|ei(a,s,0|Jn(o^n|0,r^i|0,0|o,0|r),0|T(),0))^e|0,(0|T())^t|0,0|e,0|t)}function ni(e,t){e|=0,t|=0;var n=0,i=0,r=0,o=0;return o=65535&e,r=65535&t,n=0|b(r,o),i=e>>>16,e=(n>>>16)+(0|b(r,i))|0,r=t>>>16,t=0|b(r,o),0|(S((e>>>16)+(0|b(r,i))+(((65535&e)+t|0)>>>16)|0),e+t<<16|65535&n|0)}function ii(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var r=0,o=0;return r=e,o=n,n=0|ni(r,o),e=0|T(),0|(S((0|b(t,o))+(0|b(i,r))+e|0&e|0),0|n)}function ri(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0,a=0,l=0,c=0,u=0;return o=I,I=I+16|0,l=0|o,a=t>>31|((0|t)<0?-1:0)<<1,s=((0|t)<0?-1:0)>>31|((0|t)<0?-1:0)<<1,u=i>>31|((0|i)<0?-1:0)<<1,c=((0|i)<0?-1:0)>>31|((0|i)<0?-1:0)<<1,e=0|Jn(a^e|0,s^t|0,0|a,0|s),t=0|T(),ei(e,t,0|Jn(u^n|0,c^i|0,0|u,0|c),0|T(),l),i=0|Jn(r[l>>2]^a|0,r[l+4>>2]^s|0,0|a,0|s),n=0|T(),I=o,0|(S(0|n),i)}function oi(e,t,n,i){e|=0,t|=0,n|=0,i|=0;var o=0,s=0;return s=I,I=I+16|0,o=0|s,ei(e,t,n,i,o),I=s,0|(S(0|r[o+4>>2]),0|r[o>>2])}function si(e,t,n){return e|=0,t|=0,n|=0,(0|n)<32?(S(t>>n|0),e>>>n|(t&(1<<n)-1)<<32-n):(S(0|((0|t)<0?-1:0)),t>>n-32|0)}function ai(e,t,n){return e|=0,t|=0,n|=0,(0|n)<32?(S(t>>>n|0),e>>>n|(t&(1<<n)-1)<<32-n):(S(0),t>>>n-32|0)}function li(e,t,n){return e|=0,t|=0,n|=0,(0|n)<32?(S(t<<n|(e&(1<<n)-1<<32-n)>>>32-n|0),e<<n):(S(e<<n-32|0),0)}function ci(e,t){return e=+e,t=+t,e!=e?+t:t!=t?+e:+w(+e,+t)}function ui(e,t){return e=+e,t=+t,e!=e?+t:t!=t?+e:+_(+e,+t)}function hi(e){return e=+e,e>=0?+l(e+.5):+v(e-.5)}function di(e,t,n){e|=0,t|=0,n|=0;var o=0,s=0,a=0;if((0|n)>=8192)return O(0|e,0|t,0|n),0|e;if(a=0|e,s=e+n|0,(3&e)==(3&t)){while(3&e){if(!n)return 0|a;i[e>>0]=0|i[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}n=-4&s|0,o=n-64|0;while((0|e)<=(0|o))r[e>>2]=r[t>>2],r[e+4>>2]=r[t+4>>2],r[e+8>>2]=r[t+8>>2],r[e+12>>2]=r[t+12>>2],r[e+16>>2]=r[t+16>>2],r[e+20>>2]=r[t+20>>2],r[e+24>>2]=r[t+24>>2],r[e+28>>2]=r[t+28>>2],r[e+32>>2]=r[t+32>>2],r[e+36>>2]=r[t+36>>2],r[e+40>>2]=r[t+40>>2],r[e+44>>2]=r[t+44>>2],r[e+48>>2]=r[t+48>>2],r[e+52>>2]=r[t+52>>2],r[e+56>>2]=r[t+56>>2],r[e+60>>2]=r[t+60>>2],e=e+64|0,t=t+64|0;while((0|e)<(0|n))r[e>>2]=r[t>>2],e=e+4|0,t=t+4|0}else{n=s-4|0;while((0|e)<(0|n))i[e>>0]=0|i[t>>0],i[e+1>>0]=0|i[t+1>>0],i[e+2>>0]=0|i[t+2>>0],i[e+3>>0]=0|i[t+3>>0],e=e+4|0,t=t+4|0}while((0|e)<(0|s))i[e>>0]=0|i[t>>0],e=e+1|0,t=t+1|0;return 0|a}function fi(e,t,n){e|=0,t|=0,n|=0;var o=0,s=0,a=0,l=0;if(a=e+n|0,t&=255,(0|n)>=67){while(3&e)i[e>>0]=t,e=e+1|0;o=-4&a|0,l=t|t<<8|t<<16|t<<24,s=o-64|0;while((0|e)<=(0|s))r[e>>2]=l,r[e+4>>2]=l,r[e+8>>2]=l,r[e+12>>2]=l,r[e+16>>2]=l,r[e+20>>2]=l,r[e+24>>2]=l,r[e+28>>2]=l,r[e+32>>2]=l,r[e+36>>2]=l,r[e+40>>2]=l,r[e+44>>2]=l,r[e+48>>2]=l,r[e+52>>2]=l,r[e+56>>2]=l,r[e+60>>2]=l,e=e+64|0;while((0|e)<(0|o))r[e>>2]=l,e=e+4|0}while((0|e)<(0|a))i[e>>0]=t,e=e+1|0;return a-n|0}function pi(e){return e=+e,e>=0?+l(e+.5):+v(e-.5)}function mi(e){e|=0;var t=0,n=0,i=0;return i=0|C(),n=0|r[a>>2],t=n+e|0,(0|e)>0&(0|t)<(0|n)|(0|t)<0?(P(0|t),M(12),-1):(0|t)>(0|i)&&!(0|k(0|t))?(M(12),-1):(r[a>>2]=t,0|n)}return{___divdi3:ti,___muldi3:ii,___remdi3:ri,___uremdi3:oi,_areNeighborCells:Fe,_bitshift64Ashr:si,_bitshift64Lshr:ai,_bitshift64Shl:li,_calloc:Kn,_cellAreaKm2:Kt,_cellAreaM2:Qt,_cellAreaRads2:Yt,_cellToBoundary:Mt,_cellToCenterChild:ht,_cellToChildPos:It,_cellToChildren:ct,_cellToChildrenSize:at,_cellToLatLng:Et,_cellToLocalIj:cn,_cellToParent:st,_cellToVertex:Dn,_cellToVertexes:Ln,_cellsToDirectedEdge:je,_cellsToLinkedMultiPolygon:K,_childPosToCell:Rt,_compactCells:dt,_destroyLinkedMultiPolygon:rn,_directedEdgeToBoundary:Ge,_directedEdgeToCells:Ve,_edgeLengthKm:Zt,_edgeLengthM:en,_edgeLengthRads:Jt,_emscripten_replace_memory:R,_free:Yn,_getBaseCellNumber:rt,_getDirectedEdgeDestination:ze,_getDirectedEdgeOrigin:Ue,_getHexagonAreaAvgKm2:Vt,_getHexagonAreaAvgM2:Ht,_getHexagonEdgeLengthAvgKm:Gt,_getHexagonEdgeLengthAvgM:Wt,_getIcosahedronFaces:Ot,_getNumCells:$t,_getPentagons:Pt,_getRes0Cells:ae,_getResolution:it,_greatCircleDistanceKm:jt,_greatCircleDistanceM:Ut,_greatCircleDistanceRads:Ft,_gridDisk:j,_gridDiskDistances:U,_gridDistance:hn,_gridPathCells:fn,_gridPathCellsSize:dn,_gridRingUnsafe:G,_i64Add:Qn,_i64Subtract:Jn,_isPentagon:lt,_isResClassIII:mt,_isValidCell:ot,_isValidDirectedEdge:qe,_isValidVertex:Bn,_latLngToCell:xt,_llvm_maxnum_f64:ci,_llvm_minnum_f64:ui,_llvm_round_f64:hi,_localIjToCell:un,_malloc:Xn,_maxFaceCount:Ct,_maxGridDiskSize:F,_maxPolygonToCellsSize:W,_memcpy:di,_memset:fi,_originToDirectedEdges:He,_pentagonCount:kt,_polygonToCells:X,_readInt64AsDoubleFromPointer:En,_res0CellCount:se,_round:pi,_sbrk:mi,_sizeOfCellBoundary:_n,_sizeOfCoordIJ:Tn,_sizeOfGeoLoop:wn,_sizeOfGeoPolygon:xn,_sizeOfH3Index:vn,_sizeOfLatLng:bn,_sizeOfLinkedGeoPolygon:Sn,_uncompactCells:ft,_uncompactCellsSize:pt,_vertexToLatLng:Nn,establishStackSpace:B,stackAlloc:D,stackRestore:N,stackSave:L}}(Ee,Me,E),Oe=(n["___divdi3"]=Ce["___divdi3"],n["___muldi3"]=Ce["___muldi3"],n["___remdi3"]=Ce["___remdi3"],n["___uremdi3"]=Ce["___uremdi3"],n["_areNeighborCells"]=Ce["_areNeighborCells"],n["_bitshift64Ashr"]=Ce["_bitshift64Ashr"],n["_bitshift64Lshr"]=Ce["_bitshift64Lshr"],n["_bitshift64Shl"]=Ce["_bitshift64Shl"],n["_calloc"]=Ce["_calloc"],n["_cellAreaKm2"]=Ce["_cellAreaKm2"],n["_cellAreaM2"]=Ce["_cellAreaM2"],n["_cellAreaRads2"]=Ce["_cellAreaRads2"],n["_cellToBoundary"]=Ce["_cellToBoundary"],n["_cellToCenterChild"]=Ce["_cellToCenterChild"],n["_cellToChildPos"]=Ce["_cellToChildPos"],n["_cellToChildren"]=Ce["_cellToChildren"],n["_cellToChildrenSize"]=Ce["_cellToChildrenSize"],n["_cellToLatLng"]=Ce["_cellToLatLng"],n["_cellToLocalIj"]=Ce["_cellToLocalIj"],n["_cellToParent"]=Ce["_cellToParent"],n["_cellToVertex"]=Ce["_cellToVertex"],n["_cellToVertexes"]=Ce["_cellToVertexes"],n["_cellsToDirectedEdge"]=Ce["_cellsToDirectedEdge"],n["_cellsToLinkedMultiPolygon"]=Ce["_cellsToLinkedMultiPolygon"],n["_childPosToCell"]=Ce["_childPosToCell"],n["_compactCells"]=Ce["_compactCells"],n["_destroyLinkedMultiPolygon"]=Ce["_destroyLinkedMultiPolygon"],n["_directedEdgeToBoundary"]=Ce["_directedEdgeToBoundary"],n["_directedEdgeToCells"]=Ce["_directedEdgeToCells"],n["_edgeLengthKm"]=Ce["_edgeLengthKm"],n["_edgeLengthM"]=Ce["_edgeLengthM"],n["_edgeLengthRads"]=Ce["_edgeLengthRads"],n["_emscripten_replace_memory"]=Ce["_emscripten_replace_memory"]),ke=(n["_free"]=Ce["_free"],n["_getBaseCellNumber"]=Ce["_getBaseCellNumber"],n["_getDirectedEdgeDestination"]=Ce["_getDirectedEdgeDestination"],n["_getDirectedEdgeOrigin"]=Ce["_getDirectedEdgeOrigin"],n["_getHexagonAreaAvgKm2"]=Ce["_getHexagonAreaAvgKm2"],n["_getHexagonAreaAvgM2"]=Ce["_getHexagonAreaAvgM2"],n["_getHexagonEdgeLengthAvgKm"]=Ce["_getHexagonEdgeLengthAvgKm"],n["_getHexagonEdgeLengthAvgM"]=Ce["_getHexagonEdgeLengthAvgM"],n["_getIcosahedronFaces"]=Ce["_getIcosahedronFaces"],n["_getNumCells"]=Ce["_getNumCells"],n["_getPentagons"]=Ce["_getPentagons"],n["_getRes0Cells"]=Ce["_getRes0Cells"],n["_getResolution"]=Ce["_getResolution"],n["_greatCircleDistanceKm"]=Ce["_greatCircleDistanceKm"],n["_greatCircleDistanceM"]=Ce["_greatCircleDistanceM"],n["_greatCircleDistanceRads"]=Ce["_greatCircleDistanceRads"],n["_gridDisk"]=Ce["_gridDisk"],n["_gridDiskDistances"]=Ce["_gridDiskDistances"],n["_gridDistance"]=Ce["_gridDistance"],n["_gridPathCells"]=Ce["_gridPathCells"],n["_gridPathCellsSize"]=Ce["_gridPathCellsSize"],n["_gridRingUnsafe"]=Ce["_gridRingUnsafe"],n["_i64Add"]=Ce["_i64Add"],n["_i64Subtract"]=Ce["_i64Subtract"],n["_isPentagon"]=Ce["_isPentagon"],n["_isResClassIII"]=Ce["_isResClassIII"],n["_isValidCell"]=Ce["_isValidCell"],n["_isValidDirectedEdge"]=Ce["_isValidDirectedEdge"],n["_isValidVertex"]=Ce["_isValidVertex"],n["_latLngToCell"]=Ce["_latLngToCell"],n["_llvm_maxnum_f64"]=Ce["_llvm_maxnum_f64"],n["_llvm_minnum_f64"]=Ce["_llvm_minnum_f64"],n["_llvm_round_f64"]=Ce["_llvm_round_f64"],n["_localIjToCell"]=Ce["_localIjToCell"],n["_malloc"]=Ce["_malloc"],n["_maxFaceCount"]=Ce["_maxFaceCount"],n["_maxGridDiskSize"]=Ce["_maxGridDiskSize"],n["_maxPolygonToCellsSize"]=Ce["_maxPolygonToCellsSize"],n["_memcpy"]=Ce["_memcpy"],n["_memset"]=Ce["_memset"],n["_originToDirectedEdges"]=Ce["_originToDirectedEdges"],n["_pentagonCount"]=Ce["_pentagonCount"],n["_polygonToCells"]=Ce["_polygonToCells"],n["_readInt64AsDoubleFromPointer"]=Ce["_readInt64AsDoubleFromPointer"],n["_res0CellCount"]=Ce["_res0CellCount"],n["_round"]=Ce["_round"],n["_sbrk"]=Ce["_sbrk"],n["_sizeOfCellBoundary"]=Ce["_sizeOfCellBoundary"],n["_sizeOfCoordIJ"]=Ce["_sizeOfCoordIJ"],n["_sizeOfGeoLoop"]=Ce["_sizeOfGeoLoop"],n["_sizeOfGeoPolygon"]=Ce["_sizeOfGeoPolygon"],n["_sizeOfH3Index"]=Ce["_sizeOfH3Index"],n["_sizeOfLatLng"]=Ce["_sizeOfLatLng"],n["_sizeOfLinkedGeoPolygon"]=Ce["_sizeOfLinkedGeoPolygon"],n["_uncompactCells"]=Ce["_uncompactCells"],n["_uncompactCellsSize"]=Ce["_uncompactCellsSize"],n["_vertexToLatLng"]=Ce["_vertexToLatLng"],n["establishStackSpace"]=Ce["establishStackSpace"],n["stackAlloc"]=Ce["stackAlloc"]),Pe=n["stackRestore"]=Ce["stackRestore"],Ie=n["stackSave"]=Ce["stackSave"];if(n["asm"]=Ce,n["cwrap"]=b,n["setValue"]=p,n["getValue"]=m,ae){ce(ae)||(ae=a(ae)),ie("memory initializer");var Re=function(e){e.byteLength&&(e=new Uint8Array(e)),C.set(e,f),n["memoryInitializerRequest"]&&delete n["memoryInitializerRequest"].response,re("memory initializer")},De=function(){r(ae,Re,(function(){throw"could not load memory initializer "+ae}))},Le=Se(ae);if(Le)Re(Le.buffer);else if(n["memoryInitializerRequest"]){var Ne=function(){var e=n["memoryInitializerRequest"],t=e.response;if(200!==e.status&&0!==e.status){var i=Se(n["memoryInitializerRequestURL"]);if(!i)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+ae),void De();t=i.buffer}Re(t)};n["memoryInitializerRequest"].response?setTimeout(Ne,0):n["memoryInitializerRequest"].addEventListener("load",Ne)}else De()}function Be(e){function t(){Te||(Te=!0,g||(G(),W(),n["onRuntimeInitialized"]&&n["onRuntimeInitialized"](),$()))}e=e||o,ee>0||(H(),ee>0||(n["setStatus"]?(n["setStatus"]("Running..."),setTimeout((function(){setTimeout((function(){n["setStatus"]("")}),1),t()}),1)):t()))}function Fe(e){throw n["onAbort"]&&n["onAbort"](e),e+="",l(e),c(e),g=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(ne=function e(){Te||Be(),Te||(ne=e)},n["run"]=Be,n["abort"]=Fe,n["preInit"]){"function"==typeof n["preInit"]&&(n["preInit"]=[n["preInit"]]);while(n["preInit"].length>0)n["preInit"].pop()()}return Be(),e}("object"===typeof n?n:{}),i="number",r=i,o=i,s=i,a=i,l=i,c=i,u=[["sizeOfH3Index",i],["sizeOfLatLng",i],["sizeOfCellBoundary",i],["sizeOfGeoLoop",i],["sizeOfGeoPolygon",i],["sizeOfLinkedGeoPolygon",i],["sizeOfCoordIJ",i],["readInt64AsDoubleFromPointer",i],["isValidCell",o,[s,a]],["latLngToCell",r,[i,i,l,c]],["cellToLatLng",r,[s,a,c]],["cellToBoundary",r,[s,a,c]],["maxGridDiskSize",r,[i,c]],["gridDisk",r,[s,a,i,c]],["gridDiskDistances",r,[s,a,i,c,c]],["gridRingUnsafe",r,[s,a,i,c]],["maxPolygonToCellsSize",r,[c,l,i,c]],["polygonToCells",r,[c,l,i,c]],["cellsToLinkedMultiPolygon",r,[c,i,c]],["destroyLinkedMultiPolygon",null,[c]],["compactCells",r,[c,c,i,i]],["uncompactCells",r,[c,i,i,c,i,l]],["uncompactCellsSize",r,[c,i,i,l,c]],["isPentagon",o,[s,a]],["isResClassIII",o,[s,a]],["getBaseCellNumber",i,[s,a]],["getResolution",i,[s,a]],["maxFaceCount",r,[s,a,c]],["getIcosahedronFaces",r,[s,a,c]],["cellToParent",r,[s,a,l,c]],["cellToChildren",r,[s,a,l,c]],["cellToCenterChild",r,[s,a,l,c]],["cellToChildrenSize",r,[s,a,l,c]],["cellToChildPos",r,[s,a,l,c]],["childPosToCell",r,[i,i,s,a,l,c]],["areNeighborCells",r,[s,a,s,a,c]],["cellsToDirectedEdge",r,[s,a,s,a,c]],["getDirectedEdgeOrigin",r,[s,a,c]],["getDirectedEdgeDestination",r,[s,a,c]],["isValidDirectedEdge",o,[s,a]],["directedEdgeToCells",r,[s,a,c]],["originToDirectedEdges",r,[s,a,c]],["directedEdgeToBoundary",r,[s,a,c]],["gridDistance",r,[s,a,s,a,c]],["gridPathCells",r,[s,a,s,a,c]],["gridPathCellsSize",r,[s,a,s,a,c]],["cellToLocalIj",r,[s,a,s,a,i,c]],["localIjToCell",r,[s,a,c,i,c]],["getHexagonAreaAvgM2",r,[l,c]],["getHexagonAreaAvgKm2",r,[l,c]],["getHexagonEdgeLengthAvgM",r,[l,c]],["getHexagonEdgeLengthAvgKm",r,[l,c]],["greatCircleDistanceM",i,[c,c]],["greatCircleDistanceKm",i,[c,c]],["greatCircleDistanceRads",i,[c,c]],["cellAreaM2",r,[s,a,c]],["cellAreaKm2",r,[s,a,c]],["cellAreaRads2",r,[s,a,c]],["edgeLengthM",r,[s,a,c]],["edgeLengthKm",r,[s,a,c]],["edgeLengthRads",r,[s,a,c]],["getNumCells",r,[l,c]],["getRes0Cells",r,[c]],["res0CellCount",i],["getPentagons",r,[i,c]],["pentagonCount",i],["cellToVertex",r,[s,a,i,c]],["cellToVertexes",r,[s,a,c]],["vertexToLatLng",r,[s,a,c]],["isValidVertex",o,[s,a]]],h=0,d=1,f=2,p=3,m=4,g=5,A=6,y=7,v=8,b=9,_=10,w=11,x=12,S=13,T=14,E=15,M={};M[h]="Success",M[d]="The operation failed but a more specific error is not available",M[f]="Argument was outside of acceptable range",M[p]="Latitude or longitude arguments were outside of acceptable range",M[m]="Resolution argument was outside of acceptable range",M[g]="Cell argument was not valid",M[A]="Directed edge argument was not valid",M[y]="Undirected edge argument was not valid",M[v]="Vertex argument was not valid",M[b]="Pentagon distortion was encountered",M[_]="Duplicate input",M[w]="Cell arguments were not neighbors",M[x]="Cell arguments had incompatible resolutions",M[S]="Memory allocation failed",M[T]="Bounds of provided memory were insufficient",M[E]="Mode or flags argument was not valid";var C=1e3,O=1001,k=1002,P={};P[C]="Unknown unit",P[O]="Array length out of bounds",P[k]="Got unexpected null value for H3 index";var I="Unknown error";function R(e,t,n){var i=n&&"value"in n,r=new Error((e[t]||I)+" (code: "+t+(i?", value: "+n.value:"")+")");return r.code=t,r}function D(e,t){var n=2===arguments.length?{value:t}:{};return R(M,e,n)}function L(e,t){var n=2===arguments.length?{value:t}:{};return R(P,e,n)}function N(e){if(0!==e)throw D(e)}var B={};u.forEach((function(e){B[e[0]]=n.cwrap.apply(n,e)}));var F=16,j=0,U=4,z=4,q=8,V=8,H=B.sizeOfH3Index(),G=B.sizeOfLatLng(),W=B.sizeOfCellBoundary(),$=B.sizeOfGeoPolygon(),X=B.sizeOfGeoLoop(),Y=B.sizeOfLinkedGeoPolygon(),K=B.sizeOfCoordIJ(),Q={m:"m",m2:"m2",km:"km",km2:"km2",rads:"rads",rads2:"rads2"};function J(e){if("number"!==typeof e||e<0||e>15||Math.floor(e)!==e)throw D(m,e);return e}function Z(e){if(!e)throw L(k);return e}var ee=Math.pow(2,32)-1;function te(e){if(e>ee)throw L(O,e);return e}var ne=/[^0-9a-fA-F]/;function ie(e){if(Array.isArray(e)&&2===e.length&&Number.isInteger(e[0])&&Number.isInteger(e[1]))return e;if("string"!==typeof e||ne.test(e))return[0,0];var t=parseInt(e.substring(0,e.length-8),F),n=parseInt(e.substring(e.length-8),F);return[n,t]}function re(e){if(e>=0)return e.toString(F);e&=2147483647;var t=se(8,e.toString(F)),n=(parseInt(t[0],F)+8).toString(F);return t=n+t.substring(1),t}function oe(e,t){return re(t)+se(8,re(e))}function se(e,t){for(var n=e-t.length,i="",r=0;r<n;r++)i+="0";return i+=t,i}var ae=Math.pow(2,32);function le(e){return"number"!==typeof e?[0,0]:[0|e,e/ae|0]}function ce(e,t,i){for(var r=e.length,o=n._calloc(r,G),s=i?1:0,a=i?0:1,l=0;l<2*r;l+=2)n.HEAPF64.set([e[l/2][s],e[l/2][a]].map(_t),o/q+l);return n.HEAPU32.set([r,o],t/U),t}function ue(e,t){var i,r=e.length-1,o=n._calloc($),s=0,a=s+X,l=a+U;if(ce(e[0],o+s,t),r>0){i=n._calloc(r,X);for(var c=0;c<r;c++)ce(e[c+1],i+X*c,t)}return n.setValue(o+a,r,"i32"),n.setValue(o+l,i,"i32"),o}function he(e){var t=0,i=t+X,r=i+U,o=U;n._free(n.getValue(e+t+o,"i8*"));var s=n.getValue(e+i,"i32");if(s>0){for(var a=n.getValue(e+r,"i32"),l=0;l<s;l++)n._free(n.getValue(a+X*l+o,"i8*"));n._free(a)}n._free(e)}function de(e,t){void 0===t&&(t=0);var i=n.getValue(e+H*t,"i32"),r=n.getValue(e+H*t+U,"i32");return r?oe(i,r):null}function fe(e,t){void 0===t&&(t=0);var i=n.getValue(e+U*t,"i32");return Boolean(i)}function pe(e,t){return void 0===t&&(t=0),n.getValue(e+q*t,"double")}function me(e){return B.readInt64AsDoubleFromPointer(e)}function ge(e,t,i){n.HEAPU32.set(ie(e),t/U+2*i)}function Ae(e,t){for(var n=[],i=0;i<t;i++){var r=de(e,i);null!==r&&n.push(r)}return n}function ye(e,t){for(var n=t.length,i=0;i<n;i++)ge(t[i],e,i)}function ve(e,t){var i=n._calloc(1,G);return n.HEAPF64.set([e,t].map(_t),i/q),i}function be(e){return wt(n.getValue(e,"double"))}function _e(e){return[be(e),be(e+q)]}function we(e){return[be(e+q),be(e)]}function xe(e,t,i){for(var r=n.getValue(e,"i32"),o=e+q,s=[],a=t?we:_e,l=0;l<2*r;l+=2)s.push(a(o+q*l));return i&&s.push(s[0]),s}function Se(e,t){var i,r,o,s,a=[],l=t?we:_e;while(e){a.push(i=[]),r=n.getValue(e,"i8*");while(r){i.push(o=[]),s=n.getValue(r,"i8*");while(s)o.push(l(s)),s=n.getValue(s+2*q,"i8*");t&&o.push(o[0]),r=n.getValue(r+2*z,"i8*")}e=n.getValue(e+2*z,"i8*")}return a}function Te(e){return{i:n.getValue(e,"i32"),j:n.getValue(e+U,"i32")}}function Ee(e,t){var i=t.i,r=t.j;n.setValue(e,i,"i32"),n.setValue(e+U,r,"i32")}function Me(e,t){for(var i=[],r=0;r<t;r++){var o=n.getValue(e+U*r,"i32");o>=0&&i.push(o)}return i}function Ce(e){var t=ie(e),n=t[0],i=t[1];return Boolean(B.isValidCell(n,i))}function Oe(e){var t=ie(e),n=t[0],i=t[1];return Boolean(B.isPentagon(n,i))}function ke(e){var t=ie(e),n=t[0],i=t[1];return Boolean(B.isResClassIII(n,i))}function Pe(e){var t=ie(e),n=t[0],i=t[1];return B.getBaseCellNumber(n,i)}function Ie(e){var t=ie(e),i=t[0],r=t[1],o=n._malloc(U);try{N(B.maxFaceCount(i,r,o));var s=n.getValue(o,"i32"),a=n._malloc(U*s);try{return N(B.getIcosahedronFaces(i,r,a)),Me(a,s)}finally{n._free(a)}}finally{n._free(o)}}function Re(e){var t=ie(e),n=t[0],i=t[1];return B.isValidCell(n,i)?B.getResolution(n,i):-1}function De(e,t,i){var r=n._malloc(G);n.HEAPF64.set([e,t].map(_t),r/q);var o=n._malloc(H);try{return N(B.latLngToCell(r,i,o)),Z(de(o))}finally{n._free(o),n._free(r)}}function Le(e){var t=n._malloc(G),i=ie(e),r=i[0],o=i[1];try{return N(B.cellToLatLng(r,o,t)),_e(t)}finally{n._free(t)}}function Ne(e,t){var i=n._malloc(W),r=ie(e),o=r[0],s=r[1];try{return N(B.cellToBoundary(o,s,i)),xe(i,t,t)}finally{n._free(i)}}function Be(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(H);try{return N(B.cellToParent(r,o,t,s)),Z(de(s))}finally{n._free(s)}}function Fe(e,t){if(!Ce(e))return[];var i=ie(e),r=i[0],o=i[1],s=te(je(e,t)),a=n._calloc(s,H);try{return N(B.cellToChildren(r,o,t,a)),Ae(a,s)}finally{n._free(a)}}function je(e,t){if(!Ce(e))throw D(g);var i=ie(e),r=i[0],o=i[1],s=n._malloc(V);try{return N(B.cellToChildrenSize(r,o,t,s)),me(s)}finally{n._free(s)}}function Ue(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(H);try{return N(B.cellToCenterChild(r,o,t,s)),Z(de(s))}finally{n._free(s)}}function ze(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(V);try{return N(B.cellToChildPos(r,o,t,s)),me(s)}finally{n._free(s)}}function qe(e,t,i){var r=le(e),o=r[0],s=r[1],a=ie(t),l=a[0],c=a[1],u=n._malloc(H);try{return N(B.childPosToCell(o,s,l,c,i,u)),Z(de(u))}finally{n._free(u)}}function Ve(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(V);try{N(B.maxGridDiskSize(t,s));var a=te(me(s)),l=n._calloc(a,H);try{return N(B.gridDisk(r,o,t,l)),Ae(l,a)}finally{n._free(l)}}finally{n._free(s)}}function He(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(V);try{N(B.maxGridDiskSize(t,s));var a=te(me(s)),l=n._calloc(a,H),c=n._calloc(a,U);try{N(B.gridDiskDistances(r,o,t,l,c));for(var u=[],h=0;h<t+1;h++)u.push([]);for(var d=0;d<a;d++){var f=de(l,d),p=n.getValue(c+U*d,"i32");null!==f&&u[p].push(f)}return u}finally{n._free(l),n._free(c)}}finally{n._free(s)}}function Ge(e,t){var i=0===t?1:6*t,r=n._calloc(i,H);try{return N(B.gridRingUnsafe.apply(B,ie(e).concat([t],[r]))),Ae(r,i)}finally{n._free(r)}}function We(e,t,i){if(J(t),i=Boolean(i),0===e.length||0===e[0].length)return[];var r="number"===typeof e[0][0]?[e]:e,o=ue(r,i),s=n._malloc(V);try{N(B.maxPolygonToCellsSize(o,t,0,s));var a=te(me(s)),l=n._calloc(a,H);try{return N(B.polygonToCells(o,t,0,l)),Ae(l,a)}finally{n._free(l)}}finally{n._free(s),he(o)}}function $e(e,t){if(!e||!e.length)return[];var i=e.length,r=n._calloc(i,H);ye(r,e);var o=n._calloc(Y);try{return N(B.cellsToLinkedMultiPolygon(r,i,o)),Se(o,t)}finally{B.destroyLinkedMultiPolygon(o),n._free(o),n._free(r)}}function Xe(e){if(!e||!e.length)return[];var t=e.length,i=n._calloc(t,H);ye(i,e);var r=n._calloc(t,H);try{return N(B.compactCells(i,r,t,j)),Ae(r,t)}finally{n._free(i),n._free(r)}}function Ye(e,t){if(J(t),!e||!e.length)return[];var i=e.length,r=n._calloc(i,H);ye(r,e);var o=n._malloc(V);try{N(B.uncompactCellsSize(r,i,j,t,o));var s=te(me(o)),a=n._calloc(s,H);try{return N(B.uncompactCells(r,i,j,a,s,j,t)),Ae(a,s)}finally{n._free(r),n._free(a)}}finally{n._free(o)}}function Ke(e,t){var i=ie(e),r=i[0],o=i[1],s=ie(t),a=s[0],l=s[1],c=n._malloc(U);try{return N(B.areNeighborCells(r,o,a,l,c)),fe(c)}finally{n._free(c)}}function Qe(e,t){var i=ie(e),r=i[0],o=i[1],s=ie(t),a=s[0],l=s[1],c=n._malloc(H);try{return N(B.cellsToDirectedEdge(r,o,a,l,c)),Z(de(c))}finally{n._free(c)}}function Je(e){var t=ie(e),i=t[0],r=t[1],o=n._malloc(H);try{return N(B.getDirectedEdgeOrigin(i,r,o)),Z(de(o))}finally{n._free(o)}}function Ze(e){var t=ie(e),i=t[0],r=t[1],o=n._malloc(H);try{return N(B.getDirectedEdgeDestination(i,r,o)),Z(de(o))}finally{n._free(o)}}function et(e){var t=ie(e),n=t[0],i=t[1];return Boolean(B.isValidDirectedEdge(n,i))}function tt(e){var t=ie(e),i=t[0],r=t[1],o=2,s=n._calloc(o,H);try{return N(B.directedEdgeToCells(i,r,s)),Ae(s,o)}finally{n._free(s)}}function nt(e){var t=ie(e),i=t[0],r=t[1],o=6,s=n._calloc(o,H);try{return N(B.originToDirectedEdges(i,r,s)),Ae(s,o)}finally{n._free(s)}}function it(e,t){var i=n._malloc(W),r=ie(e),o=r[0],s=r[1];try{return N(B.directedEdgeToBoundary(o,s,i)),xe(i,t)}finally{n._free(i)}}function rt(e,t){var i=ie(e),r=i[0],o=i[1],s=ie(t),a=s[0],l=s[1],c=n._malloc(V);try{return N(B.gridDistance(r,o,a,l,c)),me(c)}finally{n._free(c)}}function ot(e,t){var i=ie(e),r=i[0],o=i[1],s=ie(t),a=s[0],l=s[1],c=n._malloc(V);try{N(B.gridPathCellsSize(r,o,a,l,c));var u=te(me(c)),h=n._calloc(u,H);try{return B.gridPathCells(r,o,a,l,h),Ae(h,u)}finally{n._free(h)}}finally{n._free(c)}}var st=0;function at(e,t){var i=n._malloc(K);try{return N(B.cellToLocalIj.apply(B,ie(e).concat(ie(t),[st],[i]))),Te(i)}finally{n._free(i)}}function lt(e,t){if(!t||"number"!==typeof t.i||"number"!==typeof t.j)throw new Error("Coordinates must be provided as an {i, j} object");var i=n._malloc(K),r=n._malloc(H);Ee(i,t);try{return N(B.localIjToCell.apply(B,ie(e).concat([i],[st],[r]))),Z(de(r))}finally{n._free(i),n._free(r)}}function ct(e,t,i){var r,o=ve(e[0],e[1]),s=ve(t[0],t[1]);switch(i){case Q.m:r=B.greatCircleDistanceM(o,s);break;case Q.km:r=B.greatCircleDistanceKm(o,s);break;case Q.rads:r=B.greatCircleDistanceRads(o,s);break;default:r=null}if(n._free(o),n._free(s),null===r)throw L(C,i);return r}function ut(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(q);try{switch(t){case Q.m2:N(B.cellAreaM2(r,o,s));break;case Q.km2:N(B.cellAreaKm2(r,o,s));break;case Q.rads2:N(B.cellAreaRads2(r,o,s));break;default:throw L(C,t)}return pe(s)}finally{n._free(s)}}function ht(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(q);try{switch(t){case Q.m:N(B.edgeLengthM(r,o,s));break;case Q.km:N(B.edgeLengthKm(r,o,s));break;case Q.rads:N(B.edgeLengthRads(r,o,s));break;default:throw L(C,t)}return pe(s)}finally{n._free(s)}}function dt(e,t){J(e);var i=n._malloc(q);try{switch(t){case Q.m2:N(B.getHexagonAreaAvgM2(e,i));break;case Q.km2:N(B.getHexagonAreaAvgKm2(e,i));break;default:throw L(C,t)}return pe(i)}finally{n._free(i)}}function ft(e,t){J(e);var i=n._malloc(q);try{switch(t){case Q.m:N(B.getHexagonEdgeLengthAvgM(e,i));break;case Q.km:N(B.getHexagonEdgeLengthAvgKm(e,i));break;default:throw L(C,t)}return pe(i)}finally{n._free(i)}}function pt(e,t){var i=ie(e),r=i[0],o=i[1],s=n._malloc(H);try{return N(B.cellToVertex(r,o,t,s)),Z(de(s))}finally{n._free(s)}}function mt(e){var t=ie(e),i=t[0],r=t[1],o=6,s=n._calloc(o,H);try{return N(B.cellToVertexes(i,r,s)),Ae(s,o)}finally{n._free(s)}}function gt(e){var t=n._malloc(G),i=ie(e),r=i[0],o=i[1];try{return N(B.vertexToLatLng(r,o,t)),_e(t)}finally{n._free(t)}}function At(e){var t=ie(e),n=t[0],i=t[1];return Boolean(B.isValidVertex(n,i))}function yt(e){J(e);var t=n._malloc(V);try{return N(B.getNumCells(e,t)),me(t)}finally{n._free(t)}}function vt(){var e=B.res0CellCount(),t=n._malloc(H*e);try{return N(B.getRes0Cells(t)),Ae(t,e)}finally{n._free(t)}}function bt(e){J(e);var t=B.pentagonCount(),i=n._malloc(H*t);try{return N(B.getPentagons(e,i)),Ae(i,t)}finally{n._free(i)}}function _t(e){return e*Math.PI/180}function wt(e){return 180*e/Math.PI}t.UNITS=Q,t.h3IndexToSplitLong=ie,t.splitLongToH3Index=oe,t.isValidCell=Ce,t.isPentagon=Oe,t.isResClassIII=ke,t.getBaseCellNumber=Pe,t.getIcosahedronFaces=Ie,t.getResolution=Re,t.latLngToCell=De,t.cellToLatLng=Le,t.cellToBoundary=Ne,t.cellToParent=Be,t.cellToChildren=Fe,t.cellToChildrenSize=je,t.cellToCenterChild=Ue,t.cellToChildPos=ze,t.childPosToCell=qe,t.gridDisk=Ve,t.gridDiskDistances=He,t.gridRingUnsafe=Ge,t.polygonToCells=We,t.cellsToMultiPolygon=$e,t.compactCells=Xe,t.uncompactCells=Ye,t.areNeighborCells=Ke,t.cellsToDirectedEdge=Qe,t.getDirectedEdgeOrigin=Je,t.getDirectedEdgeDestination=Ze,t.isValidDirectedEdge=et,t.directedEdgeToCells=tt,t.originToDirectedEdges=nt,t.directedEdgeToBoundary=it,t.gridDistance=rt,t.gridPathCells=ot,t.cellToLocalIj=at,t.localIjToCell=lt,t.greatCircleDistance=ct,t.cellArea=ut,t.edgeLength=ht,t.getHexagonAreaAvg=dt,t.getHexagonEdgeLengthAvg=ft,t.cellToVertex=pt,t.cellToVertexes=mt,t.vertexToLatLng=gt,t.isValidVertex=At,t.getNumCells=yt,t.getRes0Cells=vt,t.getPentagons=bt,t.degsToRads=_t,t.radsToDegs=wt},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e){"string"!==typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),s="/"===o(e,-1);return e=n(r(e.split("/"),(function(e){return!!e})),!i).join("/"),e||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=i(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e016:function(e,t,n){(function(e){"undefined"!==typeof e&&"undefined"===typeof e.self&&(e.self={},e.__pretenderNodePolyfill=!0)}).call(this,n("c8ba"))},e04d:function(e,t,n){"use strict";function i(e){return!!e&&/^[a-z]/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},e0c9:function(e,t,n){"use strict";var i=n("5a89");const r=window.THREE?window.THREE:{Box3:i.Box3,BufferGeometry:i.BufferGeometry,Float32BufferAttribute:i.Float32BufferAttribute,InstancedBufferGeometry:i.InstancedBufferGeometry,InstancedInterleavedBuffer:i.InstancedInterleavedBuffer,InterleavedBufferAttribute:i.InterleavedBufferAttribute,Sphere:i.Sphere,Vector3:i.Vector3,WireframeGeometry:i.WireframeGeometry};var o=(new r.BufferGeometry).setAttribute?"setAttribute":"addAttribute";const s=new r.Box3,a=new r.Vector3;class l extends r.InstancedBufferGeometry{constructor(){super(),this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],n=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(n),this[o]("position",new r.Float32BufferAttribute(e,3)),this[o]("uv",new r.Float32BufferAttribute(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new r.InstancedInterleavedBuffer(t,6,1);return this[o]("instanceStart",new r.InterleavedBufferAttribute(n,3,0)),this[o]("instanceEnd",new r.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new r.InstancedInterleavedBuffer(t,6,1);return this[o]("instanceColorStart",new r.InterleavedBufferAttribute(n,3,0)),this[o]("instanceColorEnd",new r.InterleavedBufferAttribute(n,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new r.WireframeGeometry(e.geometry)),this}fromLineSegments(e){const t=e.geometry;if(!t.isGeometry)return t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this;console.error("LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new r.Box3);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),s.setFromBufferAttribute(t),this.boundingBox.union(s))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new r.Sphere),null===this.boundingBox&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)a.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(a)),a.fromBufferAttribute(t,r),i=Math.max(i,n.distanceToSquared(a));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}l.prototype.isLineSegmentsGeometry=!0;const c=window.THREE?window.THREE:{ShaderLib:i.ShaderLib,ShaderMaterial:i.ShaderMaterial,UniformsLib:i.UniformsLib,UniformsUtils:i.UniformsUtils,Vector2:i.Vector2};c.UniformsLib.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new c.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},dashOffset:{value:0},gapSize:{value:1}},c.ShaderLib["line"]={uniforms:c.UniformsUtils.merge([c.UniformsLib.common,c.UniformsLib.fog,c.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\t\tvarying vec4 worldPos;\n\t\tvarying vec3 worldStart;\n\t\tvarying vec3 worldEnd;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\tworldStart = start.xyz;\n\t\t\tworldEnd = end.xyz;\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t}\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t#endif\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segements overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\t\tvarying vec4 worldPos;\n\t\tvarying vec3 worldStart;\n\t\tvarying vec3 worldEnd;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};class u extends c.ShaderMaterial{constructor(e){super({type:"LineMaterial",uniforms:c.UniformsUtils.clone(c.ShaderLib["line"].uniforms),vertexShader:c.ShaderLib["line"].vertexShader,fragmentShader:c.ShaderLib["line"].fragmentShader,clipping:!0}),Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(e){!0===e?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(e){Boolean(e)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),!0===e?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("ALPHA_TO_COVERAGE"in this.defines)},set:function(e){Boolean(e)!==Boolean("ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),!0===e?(this.defines.ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}u.prototype.isLineMaterial=!0;const h=window.THREE?window.THREE:{Box3:i.Box3,BufferGeometry:i.BufferGeometry,InstancedInterleavedBuffer:i.InstancedInterleavedBuffer,InterleavedBufferAttribute:i.InterleavedBufferAttribute,Line3:i.Line3,MathUtils:i.MathUtils,Matrix4:i.Matrix4,Mesh:i.Mesh,Sphere:i.Sphere,Vector3:i.Vector3,Vector4:i.Vector4};var d=(new h.BufferGeometry).setAttribute?"setAttribute":"addAttribute";const f=new h.Vector3,p=new h.Vector3,m=new h.Vector4,g=new h.Vector4,A=new h.Vector4,y=new h.Vector3,v=new h.Matrix4,b=new h.Line3,_=new h.Vector3,w=new h.Box3,x=new h.Sphere,S=new h.Vector4;class T extends h.Mesh{constructor(e=new l,t=new u({color:16777215*Math.random()})){super(e,t),this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let o=0,s=0,a=t.count;o<a;o++,s+=2)f.fromBufferAttribute(t,o),p.fromBufferAttribute(n,o),i[s]=0===s?0:i[s-1],i[s+1]=i[s]+f.distanceTo(p);const r=new h.InstancedInterleavedBuffer(i,2,1);return e[d]("instanceDistanceStart",new h.InterleavedBufferAttribute(r,1,0)),e[d]("instanceDistanceEnd",new h.InterleavedBufferAttribute(r,1,1)),this}raycast(e,t){null===e.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');const n=void 0!==e.params.Line2&&e.params.Line2.threshold||0,i=e.ray,r=e.camera,o=r.projectionMatrix,s=this.matrixWorld,a=this.geometry,l=this.material,c=l.resolution,u=l.linewidth+n,d=a.attributes.instanceStart,f=a.attributes.instanceEnd,p=-r.near,T=2*Math.max(u/c.width,u/c.height);null===a.boundingSphere&&a.computeBoundingSphere(),x.copy(a.boundingSphere).applyMatrix4(s);const E=Math.max(r.near,x.distanceToPoint(i.origin));S.set(0,0,-E,1).applyMatrix4(r.projectionMatrix),S.multiplyScalar(1/S.w),S.applyMatrix4(r.projectionMatrixInverse);const M=.5*Math.abs(T/S.w);if(x.radius+=M,!1===e.ray.intersectsSphere(x))return;null===a.boundingBox&&a.computeBoundingBox(),w.copy(a.boundingBox).applyMatrix4(s);const C=Math.max(r.near,w.distanceToPoint(i.origin));S.set(0,0,-C,1).applyMatrix4(r.projectionMatrix),S.multiplyScalar(1/S.w),S.applyMatrix4(r.projectionMatrixInverse);const O=.5*Math.abs(T/S.w);if(w.max.x+=O,w.max.y+=O,w.max.z+=O,w.min.x-=O,w.min.y-=O,w.min.z-=O,!1!==e.ray.intersectsBox(w)){i.at(1,A),A.w=1,A.applyMatrix4(r.matrixWorldInverse),A.applyMatrix4(o),A.multiplyScalar(1/A.w),A.x*=c.x/2,A.y*=c.y/2,A.z=0,y.copy(A),v.multiplyMatrices(r.matrixWorldInverse,s);for(let e=0,n=d.count;e<n;e++){m.fromBufferAttribute(d,e),g.fromBufferAttribute(f,e),m.w=1,g.w=1,m.applyMatrix4(v),g.applyMatrix4(v);var k=m.z>p&&g.z>p;if(k)continue;if(m.z>p){const e=m.z-g.z,t=(m.z-p)/e;m.lerp(g,t)}else if(g.z>p){const e=g.z-m.z,t=(g.z-p)/e;g.lerp(m,t)}m.applyMatrix4(o),g.applyMatrix4(o),m.multiplyScalar(1/m.w),g.multiplyScalar(1/g.w),m.x*=c.x/2,m.y*=c.y/2,g.x*=c.x/2,g.y*=c.y/2,b.start.copy(m),b.start.z=0,b.end.copy(g),b.end.z=0;const n=b.closestPointToPointParameter(y,!0);b.at(n,_);const r=h.MathUtils.lerp(m.z,g.z,n),a=r>=-1&&r<=1,l=y.distanceTo(_)<.5*u;if(a&&l){b.start.fromBufferAttribute(d,e),b.end.fromBufferAttribute(f,e),b.start.applyMatrix4(s),b.end.applyMatrix4(s);const n=new h.Vector3,r=new h.Vector3;i.distanceSqToSegment(b.start,b.end,r,n),t.push({point:r,pointOnLine:n,distance:i.origin.distanceTo(r),object:this,face:null,faceIndex:e,uv:null,uv2:null})}}}}}T.prototype.LineSegments2=!0;class E extends l{constructor(){super(),this.type="LineGeometry"}setPositions(e){for(var t=e.length-3,n=new Float32Array(2*t),i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return super.setPositions(n),this}setColors(e){for(var t=e.length-3,n=new Float32Array(2*t),i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return super.setColors(n),this}fromLine(e){var t=e.geometry;if(!t.isGeometry)return t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this;console.error("THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")}}E.prototype.isLineGeometry=!0;class M extends T{constructor(e=new E,t=new u({color:16777215*Math.random()})){super(e,t),this.type="Line2"}}M.prototype.isLine2=!0,t.Line2=M,t.LineGeometry=E,t.LineMaterial=u,t.LineSegments2=T,t.LineSegmentsGeometry=l},e2d4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifierChar=h,t.isIdentifierName=d,t.isIdentifierStart=u;let i="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",r="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿";const o=new RegExp("["+i+"]"),s=new RegExp("["+i+r+"]");i=r=null;const a=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],l=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function c(e,t){let n=65536;for(let i=0,r=t.length;i<r;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function u(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&o.test(String.fromCharCode(e)):c(e,a)))}function h(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&s.test(String.fromCharCode(e)):c(e,a)||c(e,l))))}function d(e){let t=!0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(55296===(64512&i)&&n+1<e.length){const t=e.charCodeAt(++n);56320===(64512&t)&&(i=65536+((1023&i)<<10)+(1023&t))}if(t){if(t=!1,!u(i))return!1}else if(!h(i))return!1}return!t}},e330:function(e,t,n){var i=n("40d5"),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);e.exports=i?s:function(e){return function(){return o.apply(e,arguments)}}},e357:function(e,t,n){"use strict";(function(t){s.sigma=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],[11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4],[7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8],[9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13],[2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9],[12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11],[13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10],[6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5],[10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],[11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4],[7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8],[9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13],[2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]],s.u256=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479],s.padding=new t([128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s.prototype._length_carry=function(e){for(var t=0;t<e.length;++t){if(e[t]<4294967296)break;e[t]-=4294967296,e[t+1]+=1}},s.prototype.update=function(e,n){e=new t(e,n);var i=this._block,r=0;while(this._blockOffset+e.length-r>=i.length){for(var o=this._blockOffset;o<i.length;)i[o++]=e[r++];this._length[0]+=8*i.length,this._length_carry(this._length),this._compress(),this._blockOffset=0}while(r<e.length)i[this._blockOffset++]=e[r++];return this};var n=new t([1]),i=new t([129]);function r(e,t){return(e<<32-t|e>>>t)>>>0}function o(e,t,n,i,o,a,l,c){var u=s.sigma,h=s.u256;e[i]=e[i]+((t[u[n][c]]^h[u[n][c+1]])>>>0)+e[o]>>>0,e[l]=r(e[l]^e[i],16),e[a]=e[a]+e[l]>>>0,e[o]=r(e[o]^e[a],12),e[i]=e[i]+((t[u[n][c+1]]^h[u[n][c]])>>>0)+e[o]>>>0,e[l]=r(e[l]^e[i],8),e[a]=e[a]+e[l]>>>0,e[o]=r(e[o]^e[a],7)}function s(){this._h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this._s=[0,0,0,0],this._block=new t(64),this._blockOffset=0,this._length=[0,0],this._nullt=!1,this._zo=n,this._oo=i}s.prototype._compress=function(){var e,t=s.u256,n=new Array(16),i=new Array(16);for(e=0;e<16;++e)i[e]=this._block.readUInt32BE(4*e);for(e=0;e<8;++e)n[e]=this._h[e]>>>0;for(e=8;e<12;++e)n[e]=(this._s[e-8]^t[e-8])>>>0;for(e=12;e<16;++e)n[e]=t[e-8];for(this._nullt||(n[12]=(n[12]^this._length[0])>>>0,n[13]=(n[13]^this._length[0])>>>0,n[14]=(n[14]^this._length[1])>>>0,n[15]=(n[15]^this._length[1])>>>0),e=0;e<14;++e)o(n,i,e,0,4,8,12,0),o(n,i,e,1,5,9,13,2),o(n,i,e,2,6,10,14,4),o(n,i,e,3,7,11,15,6),o(n,i,e,0,5,10,15,8),o(n,i,e,1,6,11,12,10),o(n,i,e,2,7,8,13,12),o(n,i,e,3,4,9,14,14);for(e=0;e<16;++e)this._h[e%8]=(this._h[e%8]^n[e])>>>0;for(e=0;e<8;++e)this._h[e]=(this._h[e]^this._s[e%4])>>>0},s.prototype._padding=function(){var e=this._length[0]+8*this._blockOffset,n=this._length[1];e>=4294967296&&(e-=4294967296,n+=1);var i=new t(8);i.writeUInt32BE(n,0),i.writeUInt32BE(e,4),55===this._blockOffset?(this._length[0]-=8,this.update(this._oo)):(this._blockOffset<55?(0===this._blockOffset&&(this._nullt=!0),this._length[0]-=8*(55-this._blockOffset),this.update(s.padding.slice(0,55-this._blockOffset))):(this._length[0]-=8*(64-this._blockOffset),this.update(s.padding.slice(0,64-this._blockOffset)),this._length[0]-=440,this.update(s.padding.slice(1,56)),this._nullt=!0),this.update(this._zo),this._length[0]-=8),this._length[0]-=64,this.update(i)},s.prototype.digest=function(e){this._padding();for(var n=new t(32),i=0;i<8;++i)n.writeUInt32BE(this._h[i],4*i);return n.toString(e)},e.exports=s}).call(this,n("1c35").Buffer)},e391:function(e,t,n){var i=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},e3d8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("b978");function r(e,t){if(e===t)return!0;const n=i.PLACEHOLDERS_ALIAS[e];if(n)for(const i of n)if(t===i)return!0;return!1}},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e3e1:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return I}));var i=n("8afd");function r(e){return"function"===typeof e}function o(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}function s(e){return r(e.$validator)?Object.assign({},e):{$validator:e}}function a(e){return"object"===typeof e?e.$valid:e}function l(e){return e.$validator||e}function c(e,t){if(!o(e))throw new Error('[@vuelidate/validators]: First parameter to "withParams" should be an object, provided '+typeof e);if(!o(t)&&!r(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=s(t);return n.$params=Object.assign({},n.$params||{},e),n}function u(e,t){if(!r(e)&&"string"!==typeof Object(i["m"])(e))throw new Error('[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided '+typeof e);if(!o(t)&&!r(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=s(t);return n.$message=e,n}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=s(e);return Object.assign({},n,{$async:!0,$watchTargets:t})}function d(e){return{$validator(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Object(i["m"])(t).reduce((t,n,i)=>{const o=Object.entries(n).reduce((t,o)=>{let[s,c]=o;const u=e[s]||{},h=Object.entries(u).reduce((e,t)=>{let[o,u]=t;const h=l(u),d=h.call(this,c,n,i,...r),f=a(d);if(e.$data[o]=d,e.$data.$invalid=!f||!!e.$data.$invalid,e.$data.$error=e.$data.$invalid,!f){let t=u.$message||"";const n=u.$params||{};"function"===typeof t&&(t=t({$pending:!1,$invalid:!f,$params:n,$model:c,$response:d})),e.$errors.push({$property:s,$message:t,$params:n,$response:d,$model:c,$pending:!1,$validator:o})}return{$valid:e.$valid&&f,$data:e.$data,$errors:e.$errors}},{$valid:!0,$data:{},$errors:[]});return t.$data[s]=h.$data,t.$errors[s]=h.$errors,{$valid:t.$valid&&h.$valid,$data:t.$data,$errors:t.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:t.$valid&&o.$valid,$data:t.$data.concat(o.$data),$errors:t.$errors.concat(o.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:e=>{let{$response:t}=e;return t?t.$errors.map(e=>Object.values(e).map(e=>e.map(e=>e.$message)).reduce((e,t)=>e.concat(t),[])):[]}}}const f=e=>{if(e=Object(i["m"])(e),Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===typeof e){for(let t in e)return!0;return!1}return!!String(e).length},p=e=>(e=Object(i["m"])(e),Array.isArray(e)?e.length:"object"===typeof e?Object.keys(e).length:String(e).length);function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(e=Object(i["m"])(e),!f(e)||t.every(t=>t.test(e)))}var g=Object.freeze({__proto__:null,withParams:c,withMessage:u,withAsync:h,forEach:d,req:f,len:p,regex:m,unwrap:i["m"],unwrapNormalizedValidator:l,unwrapValidatorResponse:a,normalizeValidatorObject:s}),A=(m(/^[a-zA-Z]*$/),m(/^[a-zA-Z0-9]*$/),m(/^\d*(\.\d+)?$/)),y={$validator:A,$message:"Value must be numeric",$params:{type:"numeric"}};const v=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var b=m(v),_={$validator:b,$message:"Value is not a valid email address",$params:{type:"email"}};function w(e){return t=>!f(t)||p(t)<=Object(i["m"])(e)}function x(e){return{$validator:w(e),$message:e=>{let{$params:t}=e;return"The maximum length allowed is "+t.max},$params:{max:e,type:"maxLength"}}}function S(e){return t=>!f(t)||p(t)>=Object(i["m"])(e)}function T(e){return{$validator:S(e),$message:e=>{let{$params:t}=e;return`This field should be at least ${t.min} characters long`},$params:{min:e,type:"minLength"}}}function E(e){return"string"===typeof e&&(e=e.trim()),f(e)}var M={$validator:E,$message:"Value is required",$params:{type:"required"}};const C=(e,t)=>!e||f("string"===typeof t?t.trim():t);function O(e){return function(t,n){if("function"!==typeof e)return C(Object(i["m"])(e),t);const r=e.call(this,t,n);return C(r,t)}}function k(e){return{$validator:O(e),$message:"The value is required",$params:{type:"requiredIf",prop:e}}}function P(e){return t=>Object(i["m"])(t)===Object(i["m"])(e)}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"other";return{$validator:P(e),$message:e=>`The value must be equal to the ${t} value`,$params:{equalTo:e,otherName:t,type:"sameAs"}}}const R=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;m(R);function D(e){return t=>!f(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+Object(i["m"])(e)}function L(e){return{$validator:D(e),$message:e=>{let{$params:t}=e;return"The minimum value allowed is "+t.min},$params:{min:e,type:"minValue"}}}function N(e){return t=>!f(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+Object(i["m"])(e)}var B=e=>({$validator:N(e),$message:e=>{let{$params:t}=e;return"The maximum value allowed is "+t.max},$params:{max:e,type:"maxValue"}});m(/(^[0-9]*$)|(^-[0-9]+$)/),m(/^[-]?\d*(\.\d+)?$/)},e4f1:function(e,t,n){var i=n("4b22");function r(e,t,n,i){for(var r=0,o=0,s=[],a=(1<<n)-1,l=0;l<e.length;++l){var c=e[l];if(c<0||c>>t!==0)return null;r=r<<t|c,o+=t;while(o>=n)o-=n,s.push(r>>o&a)}if(i)o>0&&s.push(r<<n-o&a);else if(o>=t||r<<n-o&a)return null;return s}function o(e,t){var n=i.decode(t);if(null===n||n.hrp!==e||n.data.length<1||n.data[0]>16)return null;var o=r(n.data.slice(1),5,8,!1);return null===o||o.length<2||o.length>40||0===n.data[0]&&20!==o.length&&32!==o.length?null:{version:n.data[0],program:o}}function s(e,t,n){var s=i.encode(e,[t].concat(r(n,8,5,!0)));return null===o(e,s)?null:s}function a(e,t){t=t||"bc";var n=o(t,e);if(null===n&&(t="tb",n=o(t,e)),null===n)return!1;var i=s(t,n.version,n.program);return i===e.toLowerCase()}e.exports={encode:s,decode:o,isValidAddress:a}},e5cb:function(e,t,n){"use strict";var i=n("d066"),r=n("1a2d"),o=n("9112"),s=n("3a9b"),a=n("d2bb"),l=n("e893"),c=n("aeb0"),u=n("7156"),h=n("e391"),d=n("ab36"),f=n("6f19"),p=n("83ab"),m=n("c430");e.exports=function(e,t,n,g){var A="stackTraceLimit",y=g?2:1,v=e.split("."),b=v[v.length-1],_=i.apply(null,v);if(_){var w=_.prototype;if(!m&&r(w,"cause")&&delete w.cause,!n)return _;var x=i("Error"),S=t((function(e,t){var n=h(g?t:e,void 0),i=g?new _(e):new _;return void 0!==n&&o(i,"message",n),f(i,S,i.stack,2),this&&s(w,this)&&u(i,this,S),arguments.length>y&&d(i,arguments[y]),i}));if(S.prototype=w,"Error"!==b?a?a(S,x):l(S,x,{name:!0}):p&&A in _&&(c(S,_,A),c(S,_,"prepareStackTrace")),l(S,_),!m)try{w.name!==b&&o(w,"name",b),w.constructor=S}catch(T){}return S}}},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e691:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=[];var r;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(r||(r={}));const o={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},s=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=a[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}function u(e){i.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of i){let i=null;t&&t.level&&(i=o[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const s=o.map(e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:r[n].toLowerCase(),message:s,args:o,type:t.name})}}}},e893:function(e,t,n){var i=n("1a2d"),r=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t,n){for(var a=r(t),l=s.f,c=o.f,u=0;u<a.length;u++){var h=a[u];i(e,h)||n&&i(n,h)||l(e,h,c(t,h))}}},e8b5:function(e,t,n){var i=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},ead6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n("c485");function r(e){return(0,i.isIdentifier)(e)?e.name:`${e.id.name}.${r(e.qualification)}`}function o(e){const t=new Map,n=new Map,s=new Set,a=[];for(let l=0;l<e.length;l++){const c=e[l];if(c&&!(a.indexOf(c)>=0)){if((0,i.isAnyTypeAnnotation)(c))return[c];if((0,i.isFlowBaseAnnotation)(c))n.set(c.type,c);else if((0,i.isUnionTypeAnnotation)(c))s.has(c.types)||(e=e.concat(c.types),s.add(c.types));else if((0,i.isGenericTypeAnnotation)(c)){const e=r(c.id);if(t.has(e)){let n=t.get(e);n.typeParameters?c.typeParameters&&(n.typeParameters.params=o(n.typeParameters.params.concat(c.typeParameters.params))):n=c.typeParameters}else t.set(e,c)}else a.push(c)}}for(const[,i]of n)a.push(i);for(const[,i]of t)a.push(i);return a}},eb5b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anyTypeAnnotation=Fe,t.argumentPlaceholder=pn,t.arrayExpression=o,t.arrayPattern=ie,t.arrayTypeAnnotation=je,t.arrowFunctionExpression=re,t.assignmentExpression=s,t.assignmentPattern=ne,t.awaitExpression=Ee,t.bigIntLiteral=Ce,t.binaryExpression=a,t.bindExpression=mn,t.blockStatement=h,t.booleanLiteral=I,t.booleanLiteralTypeAnnotation=ze,t.booleanTypeAnnotation=Ue,t.breakStatement=d,t.callExpression=f,t.catchClause=p,t.classAccessorProperty=Re,t.classBody=oe,t.classDeclaration=ae,t.classExpression=se,t.classImplements=Ve,t.classMethod=ye,t.classPrivateMethod=Le,t.classPrivateProperty=De,t.classProperty=Ie,t.conditionalExpression=m,t.continueStatement=g,t.debuggerStatement=A,t.decimalLiteral=wn,t.declareClass=He,t.declareExportAllDeclaration=Ze,t.declareExportDeclaration=Je,t.declareFunction=Ge,t.declareInterface=We,t.declareModule=$e,t.declareModuleExports=Xe,t.declareOpaqueType=Ke,t.declareTypeAlias=Ye,t.declareVariable=Qe,t.declaredPredicate=et,t.decorator=An,t.directive=c,t.directiveLiteral=u,t.doExpression=yn,t.doWhileStatement=y,t.emptyStatement=v,t.emptyTypeAnnotation=ht,t.enumBooleanBody=jt,t.enumBooleanMember=Vt,t.enumDeclaration=Ft,t.enumDefaultedMember=Wt,t.enumNumberBody=Ut,t.enumNumberMember=Ht,t.enumStringBody=zt,t.enumStringMember=Gt,t.enumSymbolBody=qt,t.existsTypeAnnotation=tt,t.exportAllDeclaration=le,t.exportDefaultDeclaration=ce,t.exportDefaultSpecifier=vn,t.exportNamedDeclaration=ue,t.exportNamespaceSpecifier=Oe,t.exportSpecifier=he,t.expressionStatement=b,t.file=_,t.forInStatement=w,t.forOfStatement=de,t.forStatement=x,t.functionDeclaration=S,t.functionExpression=T,t.functionTypeAnnotation=nt,t.functionTypeParam=it,t.genericTypeAnnotation=rt,t.identifier=E,t.ifStatement=M,t.import=Me,t.importAttribute=gn,t.importDeclaration=fe,t.importDefaultSpecifier=pe,t.importNamespaceSpecifier=me,t.importSpecifier=ge,t.indexedAccessType=$t,t.inferredPredicate=ot,t.interfaceDeclaration=at,t.interfaceExtends=st,t.interfaceTypeAnnotation=lt,t.interpreterDirective=l,t.intersectionTypeAnnotation=ct,t.jSXAttribute=t.jsxAttribute=Yt,t.jSXClosingElement=t.jsxClosingElement=Kt,t.jSXClosingFragment=t.jsxClosingFragment=un,t.jSXElement=t.jsxElement=Qt,t.jSXEmptyExpression=t.jsxEmptyExpression=Jt,t.jSXExpressionContainer=t.jsxExpressionContainer=Zt,t.jSXFragment=t.jsxFragment=ln,t.jSXIdentifier=t.jsxIdentifier=tn,t.jSXMemberExpression=t.jsxMemberExpression=nn,t.jSXNamespacedName=t.jsxNamespacedName=rn,t.jSXOpeningElement=t.jsxOpeningElement=on,t.jSXOpeningFragment=t.jsxOpeningFragment=cn,t.jSXSpreadAttribute=t.jsxSpreadAttribute=sn,t.jSXSpreadChild=t.jsxSpreadChild=en,t.jSXText=t.jsxText=an,t.labeledStatement=C,t.logicalExpression=D,t.memberExpression=L,t.metaProperty=Ae,t.mixedTypeAnnotation=ut,t.moduleExpression=xn,t.newExpression=N,t.noop=hn,t.nullLiteral=P,t.nullLiteralTypeAnnotation=qe,t.nullableTypeAnnotation=dt,t.numberLiteral=ji,t.numberLiteralTypeAnnotation=ft,t.numberTypeAnnotation=pt,t.numericLiteral=k,t.objectExpression=F,t.objectMethod=j,t.objectPattern=ve,t.objectProperty=U,t.objectTypeAnnotation=mt,t.objectTypeCallProperty=At,t.objectTypeIndexer=yt,t.objectTypeInternalSlot=gt,t.objectTypeProperty=vt,t.objectTypeSpreadProperty=bt,t.opaqueType=_t,t.optionalCallExpression=Pe,t.optionalIndexedAccessType=Xt,t.optionalMemberExpression=ke,t.parenthesizedExpression=H,t.pipelineBareFunction=En,t.pipelinePrimaryTopicReference=Mn,t.pipelineTopicExpression=Tn,t.placeholder=dn,t.privateName=Ne,t.program=B,t.qualifiedTypeIdentifier=wt,t.recordExpression=bn,t.regExpLiteral=R,t.regexLiteral=Ui,t.restElement=z,t.restProperty=zi,t.returnStatement=q,t.sequenceExpression=V,t.spreadElement=be,t.spreadProperty=qi,t.staticBlock=Be,t.stringLiteral=O,t.stringLiteralTypeAnnotation=xt,t.stringTypeAnnotation=St,t.super=_e,t.switchCase=G,t.switchStatement=W,t.symbolTypeAnnotation=Tt,t.taggedTemplateExpression=we,t.templateElement=xe,t.templateLiteral=Se,t.thisExpression=$,t.thisTypeAnnotation=Et,t.throwStatement=X,t.topicReference=Sn,t.tryStatement=Y,t.tSAnyKeyword=t.tsAnyKeyword=Bn,t.tSArrayType=t.tsArrayType=ii,t.tSAsExpression=t.tsAsExpression=wi,t.tSBigIntKeyword=t.tsBigIntKeyword=jn,t.tSBooleanKeyword=t.tsBooleanKeyword=Fn,t.tSCallSignatureDeclaration=t.tsCallSignatureDeclaration=In,t.tSConditionalType=t.tsConditionalType=ui,t.tSConstructSignatureDeclaration=t.tsConstructSignatureDeclaration=Rn,t.tSConstructorType=t.tsConstructorType=Jn,t.tSDeclareFunction=t.tsDeclareFunction=On,t.tSDeclareMethod=t.tsDeclareMethod=kn,t.tSEnumDeclaration=t.tsEnumDeclaration=Ti,t.tSEnumMember=t.tsEnumMember=Ei,t.tSExportAssignment=t.tsExportAssignment=Ri,t.tSExpressionWithTypeArguments=t.tsExpressionWithTypeArguments=Ai,t.tSExternalModuleReference=t.tsExternalModuleReference=Pi,t.tSFunctionType=t.tsFunctionType=Qn,t.tSImportEqualsDeclaration=t.tsImportEqualsDeclaration=ki,t.tSImportType=t.tsImportType=Oi,t.tSIndexSignature=t.tsIndexSignature=Nn,t.tSIndexedAccessType=t.tsIndexedAccessType=pi,t.tSInferType=t.tsInferType=hi,t.tSInstantiationExpression=t.tsInstantiationExpression=_i,t.tSInterfaceBody=t.tsInterfaceBody=vi,t.tSInterfaceDeclaration=t.tsInterfaceDeclaration=yi,t.tSIntersectionType=t.tsIntersectionType=ci,t.tSIntrinsicKeyword=t.tsIntrinsicKeyword=Un,t.tSLiteralType=t.tsLiteralType=gi,t.tSMappedType=t.tsMappedType=mi,t.tSMethodSignature=t.tsMethodSignature=Ln,t.tSModuleBlock=t.tsModuleBlock=Ci,t.tSModuleDeclaration=t.tsModuleDeclaration=Mi,t.tSNamedTupleMember=t.tsNamedTupleMember=ai,t.tSNamespaceExportDeclaration=t.tsNamespaceExportDeclaration=Di,t.tSNeverKeyword=t.tsNeverKeyword=zn,t.tSNonNullExpression=t.tsNonNullExpression=Ii,t.tSNullKeyword=t.tsNullKeyword=qn,t.tSNumberKeyword=t.tsNumberKeyword=Vn,t.tSObjectKeyword=t.tsObjectKeyword=Hn,t.tSOptionalType=t.tsOptionalType=oi,t.tSParameterProperty=t.tsParameterProperty=Cn,t.tSParenthesizedType=t.tsParenthesizedType=di,t.tSPropertySignature=t.tsPropertySignature=Dn,t.tSQualifiedName=t.tsQualifiedName=Pn,t.tSRestType=t.tsRestType=si,t.tSSatisfiesExpression=t.tsSatisfiesExpression=xi,t.tSStringKeyword=t.tsStringKeyword=Gn,t.tSSymbolKeyword=t.tsSymbolKeyword=Wn,t.tSThisType=t.tsThisType=Kn,t.tSTupleType=t.tsTupleType=ri,t.tSTypeAliasDeclaration=t.tsTypeAliasDeclaration=bi,t.tSTypeAnnotation=t.tsTypeAnnotation=Li,t.tSTypeAssertion=t.tsTypeAssertion=Si,t.tSTypeLiteral=t.tsTypeLiteral=ni,t.tSTypeOperator=t.tsTypeOperator=fi,t.tSTypeParameter=t.tsTypeParameter=Fi,t.tSTypeParameterDeclaration=t.tsTypeParameterDeclaration=Bi,t.tSTypeParameterInstantiation=t.tsTypeParameterInstantiation=Ni,t.tSTypePredicate=t.tsTypePredicate=ei,t.tSTypeQuery=t.tsTypeQuery=ti,t.tSTypeReference=t.tsTypeReference=Zn,t.tSUndefinedKeyword=t.tsUndefinedKeyword=$n,t.tSUnionType=t.tsUnionType=li,t.tSUnknownKeyword=t.tsUnknownKeyword=Xn,t.tSVoidKeyword=t.tsVoidKeyword=Yn,t.tupleExpression=_n,t.tupleTypeAnnotation=Mt,t.typeAlias=Ot,t.typeAnnotation=kt,t.typeCastExpression=Pt,t.typeParameter=It,t.typeParameterDeclaration=Rt,t.typeParameterInstantiation=Dt,t.typeofTypeAnnotation=Ct,t.unaryExpression=K,t.unionTypeAnnotation=Lt,t.updateExpression=Q,t.v8IntrinsicIdentifier=fn,t.variableDeclaration=J,t.variableDeclarator=Z,t.variance=Nt,t.voidTypeAnnotation=Bt,t.whileStatement=ee,t.withStatement=te,t.yieldExpression=Te;var i=n("be09"),r=n("a9c7");function o(e=[]){return(0,i.default)({type:"ArrayExpression",elements:e})}function s(e,t,n){return(0,i.default)({type:"AssignmentExpression",operator:e,left:t,right:n})}function a(e,t,n){return(0,i.default)({type:"BinaryExpression",operator:e,left:t,right:n})}function l(e){return(0,i.default)({type:"InterpreterDirective",value:e})}function c(e){return(0,i.default)({type:"Directive",value:e})}function u(e){return(0,i.default)({type:"DirectiveLiteral",value:e})}function h(e,t=[]){return(0,i.default)({type:"BlockStatement",body:e,directives:t})}function d(e=null){return(0,i.default)({type:"BreakStatement",label:e})}function f(e,t){return(0,i.default)({type:"CallExpression",callee:e,arguments:t})}function p(e=null,t){return(0,i.default)({type:"CatchClause",param:e,body:t})}function m(e,t,n){return(0,i.default)({type:"ConditionalExpression",test:e,consequent:t,alternate:n})}function g(e=null){return(0,i.default)({type:"ContinueStatement",label:e})}function A(){return{type:"DebuggerStatement"}}function y(e,t){return(0,i.default)({type:"DoWhileStatement",test:e,body:t})}function v(){return{type:"EmptyStatement"}}function b(e){return(0,i.default)({type:"ExpressionStatement",expression:e})}function _(e,t=null,n=null){return(0,i.default)({type:"File",program:e,comments:t,tokens:n})}function w(e,t,n){return(0,i.default)({type:"ForInStatement",left:e,right:t,body:n})}function x(e=null,t=null,n=null,r){return(0,i.default)({type:"ForStatement",init:e,test:t,update:n,body:r})}function S(e=null,t,n,r=!1,o=!1){return(0,i.default)({type:"FunctionDeclaration",id:e,params:t,body:n,generator:r,async:o})}function T(e=null,t,n,r=!1,o=!1){return(0,i.default)({type:"FunctionExpression",id:e,params:t,body:n,generator:r,async:o})}function E(e){return(0,i.default)({type:"Identifier",name:e})}function M(e,t,n=null){return(0,i.default)({type:"IfStatement",test:e,consequent:t,alternate:n})}function C(e,t){return(0,i.default)({type:"LabeledStatement",label:e,body:t})}function O(e){return(0,i.default)({type:"StringLiteral",value:e})}function k(e){return(0,i.default)({type:"NumericLiteral",value:e})}function P(){return{type:"NullLiteral"}}function I(e){return(0,i.default)({type:"BooleanLiteral",value:e})}function R(e,t=""){return(0,i.default)({type:"RegExpLiteral",pattern:e,flags:t})}function D(e,t,n){return(0,i.default)({type:"LogicalExpression",operator:e,left:t,right:n})}function L(e,t,n=!1,r=null){return(0,i.default)({type:"MemberExpression",object:e,property:t,computed:n,optional:r})}function N(e,t){return(0,i.default)({type:"NewExpression",callee:e,arguments:t})}function B(e,t=[],n="script",r=null){return(0,i.default)({type:"Program",body:e,directives:t,sourceType:n,interpreter:r,sourceFile:null})}function F(e){return(0,i.default)({type:"ObjectExpression",properties:e})}function j(e="method",t,n,r,o=!1,s=!1,a=!1){return(0,i.default)({type:"ObjectMethod",kind:e,key:t,params:n,body:r,computed:o,generator:s,async:a})}function U(e,t,n=!1,r=!1,o=null){return(0,i.default)({type:"ObjectProperty",key:e,value:t,computed:n,shorthand:r,decorators:o})}function z(e){return(0,i.default)({type:"RestElement",argument:e})}function q(e=null){return(0,i.default)({type:"ReturnStatement",argument:e})}function V(e){return(0,i.default)({type:"SequenceExpression",expressions:e})}function H(e){return(0,i.default)({type:"ParenthesizedExpression",expression:e})}function G(e=null,t){return(0,i.default)({type:"SwitchCase",test:e,consequent:t})}function W(e,t){return(0,i.default)({type:"SwitchStatement",discriminant:e,cases:t})}function $(){return{type:"ThisExpression"}}function X(e){return(0,i.default)({type:"ThrowStatement",argument:e})}function Y(e,t=null,n=null){return(0,i.default)({type:"TryStatement",block:e,handler:t,finalizer:n})}function K(e,t,n=!0){return(0,i.default)({type:"UnaryExpression",operator:e,argument:t,prefix:n})}function Q(e,t,n=!1){return(0,i.default)({type:"UpdateExpression",operator:e,argument:t,prefix:n})}function J(e,t){return(0,i.default)({type:"VariableDeclaration",kind:e,declarations:t})}function Z(e,t=null){return(0,i.default)({type:"VariableDeclarator",id:e,init:t})}function ee(e,t){return(0,i.default)({type:"WhileStatement",test:e,body:t})}function te(e,t){return(0,i.default)({type:"WithStatement",object:e,body:t})}function ne(e,t){return(0,i.default)({type:"AssignmentPattern",left:e,right:t})}function ie(e){return(0,i.default)({type:"ArrayPattern",elements:e})}function re(e,t,n=!1){return(0,i.default)({type:"ArrowFunctionExpression",params:e,body:t,async:n,expression:null})}function oe(e){return(0,i.default)({type:"ClassBody",body:e})}function se(e=null,t=null,n,r=null){return(0,i.default)({type:"ClassExpression",id:e,superClass:t,body:n,decorators:r})}function ae(e,t=null,n,r=null){return(0,i.default)({type:"ClassDeclaration",id:e,superClass:t,body:n,decorators:r})}function le(e){return(0,i.default)({type:"ExportAllDeclaration",source:e})}function ce(e){return(0,i.default)({type:"ExportDefaultDeclaration",declaration:e})}function ue(e=null,t=[],n=null){return(0,i.default)({type:"ExportNamedDeclaration",declaration:e,specifiers:t,source:n})}function he(e,t){return(0,i.default)({type:"ExportSpecifier",local:e,exported:t})}function de(e,t,n,r=!1){return(0,i.default)({type:"ForOfStatement",left:e,right:t,body:n,await:r})}function fe(e,t){return(0,i.default)({type:"ImportDeclaration",specifiers:e,source:t})}function pe(e){return(0,i.default)({type:"ImportDefaultSpecifier",local:e})}function me(e){return(0,i.default)({type:"ImportNamespaceSpecifier",local:e})}function ge(e,t){return(0,i.default)({type:"ImportSpecifier",local:e,imported:t})}function Ae(e,t){return(0,i.default)({type:"MetaProperty",meta:e,property:t})}function ye(e="method",t,n,r,o=!1,s=!1,a=!1,l=!1){return(0,i.default)({type:"ClassMethod",kind:e,key:t,params:n,body:r,computed:o,static:s,generator:a,async:l})}function ve(e){return(0,i.default)({type:"ObjectPattern",properties:e})}function be(e){return(0,i.default)({type:"SpreadElement",argument:e})}function _e(){return{type:"Super"}}function we(e,t){return(0,i.default)({type:"TaggedTemplateExpression",tag:e,quasi:t})}function xe(e,t=!1){return(0,i.default)({type:"TemplateElement",value:e,tail:t})}function Se(e,t){return(0,i.default)({type:"TemplateLiteral",quasis:e,expressions:t})}function Te(e=null,t=!1){return(0,i.default)({type:"YieldExpression",argument:e,delegate:t})}function Ee(e){return(0,i.default)({type:"AwaitExpression",argument:e})}function Me(){return{type:"Import"}}function Ce(e){return(0,i.default)({type:"BigIntLiteral",value:e})}function Oe(e){return(0,i.default)({type:"ExportNamespaceSpecifier",exported:e})}function ke(e,t,n=!1,r){return(0,i.default)({type:"OptionalMemberExpression",object:e,property:t,computed:n,optional:r})}function Pe(e,t,n){return(0,i.default)({type:"OptionalCallExpression",callee:e,arguments:t,optional:n})}function Ie(e,t=null,n=null,r=null,o=!1,s=!1){return(0,i.default)({type:"ClassProperty",key:e,value:t,typeAnnotation:n,decorators:r,computed:o,static:s})}function Re(e,t=null,n=null,r=null,o=!1,s=!1){return(0,i.default)({type:"ClassAccessorProperty",key:e,value:t,typeAnnotation:n,decorators:r,computed:o,static:s})}function De(e,t=null,n=null,r=!1){return(0,i.default)({type:"ClassPrivateProperty",key:e,value:t,decorators:n,static:r})}function Le(e="method",t,n,r,o=!1){return(0,i.default)({type:"ClassPrivateMethod",kind:e,key:t,params:n,body:r,static:o})}function Ne(e){return(0,i.default)({type:"PrivateName",id:e})}function Be(e){return(0,i.default)({type:"StaticBlock",body:e})}function Fe(){return{type:"AnyTypeAnnotation"}}function je(e){return(0,i.default)({type:"ArrayTypeAnnotation",elementType:e})}function Ue(){return{type:"BooleanTypeAnnotation"}}function ze(e){return(0,i.default)({type:"BooleanLiteralTypeAnnotation",value:e})}function qe(){return{type:"NullLiteralTypeAnnotation"}}function Ve(e,t=null){return(0,i.default)({type:"ClassImplements",id:e,typeParameters:t})}function He(e,t=null,n=null,r){return(0,i.default)({type:"DeclareClass",id:e,typeParameters:t,extends:n,body:r})}function Ge(e){return(0,i.default)({type:"DeclareFunction",id:e})}function We(e,t=null,n=null,r){return(0,i.default)({type:"DeclareInterface",id:e,typeParameters:t,extends:n,body:r})}function $e(e,t,n=null){return(0,i.default)({type:"DeclareModule",id:e,body:t,kind:n})}function Xe(e){return(0,i.default)({type:"DeclareModuleExports",typeAnnotation:e})}function Ye(e,t=null,n){return(0,i.default)({type:"DeclareTypeAlias",id:e,typeParameters:t,right:n})}function Ke(e,t=null,n=null){return(0,i.default)({type:"DeclareOpaqueType",id:e,typeParameters:t,supertype:n})}function Qe(e){return(0,i.default)({type:"DeclareVariable",id:e})}function Je(e=null,t=null,n=null){return(0,i.default)({type:"DeclareExportDeclaration",declaration:e,specifiers:t,source:n})}function Ze(e){return(0,i.default)({type:"DeclareExportAllDeclaration",source:e})}function et(e){return(0,i.default)({type:"DeclaredPredicate",value:e})}function tt(){return{type:"ExistsTypeAnnotation"}}function nt(e=null,t,n=null,r){return(0,i.default)({type:"FunctionTypeAnnotation",typeParameters:e,params:t,rest:n,returnType:r})}function it(e=null,t){return(0,i.default)({type:"FunctionTypeParam",name:e,typeAnnotation:t})}function rt(e,t=null){return(0,i.default)({type:"GenericTypeAnnotation",id:e,typeParameters:t})}function ot(){return{type:"InferredPredicate"}}function st(e,t=null){return(0,i.default)({type:"InterfaceExtends",id:e,typeParameters:t})}function at(e,t=null,n=null,r){return(0,i.default)({type:"InterfaceDeclaration",id:e,typeParameters:t,extends:n,body:r})}function lt(e=null,t){return(0,i.default)({type:"InterfaceTypeAnnotation",extends:e,body:t})}function ct(e){return(0,i.default)({type:"IntersectionTypeAnnotation",types:e})}function ut(){return{type:"MixedTypeAnnotation"}}function ht(){return{type:"EmptyTypeAnnotation"}}function dt(e){return(0,i.default)({type:"NullableTypeAnnotation",typeAnnotation:e})}function ft(e){return(0,i.default)({type:"NumberLiteralTypeAnnotation",value:e})}function pt(){return{type:"NumberTypeAnnotation"}}function mt(e,t=[],n=[],r=[],o=!1){return(0,i.default)({type:"ObjectTypeAnnotation",properties:e,indexers:t,callProperties:n,internalSlots:r,exact:o})}function gt(e,t,n,r,o){return(0,i.default)({type:"ObjectTypeInternalSlot",id:e,value:t,optional:n,static:r,method:o})}function At(e){return(0,i.default)({type:"ObjectTypeCallProperty",value:e,static:null})}function yt(e=null,t,n,r=null){return(0,i.default)({type:"ObjectTypeIndexer",id:e,key:t,value:n,variance:r,static:null})}function vt(e,t,n=null){return(0,i.default)({type:"ObjectTypeProperty",key:e,value:t,variance:n,kind:null,method:null,optional:null,proto:null,static:null})}function bt(e){return(0,i.default)({type:"ObjectTypeSpreadProperty",argument:e})}function _t(e,t=null,n=null,r){return(0,i.default)({type:"OpaqueType",id:e,typeParameters:t,supertype:n,impltype:r})}function wt(e,t){return(0,i.default)({type:"QualifiedTypeIdentifier",id:e,qualification:t})}function xt(e){return(0,i.default)({type:"StringLiteralTypeAnnotation",value:e})}function St(){return{type:"StringTypeAnnotation"}}function Tt(){return{type:"SymbolTypeAnnotation"}}function Et(){return{type:"ThisTypeAnnotation"}}function Mt(e){return(0,i.default)({type:"TupleTypeAnnotation",types:e})}function Ct(e){return(0,i.default)({type:"TypeofTypeAnnotation",argument:e})}function Ot(e,t=null,n){return(0,i.default)({type:"TypeAlias",id:e,typeParameters:t,right:n})}function kt(e){return(0,i.default)({type:"TypeAnnotation",typeAnnotation:e})}function Pt(e,t){return(0,i.default)({type:"TypeCastExpression",expression:e,typeAnnotation:t})}function It(e=null,t=null,n=null){return(0,i.default)({type:"TypeParameter",bound:e,default:t,variance:n,name:null})}function Rt(e){return(0,i.default)({type:"TypeParameterDeclaration",params:e})}function Dt(e){return(0,i.default)({type:"TypeParameterInstantiation",params:e})}function Lt(e){return(0,i.default)({type:"UnionTypeAnnotation",types:e})}function Nt(e){return(0,i.default)({type:"Variance",kind:e})}function Bt(){return{type:"VoidTypeAnnotation"}}function Ft(e,t){return(0,i.default)({type:"EnumDeclaration",id:e,body:t})}function jt(e){return(0,i.default)({type:"EnumBooleanBody",members:e,explicitType:null,hasUnknownMembers:null})}function Ut(e){return(0,i.default)({type:"EnumNumberBody",members:e,explicitType:null,hasUnknownMembers:null})}function zt(e){return(0,i.default)({type:"EnumStringBody",members:e,explicitType:null,hasUnknownMembers:null})}function qt(e){return(0,i.default)({type:"EnumSymbolBody",members:e,hasUnknownMembers:null})}function Vt(e){return(0,i.default)({type:"EnumBooleanMember",id:e,init:null})}function Ht(e,t){return(0,i.default)({type:"EnumNumberMember",id:e,init:t})}function Gt(e,t){return(0,i.default)({type:"EnumStringMember",id:e,init:t})}function Wt(e){return(0,i.default)({type:"EnumDefaultedMember",id:e})}function $t(e,t){return(0,i.default)({type:"IndexedAccessType",objectType:e,indexType:t})}function Xt(e,t){return(0,i.default)({type:"OptionalIndexedAccessType",objectType:e,indexType:t,optional:null})}function Yt(e,t=null){return(0,i.default)({type:"JSXAttribute",name:e,value:t})}function Kt(e){return(0,i.default)({type:"JSXClosingElement",name:e})}function Qt(e,t=null,n,r=null){return(0,i.default)({type:"JSXElement",openingElement:e,closingElement:t,children:n,selfClosing:r})}function Jt(){return{type:"JSXEmptyExpression"}}function Zt(e){return(0,i.default)({type:"JSXExpressionContainer",expression:e})}function en(e){return(0,i.default)({type:"JSXSpreadChild",expression:e})}function tn(e){return(0,i.default)({type:"JSXIdentifier",name:e})}function nn(e,t){return(0,i.default)({type:"JSXMemberExpression",object:e,property:t})}function rn(e,t){return(0,i.default)({type:"JSXNamespacedName",namespace:e,name:t})}function on(e,t,n=!1){return(0,i.default)({type:"JSXOpeningElement",name:e,attributes:t,selfClosing:n})}function sn(e){return(0,i.default)({type:"JSXSpreadAttribute",argument:e})}function an(e){return(0,i.default)({type:"JSXText",value:e})}function ln(e,t,n){return(0,i.default)({type:"JSXFragment",openingFragment:e,closingFragment:t,children:n})}function cn(){return{type:"JSXOpeningFragment"}}function un(){return{type:"JSXClosingFragment"}}function hn(){return{type:"Noop"}}function dn(e,t){return(0,i.default)({type:"Placeholder",expectedNode:e,name:t})}function fn(e){return(0,i.default)({type:"V8IntrinsicIdentifier",name:e})}function pn(){return{type:"ArgumentPlaceholder"}}function mn(e,t){return(0,i.default)({type:"BindExpression",object:e,callee:t})}function gn(e,t){return(0,i.default)({type:"ImportAttribute",key:e,value:t})}function An(e){return(0,i.default)({type:"Decorator",expression:e})}function yn(e,t=!1){return(0,i.default)({type:"DoExpression",body:e,async:t})}function vn(e){return(0,i.default)({type:"ExportDefaultSpecifier",exported:e})}function bn(e){return(0,i.default)({type:"RecordExpression",properties:e})}function _n(e=[]){return(0,i.default)({type:"TupleExpression",elements:e})}function wn(e){return(0,i.default)({type:"DecimalLiteral",value:e})}function xn(e){return(0,i.default)({type:"ModuleExpression",body:e})}function Sn(){return{type:"TopicReference"}}function Tn(e){return(0,i.default)({type:"PipelineTopicExpression",expression:e})}function En(e){return(0,i.default)({type:"PipelineBareFunction",callee:e})}function Mn(){return{type:"PipelinePrimaryTopicReference"}}function Cn(e){return(0,i.default)({type:"TSParameterProperty",parameter:e})}function On(e=null,t=null,n,r=null){return(0,i.default)({type:"TSDeclareFunction",id:e,typeParameters:t,params:n,returnType:r})}function kn(e=null,t,n=null,r,o=null){return(0,i.default)({type:"TSDeclareMethod",decorators:e,key:t,typeParameters:n,params:r,returnType:o})}function Pn(e,t){return(0,i.default)({type:"TSQualifiedName",left:e,right:t})}function In(e=null,t,n=null){return(0,i.default)({type:"TSCallSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n})}function Rn(e=null,t,n=null){return(0,i.default)({type:"TSConstructSignatureDeclaration",typeParameters:e,parameters:t,typeAnnotation:n})}function Dn(e,t=null,n=null){return(0,i.default)({type:"TSPropertySignature",key:e,typeAnnotation:t,initializer:n,kind:null})}function Ln(e,t=null,n,r=null){return(0,i.default)({type:"TSMethodSignature",key:e,typeParameters:t,parameters:n,typeAnnotation:r,kind:null})}function Nn(e,t=null){return(0,i.default)({type:"TSIndexSignature",parameters:e,typeAnnotation:t})}function Bn(){return{type:"TSAnyKeyword"}}function Fn(){return{type:"TSBooleanKeyword"}}function jn(){return{type:"TSBigIntKeyword"}}function Un(){return{type:"TSIntrinsicKeyword"}}function zn(){return{type:"TSNeverKeyword"}}function qn(){return{type:"TSNullKeyword"}}function Vn(){return{type:"TSNumberKeyword"}}function Hn(){return{type:"TSObjectKeyword"}}function Gn(){return{type:"TSStringKeyword"}}function Wn(){return{type:"TSSymbolKeyword"}}function $n(){return{type:"TSUndefinedKeyword"}}function Xn(){return{type:"TSUnknownKeyword"}}function Yn(){return{type:"TSVoidKeyword"}}function Kn(){return{type:"TSThisType"}}function Qn(e=null,t,n=null){return(0,i.default)({type:"TSFunctionType",typeParameters:e,parameters:t,typeAnnotation:n})}function Jn(e=null,t,n=null){return(0,i.default)({type:"TSConstructorType",typeParameters:e,parameters:t,typeAnnotation:n})}function Zn(e,t=null){return(0,i.default)({type:"TSTypeReference",typeName:e,typeParameters:t})}function ei(e,t=null,n=null){return(0,i.default)({type:"TSTypePredicate",parameterName:e,typeAnnotation:t,asserts:n})}function ti(e,t=null){return(0,i.default)({type:"TSTypeQuery",exprName:e,typeParameters:t})}function ni(e){return(0,i.default)({type:"TSTypeLiteral",members:e})}function ii(e){return(0,i.default)({type:"TSArrayType",elementType:e})}function ri(e){return(0,i.default)({type:"TSTupleType",elementTypes:e})}function oi(e){return(0,i.default)({type:"TSOptionalType",typeAnnotation:e})}function si(e){return(0,i.default)({type:"TSRestType",typeAnnotation:e})}function ai(e,t,n=!1){return(0,i.default)({type:"TSNamedTupleMember",label:e,elementType:t,optional:n})}function li(e){return(0,i.default)({type:"TSUnionType",types:e})}function ci(e){return(0,i.default)({type:"TSIntersectionType",types:e})}function ui(e,t,n,r){return(0,i.default)({type:"TSConditionalType",checkType:e,extendsType:t,trueType:n,falseType:r})}function hi(e){return(0,i.default)({type:"TSInferType",typeParameter:e})}function di(e){return(0,i.default)({type:"TSParenthesizedType",typeAnnotation:e})}function fi(e){return(0,i.default)({type:"TSTypeOperator",typeAnnotation:e,operator:null})}function pi(e,t){return(0,i.default)({type:"TSIndexedAccessType",objectType:e,indexType:t})}function mi(e,t=null,n=null){return(0,i.default)({type:"TSMappedType",typeParameter:e,typeAnnotation:t,nameType:n})}function gi(e){return(0,i.default)({type:"TSLiteralType",literal:e})}function Ai(e,t=null){return(0,i.default)({type:"TSExpressionWithTypeArguments",expression:e,typeParameters:t})}function yi(e,t=null,n=null,r){return(0,i.default)({type:"TSInterfaceDeclaration",id:e,typeParameters:t,extends:n,body:r})}function vi(e){return(0,i.default)({type:"TSInterfaceBody",body:e})}function bi(e,t=null,n){return(0,i.default)({type:"TSTypeAliasDeclaration",id:e,typeParameters:t,typeAnnotation:n})}function _i(e,t=null){return(0,i.default)({type:"TSInstantiationExpression",expression:e,typeParameters:t})}function wi(e,t){return(0,i.default)({type:"TSAsExpression",expression:e,typeAnnotation:t})}function xi(e,t){return(0,i.default)({type:"TSSatisfiesExpression",expression:e,typeAnnotation:t})}function Si(e,t){return(0,i.default)({type:"TSTypeAssertion",typeAnnotation:e,expression:t})}function Ti(e,t){return(0,i.default)({type:"TSEnumDeclaration",id:e,members:t})}function Ei(e,t=null){return(0,i.default)({type:"TSEnumMember",id:e,initializer:t})}function Mi(e,t){return(0,i.default)({type:"TSModuleDeclaration",id:e,body:t})}function Ci(e){return(0,i.default)({type:"TSModuleBlock",body:e})}function Oi(e,t=null,n=null){return(0,i.default)({type:"TSImportType",argument:e,qualifier:t,typeParameters:n})}function ki(e,t){return(0,i.default)({type:"TSImportEqualsDeclaration",id:e,moduleReference:t,isExport:null})}function Pi(e){return(0,i.default)({type:"TSExternalModuleReference",expression:e})}function Ii(e){return(0,i.default)({type:"TSNonNullExpression",expression:e})}function Ri(e){return(0,i.default)({type:"TSExportAssignment",expression:e})}function Di(e){return(0,i.default)({type:"TSNamespaceExportDeclaration",id:e})}function Li(e){return(0,i.default)({type:"TSTypeAnnotation",typeAnnotation:e})}function Ni(e){return(0,i.default)({type:"TSTypeParameterInstantiation",params:e})}function Bi(e){return(0,i.default)({type:"TSTypeParameterDeclaration",params:e})}function Fi(e=null,t=null,n){return(0,i.default)({type:"TSTypeParameter",constraint:e,default:t,name:n})}function ji(e){return(0,r.default)("NumberLiteral","NumericLiteral","The node type "),k(e)}function Ui(e,t=""){return(0,r.default)("RegexLiteral","RegExpLiteral","The node type "),R(e,t)}function zi(e){return(0,r.default)("RestProperty","RestElement","The node type "),z(e)}function qi(e){return(0,r.default)("SpreadProperty","SpreadElement","The node type "),be(e)}},ebd5:function(e,t,n){(function(e,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,c=9007199254740991,u="[object Arguments]",h="[object Array]",d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",g="[object GeneratorFunction]",A="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",_="[object RegExp]",w="[object Set]",x="[object String]",S="[object Symbol]",T="[object WeakMap]",E="[object ArrayBuffer]",M="[object DataView]",C="[object Float32Array]",O="[object Float64Array]",k="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",R="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",N="[object Uint32Array]",B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,j=/^\./,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,q=/\\(\\)?/g,V=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,G={};G[C]=G[O]=G[k]=G[P]=G[I]=G[R]=G[D]=G[L]=G[N]=!0,G[u]=G[h]=G[E]=G[d]=G[M]=G[f]=G[p]=G[m]=G[A]=G[y]=G[v]=G[_]=G[w]=G[x]=G[T]=!1;var W="object"==typeof e&&e&&e.Object===Object&&e,$="object"==typeof self&&self&&self.Object===Object&&self,X=W||$||Function("return this")(),Y=t&&!t.nodeType&&t,K=Y&&"object"==typeof n&&n&&!n.nodeType&&n,Q=K&&K.exports===Y,J=Q&&W.process,Z=function(){try{return J&&J.binding("util")}catch(e){}}(),ee=Z&&Z.isTypedArray;function te(e,t){var n=-1,i=e?e.length:0;while(++n<i)if(t(e[n],n,e))return!0;return!1}function ne(e){return function(t){return null==t?void 0:t[e]}}function ie(e,t){var n=-1,i=Array(e);while(++n<e)i[n]=t(n);return i}function re(e){return function(t){return e(t)}}function oe(e,t){return null==e?void 0:e[t]}function se(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function ae(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function le(e,t){return function(n){return e(t(n))}}function ce(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ue=Array.prototype,he=Function.prototype,de=Object.prototype,fe=X["__core-js_shared__"],pe=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),me=he.toString,ge=de.hasOwnProperty,Ae=de.toString,ye=RegExp("^"+me.call(ge).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=X.Symbol,be=X.Uint8Array,_e=de.propertyIsEnumerable,we=ue.splice,xe=le(Object.keys,Object),Se=Nt(X,"DataView"),Te=Nt(X,"Map"),Ee=Nt(X,"Promise"),Me=Nt(X,"Set"),Ce=Nt(X,"WeakMap"),Oe=Nt(Object,"create"),ke=Xt(Se),Pe=Xt(Te),Ie=Xt(Ee),Re=Xt(Me),De=Xt(Ce),Le=ve?ve.prototype:void 0,Ne=Le?Le.valueOf:void 0,Be=Le?Le.toString:void 0;function Fe(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function je(){this.__data__=Oe?Oe(null):{}}function Ue(e){return this.has(e)&&delete this.__data__[e]}function ze(e){var t=this.__data__;if(Oe){var n=t[e];return n===o?void 0:n}return ge.call(t,e)?t[e]:void 0}function qe(e){var t=this.__data__;return Oe?void 0!==t[e]:ge.call(t,e)}function Ve(e,t){var n=this.__data__;return n[e]=Oe&&void 0===t?o:t,this}function He(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Ge(){this.__data__=[]}function We(e){var t=this.__data__,n=dt(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():we.call(t,n,1),!0}function $e(e){var t=this.__data__,n=dt(t,e);return n<0?void 0:t[n][1]}function Xe(e){return dt(this.__data__,e)>-1}function Ye(e,t){var n=this.__data__,i=dt(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function Ke(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}function Qe(){this.__data__={hash:new Fe,map:new(Te||He),string:new Fe}}function Je(e){return Dt(this,e)["delete"](e)}function Ze(e){return Dt(this,e).get(e)}function et(e){return Dt(this,e).has(e)}function tt(e,t){return Dt(this,e).set(e,t),this}function nt(e){var t=-1,n=e?e.length:0;this.__data__=new Ke;while(++t<n)this.add(e[t])}function it(e){return this.__data__.set(e,o),this}function rt(e){return this.__data__.has(e)}function ot(e){this.__data__=new He(e)}function st(){this.__data__=new He}function at(e){return this.__data__["delete"](e)}function lt(e){return this.__data__.get(e)}function ct(e){return this.__data__.has(e)}function ut(e,t){var n=this.__data__;if(n instanceof He){var r=n.__data__;if(!Te||r.length<i-1)return r.push([e,t]),this;n=this.__data__=new Ke(r)}return n.set(e,t),this}function ht(e,t){var n=Jt(e)||Qt(e)?ie(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!ge.call(e,o)||r&&("length"==o||jt(o,i))||n.push(o);return n}function dt(e,t){var n=e.length;while(n--)if(Kt(e[n][0],t))return n;return-1}Fe.prototype.clear=je,Fe.prototype["delete"]=Ue,Fe.prototype.get=ze,Fe.prototype.has=qe,Fe.prototype.set=Ve,He.prototype.clear=Ge,He.prototype["delete"]=We,He.prototype.get=$e,He.prototype.has=Xe,He.prototype.set=Ye,Ke.prototype.clear=Qe,Ke.prototype["delete"]=Je,Ke.prototype.get=Ze,Ke.prototype.has=et,Ke.prototype.set=tt,nt.prototype.add=nt.prototype.push=it,nt.prototype.has=rt,ot.prototype.clear=st,ot.prototype["delete"]=at,ot.prototype.get=lt,ot.prototype.has=ct,ot.prototype.set=ut;var ft=kt();function pt(e,t){return e&&ft(e,t,hn)}function mt(e,t){t=Ut(t,e)?[t]:Ot(t);var n=0,i=t.length;while(null!=e&&n<i)e=e[$t(t[n++])];return n&&n==i?e:void 0}function gt(e){return Ae.call(e)}function At(e,t){return null!=e&&t in Object(e)}function yt(e,t,n,i,r){return e===t||(null==e||null==t||!rn(e)&&!on(t)?e!==e&&t!==t:vt(e,t,yt,n,i,r))}function vt(e,t,n,i,r,o){var s=Jt(e),l=Jt(t),c=h,d=h;s||(c=Bt(e),c=c==u?v:c),l||(d=Bt(t),d=d==u?v:d);var f=c==v&&!se(e),p=d==v&&!se(t),m=c==d;if(m&&!f)return o||(o=new ot),s||an(e)?Pt(e,t,n,i,r,o):It(e,t,c,n,i,r,o);if(!(r&a)){var g=f&&ge.call(e,"__wrapped__"),A=p&&ge.call(t,"__wrapped__");if(g||A){var y=g?e.value():e,b=A?t.value():t;return o||(o=new ot),n(y,b,i,r,o)}}return!!m&&(o||(o=new ot),Rt(e,t,n,i,r,o))}function bt(e,t,n,i){var r=n.length,o=r,l=!i;if(null==e)return!o;e=Object(e);while(r--){var c=n[r];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}while(++r<o){c=n[r];var u=c[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var f=new ot;if(i)var p=i(h,d,u,e,t,f);if(!(void 0===p?yt(d,h,i,s|a,f):p))return!1}}return!0}function _t(e){if(!rn(e)||qt(e))return!1;var t=tn(e)||se(e)?ye:V;return t.test(Xt(e))}function wt(e){return on(e)&&nn(e.length)&&!!G[Ae.call(e)]}function xt(e){return"function"==typeof e?e:null==e?fn:"object"==typeof e?Jt(e)?Et(e[0],e[1]):Tt(e):pn(e)}function St(e){if(!Vt(e))return xe(e);var t=[];for(var n in Object(e))ge.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Tt(e){var t=Lt(e);return 1==t.length&&t[0][2]?Gt(t[0][0],t[0][1]):function(n){return n===e||bt(n,e,t)}}function Et(e,t){return Ut(e)&&Ht(t)?Gt($t(e),t):function(n){var i=cn(n,e);return void 0===i&&i===t?un(n,e):yt(t,i,void 0,s|a)}}function Mt(e){return function(t){return mt(t,e)}}function Ct(e){if("string"==typeof e)return e;if(sn(e))return Be?Be.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}function Ot(e){return Jt(e)?e:Wt(e)}function kt(e){return function(t,n,i){var r=-1,o=Object(t),s=i(t),a=s.length;while(a--){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}function Pt(e,t,n,i,r,o){var l=r&a,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=o.get(e);if(h&&o.get(t))return h==t;var d=-1,f=!0,p=r&s?new nt:void 0;o.set(e,t),o.set(t,e);while(++d<c){var m=e[d],g=t[d];if(i)var A=l?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(void 0!==A){if(A)continue;f=!1;break}if(p){if(!te(t,(function(e,t){if(!p.has(t)&&(m===e||n(m,e,i,r,o)))return p.add(t)}))){f=!1;break}}else if(m!==g&&!n(m,g,i,r,o)){f=!1;break}}return o["delete"](e),o["delete"](t),f}function It(e,t,n,i,r,o,l){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new be(e),new be(t)));case d:case f:case y:return Kt(+e,+t);case p:return e.name==t.name&&e.message==t.message;case _:case x:return e==t+"";case A:var c=ae;case w:var u=o&a;if(c||(c=ce),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;o|=s,l.set(e,t);var m=Pt(c(e),c(t),i,r,o,l);return l["delete"](e),m;case S:if(Ne)return Ne.call(e)==Ne.call(t)}return!1}function Rt(e,t,n,i,r,o){var s=r&a,l=hn(e),c=l.length,u=hn(t),h=u.length;if(c!=h&&!s)return!1;var d=c;while(d--){var f=l[d];if(!(s?f in t:ge.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var m=!0;o.set(e,t),o.set(t,e);var g=s;while(++d<c){f=l[d];var A=e[f],y=t[f];if(i)var v=s?i(y,A,f,t,e,o):i(A,y,f,e,t,o);if(!(void 0===v?A===y||n(A,y,i,r,o):v)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(m=!1)}return o["delete"](e),o["delete"](t),m}function Dt(e,t){var n=e.__data__;return zt(t)?n["string"==typeof t?"string":"hash"]:n.map}function Lt(e){var t=hn(e),n=t.length;while(n--){var i=t[n],r=e[i];t[n]=[i,r,Ht(r)]}return t}function Nt(e,t){var n=oe(e,t);return _t(n)?n:void 0}var Bt=gt;function Ft(e,t,n){t=Ut(t,e)?[t]:Ot(t);var i,r=-1,o=t.length;while(++r<o){var s=$t(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;o=e?e.length:0;return!!o&&nn(o)&&jt(s,o)&&(Jt(e)||Qt(e))}function jt(e,t){return t=null==t?c:t,!!t&&("number"==typeof e||H.test(e))&&e>-1&&e%1==0&&e<t}function Ut(e,t){if(Jt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!sn(e))||(F.test(e)||!B.test(e)||null!=t&&e in Object(t))}function zt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function qt(e){return!!pe&&pe in e}function Vt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||de;return e===n}function Ht(e){return e===e&&!rn(e)}function Gt(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(Se&&Bt(new Se(new ArrayBuffer(1)))!=M||Te&&Bt(new Te)!=A||Ee&&Bt(Ee.resolve())!=b||Me&&Bt(new Me)!=w||Ce&&Bt(new Ce)!=T)&&(Bt=function(e){var t=Ae.call(e),n=t==v?e.constructor:void 0,i=n?Xt(n):void 0;if(i)switch(i){case ke:return M;case Pe:return A;case Ie:return b;case Re:return w;case De:return T}return t});var Wt=Yt((function(e){e=ln(e);var t=[];return j.test(e)&&t.push(""),e.replace(U,(function(e,n,i,r){t.push(i?r.replace(q,"$1"):n||e)})),t}));function $t(e){if("string"==typeof e||sn(e))return e;var t=e+"";return"0"==t&&1/e==-l?"-0":t}function Xt(e){if(null!=e){try{return me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Yt(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(Yt.Cache||Ke),n}function Kt(e,t){return e===t||e!==e&&t!==t}function Qt(e){return en(e)&&ge.call(e,"callee")&&(!_e.call(e,"callee")||Ae.call(e)==u)}Yt.Cache=Ke;var Jt=Array.isArray;function Zt(e){return null!=e&&nn(e.length)&&!tn(e)}function en(e){return on(e)&&Zt(e)}function tn(e){var t=rn(e)?Ae.call(e):"";return t==m||t==g}function nn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function rn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function on(e){return!!e&&"object"==typeof e}function sn(e){return"symbol"==typeof e||on(e)&&Ae.call(e)==S}var an=ee?re(ee):wt;function ln(e){return null==e?"":Ct(e)}function cn(e,t,n){var i=null==e?void 0:mt(e,t);return void 0===i?n:i}function un(e,t){return null!=e&&Ft(e,t,At)}function hn(e){return Zt(e)?ht(e):St(e)}function dn(e,t){var n={};return t=xt(t,3),pt(e,(function(e,i,r){n[i]=t(e,i,r)})),n}function fn(e){return e}function pn(e){return Ut(e)?ne($t(e)):Mt(e)}n.exports=dn}).call(this,n("c8ba"),n("62e4")(e))},ed09:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pe}));var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o;function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var c=[],u=function(){function e(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return e.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}else 0},e.prototype.on=function(){this.active&&(c.push(this),o=this)},e.prototype.off=function(){this.active&&(c.pop(),o=c[c.length-1])},e.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach((function(e){return e.stop()})),this.cleanups.forEach((function(e){return e()})),this.active=!1)},e}();(function(e){function t(t){void 0===t&&(t=!1);var n=this,i=void 0;return S((function(){i=V(_())})),n=e.call(this,i)||this,t||h(n),n}r(t,e)})(u);function h(e,t){var n;if(t=t||o,t&&t.active)t.effects.push(e);else{var i=null===(n=E())||void 0===n?void 0:n.proxy;i&&i.$on("hook:destroyed",(function(){return e.stop()}))}}function d(e){if(!e.scope){var t=new u(e.proxy);e.scope=t,e.proxy.$on("hook:destroyed",(function(){return t.stop()}))}return e.scope}var f=void 0;try{var p=n("7a23");p&&v(p)?f=p:p&&"default"in p&&v(p.default)&&(f=p.default)}catch(Ie){}var m=null,g=null,A=!0,y="__composition_api_installed__";function v(e){return e&&z(e)&&"Vue"===e.name}function b(e){return m&&L(e,y)}function _(){return m}function w(){var e=m||f;return e}function x(e){m=e,Object.defineProperty(e,y,{configurable:!0,writable:!0,value:!0})}function S(e){var t=A;A=!1;try{e()}finally{A=t}}function T(e){if(A){var t=g;null===t||void 0===t||t.scope.off(),g=e,null===g||void 0===g||g.scope.on()}}function E(){return g}var M=new WeakMap;function C(e){if(M.has(e))return M.get(e);var t={proxy:e,update:e.$forceUpdate,type:e.$options,uid:e._uid,emit:e.$emit.bind(e),parent:null,root:null};d(t);var n=["data","props","attrs","refs","vnode","slots"];return n.forEach((function(n){R(t,n,{get:function(){return e["$".concat(n)]}})})),R(t,"isMounted",{get:function(){return e._isMounted}}),R(t,"isUnmounted",{get:function(){return e._isDestroyed}}),R(t,"isDeactivated",{get:function(){return e._inactive}}),R(t,"emitted",{get:function(){return e._events}}),M.set(e,t),e.$parent&&(t.parent=C(e.$parent)),e.$root&&(t.root=C(e.$root)),t}var O=function(e){return Object.prototype.toString.call(e)};function k(e){return"function"===typeof e&&/native code/.test(e.toString())}var P="undefined"!==typeof Symbol&&k(Symbol)&&"undefined"!==typeof Reflect&&k(Reflect.ownKeys),I=function(e){return e};function R(e,t,n){var i=n.get,r=n.set;Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:i||I,set:r||I})}function D(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function L(e,t){return Object.hasOwnProperty.call(e,t)}function N(e){return Array.isArray(e)}Object.prototype.toString;var B=4294967295;function F(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)&&t<=B}function j(e){return null!==e&&"object"===typeof e}function U(e){return"[object Object]"===O(e)}function z(e){return"function"===typeof e}function q(e,t){return t=t||E(),t}function V(e,t){void 0===t&&(t={});var n=e.config.silent;e.config.silent=!0;var i=new e(t);return e.config.silent=n,i}function H(e){var t=_();return t&&e instanceof t}function G(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e.$scopedSlots[t])return e.$scopedSlots[t].apply(e,n)}}function W(e,t){var n;if(e){if(e._normalized)return e._normalized;for(var i in n={},e)e[i]&&"$"!==i[0]&&(n[i]=!0)}else n={};for(var i in t)i in n||(n[i]=!0);return n}function $(e){return P?Symbol.for(e):e}$("composition-api.preFlushQueue"),$("composition-api.postFlushQueue");var X="composition-api.refKey",Y=new WeakMap,K=(new WeakMap,new WeakMap);function Q(e,t,n){var i=_(),r=i.util,o=(r.warn,r.defineReactive);var s=e.__ob__;function a(){s&&j(n)&&!L(n,"__ob__")&&ue(n)}if(N(e)){if(F(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),a(),n;if("length"===t&&n!==e.length)return e.length=n,null===s||void 0===s||s.dep.notify(),n}return t in e&&!(t in Object.prototype)?(e[t]=n,a(),n):e._isVue||s&&s.vmCount?n:s?(o(s.value,t,n),le(e,t,n),a(),s.dep.notify(),n):(e[t]=n,n)}var J=function(){function e(e){var t=e.get,n=e.set;R(this,"value",{get:t,set:n})}return e}();function Z(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new J(e);n&&(i.effect=!0);var r=Object.seal(i);return t&&K.set(r,!0),r}function ee(e){var t;if(te(e))return e;var n=fe((t={},t[X]=e,t));return Z({get:function(){return n[X]},set:function(e){return n[X]=e}})}function te(e){return e instanceof J}function ne(e){if(!U(e))return e;var t={};for(var n in e)t[n]=ie(e,n);return t}function ie(e,t){t in e||Q(e,t,void 0);var n=e[t];return te(n)?n:Z({get:function(){return e[t]},set:function(n){return e[t]=n}})}var re="__v_skip";function oe(e){var t;return Boolean(e&&L(e,"__ob__")&&"object"===typeof e.__ob__&&(null===(t=e.__ob__)||void 0===t?void 0:t[re]))}function se(e){var t;return Boolean(e&&L(e,"__ob__")&&"object"===typeof e.__ob__&&!(null===(t=e.__ob__)||void 0===t?void 0:t[re]))}function ae(e){if(!(!U(e)||oe(e)||N(e)||te(e)||H(e)||Y.has(e))){Y.set(e,!0);for(var t=Object.keys(e),n=0;n<t.length;n++)le(e,t[n])}}function le(e,t,n){if("__ob__"!==t&&!oe(e[t])){var i,r,o=Object.getOwnPropertyDescriptor(e,t);if(o){if(!1===o.configurable)return;i=o.get,r=o.set,i&&!r||2!==arguments.length||(n=e[t])}ae(n),R(e,t,{get:function(){var r=i?i.call(e):n;return t!==X&&te(r)?r.value:r},set:function(o){i&&!r||(t!==X&&te(n)&&!te(o)?n.value=o:r?(r.call(e,o),n=o):n=o,ae(o))}})}}function ce(e){var t,n=w();if(n.observable)t=n.observable(e);else{var i=V(n,{data:{$$state:e}});t=i._data.$$state}return L(t,"__ob__")||ue(t),t}function ue(e,t){var n,i;if(void 0===t&&(t=new Set),!t.has(e)&&!L(e,"__ob__")&&Object.isExtensible(e)){D(e,"__ob__",he(e)),t.add(e);try{for(var r=s(Object.keys(e)),o=r.next();!o.done;o=r.next()){var a=o.value,l=e[a];(U(l)||N(l))&&!oe(l)&&Object.isExtensible(l)&&ue(l,t)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}}function he(e){return void 0===e&&(e={}),{value:e,dep:{notify:I,depend:I,addSub:I,removeSub:I}}}function de(){return ce({}).__ob__}function fe(e){if(!j(e))return e;if(!U(e)&&!N(e)||oe(e)||!Object.isExtensible(e))return e;var t=ce(e);return ae(t),t}var pe=function(e){return"on".concat(e[0].toUpperCase()+e.slice(1))};function me(e){return function(t,n){var i=q(pe(e),n);return i&&ge(_(),i,e,t)}}function ge(e,t,n,i){var r=t.proxy.$options,o=e.config.optionMergeStrategies[n],s=Ae(t,i);return r[n]=o(r[n],s),s}function Ae(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=E();T(e);try{return t.apply(void 0,l([],a(n),!1))}finally{T(r)}}}me("beforeMount"),me("mounted"),me("beforeUpdate"),me("updated"),me("beforeDestroy"),me("destroyed"),me("errorCaptured"),me("activated"),me("deactivated"),me("serverPrefetch");function ye(e,t,n){var i=e.__composition_api_state__=e.__composition_api_state__||{};i[t]=n}function ve(e,t){return(e.__composition_api_state__||{})[t]}var be={set:ye,get:ve};function _e(e,t,n){var i=e.$options.props;t in e||i&&L(i,t)||(te(n)?R(e,t,{get:function(){return n.value},set:function(e){n.value=e}}):R(e,t,{get:function(){return se(n)&&n.__ob__.dep.depend(),n},set:function(e){n=e}}))}function we(e){var t=be.get(e,"rawBindings")||{};if(t&&Object.keys(t).length){for(var n=e.$refs,i=be.get(e,"refs")||[],r=0;r<i.length;r++){var o=i[r],s=t[o];!n[o]&&s&&te(s)&&(s.value=null)}var a=Object.keys(n),l=[];for(r=0;r<a.length;r++){o=a[r],s=t[o];n[o]&&s&&te(s)&&(s.value=n[o],l.push(o))}be.set(e,"refs",l)}}function xe(e){var t=[e._vnode];while(t.length){var n=t.pop();if(n&&(n.context&&we(n.context),n.children))for(var i=0;i<n.children.length;++i)t.push(n.children[i])}}function Se(e,t){var n,i;if(e){var r=be.get(e,"attrBindings");if(r||t){if(!r){var o=fe({});r={ctx:t,data:o},be.set(e,"attrBindings",r),R(t,"attrs",{get:function(){return null===r||void 0===r?void 0:r.data},set:function(){}})}var a=e.$attrs,l=function(t){L(r.data,t)||R(r.data,t,{get:function(){return e.$attrs[t]}})};try{for(var c=s(Object.keys(a)),u=c.next();!u.done;u=c.next()){var h=u.value;l(h)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}}function Te(e,t){var n=e.$options._parentVnode;if(n){for(var i=be.get(e,"slots")||[],r=W(n.data.scopedSlots,e.$slots),o=0;o<i.length;o++){var s=i[o];r[s]||delete t[s]}var a=Object.keys(r);for(o=0;o<a.length;o++){s=a[o];t[s]||(t[s]=G(e,s))}be.set(e,"slots",a)}}function Ee(e,t,n){var i=E();T(e);try{return t(e)}catch(r){if(!n)throw r;n(r)}finally{T(i)}}function Me(e){function t(){var e=this,t=e.$options,i=t.setup,r=t.render;if(r&&(t.render=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ee(C(e),(function(){return r.apply(t,n)}))}),i&&z(i)){var o=t.data;t.data=function(){return n(e,e.$props),z(o)?o.call(e,e):o||{}}}}function n(e,t){void 0===t&&(t={});var n,s=e.$options.setup,a=o(e),l=C(e);if(l.setupContext=a,D(t,"__ob__",de()),Te(e,a.slots),Ee(l,(function(){n=s(t,a)})),n)if(z(n)){var c=n;e.$options.render=function(){return Te(e,a.slots),Ee(l,(function(){return c()}))}}else if(j(n)){se(n)&&(n=ne(n)),be.set(e,"rawBindings",n);var u=n;Object.keys(u).forEach((function(t){var n=u[t];if(!te(n))if(se(n))N(n)&&(n=ee(n));else if(z(n)){var o=n;n=n.bind(e),Object.keys(o).forEach((function(e){n[e]=o[e]}))}else j(n)?r(n)&&i(n):n=ee(n);_e(e,t,n)}))}else 0}function i(e,t){if(void 0===t&&(t=new Set),!t.has(e)&&U(e)&&!te(e)&&!se(e)&&!oe(e)){var n=_(),r=n.util.defineReactive;Object.keys(e).forEach((function(n){var o=e[n];r(e,n,o),o&&(t.add(o),i(o,t))}))}}function r(e,t){return void 0===t&&(t=new Map),t.has(e)?t.get(e):(t.set(e,!1),N(e)&&se(e)?(t.set(e,!0),!0):!(!U(e)||oe(e)||te(e))&&Object.keys(e).some((function(n){return r(e[n],t)})))}function o(e){var t={slots:{}},n=["root","parent","refs","listeners","isServer","ssrContext"],i=["emit"];return n.forEach((function(n){var i="$".concat(n);R(t,n,{get:function(){return e[i]},set:function(){}})})),Se(e,t),i.forEach((function(n){var i="$".concat(n);R(t,n,{get:function(){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e[i];r.apply(e,t)}}})})),t}e.mixin({beforeCreate:t,mounted:function(){xe(this)},beforeUpdate:function(){Se(this)},updated:function(){xe(this)}})}function Ce(e,t){if(!e)return t;if(!t)return e;for(var n,i,r,o=P?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(i=t[n],r=e[n],L(t,n)?i!==r&&U(i)&&!te(i)&&U(r)&&!te(r)&&Ce(r,i):t[n]=r);return t}function Oe(e){b(e)||(e.config.optionMergeStrategies.setup=function(e,t){return function(n,i){return Ce(z(e)?e(n,i)||{}:void 0,z(t)?t(n,i)||{}:void 0)}},x(e),Me(e))}var ke={install:function(e){return Oe(e)}};function Pe(e){return e}"undefined"!==typeof window&&window.Vue&&window.Vue.use(ke)},ef5f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("bf78");function r(e){return(0,i.default)(e,!1,!0)}},f0bf:function(e,t,n){var i=n("4656"),r=n("07bd"),o=n("dc11"),s=n("d860"),a=n("8aca"),l=n("6799"),c=n("2a8b"),u=n("f630"),h=[{name:"bitcoin",symbol:"btc",addressTypes:{prod:["00","05"],testnet:["6f","c4"]},validator:o},{name:"bitcoincash",symbol:"bch",addressTypes:{prod:["00","05"],testnet:["6f","c4"]},validator:o},{name:"litecoin",symbol:"ltc",segwitHrp:"ltc",addressTypes:{prod:["30","05","32"],testnet:["6f","c4","3a"]},validator:o},{name:"peercoin",symbol:"ppc",addressTypes:{prod:["37","75"],testnet:["6f","c4"]},validator:o},{name:"dogecoin",symbol:"doge",addressTypes:{prod:["1e","16"],testnet:["71","c4"]},validator:o},{name:"beavercoin",symbol:"bvc",addressTypes:{prod:["19","05"],testnet:["6f","c4"]},validator:o},{name:"freicoin",symbol:"frc",addressTypes:{prod:["00","05"],testnet:["6f","c4"]},validator:o},{name:"protoshares",symbol:"pts",addressTypes:{prod:["38","05"],testnet:["6f","c4"]},validator:o},{name:"megacoin",symbol:"mec",addressTypes:{prod:["32","05"],testnet:["6f","c4"]},validator:o},{name:"primecoin",symbol:"xpm",addressTypes:{prod:["17","53"],testnet:["6f","c4"]},validator:o},{name:"auroracoin",symbol:"aur",addressTypes:{prod:["17","05"],testnet:["6f","c4"]},validator:o},{name:"namecoin",symbol:"nmc",addressTypes:{prod:["34"],testnet:[]},validator:o},{name:"biocoin",symbol:"bio",addressTypes:{prod:["19","14"],testnet:["6f","c4"]},validator:o},{name:"garlicoin",symbol:"grlc",addressTypes:{prod:["26","05"],testnet:["6f","c4"]},validator:o},{name:"vertcoin",symbol:"vtc",addressTypes:{prod:["0x","47"],testnet:["6f","c4"]},segwitHrp:"vtc",validator:o},{name:"bitcoingold",symbol:"btg",addressTypes:{prod:["26","17"],testnet:["6f","c4"]},validator:o},{name:"komodo",symbol:"kmd",addressTypes:{prod:["3c","55"],testnet:["0","5"]},validator:o},{name:"bitcoinz",symbol:"btcz",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:o},{name:"bitcoinprivate",symbol:"btcp",expectedLength:26,addressTypes:{prod:["1325","13af"],testnet:["1957","19e0"]},validator:o},{name:"hush",symbol:"hush",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:o},{name:"snowgem",symbol:"sng",expectedLength:26,addressTypes:{prod:["1c28","1c2d"],testnet:["1d25","1cba"]},validator:o},{name:"zcash",symbol:"zec",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:o},{name:"zclassic",symbol:"zcl",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:o},{name:"zencash",symbol:"zen",expectedLength:26,addressTypes:{prod:["2089","2096"],testnet:["2092","2098"]},validator:o},{name:"votecoin",symbol:"vot",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:o},{name:"decred",symbol:"dcr",addressTypes:{prod:["073f","071a"],testnet:["0f21","0efc"]},hashFunction:"blake256",expectedLength:26,validator:o},{name:"digibyte",symbol:"dgb",addressTypes:{prod:["1e"],testnet:[]},validator:o},{name:"ethereum",symbol:"eth",validator:r},{name:"etherzero",symbol:"etz",validator:r},{name:"ethereumclassic",symbol:"etc",validator:r},{name:"callisto",symbol:"clo",validator:r},{name:"ripple",symbol:"xrp",validator:i},{name:"dash",symbol:"dash",addressTypes:{prod:["4c","10"],testnet:["8c","13"]},validator:o},{name:"neo",symbol:"neo",addressTypes:{prod:["17"],testnet:[]},validator:o},{name:"neogas",symbol:"gas",addressTypes:{prod:["17"],testnet:[]},validator:o},{name:"qtum",symbol:"qtum",addressTypes:{prod:["3a","32"],testnet:["78","6e"]},validator:o},{name:"bankex",symbol:"bkx",validator:r},{name:"monero",symbol:"xmr",addressTypes:{prod:["18"],testnet:["53"]},iAddressTypes:{prod:["19"],testnet:["54"]},validator:s},{name:"nano",symbol:"nano",validator:a},{name:"raiblocks",symbol:"xrb",validator:a},{name:"stellar",symbol:"xlm",validator:l},{name:"cardano",symbol:"ada",validator:c},{name:"vechain",symbol:"vet",validator:r},{name:"tron",symbol:"trx",addressTypes:{prod:[65],testnet:[160]},validator:u}];e.exports={getByNameOrSymbol:function(e){for(var t=e.toLowerCase(),n=0;n<h.length;n++){var i=h[n];if(i.name===t||i.symbol===t)return i}return null}}},f28d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patternLikeCommon=t.functionTypeAnnotationCommon=t.functionDeclarationCommon=t.functionCommon=t.classMethodOrPropertyCommon=t.classMethodOrDeclareMethodCommon=void 0;var i=n("177b"),r=n("b9c3"),o=n("036e"),s=n("bda9"),a=n("9046"),l=n("57de");const c=(0,l.defineAliasedType)("Standardized");c("ArrayExpression",{fields:{elements:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeOrValueType)("null","Expression","SpreadElement"))),default:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?void 0:[]}},visitor:["elements"],aliases:["Expression"]}),c("AssignmentExpression",{fields:{operator:{validate:function(){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return(0,l.assertValueType)("string");const e=(0,l.assertOneOf)(...a.ASSIGNMENT_OPERATORS),t=(0,l.assertOneOf)("=");return function(n,r,o){const s=(0,i.default)("Pattern",n.left)?t:e;s(n,r,o)}}()},left:{validate:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?(0,l.assertNodeType)("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,l.assertNodeType)("LVal")},right:{validate:(0,l.assertNodeType)("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]}),c("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:(0,l.assertOneOf)(...a.BINARY_OPERATORS)},left:{validate:function(){const e=(0,l.assertNodeType)("Expression"),t=(0,l.assertNodeType)("Expression","PrivateName"),n=Object.assign((function(n,i,r){const o="in"===n.operator?t:e;o(n,i,r)}),{oneOfNodeTypes:["Expression","PrivateName"]});return n}()},right:{validate:(0,l.assertNodeType)("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]}),c("InterpreterDirective",{builder:["value"],fields:{value:{validate:(0,l.assertValueType)("string")}}}),c("Directive",{visitor:["value"],fields:{value:{validate:(0,l.assertNodeType)("DirectiveLiteral")}}}),c("DirectiveLiteral",{builder:["value"],fields:{value:{validate:(0,l.assertValueType)("string")}}}),c("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Directive"))),default:[]},body:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","Block","Statement"]}),c("BreakStatement",{visitor:["label"],fields:{label:{validate:(0,l.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),c("CallExpression",{visitor:["callee","arguments","typeParameters","typeArguments"],builder:["callee","arguments"],aliases:["Expression"],fields:Object.assign({callee:{validate:(0,l.assertNodeType)("Expression","Super","V8IntrinsicIdentifier")},arguments:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Expression","SpreadElement","JSXNamespacedName","ArgumentPlaceholder")))}},Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,l.assertOneOf)(!0,!1),optional:!0}},{typeArguments:{validate:(0,l.assertNodeType)("TypeParameterInstantiation"),optional:!0},typeParameters:{validate:(0,l.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}})}),c("CatchClause",{visitor:["param","body"],fields:{param:{validate:(0,l.assertNodeType)("Identifier","ArrayPattern","ObjectPattern"),optional:!0},body:{validate:(0,l.assertNodeType)("BlockStatement")}},aliases:["Scopable","BlockParent"]}),c("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:(0,l.assertNodeType)("Expression")},consequent:{validate:(0,l.assertNodeType)("Expression")},alternate:{validate:(0,l.assertNodeType)("Expression")}},aliases:["Expression","Conditional"]}),c("ContinueStatement",{visitor:["label"],fields:{label:{validate:(0,l.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),c("DebuggerStatement",{aliases:["Statement"]}),c("DoWhileStatement",{visitor:["test","body"],fields:{test:{validate:(0,l.assertNodeType)("Expression")},body:{validate:(0,l.assertNodeType)("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]}),c("EmptyStatement",{aliases:["Statement"]}),c("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:(0,l.assertNodeType)("Expression")}},aliases:["Statement","ExpressionWrapper"]}),c("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:(0,l.assertNodeType)("Program")},comments:{validate:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?(0,l.assertEach)((0,l.assertNodeType)("CommentBlock","CommentLine")):Object.assign(()=>{},{each:{oneOfNodeTypes:["CommentBlock","CommentLine"]}}),optional:!0},tokens:{validate:(0,l.assertEach)(Object.assign(()=>{},{type:"any"})),optional:!0}}}),c("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?(0,l.assertNodeType)("VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,l.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,l.assertNodeType)("Expression")},body:{validate:(0,l.assertNodeType)("Statement")}}}),c("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:(0,l.assertNodeType)("VariableDeclaration","Expression"),optional:!0},test:{validate:(0,l.assertNodeType)("Expression"),optional:!0},update:{validate:(0,l.assertNodeType)("Expression"),optional:!0},body:{validate:(0,l.assertNodeType)("Statement")}}});const u=()=>({params:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Identifier","Pattern","RestElement")))},generator:{default:!1},async:{default:!1}});t.functionCommon=u;const h=()=>({returnType:{validate:(0,l.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:(0,l.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0}});t.functionTypeAnnotationCommon=h;const d=()=>Object.assign({},u(),{declare:{validate:(0,l.assertValueType)("boolean"),optional:!0},id:{validate:(0,l.assertNodeType)("Identifier"),optional:!0}});t.functionDeclarationCommon=d,c("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","params","body","returnType","typeParameters"],fields:Object.assign({},d(),h(),{body:{validate:(0,l.assertNodeType)("BlockStatement")},predicate:{validate:(0,l.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}}),aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"],validate:function(){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return()=>{};const e=(0,l.assertNodeType)("Identifier");return function(t,n,r){(0,i.default)("ExportDefaultDeclaration",t)||e(r,"id",r.id)}}()}),c("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},u(),h(),{id:{validate:(0,l.assertNodeType)("Identifier"),optional:!0},body:{validate:(0,l.assertNodeType)("BlockStatement")},predicate:{validate:(0,l.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})});const f=()=>({typeAnnotation:{validate:(0,l.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},optional:{validate:(0,l.assertValueType)("boolean"),optional:!0},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0}});t.patternLikeCommon=f,c("Identifier",{builder:["name"],visitor:["typeAnnotation","decorators"],aliases:["Expression","PatternLike","LVal","TSEntityName"],fields:Object.assign({},f(),{name:{validate:(0,l.chain)((0,l.assertValueType)("string"),Object.assign((function(e,t,n){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&!(0,r.default)(n,!1))throw new TypeError(`"${n}" is not a valid identifier name`)}),{type:"string"}))}}),validate(e,t,n){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return;const r=/\.(\w+)$/.exec(t);if(!r)return;const[,s]=r,a={computed:!1};if("property"===s){if((0,i.default)("MemberExpression",e,a))return;if((0,i.default)("OptionalMemberExpression",e,a))return}else if("key"===s){if((0,i.default)("Property",e,a))return;if((0,i.default)("Method",e,a))return}else if("exported"===s){if((0,i.default)("ExportSpecifier",e))return}else if("imported"===s){if((0,i.default)("ImportSpecifier",e,{imported:n}))return}else if("meta"===s&&(0,i.default)("MetaProperty",e,{meta:n}))return;if(((0,o.isKeyword)(n.name)||(0,o.isReservedWord)(n.name,!1))&&"this"!==n.name)throw new TypeError(`"${n.name}" is not a valid identifier`)}}),c("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:(0,l.assertNodeType)("Expression")},consequent:{validate:(0,l.assertNodeType)("Statement")},alternate:{optional:!0,validate:(0,l.assertNodeType)("Statement")}}}),c("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:(0,l.assertNodeType)("Identifier")},body:{validate:(0,l.assertNodeType)("Statement")}}}),c("StringLiteral",{builder:["value"],fields:{value:{validate:(0,l.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:(0,l.assertValueType)("number")}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]}),c("BooleanLiteral",{builder:["value"],fields:{value:{validate:(0,l.assertValueType)("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Pureish","Literal"],fields:{pattern:{validate:(0,l.assertValueType)("string")},flags:{validate:(0,l.chain)((0,l.assertValueType)("string"),Object.assign((function(e,t,n){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return;const i=/[^gimsuy]/.exec(n);if(i)throw new TypeError(`"${i[0]}" is not a valid RegExp flag`)}),{type:"string"})),default:""}}}),c("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:(0,l.assertOneOf)(...a.LOGICAL_OPERATORS)},left:{validate:(0,l.assertNodeType)("Expression")},right:{validate:(0,l.assertNodeType)("Expression")}}}),c("MemberExpression",{builder:["object","property","computed",...Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?[]:["optional"]],visitor:["object","property"],aliases:["Expression","LVal"],fields:Object.assign({object:{validate:(0,l.assertNodeType)("Expression","Super")},property:{validate:function(){const e=(0,l.assertNodeType)("Identifier","PrivateName"),t=(0,l.assertNodeType)("Expression"),n=function(n,i,r){const o=n.computed?t:e;o(n,i,r)};return n.oneOfNodeTypes=["Expression","Identifier","PrivateName"],n}()},computed:{default:!1}},Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?{}:{optional:{validate:(0,l.assertOneOf)(!0,!1),optional:!0}})}),c("NewExpression",{inherits:"CallExpression"}),c("Program",{visitor:["directives","body"],builder:["body","directives","sourceType","interpreter"],fields:{sourceFile:{validate:(0,l.assertValueType)("string")},sourceType:{validate:(0,l.assertOneOf)("script","module"),default:"script"},interpreter:{validate:(0,l.assertNodeType)("InterpreterDirective"),default:null,optional:!0},directives:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Directive"))),default:[]},body:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","Block"]}),c("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("ObjectMethod","ObjectProperty","SpreadElement")))}}}),c("ObjectMethod",{builder:["kind","key","params","body","computed","generator","async"],fields:Object.assign({},u(),h(),{kind:Object.assign({validate:(0,l.assertOneOf)("method","get","set")},Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?{}:{default:"method"}),computed:{default:!1},key:{validate:function(){const e=(0,l.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),t=(0,l.assertNodeType)("Expression"),n=function(n,i,r){const o=n.computed?t:e;o(n,i,r)};return n.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral"],n}()},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0},body:{validate:(0,l.assertNodeType)("BlockStatement")}}),visitor:["key","params","body","decorators","returnType","typeParameters"],aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]}),c("ObjectProperty",{builder:["key","value","computed","shorthand",...Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?[]:["decorators"]],fields:{computed:{default:!1},key:{validate:function(){const e=(0,l.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"),t=(0,l.assertNodeType)("Expression"),n=Object.assign((function(n,i,r){const o=n.computed?t:e;o(n,i,r)}),{oneOfNodeTypes:["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"]});return n}()},value:{validate:(0,l.assertNodeType)("Expression","PatternLike")},shorthand:{validate:(0,l.chain)((0,l.assertValueType)("boolean"),Object.assign((function(e,t,n){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&n&&e.computed)throw new TypeError("Property shorthand of ObjectProperty cannot be true if computed is true")}),{type:"boolean"}),(function(e,t,n){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&n&&!(0,i.default)("Identifier",e.key))throw new TypeError("Property shorthand of ObjectProperty cannot be true if key is not an Identifier")})),default:!1},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0}},visitor:["key","value","decorators"],aliases:["UserWhitespacable","Property","ObjectMember"],validate:function(){const e=(0,l.assertNodeType)("Identifier","Pattern","TSAsExpression","TSSatisfiesExpression","TSNonNullExpression","TSTypeAssertion"),t=(0,l.assertNodeType)("Expression");return function(n,r,o){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return;const s=(0,i.default)("ObjectPattern",n)?e:t;s(o,"value",o.value)}}()}),c("RestElement",{visitor:["argument","typeAnnotation"],builder:["argument"],aliases:["LVal","PatternLike"],deprecatedAlias:"RestProperty",fields:Object.assign({},f(),{argument:{validate:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?(0,l.assertNodeType)("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"):(0,l.assertNodeType)("LVal")}}),validate(e,t){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return;const n=/(\w+)\[(\d+)\]/.exec(t);if(!n)throw new Error("Internal Babel error: malformed key.");const[,i,r]=n;if(e[i].length>+r+1)throw new TypeError("RestElement must be last element of "+i)}}),c("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,l.assertNodeType)("Expression"),optional:!0}}}),c("SequenceExpression",{visitor:["expressions"],fields:{expressions:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Expression")))}},aliases:["Expression"]}),c("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:(0,l.assertNodeType)("Expression")}}}),c("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:(0,l.assertNodeType)("Expression"),optional:!0},consequent:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Statement")))}}}),c("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:(0,l.assertNodeType)("Expression")},cases:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("SwitchCase")))}}}),c("ThisExpression",{aliases:["Expression"]}),c("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,l.assertNodeType)("Expression")}}}),c("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{block:{validate:(0,l.chain)((0,l.assertNodeType)("BlockStatement"),Object.assign((function(e){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&!e.handler&&!e.finalizer)throw new TypeError("TryStatement expects either a handler or finalizer, or both")}),{oneOfNodeTypes:["BlockStatement"]}))},handler:{optional:!0,validate:(0,l.assertNodeType)("CatchClause")},finalizer:{optional:!0,validate:(0,l.assertNodeType)("BlockStatement")}}}),c("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:(0,l.assertNodeType)("Expression")},operator:{validate:(0,l.assertOneOf)(...a.UNARY_OPERATORS)}},visitor:["argument"],aliases:["UnaryLike","Expression"]}),c("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?(0,l.assertNodeType)("Identifier","MemberExpression"):(0,l.assertNodeType)("Expression")},operator:{validate:(0,l.assertOneOf)(...a.UPDATE_OPERATORS)}},visitor:["argument"],aliases:["Expression"]}),c("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{declare:{validate:(0,l.assertValueType)("boolean"),optional:!0},kind:{validate:(0,l.assertOneOf)("var","let","const","using")},declarations:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("VariableDeclarator")))}},validate(e,t,n){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&(0,i.default)("ForXStatement",e,{left:n})&&1!==n.declarations.length)throw new TypeError("Exactly one VariableDeclarator is required in the VariableDeclaration of a "+e.type)}}),c("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:function(){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return(0,l.assertNodeType)("LVal");const e=(0,l.assertNodeType)("Identifier","ArrayPattern","ObjectPattern"),t=(0,l.assertNodeType)("Identifier");return function(n,i,r){const o=n.init?e:t;o(n,i,r)}}()},definite:{optional:!0,validate:(0,l.assertValueType)("boolean")},init:{optional:!0,validate:(0,l.assertNodeType)("Expression")}}}),c("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:(0,l.assertNodeType)("Expression")},body:{validate:(0,l.assertNodeType)("Statement")}}}),c("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{validate:(0,l.assertNodeType)("Expression")},body:{validate:(0,l.assertNodeType)("Statement")}}}),c("AssignmentPattern",{visitor:["left","right","decorators"],builder:["left","right"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{left:{validate:(0,l.assertNodeType)("Identifier","ObjectPattern","ArrayPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:(0,l.assertNodeType)("Expression")},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0}})}),c("ArrayPattern",{visitor:["elements","typeAnnotation"],builder:["elements"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{elements:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeOrValueType)("null","PatternLike","LVal")))}})}),c("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["params","body","returnType","typeParameters"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},u(),h(),{expression:{validate:(0,l.assertValueType)("boolean")},body:{validate:(0,l.assertNodeType)("BlockStatement","Expression")},predicate:{validate:(0,l.assertNodeType)("DeclaredPredicate","InferredPredicate"),optional:!0}})}),c("ClassBody",{visitor:["body"],fields:{body:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("ClassMethod","ClassPrivateMethod","ClassProperty","ClassPrivateProperty","ClassAccessorProperty","TSDeclareMethod","TSIndexSignature","StaticBlock")))}}}),c("ClassExpression",{builder:["id","superClass","body","decorators"],visitor:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],aliases:["Scopable","Class","Expression"],fields:{id:{validate:(0,l.assertNodeType)("Identifier"),optional:!0},typeParameters:{validate:(0,l.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,l.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,l.assertNodeType)("Expression")},superTypeParameters:{validate:(0,l.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("TSExpressionWithTypeArguments","ClassImplements"))),optional:!0},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0},mixins:{validate:(0,l.assertNodeType)("InterfaceExtends"),optional:!0}}}),c("ClassDeclaration",{inherits:"ClassExpression",aliases:["Scopable","Class","Statement","Declaration"],fields:{id:{validate:(0,l.assertNodeType)("Identifier")},typeParameters:{validate:(0,l.assertNodeType)("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:(0,l.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,l.assertNodeType)("Expression")},superTypeParameters:{validate:(0,l.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("TSExpressionWithTypeArguments","ClassImplements"))),optional:!0},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0},mixins:{validate:(0,l.assertNodeType)("InterfaceExtends"),optional:!0},declare:{validate:(0,l.assertValueType)("boolean"),optional:!0},abstract:{validate:(0,l.assertValueType)("boolean"),optional:!0}},validate:function(){const e=(0,l.assertNodeType)("Identifier");return function(t,n,r){Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&((0,i.default)("ExportDefaultDeclaration",t)||e(r,"id",r.id))}}()}),c("ExportAllDeclaration",{visitor:["source"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{source:{validate:(0,l.assertNodeType)("StringLiteral")},exportKind:(0,l.validateOptional)((0,l.assertOneOf)("type","value")),assertions:{optional:!0,validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("ImportAttribute")))}}}),c("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:{validate:(0,l.assertNodeType)("TSDeclareFunction","FunctionDeclaration","ClassDeclaration","Expression")},exportKind:(0,l.validateOptional)((0,l.assertOneOf)("value"))}}),c("ExportNamedDeclaration",{visitor:["declaration","specifiers","source"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:{optional:!0,validate:(0,l.chain)((0,l.assertNodeType)("Declaration"),Object.assign((function(e,t,n){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&n&&e.specifiers.length)throw new TypeError("Only declaration or specifiers is allowed on ExportNamedDeclaration")}),{oneOfNodeTypes:["Declaration"]}),(function(e,t,n){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&n&&e.source)throw new TypeError("Cannot export a declaration from a source")}))},assertions:{optional:!0,validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("ImportAttribute")))},specifiers:{default:[],validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)(function(){const e=(0,l.assertNodeType)("ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"),t=(0,l.assertNodeType)("ExportSpecifier");return Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?function(n,i,r){const o=n.source?e:t;o(n,i,r)}:e}()))},source:{validate:(0,l.assertNodeType)("StringLiteral"),optional:!0},exportKind:(0,l.validateOptional)((0,l.assertOneOf)("type","value"))}}),c("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,l.assertNodeType)("Identifier")},exported:{validate:(0,l.assertNodeType)("Identifier","StringLiteral")},exportKind:{validate:(0,l.assertOneOf)("type","value"),optional:!0}}}),c("ForOfStatement",{visitor:["left","right","body"],builder:["left","right","body","await"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:function(){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return(0,l.assertNodeType)("VariableDeclaration","LVal");const e=(0,l.assertNodeType)("VariableDeclaration"),t=(0,l.assertNodeType)("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression");return function(n,r,o){(0,i.default)("VariableDeclaration",o)?e(n,r,o):t(n,r,o)}}()},right:{validate:(0,l.assertNodeType)("Expression")},body:{validate:(0,l.assertNodeType)("Statement")},await:{default:!1}}}),c("ImportDeclaration",{visitor:["specifiers","source"],aliases:["Statement","Declaration","ImportOrExportDeclaration"],fields:{assertions:{optional:!0,validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("ImportAttribute")))},module:{optional:!0,validate:(0,l.assertValueType)("boolean")},specifiers:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier")))},source:{validate:(0,l.assertNodeType)("StringLiteral")},importKind:{validate:(0,l.assertOneOf)("type","typeof","value"),optional:!0}}}),c("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,l.assertNodeType)("Identifier")}}}),c("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,l.assertNodeType)("Identifier")}}}),c("ImportSpecifier",{visitor:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,l.assertNodeType)("Identifier")},imported:{validate:(0,l.assertNodeType)("Identifier","StringLiteral")},importKind:{validate:(0,l.assertOneOf)("type","typeof","value"),optional:!0}}}),c("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:(0,l.chain)((0,l.assertNodeType)("Identifier"),Object.assign((function(e,t,n){if(!Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING)return;let r;switch(n.name){case"function":r="sent";break;case"new":r="target";break;case"import":r="meta";break}if(!(0,i.default)("Identifier",e.property,{name:r}))throw new TypeError("Unrecognised MetaProperty")}),{oneOfNodeTypes:["Identifier"]}))},property:{validate:(0,l.assertNodeType)("Identifier")}}});const p=()=>({abstract:{validate:(0,l.assertValueType)("boolean"),optional:!0},accessibility:{validate:(0,l.assertOneOf)("public","private","protected"),optional:!0},static:{default:!1},override:{default:!1},computed:{default:!1},optional:{validate:(0,l.assertValueType)("boolean"),optional:!0},key:{validate:(0,l.chain)(function(){const e=(0,l.assertNodeType)("Identifier","StringLiteral","NumericLiteral"),t=(0,l.assertNodeType)("Expression");return function(n,i,r){const o=n.computed?t:e;o(n,i,r)}}(),(0,l.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression"))}});t.classMethodOrPropertyCommon=p;const m=()=>Object.assign({},u(),p(),{params:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Identifier","Pattern","RestElement","TSParameterProperty")))},kind:{validate:(0,l.assertOneOf)("get","set","method","constructor"),default:"method"},access:{validate:(0,l.chain)((0,l.assertValueType)("string"),(0,l.assertOneOf)("public","private","protected")),optional:!0},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0}});t.classMethodOrDeclareMethodCommon=m,c("ClassMethod",{aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static","generator","async"],visitor:["key","params","body","decorators","returnType","typeParameters"],fields:Object.assign({},m(),h(),{body:{validate:(0,l.assertNodeType)("BlockStatement")}})}),c("ObjectPattern",{visitor:["properties","typeAnnotation","decorators"],builder:["properties"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},f(),{properties:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("RestElement","ObjectProperty")))}})}),c("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],deprecatedAlias:"SpreadProperty",fields:{argument:{validate:(0,l.assertNodeType)("Expression")}}}),c("Super",{aliases:["Expression"]}),c("TaggedTemplateExpression",{visitor:["tag","quasi","typeParameters"],builder:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:(0,l.assertNodeType)("Expression")},quasi:{validate:(0,l.assertNodeType)("TemplateLiteral")},typeParameters:{validate:(0,l.assertNodeType)("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),c("TemplateElement",{builder:["value","tail"],fields:{value:{validate:(0,l.chain)((0,l.assertShape)({raw:{validate:(0,l.assertValueType)("string")},cooked:{validate:(0,l.assertValueType)("string"),optional:!0}}),(function(e){const t=e.value.raw;let n=!1;const i=()=>{throw new Error("Internal @babel/types error.")},{str:r,firstInvalidLoc:o}=(0,s.readStringContents)("template",t,0,0,0,{unterminated(){n=!0},strictNumericEscape:i,invalidEscapeSequence:i,numericSeparatorInEscapeSequence:i,unexpectedNumericSeparator:i,invalidDigit:i,invalidCodePoint:i});if(!n)throw new Error("Invalid raw");e.value.cooked=o?null:r}))},tail:{default:!1}}}),c("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("TemplateElement")))},expressions:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Expression","TSType")),(function(e,t,n){if(e.quasis.length!==n.length+1)throw new TypeError(`Number of ${e.type} quasis should be exactly one more than the number of expressions.\nExpected ${n.length+1} quasis but got ${e.quasis.length}`)}))}}}),c("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:(0,l.chain)((0,l.assertValueType)("boolean"),Object.assign((function(e,t,n){if(Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING&&n&&!e.argument)throw new TypeError("Property delegate of YieldExpression cannot be true if there is no argument")}),{type:"boolean"})),default:!1},argument:{optional:!0,validate:(0,l.assertNodeType)("Expression")}}}),c("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:(0,l.assertNodeType)("Expression")}}}),c("Import",{aliases:["Expression"]}),c("BigIntLiteral",{builder:["value"],fields:{value:{validate:(0,l.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),c("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,l.assertNodeType)("Identifier")}}}),c("OptionalMemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression"],fields:{object:{validate:(0,l.assertNodeType)("Expression")},property:{validate:function(){const e=(0,l.assertNodeType)("Identifier"),t=(0,l.assertNodeType)("Expression"),n=Object.assign((function(n,i,r){const o=n.computed?t:e;o(n,i,r)}),{oneOfNodeTypes:["Expression","Identifier"]});return n}()},computed:{default:!1},optional:{validate:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?(0,l.chain)((0,l.assertValueType)("boolean"),(0,l.assertOptionalChainStart)()):(0,l.assertValueType)("boolean")}}}),c("OptionalCallExpression",{visitor:["callee","arguments","typeParameters","typeArguments"],builder:["callee","arguments","optional"],aliases:["Expression"],fields:{callee:{validate:(0,l.assertNodeType)("Expression")},arguments:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Expression","SpreadElement","JSXNamespacedName","ArgumentPlaceholder")))},optional:{validate:Object({NODE_ENV:"production",BASE_URL:"https://cwcto.github.io/"}).BABEL_TYPES_8_BREAKING?(0,l.chain)((0,l.assertValueType)("boolean"),(0,l.assertOptionalChainStart)()):(0,l.assertValueType)("boolean")},typeArguments:{validate:(0,l.assertNodeType)("TypeParameterInstantiation"),optional:!0},typeParameters:{validate:(0,l.assertNodeType)("TSTypeParameterInstantiation"),optional:!0}}}),c("ClassProperty",{visitor:["key","value","typeAnnotation","decorators"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property"],fields:Object.assign({},p(),{value:{validate:(0,l.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,l.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,l.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0},readonly:{validate:(0,l.assertValueType)("boolean"),optional:!0},declare:{validate:(0,l.assertValueType)("boolean"),optional:!0},variance:{validate:(0,l.assertNodeType)("Variance"),optional:!0}})}),c("ClassAccessorProperty",{visitor:["key","value","typeAnnotation","decorators"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property","Accessor"],fields:Object.assign({},p(),{key:{validate:(0,l.chain)(function(){const e=(0,l.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"),t=(0,l.assertNodeType)("Expression");return function(n,i,r){const o=n.computed?t:e;o(n,i,r)}}(),(0,l.assertNodeType)("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression","PrivateName"))},value:{validate:(0,l.assertNodeType)("Expression"),optional:!0},definite:{validate:(0,l.assertValueType)("boolean"),optional:!0},typeAnnotation:{validate:(0,l.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0},readonly:{validate:(0,l.assertValueType)("boolean"),optional:!0},declare:{validate:(0,l.assertValueType)("boolean"),optional:!0},variance:{validate:(0,l.assertNodeType)("Variance"),optional:!0}})}),c("ClassPrivateProperty",{visitor:["key","value","decorators","typeAnnotation"],builder:["key","value","decorators","static"],aliases:["Property","Private"],fields:{key:{validate:(0,l.assertNodeType)("PrivateName")},value:{validate:(0,l.assertNodeType)("Expression"),optional:!0},typeAnnotation:{validate:(0,l.assertNodeType)("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Decorator"))),optional:!0},static:{validate:(0,l.assertValueType)("boolean"),default:!1},readonly:{validate:(0,l.assertValueType)("boolean"),optional:!0},definite:{validate:(0,l.assertValueType)("boolean"),optional:!0},variance:{validate:(0,l.assertNodeType)("Variance"),optional:!0}}}),c("ClassPrivateMethod",{builder:["kind","key","params","body","static"],visitor:["key","params","body","decorators","returnType","typeParameters"],aliases:["Function","Scopable","BlockParent","FunctionParent","Method","Private"],fields:Object.assign({},m(),h(),{kind:{validate:(0,l.assertOneOf)("get","set","method"),default:"method"},key:{validate:(0,l.assertNodeType)("PrivateName")},body:{validate:(0,l.assertNodeType)("BlockStatement")}})}),c("PrivateName",{visitor:["id"],aliases:["Private"],fields:{id:{validate:(0,l.assertNodeType)("Identifier")}}}),c("StaticBlock",{visitor:["body"],fields:{body:{validate:(0,l.chain)((0,l.assertValueType)("array"),(0,l.assertEach)((0,l.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","FunctionParent"]})},f5df:function(e,t,n){var i=n("00ee"),r=n("1626"),o=n("c6b6"),s=n("b622"),a=s("toStringTag"),l=Object,c="Arguments"==o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),a))?n:c?o(t):"Object"==(i=o(t))&&r(t.callee)?"Arguments":i}},f630:function(e,t,n){var i=n("48c4");function r(e){if("string"!==typeof e)return!1;if(e.length<=4)return!1;try{var t=i.base58(e)}catch(c){return!1}if(e.length<=4)return!1;var n=t.length,r=n-4,o=t.slice(r);t=t.slice(0,r);var s=i.sha256(i.byteArray2hexStr(t)),a=i.hexStr2byteArray(i.sha256(s)),l=a.slice(0,4);return o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]&&o[3]===l[3]&&t}function o(e,t){var n=t||"prod";return"prod"!==n&&"testnet"!==n&&(n="prod"),e.addressTypes[n][0]}e.exports={isValidAddress:function(e,t,n){if(e&&void 0!==e.byteLength)return 21===e.length&&o(t,n)===e[0];if("string"===typeof e&&42===e.length&&e.startsWith("41"))return!0;var i=r(e);return!!i&&(21===i.length&&o(t,n)===i[0])}}},f6b4:function(e,t,n){"use strict";var i=n("c532");function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},f772:function(e,t,n){var i=n("5692"),r=n("90e3"),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},f8c9:function(e,t,n){var i=n("23e7"),r=n("da84"),o=n("d44e");i({global:!0},{Reflect:{}}),o(r.Reflect,"Reflect",!0)},fa5d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("1315");function r(e,t){(0,i.default)("leadingComments",e,t)}},fafd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("b978");function r(e,t,n){if(!e)return;const o=i.VISITOR_KEYS[e.type];if(o){n=n||{},t(e,n);for(const i of o){const o=e[i];if(Array.isArray(o))for(const e of o)r(e,t,n);else r(o,t,n)}}}},fb61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4703");function r(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=i.getCoord(e),a=i.getGeom(t),l=a.type,c=t.bbox,u=a.coordinates;if(c&&!1===s(r,c))return!1;"Polygon"===l&&(u=[u]);for(var h=!1,d=0;d<u.length&&!h;d++)if(o(r,u[d][0],n.ignoreBoundary)){var f=!1,p=1;while(p<u[d].length&&!f)o(r,u[d][p],!n.ignoreBoundary)&&(f=!0),p++;f||(h=!0)}return h}function o(e,t,n){var i=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var r=0,o=t.length-1;r<t.length;o=r++){var s=t[r][0],a=t[r][1],l=t[o][0],c=t[o][1],u=e[1]*(s-l)+a*(l-e[0])+c*(e[0]-s)===0&&(s-e[0])*(l-e[0])<=0&&(a-e[1])*(c-e[1])<=0;if(u)return!n;var h=a>e[1]!==c>e[1]&&e[0]<(l-s)*(e[1]-a)/(c-a)+s;h&&(i=!i)}return i}function s(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}t.default=r},fc15:function(e,t){function n(e){var t=-1,n=e?e.length:0,i=0,r=[];while(++t<n){var o=e[t];o&&(r[i++]=o)}return r}e.exports=n},fc6a:function(e,t,n){var i=n("44ad"),r=n("1d80");e.exports=function(e){return i(r(e))}},fdbf:function(e,t,n){var i=n("04f8");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdda:function(e,t,n){(function(t){var n=1/0,i="[object Symbol]",r="\\ud800-\\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",s="\\u20d0-\\u20f0",a="\\ufe0e\\ufe0f",l="["+r+"]",c="["+o+s+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+u+")",d="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",g=h+"?",A="["+a+"]?",y="(?:"+m+"(?:"+[d,f,p].join("|")+")"+A+g+")*",v=A+g+y,b="(?:"+[d+c+"?",c,f,p,l].join("|")+")",_=RegExp(u+"(?="+u+")|"+b+v,"g"),w=RegExp("["+m+r+o+s+a+"]"),x="object"==typeof t&&t&&t.Object===Object&&t,S="object"==typeof self&&self&&self.Object===Object&&self,T=x||S||Function("return this")();function E(e){return e.split("")}function M(e){return w.test(e)}function C(e){return M(e)?O(e):E(e)}function O(e){return e.match(_)||[]}var k=Object.prototype,P=k.toString,I=T.Symbol,R=I?I.prototype:void 0,D=R?R.toString:void 0;function L(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;var o=Array(r);while(++i<r)o[i]=e[i+t];return o}function N(e){if("string"==typeof e)return e;if(U(e))return D?D.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}function B(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:L(e,t,n)}function F(e){return function(t){t=z(t);var n=M(t)?C(t):void 0,i=n?n[0]:t.charAt(0),r=n?B(n,1).join(""):t.slice(1);return i[e]()+r}}function j(e){return!!e&&"object"==typeof e}function U(e){return"symbol"==typeof e||j(e)&&P.call(e)==i}function z(e){return null==e?"":N(e)}var q=F("toLowerCase");e.exports=q}).call(this,n("c8ba"))},fe0d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("c485");function r(e,t,n){if(!(0,i.isMemberExpression)(e))return!1;const r=Array.isArray(t)?t:t.split("."),o=[];let s;for(s=e;(0,i.isMemberExpression)(s);s=s.object)o.push(s.property);if(o.push(s),o.length<r.length)return!1;if(!n&&o.length>r.length)return!1;for(let a=0,l=o.length-1;a<r.length;a++,l--){const e=o[l];let t;if((0,i.isIdentifier)(e))t=e.name;else if((0,i.isStringLiteral)(e))t=e.value;else{if(!(0,i.isThisExpression)(e))return!1;t="this"}if(r[a]!==t)return!1}return!0}},fff8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_ALIASES=void 0;const i={ModuleDeclaration:"ImportOrExportDeclaration"};t.DEPRECATED_ALIASES=i}}]);