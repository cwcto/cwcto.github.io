(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f778731"],{"0e89":function(e,t,o){"use strict";o("8197")},"188e":function(e,t,o){"use strict";var c=o("7a23");const a={class:"wallet-options"},n={style:{color:"#EAEAEA"}},i={class:"trigger-button"},l=["src"],s={key:0,class:"window light dropdown-block"},r=["onClick"];function d(e,t,d,m,p,b){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("div",{class:"window light trigger-block",onClick:t[0]||(t[0]=(...t)=>e.triggerDropdown&&e.triggerDropdown(...t))},[Object(c["createElementVNode"])("label",n,Object(c["toDisplayString"])(e.selectedIndex||0==e.selectedIndex?e.$store.getters.networkByTicker(e.options[e.selectedIndex]).networkName:e.$localizeFilter("specify_network")),1),Object(c["createElementVNode"])("button",i,[Object(c["createElementVNode"])("img",{style:{width:"10px",height:"6px"},src:o("3c15")},null,8,l)])]),e.isOpen?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.options,(t,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:o,class:Object(c["normalizeClass"])(e.selectedIndex==o?"selected":""),onClick:c=>e.selectOption(t,o)},Object(c["toDisplayString"])(e.$store.getters.networkByTicker(t).networkName),11,r))),128))])])):Object(c["createCommentVNode"])("",!0)])}var m=o("ed09"),p=Object(m["a"])({props:["options"],data:()=>({isOpen:!1,selectedIndex:null}),setup(){},methods:{triggerDropdown(){this.isOpen=!this.isOpen},selectOption(e,t){this.selectedIndex=t,this.$emit("selectOption",e),this.isOpen=!1}}}),b=(o("3475"),o("d959")),h=o.n(b);const u=h()(p,[["render",d],["__scopeId","data-v-778375ea"]]);t["a"]=u},3475:function(e,t,o){"use strict";o("f8c3")},"61de":function(e,t,o){"use strict";var c=o("7a23");const a={class:"empty-table"},n={class:"text"};function i(e,t,o,i,l,s){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("p",n,Object(c["toDisplayString"])(e.text),1)])}var l=o("ed09"),s=Object(l["a"])({props:["text"],setup(){}}),r=(o("ae25"),o("d959")),d=o.n(r);const m=d()(s,[["render",i],["__scopeId","data-v-2fc3f164"]]);t["a"]=m},"6ce9":function(e,t,o){"use strict";var c=o("7a23");const a={class:"table-options"},n={style:{color:"#EAEAEA"}},i={class:"trigger-button"},l=["src"],s={key:0,class:"window light dropdown-block"},r=["onClick"];function d(e,t,d,m,p,b){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("div",{class:"window light trigger-block",onClick:t[0]||(t[0]=(...t)=>e.triggerDropdown&&e.triggerDropdown(...t))},[Object(c["createElementVNode"])("label",n,Object(c["toDisplayString"])(e.name+" ("+e.$localizeFilter(e.prefix+e.options[e.selectedIndex])+")"),1),Object(c["createElementVNode"])("button",i,[Object(c["createElementVNode"])("img",{style:{width:"10px",height:"6px"},src:o("3c15")},null,8,l)])]),e.isOpen?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.options,(t,o)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:o,class:Object(c["normalizeClass"])(e.selectedIndex==o?"selected":""),onClick:t=>e.selectOption(o)},Object(c["toDisplayString"])(e.$localizeFilter(e.prefix+t)),11,r))),128))])])):Object(c["createCommentVNode"])("",!0)])}var m=o("ed09"),p=Object(m["a"])({props:["name","options","prefix"],data:()=>({isOpen:!1,selectedIndex:0}),setup(){},methods:{triggerDropdown(){this.isOpen=!this.isOpen},selectOption(e){this.selectedIndex=e,this.$emit("selectOption",e),this.isOpen=!1}}}),b=(o("0e89"),o("d959")),h=o.n(b);const u=h()(p,[["render",d],["__scopeId","data-v-3ca88670"]]);t["a"]=u},"6f14":function(e,t,o){},"6f19":function(e,t,o){},8197:function(e,t,o){},8589:function(e,t,o){"use strict";o("6f19")},a2f2:function(e,t,o){"use strict";o.r(t);var c=o("7a23");const a={class:"bonus-account"},n={class:"header-block"},i={class:"cabinet-header"},l={class:"cabinet-text"};function s(e,t,o,s,r,d){const m=Object(c["resolveComponent"])("BonusBalance"),p=Object(c["resolveComponent"])("BonusOperations"),b=Object(c["resolveComponent"])("Modal"),h=Object(c["resolveComponent"])("BonusWithdrawalConfirmationModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("p",i,Object(c["toDisplayString"])(e.$localizeFilter("bonus_account")+" "+e.coin),1),Object(c["createElementVNode"])("p",l,Object(c["toDisplayString"])(e.$localizeFilter("bonus_account_text")),1)]),Object(c["createVNode"])(m,{class:"balance",type:"balance",coin:e.coin,onFillBalance:e.fillBalance,onWithdrawFromBalance:e.withdrawFromBalance,onShowWithdrawalRequests:e.showWithdrawalRequests},null,8,["coin","onFillBalance","onWithdrawFromBalance","onShowWithdrawalRequests"]),Object(c["createVNode"])(p,{class:"operations",type:"bonusAccount",coin:e.coin,showOptions:!0},null,8,["coin"]),e.showModal?(Object(c["openBlock"])(),Object(c["createBlock"])(b,{key:0,type:"bonusAccount",coin:e.coin,actionType:e.actionType,step:e.actionStep,onUpdateModal:e.updateModal,onCloseModal:e.closeModal,onShowWithdrawalConfirmation:e.showWithdrawalConfirmation},null,8,["coin","actionType","step","onUpdateModal","onCloseModal","onShowWithdrawalConfirmation"])):Object(c["createCommentVNode"])("",!0),e.showWithdrawalConfirmationModal?(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:1,onCloseModal:e.closeConfirmationModal,withdrawId:e.withdrawId,commission:e.commission,coinTicker:e.coin},null,8,["onCloseModal","withdrawId","commission","coinTicker"])):Object(c["createCommentVNode"])("",!0)])}o("14d9");var r=o("ed09");const d={class:"balance"},m={class:"balance-block"},p={class:"balance-title"},b={class:"amount-block"},h={class:"balance-amount"},u={class:"balance-currency"},O={class:"buttons-block"};function j(e,t,o,a,n,i){var l;return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",d,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("label",p,Object(c["toDisplayString"])(e.$localizeFilter("balance")+":"),1),Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("label",h,Object(c["toDisplayString"])(null!==(l=e.balance)&&void 0!==l?l:"0"),1),Object(c["createElementVNode"])("label",u,Object(c["toDisplayString"])(e.coin),1)]),1==e.canBuy?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,class:"basic-button",onClick:t[0]||(t[0]=(...t)=>e.fillBalance&&e.fillBalance(...t))},Object(c["toDisplayString"])(e.$localizeFilter("buy_coin")+" "+e.coin),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("button",{class:"basic-button",onClick:t[1]||(t[1]=(...t)=>e.handleClick&&e.handleClick(...t))},Object(c["toDisplayString"])("balance"==e.type?e.$localizeFilter("withdrawal_applications"):e.$localizeFilter("fill_sigma")),1),"balance"==e.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",{key:0,class:"basic-button",onClick:t[2]||(t[2]=(...t)=>e.withdrawFromBalance&&e.withdrawFromBalance(...t))},Object(c["toDisplayString"])("balance"==e.type?e.$localizeFilter("withdrawal"):e.$localizeFilter("withdraw_from_sigma")),1)):Object(c["createCommentVNode"])("",!0)])])}var w=Object(r["a"])({props:{type:{type:String,default:"balance"},coin:{type:String,required:!0},canBuy:{type:Boolean,default:!1}},data:()=>({balance:0,walletBalance:0}),watch:{coin(e,t){this.$nextTick(()=>{this.loadData()})}},setup(){},methods:{fillBalance(){this.$emit("fillBalance")},withdrawFromBalance(){this.$emit("withdrawFromBalance")},showWithdrawalRequests(){"balance"==this.type&&this.$emit("showWithdrawalRequests")},handleClick(){"balance"==this.type?this.showWithdrawalRequests():this.fillBalance()},async loadData(){try{const e=await this.$store.dispatch("getBalance",{currencyCode:this.coin});this.balance=e.balance.toFixed(2),this.$emit("setBalance",this.balance)}catch(e){this.$error(e)}}},async mounted(){this.loadData()}}),k=(o("8589"),o("d959")),f=o.n(k);const g=f()(w,[["render",j],["__scopeId","data-v-644ae1e8"]]);var y=g;const B={class:"bonus-operations"},E={class:"title"};function v(e,t,o,a,n,i){const l=Object(c["resolveComponent"])("BonusOperationsTable"),s=Object(c["resolveComponent"])("EmptyTable"),r=Object(c["resolveComponent"])("pagination");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",B,[Object(c["createElementVNode"])("p",E,Object(c["toDisplayString"])(e.$localizeFilter("operations_on_account")),1),Object(c["createVNode"])(l,{showTable:e.operations.length>0,operations:e.operations,showOptions:!1,onChangeStatus:e.changeStatus},null,8,["showTable","operations","onChangeStatus"]),0==e.operations.length?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,text:e.$localizeFilter("no_operations")},null,8,["text"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(r,{modelValue:e.page,"onUpdate:modelValue":t[0]||(t[0]=t=>e.page=t),records:e.count,"per-page":e.pageSize,onPaginate:e.pageChangeHandler},null,8,["modelValue","records","per-page","onPaginate"])])}const N={class:"place-for-table"},$={class:"table-options-block"},C={key:0,class:"custom-table"},V={class:"custom-table-header"},S={class:"custom-table-row light header"},D={class:"custom-data-cell cell-1 header mobile"},F={class:"custom-data-cell cell-1 header desktop"},_={class:"custom-data-cell cell-2 header desktop"},T={class:"custom-data-cell cell-3 header"},x={class:"custom-table-body"},M={class:"custom-data-cell cell-1"},z={class:"cell-1-content mobile"},I={class:"percent-amount-block"},W={class:"operation-amount"},q={class:"operation-name"},A={class:"cell-1-content desktop"},R={class:"operation-name"},L={class:"custom-data-cell cell-2 desktop"},H={class:"operation-amount"},P={class:"custom-data-cell cell-3"};function U(e,t,o,a,n,i){const l=Object(c["resolveComponent"])("TableOptions");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",N,[Object(c["createElementVNode"])("div",$,[o.showOptions?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,class:"table-options",name:e.$localizeFilter("type"),options:e.types,prefix:"operations_",onSelectOption:i.selectOption},null,8,["name","options","onSelectOption"])):Object(c["createCommentVNode"])("",!0)]),o.showTable?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",C,[Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("div",D,Object(c["toDisplayString"])(e.$localizeFilter("operation_name_amount")),1),Object(c["createElementVNode"])("div",F,Object(c["toDisplayString"])(e.$localizeFilter("operation_name")),1),Object(c["createElementVNode"])("div",_,Object(c["toDisplayString"])(e.$localizeFilter("operation_amount")),1),Object(c["createElementVNode"])("div",T,Object(c["toDisplayString"])(e.$localizeFilter("operation_date")),1)])]),Object(c["createElementVNode"])("div",x,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.operations,(t,o)=>{var a,n;return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])(["custom-table-row",i.getClass(o)]),key:o},[Object(c["createElementVNode"])("div",M,[Object(c["createElementVNode"])("div",z,[Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("p",W,Object(c["toDisplayString"])(t.amount.toFixed(2)+" "+t.coin),1)]),Object(c["createElementVNode"])("p",q,Object(c["toDisplayString"])(null!==(a=t.name)&&void 0!==a?a:"-"),1)]),Object(c["createElementVNode"])("div",A,[Object(c["createElementVNode"])("p",R,Object(c["toDisplayString"])(null!==(n=t.name)&&void 0!==n?n:"-"),1)])]),Object(c["createElementVNode"])("div",L,[Object(c["createElementVNode"])("p",H,Object(c["toDisplayString"])(t.amount.toFixed(2)+" "+t.coin),1)]),Object(c["createElementVNode"])("div",P,[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.$dateTimeFilter(t.createdTimestamp,"datetime")),1)])],2)}),128))])])):Object(c["createCommentVNode"])("",!0)])}var J=o("6ce9"),G={props:["operations","showOptions","showTable"],components:{TableOptions:J["a"]},data:()=>({types:["all","replenish","dividend"],type:"all"}),methods:{selectOption(e){this.type=this.types[e],this.$emit("changeStatus",this.type)},getClass(e){return e%2==0?"dark":"light"}}};o("ffee");const K=f()(G,[["render",U],["__scopeId","data-v-f10f9fc6"]]);var Q=K,X=o("fba1"),Y=o("e977"),Z=o("61de"),ee=Object(r["a"])({props:["type","showOptions","coin"],components:{BonusOperationsTable:Q,EmptyTable:Z["a"]},mixins:[X["a"]],watch:{page(){this.$nextTick(()=>{this.loadData()})},coin(e,t){this.$nextTick(()=>{this.loadData()})}},setup(){},data:()=>({operations:[],count:0,status:"all"}),mounted(){this.loadData()},methods:{changeStatus(e){this.status=e,this.loadData()},async loadData(){try{const e={status:this.status,skip:this.skip,limit:this.limit,currencyCode:this.coin||"GDC"};this.operations=await this.$store.dispatch("getBalanceOperationsByFilter",e),this.operations.forEach(e=>{e.coin=this.coin});const{count:t}=await this.$store.dispatch("getBalanceOperationsByFilterCount",e);this.count=t,this.setupPagination(this.operations)}catch(e){this.$error(e)}}}});o("ff0e");const te=f()(ee,[["render",v],["__scopeId","data-v-798919e4"]]);var oe=te,ce=o("2930");const ae=e=>(Object(c["pushScopeId"])("data-v-1130ea97"),e=e(),Object(c["popScopeId"])(),e),ne={class:"modal-layout"},ie={class:"new-modal-back-button-container"},le={class:"modal-content"},se={class:"window-title"},re={class:"window-text",style:{"margin-bottom":"35px"}},de={class:"bold"},me={class:"window-text"},pe={class:"input-field"},be=["placeholder"],he={key:0,class:"end-timer-error"},ue={class:"time"},Oe={key:0,class:"modal-warning"},je=ae(()=>Object(c["createElementVNode"])("i",{class:"material-icons",style:{color:"#FF9400!important"}},"report",-1)),we={class:"window-text warning"};function ke(e,t,o,a,n,i){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ne,[Object(c["createElementVNode"])("div",{class:"darken",onClick:t[4]||(t[4]=(...t)=>e.closeModal&&e.closeModal(...t))},[Object(c["createElementVNode"])("div",{class:"new-modal bonus-withdrawal-modal",onClick:t[3]||(t[3]=Object(c["withModifiers"])(()=>{},["stop"]))},[Object(c["createElementVNode"])("div",ie,[Object(c["createElementVNode"])("button",{class:"new-modal-back-button",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))})]),Object(c["createElementVNode"])("div",le,[Object(c["createElementVNode"])("p",se,Object(c["toDisplayString"])(e.$localizeFilter("withdrawal_confirmation")),1),Object(c["createElementVNode"])("p",re,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$localizeFilter("withdrawal_confirmation_text"))+" ",1),Object(c["createElementVNode"])("span",de,Object(c["toDisplayString"])(e.email),1)]),Object(c["createElementVNode"])("p",me,Object(c["toDisplayString"])(e.$localizeFilter("wallet_confirmation_label")),1),Object(c["createElementVNode"])("div",pe,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"code",class:Object(c["normalizeClass"])(["custom-input",{invalid:e.v$.code.$error||e.showEndTimerError}]),placeholder:e.$localizeFilter("withdrawal_confirmation_input"),type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.code=t)},null,10,be),[[c["vModelText"],e.code,void 0,{trim:!0}]]),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.v$.code.$errors,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("small",{class:"error",key:t},Object(c["toDisplayString"])(e.$message),1))),128)),e.showEndTimerError?(Object(c["openBlock"])(),Object(c["createElementBlock"])("small",he,Object(c["toDisplayString"])(e.$localizeFilter("confirmation_code_time_ended")),1)):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",ue,Object(c["toDisplayString"])(e.$utils.formatTime(e.timeLeft,!1,!1)),1)]),e.commission>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Oe,[je,Object(c["createElementVNode"])("p",we,Object(c["toDisplayString"])(e.$localizeFilter("commission")+" "+e.commissionFee+" "+e.coinTicker),1)])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("button",{class:"basic-button",onClick:t[2]||(t[2]=(...t)=>e.submitHandler&&e.submitHandler(...t))},Object(c["toDisplayString"])(e.$localizeFilter("confirm")),1)])])])])}var fe=o("25a0"),ge=o("e3e1"),ye=(o("188e"),o("fa7d")),Be=Object(r["a"])({props:["withdrawId","commission","coinTicker"],validations(){return{code:{required:ge["b"].withMessage(Object(Y["a"])("field_must_not_be_empty"),ge["h"]),numeric:ge["b"].withMessage(Object(Y["a"])("field_must_be_numeric"),ge["h"])}}},setup(){return{v$:Object(fe["a"])()}},watch:{timeLeft(e,t){e<=0&&this.$nextTick(()=>{this.timerEnded()})}},data:()=>({showEndTimerError:!1,code:""}),methods:{runTimer(){const e=+new Date+3e5;this.$store.dispatch("runConfirmationCodeTimer",{timestamp:e}),document.addEventListener("visibilitychange",(function(){document.hidden?this.$store.dispatch("stopConfirmationCodeTimer"):this.$store.dispatch("runConfirmationCodeTimer",{timestamp:e})}))},stopTimer(){this.$store.dispatch("stopConfirmationCodeTimer")},timerEnded(){this.showEndTimerError=!0},closeModal(e){this.$emit("closeModal",e)},async submitHandler(){if(this.v$.$touch(),!this.v$.$error)try{const e={withdrawBalanceRequestId:this.withdrawId,confirmationCode:this.code};await this.$store.dispatch("confirmWithdrawBalanceRequest",e),this.$message(Object(Y["a"])("withdraw_successfull")),this.$emit("closeModal")}catch(e){this.$error(e)}},async selectNetwork(e){await this.$store.dispatch("setWithdrawFromWalletNetwork",{network:e})},getNetworkByTicker(e){return null===this.network?null:this.$store.getters.networkByTicker(e)}},computed:{email(){var e;return null===(e=this.$store.getters.profile)||void 0===e?void 0:e.email},timeLeft(){return this.$store.state.info.confirmationCodeTimeLeft},networksForCoin(){return this.$store.getters.networksForCoin(this.coinTicker)},network(){return this.$store.getters.withdrawFromWalletNetwork},commissionFee(){return console.log(this.$store.getters.assetDecimalsMap[this.coinTicker],this.commission),+ye["a"].displayBigIntAsDecimal(this.commission,this.$store.getters.assetDecimalsMap[this.coinTicker],this.$store.getters.assetDecimalsMap[this.coinTicker].toString().length-1)}},mounted(){this.runTimer()},unmounted(){this.stopTimer()}});o("e346");const Ee=f()(Be,[["render",ke],["__scopeId","data-v-1130ea97"]]);var ve=Ee,Ne=Object(r["a"])({props:{coin:{type:String,required:!0},withdraw:{type:Boolean,default:!1}},components:{BonusBalance:y,BonusOperations:oe,Modal:ce["a"],BonusWithdrawalConfirmationModal:ve},setup(){},data:()=>({showModal:!1,actionType:"withdrawal",actionStep:1,withdrawId:null,commission:0,showWithdrawalConfirmationModal:!1}),methods:{showWithdrawalConfirmation(e,t){this.closeModal(),this.withdrawId=e,this.commission=t||0,setTimeout(()=>{this.showWithdrawalConfirmationModal=!0})},closeModal(){this.showModal=!1,this.clearAll()},closeConfirmationModal(){this.showWithdrawalConfirmationModal=!1,this.closeModal()},clearAll(){var e,t,o;this.actionStep=1;const c=null===(e=this.$router)||void 0===e||null===(t=e.currentRoute)||void 0===t||null===(o=t.value)||void 0===o?void 0:o.fullPath;if(c){const e=c.replace("&withdraw=1","");this.$router.push(e)}},fillBalance(){},withdrawFromBalance(){this.showModal=!0},showWithdrawalRequests(){this.$router.push("/cabinet/withdrawalRequests?from=bonusAccount&coin="+this.coin)},updateModal(e){this.actionStep=e}},mounted(){this.withdraw&&this.$nextTick(()=>{this.showModal=!0})}});o("f80c");const $e=f()(Ne,[["render",s],["__scopeId","data-v-3a02b2f6"]]);t["default"]=$e},ae25:function(e,t,o){"use strict";o("afb8")},afb8:function(e,t,o){},c6a3:function(e,t,o){},d746:function(e,t,o){},e346:function(e,t,o){"use strict";o("6f14")},edbd:function(e,t,o){},f80c:function(e,t,o){"use strict";o("d746")},f8c3:function(e,t,o){},ff0e:function(e,t,o){"use strict";o("c6a3")},ffee:function(e,t,o){"use strict";o("edbd")}}]);
//# sourceMappingURL=chunk-5f778731.b1fccd85.js.map